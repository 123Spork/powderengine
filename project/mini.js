var b,ba={iZ:"building1.png",l4:"items1.png",Q8:"sprites1.png",q9:"tile_graphics.txt",r9:"tiles1.png"};var p=p||{},ca={};p.dR=function(a){var c=p.BB[ca.jH.fD];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ca={jH:{fD:"_0"}};p.BB={};p.BB[ca.jH.fD]=[];p.BB.oO=[];var io="undefined"===typeof module?{}:module.Wb;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,sm:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.zo(1<g.path.length?g.path:"")}})("object"===typeof module?module.Wb:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,t=g.length;h<t;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.Wb,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Ve||(this.Ve={});this.Ve[a]?d.util.isArray(this.Ve[a])?this.Ve[a].push(c):this.Ve[a]=[this.Ve[a],c]:this.Ve[a]=c;return this};e.prototype.BR=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.Jv=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Ve&&this.Ve[a]){var e=this.Ve[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].Jv&&e[l].Jv===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Ve[a]}else(e===c||e.Jv&&e.Jv===c)&&delete this.Ve[a]}return this};e.prototype.bo=function(a){if(!this.Ve)return!1;var c=this.Ve[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.Wb,"undefined"!=typeof io?io:module.parent.Wb);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,P,M=c[a];M instanceof Date&&(M=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(M=q.call(c,a,M));switch(typeof M){case "string":return f(M);
case "number":return isFinite(M)?String(M):"null";case "boolean":case "null":return String(M);case "object":if(!M)return"null";m+=n;P=[];if("[object Array]"===Object.prototype.toString.apply(M)){l=M.length;for(d=0;d<l;d+=1)P[d]=g(d,M)||"null";k=0===P.length?"[]":m?"[\n"+m+P.join(",\n"+m)+"\n"+r+"]":"["+P.join(",")+"]";m=r;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,M))&&P.push(f(h)+(m?": ":":")+k));else for(h in M)Object.prototype.hasOwnProperty.call(M,
h)&&(k=g(h,M))&&P.push(f(h)+(m?": ":":")+k);k=0===P.length?"{}":m?"{\n"+m+P.join(",\n"+m)+"\n"+r+"}":"{"+P.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.Wb,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.tv||"",m=a.Xn,x=null;switch(a.type){case "error":var B=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==B||""!==a)x=B+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(x=a.data);break;case "event":x=
{name:a.name};a.re&&a.re.length&&(x.re=a.re);x=k.stringify(x);break;case "json":x=k.stringify(a.data);break;case "connect":a.kH&&(x=a.kH);break;case "ack":x=a.Yn+(a.re&&a.re.length?"+"+k.stringify(a.re):"")}c=[c,d+("data"==m?"+":""),e];null!==x&&void 0!==x&&c.push(x);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],tv:c[4]||""};d&&(e.id=d,e.Xn=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.re=l.re}catch(x){}e.re=e.re||[];break;case "json":try{e.data=k.parse(a)}catch(B){}break;case "connect":e.kH=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.Yn=c[1],e.re=[],c[3])try{e.re=c[3]?k.parse(c[3]):
[]}catch(L){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.Wb,"undefined"!=typeof io?io:module.parent.Wb);(function(a,d){function e(a,c){this.cb=a;this.PS=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.uG=function(){return!0};e.prototype.Cr=function(a){this.uA();
(this.cb.xg||this.cb.Lf||this.cb.km)&&this.JH();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Dr(a[c])};e.prototype.Dr=function(a){this.cb.SH();if("heartbeat"==a.type)return this.nR();"connect"==a.type&&""==a.tv&&this.hB();"error"==a.type&&"reconnect"==a.advice&&(this.qr=!1);this.cb.Dr(a);return this};e.prototype.JH=function(){if(!this.$n){var a=this;this.$n=setTimeout(function(){a.em()},this.cb.$n)}};e.prototype.em=function(){this.qr&&this.close();this.vA();
this.cb.em();return this};e.prototype.hB=function(){this.cb.hB();return this};e.prototype.uA=function(){this.$n&&(clearTimeout(this.$n),this.$n=null)};e.prototype.vA=function(){this.uA();this.xS&&clearTimeout(this.xS)};e.prototype.nf=function(a){this.send(d.parser.encodePacket(a))};e.prototype.nR=function(){this.nf({type:"heartbeat"})};e.prototype.Mv=function(){this.qr=!0;this.uA();this.cb.Mv()};e.prototype.rh=function(){this.qr=!1;this.cb.rh();this.em()};e.prototype.Fr=function(){var a=this.cb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.Wv+"/"+d.protocol+"/"+this.name+"/"+this.PS};e.prototype.Qv=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.Wb,"undefined"!=typeof io?io:module.parent.Wb);(function(a,d,e){function f(a){this.options={port:80,sm:!1,document:"document"in e?document:!1,Wv:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.km=this.Lf=this.open=this.xg=!1;this.namespaces={};this.buffer=[];this.BA=!1;if(this.options["sync disconnect on unload"]&&(!this.ro()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.WO()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.zo=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].nf({type:"connect"}));return this.namespaces[a]};f.prototype.zk=function(){this.bo.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.zo(c),a.Fj.apply(a,arguments))};f.prototype.mQ=function(a){function c(d){d instanceof Error?(e.Lf=!1,e.fm(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.sm?"s":"")+":/",f.host+":"+f.port,f.Wv,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.ro()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var q=d.util.request();q.open("GET",f,!0);this.ro()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.fm(q.responseText):(e.Lf=!1,
!e.km&&e.fm(q.responseText)))};q.send(null)}};f.prototype.lG=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Sl(this)&&(!this.ro()||d.Transport[e].as(this)))return new d.Transport[e](this,this.BH);return null};f.prototype.connect=function(a){if(this.Lf)return this;var c=this;c.Lf=!0;this.mQ(function(e,f,g,r){function q(a){c.we&&c.we.vA();c.we=c.lG(a);c.we?c.we.Qv(c,function(){c.Lf=!0;c.zk("connecting",c.we.name);c.we.open();c.options["connect timeout"]&&
(c.HO=setTimeout(function(){if(!c.xg&&(c.Lf=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.we.name;);a.length?q(a):c.zk("connect_failed")}},c.options["connect timeout"]))}):c.zk("connect_failed")}c.BH=e;c.$n=1E3*g;c.qQ=1E3*f;c.transports||(c.transports=c.CR=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.SH();q(c.transports);c.BR(function(){clearTimeout(c.HO);a&&"function"==typeof a&&a()})});return this};f.prototype.SH=
function(){clearTimeout(this.tG);if(!this.we||this.we.uG()){var a=this;this.tG=setTimeout(function(){a.we.rh()},this.qQ)}};f.prototype.nf=function(a){this.xg&&!this.BA?this.we.nf(a):this.buffer.push(a);return this};f.prototype.xj=function(a){this.BA=a;!a&&this.xg&&this.buffer.length&&(this.options.manualFlush||this.mP())};f.prototype.mP=function(){this.we.cH(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.xg||this.Lf)this.open&&this.zo("").nf({type:"disconnect"}),this.em("booted");
return this};f.prototype.WO=function(){var a=d.util.request();a.open("GET",["http"+(this.options.sm?"s":"")+":/",this.options.host+":"+this.options.port,this.options.Wv,d.protocol,"",this.BH].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.em("booted")};f.prototype.ro=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.hB=function(){this.xg||(this.xg=!0,this.Lf=!1,this.BA||this.xj(!1),this.bo("connect"))};
f.prototype.Mv=function(){this.open=!0};f.prototype.rh=function(){this.open=!1;clearTimeout(this.tG)};f.prototype.Dr=function(a){this.zo(a.tv).Dr(a)};f.prototype.fm=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.xg||this.Lf)&&(this.disconnect(),this.options.Rv&&this.Rv());this.zk("error",a&&a.reason?a.reason:a)};f.prototype.em=function(a){var c=this.xg,d=this.Lf;this.open=this.Lf=this.xg=!1;if(c||d)this.we.close(),this.we.vA(),c&&(this.zk("disconnect",a),"booted"!=a&&this.options.Rv&&!this.km&&
this.Rv())};f.prototype.Rv=function(){function a(){if(d.xg){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].nf({type:"connect"});d.zk("reconnect",d.we.name,d.Sv)}clearTimeout(d.Tv);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.km=!1;delete d.Sv;delete d.lm;delete d.Tv;delete d.oH;d.options["try multiple transports"]=f}function c(){if(d.km){if(d.xg)return a();if(d.Lf&&d.km)return d.Tv=setTimeout(c,1E3);d.Sv++>=e?d.oH?(d.zk("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.CR,d.we=d.lG(),d.oH=!0,d.connect()):(d.lm<g&&(d.lm*=2),d.connect(),d.zk("reconnecting",d.lm,d.Sv),d.Tv=setTimeout(c,d.lm))}}this.km=!0;this.Sv=0;this.lm=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.Tv=setTimeout(c,this.lm);this.on("connect",c)}})("undefined"!=
typeof io?io:module.Wb,"undefined"!=typeof io?io:module.parent.Wb,this);(function(a,d){function e(a,c){this.cb=a;this.name=c||"";this.vv={};this.VQ=new f(this,"json");this.lF=0;this.Wq={}}function f(a,c){this.yo=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.Fj=d.EventEmitter.prototype.bo;e.prototype.zo=function(){return this.cb.zo.apply(this.cb,arguments)};e.prototype.nf=function(a){a.tv=this.name;this.cb.nf(a);this.vv={};return this};e.prototype.send=function(a,c){var d=
{type:this.vv.VQ?"json":"message",data:a};"function"==typeof c&&(d.id=++this.lF,d.Xn=!0,this.Wq[d.id]=c);return this.nf(d)};e.prototype.bo=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.lF,e.Xn="data",this.Wq[e.id]=d,c=c.slice(0,c.length-1));e.re=c;return this.nf(e)};e.prototype.disconnect=function(){""===this.name?this.cb.disconnect():(this.nf({type:"disconnect"}),this.Fj("disconnect"));return this};e.prototype.Dr=
function(a){function c(){e.nf({type:"ack",re:d.util.toArray(arguments),Yn:a.id})}var e=this;switch(a.type){case "connect":this.Fj("connect");break;case "disconnect":""===this.name?this.cb.em(a.reason||"booted"):this.Fj("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.Xn?f.push(c):a.Xn&&this.nf({type:"ack",Yn:a.id});this.Fj.apply(this,f);break;case "event":f=[a.name].concat(a.re);"data"==a.Xn&&f.push(c);this.Fj.apply(this,f);break;case "ack":this.Wq[a.Yn]&&
(this.Wq[a.Yn].apply(this,a.re),delete this.Wq[a.Yn]);break;case "error":a.advice?this.cb.fm(a):"unauthorized"==a.reason?this.Fj("connect_failed",a.reason):this.Fj("error",a.reason)}};f.prototype.send=function(){this.yo.vv[this.name]=!0;this.yo.send.apply(this.yo,arguments)};f.prototype.bo=function(){this.yo.vv[this.name]=!0;this.yo.bo.apply(this.yo,arguments)}})("undefined"!=typeof io?io:module.Wb,"undefined"!=typeof io?io:module.parent.Wb);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Zf=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.cb.options.query),c=this,f;f||(f=e.nW||e.GK);this.Zf=new f(this.Fr()+a);this.Zf.onopen=function(){c.Mv();c.cb.xj(!1)};this.Zf.onmessage=function(a){c.Cr(a.data)};this.Zf.onclose=function(){c.rh();c.cb.xj(!0)};this.Zf.onerror=function(a){c.fm(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Zf.send(a)},0);return this}:function(a){this.Zf.send(a);
return this};f.prototype.cH=function(a){for(var c=0,d=a.length;c<d;c++)this.nf(a[c]);return this};f.prototype.close=function(){this.Zf.close();return this};f.prototype.fm=function(a){this.cb.fm(a)};f.prototype.scheme=function(){return this.cb.options.sm?"wss":"ws"};f.Sl=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.as=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.Wb,"undefined"!=typeof io?io:module.parent.Wb,
this);(function(c,d){function e(){d.Transport.Zf.apply(this,arguments)}c.r_=e;d.util.inherit(e,d.Transport.Zf);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.ot(function(){d.Transport.Zf.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.ot(function(){d.Transport.Zf.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.mp.length=0;d.Transport.Zf.prototype.close.call(this);return this};
e.prototype.Qv=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.sm?"s":"")+":/",d.host+":"+d.port,d.Wv,"static/flashsocket","WebSocketMain"+(a.ro()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.cR("xmlsocket://"+d.host+":"+h),WebSocket.Jx(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Sl=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.xP().hR:!1};e.as=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.Wb,"undefined"!=typeof io?io:module.parent.Wb);if("undefined"!=typeof window)var a=function(){function c(){if(!fa){try{var a=A.getElementsByTagName("body")[0].appendChild(A.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}fa=!0;for(var a=na.length,d=0;d<a;d++)na[d]()}}function d(a){fa?
a():na[na.length]=a}function e(a){if(typeof U.addEventListener!=F)U.addEventListener("load",a,!1);else if(typeof A.addEventListener!=F)A.addEventListener("load",a,!1);else if(typeof U.attachEvent!=F)v(U,a);else if("function"==typeof U.onload){var c=U.onload;U.onload=function(){c();a()}}else U.onload=a}function f(){var a=A.getElementsByTagName("body")[0],c=A.createElement(P);c.setAttribute("type",M);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=F){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),w.Do=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=da.length;if(0<a)for(var c=0;c<a;c++){var d=da[c].id,e=da[c].sO,f={vm:!1,id:d};if(0<w.Do[0]){var g=t(d);if(g)if(!x(da[c].nU)||w.Ej&&312>w.Ej)if(da[c].QF&&k()){f={};f.data=da[c].QF;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.W8=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),q=g.length,r=0;r<q;r++)"movie"!=g[r].getAttribute("name").toLowerCase()&&(n[g[r].getAttribute("name")]=g[r].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else L(d,!0),e&&(f.vm=!0,f.pH=h(d),e(f))}else L(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=F&&(f.vm=!0,f.pH=d),e(f))}}function h(a){var c=null;(a=t(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=F?c=a:(a=a.getElementsByTagName(P)[0])&&
(c=a));return c}function k(){return!oa&&x("6.0.65")&&(w.Lg||w.QG)&&!(w.Ej&&312>w.Ej)}function l(a,c,d,e){oa=!0;va=e||null;Ea={vm:!1,id:d};var f=t(d);if(f){"OBJECT"==f.nodeName?(ma=n(f),pa=null):(ma=f,pa=d);a.id=ja;if(typeof a.width==F||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==F||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";A.title=A.title.slice(0,47)+" - Flash Player Installation";e=w.Cg&&w.Lg?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
U.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+A.title;c.$q=typeof c.$q!=F?c.$q+("\x26"+e):e;w.Cg&&w.Lg&&4!=f.readyState&&(e=A.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(w.Cg&&w.Lg&&4!=a.readyState){var c=A.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=A.createElement("div");if(w.Lg&&w.Cg)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(P)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=t(d);if(w.Ej&&312>w.Ej)return e;if(f)if(typeof a.id==
F&&(a.id=d),w.Cg&&w.Lg){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.M4=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";qa[qa.length]=a.id;e=t(a.id)}else{k=A.createElement(P);k.setAttribute("type",
M);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=A.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=t(a);c&&"OBJECT"==c.nodeName&&(w.Cg&&w.Lg?(c.style.display="none",function(){if(4==c.readyState){var d=t(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function t(a){var c=null;try{c=A.getElementById(a)}catch(d){}return c}function v(a,c){a.attachEvent("onload",c);ka[ka.length]=[a,"onload",c]}function x(a){var c=w.Do;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function B(a,
c,d,e){if(!w.Cg||!w.QG){var f=A.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(wa=aa=null),aa&&wa==d||(e=A.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),aa=f.appendChild(e),w.Cg&&w.Lg&&typeof A.styleSheets!=F&&0<A.styleSheets.length&&(aa=A.styleSheets[A.styleSheets.length-1]),wa=d),w.Cg&&w.Lg?aa&&typeof aa.addRule==P&&aa.addRule(a,c):aa&&typeof A.createTextNode!=F&&aa.appendChild(A.createTextNode(a+" {"+c+"}")))}}function L(a,c){if(Fa){var d=
c?"visible":"hidden";fa&&t(a)?t(a).style.visibility=d:B("#"+a,"visibility:"+d)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=F?encodeURIComponent(a):a}var F="undefined",P="object",M="application/x-shockwave-flash",ja="SWFObjectExprInst",U=window,A=document,ea=navigator,Ga=!1,na=[function(){Ga?f():g()}],da=[],qa=[],ka=[],ma,pa,va,Ea,fa=!1,oa=!1,aa,wa,Fa=!0,w=function(){var a=typeof A.getElementById!=F&&typeof A.getElementsByTagName!=F&&typeof A.createElement!=F,c=ea.userAgent.toLowerCase(),
d=ea.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ea.plugins!=F&&typeof ea.plugins["Shockwave Flash"]==P)!(h=ea.plugins["Shockwave Flash"].description)||typeof ea.mimeTypes!=F&&ea.mimeTypes[M]&&!ea.mimeTypes[M].enabledPlugin||(Ga=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof U[["Active"].concat("Object").join("X")]!=F)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Jk:a,Do:g,Ej:c,Cg:f,Lg:e,QG:d}}();(function(){w.Jk&&((typeof A.readyState!=F&&"complete"==A.readyState||typeof A.readyState==
F&&(A.getElementsByTagName("body")[0]||A.body))&&c(),fa||(typeof A.addEventListener!=F&&A.addEventListener("DOMContentLoaded",c,!1),w.Cg&&w.Lg&&(A.attachEvent("onreadystatechange",function(){"complete"==A.readyState&&(A.detachEvent("onreadystatechange",arguments.callee),c())}),U==top&&function(){if(!fa){try{A.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),w.Ej&&function(){fa||(/loaded|complete/.test(A.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){w.Cg&&w.Lg&&window.attachEvent("onunload",function(){for(var c=ka.length,d=0;d<c;d++)ka[d][0].detachEvent(ka[d][1],ka[d][2]);c=qa.length;for(d=0;d<c;d++)q(qa[d]);for(var e in w)w[e]=null;w=null;for(var f in a)a[f]=null;a=null})})();return{W5:function(a,c,d,e){if(w.Jk&&a&&c){var f={};f.id=a;f.nU=c;f.QF=d;f.sO=e;da[da.length]=f;L(a,!1)}else e&&e({vm:!1,id:a})},o1:function(a){if(w.Jk)return h(a)},gP:function(a,c,e,f,g,h,m,n,q,t){var v={vm:!1,id:c};w.Jk&&!(w.Ej&&312>w.Ej)&&a&&c&&e&&f&&g?(L(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===P)for(var w in q)d[w]=q[w];d.data=a;d.width=e;d.height=f;w={};if(n&&typeof n===P)for(var B in n)w[B]=n[B];if(m&&typeof m===P)for(var A in m)w.$q=typeof w.$q!=F?w.$q+("\x26"+A+"\x3d"+m[A]):A+"\x3d"+m[A];if(x(g))B=r(d,w,c),d.id==c&&L(c,!0),v.vm=!0,v.pH=B;else{if(h&&k()){d.data=h;l(d,w,c,t);return}L(c,!0)}t&&t(v)})):t&&t(v)},e9:function(){Fa=!1},ua:w,xP:function(){return{hR:w.Do[0],I4:w.Do[1],xB:w.Do[2]}},nQ:x,FZ:function(a,c,d){if(w.Jk)return r(a,
c,d)},N8:function(a,c,d,e){w.Jk&&k()&&l(a,c,d,e)},k6:function(a){w.Jk&&q(a)},EZ:function(a,c,d,e){w.Jk&&B(a,c,d,e)},GY:d,KY:e,T1:function(a){var c=A.location.search||A.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Y(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Y(c[d].substring(c[d].indexOf("\x3d")+1))}return""},b_:function(){if(oa){var a=t(ja);a&&ma&&(a.parentNode.replaceChild(ma,a),pa&&(L(pa,!0),w.Cg&&w.Lg&&(ma.style.display=
"block")),va&&va(Ea));oa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.GK){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.nQ("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.qt=WebSocket.NK++;WebSocket.yD[k.qt]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.Nm={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.ot(function(){WebSocket.Hh.create(k.qt,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.Hh.send(this.qt,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.pC&&
(this.readyState=WebSocket.pC,WebSocket.Hh.close(this.qt))},WebSocket.prototype.addEventListener=function(a,c){a in this.Nm||(this.Nm[a]=[]);this.Nm[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.Nm)for(var f=this.Nm[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.Nm[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.KK=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.wD(a.type);else if("close"==a.type)a=this.wD("close");else if("message"==a.type)a=this.IK(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.wD=function(a){if(document.createEvent&&window.MV){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.IK=function(a){if(document.createEvent&&
window.lW&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.pC=2,WebSocket.CLOSED=3,WebSocket.Hh=null,WebSocket.yD={},WebSocket.mp=[],WebSocket.NK=0,WebSocket.cR=function(a){WebSocket.ot(function(){WebSocket.Hh.D4(a)})},WebSocket.Jx=function(){if(!WebSocket.Hh&&(WebSocket.PK&&(window.FK=WebSocket.PK),window.FK)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.MK()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.gP(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{i3:!0,h9:!0,XY:"always"},null,function(a){a.vm||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.OX=function(){setTimeout(function(){WebSocket.Hh=
document.getElementById("webSocketFlash");WebSocket.Hh.K6(location.href);WebSocket.Hh.T6(!!window.zX);for(var a=0;a<WebSocket.mp.length;++a)WebSocket.mp[a]();WebSocket.mp=[]},0)},WebSocket.NX=function(){setTimeout(function(){try{for(var a=WebSocket.Hh.R5(),e=0;e<a.length;++e)WebSocket.yD[a[e].N9].KK(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.MX=function(a){c.log(decodeURIComponent(a))},WebSocket.LX=function(a){c.error(decodeURIComponent(a))},WebSocket.ot=function(a){WebSocket.Hh?a():WebSocket.mp.push(a)},
WebSocket.MK=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.AX||(window.addEventListener?window.addEventListener("load",function(){WebSocket.Jx()},!1):window.attachEvent("onload",function(){WebSocket.Jx()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.Fi=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.cb.xj(!1);this.Mv();this.get();this.JH();return this};f.prototype.cH=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.hH(a);return this};f.prototype.hH=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.K5=!1,200==this.status?f.cb.xj(!1):f.rh())}function d(){this.onload=
g;f.cb.xj(!1)}var f=this;this.cb.xj(!0);this.Hr=this.request("POST");e.XDomainRequest&&this.Hr instanceof XDomainRequest?this.Hr.onload=this.Hr.onerror=d:this.Hr.onreadystatechange=c;this.Hr.send(a)};f.prototype.close=function(){this.rh();return this};f.prototype.request=function(a){var c=d.util.request(this.cb.ro()),e=d.util.query(this.cb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Fr()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.cb.options.sm?"https":"http"};f.Sl=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.sm?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(q){}return!1};f.as=function(a){return f.Sl(a,!0)}})("undefined"!=typeof io?io.Transport:module.Wb,"undefined"!=typeof io?io:module.parent.Wb,this);(function(a,d){function e(a){d.Transport.Fi.apply(this,
arguments)}a.k3=e;d.util.inherit(e,d.Transport.Fi);e.prototype.name="htmlfile";e.prototype.get=function(){this.uk=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.uk.open();this.uk.write("\x3chtml\x3e\x3c/html\x3e");this.uk.close();this.uk.parentWindow.wh=this;var a=this.uk.createElement("div");a.className="socketio";this.uk.body.appendChild(a);this.Pf=this.uk.createElement("iframe");a.appendChild(this.Pf);var c=this,a=d.util.query(this.cb.options.query,"t\x3d"+ +new Date);this.Pf.src=
this.Fr()+a;d.util.on(window,"unload",function(){c.fd()})};e.prototype.tD=function(a,c){a=a.replace(/\\\//g,"/");this.Cr(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.fd=function(){if(this.Pf){try{this.Pf.src="about:blank"}catch(a){}this.uk=null;this.Pf.parentNode.removeChild(this.Pf);this.Pf=null;CollectGarbage()}};e.prototype.close=function(){this.fd();return d.Transport.Fi.prototype.close.call(this)};e.Sl=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.Fi.Sl(a)}catch(c){}return!1};e.as=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.Wb,"undefined"!=typeof io?io:module.parent.Wb);(function(a,d,e){function f(){d.Transport.Fi.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.Fi);d.util.merge(f,d.Transport.Fi);f.prototype.name="xhr-polling";
f.prototype.uG=function(){return!1};f.prototype.open=function(){d.Transport.Fi.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Cr(this.responseText),f.get()):f.rh())}function c(){this.onerror=this.onload=g;f.CB=1;f.Cr(this.responseText);f.get()}function d(){f.CB++;!f.CB||3<f.CB?f.rh():f.get()}if(this.qr){var f=this;this.Ah=this.request();e.XDomainRequest&&this.Ah instanceof XDomainRequest?(this.Ah.onload=
c,this.Ah.onerror=d):this.Ah.onreadystatechange=a;this.Ah.send(null)}};f.prototype.rh=function(){d.Transport.Fi.prototype.rh.call(this);if(this.Ah){this.Ah.onreadystatechange=this.Ah.onload=this.Ah.onerror=g;try{this.Ah.abort()}catch(a){}this.Ah=null}};f.prototype.Qv=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.Wb,"undefined"!=typeof io?io:module.parent.Wb,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.tD(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.hH=function(a){function c(){e();f.cb.xj(!1)}function e(){f.Pf&&f.form.removeChild(f.Pf);try{v=document.createElement('\x3ciframe name\x3d"'+f.UA+'"\x3e')}catch(a){v=document.createElement("iframe"),v.name=f.UA}v.id=f.UA;f.form.appendChild(v);f.Pf=
v}var f=this,g=d.util.query(this.cb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),q=document.createElement("textarea"),t=this.UA="socketio_iframe_"+this.index,v;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=t;r.method="POST";r.setAttribute("accept-charset","utf-8");q.name="d";r.appendChild(q);document.body.appendChild(r);this.form=r;this.lO=q}this.form.action=this.Fr()+
g;e();this.lO.value=d.JSON.stringify(a);try{this.form.submit()}catch(x){}this.Pf.attachEvent?v.onreadystatechange=function(){"complete"==f.Pf.readyState&&c()}:this.Pf.onload=c;this.cb.xj(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.cb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.zb&&(this.zb.parentNode.removeChild(this.zb),this.zb=null);c.async=!0;c.src=this.Fr()+e;c.onerror=function(){a.rh()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.zb=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.tD=function(a){this.Cr(a);this.qr&&this.get();return this};f.prototype.Qv=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Sl=function(){return"document"in e};f.as=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.Wb,"undefined"!=
typeof io?io:module.parent.Wb,this);"function"===typeof define&&define.YY&&define([],function(){return io})})();p=p||{};function s(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}s.id=0|998*Math.random();s.LQ=0|998*Math.random();
s.yF=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.dJ(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};s.yF.dJ=s;s.IP=function(){return this.id++};s.JP=function(){return this.LQ++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");p.oa=function(){};p.oa.extend=function(d){function e(){this.Gb=s.JP();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=s.IP();s[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=s.yF(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Gb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.m3=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();p.o3=function(a,c){function d(){}d.prototype=c.prototype;a.uw=c.prototype;a.prototype=new d;a.prototype.constructor=a};
p.oO=function(a,c,d){var e=arguments.callee.caller;if(e.uw)return ret=e.uw.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.uw&&h.uw.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
p.AZ=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};p.bg=function(a,c){this.x=a||0;this.y=c||0};p.uD=function(a,c){this.m=a||0;this.n=c||0;this.oI=function(a){this.m=a};this.pI=function(a){this.n=a}};p.Pc=function(){return new p.uD(0,0)};
Object.defineProperties(p.uD.prototype,{x:{get:function(){return this.m},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.n},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});p.DW=function(a,c){p.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new p.bg(a,c)};
p.a=function(a,c){return{x:a,y:c}};p.nY=p.a;p.Bi=function(){return p.a(0,0)};p.eH=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};p.Mj=function(a,c){this.width=a||0;this.height=c||0};p.vD=function(a,c){this.sa=a||0;this.ba=c||0;this.WB=function(a){this.sa=a};this.JB=function(a){this.ba=a}};p.xl=function(){return new p.vD(0,0)};
Object.defineProperties(p.vD.prototype,{width:{get:function(){return this.sa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ba},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});p.hX=function(a,c){p.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return p.size(a,c)};
p.size=function(a,c){return{width:a,height:c}};p.La=p.size;p.Tk=function(){return p.size(0,0)};p.kF={NR:p.Pc(),fU:p.xl()};Object.defineProperties(p,{bK:{get:function(){return p.kF.NR}},lK:{get:function(){return p.kF.fU}},IW:{get:function(){return p.rect(0,0,0,0)}}});p.eU=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
p.vf=function(a,c,d,e){var f=arguments.length;if(4===f)this.Cc=new p.bg(a||0,c||0),this.La=new p.Mj(d||0,e||0);else if(1===f)this.Cc=new p.bg(a.Cc.x,a.Cc.y),this.La=new p.Mj(a.La.width,a.La.height);else if(0===f)this.Cc=new p.bg(0,0),this.La=new p.Mj(0,0);else if(2===f)this.Cc=new p.bg(a.x,a.y),this.La=new p.Mj(c.width,c.height);else throw"unknown argument type";};p.PW=function(a,c,d,e){p.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return p.rect(a,c,d,e)};
p.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new p.vf(0,0,0,0);if(1===f)return new p.vf(a.x,a.y,a.width,a.height);if(2===f)return new p.vf(a.x,a.y,c.width,c.height);if(4===f)return new p.vf(a,c,d,e);throw"unknown argument type";};p.ia=p.rect;p.zc=function(){return p.rect(0,0,0,0)};p.nH=function(a,c){return a&&c?p.eH(a.Cc,c.Cc)&&p.eU(a.La,c.La):!1};p.pq=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
p.S5=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};p.mm=function(a){return a.x+a.width};p.T5=function(a){return a.x+a.width/2};p.Ak=function(a){return a.x};p.nm=function(a){return a.y+a.height};p.U5=function(a){return a.y+a.height/2};p.Bk=function(a){return a.y};p.I=function(a,c){return c.x>=p.Ak(a)&&c.x<=p.mm(a)&&c.y>=p.Bk(a)&&c.y<=p.nm(a)};p.cS=function(a,c){return!(p.mm(a)<p.Ak(c)||p.mm(c)<p.Ak(a)||p.nm(a)<p.Bk(c)||p.nm(c)<p.Bk(a))};
p.V5=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};p.Uv=function(a,c){var d=p.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};p.bS=function(a,c){var d=p.rect(Math.max(p.Ak(a),p.Ak(c)),Math.max(p.Bk(a),p.Bk(c)),0,0);d.width=Math.min(p.mm(a),p.mm(c))-p.Ak(d);d.height=Math.min(p.nm(a),p.nm(c))-p.Bk(d);return d};b=p.vf.prototype;
b.oI=function(a){this.Cc.x=a};b.pI=function(a){this.Cc.y=a};b.ir=function(){return this.La.width};b.WB=function(a){this.La.width=a};b.fr=function(){return this.La.height};b.JB=function(a){this.La.height=a};
Object.defineProperties(p.vf.prototype,{x:{get:function(){return this.Cc.x},set:function(a){this.oI(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Cc.y},set:function(a){this.pI(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.ir()},set:function(a){this.WB(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.fr()},set:function(a){this.JB(a)},enumerable:!0,configurable:!0}});var u=u||{};try{u.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ga){"SECURITY_ERR"!==ga.name&&"QuotaExceededError"!==ga.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),u.localStorage=function(){}}
Object.defineProperties(u,{pZ:{get:function(){var a={canvas:!0};p.ra.jc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},g5:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return p.is},enumerable:!0,configurable:!0}});u.w_=function(){};
u.WZ=function(){};u.v6=function(){};p.is="Cocos2d-html5-v2.2.2";p.Cs=0;p.DC=p.a(0,0);p.iJ=0.5;p.hV=1;p.mK=1;p.ZJ=0;p.lD=0;p.jX=0;p.kX=0;p.LW=1;p.KW="-hd";p.BK=1;p.Lj=0;p.eX=0;p.eW=0;p.dW=0;p.$w=1;p.rV=p.is+"-canvas";p.iv={platform:u.platform};p.VZ=function(){for(var a in u)p.log(a+" \x3d "+u[a])};p.hs=1;p.FC=1;p.zF=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};p.ra={};p.ra.EU=["baidubrowser","opera","firefox","chrome","safari"];
(function(){p.ra.ua=navigator.userAgent.toLowerCase();p.ra.platform=navigator.platform.toLowerCase();p.ra.rj=-1!=p.ra.ua.indexOf("mobile")||-1!=p.ra.ua.indexOf("android");p.ra.type=function(){var a=p.ra.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||p.ra.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();p.ra.mode="ie"==p.ra.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});p.cA=parseInt(document.ccConfig.renderMode)||0;var a=-1==p.ra.EU.indexOf(p.ra.type);1===p.cA||0===p.cA&&(p.ra.rj||a)?p.ra.jc=!1:(p.ra.jc=null!=window.DX,a=document.createElement("Canvas"),a=p.zF(a,{stencil:!0,preserveDrawingBuffer:!0}),p.ra.jc=null!=a);2!==p.cA||p.ra.jc||(p.Kx=!0);var a=p.ra,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.X8=c;p.ra.d5=function(a){if(this.rj){var c=p.N.d().ub,d=c.width+"px",c=c.height+"px",h=p.Gj("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.HU=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=p.Gj("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.HU=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();p.QW=function(){return"undefined"===p.Kx?!1:p.Kx};
p.rb=function(a){var c=this==p?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||p.rb,a.PA=a.PA||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.oF=a.oF||function(a){this.PA(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.pS=a.pS||function(a){this.PA(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Ql=a.Ql||
function(a){a.appendChild(this);return this},a.WR=a.WR||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.xm=a.xm||function(){this.style[p.rb.rU]=p.rb.translate(this.position)+p.rb.rotate(this.rotation)+p.rb.scale(this.scale)+p.rb.Gk(this.Gk);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Gk=a.Gk||{x:0,y:0},a.bC=function(a,c){this.position.x=a;this.position.y=c;this.xm()},a.rotate=function(a){this.rotation=
a;this.xm();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.xm();return this},a.dI=function(a,c){this.Gk.x=a;this.Gk.y=c;this.xm()};return a};switch(p.ra.type){case "firefox":p.rb.Co="Moz";p.rb.no=!0;break;case "chrome":case "safari":p.rb.Co="webkit";p.rb.no=!0;break;case "opera":p.rb.Co="O";p.rb.no=!1;break;case "ie":p.rb.Co="ms";p.rb.no=!1;break;default:p.rb.Co="webkit",p.rb.no=!0}p.rb.rU=p.rb.Co+"Transform";
p.rb.translate=p.rb.no?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};p.rb.rotate=p.rb.no?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};p.rb.scale=function(a){return"scale("+a.x+", "+a.y+") "};p.rb.Gk=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};p.Gj=function(a){return p.rb(document.createElement(a))};
p.rb.p_=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};p.w=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof p.H||e instanceof HTMLElement?e:p.w(e)}return c};p.cZ=function(){};p.IC=p.IC||!1;
p.lM=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");p.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",p.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=p.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=p.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};p.log=function(a){p.IC?p.lM(a):console.log.apply(console,arguments)};p.kW=function(a){console.log(a)};p.ds=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};p.xQ=function(){0==p.fs?(p.log=function(){},p.OG=function(){},p.NG=function(){},p.ds=function(){}):1==p.fs?(p.OG=p.log,p.NG=function(){}):1<p.fs&&(p.OG=p.log,p.NG=p.log)};p.GJ=0;p.FJ=1;p.HJ=2;p.KJ=3;p.IJ=4;p.RJ=5;p.QJ=6;p.MJ=7;p.LJ=8;p.JJ=9;
p.PJ=10;p.EJ=11;p.NJ=12;p.OJ=13;
p.CJ={eZ:8,j9:9,jP:13,shift:16,IZ:17,alt:18,pause:19,qZ:20,escape:27,D5:33,C5:34,end:35,home:36,left:37,A9:38,right:39,QZ:40,t3:45,yV:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,B:65,g:66,ma:67,xa:68,XZ:69,uv:70,k:71,Rd:72,l3:73,j:74,m4:75,v4:76,G4:77,SG:78,Z4:79,a:80,Q5:81,l:82,wh:83,i9:84,Aa:85,X:86,QI:87,x:88,y:89,z:90,N4:96,O4:97,P4:98,Q4:99,R4:100,S4:101,T4:102,U4:103,V4:104,W4:105,"*":106,"+":107,"-":109,numdel:110,"/":111,c_:112,g_:113,h_:114,i_:115,j_:116,k_:117,l_:118,m_:119,n_:120,
d_:121,e_:122,f_:123,Y4:144,y6:145,z6:186,",":186,ZZ:187,"\x3d":187,";":188,zZ:188,KZ:189,".":190,H5:190,u_:191,f3:192,"[":219,e5:219,"]":221,yZ:221,dZ:220,quote:222,P8:32};p.Eh=-1;p.PI=Math.PI;p.tJ=parseFloat("3.402823466e+38F");p.iK=p.PI/180;p.hJ=180/p.PI;p.AK=4294967295;p.fX=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else p.log("cc.SWAP is being modified from original macro, please check usage")};p.x4=function(a,c,d){return a+(c-a)*d};p.HW=function(){return 2*(Math.random()-0.5)};p.GW=function(){return Math.random()};p.zi=function(a){return a*p.iK};p.lx=function(a){return a*p.hJ};
p.Sk=Number.MAX_VALUE-1;p.Zd=p.ZJ?1:770;p.Yd=771;p.fx=function(a){a.fc&&(a.fc.ye(),a.fc.Xf())};p.KV=function(){};p.xV=function(){};p.Ng=function(){p.kh+=1};p.Ds=1.192092896E-7;p.Yc=p.$w?function(){return p.N.d().cl}:function(){return 1};p.aK=function(a){var c=p.Yc();return p.a(a.x*c,a.y*c)};p.HX=function(a,c){var d=p.Yc();c.m=a.x*d;c.n=a.y*d};p.qx=function(a){var c=p.Yc();return p.size(a.width*c,a.height*c)};p.cX=function(a){var c=p.Yc();return p.size(a.width/c,a.height/c)};
p.Hx=function(a,c){var d=p.Yc();c.sa=a.width/d;c.ba=a.height/d};p.AW=function(a){var c=p.Yc();return p.a(a.x/c,a.y/c)};p.nt=function(a,c){var d=p.Yc();c.m=a.x/d;c.n=a.y/d};p.Zo=p.$w?function(a){var c=p.Yc();return p.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};p.Gm=p.$w?function(a){var c=p.Yc();return p.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};p.oC=function(){if(p.s6==p.Nj){var a=p.M.getError();a&&p.log("WebGL error "+a)}};p.VW=0;p.UW=1;p.SW=2;p.TW=3;p.WW=4;p.XW=5;p.RW=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ha=document.createElement("script");ha.type="text/vbscript";ha.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ha);
p.ND=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
p.Zc=p.oa.extend({Mi:null,pk:null,BL:null,Ay:null,Fn:null,Zg:null,Bp:"",ctor:function(){this.Mi={};this.pk={};this.Zg=[];this.Zg.push(this.Bp);this.Fn=[];this.Fn.push("")},N5:function(){this.Zg=[]},O_:function(a){a=this.Ld(a);return this.Mi.hasOwnProperty(a)?this.Mi[a]:this.iM(a)},Ut:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},sU:function(a){this.Mi.hasOwnProperty(a)&&delete this.Mi[a]},TR:function(a){a=this.Ld(a);var c=this,d=this.Ut();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=p.ND(d.responseBody);e&&(c.Mi[a]=c.Hu(e))}else p.Bb.d().gm(a);p.Bb.d().th()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Mi[a]=c.Hu(e):p.Bb.d().gm(a);p.Bb.d().th()});d.send(null)},iM:function(a){var c=this.Ut();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=p.ND(c.responseBody))d=this.Hu(c),this.Mi[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Hu(c.responseText);this.Mi[a]=d}return d},Hu:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},uU:function(a){a=this.Ld(a);this.pk.hasOwnProperty(a)&&delete this.pk[a]},VR:function(a){a=this.Ld(a);var c=this,d=this.Ut();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.pk[a]=e)}else p.Bb.d().gm(a);p.Bb.d().th()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.pk[a]=d.responseText:p.Bb.d().gm(a);p.Bb.d().th()});d.send(null)},kM:function(a){var c=this.Ut();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.pk[a]=d);return d},gG:function(a){a=this.Ld(a);return this.pk.hasOwnProperty(a)?this.pk[a]:
this.kM(a)},t0:function(){},p6:function(){},fH:!0,v_:function(a){return a},Ld:function(a){var c=!1;a=this.ML(a);for(var d,e=0;e<this.Zg.length;e++){for(var f=this.Zg[e],g=0;g<this.Fn.length;g++)if(d=this.NL(a,this.Fn[g],f)){c=!0;break}if(c)break}return c?d:a},B4:function(a){var c=this.Ld(a);if(0<c.length){var c=p.Kj.d().parse(c),d=parseInt(c.metadata.version);1!=d?p.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.kT(c.filenames)}},kT:function(a){this.Ay=
a},ZF:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},k8:function(a){this.Fn=a},g2:function(){return this.Fn},j8:function(a){this.Zg=a},e2:function(){return this.Zg},X1:function(){return this.BL},e8:function(){},MZ:function(a){p.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.MO(a)},MO:function(a){return p.Kj.d().parse(a)},v2:function(a){return this.gG(a)},lv:function(a){return p.Kj.d().parse(a)},
Z2:function(){return""},U7:function(a){p.fH=a},W3:function(){return p.fH},wz:"",Y1:function(){return this.wz},f8:function(a){this.wz=a},ML:function(a){var c=null;(c=this.Ay?this.Ay[a]:null)&&0!==c.length?p.log("FOUND NEW FILE NAME: "+c):c=a;return c},NL:function(a,c,d){var e;e=this.wz;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&
a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},aY:function(){},cI:function(a){var c=!1;this.Zg=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.FG(e)||(f=this.Bp);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Bp||(c=!0);this.Zg.push(e)}c||this.Zg.push(this.Bp)},NY:function(a){var c;this.FG(a)||(c=this.Bp);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Zg.push(a)},f2:function(){},FG:function(a){return"/"==a[0]}});
p.DB=null;p.Zc.d=function(){null==p.DB&&(p.DB=new p.Zc);return p.DB};p.Zb=function(a,c,d){switch(arguments.length){case 0:this.g=this.k=this.l=0;break;case 1:a&&a instanceof p.Zb?(this.l=0|a.l||0,this.k=0|a.k||0,this.g=0|a.g||0):this.g=this.k=this.l=0;break;case 3:this.l=0|a||0;this.k=0|c||0;this.g=0|d||0;break;default:throw"unknown argument type";}};p.q=function(a,c,d){return new p.Zb(a,c,d)};p.x3=function(a){a=a||0;var c=new p.Zb;c.l=a&255;c.k=a>>8&255;c.g=a>>16&255;return c};p.gv=p.q;p.jZ=function(a,c){return a.l===c.l&&a.k===c.k&&a.g===c.g};
Object.defineProperties(p,{BX:{get:function(){return p.q(255,255,255)}},EX:{get:function(){return p.q(255,255,0)}},eV:{get:function(){return p.q(0,0,255)}},TV:{get:function(){return p.q(0,255,0)}},JW:{get:function(){return p.q(255,0,0)}},hW:{get:function(){return p.q(255,0,255)}},cV:{get:function(){return p.q(0,0,0)}},rW:{get:function(){return p.q(255,127,0)}},SV:{get:function(){return p.q(166,166,166)}}});p.eb=function(){return new p.Zb(255,255,255)};p.R9=function(){return new p.Zb(255,255,0)};
p.blue=function(){return new p.Zb(0,0,255)};p.green=function(){return new p.Zb(0,255,0)};p.red=function(){return new p.Zb(255,0,0)};p.H4=function(){return new p.Zb(255,0,255)};p.fZ=function(){return new p.Zb(0,0,0)};p.f5=function(){return new p.Zb(255,127,0)};p.mo=function(){return new p.Zb(166,166,166)};p.sb=function(a,c,d,e){this.l=0|a;this.k=0|c;this.g=0|d;this.B=0|e};p.i=function(a,c,d,e){return new p.sb(a,c,d,e)};p.sA=p.i;p.od=function(a,c,d,e){this.l=a;this.k=c;this.g=d;this.B=e};
p.hv=function(a,c,d,e){return new p.od(a,c,d,e)};p.mZ=function(a){return new p.od(a.l/255,a.k/255,a.g/255,1)};p.nZ=function(a){return new p.od(a.l/255,a.k/255,a.g/255,a.B/255)};p.kZ=function(a){return new p.sb(0|255*a.l,0|255*a.k,0|255*a.g,0|255*a.B)};p.lZ=function(a,c){return a.l==c.l&&a.k==c.k&&a.g==c.g&&a.B==c.B};p.hb=function(a,c){this.x=a||0;this.y=c||0};p.mt=function(a,c){return new p.hb(a,c)};p.qc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
p.K9=function(a,c,d){return new p.qc(a,c,d)};p.Yb=function(a,c){this.Aa=a||0;this.X=c||0};p.p9=function(a,c){return new p.Yb(a,c)};p.EW=function(a,c,d){a||new p.hb(0,0);this.color=c||new p.sb(0,0,0,0);this.size=d||0};p.Ps=function(a,c,d,e){this.Da=a||new p.hb(0,0);this.za=c||new p.hb(0,0);this.wa=d||new p.hb(0,0);this.Fa=e||new p.hb(0,0)};p.FW=function(a,c,d,e){this.wa=a||new p.qc(0,0,0);this.Fa=c||new p.qc(0,0,0);this.Da=d||new p.qc(0,0,0);this.za=e||new p.qc(0,0,0)};
p.wJ=function(a,c){this.x=a;this.y=c};p.k=function(a,c){return new p.wJ(a,c)};p.wb=function(a,c,d){this.o=a||new p.hb(0,0);this.C=c||new p.sb(0,0,0,0);this.r=d||new p.Yb(0,0)};p.jt=function(){this.o=new p.hb(0,0);this.C=new p.od(0,0,0,0);this.r=new p.Yb(0,0)};p.Ub=function(a,c,d){this.o=a||new p.qc(0,0,0);this.C=c||new p.sb(0,0,0,0);this.r=d||new p.Yb(0,0)};p.ac=function(a,c,d){this.B=a||new p.wb;this.g=c||new p.wb;this.ma=d||new p.wb};
p.CK=function(){var a=new p.wb(new p.hb(0,0),new p.sb(0,0,0,255),new p.Yb(0,0)),c=new p.wb(new p.hb(0,0),new p.sb(0,0,0,255),new p.Yb(0,0)),d=new p.wb(new p.hb(0,0),new p.sb(0,0,0,255),new p.Yb(0,0)),e=new p.wb(new p.hb(0,0),new p.sb(0,0,0,255),new p.Yb(0,0));this.wa=a||new p.wb;this.Fa=c||new p.wb;this.Da=d||new p.wb;this.za=e||new p.wb};p.wX=function(){return new p.CK};p.Fb=function(a,c,d,e){this.Da=a||new p.Ub;this.wa=c||new p.Ub;this.za=d||new p.Ub;this.Fa=e||new p.Ub};
p.Fx=function(){return new p.Fb(new p.Ub(new p.qc(0,0,0),new p.sb(0,0,0,255),new p.Yb(0,0)),new p.Ub(new p.qc(0,0,0),new p.sb(0,0,0,255),new p.Yb(0,0)),new p.Ub(new p.qc(0,0,0),new p.sb(0,0,0,255),new p.Yb(0,0)),new p.Ub(new p.qc(0,0,0),new p.sb(0,0,0,255),new p.Yb(0,0)))};
p.Ex=function(a){return a?new p.Fb(new p.Ub(new p.qc(a.Da.o.x,a.Da.o.y,a.Da.o.z),new p.sb(a.Da.C.l,a.Da.C.k,a.Da.C.g,a.Da.C.B),new p.Yb(a.Da.r.Aa,a.Da.r.X)),new p.Ub(new p.qc(a.wa.o.x,a.wa.o.y,a.wa.o.z),new p.sb(a.wa.C.l,a.wa.C.k,a.wa.C.g,a.wa.C.B),new p.Yb(a.wa.r.Aa,a.wa.r.X)),new p.Ub(new p.qc(a.za.o.x,a.za.o.y,a.za.o.z),new p.sb(a.za.C.l,a.za.C.k,a.za.C.g,a.za.C.B),new p.Yb(a.za.r.Aa,a.za.r.X)),new p.Ub(new p.qc(a.Fa.o.x,a.Fa.o.y,a.Fa.o.z),new p.sb(a.Fa.C.l,a.Fa.C.k,a.Fa.C.g,a.Fa.C.B),new p.Yb(a.Fa.r.Aa,
a.Fa.r.X))):p.Fx()};p.yX=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(p.Ex(a[d]));return c};p.xX=function(a,c,d,e){this.wa=a||new p.jt;this.Fa=c||new p.jt;this.Da=d||new p.jt;this.za=e||new p.jt};p.Ok=function(a,c){this.src=a;this.mb=c};p.fV=function(){return new p.Ok(1,0)};p.tk=function(a){var c=a.l.toString(16),d=a.k.toString(16),e=a.g.toString(16);return"#"+(16>a.l?"0"+c:c)+(16>a.k?"0"+d:d)+(16>a.g?"0"+e:e)};
p.ra.jc&&(p.sb=function(a,c,d,e,f,g){this.tb=f||new ArrayBuffer(p.sb.BYTES_PER_ELEMENT);this.ob=g||0;f=this.tb;g=this.ob;var h=Uint8Array.BYTES_PER_ELEMENT;this.nz=new Uint8Array(f,g,1);this.Hy=new Uint8Array(f,g+h,1);this.Ux=new Uint8Array(f,g+2*h,1);this.Mx=new Uint8Array(f,g+3*h,1);this.nz[0]=a||0;this.Hy[0]=c||0;this.Ux[0]=d||0;this.Mx[0]=e||0},p.sb.BYTES_PER_ELEMENT=4,Object.defineProperties(p.sb.prototype,{l:{get:function(){return this.nz[0]},set:function(a){this.nz[0]=a},enumerable:!0},k:{get:function(){return this.Hy[0]},
set:function(a){this.Hy[0]=a},enumerable:!0},g:{get:function(){return this.Ux[0]},set:function(a){this.Ux[0]=a},enumerable:!0},B:{get:function(){return this.Mx[0]},set:function(a){this.Mx[0]=a},enumerable:!0}}),p.od=function(a,c,d,e,f,g){this.tb=f||new ArrayBuffer(p.od.BYTES_PER_ELEMENT);this.ob=g||0;f=this.tb;g=this.ob;var h=Float32Array.BYTES_PER_ELEMENT;this.mz=new Float32Array(f,g,1);this.mz[0]=a||0;this.Gy=new Float32Array(f,g+h,1);this.Gy[0]=c||0;this.Tx=new Float32Array(f,g+2*h,1);this.Tx[0]=
d||0;this.Lx=new Float32Array(f,g+3*h,1);this.Lx[0]=e||0},p.od.BYTES_PER_ELEMENT=16,Object.defineProperties(p.od.prototype,{l:{get:function(){return this.mz[0]},set:function(a){this.mz[0]=a},enumerable:!0},k:{get:function(){return this.Gy[0]},set:function(a){this.Gy[0]=a},enumerable:!0},g:{get:function(){return this.Tx[0]},set:function(a){this.Tx[0]=a},enumerable:!0},B:{get:function(){return this.Lx[0]},set:function(a){this.Lx[0]=a},enumerable:!0}}),p.hb=function(a,c,d,e){this.tb=d||new ArrayBuffer(p.hb.BYTES_PER_ELEMENT);
this.ob=e||0;this.Ml=new Float32Array(this.tb,this.ob,1);this.Nl=new Float32Array(this.tb,this.ob+4,1);this.Ml[0]=a||0;this.Nl[0]=c||0},p.hb.BYTES_PER_ELEMENT=8,Object.defineProperties(p.hb.prototype,{x:{get:function(){return this.Ml[0]},set:function(a){this.Ml[0]=a},enumerable:!0},y:{get:function(){return this.Nl[0]},set:function(a){this.Nl[0]=a},enumerable:!0}}),p.qc=function(a,c,d,e,f){this.tb=e||new ArrayBuffer(p.qc.BYTES_PER_ELEMENT);this.ob=f||0;e=this.tb;f=this.ob;this.Ml=new Float32Array(e,
f,1);this.Ml[0]=a||0;this.Nl=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Nl[0]=c||0;this.kA=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.kA[0]=d||0},p.qc.BYTES_PER_ELEMENT=12,Object.defineProperties(p.qc.prototype,{x:{get:function(){return this.Ml[0]},set:function(a){this.Ml[0]=a},enumerable:!0},y:{get:function(){return this.Nl[0]},set:function(a){this.Nl[0]=a},enumerable:!0},z:{get:function(){return this.kA[0]},set:function(a){this.kA[0]=a},enumerable:!0}}),p.Yb=
function(a,c,d,e){this.tb=d||new ArrayBuffer(p.Yb.BYTES_PER_ELEMENT);this.ob=e||0;this.Wz=new Float32Array(this.tb,this.ob,1);this.dA=new Float32Array(this.tb,this.ob+4,1);this.Wz[0]=a||0;this.dA[0]=c||0},p.Yb.BYTES_PER_ELEMENT=8,Object.defineProperties(p.Yb.prototype,{Aa:{get:function(){return this.Wz[0]},set:function(a){this.Wz[0]=a},enumerable:!0},X:{get:function(){return this.dA[0]},set:function(a){this.dA[0]=a},enumerable:!0}}),p.Ps=function(a,c,d,e,f,g){this.tb=f||new ArrayBuffer(p.Ps.BYTES_PER_ELEMENT);
this.ob=g||0;f=this.tb;g=p.hb.BYTES_PER_ELEMENT;this.Rn=a?new p.hb(a.x,a.y,f,0):new p.hb(0,0,f,0);this.Tn=c?new p.hb(c.x,c.y,f,g):new p.hb(0,0,f,g);this.Sm=d?new p.hb(d.x,d.y,f,2*g):new p.hb(0,0,f,2*g);this.Um=e?new p.hb(e.x,e.y,f,3*g):new p.hb(0,0,f,3*g)},p.Ps.BYTES_PER_ELEMENT=32,Object.defineProperties(p.Ps.prototype,{Da:{get:function(){return this.Rn},set:function(a){this.Rn.x=a.x;this.Rn.y=a.y},enumerable:!0},za:{get:function(){return this.Tn},set:function(a){this.Tn.x=a.x;this.Tn.y=a.y},enumerable:!0},
wa:{get:function(){return this.Sm},set:function(a){this.Sm.x=a.x;this.Sm.y=a.y},enumerable:!0},Fa:{get:function(){return this.Um},set:function(a){this.Um.x=a.x;this.Um.y=a.y},enumerable:!0}}),p.Ub=function(a,c,d,e,f){this.tb=e||new ArrayBuffer(p.Ub.BYTES_PER_ELEMENT);this.ob=f||0;e=this.tb;f=this.ob;var g=p.qc.BYTES_PER_ELEMENT;this.Vn=a?new p.qc(a.x,a.y,a.z,e,f):new p.qc(0,0,0,e,f);this.xp=c?new p.sb(c.l,c.k,c.g,c.B,e,f+g):new p.sb(0,0,0,0,e,f+g);this.Cl=d?new p.Yb(d.Aa,d.X,e,f+g+p.sb.BYTES_PER_ELEMENT):
new p.Yb(0,0,e,f+g+p.sb.BYTES_PER_ELEMENT)},p.Ub.BYTES_PER_ELEMENT=24,Object.defineProperties(p.Ub.prototype,{o:{get:function(){return this.Vn},set:function(a){var c=this.Vn;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},C:{get:function(){return this.xp},set:function(a){var c=this.xp;c.l=a.l;c.k=a.k;c.g=a.g;c.B=a.B},enumerable:!0},r:{get:function(){return this.Cl},set:function(a){this.Cl.Aa=a.Aa;this.Cl.X=a.X},enumerable:!0}}),p.Fb=function(a,c,d,e,f,g){this.tb=f||new ArrayBuffer(p.Fb.BYTES_PER_ELEMENT);
this.ob=g||0;f=this.tb;g=this.ob;var h=p.Ub.BYTES_PER_ELEMENT;this.Rn=a?new p.Ub(a.o,a.C,a.r,f,g):new p.Ub(null,null,null,f,g);this.Sm=c?new p.Ub(c.o,c.C,c.r,f,g+h):new p.Ub(null,null,null,f,g+h);this.Tn=d?new p.Ub(d.o,d.C,d.r,f,g+2*h):new p.Ub(null,null,null,f,g+2*h);this.Um=e?new p.Ub(e.o,e.C,e.r,f,g+3*h):new p.Ub(null,null,null,f,g+3*h)},p.Fb.BYTES_PER_ELEMENT=96,Object.defineProperties(p.Fb.prototype,{Da:{get:function(){return this.Rn},set:function(a){var c=this.Rn;c.o=a.o;c.C=a.C;c.r=a.r},enumerable:!0},
wa:{get:function(){return this.Sm},set:function(a){var c=this.Sm;c.o=a.o;c.C=a.C;c.r=a.r},enumerable:!0},za:{get:function(){return this.Tn},set:function(a){var c=this.Tn;c.o=a.o;c.C=a.C;c.r=a.r},enumerable:!0},Fa:{get:function(){return this.Um},set:function(a){var c=this.Um;c.o=a.o;c.C=a.C;c.r=a.r},enumerable:!0},nA:{get:function(){return this.tb},enumerable:!0}}),p.Fx=function(){return new p.Fb},p.Ex=function(a){if(!a)return p.Fx();var c=a.Da,d=a.wa,e=a.za;a=a.Fa;return{Da:{o:{x:c.o.x,y:c.o.y,z:c.o.z},
C:{l:c.C.l,k:c.C.k,g:c.C.g,B:c.C.B},r:{Aa:c.r.Aa,X:c.r.X}},wa:{o:{x:d.o.x,y:d.o.y,z:d.o.z},C:{l:d.C.l,k:d.C.k,g:d.C.g,B:d.C.B},r:{Aa:d.r.Aa,X:d.r.X}},za:{o:{x:e.o.x,y:e.o.y,z:e.o.z},C:{l:e.C.l,k:e.C.k,g:e.C.g,B:e.C.B},r:{Aa:e.r.Aa,X:e.r.X}},Fa:{o:{x:a.o.x,y:a.o.y,z:a.o.z},C:{l:a.C.l,k:a.C.k,g:a.C.g,B:a.C.B},r:{Aa:a.r.Aa,X:a.r.X}}}},p.wb=function(a,c,d,e,f){this.tb=e||new ArrayBuffer(p.wb.BYTES_PER_ELEMENT);this.ob=f||0;e=this.tb;f=this.ob;var g=p.hb.BYTES_PER_ELEMENT;this.Vn=a?new p.hb(a.x,a.y,e,
f):new p.hb(0,0,e,f);this.xp=c?new p.sb(c.l,c.k,c.g,c.B,e,f+g):new p.sb(0,0,0,0,e,f+g);this.Cl=d?new p.Yb(d.Aa,d.X,e,f+g+p.sb.BYTES_PER_ELEMENT):new p.Yb(0,0,e,f+g+p.sb.BYTES_PER_ELEMENT)},p.wb.BYTES_PER_ELEMENT=20,Object.defineProperties(p.wb.prototype,{o:{get:function(){return this.Vn},set:function(a){this.Vn.x=a.x;this.Vn.y=a.y},enumerable:!0},C:{get:function(){return this.xp},set:function(a){var c=this.xp;c.l=a.l;c.k=a.k;c.g=a.g;c.B=a.B},enumerable:!0},r:{get:function(){return this.Cl},set:function(a){this.Cl.Aa=
a.Aa;this.Cl.X=a.X},enumerable:!0}}),p.ac=function(a,c,d,e,f){this.tb=e||new ArrayBuffer(p.ac.BYTES_PER_ELEMENT);this.ob=f||0;e=this.tb;f=this.ob;var g=p.wb.BYTES_PER_ELEMENT;this.zD=a?new p.wb(a.o,a.C,a.r,e,f):new p.wb(null,null,null,e,f);this.ED=c?new p.wb(c.o,c.C,c.r,e,f+g):new p.wb(null,null,null,e,f+g);this.JD=d?new p.wb(d.o,d.C,d.r,e,f+2*g):new p.wb(null,null,null,e,f+2*g)},p.ac.BYTES_PER_ELEMENT=60,Object.defineProperties(p.ac.prototype,{B:{get:function(){return this.zD},set:function(a){var c=
this.zD;c.o=a.o;c.C=a.C;c.r=a.r},enumerable:!0},g:{get:function(){return this.ED},set:function(a){var c=this.ED;c.o=a.o;c.C=a.C;c.r=a.r},enumerable:!0},ma:{get:function(){return this.JD},set:function(a){var c=this.JD;c.o=a.o;c.C=a.C;c.r=a.r},enumerable:!0}}));p.BZ=function(a){a=a.substr(1).split("");return new p.Zb(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};p.fp=0;p.Ei=1;p.tK=2;p.kp=0;p.lt=1;p.jp=2;
p.GX=p.oa.extend({wn:null,Tq:null,Ix:0,ctor:function(){this.wn={};this.Tq={};this.Ix=2<<(0|10*Math.random())},JK:function(){this.Ix++;return"key_"+this.Ix},BT:function(a,c){if(null!=c){var d=this.JK();this.wn[d]=c;this.Tq[d]=a}},mR:function(a){if(null==a)return null;var c=this.wn,d;for(d in c)if(c[d]===a)return this.Tq[d];return null},J9:function(a){return this.mR(a)},tS:function(a){if(null!=a){var c=this.wn,d;for(d in c)if(c[d]===a){delete this.Tq[d];delete c[d];break}}},i6:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.tS(a[c])},gO:function(){var a=[],c=this.wn,d;for(d in c)a.push(c[d]);return a},b6:function(){this.wn={};this.Tq={}},count:function(){return this.gO().length}});p.vJ=function(){this.br="Arial";this.fontSize=12;this.UF=p.Ei;this.VF=p.kp;this.WF=p.eb();this.ar=p.size(0,0);this.ZB=!1;this.strokeColor=p.eb();this.zI=1;this.rI=!1;this.sI=p.size(0,0);this.shadowBlur=0;this.tI=1};p.$o={Uw:0,gx:1,SHOW_ALL:2,Vw:3,Ww:4,vX:5};p.it=[];p.gp={};
p.aa=p.oa.extend({xb:null,fe:null,hn:null,gk:null,qe:null,gA:null,fA:"",uz:null,da:1,tE:1,la:1,uE:1,Yp:0,pE:5,Wg:null,AE:null,EE:null,DE:null,BE:null,CE:null,aq:!1,SX:!1,BY:null,$D:null,aE:null,QK:null,tY:!1,iy:null,lY:null,Pi:null,Cy:1,rt:!1,eE:!1,ctor:function(){this.Pi=p.lj.parentNode===document.body?document.documentElement:p.lj.parentNode;this.fe=p.size(0,0);this.Qy();var a=p.canvas.width,c=p.canvas.height;this.hn=p.size(a,c);this.gk=p.size(a,c);this.qe=p.rect(0,0,a,c);this.gA=p.rect(0,0,a,c);
this.xb=p.N.d().oe;this.iy={left:0,top:0};this.fA="Cocos2dHTML5";p.sD.u(this.hn);this.AE=new p.Hm(p.$f.js,p.ae.Uw);this.EE=new p.Hm(p.$f.eK,p.ae.SHOW_ALL);this.DE=new p.Hm(p.$f.js,p.ae.gx);this.BE=new p.Hm(p.$f.js,p.ae.Vw);this.CE=new p.Hm(p.$f.js,p.ae.Ww);this.$D=p.canvas;this.aE=p.M},vz:function(){var a=this.gk.width,c=this.gk.height;this.uz&&(this.Qy(),this.uz.call());0<a&&this.KH(a,c,this.Wg)},u6:function(a){a?this.rt||(this.rt=!0,a=this.vz.bind(this),window.addEventListener("resize",a,!1)):this.rt&&
(this.rt=!0,a=this.vz.bind(this),window.removeEventListener("resize",a,!1))},d8:function(a){if("function"==typeof a||null==a)this.uz=a},Qy:function(){var a=this.fe;a.width=this.Pi.clientWidth;a.height=this.Pi.clientHeight},PX:function(){var a=this.gk.width,c=this.gk.height;0<a&&this.KH(a,c,this.Wg)},wN:function(){if(this.eE){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},pN:function(){var a=p.Yc();this.la=this.da=a},SM:function(){this.da=this.tE;this.la=this.uE},PL:function(){var a,c=this.Yp;for(a=0;a<this.pE;a++){if(!(c&1))return this.Yp|=1<<a,a;c>>=1}return-1},OM:function(a){0>a||a>=this.pE||(a=~(1<<a),this.Yp&=a)},QX:function(){},IQ:function(){this.aq=!0},SY:function(a){this.eE=a},end:function(){},U3:function(){return null!=
this.$D&&null!=this.aE},h7:function(a){this.Cy=a;p.N.d().fw(p.N.d().kk)},d9:function(){},l7:function(){},S6:function(a,c){this.iy={left:a,top:c}},b0:function(){return this.iy},wv:function(){return p.size(this.fe.width,this.fe.height)},g7:function(a,c){this.fe.width=a;this.fe.height=c;this.Pi.style.width=a+"px";this.Pi.style.height=c+"px";this.vz();p.N.d().fw(p.N.d().kk)},sZ:function(){},C6:function(a){this.QK=a},hr:function(){return this.gA.La},nG:function(){return this.gA.Cc},oZ:function(){return!0},
W1:function(){return this.Wg},MT:function(a){if(a instanceof p.Hm)this.Wg=a;else switch(a){case p.$o.Uw:this.Wg=this.AE;break;case p.$o.SHOW_ALL:this.Wg=this.EE;break;case p.$o.gx:this.Wg=this.DE;break;case p.$o.Vw:this.Wg=this.BE;break;case p.$o.Ww:this.Wg=this.CE}},KH:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)p.log("Resolution not valid");else if(this.MT(d),policy=this.Wg){policy.jm(this);var e=this.fe.width,f=this.fe.height;p.ra.rj&&this.wN(this.fe.width,this.fe.height);this.Qy();if(d!=
this.Wg||a!=this.gk.width||c!=this.gk.height||e!=this.fe.width||f!=this.fe.height)this.hn=p.size(a,c),this.gk=p.size(a,c),a=policy.apply(this,this.hn),a.scale&&2==a.scale.length&&(this.da=a.scale[0],this.la=a.scale[1]),a.viewport instanceof p.vf&&(this.qe=a.viewport),a=p.N.d(),a.ub=this.io(),p.Vc==p.Nj&&(a.fn(),a.RH()),this.tE=this.da,this.uE=this.la,p.Nb&&p.Nb.QM(),p.sD.u(this.hr()),policy.im(this)}else p.log("should set resolutionPolicy")},io:function(){return p.size(this.hn.width,this.hn.height)},
B8:function(a){this.xb=a},VT:function(a,c,d,e){var f=this.Cy,g=this.da,h=this.la;p.M.viewport(a*g*f+this.qe.x*f,c*h*f+this.qe.y*f,d*g*f,e*h*f)},OB:function(a,c,d,e){var f=this.Cy,g=this.da,h=this.la;p.M.scissor(a*g*f+this.qe.x*f,c*h*f+this.qe.y*f,d*g*f,e*h*f)},TQ:function(){var a=p.M;return a.isEnabled(a.SCISSOR_TEST)},SP:function(){var a=p.M,c=this.da,d=this.la,a=a.getParameter(a.SCISSOR_BOX);return p.rect((a[0]-this.qe.x)/c,(a[1]-this.qe.y)/d,a[2]/c,a[3]/d)},K8:function(a){null!=a&&0<a.length&&
(this.fA=a)},T2:function(){return this.fA},U2:function(){return this.qe},QP:function(){return this.da},RP:function(){return this.la},mj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},iQ:function(a,c,d,e){for(var f=[],g=this.qe,h=this.da,k=this.la,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],q=0;if(null==p.gp[m])if(q=this.PL(),-1==q)p.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var t=p.it[q]=new p.Ae;t.TB(q,(n-g.x)/h,(r-g.y)/k);p.gp[m]=0|q;f.push(t)}}0!=f.length&&this.xb.yw(f,
null)},lQ:function(a,c,d,e){for(var f=[],g=this.da,h=this.la,k=this.qe.x,l=this.qe.y,m=0;m<a;++m){var n=d[m],r=e[m],q=p.gp[c[m]];if(null!=q){var t=p.it[q];if(t)t.TB(q,(n-k)/g,(r-l)/h),f.push(t);else return}}0!=f.length&&this.xb.zw(f,null)},kQ:function(a,c,d,e){var f=[];this.fG(f,a,c,d,e);this.xb.Sr(f,null)},jQ:function(a,c,d,e){var f=[];this.fG(f,a,c,d,e);this.xb.aC(f,null)},fG:function(a,c,d,e,f){for(var g=this.da,h=this.la,k=this.qe,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],q=p.gp[m];if(null!=q){var t=
p.it[q];if(t)t.TB(q,(n-k.x)/g,(r-k.y)/h),a.push(t),p.it[q]=null,this.OM(q),delete p.gp[m];else break}}},yw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Ye||h,d[f]=g.P.x,e[f]=g.P.y,++f;this.iQ(f,c,d,e)},zw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Ye||h,d[f]=g.P.x,e[f]=g.P.y,++f;this.lQ(f,c,d,e)},Sr:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Ye||h,d[f]=g.P.x,e[f]=g.P.y,++f;this.kQ(f,c,d,e)},aC:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Ye||h,d[f]=g.P.x,e[f]=g.P.y,++f;this.jQ(f,c,d,e)}});p.aa.d=function(){this.nb||(this.nb=new p.aa,this.nb.IQ());return this.nb};
p.$f=p.oa.extend({jm:function(){},apply:function(){},im:function(){},LE:function(a,c,d){p.ra.rj&&a==document.documentElement&&p.sx.d().nO(p.canvas);a=p.canvas;var e=p.lj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},UD:function(){document.body.insertBefore(p.lj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=p.lj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
p.ae=p.oa.extend({xz:{scale:[1,1],viewport:null},tp:function(a,c,d,e,f,g){a=p.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);p.Vc==p.sf&&p.M.translate(a.x,a.y+e);this.xz.scale=[f,g];this.xz.viewport=a;return this.xz},jm:function(){},apply:function(){return{scale:[1,1]}},im:function(){}});
(function(){var a=p.$f.extend({apply:function(a){this.LE(a.Pi,a.fe.width,a.fe.height)}}),c=p.$f.extend({apply:function(a,c){var d=a.fe.width,e=a.fe.height,f=p.lj.style,n=c.width,r=c.height,q=d/n,t=e/r,v,x;q<t?(v=d,x=r*q):(v=n*t,x=e);n=Math.floor((d-v)/2);x=Math.floor((e-x)/2);this.LE(a.Pi,d-2*n,e-2*x);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=x+"px";f.marginBottom=x+"px"}});a.extend({jm:function(a){a.Pi=document.documentElement},apply:function(a){this._super(a);this.UD()}});c.extend({jm:function(a){a.Pi=
document.documentElement},apply:function(a,c){this._super(a,c);this.UD()}});var d=p.$f.extend({});p.$f.js=new a;p.$f.eK=new c;p.$f.wW=new d;var a=p.ae.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height;return this.tp(d,e,d,e,d/c.width,e/c.height)}}),c=p.ae.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=c.width,n=c.height,r=d/f,q=e/n,t,v,x;r<q?(t=r,v=d,x=n*t):(t=q,v=f*t,x=e);return this.tp(d,e,v,x,t,t)}}),d=p.ae.extend({apply:function(a,c){var d=p.canvas.width,
e=p.canvas.height,f=c.width,n=c.height,r=d/f,q=e/n,t,v,x;r<q?(t=q,v=f*t,x=e):(t=r,v=d,x=n*t);return this.tp(d,e,v,x,t,t)}}),e=p.ae.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=e/c.height;return this.tp(d,e,d,e,f,f)},im:function(a){p.N.d().ub=a.hr()}}),f=p.ae.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=d/c.width;return this.tp(d,e,d,e,f,f)},im:function(a){p.N.d().ub=a.hr()}});p.ae.Uw=new a;p.ae.SHOW_ALL=new c;p.ae.gx=new d;p.ae.Vw=new e;p.ae.Ww=new f})();
p.Hm=p.oa.extend({Ft:null,Gt:null,ctor:function(a,c){this.ZS(a);this.bT(c)},jm:function(a){this.Ft.jm(a);this.Gt.jm(a)},apply:function(a,c){this.Ft.apply(a,c);return this.Gt.apply(a,c)},im:function(a){this.Ft.im(a);this.Gt.im(a)},ZS:function(a){a instanceof p.$f&&(this.Ft=a)},bT:function(a){a instanceof p.ae&&(this.Gt=a)}});p.sx=p.oa.extend({Dq:!1,Sj:"",hz:null,iz:null,Vz:"",u:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Dq=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Dq=!0;this.Sj=f;break}this.Vz="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Dq)switch(this.Sj){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Sj+"FullScreen"]}return!1},vH:function(a,
c){if(this.Dq&&!this.fullScreen()){if(c){var d=this.Sj+"fullscreenchange";this.hz&&this.iz&&this.hz.removeEventListener(d,this.iz);this.hz=a;this.iz=c;a.addEventListener(d,c,!1)}return""===this.Sj?a.requestFullScreen():a[this.Sj+"RequestFullScreen"]()}},a_:function(){if(this.Dq&&this.fullScreen())return""===this.Sj?document.body.cancelFullScreen():document.body[this.Sj+"CancelFullScreen"]()},nO:function(a,c){function d(){e.vH(a,c);a.removeEventListener(e.Vz,d)}var e=this;this.vH(a,c);a.addEventListener(this.Vz,
d)}});p.sx.d=function(){if(!this.nb){var a=new p.sx;a.u();this.nb=a}return this.nb};p.sD={bh:p.Pc(),sg:p.Pc(),ah:p.Pc(),Lh:p.Pc(),Mh:p.Pc(),Kh:p.Pc(),ay:p.Pc(),Wh:p.Pc(),Xg:p.Pc(),sa:0,ba:0,u:function(a){this.sa=a.width;this.ba=a.height;a=this.sa;var c=this.ba;this.bh.n=c;this.sg.m=a;this.sg.n=c;this.ah.m=a/2;this.ah.n=c;this.Mh.m=a;this.Kh.m=a/2;this.ay.m=a/2;this.ay.n=c/2;this.Wh.n=c/2;this.Xg.m=a;this.Xg.n=c/2},ir:function(){return this.sa},fr:function(){return this.ba},u9:function(){return this.bh},v9:function(){return this.sg},top:function(){return this.ah},gZ:function(){return this.Lh},
hZ:function(){return this.Mh},bottom:function(){return this.Kh},rZ:function(){return this.ay},left:function(){return this.Wh},right:function(){return this.Xg}};p.rw=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
p.bD=function(a){var c=p.zc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=p.rw(a.substr(0,d)),c=p.rw(c),c=p.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};p.aD=function(a){var c=p.Bi();try{if(""==a)return c;var d=p.rw(a),c=p.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
p.tx=function(a){var c=p.Tk();try{if(""==a)return c;var d=p.rw(a),c=p.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.TU=function(a,c,d,e,f,g){this.B=a;this.g=c;this.ma=d;this.xa=e;this.Ia=f;this.Ja=g};p.IX=function(a,c,d,e,f,g){return{B:a,g:c,ma:d,xa:e,Ia:f,Ja:g}};p.WU=function(a,c,d,e,f,g){return{B:a,g:c,ma:d,xa:e,Ia:f,Ja:g}};p.JX=function(a,c){return{x:c.B*a.x+c.ma*a.y+c.Ia,y:c.g*a.x+c.xa*a.y+c.Ja}};p.$C=function(a,c){return{x:c.B*a.x+c.ma*a.y+c.Ia,y:c.g*a.x+c.xa*a.y+c.Ja}};p.Pj=function(a,c,d){return{x:d.B*a+d.ma*c+d.Ia,y:d.g*a+d.xa*c+d.Ja}};
p.KX=function(a,c){return{width:c.B*a.width+c.ma*a.height,height:c.g*a.width+c.xa*a.height}};p.gX=function(a,c){return{width:c.B*a.width+c.ma*a.height,height:c.g*a.width+c.xa*a.height}};p.XU=function(){return{B:1,g:0,ma:0,xa:1,Ia:0,Ja:0}};p.VU=function(){return{B:1,g:0,ma:0,xa:1,Ia:0,Ja:0}};
p.cg=function(a,c){var d=p.Bk(a),e=p.Ak(a),f=p.mm(a),g=p.nm(a),h=p.Pj(e,d,c),d=p.Pj(f,d,c),e=p.Pj(e,g,c),k=p.Pj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return p.rect(f,l,g-f,h-l)};
p.Gh=function(a,c){var d=p.Bk(a),e=p.Ak(a),f=p.mm(a),g=p.nm(a),h=p.Pj(e,d,c),d=p.Pj(f,d,c),e=p.Pj(e,g,c),k=p.Pj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};p.Fw=function(a,c,d){return{B:a.B,g:a.g,ma:a.ma,xa:a.xa,Ia:a.Ia+a.B*c+a.ma*d,Ja:a.Ja+a.g*c+a.xa*d}};p.YU=function(a,c,d){return{B:a.B*c,g:a.g*c,ma:a.ma*d,xa:a.xa*d,Ia:a.Ia,Ja:a.Ja}};
p.WI=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{B:a.B*d+a.ma*c,g:a.g*d+a.xa*c,ma:a.ma*d-a.B*c,xa:a.xa*d-a.g*c,Ia:a.Ia,Ja:a.Ja}};p.Kk=function(a,c){return{B:a.B*c.B+a.g*c.ma,g:a.B*c.g+a.g*c.xa,ma:a.ma*c.B+a.xa*c.ma,xa:a.ma*c.g+a.xa*c.xa,Ia:a.Ia*c.B+a.Ja*c.ma+c.Ia,Ja:a.Ia*c.g+a.Ja*c.xa+c.Ja}};p.UU=function(a,c){return a.B===c.B&&a.g===c.g&&a.ma===c.ma&&a.xa===c.xa&&a.Ia===c.Ia&&a.Ja===c.Ja};
p.kC=function(a){var c=1/(a.B*a.xa-a.g*a.ma);return{B:c*a.xa,g:-c*a.g,ma:-c*a.ma,xa:c*a.B,Ia:c*(a.ma*a.Ja-a.xa*a.Ia),Ja:c*(a.g*a.Ia-a.B*a.Ja)}};p.QC=parseFloat("1.192092896e-07F");p.oB=function(a){return p.a(-a.x,-a.y)};p.mf=function(a,c){return p.a(a.x+c.x,a.y+c.y)};p.Uc=function(a,c){return p.a(a.x-c.x,a.y-c.y)};p.ri=function(a,c){return p.a(a.x*c,a.y*c)};p.nB=function(a,c){return p.ri(p.mf(a,c),0.5)};p.Bo=function(a,c){return a.x*c.x+a.y*c.y};p.m5=function(a,c){return a.x*c.y-a.y*c.x};p.Nv=function(a){return p.a(-a.y,a.x)};p.u5=function(a){return p.a(a.y,-a.x)};p.t5=function(a,c){return p.ri(c,p.Bo(a,c)/p.Bo(c,c))};
p.v5=function(a,c){return p.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};p.A5=function(a,c){return p.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};p.aH=function(a){return p.Bo(a,a)};p.n5=function(a,c){return p.aH(p.Uc(a,c))};p.lB=function(a){return Math.sqrt(p.aH(a))};p.kB=function(a,c){return p.lB(p.Uc(a,c))};p.Ig=function(a){return p.ri(a,1/p.lB(a))};p.o5=function(a){return p.a(Math.cos(a),Math.sin(a))};p.z5=function(a){return Math.atan2(a.y,a.x)};p.Xq=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
p.$G=function(a){var c=p.a(0,0),d=p.a(1,1);return p.a(p.Xq(a.x,c.x,d.x),p.Xq(a.y,c.y,d.y))};p.ER=function(){var a=p.N.d().ub;return p.a(a.width,a.height)};p.l5=function(a,c){return p.a(c(a.x),c(a.y))};p.bH=function(a,c,d){return p.mf(p.ri(a,1-d),p.ri(c,d))};p.p5=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};p.k5=function(a,c){return p.a(a.x*c.x,a.y*c.y)};p.j5=function(a,c){var d=p.Ig(a),e=p.Ig(c),d=Math.atan2(d.x*e.y-d.y*e.x,p.Bo(d,e));return Math.abs(d)<p.QC?0:d};
p.i5=function(a,c){var d=Math.acos(p.Bo(p.Ig(a),p.Ig(c)));return Math.abs(d)<p.QC?0:d};p.GR=function(a,c,d){a=p.Uc(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};p.mB=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
p.x5=function(a,c,d,e){var f=p.a(0,0);return p.mB(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};p.r5=function(a,c,d,e){var f=p.a(0,0);return p.mB(a,c,d,e,f)?(d=p.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):p.Bi()};p.w5=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};p.B5=function(a){a.x=0;a.y=0};p.q5=function(a,c){a.x=c.x;a.y=c.y};p.FR=function(a,c){a.x*=c;a.y*=c};p.y5=function(a,c){a.x-=c.x;a.y-=c.y};p.h5=function(a,c){a.x+=c.x;a.y+=c.y};
p.s5=function(a){p.FR(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};p.L9=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=p.a(a[2*k],a[2*k+1]),m;if(0===k)m=p.Nv(p.Ig(p.Uc(l,p.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=p.Nv(p.Ig(p.Uc(p.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=p.a(a[2*(k-1)],a[2*(k-1)+1]);var n=p.a(a[2*(k+1)],a[2*(k+1)+1]),r=p.Ig(p.Uc(n,l)),q=p.Ig(p.Uc(m,l)),t=Math.acos(p.Bo(r,q));m=t<p.zi(70)?p.Nv(p.Ig(p.nB(r,q))):t<p.zi(170)?p.Ig(p.nB(r,q)):p.Nv(p.Ig(p.Uc(n,m)))}m=p.ri(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=p.mt(d[2*g],d[2*g+1]),f=p.mt(d[2*(g+1)],d[2*(g+1)+1]),g=p.mt(d[2*a],d[2*a]),e=p.mt(d[2*(a+1)],d[2*(a+1)+1]),c=!p.BU(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.sr&&(0>c.value||1<c.value)&&(c.sr=!0),c.sr&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
p.BU=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{sr:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{sr:!1,value:0}:{sr:!0,value:(h+(f-h)*k/(k-g))/a}};p.gV=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.B;c[4]=a.ma;c[12]=a.Ia;c[1]=a.g;c[5]=a.xa;c[13]=a.Ja};p.RV=function(a,c){c.B=a[0];c.ma=a[4];c.Ia=a[12];c.g=a[1];c.xa=a[5];c.Ja=a[13]};p.OC=-1;p.pW=null;p.qW=null;p.IS=1;
p.H=p.oa.extend({Oa:0,cv:0,Hf:0,Yg:0,da:1,la:1,f:null,Bd:0,Cd:0,p:null,V:!0,Be:null,ad:null,ca:null,je:!1,ga:null,bk:!1,Gc:p.OC,hF:null,bA:null,gj:!0,$t:!0,KD:!0,xY:null,fj:null,dE:null,Ad:!1,fc:null,af:0,fg:null,If:null,cE:!1,np:!1,tt:null,Ph:null,Uy:!1,tl:0,qq:0,Ry:function(){this.Be=p.Pc();this.ad=p.Pc();this.ca=p.xl();this.f=p.Pc();this.p=[];this.fj={B:1,g:0,ma:0,xa:1,Ia:0,Ja:0};var a=p.N.d();this.fg=a.Nf();this.If=a.Oe();this.cE=!0;this.tt={B:1,g:0,ma:0,xa:1,Ia:0,Ja:0};p.eJ&&(this.Ph=new p.eJ(this))},
u:function(){!1===this.cE&&this.Ry();return!0},yf:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=p.H.We;switch(c){case d.Uf:for(d=0;d<e;d++)(f=a[d])&&f.Uf();break;case d.jd:for(d=0;d<e;d++)(f=a[d])&&f.jd();break;case d.sh:for(d=0;d<e;d++)(f=a[d])&&f.sh();break;case d.hf:for(d=0;d<e;d++)(f=a[d])&&f.hf();break;case d.qf:for(d=0;d<e;d++)(f=a[d])&&f.qf();break;case d.Hg:for(d=0;d<e;d++)(f=a[d])&&f.Hg();break;case d.kd:for(d=0;d<e;d++)(f=a[d])&&f.kd();break;default:throw"Unknown callback function";
}}},Ha:null,hN:function(){this.vl();!1===this.gj&&(this.gj=this.$t=!0)},iN:function(){!1===this.gj&&(this.gj=this.$t=!0)},k2:function(){return this.Bd},lw:function(a){this.Bd=a;this.Ha()},l2:function(){return this.Cd},mw:function(a){this.Cd=a;this.Ha()},b3:function(){return this.Oa},Fu:function(a){this.Oa=a},M8:function(a){this.Fu(a);this.ga&&this.ga.Gr(this,a)},Q2:function(){return this.cv},jI:function(a){this.cv=a},PP:function(){this.Hf!==this.Yg&&p.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Hf},hw:function(a){this.Hf=this.Yg=a;this.tl=0.017453292519943295*this.Hf;this.qq=0.017453292519943295*this.Yg;this.Ha()},a2:function(){return this.Hf},iw:function(a){this.Hf=a;this.tl=0.017453292519943295*this.Hf;this.Ha()},b2:function(){return this.Yg},jw:function(a){this.Yg=a;this.qq=0.017453292519943295*this.Yg;this.Ha()},JA:function(){this.da!==this.la&&p.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.da},Aj:function(a,c){this.da=a;this.la=
c||0===c?c:a;this.Ha()},QP:function(){return this.da},Ko:function(a){this.da=a;this.Ha()},RP:function(){return this.la},tm:function(a){this.la=a;this.Ha()},J:function(a,c){var d=this.f;2==arguments.length?(d.m=a,d.n=c):1==arguments.length&&(d.m=a.x,d.n=a.y);this.Ha()},K1:function(){return this.f},L1:function(){return this.f.m},pc:function(a){this.f.m=a;this.Ha()},M1:function(){return this.f.n},Jo:function(a){this.f.n=a;this.Ha()},U_:function(){return this.p.length},T_:function(){return this.p},k4:function(){return this.V},
F:function(a){this.V=a;this.Ha()},C_:function(){return this.Be},ja:function(a,c){var d=this.Be;if(2===arguments.length){if(a===d.m&&c===d.n)return;d.m=a;d.n=c}else{if(a.x===d.m&&a.y===d.n)return;d.m=a.x;d.n=a.y}var e=this.ad,f=this.ca;e.m=f.sa*d.m;e.n=f.ba*d.n;this.Ha()},D_:function(){return this.ad},c:function(){return this.ca},ea:function(a,c){var d=this.ca;if(2===arguments.length){if(a===d.sa&&c===d.ba)return;d.sa=a;d.ba=c}else{if(a.width===d.sa&&a.height===d.ba)return;d.sa=a.width;d.ba=a.height}var e=
this.ad,f=this.Be;e.m=d.sa*f.m;e.n=d.ba*f.n;this.Ha()},b4:function(){return this.je},getParent:function(){return this.ga},Lr:function(a){this.ga=a},N3:function(){return this.bk},li:function(a){a!=this.bk&&(this.bk=a,this.Ha())},XP:function(){return this.Gc},fI:function(a){this.Gc=a},getUserData:function(){return this.hF},setUserData:function(a){this.hF=a},O2:function(){return this.bA},F8:function(a){this.bA!=a&&(this.bA=a)},A1:function(){return this.af},Io:function(a){this.af=a},Nf:function(){this.fg||
(this.fg=p.N.d().Nf());return this.fg},RS:function(a){this.fg!=a&&(this.XB(),this.fg=a)},Oe:function(){this.If||(this.If=p.N.d().Oe());return this.If},NT:function(a){this.If!=a&&(this.Tr(),this.If=a)},Qa:function(){var a=p.rect(0,0,this.ca.sa,this.ca.ba);return p.Gh(a,this.lf())},hf:function(){this.XB();this.Tr();this.yf(this.p,p.H.We.hf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Gc+"\x3e"},rP:function(a){var c=this.p;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Gc==
a)return e}return null},v:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?p.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.ga?p.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.Oa,a.Gc=null!=d?d:a.Gc,this.bM(a,c),a.ga=this,this.je&&(a.Uf(),this.Uy&&a.sh()))},Y:function(a){this.ga&&(null==a&&(a=!0),this.ga.removeChild(this,a))},rS:function(a){p.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.Y(a)},removeChild:function(a,c){0!==this.p.length&&(null==c&&(c=!0),-1<this.p.indexOf(a)&&this.AL(a,c),this.Ha())},g6:function(a,c){a===p.OC&&p.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.rP(a);null==d?p.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},Y5:function(a){p.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.vh(a)},vh:function(a){var c=this.p;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.je&&(e.Hg(),e.jd()),a&&e.hf(),e.Lr(null))}this.p.length=0}},AL:function(a,c){this.je&&(a.Hg(),a.jd());c&&a.hf();a.Lr(null);p.md(this.p,a)},bM:function(a,c){this.Ad=!0;this.p.push(a);a.Fu(c)},Gr:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Ad=!0;a.Io(p.IS++);a.Fu(c);this.Ha()},kd:function(){if(this.Ad){var a=this.p,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.Oa<f.Oa||g.Oa==f.Oa&&g.af<f.af);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Ad=!1}},Ga:function(){},Aw:function(){null!=this.ga&&(this.ga.Aw(),this.ga.transform())},Uf:function(){this.Uy=!1;this.je=!0;this.yf(this.p,p.H.We.Uf);this.Xv()},sh:function(){this.Uy=!0;this.yf(this.p,p.H.We.sh)},Hg:function(){this.yf(this.p,p.H.We.Hg)},jd:function(){this.je=!1;this.Pv();this.yf(this.p,p.H.We.jd);this.Ph&&this.Ph.mS()},Yv:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Nf().$N(a,this,!this.je);return a},XB:function(){this.Nf().rH(this)},
kU:function(a){this.Nf().qH(a)},V8:function(a){a===p.zm?p.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Nf().lS(a,this)},FA:function(a){return a===p.zm?(p.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Nf().FA(a,this)},m1:function(){return this.Nf().lR(this)},KS:function(){this.LS(0)},LS:function(a){this.Oe().AH(this,a,!this.je)},z9:function(){this.Oe().Qo(this)},Qe:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?p.Sk:d;e=e||0;this.Oe().JS(this,a,c,d,e,!this.je)},vj:function(a,c){this.Qe(a,0,0,c)},yh:function(a){a&&this.Oe().GI(this,a)},Tr:function(){this.Oe().FI(this)},Xv:function(){this.Oe().pm(this);this.Nf().pm(this)},Pv:function(){this.Oe().Er(this);this.Nf().Er(this)},D6:function(a){this.tt=a;this.np=this.gj=!0},E5:function(){this.$t&&(this.dE=p.kC(this.lf()),this.$t=!1);return this.dE},Br:function(){for(var a=this.lf(),c=this.ga;null!=
c;c=c.getParent())a=p.Kk(a,c.lf());return a},FU:function(){return p.kC(this.Br())},Kb:function(a){return p.$C(a,this.FU())},Hc:function(a){return p.$C(a,this.Br())},KO:function(a){return p.Uc(this.Kb(a),this.ad)},CZ:function(a){a=p.mf(a,this.ad);return this.Hc(a)},TX:function(a){a=this.Hc(a);return p.N.d().LO(a)},hh:function(a){return this.Kb(a.P)},DZ:function(a){a=a.P;a=p.N.d().JO(a);return this.KO(a)},update:function(a){this.Ph&&!this.Ph.J3()&&this.Ph.$(a)},qf:function(){this.yf(this.p,p.H.We.qf)},
xH:function(){},xB:function(){},sP:function(a){return this.Ph.sP(a)},FY:function(a){this.Ph.add(a)},h6:function(a){return this.Ph.remove(a)},Z5:function(){this.Ph.mS()},VE:null,Pz:null,My:null,Ym:null,Zj:null,ctor:null,Qg:function(){this.Ry()},Rg:function(){this.Ry();var a=new p.Dg;a.Eg[2]=a.Eg[3]=a.Eg[6]=a.Eg[7]=a.Eg[8]=a.Eg[9]=a.Eg[11]=a.Eg[14]=0;a.Eg[10]=a.Eg[15]=1;this.VE=a;this.My=0;this.Pz=new p.Dg},$:null,Jl:function(a){if(this.V){a=a||p.M;var c,d=this.p,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.kd();for(c=0;c<f;c++)if(e=d[c],0>e.Oa)e.$(a);else break;for(this.Ga(a);c<f;c++)d[c].$(a)}else this.Ga(a);this.af=0;a.restore()}},Kl:function(){if(this.V){var a=p.M,c,d=p.NO;d.stack.push(d.top);p.r4(this.Pz,d.top);d.top=this.Pz;var e=this.Zj;e&&e.SK&&e.pA();this.transform();var f=this.p;if(f&&0<f.length){var g=f.length;this.kd();for(c=0;c<g;c++)if(f[c]&&0>f[c].Oa)f[c].$();else break;for(this.Ga(a);c<g;c++)f[c]&&f[c].$()}else this.Ga(a);this.af=0;e&&e.SK&&e.mA(this);d.top=d.stack.pop()}},
transform:null,IN:function(a){a=a||p.M;var c=p.aa.d(),d=this.lf();a.transform(d.B,d.ma,d.g,d.xa,d.Ia*c.da,-d.Ja*c.la)},JN:function(){var a=this.VE,c=p.NO.top,d=this.lf(),e=a.Eg;e[0]=d.B;e[4]=d.ma;e[12]=d.Ia;e[1]=d.g;e[5]=d.xa;e[13]=d.Ja;e[14]=this.cv;p.$Q(c,c,a);null==this.Ym||null!=this.Zj&&this.Zj.po()||(a=this.ad.m,c=this.ad.n,0!==a||0!==c?(p.YQ(p.uf(a),p.uf(c),0),this.Ym.MG(),p.YQ(p.uf(-a),p.uf(-c),0)):this.Ym.MG())},lf:null,sM:function(){this.fj||(this.fj={B:1,g:0,ma:0,xa:1,Ia:0,Ja:0});if(this.gj){var a=
this.fj;a.Ia=this.f.m;a.Ja=this.f.n;var c=1,d=0;this.Hf&&(c=Math.cos(this.tl),d=Math.sin(this.tl));a.B=a.xa=c;a.g=-d;a.ma=d;var e=this.da,f=this.la,g=this.ad.m,h=this.ad.n,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Bd||this.Cd){var m=Math.tan(-this.Bd*Math.PI/180),n=Math.tan(-this.Cd*Math.PI/180),r=h*m*k,q=g*n*l;a.B=c+-d*n;a.g=c*m+-d;a.ma=d+c*n;a.xa=d*m+c;a.Ia+=c*r+-d*q;a.Ja+=d*r+c*q}if(1!==e||1!==f)a.B*=k,a.ma*=k,a.g*=l,a.xa*=l;a.Ia+=c*-g*k+-d*h*l;a.Ja-=d*-g*k+c*h*l;this.bk&&(a.Ia+=
g,a.Ja+=h);this.np&&(this.fj=p.Kk(this.fj,this.tt),this.np=!1);this.gj=!1}return this.fj},tM:function(){if(this.gj){var a=this.f.m,c=this.f.n,d=this.ad.m,e=-d,f=this.ad.n,g=-f,h=this.da,k=this.la;this.bk&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.Hf||0!==this.Yg)l=Math.cos(-this.tl),m=Math.sin(-this.tl),n=Math.cos(-this.qq),r=Math.sin(-this.qq);var q=this.Bd||this.Cd;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={B:n*h,g:r*h,ma:-m*k,xa:l*k,Ia:a,Ja:c};q&&(a=p.Kk({B:1,g:Math.tan(p.zi(this.Cd)),
ma:Math.tan(p.zi(this.Bd)),xa:1,Ia:0,Ja:0},a),0!==d||0!==f)&&(a=p.Fw(a,e,g));this.np&&(a=p.Kk(a,this.tt),this.np=!1);this.fj=a;this.gj=!1}return this.fj},vl:function(){this.KD=!0;this.ga&&this.ga.vl()},GA:function(){this.Ym||(this.Ym=new p.Vo);return this.Ym},B0:function(){return this.Zj},j7:function(a){this.Zj=a},KA:function(){return this.fc},Wf:function(a){this.fc=a},A0:function(){return this.My},i7:function(a){this.My=a},L_:function(){var a=p.rect(0,0,this.ca.sa,this.ca.ba),c=this.Br(),a=p.cg(a,
this.Br());if(!this.p)return a;for(var d=this.p,e=0;e<d.length;e++){var f=d[e];f&&f.V&&(f=f.WD(c))&&(a=p.Uv(a,f))}return a},WD:function(a){var c=p.rect(0,0,this.ca.sa,this.ca.ba);a=null==a?this.lf():p.Kk(this.lf(),a);c=p.cg(c,a);if(!this.p)return c;for(var d=this.p,e=0;e<d.length;e++){var f=d[e];f&&f.V&&(f=f.WD(a))&&(c=p.Uv(c,f))}return c}});
p.ra.jc?(b=p.H.prototype,b.ctor=p.H.prototype.Rg,b.Ha=p.H.prototype.iN,b.$=p.H.prototype.Kl,b.transform=p.H.prototype.JN,b.lf=p.H.prototype.tM):(b=p.H.prototype,b.ctor=p.H.prototype.Qg,b.Ha=p.H.prototype.hN,b.$=p.H.prototype.Jl,b.transform=p.H.prototype.IN,b.lf=p.H.prototype.sM);p.H.create=function(){return new p.H};p.H.We={Uf:1,jd:2,hf:3,sh:4,qf:5,Hg:6,kd:7};
p.fb=p.H.extend({Sa:!0,yb:255,Gf:255,cc:null,zd:null,Mc:!1,td:!1,ctor:function(){p.H.prototype.ctor.call(this);this.Gf=this.yb=255;this.cc=p.eb();this.zd=p.eb();this.td=this.Mc=!1},ii:function(){return this.Gf},vP:function(){return this.yb},ha:function(a){this.yb=this.Gf=a;a=255;var c=this.ga;c&&c.Sa&&c.td&&(a=c.yb);this.xc(a)},xc:function(a){this.yb=this.Gf*a/255;if(this.td){a=this.p;for(var c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.xc(this.yb)}}},RQ:function(){return this.td},HH:function(a){this.td!==
a&&((this.td=a)?this.Lp():this.uy())},Lp:function(){var a=255,c=this.ga;c&&c.Sa&&c.td&&(a=c.yb);this.xc(a)},uy:function(){this.yb=this.Gf;for(var a=this.p,c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.xc(255)}},Sc:function(){var a=this.zd;return new p.Zb(a.l,a.k,a.g)},er:function(){return this.cc},s:function(a){var c=this.cc,d=this.zd;c.l=d.l=a.l;c.k=d.k=a.k;c.g=d.g=a.g;a=(a=this.ga)&&a.Sa&&a.Mc?a.er():p.eb();this.wc(a)},wc:function(a){var c=this.cc,d=this.zd;c.l=0|d.l*a.l/255;c.k=0|d.k*a.k/255;c.g=0|
d.g*a.g/255;if(this.Mc)for(a=this.p,d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.wc(c)}},QQ:function(){return this.Mc},GH:function(a){this.Mc!==a&&((this.Mc=a)?this.Kp():this.ty())},Kp:function(){var a;a=(a=this.ga)&&a.Sa&&a.Mc?a.er():p.eb();this.wc(a)},ty:function(){var a=this.cc,c=this.zd;a.l=c.l;a.k=c.k;a.g=c.g;for(var a=this.p,c=p.eb(),d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.wc(c)}},v:function(a,c,d){p.H.prototype.v.call(this,a,c,d);this.Mc&&this.Kp();this.td&&this.Lp()},Se:function(){},xk:function(){return!1}});
p.fb.create=function(){var a=new p.fb;a.u();return a};p.nd=p.fb.extend({Sa:!0,jE:0,iE:0,bu:0,au:0,Ki:null,Ca:null,Sb:!1,S:null,nq:0,Ny:!1,ctor:function(){p.fb.prototype.ctor.call(this);this.Ki=p.eb();this.S={src:p.Zd,mb:p.Yd};this.Ny=!1},B9:function(){p.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Sc:function(){return this.Sb?this.Ki:p.fb.prototype.Sc.call(this)},Se:function(a){var c=this.Sc();this.Sb=a;this.s(c)},xk:function(){return this.Sb},dr:function(){return this.S},Ck:function(a,c){this.S=1==arguments.length?a:{src:a,
mb:c}},Mo:function(a){this.Ca=a},hG:function(){return this.Ca},S1:function(){return this.nq},Y7:function(a){this.nq=a},Dl:null,Cf:null,YE:null,Ct:null,FQ:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=p.Db.d().Le(a);return this.ya(a,c,d,e)},ya:null,Zp:function(a,c,d,e){this.bu=c;this.au=d;this.Sb=!0;this.Cf=a;if(!this.Cf)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Dl=this.Cf;this.yt();this.nq=e;return!0},$p:function(a,
c,d,e){this.bu=c;this.au=d;this.Ki=p.eb();this.Sb=!0;this.S.src=p.Zd;this.S.mb=p.Yd;c=this.zd;this.Ct=new Float32Array([c.l/255,c.k/255,c.g/255,this.Gf/255]);this.Ca=new p.Lm;this.Ca.ya(a,e);if(!this.Ca)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Il();this.eF();this.yt();this.nq=e;this.Wf(p.Pg.d().uh(p.aX));this.YE=p.M.getUniformLocation(this.KA().zv(),"u_color");return!0},Ga:null,Bf:function(a){a=a||p.M;p.fx(this);p.pj(this.S.src,this.S.mb);a.uniform4fv(this.YE,
this.Ct);this.Ca.LF(this.nq,0)},s:null,sq:function(a){var c=this.zd;if(c.l!=a.l||c.k!=a.k||c.g!=a.g){c=new p.Zb(a.l,a.k,a.g);this.Ki=a;if(this.Sb){var d=this.yb;c.l=c.l*d/255;c.k=c.k*d/255;c.g=c.g*d/255}p.fb.prototype.s.call(this,a);this.R()&&(a=this.Cf.dc)&&(c=p.Db.d().iG(a))&&(d=p.rect(0,0,a.width,a.height),a=p.EA(a,c,this.zd,d),c=new p.Cb,c.Pe(a),c.Sd(),this.ka(c))}},Bz:function(a){var c=p.Zb(a.l,a.k,a.g);this.Ki=a;var d=this.yb;this.Sb&&(c.l=c.l*d/255,c.k=c.k*d/255,c.g=c.g*d/255);p.fb.prototype.s.call(this,
a);a=this.cc;this.Ct=new Float32Array([a.l/255,a.k/255,a.g/255,d/255])},ha:null,uq:function(a){p.fb.prototype.ha.call(this,a);this.Sb&&this.s(this.Ki)},Ez:function(a){p.fb.prototype.ha.call(this,a);this.Sb?this.s(this.Ki):(a=this.cc,this.Ct=new Float32Array([a.l/255,a.k/255,a.g/255,this.yb/255]))},R:null,Jy:function(){return this.Dl},Ky:function(){return this.Ca.R()},ka:null,vq:function(a){this.Dl=a},wq:function(a){this.Ca.ka(a);this.Il();this.eF()},yt:null,iL:function(){var a=this.R().c();this.iE=
0|a.height/this.au;this.jE=0|a.width/this.bu},jL:function(){var a=this.R(),c=a.c();this.Ny&&(c=a.ca);this.iE=0|c.height/this.au;this.jE=0|c.width/this.bu},Il:function(){this.Ca.R().lr()||(this.S.src=770,this.S.mb=771)},eF:function(){this.Sb=this.Ca.R().lr()},Dz:function(a){this.Ny=a}});
p.ra.jc?(b=p.nd.prototype,b.ya=p.nd.prototype.$p,b.Ga=p.nd.prototype.Bf,b.s=p.nd.prototype.Bz,b.ha=p.nd.prototype.Ez,b.R=p.nd.prototype.Ky,b.ka=p.nd.prototype.wq,b.yt=p.nd.prototype.jL):(b=p.nd.prototype,b.ya=p.nd.prototype.Zp,b.Ga=p.H.prototype.Ga,b.s=p.nd.prototype.sq,b.ha=p.nd.prototype.uq,b.R=p.nd.prototype.Jy,b.ka=p.nd.prototype.vq,b.yt=p.nd.prototype.iL);p.nd.create=function(a,c,d,e){var f=new p.nd;return f.FQ(a,c,d,e)?f:null};p.Di=0;p.ep=1;p.dp=2;p.cp=3;p.wx=4;p.vx=5;p.ct=6;p.bt=7;p.kD=8;p.jD=9;p.iD=p.Di;p.my=p.iD;p.fK=!1;p.uY=function(a,c,d,e){this.iR=a||0;this.fR=c||0;this.SI=d||0;this.TI=e||0};
p.vK=p.oa.extend({wM:null,bf:null,og:null,ng:null,Yy:null,ca:null,jg:null,kg:null,pn:null,il:!1,fc:null,ec:!1,dc:null,gh:null,bd:null,ctor:function(){this.ng=this.og=0;this.Yy="";this.kg=this.jg=0;this.pn=!1;this.ca=p.xl();this.il=!1;this.wM=!0;this.bf=p.Cb.OO();this.fc=null;this.ec=!1;this.gh=this.dc=null;this.bd=[]},yB:function(){this.gh&&p.M.deleteTexture(this.gh)},F1:function(){return this.bf},lo:function(){return this.og},ko:function(){return this.ng},getName:function(){return this.gh},c:function(){return p.size(this.ca.width/
p.Yc(),this.ca.height/p.Yc())},uP:function(){return this.ca},DP:function(){return this.jg},wT:function(a){this.jg=a},EP:function(){return this.kg},xT:function(a){this.kg=a},KA:function(){return this.fc},Wf:function(a){this.fc=a},lr:function(){return this.pn},oQ:function(){return this.il},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.Yy+" | Dimensions \x3d "+this.og+" x "+this.ng+" | Coordinates \x3d ("+this.jg+", "+this.kg+")\x3e"},iS:function(){},WQ:function(a){return a},Cv:function(a,
c,d,e,f){var g=p.M,h=0,h=c===p.Di?24:this.xF(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.gh=g.createTexture();p.Of(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case p.Di:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case p.ep:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case p.ct:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case p.bt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case p.dp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case p.vx:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case p.cp:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case p.wx:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.ca.sa=f.width;this.ca.ba=f.height;this.og=d;this.ng=e;this.bf=c;this.jg=f.width/d;this.kg=f.height/e;this.il=this.pn=!1;this.Wf(p.Pg.d().uh(p.kK));return this.ec=!0},ZO:function(a){var c=[0,this.kg,this.jg,this.kg,0,0,this.jg,
0],d=this.og*this.jg,e=this.ng*this.kg;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];p.Nd(p.eg|p.EK);this.fc.ye();this.fc.iI();p.Of(this);d=p.M;d.vertexAttribPointer(p.be,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(p.ip,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},aP:function(a){var c=[0,this.kg,this.jg,this.kg,0,0,this.jg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];p.Nd(p.eg|p.EK);this.fc.ye();this.fc.iI();p.Of(this);var d=p.M;d.vertexAttribPointer(p.be,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(p.ip,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},WA:function(a){if(null==a)return p.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.ir(),d=a.fr(),e=p.$d.d().gq;if(c>e||d>e)return p.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.ec=!0;return this.TL(a,c,d)},Pe:function(a){a&&(this.gh=p.M.createTexture(),this.dc=a)},yP:function(){return this.dc},Rf:function(){return this.ec},
Sd:function(){this.ec=!0;var a=p.M;p.Of(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.dc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Wf(p.Pg.d().uh(p.kK));p.Of(null);a=this.dc.height;this.og=this.ca.sa=this.dc.width;this.ng=this.ca.ba=
a;this.bf=p.Di;this.kg=this.jg=1;this.il=this.pn=!1;this.sd()},wk:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=p.size(0,0),f=p.Ei,g=p.kp);var h=new p.AJ,k;if(p.kp===g)k=p.Ei===f?p.OU:p.fp===f?p.PU:p.QU;else if(p.lt===g)k=p.Ei===f?p.LU:p.fp===f?p.MU:p.NU;else if(p.jp===g)k=p.Ei===f?p.IU:p.fp===f?p.JU:p.KU;else return p.log("Not supported alignment format!"),!1;return h.wk(a,e.width,e.height,k,c,d)?this.WA(h):!1},yQ:function(){return!1},zG:function(a){var c=!1,d=new p.qX;
(c=d.q3(a))?(d.g8(!0),this.Yy=d.getName(),this.kg=this.jg=1,this.og=d.ir(),this.ng=d.fr(),this.ca.sa=this.og,this.ca.ba=this.ng,this.pn=p.fK,this.bf=d.y0(),this.DH()):p.log("cocos2d: Couldn't load PVR image "+a);return c},CQ:function(){return p.$d.d().Fq?!0:(p.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},PT:function(a){var c=p.M;p.ds(this.og==p.Fm(this.og)&&this.ng==p.Fm(this.ng)||a.SI==c.CLAMP_TO_EDGE&&a.TI==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
p.Of(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.iR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.fR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.SI);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.TI)},DH:function(){var a=p.M;p.Of(this);this.il?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},CH:function(){var a=p.M;p.Of(this);
this.il?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){p.ds(this.og==p.Fm(this.og)&&this.ng==p.Fm(this.ng),"Mimpap texture only works in POT textures");p.Of(this);p.M.generateMipmap(p.M.TEXTURE_2D);this.il=!0},lU:function(){switch(this.bf){case p.Di:return"RGBA8888";case p.ep:return"RGB888";case p.dp:return"RGB565";case p.ct:return"RGBA4444";
case p.bt:return"RGB5A1";case p.vx:return"AI88";case p.cp:return"A8";case p.wx:return"I8";case p.kD:return"PVRTC4";case p.jD:return"PVRTC2";default:p.log("stringForFormat: "+this.bf+", cannot give useful result, it's a unrecognized pixel format")}return""},xF:function(a){a=a||this.bf;switch(a){case p.Di:return 32;case p.ep:return 32;case p.dp:return 16;case p.cp:return 8;case p.ct:return 16;case p.bt:return 16;case p.kD:return 4;case p.jD:return 2;case p.wx:return 8;case p.vx:return 16;default:return p.log("bitsPerPixelForFormat: "+
this.bf+", cannot give useful result, it's a illegal pixel format"),-1}},TL:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.g3(),h=p.size(a.ir(),a.fr()),k=p.iD,l=a.J_();g||(8<=l?k=p.ep:(p.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=p.dp));var m=c*d;if(k==p.dp)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==p.ct)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==p.bt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==p.cp)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==p.ep)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Cv(e,k,c,d,h);a.getData();this.pn=a.X3();return!0},gf:function(a,c){this.bd.push({nj:a,jh:c})},sS:function(a){for(var c=this.bd,d=0;d<c.length;d++)c[d].jh==a&&c.splice(d,1)},sd:function(){for(var a=this.bd,c=0,d=a.length;c<d;c++){var e=a[c];e.nj.call(e.jh,this)}a.length=0}});
p.uK=p.oa.extend({ca:null,ec:!1,dc:null,bd:null,ctor:function(){this.ca=p.xl();this.ec=!1;this.dc=null;this.bd=[]},lo:function(){return this.ca.sa},ko:function(){return this.ca.ba},c:function(){var a=p.Yc();return p.size(this.ca.sa/a,this.ca.ba/a)},uP:function(){return this.ca},Pe:function(a){a&&(this.dc=a)},yP:function(){return this.dc},Rf:function(){return this.ec},Sd:function(){this.ec=!0;var a=this.dc;this.ca.sa=a.width;this.ca.ba=a.height;this.sd()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.ca.sa+" height "+this.ca.ba+"\x3e"},Cv:function(){return!1},WA:function(){return!1},wk:function(){return!1},yB:function(){},getName:function(){return null},DP:function(){return 1},wT:function(){},EP:function(){return 1},xT:function(){},KA:function(){return null},Wf:function(){},lr:function(){return!1},oQ:function(){return!1},iS:function(){},WQ:function(a){return a},ZO:function(){},aP:function(){},yQ:function(){return!1},zG:function(){return!1},CQ:function(){return!0},PT:function(){},DH:function(){},
CH:function(){},generateMipmap:function(){},lU:function(){return""},xF:function(){return-1},gf:function(a,c){this.bd.push({nj:a,jh:c})},sS:function(a){for(var c=this.bd,d=0;d<c.length;d++)c[d].jh==a&&c.splice(d,1)},sd:function(){for(var a=this.bd,c=0,d=a.length;c<d;c++){var e=a[c];e.nj.call(e.jh,this)}a.length=0}});p.Cb=p.ra.jc?p.vK:p.uK;p.Cb.U6=function(a){p.my=a};p.Cb.OO=function(){return p.my};p.Cb.g0=function(){return p.my};p.cr=null;p.C4=function(a){if(p.GO(a)==p.uJ)p.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){p.Db.d().qO(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};p.GO=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?p.NV:0<a.toLowerCase().indexOf(".png")?p.OV:0<a.toLowerCase().indexOf(".webp")?p.QV:p.uJ};
p.Db=p.oa.extend({Xa:null,Gq:null,Qu:null,zE:!1,eu:null,fu:null,ctor:function(){if(p.cr)throw"Attempted to allocate a second instance of a singleton.";this.Qu+=0|1E3*Math.random();this.Xa={};this.Gq={};p.Vc===p.Nj&&(this.eu={},this.fu={})},Qx:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},aM:function(){this.zE=!0;var a,c=this.eu,d=this.Xa;for(a in c){var e=c[a],f=new p.Cb;f.Pe(e);f.Sd();d[a]=f}this.eu={}},MY:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},
HY:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.Xa.length+"\x3e"},ww:function(a){a=p.Zc.d().Ld(a);return this.Xa.hasOwnProperty(a)?this.Xa[a]:null},AP:function(a){for(var c in this.Xa)if(this.Xa[c]==a)return c;return null},KL:function(){this.Qu++;return"_textureKey_"+this.Qu},iG:function(a){var c=this.AP(a);c||(c=a instanceof HTMLImageElement?a.src:this.KL());this.Gq.hasOwnProperty(c)||(this.Gq[c]=
p.fo(a));return this.Gq[c]},LY:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=p.Zc.d().Ld(a);if(null!=this.Xa[a])return this.Xa[a];var c=new p.Cb;c.zG(a)?this.Xa[a]=c:p.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},c6:function(){var a=this.Xa,c;for(c in a)a[c]&&a[c].yB();this.Xa={}},r6:function(a){if(a){var c=this.Xa,d;for(d in c)c[d]==a&&(c[d].yB(),delete c[d])}},wS:function(a){null!=a&&(a=p.Zc.d().Ld(a),this.Xa[a]&&delete this.Xa[a])},IY:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=p.Zc.d().Ld(a);var e=this.Xa[a],f,g;if(e)e.Rf()?this.Qx(c,d):(g=this,f=e.dc,f.addEventListener("load",function(){e.Sd();g.Qx(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.Xa.hasOwnProperty(a)&&g.Xa[a].Sd();g.Qx(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){p.Bb.d().gm(a);g.Xa.hasOwnProperty(a)&&delete g.Xa[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new p.Cb;h.Pe(f);this.Xa[a]=h}return this.Xa[a]},UK:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){p.Bb.d().th();d.eu[a]=c;delete d.fu[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){p.Bb.d().gm(a);
delete d.fu[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.fu[a]=c},Le:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(p.Vc===p.Nj&&!this.zE)return this.UK(a);a=p.Zc.d().Ld(a);var c=this.Xa[a],d;if(c)c.Rf()?p.Bb.d().th():(d=c.dc,d.addEventListener("load",function(){c.Sd();p.Bb.d().th();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){p.Bb.d().th();e.Xa.hasOwnProperty(a)&&
e.Xa[a].Sd();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){p.Bb.d().gm(a);e.Xa.hasOwnProperty(a)&&delete e.Xa[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new p.Cb;f.Pe(d);this.Xa[a]=f}return this.Xa[a]},qO:function(a,c){if(c instanceof p.Cb)this.Xa[a]=c;else{var d=new p.Cb;d.Pe(c);d.Sd();this.Xa[a]=d}},RY:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.Xa.hasOwnProperty(c)&&this.Xa[c])return this.Xa[c];var d=new p.Cb;d.WA(a);null!=c&&null!=d?this.Xa[c]=d:p.log("cocos2d: Couldn't add UIImage in TextureCache");return d},UZ:function(){var a=0,c=0,d=this.Xa,e;for(e in d){var f=d[e];a++;f.dc instanceof HTMLImageElement?p.log("cocos2d: '"+e+"' id\x3d"+f.dc.src+" "+f.lo()+" x "+f.ko()):p.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.lo()+" x "+f.ko());c+=f.lo()*f.ko()*4}d=this.Gq;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;p.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}p.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});p.Db.d=function(){p.cr||(p.cr=new p.Db);return p.cr};p.Db.$R=function(){p.cr=null};p.Lm=p.oa.extend({Oc:null,Nh:null,va:!1,Ac:0,pa:null,ge:null,Ef:null,oq:null,Ff:null,ctor:function(){this.Nh=[]},H2:function(){return this.Ea},R_:function(){return this.Ac},R:function(){return this.pa},ka:function(a){this.pa=a},Vf:function(a){this.va=a},GG:function(){return this.va},R1:function(){return this.ge},X7:function(a){this.ge=a},UX:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Eu(a[d],c+d)},Eu:function(a,c){var d=this.ge;d[c]?(d[c].wa=a.wa,d[c].Fa=a.Fa,d[c].Da=a.Da,d[c].za=a.za):d[c]=
new p.Fb(a.Da,a.wa,a.za,a.Fa,this.Ef,c*p.Fb.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ea+"\x3e"},ME:function(){if(0!==this.Ac)for(var a=this.Oc,c=this.Ac,d=0;d<c;d++)p.lD?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},xN:function(){var a=p.M;this.Nh[0]=a.createBuffer();this.Nh[1]=a.createBuffer();this.oq=a.createBuffer();
this.lE()},lE:function(){var a=p.M;a.bindBuffer(a.ARRAY_BUFFER,this.oq);a.bufferData(a.ARRAY_BUFFER,this.Ef,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Nh[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Oc,a.STATIC_DRAW)},mi:function(a,c){var d=p.Db.d().Le(a);if(d)return this.ya(d,c);p.log("cocos2d: Could not open file: "+a);return!1},ya:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Ac=c|=0;this.Ea=0;this.pa=a;this.ge=[];this.Oc=new Uint16Array(6*
c);var d=p.Fb.BYTES_PER_ELEMENT;this.Ef=new ArrayBuffer(d*c);this.Ff=new Uint8Array(this.Ef);if((!this.ge||!this.Oc)&&0<c)return!1;for(var e=this.ge,f=0;f<c;f++)e[f]=new p.Fb(null,null,null,null,this.Ef,f*d);this.ME();this.xN();return this.va=!0},Cw:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Ac)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ea=Math.max(c+1,this.Ea);this.Eu(a,c);this.va=!0},bB:function(a,c){if(c>=this.Ac)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ea++;if(this.Ea>this.Ac)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=p.Fb.BYTES_PER_ELEMENT,e=c*d,f=(this.Ea-1-c)*d;this.ge[this.Ea-1]=new p.Fb(null,null,null,null,this.Ef,(this.Ea-1)*d);this.Ff.set(this.Ff.subarray(e,e+f),e+d);this.Eu(a,c);this.va=!0}},w3:function(a,c,d){d=d||a.length;if(c+d>this.Ac)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=p.Fb.BYTES_PER_ELEMENT;this.Ea+=d;if(this.Ea>this.Ac)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ea-1-c-d)*e,h=this.Ea-1-d,k;for(k=0;k<d;k++)this.ge[h+k]=new p.Fb(null,null,null,null,this.Ef,(this.Ea-1)*e);this.Ff.set(this.Ff.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Eu(a[k],c+k);this.va=!0}},v3:function(a,c){if(a!==c){if(0>c&&c>=this.Ea)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ea)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=p.Fb.BYTES_PER_ELEMENT,e=this.Ff,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.va=!0}},uS:function(a){if(a>=this.Ea)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=p.Fb.BYTES_PER_ELEMENT;this.Ea--;this.ge.length=this.Ea;if(a!==this.Ea){var d=(a+1)*c;this.Ff.set(this.Ff.subarray(d,d+(this.Ea-a)*c),d-c)}this.va=!0},j6:function(a,c){if(a+c>this.Ea)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ea-=c;if(a!==this.Ea){var d=p.Fb.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Ff.set(this.Ff.subarray(e,e+(this.Ea-a)*d),a*d)}this.va=!0},oS:function(){this.Ea=this.ge.length=0},rY:function(a){this.va=a},yS:function(a){if(a==this.Ac)return!0;var c=p.Fb.BYTES_PER_ELEMENT,d=this.Ac;this.Ea=Math.min(this.Ea,a);var e=this.Ac=0|a,f=this.Ea;if(null==this.ge)for(this.ge=[],this.Ef=new ArrayBuffer(c*e),this.Ff=new Uint8Array(this.Ef),a=0;a<e;a++)this.ge=new p.Fb(null,null,null,null,this.Ef,a*c);else{var g,h,k=this.ge;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new p.Fb(k[a].Da,k[a].wa,k[a].za,k[a].Fa,h,a*c);for(;a<e;a++)g[a]=new p.Fb(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new p.Fb(k[a].Da,k[a].wa,k[a].za,k[a].Fa,h,a*c);this.Ff=new Uint8Array(h);this.ge=g;this.Ef=h}null==this.Oc?this.Oc=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Oc,0),this.Oc=c):this.Oc=this.Oc.subarray(0,6*e);this.ME();this.lE();return this.va=!0},n3:function(a){this.Ea+=a},L4:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ea-a;if(d+(this.Ea-a)>this.Ac)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ea)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ea)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=p.Fb.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Ff,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.va=!0},o_:function(a,
c){for(var d=c*p.Fb.BYTES_PER_ELEMENT,e=new Uint8Array(this.Ef,a*p.Fb.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},LF:function(a,c){c=c||0;if(0!==a&&this.pa&&this.pa.Rf()){var d=p.M;p.Of(this.pa);p.Nd(p.kt);d.bindBuffer(d.ARRAY_BUFFER,this.oq);this.va&&d.bufferData(d.ARRAY_BUFFER,this.Ef,d.DYNAMIC_DRAW);d.vertexAttribPointer(p.be,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(p.hp,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(p.ip,2,d.FLOAT,!1,24,16);this.va&&(this.va=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Nh[1]);p.lD?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Oc.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Oc.BYTES_PER_ELEMENT);p.kh++}},bP:function(){this.LF(this.Ea,0)},oY:function(){var a=p.M;this.Nh&&(this.Nh[0]&&a.deleteBuffer(this.Nh[0]),this.Nh[1]&&a.deleteBuffer(this.Nh[1]));this.oq&&a.deleteBuffer(this.oq)}});p.Lm.create=function(a,c){var d=new p.Lm;return d&&d.mi(a,c)?d:null};p.Lm.Dd=function(a,c){var d=new p.Lm;return d&&d.ya(a,c)?d:null};p.ap=p.H.extend({ctor:function(){p.H.prototype.ctor.call(this);this.bk=!0;this.ja(0.5,0.5);this.ea(p.N.d().ub)}});p.ap.create=function(){return new p.ap};p.xx=0;p.lX=1;
p.kc=p.H.extend({dk:!1,ck:!1,rn:!1,qk:0,Oq:p.xx,kl:!1,An:0,ctor:function(){p.H.prototype.ctor.call(this);this.rn=this.ck=this.dk=!1;this.qk=0;this.Oq=p.xx;this.kl=!1;this.An=0},SL:function(){this.ja(0.5,0.5);this.bk=!0;var a=p.N.d();this.ea(a.ub)},u:function(){p.H.prototype.u.call(this);this.SL();return!0},Vv:function(){this.Oq===p.xx?p.hS(this,this.qk):p.wB(this.qk,!0,this)},Q3:function(){return this.kl},NB:function(a){if(!p.qd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.kl!=
a&&(this.kl=a,this.je&&(a?p.N.d().Ne().qF(this,this.An):p.N.d().Ne().sH(this)))},D7:function(a){if(!p.qd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.An!==a&&(this.An=a,this.kl&&(this.NB(!1),this.NB(!0)))},j1:function(){return this.An},i4:function(){return this.dk},Xb:function(a){this.dk!==a&&(this.dk=a,this.je&&(a?this.Vv():p.EI(this)))},L2:function(){return this.qk},nw:function(a){this.qk!==a&&(this.qk=a,this.dk&&(this.Xb(!1),this.Xb(!0)))},K2:function(){return this.Oq},
gI:function(a){this.Oq!==a&&(this.Oq=a,this.dk&&(this.Xb(!1),this.Xb(!0)))},z3:function(){return this.ck},B6:function(a){if(!p.Hj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.ck&&(this.ck=a,this.je)){var c=p.N.d();a?c.ho().Kg(this):c.ho().Kg(null)}},QS:function(a){this.ck&&p.Hj&&p.N.d().ho().QS(a)},b5:function(){p.log("onAccelerometer event should be handled.")},P3:function(){return this.rn},u7:function(a){if(!p.Em)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.rn&&(this.rn=a,this.je)){var c=p.N.d();a?c.xv().aO(this):c.xv().qS(this)}},Uf:function(){var a=p.N.d();this.dk&&this.Vv();p.H.prototype.Uf.call(this);this.ck&&p.Hj&&a.ho().Kg(this);this.rn&&p.Em&&a.xv().aO(this);this.kl&&p.qd&&a.Ne().qF(this,this.An)},jd:function(){var a=p.N.d();this.dk&&p.EI(this);this.ck&&p.Hj&&a.ho().Kg(null);this.rn&&p.Em&&a.xv().qS(this);this.kl&&p.qd&&a.Ne().sH(this);p.H.prototype.jd.call(this)},sh:function(){this.ck&&p.Hj&&p.N.d().ho().Kg(this);p.H.prototype.sh.call(this)},
Mb:function(){p.log("onTouchBegan event should be handled.");return!0},Tc:function(){},se:function(){},uj:function(){},WG:function(){},ZG:function(){},YG:function(){},XG:function(){},pR:function(){return!1},qR:function(){return!1},qi:function(){return!1},tR:function(){return!1},xR:function(){return!1},yR:function(){return!1},zR:function(){return!1},uR:function(){return!1},vR:function(){return!1},wR:function(){return!1},AR:function(){return!1},rR:function(){return!1},sR:function(){return!1},iB:function(){},
Lv:function(){}});p.kc.create=function(){var a=new p.kc;return a&&a.u()?a:null};
p.Og=p.kc.extend({Sa:!0,yb:0,Gf:0,cc:null,zd:null,td:!1,Mc:!1,ctor:function(){p.kc.prototype.ctor.call(this);this.Sa=!0;this.Gf=this.yb=255;this.cc=p.eb();this.zd=p.eb();this.Mc=this.td=!1},u:function(){return p.kc.prototype.u.call(this)?(this.HH(!1),this.GH(!1),!0):!1},ii:function(){return this.Gf},vP:function(){return this.yb},ha:function(a){this.yb=this.Gf=a;a=255;var c=this.ga;c&&c.Sa&&c.td&&(a=c.yb);this.xc(a)},xc:function(a){this.yb=0|this.Gf*a/255;if(this.td){a=this.p;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.Sa&&d.xc(this.yb)}}},RQ:function(){return this.td},HH:function(a){this.td!==a&&((this.td=a)?this.Lp():this.uy())},Lp:function(){var a=255,c=this.ga;c&&c.Sa&&c.td&&(a=c.yb);this.xc(a)},uy:function(){this.yb=this.Gf;for(var a=this.p,c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.xc(255)}},Sc:function(){var a=this.zd;return p.q(a.l,a.k,a.g)},er:function(){var a=this.cc;return p.q(a.l,a.k,a.g)},s:function(a){var c=this.cc,d=this.zd;c.l=d.l=a.l;c.k=d.k=a.k;c.g=d.g=a.g;a=(a=this.ga)&&a.Sa&&a.Mc?a.er():
p.eb();this.wc(a)},wc:function(a){var c=this.cc,d=this.zd;c.l=0|d.l*a.l/255;c.k=0|d.k*a.k/255;c.g=0|d.g*a.g/255;if(this.Mc)for(a=this.p,d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.wc(c)}},QQ:function(){return this.Mc},GH:function(a){this.Mc!==a&&((this.Mc=a)?this.Kp():this.ty())},Kp:function(){var a;a=(a=this.ga)&&a.Sa&&a.Mc?a.er():p.eb();this.wc(a)},ty:function(){var a=this.cc,c=this.zd;a.l=c.l;a.k=c.k;a.g=c.g;for(var a=this.p,c=p.eb(),d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.wc(c)}},v:function(a,
c,d){p.H.prototype.v.call(this,a,c,d);this.Mc&&this.Kp();this.td&&this.Lp()},Se:function(){},xk:function(){return!1}});
p.Ob=p.Og.extend({S:null,dr:function(){return this.S},xZ:function(a,c){this.ea(a,c)},wZ:function(a){this.ea(a,this.ca.ba)},tZ:function(a){this.ea(this.ca.sa,a)},Se:function(){},xk:function(){return!1},s:function(a){p.Og.prototype.s.call(this,a);this.Qc()},ha:function(a){p.Og.prototype.ha.call(this,a);this.Qc()},sn:!1,QE:null,Mz:null,eA:null,hy:null,Oz:null,Nz:null,Qg:function(){p.Og.prototype.ctor.call(this);this.S=new p.Ok(p.Zd,p.Yd)},Rg:function(){p.Og.prototype.ctor.call(this);this.S=new p.Ok(p.Zd,
p.Yd);this.Oz=new ArrayBuffer(32);this.Nz=new ArrayBuffer(64);var a=this.Oz,c=this.Nz,d=p.hb.BYTES_PER_ELEMENT,e=p.od.BYTES_PER_ELEMENT;this.QE=[new p.hb(0,0,a,0),new p.hb(0,0,a,d),new p.hb(0,0,a,2*d),new p.hb(0,0,a,3*d)];this.Mz=[new p.od(0,0,0,1,c,0),new p.od(0,0,0,1,c,e),new p.od(0,0,0,1,c,2*e),new p.od(0,0,0,1,c,3*e)];this.eA=p.M.createBuffer();this.hy=p.M.createBuffer()},Ck:function(a,c){this.S=1==arguments.length?a:{src:a,mb:c};p.Vc===p.sf&&(this.sn=this.S&&1==this.S.src&&771==this.S.mb)},u:function(a,
c,d){if(!p.kc.prototype.u.call(this))return!1;p.Vc!==p.sf&&this.Wf(p.Pg.d().uh(p.jK));var e=p.N.d().ub;a=a||new p.sb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.cc;e.l=a.l;e.k=a.k;e.g=a.g;e=this.zd;e.l=a.l;e.k=a.k;e.g=a.g;this.Gf=this.yb=a.B;this.ea(c,d);this.Qc();return!0},ea:null,cN:function(a,c){var d=this.QE;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.HD(),p.kc.prototype.ea.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.HD(),p.kc.prototype.ea.call(this,
a))},Qc:null,NN:function(){},ON:function(){for(var a=this.cc,c=this.yb,d=this.Mz,e=0;4>e;e++)d[e].l=a.l/255,d[e].k=a.k/255,d[e].g=a.g/255,d[e].B=c/255;this.GD()},wc:function(a){p.Og.prototype.wc.call(this,a);this.Qc()},xc:function(a){p.Og.prototype.xc.call(this,a);this.Qc()},HD:function(){var a=p.M;a.bindBuffer(a.ARRAY_BUFFER,this.eA);a.bufferData(a.ARRAY_BUFFER,this.Oz,a.STATIC_DRAW)},GD:function(){var a=p.M;a.bindBuffer(a.ARRAY_BUFFER,this.hy);a.bufferData(a.ARRAY_BUFFER,this.Nz,a.STATIC_DRAW)},
Ga:null,dl:function(a){a=a||p.M;var c=this.c(),d=p.aa.d(),e=this.cc;a.fillStyle="rgba("+(0|e.l)+","+(0|e.k)+","+(0|e.g)+","+this.yb/255+")";a.fillRect(0,0,c.width*d.da,-c.height*d.la);p.kh++},Bf:function(a){a=a||p.M;p.fx(this);p.Nd(p.eg|p.DK);a.bindBuffer(a.ARRAY_BUFFER,this.eA);a.vertexAttribPointer(p.be,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.hy);a.vertexAttribPointer(p.hp,4,a.FLOAT,!1,0,0);p.pj(this.S.src,this.S.mb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
p.ra.jc?(p.Ob.prototype.ctor=p.Ob.prototype.Rg,p.Ob.prototype.ea=p.Ob.prototype.cN,p.Ob.prototype.Qc=p.Ob.prototype.ON,p.Ob.prototype.Ga=p.Ob.prototype.Bf):(p.Ob.prototype.ctor=p.Ob.prototype.Qg,p.Ob.prototype.ea=p.Og.prototype.ea,p.Ob.prototype.Qc=p.Ob.prototype.NN,p.Ob.prototype.Ga=p.Ob.prototype.dl);p.Ob.create=function(a,c,d){var e=new p.Ob;switch(arguments.length){case 0:e.u();break;case 1:e.u(a);break;case 3:e.u(a,c,d);break;default:e.u()}return e};
p.JC=p.Ob.extend({RE:null,kn:null,Jn:null,ln:null,Wk:null,Et:!1,Wp:null,Vp:null,ctor:function(){p.Ob.prototype.ctor.call(this);this.RE=new p.Zb(0,0,0);this.kn=new p.Zb(0,0,0);this.Wk=p.a(0,-1);this.ln=this.Jn=255;this.Wp=p.a(0,0);this.Vp=p.a(0,0)},ea:function(a,c){2===arguments.length?p.Ob.prototype.ea.call(this,a,c):p.Ob.prototype.ea.call(this,a);this.Qc()},p2:function(){return this.zd},n8:function(a){this.s(a)},b7:function(a){this.kn=a;this.Qc()},p0:function(){return this.kn},o8:function(a){this.Jn=
a;this.Qc()},q2:function(){return this.Jn},c7:function(a){this.ln=a;this.Qc()},q0:function(){return this.ln},G8:function(a){this.Wk.x=a.x;this.Wk.y=a.y;this.Qc()},P2:function(){return p.a(this.Wk.x,this.Wk.y)},E3:function(){return this.Et},Q6:function(a){this.Et=a;this.Qc()},u:function(a,c,d){a=a||p.sA(0,0,0,255);c=c||p.sA(0,0,0,255);d=d||p.a(0,-1);var e=this.RE,f=this.kn;e.l=a.l;e.k=a.k;e.g=a.g;this.Jn=a.B;f.l=c.l;f.k=c.k;f.g=c.g;this.ln=c.B;this.Wk=d;this.Et=!0;p.Ob.prototype.u.call(this,p.i(a.l,
a.k,a.g,255));return!0},Ga:function(a){if(p.Vc===p.Nj)p.Ob.prototype.Ga.call(this,a);else{a=a||p.M;this.sn&&(a.globalCompositeOperation="lighter");a.save();var c=p.aa.d(),d=this.yb/255,e=this.c().width*c.da,c=this.c().height*c.la,f=a.createLinearGradient(this.Wp.x,this.Wp.y,this.Vp.x,this.Vp.y),g=this.cc,h=this.kn;f.addColorStop(0,"rgba("+Math.round(g.l)+","+Math.round(g.k)+","+Math.round(g.g)+","+(this.Jn/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.l)+","+Math.round(h.k)+","+Math.round(h.g)+
","+(this.ln/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.UM&&a.rotate(this.pY);a.restore()}},Qc:function(){var a=this.Wk;if(p.Vc===p.sf){var c=0.5*this.c().width,d=0.5*this.c().height;this.Wp.x=c*-a.x+c;this.Wp.y=d*a.y-d;this.Vp.x=c*a.x+c;this.Vp.y=d*-a.y-d}else if(d=p.lB(a),0!==d){c=Math.sqrt(2);a=p.a(a.x/d,a.y/d);this.Et&&(a=p.ri(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.yb/255,f=this.cc,g=this.kn,d=f.l/255,h=f.k/255,f=f.g/255,k=this.Jn*e/255,l=g.l/255,m=g.k/255,g=g.g/
255,e=this.ln*e/255,n=this.Mz,r=n[0],q=n[1],t=n[2],n=n[3];r.l=l+(c+a.x+a.y)/(2*c)*(d-l);r.k=m+(c+a.x+a.y)/(2*c)*(h-m);r.g=g+(c+a.x+a.y)/(2*c)*(f-g);r.B=e+(c+a.x+a.y)/(2*c)*(k-e);q.l=l+(c-a.x+a.y)/(2*c)*(d-l);q.k=m+(c-a.x+a.y)/(2*c)*(h-m);q.g=g+(c-a.x+a.y)/(2*c)*(f-g);q.B=e+(c-a.x+a.y)/(2*c)*(k-e);t.l=l+(c+a.x-a.y)/(2*c)*(d-l);t.k=m+(c+a.x-a.y)/(2*c)*(h-m);t.g=g+(c+a.x-a.y)/(2*c)*(f-g);t.B=e+(c+a.x-a.y)/(2*c)*(k-e);n.l=l+(c-a.x-a.y)/(2*c)*(d-l);n.k=m+(c-a.x-a.y)/(2*c)*(h-m);n.g=g+(c-a.x-a.y)/(2*c)*
(f-g);n.B=e+(c-a.x-a.y)/(2*c)*(k-e);this.GD()}}});p.JC.create=function(a,c,d){var e=new p.JC;switch(arguments.length){case 2:if(e&&e.u(a,c))return e;break;case 3:if(e&&e.u(a,c,d))return e;break;case 0:if(e&&e.u())return e;break;default:throw"Arguments error ";}return null};
p.KC=p.kc.extend({Xj:0,ig:null,s3:function(a){this.ig=[];this.ig.push(a);this.Xj=0;this.v(a);return!0},AQ:function(a){this.ig=a;this.Xj=0;this.v(this.ig[this.Xj]);return!0},f9:function(a){a>=this.ig.length?p.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.ig[this.Xj],!0),this.Xj=a,this.v(this.ig[a]))},g9:function(a){a>=this.ig.length?p.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.ig[this.Xj],
!0),this.ig[this.Xj]=null,this.Xj=a,this.v(this.ig[a]))},JY:function(a){a?this.ig.push(a):p.log("cc.Layer.addLayer(): layer should be non-null")}});p.KC.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&p.log("parameters should not be ending with null in Javascript");var a=new p.KC;return a.AQ(arguments)?a:null};p.rx=-1;
p.fo=function(a){function c(){var c=p.fo,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.$B.width=e;c.$B.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.AI.drawImage(a,0,0);for(var n=c.AI.getImageData(0,0,e,h),r=n.data,q=0;q<k.length;q+=4)r[q]=0===l?k[q]:0,r[q+
1]=1===l?k[q+1]:0,r[q+2]=2===l?k[q+2]:0,r[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.AO;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.AO=d};p.fo.canvas=document.createElement("canvas");p.fo.$B=document.createElement("canvas");p.fo.AI=p.fo.$B.getContext("2d");
p.x_=function(a,c,d){d||(d=p.rect(0,0,a.width,a.height),d=p.Zo(d));c=c instanceof p.od?p.i(255*c.l,255*c.k,255*c.g,255*c.B):p.i(c.l,c.k,c.g,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.B/255;f.fillStyle="rgb("+c.l+","+c.k+","+c.g+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
p.EA=function(a,c,d,e,f){e||(e=p.rect(0,0,a.width,a.height));a=null==d.B?p.hv(d.l/255,d.k/255,d.g/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.l&&(h.globalAlpha=a.l*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.k&&(h.globalAlpha=a.k*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.l+a.k+a.g&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};p.DF=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
p.tX=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Gk=e;this.visible=g};p.uf=function(a){return 0|a};p.mK&&(p.uf=function(a){return a});
p.A=p.fb.extend({Sa:!0,Ca:null,rc:0,Ta:null,va:!1,Vg:null,Uh:null,lk:!1,Hl:null,S:null,pa:null,ia:null,sc:!1,Ib:null,dh:null,Sb:!1,Qb:!1,Rb:!1,Wa:!1,bd:null,sE:null,CI:function(){return this.Wa},gf:function(a,c){this.bd.push({nj:a,jh:c})},sd:function(){for(var a=this.bd,c=0,d=a.length;c<d;c++){var e=a[c];e.nj.call(e.jh,this)}a.length=0},GG:function(){return this.va},Vf:function(a){this.va=a},g4:function(){return this.sc},F_:function(){return this.rc},Wd:function(a){this.rc=a},MA:function(){return p.rect(this.ia.x,
this.ia.y,this.ia.width,this.ia.height)},hG:function(){return this.Ca},Mo:function(a){this.Ca=a},o2:function(){return this.Ta},m8:function(a){this.Ta=a},v1:function(){return this.Ib},dr:function(){return this.S},Td:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.Wa||(this.Wa=!1,a.gf(this.Kz,this));var c=this.ya(a.R(),a.Md());this.Go(a);return c},Kz:null,CN:function(a){this.Ha();this.Ab(a.Md(),a.Ec,a.Dc);this.sd()},BN:function(a){this.Ha();this.Ab(a.Md(),
a.Ec,a.Dc);a=this.Sc();255===a.l&&255===a.k&&255===a.g||this.At();this.sd()},BG:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=p.wf.d().Bg(a);return this.Td(a)},F9:function(a){this.Ca=a.Ca;this.Ta=a},VB:function(a){this.ia.x=a.x;this.ia.y=a.y;this.ia.width=a.width;this.ia.height=a.height},kd:function(){if(this.Ad){for(var a,c,d=this.p,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.Oa<e.Oa||c.Oa==e.Oa&&c.af<e.af);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.Ta&&this.yf(d,p.H.We.kd);this.Ad=!1}},Gr:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.p.indexOf(a)?p.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.Oa&&(this.Ta&&!this.Ad&&(this.Fz(),this.Ta.tH(!0)),p.H.prototype.Gr.call(this,a,c))},removeChild:function(a,c){this.Ta&&this.Ta.om(a);p.H.prototype.removeChild.call(this,a,c)},vh:function(a){var c=this.p,d=this.Ta;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.om(c[e]);p.H.prototype.vh.call(this,
a);this.Uh=!1},MH:function(a){this.Vg=a;this.Vf(a);a=this.p;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof p.A&&a[c].MH(!0)},dg:function(){this.Ta&&!this.Vg&&(this.va=this.Vg=!0,this.Uh&&this.MH(!0))},J:function(a,c){2<=arguments.length?p.H.prototype.J.call(this,a,arguments[1]):p.H.prototype.J.call(this,a);this.dg()},hw:function(a){p.H.prototype.hw.call(this,a);this.dg()},iw:function(a){p.H.prototype.iw.call(this,a);this.dg()},jw:function(a){p.H.prototype.jw.call(this,a);this.dg()},lw:function(a){p.H.prototype.lw.call(this,
a);this.dg()},mw:function(a){p.H.prototype.mw.call(this,a);this.dg()},Ko:function(a){p.H.prototype.Ko.call(this,a);this.dg()},tm:function(a){p.H.prototype.tm.call(this,a);this.dg()},Aj:function(a,c){p.H.prototype.Aj.call(this,a,c);this.dg()},jI:function(a){p.H.prototype.jI.call(this,a);this.dg()},ja:function(a,c){2===arguments.length?p.H.prototype.ja.call(this,a,c):p.H.prototype.ja.call(this,a);this.dg()},F:function(a){p.H.prototype.F.call(this,a);this.dg()},li:function(a){this.Ta?p.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
p.H.prototype.li.call(this,a)},lT:function(a){this.Qb!=a&&(this.Qb=a,this.Ab(this.ia,this.sc,this.ca),this.Ha())},mT:function(a){this.Rb!=a&&(this.Rb=a,this.Ab(this.ia,this.sc,this.ca),this.Ha())},K3:function(){return this.Qb},L3:function(){return this.Rb},Se:null,kN:function(a){this.Sb!==a&&(this.Sb=a,this.Ur())},jN:function(a){this.Sb!==a&&(this.Sb=a,this.Ha())},xk:function(){return this.Sb},xc:null,RN:function(a){p.fb.prototype.xc.call(this,a);this.Ur()},cF:function(a){p.fb.prototype.xc.call(this,
a);this.vl()},Y6:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=p.Lk.d().$F(a);d?(d=d.wd[c])?this.Go(d.Bg()):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},I_:function(){return this.Ta},Fz:function(){if(!this.Ad){this.Ad=!0;for(var a=this.ga;a&&a!=this.Ta;)a.Fz(),a=a.getParent()}},R:function(){return this.pa},pb:null,zu:null,He:!1,Dt:!1,
sn:!1,Cf:null,Pn:null,wy:null,ctor:null,Rg:function(a){p.fb.prototype.ctor.call(this);this.lk=!1;this.Ib=p.Pc();this.dh=p.Pc();this.S={src:p.Zd,mb:p.Yd};this.ia=p.rect(0,0,0,0);this.pb=new p.Fb;this.zu=p.M.createBuffer();this.Wa=this.He=!0;this.bd=[];if(a)if("string"===typeof a)a=p.wf.d().Bg(a),this.Td(a);else if("object"===typeof a)if(a instanceof p.$c)this.Td(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Cb;c.Pe(a);c.Sd();this.ya(c)}else a instanceof p.Cb&&
this.ya(a)},Qg:function(a){p.fb.prototype.ctor.call(this);this.lk=!1;this.Ib=p.Pc();this.dh=p.Pc();this.S={src:p.Zd,mb:p.Yd};this.ia=p.rect(0,0,0,0);this.sE=!1;this.Wa=!0;this.bd=[];this.Pn={x:0,y:0,width:0,height:0,Xr:!1};this.wy=p.size(0,0);if(a)if("string"===typeof a)a=p.wf.d().Bg(a),this.Td(a);else if("object"===typeof a)if(a instanceof p.$c)this.Td(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Cb;c.Pe(a);c.Sd();this.ya(c)}else a instanceof p.Cb&&this.ya(a)},
Q1:function(){return this.pb},Ck:null,ZM:function(a,c){var d=this.S;1===arguments.length?(d.src=a.src,d.mb=a.mb):(d.src=a,d.mb=c)},YM:function(a,c){var d=this.S;1===arguments.length?(d.src=a.src,d.mb=a.mb):(d.src=a,d.mb=c);this.sn=d&&(770==d.src&&1==d.mb||1==d.src&&1==d.mb)},u:null,Py:function(){if(0<arguments.length)return this.mi(arguments[0],arguments[1]);p.fb.prototype.u.call(this);this.va=this.Vg=!1;this.Sb=!0;this.S.src=p.Zd;this.S.mb=p.Yd;this.ka(null);this.Wa=!0;this.Qb=this.Rb=!1;this.ja(0.5,
0.5);this.Ib.m=0;this.Ib.n=0;this.Uh=!1;var a={l:255,k:255,g:255,B:255};this.pb.wa.C=a;this.pb.Fa.C=a;this.pb.Da.C=a;this.pb.za.C=a;this.He=!0;this.Ab(p.zc(),!1,p.Tk());return!0},Oy:function(){if(0<arguments.length)return this.mi(arguments[0],arguments[1]);p.fb.prototype.u.call(this);this.va=this.Vg=!1;this.Sb=!0;this.S.src=p.Zd;this.S.mb=p.Yd;this.ka(null);this.Wa=!0;this.Qb=this.Rb=!1;this.ja(0.5,0.5);this.Ib.m=0;this.Ib.n=0;this.Uh=!1;this.Ab(p.zc(),!1,p.Tk());return!0},mi:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=p.Db.d().ww(a);if(!d)d=p.Db.d().Le(a);else if(!c){var e=d.c();c=p.rect(0,0,e.width,e.height)}return this.ya(d,c)},ya:null,$p:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.fb.prototype.u.call(this))return!1;this.Ta=null;this.va=this.Vg=!1;this.Sb=!0;this.S.src=p.Zd;this.S.mb=p.Yd;this.Qb=this.Rb=!1;this.ja(0.5,0.5);this.Ib.m=0;this.Ib.n=0;this.Uh=!1;var e=new p.sb(255,255,255,255),f=this.pb;f.wa.C=e;f.Fa.C=e;f.Da.C=e;f.za.C=e;
this.Wa=e=a.Rf();if(!e)return this.sc=d||!1,c&&(e=this.ia,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.gf(this.Ru,this),!0;c||(e=a.c(),c=p.rect(0,0,e.width,e.height));this.ka(a);this.Ab(c,d,c.La);this.Xd(null);return this.He=!0},Zp:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.fb.prototype.u.call(this))return!1;this.Ta=null;this.va=this.Vg=!1;this.Sb=!0;this.S.src=p.Zd;this.S.mb=p.Yd;this.Qb=this.Rb=!1;this.ja(0.5,0.5);this.Ib.m=
0;this.Ib.n=0;this.Uh=!1;var e=a.Rf();this.Wa=e;if(!e)return this.sc=d||!1,c&&(this.ia.x=c.x,this.ia.y=c.y,this.ia.width=c.width,this.ia.height=c.height),a.gf(this.Ru,this),!0;c||(e=a.c(),c=p.rect(0,0,e.width,e.height));this.Cf=a;this.ka(a);this.Ab(c,d,c.La);this.Xd(null);return!0},Ru:null,HN:function(a){if(!this.Wa){this.Wa=!0;var c=this.ia;if(!c)c=a.c(),c=p.rect(0,0,c.width,c.height);else if(p.pq(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ka(a);this.Ab(c,this.sc,c.La);this.Xd(null);
this.He=!0;this.sd()}},GN:function(a){if(!this.Wa){this.Wa=!0;var c=this.ia;if(!c)c=a.c(),c=p.rect(0,0,c.width,c.height);else if(p.pq(c)){var d=a.c();c.width=d.width;c.height=d.height}this.Cf=a;this.ka(a);this.Ab(c,this.sc,c.La);this.Xd(null);this.sd()}},Ab:null,KE:function(a,c,d){this.sc=c||!1;d=d||a.La;this.ea(d);this.VB(a);this.JE(a);a=this.dh;this.Qb&&(a.m=-a.m);this.Rb&&(a.n=-a.n);var e=this.ia;this.Ib.m=a.m+(this.ca.sa-e.width)/2;this.Ib.n=a.n+(this.ca.ba-e.height)/2;if(this.Ta)this.va=!0;else{a=
0+this.Ib.m;c=0+this.Ib.n;d=a+e.width;var e=c+e.height,f=this.pb;f.wa.o={x:a,y:c,z:0};f.Fa.o={x:d,y:c,z:0};f.Da.o={x:a,y:e,z:0};f.za.o={x:d,y:e,z:0};this.He=!0}},Gz:function(a,c,d){this.sc=c||!1;d=d||a.La;this.ea(d);this.VB(a);c=this.Pn;d=p.Yc();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.Xr=!(0===c.width||0===c.height);a=this.dh;this.Qb&&(a.m=-a.m);this.Rb&&(a.n=-a.n);this.Ib.m=a.m+(this.ca.sa-this.ia.width)/2;this.Ib.n=a.n+(this.ca.ba-this.ia.height)/2;this.Ta&&(this.va=
!0)},qf:null,ZN:function(){if(this.va){var a=this.pb,c=this.ga;if(!this.V||c&&c!=this.Ta&&c.lk)a.Fa.o={x:0,y:0,z:0},a.Da.o={x:0,y:0,z:0},a.za.o={x:0,y:0,z:0},a.wa.o={x:0,y:0,z:0},this.lk=!0;else{this.lk=!1;var d=this.Hl=c&&c!=this.Ta?p.Kk(this.lf(),c.Hl):this.lf(),e=this.ia.La,c=this.Ib.m,f=this.Ib.n,g=c+e.width,e=f+e.height,h=d.Ia,k=d.Ja,l=d.B,m=d.g,n=d.xa,d=-d.ma,r=this.cv;a.wa.o={x:p.uf(c*l-f*d+h),y:p.uf(c*m+f*n+k),z:r};a.Fa.o={x:p.uf(g*l-f*d+h),y:p.uf(g*m+f*n+k),z:r};a.Da.o={x:p.uf(c*l-e*d+h),
y:p.uf(c*m+e*n+k),z:r};a.za.o={x:p.uf(g*l-e*d+h),y:p.uf(g*m+e*n+k),z:r}}this.Ca.Cw(a,this.rc);this.Vg=!1;this.Vf(!1)}this.Uh&&this.yf(this.p,p.H.We.qf);p.Lj&&(a=[p.a(this.pb.wa.o.x,this.pb.wa.o.y),p.a(this.pb.Fa.o.x,this.pb.Fa.o.y),p.a(this.pb.za.o.x,this.pb.za.o.y),p.a(this.pb.Da.o.x,this.pb.Da.o.y)],p.jf.Fd(a,4,!0))},YN:function(){if(this.va){var a=this.ga;!this.V||a&&a!=this.Ta&&a.lk?this.lk=!0:(this.lk=!1,this.Hl=a&&a!=this.Ta?p.Kk(this.lf(),a.Hl):this.lf());this.va=this.Vg=!1}this.Uh&&this.yf(this.p,
p.H.We.qf)},v:null,Px:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Oa);null==d&&(d=a.Gc);if(this.Ta){if(!(a instanceof p.A)){p.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.R().gh!==this.Ca.R().gh&&p.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.Ta.appendChild(a);this.Ad||this.Fz()}p.H.prototype.v.call(this,
a,c,d);this.Uh=!0},Ox:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Oa);null==d&&(d=a.Gc);p.H.prototype.v.call(this,a,c,d);this.Uh=!0},Ur:function(){var a=this.cc,c=this.yb,a={l:a.l,k:a.k,g:a.g,B:c};this.Sb&&(a.l*=c/255,a.k*=c/255,a.g*=c/255);c=this.pb;c.wa.C=a;c.Fa.C=a;c.Da.C=a;c.za.C=a;this.Ta&&(this.rc!=p.rx?this.Ca.Cw(c,this.rc):this.va=!0);this.He=!0},ha:null,Ez:function(a){p.fb.prototype.ha.call(this,a);this.Ur()},uq:function(a){p.fb.prototype.ha.call(this,
a);this.vl()},s:null,Bz:function(a){p.fb.prototype.s.call(this,a);this.Ur()},sq:function(a){var c=this.Sc();if(c.l!==a.l||c.k!==a.k||c.g!==a.g)p.fb.prototype.s.call(this,a),this.At(),this.vl()},wc:null,QN:function(a){p.fb.prototype.wc.call(this,a);this.Ur()},Yz:function(a){var c=this.Sc();p.fb.prototype.wc.call(this,a);a=this.cc;if(c.l!==a.l||c.k!==a.k||c.g!==a.g)this.At(),this.vl()},Go:null,eN:function(a){this.Ha();var c=a.ob;this.dh.m=c.x;this.dh.n=c.y;c=a.R();a.Wa||(this.Wa=!1,a.gf(function(a){this.Wa=
!0;var c=a.R();c!=this.pa&&this.ka(c);this.Ab(a.Md(),a.Ec,a.Dc);this.sd()},this));c!=this.pa&&this.ka(c);this.sc=a.Ec;this.Ab(a.Md(),this.sc,a.Dc)},dN:function(a){this.Ha();var c=a.ob;this.dh.m=c.x;this.dh.n=c.y;this.sc=a.Ec;var c=a.R(),d=a.Wa;d||(this.Wa=!1,a.gf(function(a){this.Wa=!0;var c=a.R();c!=this.pa&&this.ka(c);this.Ab(a.Md(),a.Ec,a.Dc);this.sd()},this));c!=this.pa&&this.ka(c);this.sc&&(this.Cf=c);this.Ab(a.Md(),this.sc,a.Dc);this.Dt=!1;d&&(a=this.Sc(),255===a.l&&255===a.k&&255===a.g||this.At())},
HG:null,fM:function(a){return p.nH(a.Md(),this.ia)&&a.R().getName()==this.pa.getName()&&p.eH(a.ob,this.dh)},eM:function(a){return a.R()!=this.pa?!1:p.nH(a.Md(),this.ia)},XO:function(){return p.$c.Dd(this.pa,p.Gm(this.ia),this.sc,p.aK(this.dh),p.qx(this.ca))},Xd:null,XM:function(a){if(this.Ta=a)this.Hl={B:1,g:0,ma:0,xa:1,Ia:0,Ja:0},this.Mo(this.Ta.Ca);else{this.rc=p.rx;this.Mo(null);this.Vg=!1;this.Vf(!1);a=this.Ib.m;var c=this.Ib.n,d=a+this.ia.width,e=c+this.ia.height,f=this.pb;f.wa.o={x:a,y:c,z:0};
f.Fa.o={x:d,y:c,z:0};f.Da.o={x:a,y:e,z:0};f.za.o={x:d,y:e,z:0};this.He=!0}},WM:function(a){(this.Ta=a)?(this.Hl={B:1,g:0,ma:0,xa:1,Ia:0,Ja:0},this.Mo(this.Ta.Ca)):(this.rc=p.rx,this.Mo(null),this.Vg=!1,this.Vf(!1))},ka:null,wq:function(a){if(a&&!(a instanceof p.Cb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ta&&this.Ta.R()!=a?p.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Wf(p.Pg.d().uh(p.px)):this.Wf(p.Pg.d().uh(p.jK)),
this.Ta||this.pa==a||(this.pa=a,this.Il()))},vq:function(a){if(a&&!(a instanceof p.Cb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.pa!=a&&(a&&a.dc instanceof HTMLImageElement&&(this.Cf=a),this.pa=a)},Il:function(){this.Ta?p.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.pa&&this.pa.lr()?(this.S.src=p.Zd,this.S.mb=p.Yd,this.Se(!0)):(this.S.src=770,this.S.mb=771,this.Se(!1))},
At:function(){var a,c=this.pa,d=this.Pn;c&&d.Xr&&this.Cf&&(a=c.dc)&&(c=p.Db.d().iG(this.Cf.dc))&&(this.Dt=!0,a instanceof HTMLCanvasElement&&!this.sc&&!this.sE?p.EA(a,c,this.cc,d,a):(a=p.EA(a,c,this.cc,d),c=new p.Cb,c.Pe(a),c.Sd(),this.ka(c)))},JE:function(a){a=p.Gm(a);var c=this.Ta?this.Ca.R():this.pa;if(c){var d=c.lo(),e=c.ko(),f,g=this.pb;this.sc?(p.Cs?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Qb&&
(e=f,f=a,a=e),this.Rb&&(e=c,c=d,d=e),g.wa.r.Aa=c,g.wa.r.X=f,g.Fa.r.Aa=c,g.Fa.r.X=a,g.Da.r.Aa=d,g.Da.r.X=f,g.za.r.Aa=d,g.za.r.X=a):(p.Cs?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.Qb&&(e=c,c=d,d=e),this.Rb&&(e=f,f=a,a=e),g.wa.r.Aa=c,g.wa.r.X=a,g.Fa.r.Aa=d,g.Fa.r.X=a,g.Da.r.Aa=c,g.Da.r.X=f,g.za.r.Aa=d,g.za.r.X=f);this.He=!0}},Ga:null,Bf:function(){if(this.Wa){var a=p.M,c=this.pa;c?c.ec&&(this.fc.ye(),
this.fc.Xf(),p.pj(this.S.src,this.S.mb),p.d3(0,c),p.Nd(p.kt),a.bindBuffer(a.ARRAY_BUFFER,this.zu),this.He&&(a.bufferData(a.ARRAY_BUFFER,this.pb.nA,a.DYNAMIC_DRAW),this.He=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.fc.ye(),this.fc.Xf(),p.pj(this.S.src,this.S.mb),p.Of(null),p.Nd(p.eg|p.DK),a.bindBuffer(a.ARRAY_BUFFER,this.zu),this.He&&(p.M.bufferData(p.M.ARRAY_BUFFER,
this.pb.nA,p.M.STATIC_DRAW),this.He=!1),a.vertexAttribPointer(p.be,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.hp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));p.kh++;0!==p.Lj&&(1===p.Lj?(a=this.pb,a=[p.a(a.Da.o.x,a.Da.o.y),p.a(a.wa.o.x,a.wa.o.y),p.a(a.Fa.o.x,a.Fa.o.y),p.a(a.za.o.x,a.za.o.y)],p.jf.Fd(a,4,!0)):2===p.Lj&&(a=this.MA().La,c=this.Ib,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.jf.Fd(a,4,!0)))}},dl:function(a){if(this.Wa){a=
a||p.M;this.sn&&(a.globalCompositeOperation="lighter");var c=p.aa.d().da,d=p.aa.d().la;a.globalAlpha=this.yb/255;var e=this.ia,f=this.ca,g=this.Ib,h=this.wy,k=0|g.m,l=-g.n-e.height,m=this.Pn;h.width=e.width*c;h.height=e.height*d;if(this.Qb||this.Rb)a.save(),this.Qb&&(k=-g.m-e.width,a.scale(-1,1)),this.Rb&&(l=g.n,a.scale(1,-1));k*=c;l*=d;this.pa&&m.Xr?(f=this.pa.dc,this.Dt?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.sa&&
(h=this.Sc(),a.fillStyle="rgba("+h.l+","+h.k+","+h.g+",1)",a.fillRect(k,l,f.sa*c,f.ba*d));1===p.Lj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[p.a(k,l),p.a(k+e.width,l),p.a(k+e.width,l-e.height),p.a(k,l-e.height)],p.jf.Fd(k,4,!0)):2===p.Lj&&(a.strokeStyle="rgba(0,255,0,1)",c=this.ia.La,l=-l,k=[p.a(k,l),p.a(k+c.width,l),p.a(k+c.width,l-c.height),p.a(k,l-c.height)],p.jf.Fd(k,4,!0));(this.Qb||this.Rb)&&a.restore();p.kh++}}});
p.ra.jc?(b=p.A.prototype,b.Kz=p.A.prototype.CN,b.Se=p.A.prototype.kN,b.xc=p.A.prototype.RN,b.ctor=p.A.prototype.Rg,b.Ck=p.A.prototype.ZM,b.u=p.A.prototype.Py,b.ya=p.A.prototype.$p,b.Ru=p.A.prototype.HN,b.Ab=p.A.prototype.KE,b.qf=p.A.prototype.ZN,b.v=p.A.prototype.Px,b.ha=p.A.prototype.Ez,b.s=p.A.prototype.Bz,b.wc=p.A.prototype.QN,b.Go=p.A.prototype.eN,b.HG=p.A.prototype.fM,b.Xd=p.A.prototype.XM,b.ka=p.A.prototype.wq,b.Ga=p.A.prototype.Bf):(b=p.A.prototype,b.Kz=p.A.prototype.BN,b.Se=p.A.prototype.jN,
b.xc=p.A.prototype.cF,b.ctor=p.A.prototype.Qg,b.Ck=p.A.prototype.YM,b.u=p.A.prototype.Oy,b.ya=p.A.prototype.Zp,b.Ru=p.A.prototype.GN,b.Ab=p.A.prototype.Gz,b.qf=p.A.prototype.YN,b.v=p.A.prototype.Ox,b.ha=p.A.prototype.uq,b.s=p.A.prototype.sq,b.wc=p.A.prototype.Yz,b.Go=p.A.prototype.dN,b.HG=p.A.prototype.eM,b.Xd=p.A.prototype.WM,b.ka=p.A.prototype.vq,b.Ga=p.A.prototype.dl);
p.A.Dd=function(a,c){var d=arguments.length,e=new p.A;switch(d){case 1:return e&&e.ya(a)?e:null;case 2:return e&&e.ya(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};p.A.create=function(a,c){var d=arguments.length,e=new p.A;if(0===d){if(e.u())return e}else if(e&&e.u(a,c))return e;return null};
p.A.CF=function(a){var c=null;if("string"==typeof a){if(c=p.wf.d().Bg(a),!c)return p.log("Invalid spriteFrameName: "+a),null}else return p.log("Invalid argument. Expecting string."),null;return(a=new p.A)&&a.Td(c)?a:null};p.A.BF=function(a){var c=new p.A;return c&&c.Td(a)?c:null};p.xi=p.oa.extend({zq:null,ud:0,Sq:null,ctor:function(){this.ud=0},w:function(){var a=new p.xi;a.Td(this.zq.w(),this.ud,this.Sq);return a},kv:function(){return p.w(this)},copy:function(){var a=new p.xi;a.Td(this.zq.w(),this.ud,this.Sq);return a},Td:function(a,c,d){this.zq=a;this.ud=c;this.Sq=d;return!0},Bg:function(){return this.zq},Te:function(a){this.zq=a},i0:function(){return this.ud},X6:function(a){this.ud=a},N2:function(){return this.Sq},E8:function(a){this.Sq=a}});
p.wi=p.oa.extend({wd:null,Xi:0,sl:!1,fa:0,ud:0,Fl:0,ctor:function(){this.wd=[]},z0:function(){return this.wd},QH:function(a){this.wd=a},lA:function(a){var c=new p.xi;c.Td(a,1,null);this.wd.push(c);this.Fl++},OY:function(a){a=p.Db.d().Le(a);var c=p.zc();c.La=a.c();a=p.$c.Dd(a,c);this.lA(a)},PY:function(a,c){var d=p.$c.Dd(a,c);this.lA(d)},nr:function(a,c,d){p.cs(a,p.xi);this.ud=c;this.Xi=d;this.QH([]);for(c=0;c<a.length;c++)d=a[c],this.wd.push(d),this.Fl+=d.ud;return!0},w:function(){var a=new p.wi;
a.nr(this.OD(),this.ud,this.Xi);a.gw(this.sl);return a},kv:function(){var a=new p.wi;a.nr(this.OD(),this.ud,this.Xi);a.gw(this.sl);return a},OD:function(){for(var a=[],c=0;c<this.wd.length;c++)a.push(this.wd[c].w());return a},copy:function(){return this.kv(null)},Q0:function(){return this.Xi},v7:function(a){this.Xi=a},gw:function(a){this.sl=a},Z1:function(){return this.sl},Me:function(){return this.Fl*this.ud},h0:function(){return this.ud},W6:function(a){this.ud=a},F2:function(){return this.Fl},CG:function(a,
c){p.cs(a,p.$c);this.Xi=1;this.ud=c||0;this.QH([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new p.xi;f.Td(e,1,null);this.wd.push(f);this.Fl++}return!0},xH:function(){},xB:function(){}});p.wi.create=function(a,c,d){var e=arguments.length,f=new p.wi;0==e?f.CG(null,0):2==e?f.CG(a,c||0):3==e&&f.nr(a,c,d);return f};p.wi.AF=function(a,c,d){var e=new p.wi;e.nr(a,c,d);return e};p.Lk=p.oa.extend({mF:function(a,c){this.Yk[c]=a},d6:function(a){a&&this.Yk.hasOwnProperty(a)&&delete this.Yk[a]},$F:function(a){return this.Yk.hasOwnProperty(a)?this.Yk[a]:null},TK:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=p.wf.d(),h=p.Zc.d(),k,l=0;l<f.length;l++)k=h.ZF(f[l],c),g.sF(k);switch(e){case 1:this.zM(d);break;case 2:this.AM(d);break;default:p.log("cc.AnimationCache. Invalid animation format")}}else p.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
EY:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=p.Zc.d(),d=c.Ld(a);(c=c.lv(d))?this.TK(c,a):p.log("cc.AnimationCache.addAnimations(): File could not be found")},zM:function(a){var c=p.wf.d(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Bg(f[h]);if(k){var l=new p.xi;l.Td(k,1,null);g.push(l)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?p.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&p.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=p.wi.AF(g,e,1),p.Lk.d().mF(g,d))}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
AM:function(a){var c=p.wf.d(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?p.Sk:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.Bg(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new p.xi;q.Td(r,n,m);k.push(q)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new p.wi;h.nr(k,e,f);h.gw(g);p.Lk.d().mF(h,d)}else p.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},u:function(){this.Yk={};return!0},Yk:null});p.Lk.YR=function(){p.rm&&(p.rm.Yk=null,p.rm=null)};p.Lk.d=function(){null===p.rm&&(p.rm=new p.Lk,p.rm.u());return p.rm};p.rm=null;p.$c=p.oa.extend({ob:null,Dc:null,ie:null,Ec:!1,ia:null,$e:null,Ee:null,pa:null,On:"",Wa:!1,Ot:null,ctor:function(){this.ob=p.Pc();this.$e=p.Pc();this.Dc=p.xl();this.Ec=!1;this.Ee=p.xl();this.On="";this.pa=null;this.Wa=!1},CI:function(){return this.Wa},gf:function(a,c){null==this.Ot&&(this.Ot=[]);this.Ot.push({nj:a,jh:c})},sd:function(){var a=this.Ot;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.nj.call(e.jh,this)}a.length=0}},OP:function(){var a=this.ie;return p.rect(a.x,a.y,a.width,a.height)},
a8:function(a){this.ie||(this.ie=p.rect(0,0,0,0));this.ie.x=a.x;this.ie.y=a.y;this.ie.width=a.width;this.ie.height=a.height;this.ia=p.Zo(a)},a4:function(){return this.Ec},i8:function(a){this.Ec=a},Md:function(){var a=this.ia;return p.rect(a.x,a.y,a.width,a.height)},ZH:function(a){this.ia||(this.ia=p.rect(0,0,0,0));this.ia.x=a.x;this.ia.y=a.y;this.ia.width=a.width;this.ia.height=a.height;this.ie=p.Gm(this.ia)},u1:function(){return this.$e},J7:function(a){this.$e.m=a.x;this.$e.n=a.y;p.nt(this.$e,this.ob)},
B1:function(){return this.Ee},M7:function(a){this.Ee.sa=a.width;this.Ee.ba=a.height},KP:function(){return this.Dc},L7:function(a){this.Dc.sa=a.width;this.Dc.ba=a.height},R:function(){if(this.pa)return this.pa;if(""!==this.On){var a=p.Db.d().Le(this.On);a&&(this.Wa=a.Rf());return a}return null},ka:function(a){if(this.pa!=a){var c=a.Rf();this.Wa=c;this.pa=a;c||a.gf(function(a){this.Wa=!0;if(this.Ec&&p.Vc===p.sf){var c=a.dc,c=p.DF(c,this.Md()),f=new p.Cb;f.Pe(c);f.Sd();this.ka(f);c=this.Md();this.ZH(p.rect(0,
0,c.width,c.height))}c=this.ia;0===c.width&&0===c.height&&(a=a.c(),this.ia.width=a.width,this.ia.height=a.height,this.ie=p.Gm(this.ia),this.Ee.sa=this.ie.width,this.Ee.ba=this.ie.height,this.Dc.sa=a.width,this.Dc.ba=a.height);this.sd()},this)}},t1:function(){return this.ob},I7:function(a){this.ob.m=a.x;this.ob.n=a.y},w:function(){var a=new p.$c;a.Fv(this.On,this.ie,this.Ec,this.$e,this.Ee);a.ka(this.pa);return a},kv:function(){var a=new p.$c;a.Fv(this.On,this.ie,this.Ec,this.$e,this.Ee);a.ka(this.pa);
return a},copy:function(){return this.kv()},ya:function(a,c,d,e,f){2===arguments.length&&(c=p.Gm(c));e=e||p.a(0,0);f=f||c.La;this.ka(a);this.ie=c;this.ia=p.Zo(c);this.$e.m=e.x;this.$e.n=e.y;p.nt(e,this.ob);this.Ee.sa=f.width;this.Ee.ba=f.height;p.Hx(f,this.Dc);this.Ec=d||!1;return!0},Fv:function(a,c,d,e,f){2===arguments.length&&(c=p.Gm(c));e=e||p.a(0,0);f=f||c.La;this.pa=null;this.On=a;this.ie=c;this.ia=p.Zo(c);this.Ec=d||!1;this.$e.m=e.x;this.$e.n=e.y;p.nt(e,this.ob);this.Ee.sa=f.width;this.Ee.ba=
f.height;p.Hx(f,this.Dc);return!0}});p.$c.create=function(a,c,d,e,f){var g=new p.$c;switch(arguments.length){case 2:g.Fv(a,c);break;case 5:g.Fv(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};p.$c.Dd=function(a,c,d,e,f){var g=new p.$c;switch(arguments.length){case 2:g.ya(a,c);break;case 5:g.ya(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
p.$c.YX=function(a,c,d,e,f){var g=new p.$c;g.pa=a;g.ie=c;g.ia=p.Zo(c);g.$e.m=e.x;g.$e.n=e.y;p.nt(g.$e,g.ob);g.Ee.sa=f.width;g.Ee.ba=f.height;p.Hx(g.Ee,g.Dc);g.Ec=d;return g};p.wf=p.oa.extend({ke:null,mk:null,eq:null,ctor:function(){this.ke={};this.mk={};this.eq=[]},Rx:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)p.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.ke[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||p.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=p.$c.Dd(c,p.rect(h,k,l,m),!1,p.a(n,r),p.size(q,d))}else if(1==f||2==f)h=p.bD(d.frame),k=!1,2==f&&(k=d.rotated),l=p.aD(d.offset),d=p.tx(d.sourceSize),h=p.$c.Dd(c,h,k,l,d);else if(3==f){var h=p.tx(d.spriteSize),k=p.aD(d.spriteOffset),l=p.tx(d.spriteSourceSize),m=p.bD(d.textureRect),n=d.textureRotated,
r=d.aliases,q=g.toString(),t;for(t in r)this.mk.hasOwnProperty(r[t])&&p.log("cocos2d: WARNING: an alias with name "+t+" already exists"),this.mk[r[t]]=q;d.hasOwnProperty("spriteSize")&&(m=p.rect(m.x,m.y,h.width,h.height));h=p.$c.Dd(c,m,n,k,l)}else var v=d.filename,k=d.frame,h=d.sourceSize,k=p.rect(k.x,k.y,k.QI,k.Rd),d=d.rotated,l=p.a(0,0),h=p.size(h.QI,h.Rd),h=p.$c.Dd(c,k,d,l,h);p.Vc===p.sf&&h.Ec&&h.R().Rf()&&(d=h.R().dc,d=p.DF(d,h.OP()),k=new p.Cb,k.Pe(d),k.Sd(),h.ka(k),d=h.ia,h.ZH(p.rect(0,0,d.width,
d.height)));this.ke[null!=v?v:g]=h}}},sF:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=p.Zc.d(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Ld(a),e=d.lv(e)):e=JSON.parse(d.gG(a));switch(arguments.length){case 1:if(!p.Hw(this.eq,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.ZF(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=p.Db.d().Le(f))?this.Rx(e,d):p.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof p.Cb)this.Rx(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=p.Db.d().Le(c))?this.Rx(e,d):p.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},lA:function(a,c){this.ke[c]=a},m6:function(){this.ke=[];this.mk=[];this.eq={}},l6:function(a){a&&(this.mk.hasOwnProperty(a)&&delete this.mk[a],this.ke.hasOwnProperty(a)&&delete this.ke[a],this.eq={})},n6:function(a){var c=
p.Zc.d(),d=c.Ld(a),c=c.lv(d);this.KM(c);p.Hw(this.eq,a)&&p.md(a)},KM:function(a){a=a.frames;for(var c in a)this.ke.hasOwnProperty(c)&&delete this.ke[c]},o6:function(a){for(var c in this.ke){var d=this.ke[c];d&&d.R()==a&&delete this.ke[c]}},Bg:function(a){var c;this.ke.hasOwnProperty(a)&&(c=this.ke[a]);if(!c){var d;this.mk.hasOwnProperty(a)&&(d=this.mk[a]);d&&(this.ke.hasOwnProperty(d.toString())&&(c=this.ke[d.toString()]),c||p.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
p.$v=null;p.wf.d=function(){p.$v||(p.$v=new p.wf);return p.$v};p.wf.ZR=function(){p.$v=null};p.Xo=29;
p.$a=p.H.extend({Ca:null,S:null,Nc:null,QY:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof p.A))return p.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Wd(c);var e=0,f=this.Nc;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.rc>=c&&++e}this.Nc=p.Mk(f,a,e);p.H.prototype.v.call(this,a,c,d);this.tH(!1);return this},hG:function(){return this.Ca},Mo:function(a){a!=this.Ca&&
(this.Ca=a)},l0:function(){return this.Nc},mi:function(a,c){var d=p.Db.d().ww(a);d||(d=p.Db.d().Le(a));return this.ya(d,c)},vl:function(){this.KD=!0},u:function(a,c){var d=p.Db.d().ww(a);d||(d=p.Db.d().Le(a));return this.ya(d,c)},Av:function(){var a=this.Ca.Ac,c=Math.floor(4*(a+1)/3);p.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ca.yS(c)||p.log("cocos2d: WARNING: Not enough memory to resize the atlas")},f6:function(a,c){this.removeChild(this.p[a],c)},
mH:function(a,c){var d=a.p;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.Oa&&(c=this.mH(f,c))}!a==this&&(a.Wd(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.Oa&&(c=this.mH(f,c));return c},TA:function(a){var c=a.p;return c&&0!=c.length?this.TA(c[c.length-1]):a.rc},eR:function(a){var c=a.p;return c&&0!=c.length?this.eR(c[c.length-1]):a.rc},mO:function(a,c){var d=a.getParent().p,e=p.Jw(d,a),f=a.getParent()==this,g=null;0<e&&e<p.AK&&(g=d[e-1]);if(f)return 0==e?0:this.TA(g)+
1;if(0==e)return d=a.getParent(),0>c?d.rc:d.rc+1;if(0>g.Oa&&0>c||0<=g.Oa&&0<=c)return this.TA(g)+1;d=a.getParent();return d.rc+1},tH:function(a){this.Ad=a},Ck:function(a,c){this.S=1==arguments.length?a:{src:a,mb:c}},dr:function(){return this.S},Gr:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.p.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.Oa&&(p.H.prototype.Gr.call(this,a,c),this.Ha())},removeChild:function(a,
c){null!=a&&(-1===this.p.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.om(a),p.H.prototype.removeChild.call(this,a,c)))},pM:null,Dl:null,AY:!1,Cf:null,ctor:null,Qg:function(a){p.H.prototype.ctor.call(this);a&&this.u(a,p.Xo)},Rg:function(a){p.H.prototype.ctor.call(this);this.pM=new p.Dg;a&&this.u(a,p.Xo)},LI:null,VN:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof p.A?(a.Xd(this),a.Wd(c),
a.Vf(!0),a.qf()):p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},WN:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof p.A){for(var d=this.Ca.Ac;c>=d||d==this.Ca.Ea;)this.Av();a.Xd(this);a.Wd(c);a.Vf(!0);a.qf()}else p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Nu:function(a,c){var d=this.Nc,e=this.Ca,f=e.ge,g=d[a],
h=p.Ex(f[a]);d[c].Wd(a);d[a]=d[c];e.Cw(f[c],a);d[c]=g;e.Cw(h,c)},DG:null,cM:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof p.A?(a.Xd(this),a.Wd(c),a.Vf(!0),a.qf(),this.p=p.Mk(this.p,a,c)):p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},dM:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof p.A){for(var d=this.Ca;c>=d.Ac||
d.Ac===d.Ea;)this.Av();a.Xd(this);a.Wd(c);d.bB(a.pb,c);a.Vf(!0);a.qf()}else p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},bF:function(a,c){var d=0,e=a.p;e&&(d=e.length);var f=0;if(0===d)f=a.rc,a.Wd(c),a.Io(0),f!=c&&this.Nu(f,c),c++;else{f=!0;0<=e[0].Oa&&(f=a.rc,a.Wd(c),a.Io(0),f!=c&&this.Nu(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.Oa&&(f=a.rc,a.Wd(c),a.Io(0),f!=c&&this.Nu(f,c),c++,f=!1);c=this.bF(g,c)}f&&(f=a.rc,a.Wd(c),
a.Io(0),f!=c&&this.Nu(f,c),c++)}return c},Il:function(){this.Ca.R().lr()||(this.S.src=770,this.S.mb=771)},ya:null,Zp:function(a){this.p=[];this.Nc=[];this.S=new p.Ok(p.Zd,p.Yd);this.Dl=this.Cf=a;return!0},$p:function(a,c){this.p=[];this.Nc=[];this.S=new p.Ok(p.Zd,p.Yd);c=c||p.Xo;this.Ca=new p.Lm;this.Ca.ya(a,c);this.Il();this.Wf(p.Pg.d().uh(p.px));return!0},JQ:function(a,c){a.Xd(this);a.Wd(c);a.Vf(!0);var d=this.Ca;d.Ea>=d.Ac&&this.Av();d.bB(a.pb,c);this.Nc=p.Mk(this.Nc,a,c);var d=c+1,e=this.Nc;if(e&&
0<e.length)for(;d<e.length;d++)e[d].Wd(e[d].rc+1);if((e=a.p)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.mO(e[d],e[d].Oa);this.JQ(e[d],f)}},appendChild:null,$K:function(a){this.Ad=!0;a.Xd(this);a.Vf(!0);this.Nc.push(a);a.Wd(this.Nc.length-1);a=a.p;for(var c=0;c<a.length;c++)this.appendChild(a[c])},aL:function(a){this.Ad=!0;a.Xd(this);a.Vf(!0);this.Nc.push(a);var c=this.Nc.length-1;a.Wd(c);var d=this.Ca;d.Ea==d.Ac&&this.Av();d.bB(a.pb,c);a=a.p;for(c=0;c<a.length;c++)this.appendChild(a[c])},
om:null,LM:function(a){a.Xd(null);var c=this.Nc,d=p.Jw(c,a);if(-1!=d){p.So(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Wd(f.rc-1)}}if((a=a.p)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.om(a[c])},MM:function(a){this.Ca.uS(a.rc);a.Xd(null);var c=this.Nc,d=p.Jw(c,a);if(-1!=d){p.So(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Wd(f.rc-1)}}if((a=a.p)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.om(a[c])},R:null,Jy:function(){return this.Dl},Ky:function(){return this.Ca.R()},ka:null,vq:function(a){this.Dl=
a;for(var c=this.p,d=0;d<c.length;d++)c[d].ka(a)},wq:function(a){this.Ca.ka(a);this.Il()},$:null,Jl:function(a){var c=a||p.M;if(this.V){c.save();this.transform(a);var d=this.p;if(d)for(this.kd(),a=0;a<d.length;a++)d[a]&&d[a].$(c);c.restore()}},Kl:function(a){a=a||p.M;if(this.V){p.to();var c=this.Zj;c&&c.po()&&(c.pA(),this.Aw());this.kd();this.transform(a);this.Ga(a);c&&c.po()&&c.mA(this);p.so();this.Io(0)}},v:null,Ox:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof p.A?(c=null==c?a.Oa:c,d=null==d?a.Gc:d,p.H.prototype.v.call(this,a,c,d),this.appendChild(a),this.Ha()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Px:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof p.A?a.R()!=this.Ca.R()?p.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.Oa:c,d=null==d?a.Gc:d,p.H.prototype.v.call(this,a,c,d),this.appendChild(a),
this.Ha()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},vh:null,HM:function(a){var c=this.Nc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Xd(null);p.H.prototype.vh.call(this,a);this.Nc=[]},IM:function(a){var c=this.Nc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Xd(null);p.H.prototype.vh.call(this,a);this.Nc=[];this.Ca.oS()},kd:null,zN:function(){if(this.Ad){var a,c=0,d=this.p,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.Oa<f.Oa||g.Oa==f.Oa&&g.af<f.af);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.yf(d,p.H.We.kd);this.Ad=!1}},AN:function(){if(this.Ad){var a=this.p,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.Oa<f.Oa||g.Oa==f.Oa&&g.af<f.af);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.yf(a,p.H.We.kd),c=d=0;c<a.length;c++)d=this.bF(a[c],d);this.Ad=!1}},Ga:null,Bf:function(){0!==this.Ca.Ea&&(this.fc.ye(),this.fc.Xf(),this.yf(this.p,p.H.We.qf),p.pj(this.S.src,
this.S.mb),this.Ca.bP())}});
p.ra.jc?(b=p.$a.prototype,b.ctor=p.$a.prototype.Rg,b.LI=p.$a.prototype.WN,b.DG=p.$a.prototype.dM,b.ya=p.$a.prototype.$p,b.appendChild=p.$a.prototype.aL,b.om=p.$a.prototype.MM,b.R=p.$a.prototype.Ky,b.ka=p.$a.prototype.wq,b.$=p.$a.prototype.Kl,b.v=p.$a.prototype.Px,b.vh=p.$a.prototype.IM,b.kd=p.$a.prototype.AN,b.Ga=p.$a.prototype.Bf):(b=p.$a.prototype,b.ctor=p.$a.prototype.Qg,b.LI=p.$a.prototype.VN,b.DG=p.$a.prototype.cM,b.ya=p.$a.prototype.Zp,b.appendChild=p.$a.prototype.$K,b.om=p.$a.prototype.LM,
b.R=p.$a.prototype.Jy,b.ka=p.$a.prototype.vq,b.$=p.$a.prototype.Jl,b.vh=p.$a.prototype.HM,b.v=p.$a.prototype.Ox,b.kd=p.$a.prototype.zN,b.Ga=p.H.prototype.Ga);p.$a.create=function(a,c){c=c||p.Xo;var d=new p.$a;d.u(a,c);return d};p.$a.Dd=function(a,c){c=c||p.Xo;var d=new p.$a;d.ya(a,c);return d};p.qV={nV:0,pV:1,oV:2,mV:3,lV:4};
p.$d=p.oa.extend({gq:0,nE:0,Fq:!1,Eq:!1,Ju:!1,Ku:!1,Lu:!1,mM:0,lu:0,lp:"",ij:null,ctor:function(){this.nE=this.gq=0;this.Lu=this.Ku=this.Ju=this.Eq=this.Fq=!1;this.lu=this.mM=0;this.lp="";this.ij={}},a1:function(){return this.gq},$0:function(){return this.nE},b1:function(){return this.lu},a9:function(){return this.Eq},b9:function(){return this.Fq},Y8:function(){return this.Ju},Z8:function(){return this.Ku},c9:function(){return this.Lu},Zn:function(a){return-1<this.lp.indexOf(a)},u:function(){var a=
this.ij;a["cocos2d.x.version"]=p.is;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=p.FC;return!0},P_:function(a,c){var d=this.ij;return d.hasOwnProperty(a)?d[a]:c},K_:function(a,c){null==c&&(c=!1);var d=this.ij;return d.hasOwnProperty(a)?d[a]:c},l1:function(a,c){null==c&&(c=0);var d=this.ij;return d.hasOwnProperty(a)?d[a]:c},n1:function(a){var c=this.ij;return c.hasOwnProperty(a)?c[a]:null},BT:function(a,c){this.ij[a]=c},fP:function(){0===p.FC&&(p.log(""),p.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
p.log(""))},pP:function(){if(p.Vc!==p.sf){var a=p.M,c=this.ij;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.lp="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.lp+=d[e]+" ";this.gq=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.gq;this.lu=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.lu;this.Fq=this.Zn("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Fq;this.Eq=!1;c["gl.supports_NPOT"]=this.Eq;this.Ju=this.Zn("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Ju;this.Ku=this.Zn("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Ku;this.Lu=this.Zn("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Lu;p.oC()}},A4:function(a){var c=p.Zc.d(),d=c.Ld(a),c=c.lv(d);if(null!=c)if(c=c.data)for(var e in c)this.ij[e]=c[e];else p.log("Expected 'data' dict, but not found. Config file: "+a)}});p.$d.yq=null;
p.$d.d=function(){p.$d.yq||(p.$d.yq=new p.$d,p.$d.yq.u());return p.$d.yq};p.$d.O5=function(){p.$d.yq=null};p.kh=0;p.jJ=0;p.CC=1;p.kJ=3;p.lJ=p.CC;p.vV=0;p.tV=1;p.wV=2;p.uV=3;p.sV=2;p.zV=p.oa.extend({E9:function(){}});p.GC=function(a){var c=new p.Dg;p.XQ(p.Ks,c);var d=new p.Dg;p.XQ(p.Js,d);p.$Q(a,c,d)};
p.N=p.oa.extend({jY:!1,kq:!1,ql:!1,yu:!1,ul:!1,gg:0,$y:0,kk:0,Om:0,cl:1,Gp:!1,Vj:0,Rt:0,Oj:null,Qj:null,Wj:null,ub:null,Wi:null,Xh:null,qu:null,mg:null,di:null,lz:null,Fc:null,wd:0,Uz:0,Az:0,VX:null,If:null,fg:null,oe:null,Vy:null,st:null,iq:null,iY:!1,ctor:function(){this.Wi=Date.now();if(!p.cB){var a=this;window.addEventListener("focus",function(){a.Wi=Date.now()},!1)}},RM:function(){this.Wi=Date.now()},u:function(){this.$y=this.gg=1/p.PO;this.di=[];this.kk=p.lJ;this.lz=null;this.Rt=this.Om=0;this.Gp=
!1;this.Uz=this.wd=0;this.Wi=Date.now();this.yu=this.ql=!1;this.ub=p.xl();this.mg=null;this.cl=1;this.If=new p.nK;this.fg=new p.VI;this.If.AH(this.fg,p.Ns,!1);p.U&&(this.oe=new p.U,this.oe.u());p.Em&&(this.Vy=p.Em.d());p.Hj&&(this.st=new p.Hj);p.qd&&(this.iq=new p.qd,this.iq.u());return!0},rO:function(){var a=Date.now();this.kq?(this.Vj=0,this.kq=!1):this.Vj=(a-this.Wi)/1E3;0<p.fs&&0.2<this.Vj&&(this.Vj=1/60);this.Wi=a},JO:function(a){var c=new p.Dg;p.GC(c);var d=new p.Dg;p.t4(d,c);var c=c.Eg[14]/
c.Eg[15],e=this.mg.io();a=new p.uo(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new p.uo;p.bR(c,a,d);return p.a(c.x,c.y)},LO:function(a){var c=new p.Dg;p.GC(c);var d=new p.uo;a=new p.uo(a.x,a.y,0);p.bR(d,a,c);c=this.mg.io();return p.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},cP:function(){this.rO();this.ql||this.If.update(this.Vj);this.MD();this.Xh&&this.AT();this.Wx&&this.Wx();this.Fc&&this.Fc.$();this.qu&&this.qu.$();this.Gp&&this.yN();this.Sx&&this.Sx();this.Uz++;this.Gp&&this.hL()},pL:function(){var a=
this.mg.qe;p.M.clearRect(-a.x,a.y,a.width,-a.height)},wL:function(){var a=p.M;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Wx:null,Sx:null,cL:function(){p.to()},ZK:function(){p.so()},end:function(){this.yu=!0},a0:function(){return this.cl},k1:function(){return this.qu},Y2:function(){return this.ub},bQ:function(){return p.size(this.ub.width*this.cl,this.ub.height*this.cl)},hr:function(){return this.mg?this.mg.hr():this.ub},nG:function(){return this.mg?this.mg.nG():p.bK},jr:function(){return this.ub.height/
1.1566},pause:function(){this.ql||(this.$y=this.gg,this.Ir(0.25),this.ql=!0)},I5:function(){if(!this.Fc)throw"running scene should not null";this.di.pop();var a=this.di.length;0==a?this.end():(this.ul=!0,this.Xh=this.di[a-1])},tB:function(){p.cx.tB()},XR:function(){this.Oe().Tr();this.oe&&this.oe.nS();this.Fc&&(this.Fc.Hg(),this.Fc.jd(),this.Fc.hf());this.Xh=this.Fc=null;this.di=[];this.xI();p.cx.tB();p.Lk.YR();p.wf.ZR();p.Db.$R();p.oC()},aS:function(a){if(!a)throw"the scene should not null";this.ul=
!1;this.di.push(a);this.Xh=a},uH:function(a){if(!this.Fc)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.di.length;0===c?(this.ul=!0,this.di[c]=a):(this.ul=!0,this.di[c-1]=a);this.Xh=a},wH:function(){this.ql&&(this.Ir(this.$y),(this.Wi=Date.now())||p.log("cocos2d: Director: Error in gettimeofday"),this.ql=!1,this.Vj=0)},HS:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Fc)throw"_runningScene should be null";
this.aS(a);this.vI()},TS:function(a){a?p.pj(p.Zd,p.Yd):p.pj(p.M.ONE,p.M.ZERO)},aT:function(a){a!=this.cl&&(this.cl=a,this.fn())},eT:function(a){if(p.Vc!==p.sf){var c=p.M;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},V6:function(){},RH:function(){this.TS(!0);this.eT(!1);this.fw(this.kk);p.M.clearColor(0,0,0,1)},E7:function(a){this.kq=a},AT:function(){var a=!1,c=!1;p.rD&&(a=this.Fc?this.Fc instanceof p.rD:!1,c=this.Xh?this.Xh instanceof p.rD:!1);if(!c){if(c=
this.Fc)c.Hg(),c.jd();this.ul&&c&&c.hf()}this.Fc=this.Xh;this.Xh=null;a||null==this.Fc||(this.Fc.Uf(),this.Fc.sh())},F7:function(a){this.qu=a},Lb:function(){return this.lz},Kg:function(a){this.lz=a},GT:function(a){this.ub.WB(p.canvas.width);this.ub.JB(p.canvas.height);this.mg=a||p.aa.d();p.Vc!==p.sf&&(a=p.$d.d(),a.pP(),a.fP(),this.fn(),this.RH(),this.oe&&this.oe.gT(!0))},lI:function(){if(this.mg){var a=this.ub;this.mg.VT(0,0,a.width,a.height)}},fw:function(a){var c=this.ub;if(p.Vc===p.Nj){this.lI();
switch(a){case p.jJ:p.Zl(p.Ks);p.eB();var d=new p.Dg;p.aR(d,0,c.width,0,c.height,-1024,1024);p.Hv(d);p.Zl(p.Js);p.eB();break;case p.CC:var e=this.jr(),f=new p.Dg,d=new p.Dg;p.Zl(p.Ks);p.eB();p.u4(f,60,c.width/c.height,0.1,2*e);p.Hv(f);p.Zl(p.Js);p.eB();e=p.ur(null,c.width/2,c.height/2,e);c=p.ur(null,c.width/2,c.height/2,0);f=p.ur(null,0,1,0);p.ZQ(d,e,c,f);p.Hv(d);break;case p.kJ:break;default:p.log("cocos2d: Director: unrecognized projection")}this.kk=a;p.W7()}else this.kk=a},yN:function(){this.wd++;
this.Om+=this.Vj;this.Oj&&this.Qj&&this.Wj?(this.Om>p.iJ&&(this.Qj.na(this.Az.toFixed(3)),this.Rt=this.wd/this.Om,this.Om=this.wd=0,this.Oj.na(this.Rt.toFixed(1)),this.Wj.na((0|p.kh).toString())),this.Oj.$(),this.Qj.$(),this.Wj.$()):this.fn();p.kh=0},d4:function(){return this.ul},c2:function(){return this.Fc},E_:function(){return this.gg},H3:function(){return this.Gp},Z6:function(a){this.Gp=a},h2:function(){return this.Az},z1:function(){return this.mg},R3:function(){return this.kq},V3:function(){return this.ql},
G2:function(){return this.Uz},P1:function(){return this.kk},J5:function(){this.PR(1)},PR:function(a){if(!this.Fc)throw"A running Scene is needed";var c=this.di,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.je&&(e.Hg(),e.jd());e.hf();d--}this.Xh=c[c.length-1];this.ul=!1}},Oe:function(){return this.If},NT:function(a){this.If!=a&&(this.If=a)},Nf:function(){return this.fg},RS:function(a){this.fg!=a&&(this.fg=a)},I2:function(){return this.oe},C8:function(a){this.oe!=a&&(this.oe=
a)},xv:function(){if(!p.Em)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.Vy},t7:function(a){if(!p.Em)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.Vy=a},ho:function(){if(!p.Hj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.st},A6:function(a){if(!p.Hj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.st!=
a&&(this.st=a)},k0:function(){return this.Vj},Ne:function(){if(!p.qd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.iq},C7:function(a){if(!p.qd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.iq!=a&&(this.iq=a)},fn:null,zL:function(){if(!p.bx)return this.PD();if(null!=p.N.VD&&!1!=p.N.VD){var a=new p.Cb;a.Pe(p.N.By);a.Sd();var c=p.aa.d().io().height/320;0===c&&(c=this.ub.height/320);var d=new p.bx;d.Dz(!0);
d.wk("00.0",a,12,32,".");d.Aj(c);this.Oj=d;d=new p.bx;d.Dz(!0);d.wk("0.000",a,12,32,".");d.Aj(c);this.Qj=d;d=new p.bx;d.Dz(!0);d.wk("000",a,12,32,".");d.Aj(c);this.Wj=d;a=p.DC;this.Wj.J(p.mf(p.a(0,34*c),a));this.Qj.J(p.mf(p.a(0,17*c),a));this.Oj.J(a)}},PD:function(){var a=0,a=this.ub.width>this.ub.height?0|this.ub.height/320*24:0|this.ub.width/320*24;this.Oj=p.T.create("000.0","Arial",a);this.Qj=p.T.create("0.000","Arial",a);this.Wj=p.T.create("0000","Arial",a);var a=p.DC,c=this.Wj.c();this.Wj.J(p.mf(p.a(c.width/
2,5*c.height/2),a));c=this.Qj.c();this.Qj.J(p.mf(p.a(c.width/2,3*c.height/2),a));c=this.Oj.c();this.Oj.J(p.mf(p.a(c.width/2,c.height/2),a))},hL:function(){this.Az=(Date.now()-this.Wi)/1E3}});p.ra.jc?(p.N.prototype.MD=p.N.prototype.wL,p.N.prototype.Wx=p.N.prototype.cL,p.N.prototype.Sx=p.N.prototype.ZK,p.N.prototype.fn=p.N.prototype.zL):(p.N.prototype.MD=p.N.prototype.pL,p.N.prototype.fn=p.N.prototype.PD);
p.mJ=p.N.extend({Gv:!1,vI:function(){this.kq=!0;this.Gv=!1;p.yi.d().Ir(this.gg)},RG:function(){this.yu?(this.yu=!1,this.XR()):this.Gv||this.cP()},xI:function(){this.Gv=!0},Ir:function(a){this.gg=a;this.Gv||(this.xI(),this.vI())}});p.Zv=null;p.TF=!0;p.N.d=function(){p.TF&&(p.TF=!1,p.Zv=new p.mJ,p.Zv.u(),p.Zv.GT(p.aa.d()));return p.Zv};Object.defineProperties(p,{P9:{get:function(){return p.VO.ub},enumerable:!0}});p.q_=!0;p.PO=60;p.N.By=new Image;
p.N.By.addEventListener("load",function(){p.N.VD=!0;this.removeEventListener("load",arguments.callee,!1)});p.N.By.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";p.Vo=p.oa.extend({Qp:null,Rp:null,Sp:null,an:null,bn:null,cn:null,Pq:null,Qq:null,Rq:null,va:null,hu:null,ctor:function(){this.hu=new p.Dg;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.an+","+this.bn+","+this.cn+")\x3e"},Vf:function(a){this.va=a},GG:function(){return this.va},restore:function(){this.Qp=this.Rp=0;this.Sp=p.Vo.jr();this.Pq=this.an=this.bn=this.cn=0;this.Qq=1;this.Rq=0;p.s4(this.hu);this.va=!1},MG:function(){if(this.va){var a=new p.uo,c=new p.uo,d=new p.uo;
p.ur(a,this.Qp,this.Rp,this.Sp);p.ur(c,this.an,this.bn,this.cn);p.ur(d,this.Pq,this.Qq,this.Rq);p.ZQ(this.hu,a,c,d);this.va=!1}p.Hv(this.hu)},d7:function(a,c,d){this.OH(a,c,d)},OH:function(a,c,d){this.Qp=a;this.Rp=c;this.Sp=d;this.va=!0},L6:function(a,c,d){this.YS(a,c,d)},YS:function(a,c,d){this.an=a;this.bn=c;this.cn=d;this.va=!0},D8:function(a,c,d){this.UT(a,c,d)},UT:function(a,c,d){this.Pq=a;this.Qq=c;this.Rq=d;this.va=!0},s0:function(){return{x:this.Qp,y:this.Rp,z:this.Sp}},cG:function(){return{x:this.Qp,
y:this.Rp,z:this.Sp}},S_:function(){return{x:this.an,y:this.bn,z:this.cn}},bG:function(){return{x:this.an,y:this.bn,z:this.cn}},M2:function(){return{x:this.Pq,y:this.Qq,z:this.Rq}},$P:function(){return{x:this.Pq,y:this.Qq,z:this.Rq}},FX:function(){}});p.Vo.jr=function(){return p.Ds};p.Ns=-2147483648;p.BW=p.Ns+1;p.cs=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){p.log("element type is wrong!");break}};p.So=function(a,c){a.splice(c,1)};p.md=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};p.bV=function(a,c){for(var d=0,e=c.length;d<e;d++)p.md(a,c[d])};p.aV=function(a,c){return a.indexOf(c)};p.ZU=function(a,c){a.push(c)};p.Mk=function(a,c,d){a.splice(d,0,c);return a};
p.$U=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};p.Jw=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};p.Hw=function(a,c){return-1!=a.indexOf(c)};p.UV=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};p.LC=function(a,c,d){this.next=null;this.target=a;this.iH=c;this.paused=d;this.yk=!1};p.HC=function(a,c,d){this.list=a;this.Ul=c;this.target=d;this.RA=null};
p.zJ=function(a,c){this.of=null;this.target=a;this.Po=0;this.Zq=this.Yq=null;this.paused=c;this.RA=null};
p.et=p.oa.extend({Vi:0,cf:null,L:null,Hb:0,FE:!1,bv:!1,Qn:0,tz:0,Jt:0,ctor:function(){},M0:function(){return this.Vi},setInterval:function(){},i2:function(){return this.cf},Qf:function(a,c,d,e,f){this.L=a;this.cf=c;this.Hb=-1;this.Vi=d||0;this.Jt=f||0;this.bv=0<this.Jt;this.tz=null==e?p.Sk:e;this.FE=this.tz==p.Sk;return!0},Zx:function(){if("string"==typeof this.cf)this.L[this.cf](this.Hb);else this.cf.call(this.L,this.Hb)},update:function(a){if(-1==this.Hb)this.Qn=this.Hb=0;else{var c=this.L,d=this.cf;
this.FE&&!this.bv?(this.Hb+=a,this.Hb>=this.Vi&&(c&&d&&this.Zx(),this.Hb=0)):(this.Hb+=a,this.bv?this.Hb>=this.Jt&&(c&&d&&this.Zx(),this.Hb-=this.Jt,this.Qn+=1,this.bv=!1):this.Hb>=this.Vi&&(c&&d&&this.Zx(),this.Hb=0,this.Qn+=1),this.Qn>this.tz&&p.N.d().Oe().GI(c,d))}}});p.et.s9=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new p.et;e.Qf(a,c,d||0,p.Sk,0);return e};p.sY=null;
p.nK=p.oa.extend({Iq:1,vg:null,eh:null,Kf:null,Si:null,ut:null,Ri:null,RX:null,Ce:null,Qh:!1,Zu:!1,ctor:function(){this.Iq=1;this.vg=[];this.eh=[];this.Kf=[];this.Si={};this.ut=[];this.Ri={};this.Rj=[];this.Ce=null;this.Zu=this.Qh=!1},sz:function(a){delete this.Ri[a.target.Gb];p.md(this.Rj,a);a.et=null;a.target=null},XX:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Au:function(a){if(a=this.Si[a.target.Gb])p.md(a.list,a.Ul),delete this.Si[a.target.Gb],p.md(this.ut,
a),a.Ul=null,a.target=null},yE:function(a,c,d,e){e=new p.LC(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].iH){a=p.Mk(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new p.HC(a,e,c);this.ut.push(d);this.Si[c.Gb]=d;return a},bL:function(a,c,d){d=new p.LC(c,0,d);a.push(d);a=new p.HC(a,d,c);this.ut.push(a);this.Si[c.Gb]=a},x8:function(a){this.Iq=a},B2:function(){return this.Iq},update:function(a){this.Zu=!0;1!=this.Iq&&(a*=this.Iq);var c,d;for(d=0;d<this.vg.length;d++)c=this.vg[d],c.paused||
c.yk||c.target.update(a);for(d=0;d<this.eh.length;d++)c=this.eh[d],c.paused||c.yk||c.target.update(a);for(d=0;d<this.Kf.length;d++)c=this.Kf[d],c.paused||c.yk||c.target.update(a);for(d=0;d<this.Rj.length;d++){c=this.Ce=this.Rj[d];this.Qh=!1;if(!this.Ce.paused)for(c.Po=0;c.Po<c.of.length;c.Po++)c.Yq=c.of[c.Po],c.Zq=!1,c.Yq.update(a),c.Yq=null;this.Qh&&0==this.Ce.of.length&&this.sz(this.Ce)}for(d=0;d<this.vg.length;d++)this.vg[d].yk&&this.Au(this.vg[d]);for(d=0;d<this.eh.length;d++)this.eh[d].yk&&this.Au(this.eh[d]);
for(d=0;d<this.Kf.length;d++)this.Kf[d].yk&&this.Au(this.Kf[d]);this.Zu=!1;this.Ce=null},JS:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?p.Sk:e;f=f||0;g=g||!1;var h=this.Ri[a.Gb];h||(h=new p.zJ(a,g),this.Rj.push(h),this.Ri[a.Gb]=h);if(null==h.of)h.of=[];else for(var k=0;k<h.of.length;k++)if(g=h.of[k],c==g.cf){p.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Vi.toFixed(4)+" to "+d.toFixed(4));g.Vi=d;return}g=new p.et;g.Qf(a,c,d,e,f);h.of.push(g)},AH:function(a,c,d){var e=this.Si[a.Gb];e?e.Ul.yk=!1:0==c?this.bL(this.eh,a,d):0>c?this.vg=this.yE(this.vg,a,c,d):this.Kf=this.yE(this.Kf,a,c,d)},GI:function(a,c){if(null!=a&&null!=c){var d=this.Ri[a.Gb];if(null!=d)for(var e=0;e<d.of.length;e++){var f=d.of[e];if(c==f.cf){f!=d.Yq||d.Zq||(d.Zq=!0);p.So(d.of,e);d.Po>=e&&d.Po--;0==d.of.length&&(this.Ce==d?this.Qh=!0:this.sz(d));break}}}},Qo:function(a){null!=a&&
(a=this.Si[a.Gb],null!=a&&(this.Zu?a.Ul.yk=!0:this.Au(a.Ul)))},FI:function(a){if(null!=a){var c=this.Ri[a.Gb];c&&(!c.Zq&&p.Hw(c.of,c.Yq)&&(c.Zq=!0),c.of.length=0,this.Ce==c?this.Qh=!0:this.sz(c));this.Qo(a)}},Tr:function(){this.vU(p.Ns)},vU:function(a){var c;for(c=0;c<this.Rj.length;c++)this.FI(this.Rj[c].target);if(0>a)for(c=0;c<this.vg.length;c++)this.Qo(this.vg[c].target);if(0>=a)for(c=0;c<this.eh.length;c++)this.Qo(this.eh[c].target);for(c=0;c<this.Kf.length;c++)this.Kf[c].iH>=a&&this.Qo(this.Kf[c].target)},
G5:function(){return this.JR(p.Ns)},JR:function(a){var c=[],d,e;for(d=0;d<this.Rj.length;d++)if(e=this.Rj[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.vg.length;d++)if(e=this.vg[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.eh.length;d++)if(e=this.eh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Kf.length;d++)if(e=this.Kf[d])e.paused=!0,c.push(e.target);return c},CS:function(a){if(a)for(var c=0;c<a.length;c++)this.pm(a[c])},Er:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Ri[a.Gb];c&&(c.paused=!0);if(a=this.Si[a.Gb])a.Ul.paused=!0},pm:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Ri[a.Gb];c&&(c.paused=!1);if(a=this.Si[a.Gb])a.Ul.paused=!1},f4:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Ri[a.Gb])?a.paused:!1}});p.mx={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
p.Bb=p.oa.extend({gn:0,Lq:0,fq:0,rl:null,gg:1/60,Vi:null,fE:!1,ctor:function(){this.rl=[]},Ev:function(a,c,d){if(a){c&&(this.cf=c,this.L=d);if(a!=this.rl||0==this.gn){this.fq=this.gn=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.rl=this.rl.concat(a[c]);else this.rl=a;this.Lq=this.rl.length}this.VM()}else console.log("resources should not null")},VS:function(a){this.fE=a},gm:function(a){this.fq++;p.log("cocos2d:Failed loading resource: "+a)},th:function(){this.fq++},yv:function(){var a=0;return a=
0==this.Lq?100:0|this.fq/this.Lq*100},jS:function(a){if(a&&0<a.length)for(var c=p.Db.d(),d=p.Mg?p.Mg.d():null,e=p.Kj.d(),f=p.Zc.d(),g,h=0;h<a.length;h++){g=a[h];var k=this.YD(g);switch(k){case "IMAGE":c.wS(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.y9(g.src);break;case "XML":e.tU(g.src);break;case "BINARY":f.sU(g.src);break;case "TEXT":f.uU(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},BM:function(){this.$u();if(this.fE){var a=
p.N.d().Rt;if(null!=a&&20>a){p.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.gn<this.Lq&&(this.jM(),this.gn++)},jM:function(){var a=p.Db.d(),c=p.Mg?p.Mg.d():null,d=p.Kj.d(),e=p.Zc.d(),f=this.rl[this.gn],g=this.YD(f);switch(g){case "IMAGE":a.Le(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.M5(f.src);break;case "XML":d.UR(f.src);break;case "BINARY":e.TR(f.src);break;case "TEXT":e.VR(f.src);break;case "FONT":this.DM(f);break;default:throw"cocos2d:unknown filename extension: "+
g;}},VM:function(){var a=this;this.Vi=setInterval(function(){a.BM()},1E3*this.gg)},LN:function(){clearInterval(this.Vi)},YD:function(a){if(null!=a.br)return p.mx.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in p.mx)if(-1!=p.mx[d].indexOf(a))return d;return a},$u:function(){100<=this.yv()&&(this.LN(),this.xL())},xL:function(){if(this.L&&"string"==typeof this.cf)this.L[this.cf](this);else this.L&&"function"==typeof this.cf?this.cf.call(this.L,
this):this.cf(this);this.Lq=this.fq=this.gn=0},DM:function(a){var c=a.src,d=p.Zc.d();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.br+"; src:",g=0;g<c.length;g++)f+="url('"+d.Ld(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.br;c.innerHTML=".";c.style.position="absolute";c.style.left="-100px";c.style.top=
"-100px";document.body.appendChild(c)}p.Bb.d().th()},yY:function(){}});p.Bb.sB=function(a,c,d){this.nb||(this.nb=new p.Bb);this.nb.Ev(a,c,d);return this.nb};p.Bb.L5=function(a,c,d){this.nb||(this.nb=new p.Bb);this.nb.VS(!0);this.nb.Ev(a,c,d);return this.nb};p.Bb.tB=function(a){this.nb&&this.nb.jS(a)};p.Bb.d=function(){this.nb||(this.nb=new p.Bb);return this.nb};p.Bb.nb=null;
p.dx=p.ap.extend({gu:null,zn:null,Pu:null,rp:null,xn:null,iA:null,ctor:function(){p.ap.prototype.ctor.call(this);this.iA=p.N.d().ub},u:function(){p.ap.prototype.u.call(this);var a=p.a(this.iA.width/2,this.iA.height/2);this.zn=new Image;var c=this;this.zn.addEventListener("load",function(){c.UL(a);this.removeEventListener("load",arguments.callee,!1)});this.zn.src="";this.zn.width=160;this.zn.height=200;this.rp=p.Ob.create(p.sA(32,32,32,255));this.rp.J(0,0);this.v(this.rp,0);this.xn=p.T.create("Loading... 0%",
"Arial",14);this.xn.s(p.gv(180,180,180));this.xn.J(p.mf(a,p.a(0,-110)));this.rp.v(this.xn,10)},UL:function(a){this.Pu=new p.Cb;this.Pu.Pe(this.zn);this.Pu.Sd();this.gu=p.A.Dd(this.Pu);this.gu.Aj(p.Yc());this.gu.J(a);this.rp.v(this.gu,10)},Uf:function(){p.H.prototype.Uf.call(this);this.Qe(this.SE,0.3)},jd:function(){p.H.prototype.jd.call(this);this.xn.na("Loading... 0%")},Ev:function(a,c,d){this.zS=a;this.OS=c;this.target=d},SE:function(){this.yh(this.SE);p.Bb.sB(this.zS,this.OS,this.target);this.Qe(this.$u)},
$u:function(){var a=p.Bb.d().yv();this.xn.na("Loading... "+a+"%");100<=a&&this.yh(this.$u)}});p.dx.sB=function(a,c,d){this.nb||(this.nb=new p.dx,this.nb.u());this.nb.Ev(a,c,d);a=p.N.d();a.Fc?a.uH(this.nb):a.HS(this.nb);return this.nb};p.Tw=p.oa.extend({ab:null,b8:function(a){this.ab=a},V1:function(){return this.ab},ctor:function(a){this.ab=a},CA:function(){p.log("DrawingPrimitive.drawPoint() not implement!")},MF:function(){p.log("DrawingPrimitive.drawPoints() not implement!")},ih:function(){p.log("DrawingPrimitive.drawLine() not implement!")},OF:function(){p.log("DrawingPrimitive.drawRect() not implement!")},DA:function(){p.log("DrawingPrimitive.drawSolidRect() not implement!")},Fd:function(){p.log("DrawingPrimitive.drawPoly() not implement!")},
ov:function(){p.log("DrawingPrimitive.drawSolidPoly() not implement!")},JF:function(){p.log("DrawingPrimitive.drawCircle() not implement!")},NF:function(){p.log("DrawingPrimitive.drawQuadBezier() not implement!")},KF:function(){p.log("DrawingPrimitive.drawCubicBezier() not implement!")},IF:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")},nv:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
p.EC=p.Tw.extend({CA:function(a,c){c||(c=1);var d=p.aa.d().da,e=p.aa.d().la,e=p.a(a.x*d,a.y*e);this.ab.beginPath();this.ab.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.ab.closePath();this.ab.fill()},MF:function(a,c,d){if(null!=a){d||(d=1);c=this.ab;var e=p.aa.d().da,f=p.aa.d().la;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},ih:function(a,c){var d=this.ab,e=p.aa.d().da,f=p.aa.d().la;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},OF:function(a,c){this.ih(p.a(a.x,a.y),p.a(c.x,a.y));this.ih(p.a(c.x,a.y),p.a(c.x,c.y));this.ih(p.a(c.x,c.y),p.a(a.x,c.y));this.ih(p.a(a.x,c.y),p.a(a.x,a.y))},DA:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.ov(a,4,d)},Fd:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.ab;var g=p.aa.d().da,h=p.aa.d().la;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},ov:function(a,c,d){this.NH(d.l,d.k,d.g,d.B);this.Fd(a,c,!0,!0)},JF:function(a,c,d,e,f){f=f||!1;e=this.ab;var g=p.aa.d().da,h=p.aa.d().la;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},NF:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(p.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(p.a(d.x,d.y));this.Fd(f,e+1,!1,!1)},KF:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(p.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(p.a(e.x,e.y));this.Fd(g,f+1,!1,!1)},IF:function(a,c){this.nv(a,0.5,c)},nv:function(a,c,d){p.M.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Nw(p.zg(a,f-1),p.zg(a,f-0),p.zg(a,f+1),p.zg(a,f+2),c,g),e.push(f);this.Fd(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.ab.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.ab.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.ab.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},TZ:function(a,c,d){a=a||this.ab;c*=p.aa.d().da;d instanceof p.od&&(d=new p.Zb(0|255*d.l,0|255*d.k,0|255*d.g));d="rgba("+d.l+","+d.k+","+d.g;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,p.PC,!1);a.closePath();a.fill()},RZ:function(a,c,d){a=a||this.ab;c*=p.aa.d().da;d instanceof p.od&&(d=new p.Zb(0|255*d.l,0|255*d.k,0|255*d.g));d="rgba("+
d.l+","+d.k+","+d.g;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,p.PC,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.ab.fillText(a,c,-d)},iT:function(a,c,d,e){this.ab.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.ab.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},NH:function(a,c,d,e){this.ab.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.ab.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},JT:function(){},uT:function(a){this.ab.lineWidth=a*p.aa.d().da}});
p.pJ=p.Tw.extend({aq:!1,qb:null,Oh:-1,Pb:null,gz:-1,fz:-1,ctor:function(a){null==a&&(a=p.M);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";p.Tw.prototype.ctor.call(this,a);this.Pb=new p.od(1,1,1,1)},tj:function(){this.aq||(this.qb=p.Pg.d().uh(p.bX),this.Oh=this.ab.getUniformLocation(this.qb.zv(),"u_color"),this.gz=this.ab.getUniformLocation(this.qb.zv(),"u_pointSize"),this.aq=!0)},SZ:function(){this.aq=!1},CA:function(a){this.tj();
this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,new Float32Array(this.Pb.tb,0,4),1);this.qb.hI(this.gz,this.fz);var c=this.ab,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(p.be,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);p.Ng()},MF:function(a){if(a&&0!=a.length){this.tj();this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,new Float32Array(this.Pb.tb,0,4),1);this.qb.hI(this.gz,
this.fz);var c=this.ab,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.vu(a),c.STATIC_DRAW);c.vertexAttribPointer(p.be,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);p.Ng()}},vu:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},ih:function(a,c){this.tj();this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,new Float32Array(this.Pb.tb,0,4),1);var d=this.ab,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.vu([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(p.be,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);p.Ng()},OF:function(a,c){this.ih(p.a(a.x,a.y),p.a(c.x,a.y));this.ih(p.a(c.x,a.y),p.a(c.x,c.y));this.ih(p.a(c.x,c.y),p.a(a.x,c.y));this.ih(p.a(a.x,c.y),p.a(a.x,a.y))},DA:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.ov(a,4,d)},Fd:function(a,c,d){this.tj();this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,new Float32Array(this.Pb.tb,0,4),
1);c=this.ab;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.vu(a),c.STATIC_DRAW);c.vertexAttribPointer(p.be,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);p.Ng()},ov:function(a,c,d){this.tj();d||(d=this.Pb);this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,new Float32Array(d.tb,0,4),1);c=this.ab;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.vu(a),c.STATIC_DRAW);
c.vertexAttribPointer(p.be,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);p.Ng()},JF:function(a,c,d,e,f){this.tj();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,new Float32Array(this.Pb.tb,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.be,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);p.Ng()}},NF:function(a,c,d,e){this.tj();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,new Float32Array(this.Pb.tb,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.be,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);p.Ng()},KF:function(a,c,d,e,f){this.tj();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,new Float32Array(this.Pb.tb,0,4),1);a=this.ab;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(p.be,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);p.Ng()},IF:function(a,c){this.nv(a,0.5,c)},nv:function(a,c,d){this.tj();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Nw(p.zg(a,f-1),p.zg(a,f),p.zg(a,f+1),p.zg(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.qb.ye();this.qb.Xf();p.Nd(p.eg);this.qb.Ek(this.Oh,
new Float32Array(this.Pb.tb,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(p.be,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);p.Ng()},iT:function(a,c,d,e){this.Pb.l=a/255;this.Pb.k=c/255;this.Pb.g=d/255;this.Pb.B=e/255},NH:function(a,c,d,e){this.Pb.l=a;this.Pb.k=c;this.Pb.g=d;this.Pb.B=e},JT:function(a){this.fz=a*p.Yc()},uT:function(a){this.ab.lineWidth&&this.ab.lineWidth(a)}});p.PC=2*Math.PI;p.hD={CX:0,fW:1,gW:2,RU:3,ZV:4,YV:5,dV:6,oW:7,JV:8,SJ:100,$J:101};p.uW=0;p.vW=1;p.sW=2;p.tW=3;p.sf=0;p.Nj=1;p.jf=null;p.M=null;p.canvas=null;p.oP=null;p.Vc=p.sf;p.DR=p.size(0,0);window.AB=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});p.cB=!1;
p.Fk=function(a,c,d){function e(){if(p.Mg){var a=p.Mg.d();document[k]?(a.IR(),a.KR()):(p.N.d().RM(),a.AS(),a.BS())}}a=p.rb(a)||p.rb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=p.lj=p.Gj("DIV"),h=g.style,f=p.canvas=a,f.parentNode.insertBefore(g,f),f.Ql(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&p.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=p.canvas=p.Gj("CANVAS"),f.oF("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=p.lj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!p.Kx){p.ra.jc&&(p.M=p.O9=p.zF(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!p.ra.rj,alpha:!1}));p.M?(p.Vc=p.Nj,window.gl=p.M,p.jf=new p.pJ(p.M),p.Db.d().aM()):(p.M=f.getContext("2d"),p.gR=p.M,
p.Vc=p.sf,p.M.translate(0,f.height),p.jf=p.EC?new p.EC(p.M):null);p.DR=p.size(f.width,f.height);p.oP=g;p.log(p.is);p.$d.d();p.cT();p.ra.rj&&p.XK();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(p.cB=!1,window.addEventListener("focus",function(){if(p.Mg){var a=p.Mg.d();a.AS();a.BS()}},!1),window.addEventListener("blur",function(){if(p.Mg){var a=p.Mg.d();a.IR();a.KR()}},!1)):(p.cB=!0,document.addEventListener(l,e,!1))}};p.XK=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
p.gE=!1;p.cT=function(){p.gE=!1;p.canvas.oncontextmenu=p.gE?function(){}:function(){return!1}};p.yi=p.oa.extend({gg:null,ctor:function(){this.gg=0;if(p.Hz)throw"Application has been initialized";p.Hz=this},Ir:function(a){this.gg=a},U8:function(a){a&&p.rect(0,0,0,0)},x2:function(){return p.ra.rj?p.hD.SJ:p.hD.$J},ES:function(){if(!this.jO())return 0;var a,c=p.N.d(),d=window;p.VO=c;d.AB&&this.gg==1/60?(a=function(){c.RG();d.AB(a)},d.AB(a)):(a=function(){c.RG()},setInterval(a,1E3*this.gg));return 0}});
p.yi.d=function(){return p.Hz};p.yi.d0=function(){var a=p.GJ,c=navigator.language;c||(c=navigator.browserLanguage||navigator.G9);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=p.FJ;break;case "fr":a=p.HJ;break;case "it":a=p.KJ;break;case "de":a=p.IJ;break;case "es":a=p.RJ;break;case "ru":a=p.QJ;break;case "ko":a=p.MJ;break;case "ja":a=p.LJ;break;case "hu":a=p.JJ;break;case "pt":a=p.PJ;break;case "ar":a=p.EJ;break;case "no":a=p.NJ;break;case "pl":a=p.OJ}return a};p.Hz=null;p.Kj=p.oa.extend({Q9:null,wE:null,Wn:null,Ty:null,ctor:function(){this.Wn={};window.DOMParser?(this.Ty=!0,this.wE=new DOMParser):this.Ty=!1},parse:function(a){var c=a;a=this.dG(a);a=this.xE(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.cz(c)},t9:function(a,c){if(null==c||!1===c)a=this.dG(a);return this.xE(a)},xE:function(a,
c){var d;this.Ty?d=this.wE.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&p.log("cocos2d:xml "+c+" not found!");return d},cz:function(a){var c=null;switch(a.tagName){case "dict":c=this.yM(a);break;case "array":c=this.xM(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},xM:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.cz(f))}return c},yM:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.cz(g))}return c},UR:function(a){a=p.Zc.d().Ld(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(p.Bb.d().th(),d.Wn[a]=c.responseText,c=null):(p.Bb.d().th(),p.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},tU:function(a){this.Wn.hasOwnProperty(a)&&delete this.Wn[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
r0:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},dG:function(a){return null!=this.Wn?this.Wn[a]:null}});p.Kj.d=function(){this.nb||(this.nb=new p.Kj);return this.nb};p.Kj.nb=null;p.Gw=p.oa.extend({UO:function(){p.yi.d().ES();return!0},aZ:function(){p.N.d().pause()},$Y:function(){p.N.d().wH()},iO:function(){p.yi.d().iO()},kO:function(){p.yi.d().kO()},bZ:function(){}});p.Gw.bU=function(){null==p.ow&&(p.ow=new p.Gw);if(!p.ow)throw"Application initialize failure";return p.ow};p.ow=null;p.T=p.A.extend({vd:null,$j:p.Ei,sk:p.jp,De:null,ee:0,Jf:"",bz:null,tn:!1,Oi:null,aj:!1,wl:null,Hn:0,xq:0,Gu:null,ok:!1,Cq:null,Mn:0,Iu:null,Nn:null,Qt:null,Rz:0,Sz:0,Bc:!1,cu:null,du:null,ctor:function(){p.A.prototype.ctor.call(this);this.vd=p.Tk();this.$j=p.fp;this.sk=p.jp;this.Sb=!1;this.Oi="";this.De="Arial";this.aj=this.tn=!1;this.wl=p.Tk();this.xq=this.Hn=0;this.Gu="rgba(128, 128, 128, 0.5)";this.ok=!1;this.Cq=p.eb();this.Mn=0;this.Iu="";this.Nn=p.eb();this.Qt="rgba(255,255,255,1)";this.Sz=this.Rz=
0;this.Bc=!1;this.$g()},u:function(){return this.wk(" ",this.De,this.ee)},nM:function(){this.Iy().font=this.Oi},hq:function(a){return this.Iy().measureText(a).width},lL:function(a,c){var d=this.hq(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=p.T.mL,m=p.T.TM,n=p.T.kL,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.hq(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.hq(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.De+" FontSize \x3d "+this.ee.toFixed(1)+"\x3e"},s:null,sq:function(a){p.fb.prototype.s.call(this,a);this.GE()},$g:null,GE:function(){this.Bc=!0;var a=this.cc,c=this.yb,d=this.Cq,e=this.Nn;this.Gu="rgba("+(0|0.5*a.l)+","+(0|0.5*a.k)+","+(0|0.5*a.g)+","+this.Hn+")";this.Qt="rgba("+(0|a.l/255*e.l)+","+(0|a.k/255*e.k)+","+
(0|a.g/255*e.g)+", "+c/255+")";this.Iu="rgba("+(0|a.l/255*d.l)+","+(0|a.k/255*d.k)+","+(0|a.g/255*d.g)+", "+c/255+")"},bN:function(){this.Bc=!0;var a=this.Cq,c=this.Nn;this.Gu="rgba(128,128,128,"+this.Hn+")";this.Qt="rgba("+(0|c.l)+","+(0|c.k)+","+(0|c.g)+", 1)";this.Iu="rgba("+(0|a.l)+","+(0|a.k)+","+(0|a.g)+", 1)"},wc:null,Yz:function(a){p.fb.prototype.wc.call(this,a);this.$g()},ha:null,uq:function(a){this.Zh!==a&&(p.A.prototype.ha.call(this,a),this.$g(),this.Bc=!0)},xc:null,D9:function(a){p.fb.prototype.xc.call(this,
a);this.$g()},LA:function(){return this.Jf},C0:function(){return this.$j},R2:function(){return this.sk},m0:function(){return p.size(this.vd.width,this.vd.height)},w0:function(){return this.ee},v0:function(){return this.De},wk:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||p.size(0,d);f=f||p.fp;g=g||p.kp;return p.A.prototype.u.call(this)?(this.Sb=!1,this.vd=p.size(e.width,e.height),this.De=c||"Arial",this.$j=f,this.sk=g,this.ee=d,this.Oi=this.ee+"px '"+c+"'",this.Ni=p.T.pt(c,this.ee),this.na(a),this.$g(),
this.$z(),this.Bc=!1,!0):!1},ZA:null,XL:function(a,c){if(!p.A.prototype.u.call(this))return!1;this.aA(c,!1);this.na(a);return!0},YL:function(a,c){if(!p.A.prototype.u.call(this))return!1;this.Wf(p.Pg.d().uh(p.T.HK));this.aA(c,!1);this.na(a);return!0},u8:function(a){a&&this.aA(a,!0)},y2:function(){return this.CM(!1)},hP:function(a,c,d){c=c||0.5;!1===this.aj&&(this.aj=!0);var e=this.wl;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Hn!=c&&(this.Hn=c);this.$g();this.xq!=
d&&(this.xq=d);this.Bc=!0},NZ:function(){this.aj&&(this.aj=!1,this.Bc=!0)},iP:function(a,c){!1===this.ok&&(this.ok=!0);var d=this.Cq;if(d.l!==a.l||d.k!==a.k||d.g!==a.g)d.l=a.l,d.k=a.k,d.g=a.g,this.$g();this.Mn!==c&&(this.Mn=c||0);this.Bc=!0},OZ:function(){this.ok&&(this.ok=!1,this.Bc=!0)},IB:null,fN:function(a){var c=this.Nn;if(c.l!=a.l||c.k!=a.k||c.g!=a.g)c.l=a.l,c.k=a.k,c.g=a.g,this.$g(),this.Bc=!0},gN:function(a){var c=this.Nn;if(c.l!=a.l||c.k!=a.k||c.g!=a.g)c.l=a.l,c.k=a.k,c.g=a.g,this.$g(),this.Bc=
!0},aA:function(a,c){a.ar?(this.vd.width=a.ar.width,this.vd.height=a.ar.height):(this.vd.width=0,this.vd.height=0);this.$j=a.UF;this.sk=a.VF;this.De=a.br;this.ee=a.fontSize||12;this.Oi=this.ee+"px '"+this.De+"'";this.Ni=p.T.pt(this.De,this.ee);a.rI&&this.hP(a.sI,a.tI,a.shadowBlur,!1);a.ZB&&this.iP(a.strokeColor,a.zI,!1);this.IB(a.WF,!1);c&&this.$z()},CM:function(a){var c=new p.vJ;a?(c.fontSize=this.ee,c.ar=p.qx(this.vd)):(c.fontSize=this.ee,c.ar=p.size(this.vd.width,this.vd.height));c.br=this.De;
c.UF=this.$j;c.VF=this.sk;if(this.ok){c.ZB=!0;var d=this.Cq;c.strokeColor=new p.Zb(d.l,d.k,d.g);c.zI=this.Mn}else c.ZB=!1;this.aj?(c.rI=!0,c.shadowBlur=this.xq,c.tI=this.Hn,c.sI=a?p.qx(this.wl):p.size(this.wl.width,this.wl.height)):c.aj=!1;a=this.Nn;c.WF=new p.Zb(a.l,a.k,a.g);return c},Ni:18,na:function(a){a=String(a);this.bz!=a&&(this.bz=a+"",this.fF(),this.Bc=!0)},fF:function(){this.Jf=this.bz},k7:function(a){a!==this.$j&&(this.$j=a,this.Bc=!0)},H8:function(a){a!=this.sk&&(this.sk=a,this.Bc=!0)},
LH:function(a){if(a.width!=this.vd.width||a.height!=this.vd.height)this.vd=a,this.fF(),this.Bc=!0},PH:function(a){this.ee!==a&&(this.ee=a,this.Oi=a+"px '"+this.De+"'",this.Ni=p.T.pt(this.De,a),this.Bc=!0)},oT:function(a){this.De&&this.De!=a&&(this.De=a,this.Oi=this.ee+"px '"+a+"'",this.Ni=p.T.pt(a,this.ee),this.Bc=!0)},CL:function(a){if(a){var c=this.Rz,d=this.Sz,e=this.ca.ba-d,f=this.sk,g=this.$j,h=this.Ni,k=this.Mn;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Oi&&(a.font=this.Oi);a.fillStyle=
this.Qt;var l=d=0,m=this.ok;m&&(a.lineWidth=2*k,a.strokeStyle=this.Iu);this.aj&&(k=this.wl,a.shadowColor=this.Gu,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.xq);a.textBaseline=p.T.FN[f];a.textAlign=p.T.EN[g];c=this.ca.sa-c;d=g===p.tK?d+c:g===p.Ei?d+c/2:d+0;if(this.tn)for(g=this.cj.length,f===p.jp?l=h+e-h*g:f===p.lt&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.cj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==p.jp&&(l=f===p.kp?l-e:l-0.5*e),m&&a.strokeText(this.Jf,
d,l),a.fillText(this.Jf,d,l)}},Iy:function(){if(this.du)return this.du;if(!this.cu){var a=document.createElement("canvas"),c=new p.Cb;c.Pe(a);this.ka(c);this.cu=a}return this.du=this.cu.getContext("2d")},gF:function(){var a=this.vd.width,c,d;this.kE=[];this.tn=!1;this.nM();if(0!==a){var e=this.Jf;this.cj=[];c=0;for(d=this.Jf.length;c<d;){var f=this.lL(e.substr(c),a);this.cj.push(e.substr(c,f));c+=f}}else for(this.cj=this.Jf.split("\n"),c=0,d=this.cj.length;c<d;c++)this.kE.push(this.hq(this.cj[c]));
0<this.cj.length&&(this.tn=!0);d=c=0;this.ok&&(c=d=2*this.Mn);this.aj&&(e=this.wl,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.tn?p.size(0|Math.max.apply(Math,this.kE)+c,0|this.Ni*this.cj.length+d):p.size(0|this.hq(this.Jf)+c,0|this.Ni+d):0===this.vd.height?this.tn?p.size(0|a+c,0|this.Ni*this.cj.length+d):p.size(0|a+c,0|this.Ni+d):p.size(0|a+c,0|this.vd.height+d);this.ea(a);this.Rz=c;this.Sz=d;e=this.Be;this.ad.m=0.5*c+(a.width-c)*e.m;this.ad.n=0.5*d+(a.height-d)*e.n},c:function(){this.Bc&&
this.gF();return p.A.prototype.c.call(this)},$z:function(){var a=this.Iy(),c=this.cu,d=this.ca;if(0===this.Jf.length)return c.width=1,c.height=d.ba,this.Ab(p.rect(0,0,1,d.ba)),!0;a.font=this.Oi;this.gF();var e=d.sa,d=d.ba,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.CL(a);this.pa.Sd();this.Ab(p.rect(0,0,e,d));return!0},$:function(a){this.Jf&&""!=this.Jf&&(this.Bc&&(this.Bc=!1,this.$z()),p.A.prototype.$.call(this,a||p.M))},Ga:null,Bf:function(a){if(this.Jf&&""!=this.Jf){a=
a||p.M;var c=this.pa;c&&c.ec&&(this.fc.ye(),this.fc.Xf(),p.pj(this.S.src,this.S.mb),p.Of(c),p.Nd(p.kt),a.bindBuffer(a.ARRAY_BUFFER,this.zu),this.He&&(a.bufferData(a.ARRAY_BUFFER,this.pb.nA,a.STATIC_DRAW),this.He=!1),a.vertexAttribPointer(p.be,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.ip,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(p.hp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===p.Lj?(a=this.pb,a=[p.a(a.Da.o.x,a.Da.o.y),p.a(a.wa.o.x,a.wa.o.y),p.a(a.Fa.o.x,a.Fa.o.y),p.a(a.za.o.x,
a.za.o.y)],p.jf.Fd(a,4,!0)):2===p.Lj&&(a=this.MA().La,c=this.Ib,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.jf.Fd(a,4,!0));p.kh++}},Gz:function(a,c,d){this.sc=c||!1;d=d||a.La;this.ea(d);this.VB(a);c=this.Pn;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.Xr=!(0===c.width||0===c.height);a=this.dh;this.Qb&&(a.m=-a.m);this.Rb&&(a.n=-a.n);this.Ib.m=a.x+(this.ca.sa-this.ia.width)/2;this.Ib.n=a.y+(this.ca.ba-this.ia.height)/2;this.Ta&&(this.va=!0)},JE:function(a){var c=
this.Ta?this.Ca.R():this.pa;if(c){var d=c.lo(),e=c.ko(),f,g=this.pb;this.sc?(p.Cs?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Qb&&(e=f,f=a,a=e),this.Rb&&(e=c,c=d,d=e),g.wa.r.Aa=c,g.wa.r.X=f,g.Fa.r.Aa=c,g.Fa.r.X=a,g.Da.r.Aa=d,g.Da.r.X=f,g.za.r.Aa=d,g.za.r.X=a):(p.Cs?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/
e),this.Qb&&(e=c,c=d,d=e),this.Rb&&(e=f,f=a,a=e),g.wa.r.Aa=c,g.wa.r.X=a,g.Fa.r.Aa=d,g.Fa.r.X=a,g.Da.r.Aa=c,g.Da.r.X=f,g.za.r.Aa=d,g.za.r.X=f);this.He=!0}}});
p.ra.jc?(b=p.T.prototype,b.s=p.A.prototype.s,b.$g=p.T.prototype.bN,b.wc=p.A.prototype.wc,b.ha=p.A.prototype.ha,b.xc=p.A.prototype.xc,b.ZA=p.T.prototype.YL,b.IB=p.T.prototype.gN,b.Ga=p.T.prototype.Bf,b.Ab=p.A.prototype.KE):(b=p.T.prototype,b.s=p.T.prototype.sq,b.$g=p.T.prototype.GE,b.wc=p.T.prototype.Yz,b.ha=p.T.prototype.uq,b.xc=p.T.prototype.cF,b.ZA=p.T.prototype.XL,b.IB=p.T.prototype.fN,b.Ga=p.A.prototype.Ga,b.Ab=p.T.prototype.Gz);p.T.EN=["left","center","right"];p.T.FN=["top","middle","bottom"];
p.T.mL=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.T.TM=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.T.kL=/[\s\-\/\\\:]/;p.T.create=function(a,c,d,e,f,g){var h=new p.T;return h.wk(a,c,d,e,f,g)?h:null};p.T.GZ=function(a,c){var d=new p.T;return d&&d.ZA(a,c)?d:null};p.T.HK=p.BK?p.px:p.ZW;p.T.Uk=document.createElement("div");p.T.Uk.style.fontFamily="Arial";p.T.Uk.style.position="absolute";p.T.Uk.style.left="-100px";p.T.Uk.style.top="-100px";p.T.Uk.style.lineHeight="normal";
document.body.appendChild(p.T.Uk);p.T.pt=function(a,c){var d=p.T.xD[a+"."+c];if(0<d)return d;var e=p.T.Uk;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;p.T.xD[a+"."+c]=d;e.innerHTML="";return d};p.T.xD={};p.yJ=p.oa.extend({hc:null,target:null,Ol:0,yg:null,Tl:!1,paused:!1,RA:null,ctor:function(){this.hc=[];this.L=null;this.Ol=0;this.yg=null;this.paused=this.Tl=!1;this.RA=null}});
p.VI=p.oa.extend({Sg:null,Qm:null,Ce:null,Qh:!1,qY:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Sg={};this.Qm=[];this.Ce=null;this.Qh=!1},$N:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Sg[c.Gb];e||(e=new p.yJ,e.paused=d,e.target=c,this.Sg[c.Gb]=e,this.Qm.push(e));this.RK(e);e.hc.push(a);a.O(c)},X5:function(){for(var a=this.Qm,
c=0;c<a.length;c++){var d=a[c];d&&this.rH(d.target,!0)}},rH:function(a,c){if(null!=a){var d=this.Sg[a.Gb];d&&(-1===d.hc.indexOf(d.yg)||d.Tl||(d.Tl=!0),d.hc=[],this.Ce!=d||c?this.ny(d):this.Qh=!0)}},qH:function(a){if(null!=a){var c=this.Sg[a.pl.Gb];if(c)for(var d=0;d<c.hc.length;d++){if(c.hc[d]==a){c.hc.splice(d,1);break}}else p.log("cocos2d: removeAction: Target not found")}},lS:function(a,c){a==p.zm&&p.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Sg[c.Gb];if(d)for(var e=d.hc.length,f=0;f<e;++f){var g=d.hc[f];if(g&&g.Gc===a&&g.pl==c){this.GM(f,d);break}}},FA:function(a,c){a==p.zm&&p.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Sg[c.Gb];if(d){if(null!=d.hc)for(var e=0;e<d.hc.length;++e){var f=d.hc[e];if(f&&f.Gc===a)return f}p.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},lR:function(a){return(a=this.Sg[a.Gb])?a.hc?a.hc.length:0:0},Er:function(a){if(a=this.Sg[a.Gb])a.paused=!0},
pm:function(a){if(a=this.Sg[a.Gb])a.paused=!1},F5:function(){for(var a=[],c=this.Qm,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},CS:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.pm(a[c])},P5:function(){p.N.d().Oe().Qo(this)},GM:function(a,c){c.hc[a]!=c.yg||c.Tl||(c.Tl=!0);p.So(c.hc,a);c.Ol>=a&&c.Ol--;0==c.hc.length&&(this.Ce==c?this.Qh=!0:this.ny(c))},ny:function(a){a&&(delete this.Sg[a.target.Gb],p.md(this.Qm,a),a.hc=null,a.target=null)},RK:function(a){null==
a.hc&&(a.hc=[])},update:function(a){for(var c=this.Qm,d,e=0;e<c.length;e++){d=this.Ce=c[e];if(!d.paused)for(d.Ol=0;d.Ol<d.hc.length;d.Ol++)if(d.yg=d.hc[d.Ol],d.yg){d.Tl=!1;d.yg.step(a);if(d.Tl)d.yg=null;else if(d.yg.oh()){d.yg.stop();var f=d.yg;d.yg=null;this.qH(f)}d.yg=null}this.Qh&&0===d.hc.length&&this.ny(d)}}});p.Ae=p.oa.extend({P:null,xu:p.Bi(),Ye:0,ctor:function(a,c,d){this.P=p.a(a||0,c||0);this.Ye=d||0},P0:function(){return this.P},MP:function(){return this.xu},j0:function(){return p.Uc(this.P,this.xu)},F0:function(){return this.Ye},G0:function(){return this.Ye},TB:function(a,c,d){this.xu=this.P;this.P=p.a(c||0,d||0);this.Ye=a},df:function(a,c){this.xu=p.a(a||0,c||0)}});
p.qD=p.oa.extend({WX:null,Mb:function(){return!1},Tc:function(){},se:function(){},uj:function(){},WG:function(){},ZG:function(){},YG:function(){},XG:function(){},x9:function(){},w9:function(){}});p.pX=p.qD.extend({Mb:function(){return!1},Tc:function(){},se:function(){},uj:function(){}});p.iX=p.qD.extend({WG:function(){},ZG:function(){},YG:function(){},XG:function(){}});p.Mm=p.oa.extend({xb:null,Ge:0,jn:0,Lb:function(){return this.xb},Kg:function(a){this.xb=a},NP:function(){return this.Ge},Nr:function(a){this.Ge=a},wP:function(){return this.jn},jT:function(a){this.jn=a},qj:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.xb=a;this.Ge=c;this.jn=0;return!0}});p.Mm.create=function(a,c){var d=new p.Mm;d&&d.qj(a,c);return d};p.ux=p.Mm.extend({qj:function(a,c){return p.Mm.prototype.qj.call(this,a,c)}});
p.ux.create=function(a,c){var d=new p.ux;d&&d.qj(a,c);return d};p.dt=p.Mm.extend({Mu:!1,dn:null,e4:function(){return this.Mu},r8:function(a){this.Mu=a},V_:function(){return this.dn},qj:function(a,c,d){return p.Mm.prototype.qj.call(this,a,c)?(this.dn=[],this.Mu=d,!0):!1}});p.dt.create=function(a,c,d){var e=new p.dt;e&&e.qj(a,c,d);return e};p.wK=1;p.zK=2;p.yK=4;p.xK=8;p.sX=p.wK|p.zK|p.yK|p.xK;p.yx=0;p.Bx=1;p.Ax=2;p.zx=3;p.rX=4;p.LG=function(a,c){return a.Ge>c.Ge};p.ht=function(a){this.type=a};
p.U=p.oa.extend({Yi:!1,me:null,le:null,ll:!1,Kq:!1,Xu:!1,ak:null,Qi:null,Wu:!1,Li:!1,QL:[new p.ht(p.yx),new p.ht(p.Bx),new p.ht(p.Ax),new p.ht(p.zx)],u:function(){this.Li=!0;this.me=[];this.le=[];this.ak=[];this.Qi=[];this.Yi=this.ll=this.Wu=this.Kq=this.Xu=!1;p.U.gS();return!0},tq:function(a){this.Yi=a},LL:function(){return this.Yi},G3:function(){return this.Li},gT:function(a){this.Li=a},VK:function(a,c){var d=p.ux.create(a,c||0);this.ll?-1!=this.Qi.indexOf(a)?p.md(this.Qi,a):(this.ak.push(d),this.Kq=
!0):this.le=this.eo(d,this.le)},WK:function(a,c,d){c=p.dt.create(a,c,d);this.ll?-1!=this.Qi.indexOf(a)?p.md(this.Qi,a):(this.ak.push(c),this.Kq=!0):this.me=this.eo(c,this.me)},eo:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Ge<a.Ge&&++d,e.Lb()==a.Lb())return p.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return p.Mk(c,a,d)},XF:function(){this.le.length=0;this.me.length=0},JM:function(a){if(null!=a)if(this.ll){var c=this.RF(this.ak,a);c?p.md(this.ak,c):
(this.Qi.push(a),this.Xu=!0)}else this.YF(a)},nS:function(){this.ll?this.Wu=!0:this.XF()},Nr:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.RF(c);d?d.Ge!=a&&(d.Nr(a),this.lH(this.me),this.lH(this.le)):p.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.ll=!0;var e=this.me.length,f=this.le.length,g=e&&f,h=g?a.slice():a,k=this.QL[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.me.length;r++){l=this.me[r];if(!l)break;m=!1;if(d==p.yx)l.Lb().Mb&&(m=l.Lb().Mb(e,c))&&l.dn.push(e);else if(0<l.dn.length)switch(m=!0,k.type){case p.Bx:p.ra.rj?l.Lb().Tc&&l.Lb().Tc(e,c):this.Yi&&l.Lb().Tc&&l.Lb().Tc(e,c);break;case p.Ax:l.Lb().se&&l.Lb().se(e,c);l.dn.length=0;break;case p.zx:l.Lb().uj&&l.Lb().uj(e,c),l.dn.length=0}if(m&&l.Mu){g&&p.md(h,e);break}}if(0<f)for(n=0;n<this.le.length&&(l=this.le[n],l);n++);this.ll=!1;if(this.Xu){this.Xu=
!1;for(n=0;n<this.Qi.length;n++)this.YF(this.Qi[n]);this.Qi.length=0}if(this.Kq){this.Kq=!1;for(n=0;n<this.ak.length;n++){l=this.ak[n];if(!l)break;l instanceof p.dt?this.me=this.eo(l,this.me):this.le=this.eo(l,this.le)}this.ak.length=0}this.Wu&&(this.Wu=!1,this.XF())},yw:function(a,c){this.Li&&this.touches(a,c,p.yx)},zw:function(a,c){this.Li&&this.touches(a,c,p.Bx)},Sr:function(a,c){this.Li&&this.touches(a,c,p.Ax)},aC:function(a,c){this.Li&&this.touches(a,c,p.zx)},RF:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.me.length;d++)if(this.me[d].Lb()==c)return this.me[d];for(d=0;d<this.le.length;d++)if(this.le[d].Lb()==c)return this.le[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Lb()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},YF:function(a){for(var c,d=0;d<this.le.length;d++)if((c=this.le[d])&&c.Lb()==a){p.md(this.le,c);break}for(d=0;d<this.me.length;d++)if((c=this.me[d])&&c.Lb()==a){p.md(this.me,c);break}},lH:function(a){a.sort(p.LG)}});p.U.Za=p.a(0,0);p.U.IG=!1;
p.hi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
p.hK=function(a,c){var d=p.hi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=p.aa.d().mj(e,f,d);d=new p.Ae(e.x,e.y);d.df(p.U.Za.x,p.U.Za.y);p.U.Za.x=e.x;p.U.Za.y=e.y;e=[];e.push(d);p.aa.d().Sr(e,null)};
p.U.gS=function(){var a=p.canvas;if(!p.U.IG){if(p.ra.rj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=p.hi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=p.aa.d().mj(k,l,e);e=new p.Ae(k.x,k.y);e.df(p.U.Za.x,p.U.Za.y);p.U.Za.x=k.x;p.U.Za.y=k.y;p.N.d().oe[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=p.hi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.aa.d().mj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ae(k.x,k.y,h.identifier),l=p.U.Tt(h).P,h.df(l.x,l.y),p.U.HE(h)):(h=new p.Ae(k.x,k.y),h.df(p.U.Za.x,p.U.Za.y)),p.U.Za.x=k.x,p.U.Za.y=
k.y,d.push(h);p.aa.d().yw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=p.hi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.aa.d().mj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ae(k.x,k.y,h.identifier),l=p.U.Tt(h).P,h.df(l.x,l.y),p.U.HE(h)):(h=new p.Ae(k.x,k.y),h.df(p.U.Za.x,p.U.Za.y)),p.U.Za.x=
k.x,p.U.Za.y=k.y,d.push(h);p.aa.d().zw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=p.hi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.aa.d().mj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ae(k.x,k.y,h.identifier),l=p.U.Tt(h).P,h.df(l.x,l.y),p.U.QD(h)):(h=new p.Ae(k.x,k.y),h.df(p.U.Za.x,p.U.Za.y)),
p.U.Za.x=k.x,p.U.Za.y=k.y,d.push(h);p.aa.d().Sr(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=p.hi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.aa.d().mj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ae(k.x,k.y,h.identifier),l=p.U.Tt(h).P,h.df(l.x,l.y),p.U.QD(h)):(h=new p.Ae(k.x,k.y),h.df(p.U.Za.x,
p.U.Za.y)),p.U.Za.x=k.x,p.U.Za.y=k.y,d.push(h);p.aa.d().aC(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){p.N.d().oe.tq(!0)}),window.addEventListener("mouseup",function(c){p.N.d().oe.tq(!1);var d=p.hi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);p.I(new p.vf(d.left,d.top,d.width,d.height),p.a(g,c))||(g=p.aa.d().mj(g,c,d),d=new p.Ae(g.x,g.y),d.df(p.U.Za.x,
p.U.Za.y),p.U.Za.x=g.x,p.U.Za.y=g.y,g=[],g.push(d),p.aa.d().Sr(g,null))}),a.addEventListener("mousedown",function(c){var d=p.hi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.aa.d().mj(g,c,d);d=new p.Ae(g.x,g.y);d.df(p.U.Za.x,p.U.Za.y);p.U.Za.x=g.x;p.U.Za.y=g.y;g=[];g.push(d);p.aa.d().yw(g,null)}),a.addEventListener("mouseup",function(c){p.hK(a,c)}),a.addEventListener("mousemove",function(c){var d=p.hi(a),g;null!=
c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.aa.d().mj(g,c,d);d=new p.Ae(g.x,g.y);d.df(p.U.Za.x,p.U.Za.y);p.U.Za.x=g.x;p.U.Za.y=g.y;g=[];g.push(d);p.aa.d().zw(g,null)});p.U.IG=!0}};p.U.Tt=function(a){for(var c=null,d=p.U.jz,e=a.Ye,f=d.length-1;0<=f;f--)if(d[f].Ye==e){c=d[f];break}c||(c=a);return c};
p.U.HE=function(a){for(var c=!1,d=p.U.jz,e=a.Ye,f=d.length-1;0<=f;f--)if(d[f].Ye==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[p.U.kz]=a,p.U.kz=(p.U.kz+1)%50))};p.U.QD=function(a){var c,d=p.U.jz;c=a.Ye;for(a=d.length-1;0<=a;a--)if(d[a].Ye==c){c=d.pop();a!=d.length&&(d[a]=c);break}};p.U.jz=[];p.U.kz=0;p.wB=function(a,c,d){p.N.d().oe.WK(d,a,c)};p.hS=function(a,c){p.N.d().oe.VK(a,c)};p.EI=function(a){p.N.d().oe.JM(a)};p.TJ=1;p.MC=2;p.iW=4;p.XJ=8;p.MW=16;p.NW=32;p.OW=64;p.xW=128;p.yW=256;p.zW=512;p.dD=1024;p.UJ=2048;p.VJ=4096;p.WJ=0;p.jW=1;p.NC=2;p.mW=p.oa.extend({pR:function(){return!1},qR:function(){return!1},qi:function(){return!1},tR:function(){return!1},xR:function(){return!1},yR:function(){return!1},zR:function(){return!1},uR:function(){return!1},vR:function(){return!1},wR:function(){return!1},AR:function(){return!1},rR:function(){return!1},sR:function(){return!1}});
p.YJ=p.Ae.extend({jF:0,ID:p.WJ,X2:function(){return this.jF},nI:function(a){this.jF=a},N_:function(){return this.ID},WS:function(a){this.ID=a}});p.ex=p.oa.extend({xb:null,Ge:0,jn:0,Lb:function(){return this.xb},Kg:function(a){this.xb=a},NP:function(){return this.Ge},Nr:function(a){this.Ge=a},wP:function(){return this.jn},jT:function(a){this.jn=a},qj:function(a,c){this.xb=a;this.Ge=c}});p.ex.create=function(a,c){var d=new p.ex;d.qj(a,c);return d};
p.qd=p.oa.extend({Yi:!1,Bu:!1,Ze:null,Li:!1,u:function(){this.Li=!0;this.Ze=[];this.Bu=this.Yi=!1;p.qd.EM();return!0},tq:function(a){this.Yi=a},LL:function(){return this.Yi},IE:function(a){this.Bu=a},cY:function(){return this.Bu},qF:function(a,c){var d=p.ex.create(a,c);this.Ze=this.eo(d,this.Ze)},eo:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Ge<a.Ge&&++d,f.Lb()==a.Lb()))return p.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return p.Mk(c,a,d)},sH:function(a){if(null!=
a)for(var c=0;c<this.Ze.length;c++){var d=this.Ze[c];if(d&&d.Lb()==a){p.md(this.Ze,d);break}}},JL:function(a){for(var c=0;c<this.Ze.length;c++)if(this.Ze[c]&&this.Ze[c].Lb()==a)return this.Ze[c];return null},Nr:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.JL(c);d?d.Ge!=a&&(d.Nr(a),this.Ze.sort(p.LG)):p.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},a6:function(){this.Ze.length=0},bm:function(a,c,d){for(c=0;c<this.Ze.length;c++){var e=
this.Ze[c];switch(d){case p.MC:this.Yi||this.Bu||!e.Lb().qi||e.Lb().qi(a)}}}});p.qd.wu=p.a(0,0);p.qd.gM=!1;
p.qd.EM=function(){var a=p.canvas;function c(c){var e=p.hi(a),f=c.pageX,g=c.pageY,h=p.aa.d(),f=(f-e.left)/h.da,e=(e.height-(g-e.top))/h.la,g=new p.YJ(f,e);g.df(p.qd.wu.x,p.qd.wu.y);g.WS(c.button);p.qd.wu.x=f;p.qd.wu.y=e;return g}p.qd.gM||(window.addEventListener("mousedown",function(a){a.button==p.NC?p.N.d().Ne().IE(!0):p.N.d().Ne().tq(!0)}),window.addEventListener("mouseup",function(a){a.button==p.NC?p.N.d().Ne().IE(!1):p.N.d().Ne().tq(!1)}),a.addEventListener("mousedown",function(a){p.N.d().Ne().bm(c(a),
a,p.TJ)}),a.addEventListener("mouseup",function(a){p.N.d().Ne().bm(c(a),a,p.XJ)}),a.addEventListener("mousemove",function(a){p.N.d().Ne().bm(c(a),a,p.MC)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.nI(a.wheelDelta);p.N.d().Ne().bm(e,a,p.dD)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.nI(-120*a.detail);p.N.d().Ne().bm(e,a,p.dD)}),a.addEventListener("mouseout",function(a){p.N.d().Ne().bm(c(a),a,p.VJ)},!1),a.addEventListener("mouseover",function(a){p.N.d().Ne().bm(c(a),
a,p.UJ)},!1))};p.I9=function(){return{x:0,y:0}};p.Ik=function(a,c){return{x:a,y:c}};p.Yf=function(a,c){return p.Ik(a.x+c.x,a.y+c.y)};p.Kc=function(a,c){return p.Ik(a.x-c.x,a.y-c.y)};p.rf=function(a,c){return p.Ik(a.x*c,a.y*c)};p.Dw=function(a){return p.Ik(-a.y,a.x)};p.ui=function(a){return p.Ik(-a.x,-a.y)};p.zU=function(a,c){return a.x*c.x+a.y*c.y};p.H9=function(a){return p.Ik(Math.cos(a),Math.sin(a))};p.gC=function(a){a=p.Ig(p.a(a.x,a.y));return p.Ik(a.x,a.y)};p.Ih=function(a){return p.Ik(a.x,a.y)};
p.ib=function(a){return{Aa:a.x,X:a.y}};
p.nJ=p.H.extend({Na:null,S:null,dr:function(){return this.S},Ck:function(a){this.S=a},ctor:function(){p.H.prototype.ctor.call(this);this.Na=[];this.S=new p.Ok(p.Zd,p.Yd)},Ga:function(a){a=a||p.M;var c=p.aa.d().da;this.S&&770==this.S.src&&1==this.S.mb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.Na.length;d++){var e=this.Na[d];e.type===p.ag.mD&&(a.fillStyle="rgba("+(0|255*e.color.l)+","+(0|255*e.color.k)+","+(0|255*e.color.g)+","+e.color.B+")",p.jf.CA(e.position,e.uB));e.type===p.ag.oD&&
(a.strokeStyle="rgba("+(0|255*e.color.l)+","+(0|255*e.color.k)+","+(0|255*e.color.g)+","+e.color.B+")",a.lineWidth=2*e.uB*c,a.lineCap="round",p.jf.ih(e.Vl,e.Hk));e.type===p.ag.nD&&(a.fillStyle="rgba("+(0|255*e.fillColor.l)+","+(0|255*e.fillColor.k)+","+(0|255*e.fillColor.g)+","+e.fillColor.B+")",p.jf.Fd(e.iC,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.l)+","+(0|255*e.borderColor.k)+","+(0|255*e.borderColor.g)+","+e.borderColor.B+")",p.jf.Fd(e.iC,
e.count,!0,!1))}},$O:function(a,c,d){var e=new p.Gx(p.ag.mD);e.position=a;e.uB=c;e.color=d;this.Na.push(e)},dP:function(a,c,d,e){var f=new p.Gx(p.ag.oD);f.Vl=a;f.Hk=c;f.uB=d;f.color=e;this.Na.push(f)},Fd:function(a,c,d,e){var f=new p.Gx(p.ag.nD);f.iC=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.Na.push(f)},clear:function(){this.Na.length=0}});
p.oJ=p.H.extend({Vm:0,Na:null,rk:null,XE:null,WE:null,S:null,va:!1,dr:function(){return this.S},Ck:function(a){this.S=a},ctor:function(){p.H.prototype.ctor.call(this);this.Na=[];this.S=new p.Ok(p.Zd,p.Yd)},u:function(){return p.H.prototype.u.call(this)?(this.Wf(p.Pg.d().uh(p.YW)),this.zy(512),this.XE=p.M.createBuffer(),this.va=!0):!1},PM:function(){var a=p.M;p.Nd(p.kt);a.bindBuffer(a.ARRAY_BUFFER,this.XE);this.va&&(a.bufferData(a.ARRAY_BUFFER,this.rk,a.STREAM_DRAW),this.va=!1);var c=p.wb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(p.be,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.hp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.ip,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.Na.length);p.Ng()},zy:function(a){if(this.Na.length+a>this.Vm){var c=p.ac.BYTES_PER_ELEMENT;this.Vm+=Math.max(this.Vm,a);if(null==this.Na||0===this.Na.length)this.Na=[],this.rk=new ArrayBuffer(c*this.Vm),this.WE=new Uint8Array(this.rk);else{a=[];for(var d=new ArrayBuffer(c*this.Vm),e=0;e<this.Na.length;e++)a[e]=new p.ac(this.Na[e].B,
this.Na[e].g,this.Na[e].ma,d,e*c);this.WE=new Uint8Array(d);this.Na=a;this.rk=d}}},Ga:function(){p.pj(this.S.src,this.S.mb);this.fc.ye();this.fc.iI();this.PM()},$O:function(a,c,d){d={l:0|255*d.l,k:0|255*d.k,g:0|255*d.g,B:0|255*d.B};var e={o:{x:a.x-c,y:a.y-c},C:d,r:{Aa:-1,X:-1}},f={o:{x:a.x+c,y:a.y+c},C:d,r:{Aa:1,X:1}},g={o:{x:a.x+c,y:a.y-c},C:d,r:{Aa:1,X:-1}};this.Na.push(new p.ac(e,{o:{x:a.x-c,y:a.y+c},C:d,r:{Aa:-1,X:1}},f,this.rk,this.Na.length*p.ac.BYTES_PER_ELEMENT));this.Na.push(new p.ac(e,f,
g,this.rk,this.Na.length*p.ac.BYTES_PER_ELEMENT));this.va=!0},dP:function(a,c,d,e){this.zy(18);e={l:0|255*e.l,k:0|255*e.k,g:0|255*e.g,B:0|255*e.B};var f=p.Ih(a);c=p.Ih(c);a=p.gC(p.Dw(p.Kc(c,f)));var g=p.Dw(a),h=p.rf(a,d);d=p.rf(g,d);var k=p.Yf(c,p.Kc(h,d)),l=p.Kc(c,h),m=p.Yf(c,h),n=p.Kc(f,h),r=p.Yf(f,h),q=p.Kc(f,p.Kc(h,d)),f=p.Yf(f,p.Yf(h,d)),t=p.ac.BYTES_PER_ELEMENT,v=this.rk;this.Na.push(new p.ac({o:p.Kc(c,p.Yf(h,d)),C:e,r:p.ib(p.ui(p.Yf(a,g)))},{o:k,C:e,r:p.ib(p.Kc(a,g))},{o:l,C:e,r:p.ib(p.ui(a))},
v,this.Na.length*t));this.Na.push(new p.ac({o:m,C:e,r:p.ib(a)},{o:k,C:e,r:p.ib(p.Kc(a,g))},{o:l,C:e,r:p.ib(p.ui(a))},v,this.Na.length*t));this.Na.push(new p.ac({o:m,C:e,r:p.ib(a)},{o:n,C:e,r:p.ib(p.ui(a))},{o:l,C:e,r:p.ib(p.ui(a))},v,this.Na.length*t));this.Na.push(new p.ac({o:m,C:e,r:p.ib(a)},{o:n,C:e,r:p.ib(p.ui(a))},{o:r,C:e,r:p.ib(a)},v,this.Na.length*t));this.Na.push(new p.ac({o:q,C:e,r:p.ib(p.Kc(g,a))},{o:n,C:e,r:p.ib(p.ui(a))},{o:r,C:e,r:p.ib(a)},v,this.Na.length*t));this.Na.push(new p.ac({o:q,
C:e,r:p.ib(p.Kc(g,a))},{o:f,C:e,r:p.ib(p.Yf(a,g))},{o:r,C:e,r:p.ib(a)},v,this.Na.length*t));this.va=!0},Fd:function(a,c,d,e){c={l:0|255*c.l,k:0|255*c.k,g:0|255*c.g,B:0|255*c.B};e={l:0|255*e.l,k:0|255*e.k,g:0|255*e.g,B:0|255*e.B};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=p.Ih(a[(g-1+m)%m]);k=p.Ih(a[g]);l=p.Ih(a[(g+1)%m]);var n=p.gC(p.Dw(p.Kc(k,h)));k=p.gC(p.Dw(p.Kc(l,k)));f[g]={offset:p.rf(p.Yf(n,k),1/(p.zU(n,k)+1)),SG:k}}n=0<d;this.zy(3*(3*m-2));var r=p.ac.BYTES_PER_ELEMENT,q=this.rk,t=this.Na,
v=!1==n?0.5:0;for(g=0;g<m-2;g++)h=p.Kc(p.Ih(a[0]),p.rf(f[0].offset,v)),k=p.Kc(p.Ih(a[g+1]),p.rf(f[g+1].offset,v)),l=p.Kc(p.Ih(a[g+2]),p.rf(f[g+2].offset,v)),t.push(new p.ac({o:h,C:c,r:p.ib({x:0,y:0})},{o:k,C:c,r:p.ib({x:0,y:0})},{o:l,C:c,r:p.ib({x:0,y:0})},q,t.length*r));for(g=0;g<m;g++){v=(g+1)%m;h=p.Ih(a[g]);k=p.Ih(a[v]);l=f[g].SG;var x=f[g].offset,B=f[v].offset,v=n?p.Kc(h,p.rf(x,d)):p.Kc(h,p.rf(x,0.5)),L=n?p.Kc(k,p.rf(B,d)):p.Kc(k,p.rf(B,0.5));h=n?p.Yf(h,p.rf(x,d)):p.Yf(h,p.rf(x,0.5));k=n?p.Yf(k,
p.rf(B,d)):p.Yf(k,p.rf(B,0.5));n?(t.push(new p.ac({o:v,C:e,r:p.ib(p.ui(l))},{o:L,C:e,r:p.ib(p.ui(l))},{o:k,C:e,r:p.ib(l)},q,t.length*r)),t.push(new p.ac({o:v,C:e,r:p.ib(p.ui(l))},{o:h,C:e,r:p.ib(l)},{o:k,C:e,r:p.ib(l)},q,t.length*r))):(t.push(new p.ac({o:v,C:c,r:p.ib({x:0,y:0})},{o:L,C:c,r:p.ib({x:0,y:0})},{o:k,C:c,r:p.ib(l)},q,t.length*r)),t.push(new p.ac({o:v,C:c,r:p.ib({x:0,y:0})},{o:h,C:c,r:p.ib(l)},{o:k,C:c,r:p.ib(l)},q,t.length*r)))}this.va=!0},clear:function(){this.Na.length=0;this.va=!0}});
p.ag=p.ra.jc?p.oJ:p.nJ;p.ag.create=function(){var a=new p.ag;return a&&a.u()?a:null};p.Gx=function(a){this.type=a};p.ag.mD=0;p.ag.oD=1;p.ag.nD=2;p.Rr=-1;p.YH=function(a,c){a.Wf(c);var d=a.p;if(d)for(var e=0;e<d.length;e++)p.YH(d[e],c)};
p.Ua=p.H.extend({Tb:null,Xk:0,Vh:!1,ZD:!1,ctor:function(){p.H.prototype.ctor.call(this);this.Tb=null;this.Xk=0;this.Vh=!1},u:null,Py:function(a){this.Tb=a;this.Xk=1;this.Vh=!1;p.Ua.Sy=!0;p.Ua.Sy&&(p.Rr=p.M.getParameter(p.M.STENCIL_BITS),0>=p.Rr&&p.log("Stencil buffer is not enabled."),p.Ua.Sy=!1);return!0},Oy:function(a){this.Tb=a;this.Xk=1;this.Vh=!1},Uf:function(){p.H.prototype.Uf.call(this);this.Tb.Uf()},sh:function(){p.H.prototype.sh.call(this);this.Tb.sh()},Hg:function(){this.Tb.Hg();p.H.prototype.Hg.call(this)},
jd:function(){this.Tb.jd();p.H.prototype.jd.call(this)},$:null,Kl:function(a){var c=a||p.M;if(1>p.Rr)p.H.prototype.$.call(this,a);else if(this.Tb&&this.Tb.V)if(p.Ua.dq=-1,p.Ua.dq+1==p.Rr)p.Ua.hA=!0,p.Ua.hA&&(p.log("Nesting more than "+p.Rr+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),p.Ua.hA=!1),p.H.prototype.$.call(this,a);else{p.Ua.dq++;var d=1<<p.Ua.dq,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Vh?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);p.jf.DA(p.Bi(),p.ER(),p.hv(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Vh?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.Xk){var d=
p.Pg.d().uh(p.$W),t=c.getUniformLocation(d.zv(),p.uX);p.e3(d.zv());d.hI(t,this.Xk);p.YH(this.Tb,d)}p.to();this.transform();this.Tb.$();p.so();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);p.H.prototype.$.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);p.Ua.dq--}else this.Vh&&p.H.prototype.$.call(this,a)},Jl:function(a){if(this.Tb&&this.Tb.V){if(this.$x()||this.Tb instanceof p.A){a=a||p.M;var c=a.canvas,d=p.Ua.OL();d.width=
c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Vh?"destination-out":"destination-in";this.transform(a);this.Tb.$();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||p.M;var d=this.p,e;a.save();this.transform(a);this.Tb.$(a);a.clip();this.$x(!0);var f=d.length;if(0<f){this.kd();for(c=0;c<f;c++)if(e=d[c],0>e.Oa)e.$(a);else break;for(this.Ga(a);c<f;c++)d[c].$(a)}else this.Ga(a);
this.$x(!1)}a.restore()}else this.Vh&&p.H.prototype.$.call(this,a)},u2:function(){return this.Tb},QB:null,tN:function(a){this.Tb=a},sN:function(a){this.Tb=a;var c=p.aa.d().da,d=p.aa.d().la,e=p.M;!(a instanceof p.A)&&a instanceof p.ag&&(a.Ga=function(){for(var f=0;f<a.Na.length;f++){var g=a.Na[f].iC,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},A_:function(){return this.Xk},E6:function(a){this.Xk=a},O3:function(){return this.Vh},s7:function(a){this.Vh=
a},$x:function(a){if(!0===a||!1===a)p.Ua.prototype.ZD=a;return p.Ua.prototype.ZD}});p.ra.jc?(p.Ua.prototype.u=p.Ua.prototype.Py,p.Ua.prototype.$=p.Ua.prototype.Kl,p.Ua.prototype.QB=p.Ua.prototype.tN):(p.Ua.prototype.u=p.Ua.prototype.Oy,p.Ua.prototype.$=p.Ua.prototype.Jl,p.Ua.prototype.QB=p.Ua.prototype.sN);p.Ua.Sy=null;p.Ua.hA=null;p.Ua.dq=null;p.Ua.OE=null;p.Ua.OL=function(){return p.Ua.OE||(p.Ua.OE=document.createElement("canvas"))};p.Ua.create=function(a){var c=new p.Ua;c.u(a);return c};p.VV=0;p.WV=1;p.XV=2;p.Fm=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
p.gb=p.H.extend({Wm:null,Xm:null,Pt:0,Fp:0,su:0,pa:null,Hq:null,KN:null,bf:p.Di,Va:null,Bt:0,Ji:null,fy:0,gy:0,pp:!1,ey:null,ctor:null,Qg:function(){p.H.prototype.ctor.call(this);this.Ji=p.hv(1,1,1,1);this.ey="rgba(255,255,255,1)";this.Wm=document.createElement("canvas");this.Xm=this.Wm.getContext("2d");this.ja(0,0)},Rg:function(){p.H.prototype.ctor.call(this);this.Ji=p.hv(0,0,0,0)},hf:null,nL:function(){p.H.prototype.jd.call(this);this.Wm=this.Xm=null},oL:function(){p.H.prototype.jd.call(this);this.Hq=
null;var a=p.M;a.deleteFramebuffer(this.Pt);this.Fp&&a.deleteRenderbuffer(this.Fp);this.KN=null},VP:function(){return this.Va},Or:function(a){this.Va=a},aB:null,ZL:function(a,c){var d=this.Wm,e=p.Yc();d.width=0|a*e;d.height=0|c*e;this.Xm.translate(0,d.height);e=new p.Cb;e.Pe(d);e.Sd();this.Va=p.A.Dd(e);return!0},$L:function(a,c,d,e){d==p.cp&&p.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=p.M,g=p.Yc();a=0|a*g;c=0|c*g;this.su=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;p.$d.d().Eq?(g=a,h=c):(g=p.Fm(a),h=p.Fm(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.bf=d;this.pa=new p.Cb;if(!this.pa)return!1;l=this.pa;l.Cv(k,this.bf,g,h,p.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(p.$d.d().Zn("GL_QCOM")){this.Hq=new p.Cb;if(!this.Hq)return!1;this.Hq.Cv(k,this.bf,g,h,p.size(a,c))}this.Pt=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Pt);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.gh,0);0!=e&&(this.Fp=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Fp),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Fp));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&p.log("Could not attach texture to the framebuffer");l.CH();a=this.Va=p.A.Dd(l);a.tm(-1);a.Ck(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.su);this.pp=
!1;this.v(a);return!0},jj:null,dL:function(){p.M=this.Xm;p.aa.d().pN()},eL:function(){p.Zl(p.Ks);p.to();p.Zl(p.Js);p.to();var a=p.N.d();a.fw(a.kk);var c=this.pa.ca,d=p.N.d().bQ(),a=d.width/c.width,d=d.height/c.height,e=p.M;e.viewport(0,0,c.width,c.height);c=new p.Dg;p.aR(c,-1/a,1/a,-1/d,1/d,-1,1);p.Hv(c);this.su=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Pt);p.$d.d().Zn("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Hq.gh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.pa.gh,0))},qA:function(a,c,d,e,f,g){var h=p.M;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Xx(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Xx:null,fL:function(a,c,d,e){this.jj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.Xm,g=this.Wm;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},gL:function(a,c,d,e,f,g,h){this.jj();var k=p.M,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,HL:function(){p.M=p.gR;p.aa.d().SM()},IL:function(){var a=p.M,c=p.N.d();a.bindFramebuffer(a.FRAMEBUFFER,this.su);c.lI();p.Zl(p.Ks);p.so();p.Zl(p.Js);p.so()},clear:function(a,c,d,e){this.qA(a,c,d,e);this.end()},clearRect:null,sL:function(a,c,d,e){this.Xm.clearRect(a,c,d,-e)},tL:function(){},clearDepth:null,qL:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},rL:function(a){this.jj();var c=p.M,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,uL:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},vL:function(a){var c=p.M,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},$:null,Jl:function(a){this.V&&(a=a||p.M,a.save(),this.Ga(a),this.transform(a),this.Va.$(),a.restore(),this.af=0)},Kl:function(a){if(this.V){p.to();var c=this.Zj;c&&c.po()&&(c.pA(),this.Aw());this.transform(a);this.Va.$();this.Ga(a);c&&c.po()&&c.mA(this);p.so();
this.af=0}},Ga:null,dl:function(a){a=a||p.M;if(this.pp){this.jj();if(this.Bt){var c=this.Wm;a.save();a.fillStyle=this.ey;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.kd();a=this.p;for(var c=a.length,d=this.Va,e=0;e<c;e++){var f=a[e];f!=d&&f.$()}this.end()}},Bf:function(){var a=p.M;if(this.pp){this.jj();var c=this.Bt;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Ji.l,this.Ji.k,this.Ji.g,this.Ji.B));
c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.fy));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.gy));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.kd();a=this.p;for(c=0;c<a.length;c++)d=a[c],d!=this.Va&&d.$();this.end()}},TG:null,qM:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");return null},rM:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");
p.ds(this.bf==p.Di,"only RGBA8888 can be saved as image");if(!this.pa)return null;var a=this.pa.ca,c=a.width,a=a.height,d=new p.AJ,e=p.M,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.jj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.oM(f,e*c*4,g,(a-e-1)*c*4,4*c);d.r3(f,c*a*4,p.PV,c,a,8);return d},oM:function(a,c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},x6:function(){p.log("saveToFile isn't supported on Cocos2d-Html5")},
y4:function(){p.log("listenToBackground isn't supported on Cocos2d-Html5")},z4:function(){p.log("listenToForeground isn't supported on Cocos2d-Html5")},Y_:function(){return this.Bt},N6:function(a){this.Bt=a},W_:function(){return this.Ji},IH:null,$M:function(a){var c=this.Ji;c.l=a.l;c.k=a.k;c.g=a.g;c.B=a.B;this.ey="rgba("+(0|255*a.l)+","+(0|255*a.k)+","+(0|255*a.g)+","+a.B+")"},aN:function(a){var c=this.Ji;c.l=a.l;c.k=a.k;c.g=a.g;c.B=a.B},X_:function(){return this.fy},M6:function(a){this.fy=a},Z_:function(){return this.gy},
O6:function(a){this.gy=a},A3:function(){return this.pp},G6:function(a){this.pp=a}});
p.ra.jc?(b=p.gb.prototype,b.ctor=p.gb.prototype.Rg,b.hf=p.gb.prototype.oL,b.aB=p.gb.prototype.$L,b.jj=p.gb.prototype.eL,b.Xx=p.gb.prototype.gL,b.end=p.gb.prototype.IL,b.clearRect=p.gb.prototype.tL,b.clearDepth=p.gb.prototype.rL,b.clearStencil=p.gb.prototype.vL,b.$=p.gb.prototype.Kl,b.Ga=p.gb.prototype.Bf,b.TG=p.gb.prototype.rM,b.IH=p.gb.prototype.aN):(b=p.gb.prototype,b.ctor=p.gb.prototype.Qg,b.hf=p.gb.prototype.nL,b.aB=p.gb.prototype.ZL,b.jj=p.gb.prototype.dL,b.Xx=p.gb.prototype.fL,b.end=p.gb.prototype.HL,
b.clearRect=p.gb.prototype.sL,b.clearDepth=p.gb.prototype.qL,b.clearStencil=p.gb.prototype.uL,b.$=p.gb.prototype.Jl,b.Ga=p.gb.prototype.dl,b.TG=p.gb.prototype.qM,b.IH=p.gb.prototype.$M);p.gb.create=function(a,c,d,e){d=d||p.Di;e=e||0;var f=new p.gb;return f&&f.aB(a,c,d,e)?f:null};p.zm=-1;
p.Xc=p.oa.extend({pl:null,L:null,Gc:p.zm,ctor:function(){this.L=this.pl=null;this.Gc=p.zm},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Gc+"\x3e"},copy:function(){return p.w(this)},w:function(){var a=new p.Xc;a.pl=null;a.L=null;a.Gc=this.Gc;return a},oh:function(){return!0},O:function(a){this.L=this.pl=a},stop:function(){this.L=null},step:function(){p.log("[Action step]. override me")},update:function(){p.log("[Action update]. override me")},YP:function(){return this.L},s8:function(a){this.L=a},
C1:function(){return this.pl},N7:function(a){this.pl=a},XP:function(){return this.Gc},fI:function(a){this.Gc=a},xH:function(){},xB:function(){}});p.Xc.create=function(){return new p.Xc};p.Ai=p.Xc.extend({fa:0,ctor:function(){p.Xc.prototype.ctor.call(this);this.fa=0},Me:function(){return this.fa},a7:function(a){this.fa=a},reverse:function(){p.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},w:function(){return new p.Ai}});
p.at=p.Xc.extend({yl:0,jb:null,ctor:function(){p.Xc.prototype.ctor.call(this);this.yl=0;this.jb=null},n2:function(){return this.yl},l8:function(a){this.yl=a},Z:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.jb=a;this.yl=c;return!0},w:function(){var a=new p.at;a.Z(this.jb.w(),this.yl);return a},O:function(a){p.Xc.prototype.O.call(this,a);this.jb.O(a)},stop:function(){this.jb.stop();p.Xc.prototype.stop.call(this)},step:function(a){this.jb.step(a*this.yl)},oh:function(){return this.jb.oh()},
reverse:function(){return p.at.create(this.jb.reverse(),this.yl)},TH:function(a){this.jb!=a&&(this.jb=a)},IA:function(){return this.jb}});p.at.create=function(a,c){var d=new p.at;return d&&d.Z(a,c)?d:null};
p.Yw=p.Xc.extend({nn:null,Tm:!1,wt:!1,Vt:null,Up:null,$l:0,qm:0,wm:0,Rl:0,jA:null,ctor:function(){p.Xc.prototype.ctor.call(this);this.nn=null;this.wt=this.Tm=!1;this.Up=this.Vt=null;this.Rl=this.wm=this.qm=this.$l=0;this.jA=p.zc()},w:function(){var a=new p.Yw,c=this.jA,c=new p.vf(c.x,c.y,c.width,c.height);a.Qf(this.nn,c);return a},C3:function(){return this.Tm},I6:function(a){this.Tm=a},Qf:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||p.zc();this.nn=a;this.jA=
c;this.Tm=!p.pq(c);this.wt=!1;var d=p.N.d().ub;this.Up=p.a(d.width,d.height);this.Vt=p.ri(this.Up,0.5);this.Tm&&(this.$l=-(c.x+c.width-this.Up.x),this.qm=-c.x,this.wm=-c.y,this.Rl=-(c.y+c.height-this.Up.y),this.qm<this.$l&&(this.qm=this.$l=(this.$l+this.qm)/2),this.wm<this.Rl&&(this.wm=this.Rl=(this.wm+this.Rl)/2),this.wm==this.Rl&&this.$l==this.qm&&(this.wt=!0));return!0},step:function(){var a=this.nn.f.m,c=this.nn.f.n,a=this.Vt.x-a,c=this.Vt.y-c;this.Tm?this.wt||this.L.J(p.Xq(a,this.$l,this.qm),
p.Xq(c,this.Rl,this.wm)):this.L.J(a,c)},oh:function(){return!this.nn.je},stop:function(){this.L=null;p.Xc.prototype.stop.call(this)}});p.Yw.create=function(a,c){c=c||new p.zc;var d=new p.Yw;return null!=c&&d&&d.Qf(a,c)||d&&d.Qf(a)?d:null};p.K=p.Ai.extend({Hb:0,Tp:!1,ctor:function(){p.Ai.prototype.ctor.call(this);this.Hb=0;this.Tp=!1},o0:function(){return this.Hb},G:function(a){this.fa=0===a?p.Ds:a;this.Hb=0;return this.Tp=!0},oh:function(){return this.Hb>=this.fa},w:function(){var a=new p.K;a.G(this.fa);return a},step:function(a){this.Tp?(this.Tp=!1,this.Hb=0):this.Hb+=a;a=this.Hb/(1.192092896E-7<this.fa?this.fa:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},O:function(a){p.Xc.prototype.O.call(this,a);this.Hb=0;this.Tp=!0},reverse:function(){p.log("cc.IntervalAction: reverse not implemented.");
return null},F6:function(){p.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},B_:function(){p.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});p.K.create=function(a){var c=new p.K;c.G(a);return c};
p.Ci=p.K.extend({Jh:null,Iz:null,yn:0,ctor:function(){p.K.prototype.ctor.call(this);this.Jh=[];this.Iz=null;this.yn=0},or:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.G(a.Me()+c.Me());this.Jh[0]=a;this.Jh[1]=c;return!0},w:function(){var a=new p.Ci;a.or(this.Jh[0].w(),this.Jh[1].w());return a},O:function(a){p.K.prototype.O.call(this,a);this.Iz=this.Jh[0].Me()/this.fa;this.yn=-1},stop:function(){-1!==this.yn&&this.Jh[this.yn].stop();p.Xc.prototype.stop.call(this)},
update:function(a){var c=0,d=this.Iz,e=this.Jh,f=this.yn;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].O(this.L),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].oh()||(f!==c&&e[c].O(this.L),e[c].update(a),this.yn=c)},reverse:function(){return p.Ci.Vk(this.Jh[1].reverse(),this.Jh[0].reverse())},copy:function(){return this.w()}});
p.Ci.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=p.Ci.Vk(d,c[e]));return d};p.Ci.Vk=function(a,c){var d=new p.Ci;d.or(a,c);return d};
p.Rs=p.K.extend({ef:0,dj:0,pu:0,AD:!1,jb:null,ctor:function(){p.K.prototype.ctor.call(this);this.pu=this.dj=this.ef=0;this.AD=!1;this.jb=null},Z:function(a,c){return this.G(a.Me()*c)?(this.ef=c,this.jb=a,a instanceof p.Bh&&(this.ef-=1),this.dj=0,!0):!1},w:function(){var a=new p.Rs;a.Z(this.jb.w(),this.ef);return a},O:function(a){this.dj=0;this.pu=this.jb.Me()/this.fa;p.K.prototype.O.call(this,a);this.jb.O(a)},stop:function(){this.jb.stop();p.Xc.prototype.stop.call(this)},update:function(a){var c=
this.jb,d=this.fa,e=this.ef,f=this.pu;if(a>=f){for(;a>f&&this.dj<e;)c.update(1),this.dj++,c.stop(),c.O(this.L),this.pu=f+=c.Me()/d;1<=a&&this.dj<e&&this.dj++;this.AD&&(this.dj==e?(c.update(1),c.stop()):c.update(a-(f-c.Me()/d)))}else c.update(a*e%1)},oh:function(){return this.dj==this.ef},reverse:function(){return p.Rs.create(this.jb.reverse(),this.ef)},TH:function(a){this.jb!=a&&(this.jb=a)},IA:function(){return this.jb}});p.Rs.create=function(a,c){var d=new p.Rs;d.Z(a,c);return d};
p.Ss=p.K.extend({jb:null,ctor:function(){p.K.prototype.ctor.call(this);this.jb=null},Z:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.jb=a;return!0},w:function(){var a=new p.Ss;a.Z(this.jb.w());return a},O:function(a){p.K.prototype.O.call(this,a);this.jb.O(a)},step:function(a){var c=this.jb;c.step(a);c.oh()&&(c.O(this.L),c.step(c.Hb-c.Me()))},oh:function(){return!1},reverse:function(){return p.Ss.create(this.jb.reverse())},TH:function(a){this.jb!=a&&(this.jb=
a)},IA:function(){return this.jb}});p.Ss.create=function(a){var c=new p.Ss;return c&&c.Z(a)?c:null};
p.bp=p.K.extend({Zi:null,hj:null,ctor:function(){p.K.prototype.ctor.call(this);this.hj=this.Zi=null},or:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Me(),f=c.Me();this.G(Math.max(e,f))&&(this.Zi=a,this.hj=c,e>f?this.hj=p.Ci.Vk(c,p.Bm.create(e-f)):e<f&&(this.Zi=p.Ci.Vk(a,p.Bm.create(f-e))),d=!0);return d},w:function(){var a=new p.bp;a.or(this.Zi.w(),this.hj.w());return a},O:function(a){p.K.prototype.O.call(this,a);this.Zi.O(a);this.hj.O(a)},
stop:function(){this.Zi.stop();this.hj.stop();p.Xc.prototype.stop.call(this)},update:function(a){this.Zi&&this.Zi.update(a);this.hj&&this.hj.update(a)},reverse:function(){return p.bp.Vk(this.Zi.reverse(),this.hj.reverse())}});p.bp.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.Vk(d,c[e]));return d};
p.bp.Vk=function(a,c){var d=new p.bp;d.or(a,c);return d};
p.ox=p.K.extend({Ip:0,zl:0,ry:0,Mt:0,nk:0,sy:0,ctor:function(){p.K.prototype.ctor.call(this);this.sy=this.nk=this.Mt=this.ry=this.zl=this.Ip=0},G:function(a,c,d){return p.K.prototype.G.call(this,a)?(this.Ip=c||0,this.Mt=d||this.Ip,!0):!1},w:function(){var a=new p.ox;a.G(this.fa,this.Ip,this.Mt);return a},O:function(a){p.K.prototype.O.call(this,a);var c=a.Hf%360,d=this.Ip-c;180<d&&(d-=360);-180>d&&(d+=360);this.zl=c;this.ry=d;this.nk=a.Yg%360;a=this.Mt-this.nk;180<a&&(a-=360);-180>a&&(a+=360);this.sy=
a},reverse:function(){p.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.L&&(this.L.iw(this.zl+this.ry*a),this.L.jw(this.nk+this.sy*a))}});p.ox.create=function(a,c,d){var e=new p.ox;e.G(a,c,d);return e};
p.Us=p.K.extend({xf:0,zl:0,op:0,nk:0,ctor:function(){p.K.prototype.ctor.call(this);this.nk=this.op=this.zl=this.xf=0},G:function(a,c,d){return p.K.prototype.G.call(this,a)?(this.xf=c||0,this.op=d||this.xf,!0):!1},w:function(){var a=new p.Us;a.G(this.fa,this.xf,this.op);return a},O:function(a){p.K.prototype.O.call(this,a);this.zl=a.Hf;this.nk=a.Yg},update:function(a){this.L&&(this.L.iw(this.zl+this.xf*a),this.L.jw(this.nk+this.op*a))},reverse:function(){return p.Us.create(this.fa,-this.xf,-this.op)}});
p.Us.create=function(a,c,d){var e=new p.Us;e.G(a,c,d);return e};
p.Ij=p.K.extend({bi:null,mc:null,lc:null,ctor:function(){p.K.prototype.ctor.call(this);this.bi=p.a(0,0);this.mc=p.a(0,0);this.lc=p.a(0,0)},G:function(a,c){return p.K.prototype.G.call(this,a)?(this.bi.x=c.x,this.bi.y=c.y,!0):!1},w:function(){var a=new p.Ij;a.G(this.fa,this.bi);return a},O:function(a){p.K.prototype.O.call(this,a);var c=a.f.m;a=a.f.n;this.lc.x=c;this.lc.y=a;this.mc.x=c;this.mc.y=a},update:function(a){if(this.L){var c=this.bi.x*a;a*=this.bi.y;var d=this.mc;if(p.hs){var e=this.L.f.n,f=
this.lc;d.x=d.x+this.L.f.m-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.L.J(c,a);f.x=c;f.y=a}else this.L.J(d.x+c,d.y+a)}},reverse:function(){return p.Ij.create(this.fa,p.a(-this.bi.x,-this.bi.y))}});p.Ij.create=function(a,c){var d=new p.Ij;d.G(a,c);return d};
p.Ms=p.Ij.extend({mn:null,ctor:function(){p.Ij.prototype.ctor.call(this);this.mn=p.a(0,0)},G:function(a,c){return p.Ij.prototype.G.call(this,a,c)?(this.mn.x=c.x,this.mn.y=c.y,!0):!1},w:function(){var a=new p.Ms;a.G(this.fa,this.mn);return a},O:function(a){p.Ij.prototype.O.call(this,a);this.bi.x=this.mn.x-a.f.m;this.bi.y=this.mn.y-a.f.n}});p.Ms.create=function(a,c){var d=new p.Ms;d.G(a,c);return d};
p.Km=p.K.extend({Bd:0,Cd:0,Aq:0,Bq:0,Np:0,Op:0,ce:0,de:0,ctor:function(){p.K.prototype.ctor.call(this);this.de=this.ce=this.Op=this.Np=this.Bq=this.Aq=this.Cd=this.Bd=0},G:function(a,c,d){var e=!1;p.K.prototype.G.call(this,a)&&(this.Np=c,this.Op=d,e=!0);return e},w:function(){var a=new p.Km;a.G(this.fa,this.Np,this.Op);return a},O:function(a){p.K.prototype.O.call(this,a);this.Aq=a.Bd%180;this.ce=this.Np-this.Aq;180<this.ce&&(this.ce-=360);-180>this.ce&&(this.ce+=360);this.Bq=a.Cd%360;this.de=this.Op-
this.Bq;180<this.de&&(this.de-=360);-180>this.de&&(this.de+=360)},update:function(a){this.L.lw(this.Aq+this.ce*a);this.L.mw(this.Bq+this.de*a)}});p.Km.create=function(a,c,d){var e=new p.Km;e&&e.G(a,c,d);return e};
p.Zs=p.Km.extend({G:function(a,c,d){var e=!1;p.Km.prototype.G.call(this,a,c,d)&&(this.Bd=c,this.Cd=d,e=!0);return e},w:function(){var a=new p.Zs;a.G(this.fa,this.Bd,this.Cd);return a},O:function(a){p.Km.prototype.O.call(this,a);this.ce=this.Bd;this.de=this.Cd;this.Np=this.Aq+this.ce;this.Op=this.Bq+this.de},reverse:function(){return p.Zs.create(this.fa,-this.Bd,-this.Cd)}});p.Zs.create=function(a,c,d){var e=new p.Zs;e&&e.G(a,c,d);return e};
p.Dm=p.K.extend({mc:null,Af:null,ba:0,vn:0,lc:null,ctor:function(){p.K.prototype.ctor.call(this);this.mc=p.a(0,0);this.lc=p.a(0,0);this.Af=p.a(0,0);this.vn=this.ba=0},G:function(a,c,d,e){return p.K.prototype.G.call(this,a)?(this.Af.x=c.x,this.Af.y=c.y,this.ba=d,this.vn=e,!0):!1},w:function(){var a=new p.Dm;a.G(this.fa,this.Af,this.ba,this.vn);return a},O:function(a){p.K.prototype.O.call(this,a);var c=a.f.m;a=a.f.n;this.lc.x=c;this.lc.y=a;this.mc.x=c;this.mc.y=a},update:function(a){if(this.L){var c=
a*this.vn%1,c=4*this.ba*c*(1-c),c=c+this.Af.y*a;a*=this.Af.x;var d=this.mc;if(p.hs){var e=this.L.f.n,f=this.lc;d.x=d.x+this.L.f.m-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.L.J(a,c);f.x=a;f.y=c}else this.L.J(d.x+a,d.y+c)}},reverse:function(){return p.Dm.create(this.fa,p.a(-this.Af.x,-this.Af.y),this.ba,this.vn)}});p.Dm.create=function(a,c,d,e){var f=new p.Dm;f.G(a,c,d,e);return f};
p.ax=p.Dm.extend({O:function(a){p.Dm.prototype.O.call(this,a);this.Af.x-=this.mc.x;this.Af.y-=this.mc.y},w:function(){var a=new p.ax;a.G(this.fa,this.Af,this.ba,this.vn);return a}});p.ax.create=function(a,c,d,e){var f=new p.ax;f.G(a,c,d,e);return f};p.wF=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
p.Nk=p.K.extend({bl:null,mc:null,lc:null,ctor:function(){p.K.prototype.ctor.call(this);this.bl=[];this.mc=p.a(0,0);this.lc=p.a(0,0)},G:function(a,c){return p.K.prototype.G.call(this,a)?(this.bl=c,!0):!1},w:function(){for(var a=new p.Nk,c=[],d=0;d<this.bl.length;d++){var e=this.bl[d];c.push(p.a(e.x,e.y))}a.G(this.fa,c);return a},O:function(a){p.K.prototype.O.call(this,a);var c=a.f.m;a=a.f.n;this.lc.x=c;this.lc.y=a;this.mc.x=c;this.mc.y=a},update:function(a){if(this.L){var c=this.bl,d=p.wF(c[0].x,c[1].x,
c[2].x,a);a=p.wF(c[0].y,c[1].y,c[2].y,a);c=this.mc;if(p.hs){var e=this.L.f.n,f=this.lc;c.x=c.x+this.L.f.m-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.L.J(d,a);f.x=d;f.y=a}else this.L.J(c.x+d,c.y+a)}},reverse:function(){var a=this.bl,a=[p.mf(a[1],p.oB(a[2])),p.mf(a[0],p.oB(a[2])),p.oB(a[2])];return p.Nk.create(this.fa,a)}});p.Nk.create=function(a,c){var d=new p.Nk;d.G(a,c);return d};
p.Kw=p.Nk.extend({Uu:null,ctor:function(){p.Nk.prototype.ctor.call(this);this.Uu=[]},G:function(a,c){return p.K.prototype.G.call(this,a)?(this.Uu=c,!0):!1},w:function(){var a=new p.Kw;a.G(this.fa,this.Uu);return a},O:function(a){p.Nk.prototype.O.call(this,a);a=this.mc;var c=this.Uu,d=this.bl;d[0]=p.Uc(c[0],a);d[1]=p.Uc(c[1],a);d[2]=p.Uc(c[2],a)}});p.Kw.create=function(a,c){var d=new p.Kw;d.G(a,c);return d};
p.Jm=p.K.extend({da:1,la:1,Kn:1,Ln:1,el:0,fl:0,ce:0,de:0,ctor:function(){p.K.prototype.ctor.call(this);this.Ln=this.Kn=this.la=this.da=1;this.de=this.ce=this.fl=this.el=0},G:function(a,c,d){return p.K.prototype.G.call(this,a)?(this.el=c,this.fl=null!=d?d:c,!0):!1},w:function(){var a=new p.Jm;a.G(this.fa,this.el,this.fl);return a},O:function(a){p.K.prototype.O.call(this,a);this.Kn=a.da;this.Ln=a.la;this.ce=this.el-this.Kn;this.de=this.fl-this.Ln},update:function(a){this.L&&this.L.Aj(this.Kn+this.ce*
a,this.Ln+this.de*a)}});p.Jm.create=function(a,c,d){var e=new p.Jm;e.G(a,c,d);return e};p.Xs=p.Jm.extend({O:function(a){p.Jm.prototype.O.call(this,a);this.ce=this.Kn*this.el-this.Kn;this.de=this.Ln*this.fl-this.Ln},reverse:function(){return p.Xs.create(this.fa,1/this.el,1/this.fl)},w:function(){var a=new p.Xs;a.G(this.fa,this.el,this.fl);return a}});p.Xs.create=function(a,c,d){var e=new p.Xs;e.G(a,c,d);return e};
p.es=p.K.extend({ef:0,az:!1,ctor:function(){p.K.prototype.ctor.call(this);this.ef=0;this.az=!1},G:function(a,c){return p.K.prototype.G.call(this,a)?(this.ef=c,!0):!1},w:function(){var a=new p.es;a.G(this.fa,this.ef);return a},update:function(a){if(this.L&&!this.oh()){var c=1/this.ef;this.L.F(a%c>c/2)}},O:function(a){p.K.prototype.O.call(this,a);this.az=a.V},stop:function(){this.L.F(this.az);p.K.prototype.stop.call(this)},reverse:function(){return p.es.create(this.fa,this.ef)}});
p.es.create=function(a,c){var d=new p.es;d.G(a,c);return d};p.Es=p.K.extend({update:function(a){this.L.Sa&&this.L.ha(255*a)},reverse:function(){return p.Fs.create(this.fa)},w:function(){var a=new p.Es;a.G(this.fa);return a}});p.Es.create=function(a){var c=new p.Es;c.G(a);return c};p.Fs=p.K.extend({update:function(a){this.L.Sa&&this.L.ha(255*(1-a))},reverse:function(){return p.Es.create(this.fa)},w:function(){var a=new p.Fs;a.G(this.fa);return a}});p.Fs.create=function(a){var c=new p.Fs;c.G(a);return c};
p.Xw=p.K.extend({Vu:null,St:null,ctor:function(){p.K.prototype.ctor.call(this);this.St=this.Vu=0},G:function(a,c){return p.K.prototype.G.call(this,a)?(this.Vu=c,!0):!1},w:function(){var a=new p.Xw;a.G(this.fa,this.Vu);return a},update:function(a){this.L.Sa&&this.L.ha(this.St+(this.Vu-this.St)*a)},O:function(a){p.K.prototype.O.call(this,a);this.L.Sa&&(this.St=a.ii())}});p.Xw.create=function(a,c){var d=new p.Xw;d.G(a,c);return d};
p.Dx=p.K.extend({Je:null,xd:null,ctor:function(){p.K.prototype.ctor.call(this);this.Je=p.q(0,0,0);this.xd=p.q(0,0,0)},G:function(a,c,d,e){return p.K.prototype.G.call(this,a)?(this.Je=p.q(c,d,e),!0):!1},w:function(){var a=new p.Dx,c=this.Je;a.G(this.fa,c.l,c.k,c.g);return a},O:function(a){p.K.prototype.O.call(this,a);this.L.Sa&&(this.xd=this.L.Sc())},update:function(a){var c=this.xd,d=this.Je;this.L.Sa&&this.L.s(p.q(c.l+(d.l-c.l)*a,c.k+(d.k-c.k)*a,c.g+(d.g-c.g)*a))}});
p.Dx.create=function(a,c,d,e){var f=new p.Dx;f.G(a,c,d,e);return f};
p.ft=p.K.extend({Ep:0,Dp:0,Cp:0,Fy:0,Ey:0,Dy:0,ctor:function(){p.K.prototype.ctor.call(this);this.Dy=this.Ey=this.Fy=this.Cp=this.Dp=this.Ep=0},G:function(a,c,d,e){return p.K.prototype.G.call(this,a)?(this.Ep=c,this.Dp=d,this.Cp=e,!0):!1},w:function(){var a=new p.ft;a.G(this.fa,this.Ep,this.Dp,this.Cp);return a},O:function(a){p.K.prototype.O.call(this,a);a.Sa&&(a=a.Sc(),this.Fy=a.l,this.Ey=a.k,this.Dy=a.g)},update:function(a){this.L.Sa&&this.L.s(p.q(this.Fy+this.Ep*a,this.Ey+this.Dp*a,this.Dy+this.Cp*
a))},reverse:function(){return p.ft.create(this.fa,-this.Ep,-this.Dp,-this.Cp)}});p.ft.create=function(a,c,d,e){var f=new p.ft;f.G(a,c,d,e);return f};p.Bm=p.K.extend({update:function(){},reverse:function(){return p.Bm.create(this.fa)},w:function(){var a=new p.Bm;a.G(this.fa);return a}});p.Bm.create=function(a){var c=new p.Bm;c.G(a);return c};
p.Ts=p.K.extend({$i:null,ctor:function(){p.K.prototype.ctor.call(this);this.$i=null},Z:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.$i)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return p.K.prototype.G.call(this,a.Me())?(this.$i=a,!0):!1},w:function(){var a=new p.Ts;a.Z(this.$i.w());return a},O:function(a){p.K.prototype.O.call(this,a);this.$i.O(a)},update:function(a){this.$i&&this.$i.update(1-a)},reverse:function(){return this.$i.w()},
stop:function(){this.$i.stop();p.Xc.prototype.stop.call(this)}});p.Ts.create=function(a){var c=new p.Ts;c.Z(a);return c};
p.bs=p.K.extend({Gi:null,Bn:0,tu:null,Pp:0,Jz:null,ctor:function(){p.K.prototype.ctor.call(this);this.Gi=null;this.Bn=0;this.tu=null;this.Pp=0;this.Jz=null},$F:function(){return this.Gi},US:function(a){this.Gi=a},vG:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Me();if(this.G(c*a.Xi)){this.Bn=0;this.US(a);this.tu=null;this.Pp=0;var d=[],e=0,f=c/a.Fl;a=a.wd;p.cs(a,p.xi);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].ud;d.push(h)}this.Jz=d;return!0}return!1},
w:function(){var a=new p.bs;a.vG(this.Gi.w());return a},O:function(a){p.K.prototype.O.call(this,a);this.Gi.sl&&(this.tu=a.XO());this.Pp=this.Bn=0},update:function(a){1>a&&(a*=this.Gi.Xi,(0|a)>this.Pp&&(this.Bn=0,this.Pp++),a%=1);for(var c=this.Gi.wd,d=c.length,e=this.Jz,f=this.Bn;f<d;f++)if(e[f]<=a)this.L.Go(c[f].Bg()),this.Bn=f+1;else break},reverse:function(){var a=this.Gi,c=a.wd,d=[];p.cs(c,p.xi);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.w())}c=p.wi.AF(d,a.ud,
a.Xi);c.gw(a.sl);return p.bs.create(c)},stop:function(){this.Gi.sl&&this.L&&this.L.Go(this.tu);p.Xc.prototype.stop.call(this)}});p.bs.create=function(a){var c=new p.bs;c.vG(a);return c};
p.Cx=p.K.extend({Xe:null,hl:null,ctor:function(){p.K.prototype.ctor.call(this);this.hl=this.Xe=null},Qf:function(a,c){return this.G(c.Me())?(this.hl=a,this.Xe=c,!0):!1},w:function(){var a=new p.Cx;a.Qf(this.hl,this.Xe.w());return a},O:function(a){p.K.prototype.O.call(this,a);this.Xe.O(this.hl)},stop:function(){this.Xe.stop()},update:function(a){this.Xe.update(a)},x0:function(){return this.hl},f7:function(a){this.hl!=a&&(this.hl=a)}});p.Cx.create=function(a,c){var d=new p.Cx;d.Qf(a,c);return d};p.Bh=p.Ai.extend({oh:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.w()},w:function(){return new p.Bh}});p.Ys=p.Bh.extend({update:function(){this.L.F(!0)},reverse:function(){return p.Is.create()},w:function(){return new p.Ys}});p.Ys.create=function(){return new p.Ys};p.Is=p.Bh.extend({update:function(){this.L.F(!1)},reverse:function(){return p.Ys.create()},w:function(){return new p.Is}});p.Is.create=function(){return new p.Is};
p.gt=p.Bh.extend({update:function(){this.L.F(!this.L.V)},reverse:function(){return new p.gt},w:function(){return new p.gt}});p.gt.create=function(){return new p.gt};p.Qs=p.Bh.extend({bq:!0,ctor:function(){p.Ai.prototype.ctor.call(this);this.bq=!0},update:function(){this.L.Y(this.bq)},u:function(a){this.bq=a;return!0},reverse:function(){return new p.Qs(this.bq)},w:function(){return new p.Qs(this.bq)}});p.Qs.create=function(a){null==a&&(a=!0);var c=new p.Qs;c&&c.u(a);return c};
p.Gs=p.Bh.extend({Qb:!1,ctor:function(){p.Ai.prototype.ctor.call(this);this.Qb=!1},xG:function(a){this.Qb=a;return!0},update:function(){this.L.lT(this.Qb)},reverse:function(){return p.Gs.create(!this.Qb)},w:function(){var a=new p.Gs;a.xG(this.Qb);return a}});p.Gs.create=function(a){var c=new p.Gs;return c.xG(a)?c:null};
p.Hs=p.Bh.extend({Rb:!1,ctor:function(){p.Ai.prototype.ctor.call(this);this.Rb=!1},yG:function(a){this.Rb=a;return!0},update:function(){this.L.mT(this.Rb)},reverse:function(){return p.Hs.create(!this.Rb)},w:function(){var a=new p.Hs;a.yG(this.Rb);return a}});p.Hs.create=function(a){var c=new p.Hs;return c.yG(a)?c:null};
p.jx=p.Bh.extend({f:null,ctor:function(){p.Ai.prototype.ctor.call(this);this.f=p.a(0,0)},AG:function(a){this.f.x=a.x;this.f.y=a.y;return!0},update:function(){this.L.J(this.f)},w:function(){var a=new p.jx;a.AG(this.f);return a}});p.jx.create=function(a){var c=new p.jx;c.AG(a);return c};
p.Uo=p.Bh.extend({qg:null,al:null,Yj:null,Ap:null,ctor:function(){p.Ai.prototype.ctor.call(this);this.Ap=this.Yj=this.al=this.qg=null},Qf:function(a,c,d){this.Ap=d;this.al=a;this.qg=c;return!0},VA:function(a){this.Yj=a;return!0},execute:function(){null!=this.al?this.al.call(this.qg,this.L,this.Ap):this.Yj&&this.Yj.call(null,this.L)},update:function(){this.execute()},w2:function(){return this.qg},t8:function(a){a!=this.qg&&(this.qg&&(this.qg=null),this.qg=a)},copy:function(){var a=new p.Uo;this.qg?
a.Qf(this.al,this.qg,this.Ap):this.Yj&&a.VA(this.Yj);return a},w:function(){var a=new p.Uo;this.qg?a.Qf(this.al,this.qg,this.Ap):this.Yj&&a.VA(this.Yj);return a}});p.Uo.create=function(a,c,d){var e=new p.Uo;if(1==arguments.length){if(e&&e.VA(a))return e}else if(e&&e.Qf(a,c,d))return e.al=a,e;return null};p.Ew=p.K.extend({by:0,cy:0,dy:0,RD:0,SD:0,TD:0,ZE:0,$E:0,aF:0,ctor:function(){p.K.prototype.ctor.call(this);this.aF=this.$E=this.ZE=this.TD=this.SD=this.RD=this.dy=this.cy=this.by=0},O:function(a){p.K.prototype.O.call(this,a);a=a.GA();var c=a.bG();this.by=c.x;this.cy=c.y;this.dy=c.z;c=a.cG();this.RD=c.x;this.SD=c.y;this.TD=c.z;a=a.$P();this.ZE=a.x;this.$E=a.y;this.aF=a.z},w:function(){return new p.Ew},reverse:function(){return p.Ts.create(this)}});
p.hx=p.Ew.extend({ci:0,Kt:0,Pm:0,py:0,xf:0,oy:0,rz:0,pz:0,qz:0,oz:0,ctor:function(){p.Ew.prototype.ctor.call(this);this.oz=this.qz=this.pz=this.rz=this.oy=this.xf=this.py=this.Pm=this.Kt=this.ci=0},G:function(a,c,d,e,f,g,h){return p.K.prototype.G.call(this,a)?(this.ci=c,this.Kt=d,this.Pm=e,this.py=f,this.xf=g,this.oy=h,this.pz=p.zi(f),this.oz=p.zi(h),!0):!1},jU:function(){var a=this.L.GA(),c=a.cG(),d=a.bG(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=p.Ds);0===d&&(d=p.Ds);return{kR:d/p.Vo.jr(),GU:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},O:function(a){p.K.prototype.O.call(this,a);a=this.jU();isNaN(this.ci)&&(this.ci=a.kR);isNaN(this.Pm)&&(this.Pm=p.lx(a.GU));isNaN(this.xf)&&(this.xf=p.lx(a.azimuth));this.rz=p.zi(this.Pm);this.qz=p.zi(this.xf)},w:function(){var a=new p.hx;a.G(this.fa,this.ci,this.Kt,this.Pm,this.py,this.xf,this.oy);return a},update:function(a){var c=(this.ci+this.Kt*a)*p.Vo.jr(),
d=this.rz+this.pz*a,e=this.qz+this.oz*a;a=Math.sin(d)*Math.cos(e)*c+this.by;e=Math.sin(d)*Math.sin(e)*c+this.cy;c=Math.cos(d)*c+this.dy;this.L.GA().OH(a,e,c)}});p.hx.create=function(a,c,d,e,f,g,h){var k=new p.hx;return k.G(a,c,d,e,f,g,h)?k:null};p.yc=p.K.extend({Q:null,ctor:function(){p.K.prototype.ctor.call(this);this.Q=null},Z:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.G(a.Me())?(this.Q=a,!0):!1},w:function(){var a=new p.yc;a.Z(this.Q.w());return a},O:function(a){p.K.prototype.O.call(this,a);this.Q.O(this.L)},stop:function(){this.Q.stop();p.K.prototype.stop.call(this)},update:function(a){this.Q.update(a)},reverse:function(){return p.yc.create(this.Q.reverse())},IA:function(){return this.Q}});
p.yc.create=function(a){var c=new p.yc;c&&c.Z(a);return c};p.Rk=p.yc.extend({he:0,ctor:function(){p.yc.prototype.ctor.call(this);this.he=0},Z7:function(a){this.he=a},U1:function(){return this.he},Z:function(a,c){return p.yc.prototype.Z.call(this,a)?(this.he=c,!0):!1},w:function(){var a=new p.Rk;a.Z(this.Q.w(),this.he);return a},reverse:function(){return p.Rk.create(this.Q.reverse(),1/this.he)}});p.Rk.create=function(a,c){var d=new p.Rk;d&&d.Z(a,c);return d};
p.ws=p.Rk.extend({update:function(a){this.Q.update(Math.pow(a,this.he))},reverse:function(){return p.ws.create(this.Q.reverse(),1/this.he)},w:function(){var a=new p.ws;a.Z(this.Q.w(),this.he);return a}});p.ws.create=function(a,c){var d=new p.ws;d&&d.Z(a,c);return d};p.ys=p.Rk.extend({update:function(a){this.Q.update(Math.pow(a,1/this.he))},reverse:function(){return p.ys.create(this.Q.reverse(),1/this.he)},w:function(){var a=new p.ys;a.Z(this.Q.w(),this.he);return a}});
p.ys.create=function(a,c){var d=new p.ys;d&&d.Z(a,c);return d};p.xs=p.Rk.extend({update:function(a){a*=2;1>a?this.Q.update(0.5*Math.pow(a,this.he)):this.Q.update(1-0.5*Math.pow(2-a,this.he))},w:function(){var a=new p.xs;a.Z(this.Q.w(),this.he);return a},reverse:function(){return p.xs.create(this.Q.reverse(),this.he)}});p.xs.create=function(a,c){var d=new p.xs;d&&d.Z(a,c);return d};
p.ts=p.yc.extend({update:function(a){this.Q.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return p.vs.create(this.Q.reverse())},w:function(){var a=new p.ts;a.Z(this.Q.w());return a}});p.ts.create=function(a){var c=new p.ts;c&&c.Z(a);return c};p.vs=p.yc.extend({update:function(a){this.Q.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return p.ts.create(this.Q.reverse())},w:function(){var a=new p.vs;a.Z(this.Q.w());return a}});p.vs.create=function(a){var c=new p.vs;c&&c.Z(a);return c};
p.us=p.yc.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.Q.update(a)},reverse:function(){return p.us.create(this.Q.reverse())},w:function(){var a=new p.us;a.Z(this.Q.w());return a}});p.us.create=function(a){var c=new p.us;c&&c.Z(a);return c};
p.zs=p.yc.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.Q.update(a)},reverse:function(){return p.Bs.create(this.Q.reverse())},w:function(){var a=new p.zs;a.Z(this.Q.w());return a}});p.zs.create=function(a){var c=new p.zs;c&&c.Z(a);return c};p.Bs=p.yc.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.Q.update(a)},reverse:function(){return p.zs.create(this.Q.reverse())},w:function(){var a=new p.Bs;a.Z(this.Q.w());return a}});
p.Bs.create=function(a){var c=new p.Bs;c&&c.Z(a);return c};p.As=p.yc.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.Q.update(a)},w:function(){var a=new p.As;a.Z(this.Q.w());return a},reverse:function(){return p.As.create(this.Q.reverse())}});p.As.create=function(a){var c=new p.As;c&&c.Z(a);return c};
p.Cm=p.yc.extend({yd:null,ctor:function(){p.yc.prototype.ctor.call(this);this.yd=0.3},E1:function(){return this.yd},O7:function(a){this.yd=a},Z:function(a,c){p.yc.prototype.Z.call(this,a);this.yd=null==c?0.3:c;return!0},reverse:function(){p.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},w:function(){var a=new p.Cm;a.Z(this.Q.w(),this.yd);return a}});p.Cm.create=function(a,c){var d=new p.Cm;return d&&d.Z(a,c)?d:null};
p.qs=p.Cm.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.yd/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.yd));this.Q.update(c)},reverse:function(){return p.ss.create(this.Q.reverse(),this.yd)},w:function(){var a=new p.qs;a.Z(this.Q.w(),this.yd);return a}});p.qs.create=function(a,c){var d=new p.qs;return d&&d.Z(a,c)?d:null};
p.ss=p.Cm.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.yd/4)*Math.PI*2/this.yd)+1;this.Q.update(c)},reverse:function(){return p.qs.create(this.Q.reverse(),this.yd)},w:function(){var a=new p.ss;a.Z(this.Q.w(),this.yd);return a}});p.ss.create=function(a,c){var d=new p.ss;d&&d.Z(a,c);return d};
p.rs=p.Cm.extend({update:function(a){var c=0,c=this.yd;if(0===a||1==a)c=a;else{c||(c=this.yd=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.Q.update(c)},reverse:function(){return p.rs.create(this.Q.reverse(),this.yd)},w:function(){var a=new p.rs;a.Z(this.Q.w(),this.yd);return a}});p.rs.create=function(a,c){var d=new p.rs;d&&d.Z(a,c);return d};
p.Qk=p.yc.extend({fv:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},w:function(){var a=new p.Qk;a.Z(this.Q.w());return a},reverse:function(){return p.Qk.create(this.Q.reverse())}});p.Qk.create=function(a){var c=new p.Qk;c&&c.Z(a);return c};
p.ns=p.Qk.extend({update:function(a){this.Q.update(1-this.fv(1-a))},reverse:function(){return p.ps.create(this.Q.reverse())},w:function(){var a=new p.ns;a.Z(this.Q.w());return a}});p.ns.create=function(a){var c=new p.ns;c&&c.Z(a);return c};p.ps=p.Qk.extend({update:function(a){this.Q.update(this.fv(a))},reverse:function(){return p.ns.create(this.Q.reverse())},w:function(){var a=new p.ps;a.Z(this.Q.w());return a}});p.ps.create=function(a){var c=new p.ps;c&&c.Z(a);return c};
p.os=p.Qk.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.fv(1-2*a)):0.5*this.fv(2*a-1)+0.5;this.Q.update(c)},w:function(){var a=new p.os;a.Z(this.Q.w());return a},reverse:function(){return p.os.create(this.Q.reverse())}});p.os.create=function(a){var c=new p.os;c&&c.Z(a);return c};p.ks=p.yc.extend({update:function(a){this.Q.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return p.ms.create(this.Q.reverse())},w:function(){var a=new p.ks;a.Z(this.Q.w());return a}});
p.ks.create=function(a){var c=new p.ks;c&&c.Z(a);return c};p.ms=p.yc.extend({update:function(a){a-=1;this.Q.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return p.ks.create(this.Q.reverse())},w:function(){var a=new p.ms;a.Z(this.Q.w());return a}});p.ms.create=function(a){var c=new p.ms;c&&c.Z(a);return c};
p.ls=p.yc.extend({update:function(a){a*=2;1>a?this.Q.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.Q.update(a*a*(3.5949095*a+2.5949095)/2+1))},w:function(){var a=new p.ls;a.Z(this.Q.w());return a},reverse:function(){return p.ls.create(this.Q.reverse())}});p.ls.create=function(a){var c=new p.ls;c&&c.Z(a);return c};p.Nw=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return p.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};p.yH=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(p.a(a[d].x,a[d].y));return c};p.jv=function(a){for(var c=[],d=0;d<a.length;d++)c.push(p.a(a[d].x,a[d].y));return c};p.zg=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
p.w6=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
p.Dh=p.K.extend({Ug:null,qy:0,Bl:0,lc:null,Nx:null,ctor:function(){p.K.prototype.ctor.call(this);this.Ug=[];this.Bl=this.qy=0;this.Nx=this.lc=null},G:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return p.K.prototype.G.call(this,a)?(this.KT(c),this.Bl=d,!0):!1},w:function(){var a=new p.Dh;a.G(this.fa,p.jv(this.Ug),this.Bl);return a},O:function(a){p.K.prototype.O.call(this,a);this.qy=1/(this.Ug.length-1);a=this.L.f;this.lc=p.a(a.x,a.y);this.Nx=
p.a(0,0)},update:function(a){var c,d=this.Ug;if(1==a)c=d.length-1,a=1;else{var e=this.qy;c=0|a/e;a=(a-e*c)/e}c=p.Nw(p.zg(d,c-1),p.zg(d,c-0),p.zg(d,c+1),p.zg(d,c+2),this.Bl,a);p.hs&&(d=this.L.f.m-this.lc.x,a=this.L.f.n-this.lc.y,0!=d||0!=a)&&(e=this.Nx,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.KI(c)},reverse:function(){var a=p.yH(this.Ug);return p.Dh.create(this.fa,a,this.Bl)},KI:function(a){this.L.J(a);this.lc=a},J1:function(){return this.Ug},KT:function(a){this.Ug=a}});
p.Dh.create=function(a,c,d){var e=new p.Dh;return e.G(a,c,d)?e:null};
p.Wo=p.Dh.extend({mc:null,ctor:function(){p.Dh.prototype.ctor.call(this);this.mc=p.a(0,0)},O:function(a){p.Dh.prototype.O.call(this,a);a=a.f;this.mc.x=a.x;this.mc.y=a.y},reverse:function(){for(var a=this.Ug.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=p.Uc(c,d),d=c;a=p.yH(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return p.Wo.create(this.fa,a,this.Bl)},KI:function(a){var c=this.mc,d=a.x+c.x;a=a.y+c.y;this.L.J(d,
a);this.lc.x=d;this.lc.y=a},w:function(){var a=new p.Wo;a.G(this.fa,p.jv(this.Ug),this.Bl);return a}});p.Wo.create=function(a,c,d){var e=new p.Wo;return e.G(a,c,d)?e:null};p.Pw=p.Dh.extend({G:function(a,c){return p.Dh.prototype.G.call(this,a,c,0.5)},w:function(){var a=new p.Pw;a.G(this.fa,p.jv(this.Ug));return a}});p.Pw.create=function(a,c){var d=new p.Pw;return d.G(a,c)?d:null};
p.Ow=p.Wo.extend({G:function(a,c){return p.Dh.prototype.G.call(this,a,c,0.5)},w:function(){var a=new p.Ow;a.G(this.fa,p.jv(this.Ug));return a}});p.Ow.create=function(a,c){var d=new p.Ow;return d.G(a,c)?d:null};p.SU=p.oa.extend({cC:function(){}});
p.Am=p.K.extend({key:"",Vl:0,Hk:0,yA:0,ctor:function(){p.K.prototype.ctor.call(this);this.key="";this.yA=this.Hk=this.Vl=0},G:function(a,c,d,e){return p.K.prototype.G.call(this,a)?(this.key=c,this.Hk=e,this.Vl=d,!0):!1},O:function(a){if(!a||!a.cC)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";p.K.prototype.O.call(this,a);this.yA=this.Hk-this.Vl},update:function(a){this.L.cC(this.Hk-this.yA*(1-a),this.key)},reverse:function(){return p.Am.create(this.duration,
this.key,this.Hk,this.Vl)},w:function(){var a=new p.Am;a.G(this.fa,this.key,this.Vl,this.Hk);return a}});p.Am.create=function(a,c,d,e){var f=new p.Am;return f.G(a,c,d,e)?f:null};p.Jj=0;p.ix=1;p.ZC=4;p.dK=75;
p.$b=p.fb.extend({Ke:null,$h:0,Va:null,Tg:null,$k:null,dd:!1,e1:function(){return p.a(this.Tg.x,this.Tg)},WH:function(a){this.Tg=p.$G(a)},H_:function(){return p.a(this.$k.x,this.$k.y)},FH:function(a){this.$k=p.$G(a)},ki:function(){return this.Ke},yv:function(){return this.$h},VP:function(){return this.Va},Mr:function(a){this.$h!=a&&(this.$h=p.Xq(a,0,100),this.Zz())},Se:function(){},xk:function(){return!1},Z3:function(){return this.dd},Yx:function(a){if(a<p.ZC){var c=p.dK;return this.dd?p.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):p.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return p.Bi()},Cc:null,Qz:270,yy:270,ci:0,jy:!1,Vx:null,Rc:0,gc:null,ff:null,iF:null,Uq:!1,ctor:null,Qg:function(){p.fb.prototype.ctor.call(this);this.Ke=p.Jj;this.$h=0;this.Tg=p.a(0,0);this.$k=p.a(0,0);this.dd=!1;this.Va=null;this.Cc=p.Bi();this.yy=this.Qz=270;this.ci=0;this.jy=!1;this.Vx=p.zc()},Rg:function(){p.fb.prototype.ctor.call(this);this.Ke=p.Jj;this.$h=0;this.Tg=p.a(0,0);this.$k=p.a(0,0);this.dd=!1;this.Va=null;this.iF=p.M.createBuffer();
this.Rc=0;this.ff=this.gc=null;this.Uq=!1},s:function(a){this.Va.s(a);this.Qc()},ha:function(a){this.Va.ha(a);this.Qc()},Sc:function(){return this.Va.Sc()},ii:function(){return this.Va.ii()},aI:null,nN:function(a){this.dd!==a&&(this.dd=a)},oN:function(a){this.dd!==a&&(this.dd=a,this.ff=this.gc=null,this.Rc=0)},Or:null,qN:function(a){this.Va!=a&&(this.Va=a,this.ea(this.Va.c()))},rN:function(a){a&&this.Va!=a&&(this.Va=a,this.ea(a.c()),this.gc&&(this.ff=this.gc=null,this.Rc=0))},si:null,uN:function(a){a!==
this.Ke&&(this.Ke=a)},vN:function(a){a!==this.Ke&&(this.gc&&(this.ff=this.gc=null,this.Rc=0),this.Ke=a)},$H:null,lN:function(a){this.dd!==a&&(this.dd=a)},mN:function(a){this.dd!==a&&(this.dd=a,this.ff=this.gc=null,this.Rc=0)},ne:function(a){var c=this.Va;if(!c)return{Aa:0,X:0};var d=c.pb,e=p.a(d.wa.r.Aa,d.wa.r.X),d=p.a(d.za.r.Aa,d.za.r.X);c.sc&&(c=a.x,a.x=a.y,a.y=c);return{Aa:e.x*(1-a.x)+d.x*a.x,X:e.y*(1-a.y)+d.y*a.y}},pe:function(a){if(!this.Va)return{x:0,y:0};var c=this.Va.pb,d=p.a(c.wa.o.x,c.wa.o.y),
c=p.a(c.za.o.x,c.za.o.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},YA:null,VL:function(a){this.Mr(0);this.ja(0.5,0.5);this.Ke=p.Jj;this.dd=!1;this.WH(p.a(0.5,0.5));this.FH(p.a(1,1));this.Or(a);return!0},WL:function(a){this.Mr(0);this.ff=this.gc=null;this.Rc=0;this.ja(0.5,0.5);this.Ke=p.Jj;this.dd=!1;this.WH(p.a(0.5,0.5));this.FH(p.a(1,1));this.Or(a);this.Wf(p.Pg.d().uh(p.px));return!0},Ga:null,dl:function(a){a=a||p.M;var c=this.Va;c.sn&&(a.globalCompositeOperation="lighter");var d=p.aa.d().da,
e=p.aa.d().la;a.globalAlpha=c.yb/255;var f=c.ia,g=c.ca,h=c.Ib,k=c.wy,l=0|h.x,m=-h.y-f.height,n=c.Pn;k.width=f.width*d;k.height=f.height*e;a.save();c.Qb&&(l=-h.x-f.width,a.scale(-1,1));c.Rb&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Ke==p.ix?(f=this.Vx,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Ke==p.Jj&&(f=this.Cc.x*d,h=this.Cc.y*e,a.beginPath(),a.arc(f,h,this.ci*e,Math.PI/180*this.Qz,Math.PI/180*this.yy,this.jy),a.lineTo(f,h),a.clip(),a.closePath());c.pa&&n.Xr?
(d=c.pa.dc,this.Dt?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Sc(),a.fillStyle="rgba("+k.l+","+k.k+","+k.g+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();p.Ng()},Bf:function(a){a=a||p.M;if(this.gc&&this.Va){p.fx(this);var c=this.Va.S;p.pj(c.src,c.mb);p.Nd(p.kt);this.Va.R()?p.Of(this.Va.R()):p.Of(null);a.bindBuffer(a.ARRAY_BUFFER,this.iF);this.Uq&&(a.bufferData(a.ARRAY_BUFFER,this.ff,a.DYNAMIC_DRAW),
this.Uq=!1);c=p.wb.BYTES_PER_ELEMENT;a.vertexAttribPointer(p.be,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.hp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.ip,2,a.FLOAT,!1,c,12);this.Ke===p.Jj?a.drawArrays(a.TRIANGLE_FAN,0,this.Rc):this.Ke==p.ix&&(this.dd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Rc/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Rc/2),p.kh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Rc));p.kh++}},XN:function(){if(this.Va){var a,c=this.Tg;a=this.$h/100;var d=2*p.PI*(this.dd?a:1-a),e=p.a(c.x,1),
f=p.GR(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=p.tJ,h=p.ZC;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Yx(a%h),k=this.Yx(k);0==a?k=p.bH(l,k,1-c.x):4==a&&(l=p.bH(l,k,1-c.x));var m=p.a(0,0);p.mB(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=p.mf(c,p.ri(p.Uc(f,c),g))}g=!0;this.Rc!=d+3&&(g=!1,this.ff=this.gc=null,this.Rc=0);if(!this.gc){h=this.Rc=d+3;l=p.wb.BYTES_PER_ELEMENT;this.ff=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new p.wb(null,null,null,this.ff,
a*l);this.gc=k;if(!this.gc){p.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Qc();h=this.gc;if(!g)for(h[0].r=this.ne(c),h[0].o=this.pe(c),h[1].r=this.ne(e),h[1].o=this.pe(e),a=0;a<d;a++)c=this.Yx(a),h[a+2].r=this.ne(c),h[a+2].o=this.pe(c);h[this.Rc-1].r=this.ne(f);h[this.Rc-1].o=this.pe(f)}},MN:function(){if(this.Va){var a,c=this.$h/100,d=this.$k,d=p.ri(p.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=p.Uc(this.Tg,d),d=p.mf(this.Tg,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&(c.x-=d.x-1,d.x=1);
0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.dd){if(!this.gc){this.Rc=8;var e=p.wb.BYTES_PER_ELEMENT;this.ff=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new p.wb(null,null,null,this.ff,a*e);f[0].r=this.ne(p.a(0,1));f[0].o=this.pe(p.a(0,1));f[1].r=this.ne(p.a(0,0));f[1].o=this.pe(p.a(0,0));f[6].r=this.ne(p.a(1,1));f[6].o=this.pe(p.a(1,1));f[7].r=this.ne(p.a(1,0));f[7].o=this.pe(p.a(1,0));this.gc=f}a=this.gc;a[2].r=this.ne(p.a(c.x,d.y));a[2].o=this.pe(p.a(c.x,d.y));a[3].r=this.ne(p.a(c.x,
c.y));a[3].o=this.pe(p.a(c.x,c.y));a[4].r=this.ne(p.a(d.x,d.y));a[4].o=this.pe(p.a(d.x,d.y));a[5].r=this.ne(p.a(d.x,c.y));a[5].o=this.pe(p.a(d.x,c.y))}else{if(!this.gc)for(this.Rc=4,e=p.wb.BYTES_PER_ELEMENT,this.ff=new ArrayBuffer(4*e),this.gc=[],a=0;4>a;a++)this.gc[a]=new p.wb(null,null,null,this.ff,a*e);a=this.gc;a[0].r=this.ne(p.a(c.x,d.y));a[0].o=this.pe(p.a(c.x,d.y));a[1].r=this.ne(p.a(c.x,c.y));a[1].o=this.pe(p.a(c.x,c.y));a[2].r=this.ne(p.a(d.x,d.y));a[2].o=this.pe(p.a(d.x,d.y));a[3].r=this.ne(p.a(d.x,
c.y));a[3].o=this.pe(p.a(d.x,c.y))}this.Qc()}},Qc:function(){if(this.Va&&this.gc){for(var a=this.Va.pb.Da.C,c=this.gc,d=0,e=this.Rc;d<e;++d)c[d].C=a;this.Uq=!0}},Zz:null,TN:function(){var a=this.Va,c=a.c(),d=this.Tg;if(this.Ke==p.Jj){this.ci=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Cc;g.x=c.width*d.x;g.y=-c.height*d.y;this.dd?(e=270,d=270-3.6*this.$h):(d=-90,e=-90+3.6*this.$h);a.Qb&&(g.x-=2*c.width*this.Tg.x,d=-d-180,e=-e-180,f=!f);a.Rb&&(g.y+=2*c.height*this.Tg.y,
f=!f,d=-d,e=-e);this.Qz=d;this.yy=e;this.jy=f}else{e=this.$k;g=this.$h/100;f=this.Vx;e=p.size(c.width*(1-e.x),c.height*(1-e.y));var g=p.size((c.width-e.width)*g,(c.height-e.height)*g),g=p.size(e.width+g.width,e.height+g.height),h=p.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.Qb&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.Rb&&(f.y+=g.height,c=-1);0<e&&(f.y-=
e*c);f.width=g.width;f.height=-g.height}},UN:function(){var a=this.Ke;a===p.Jj?this.XN():a===p.ix&&this.MN();this.Uq=!0}});
p.ra.jc?(b=p.$b.prototype,b.ctor=p.$b.prototype.Rg,b.aI=p.$b.prototype.oN,b.Or=p.$b.prototype.rN,b.si=p.$b.prototype.vN,b.$H=p.$b.prototype.mN,b.YA=p.$b.prototype.WL,b.Ga=p.$b.prototype.Bf,b.Zz=p.$b.prototype.UN):(b=p.$b.prototype,b.ctor=p.$b.prototype.Qg,b.aI=p.$b.prototype.nN,b.Or=p.$b.prototype.qN,b.si=p.$b.prototype.uN,b.$H=p.$b.prototype.lN,b.YA=p.$b.prototype.VL,b.Ga=p.$b.prototype.dl,b.Zz=p.$b.prototype.TN);p.$b.create=function(a){var c=new p.$b;return c.YA(a)?c:null};p.kx=p.K.extend({Je:0,xd:0,ctor:function(){p.K.prototype.ctor.call(this);this.xd=this.Je=0},G:function(a,c){return p.K.prototype.G.call(this,a)?(this.Je=c,!0):!1},w:function(){var a=new p.kx;a.G(this.fa,this.Je);return a},reverse:function(){p.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},O:function(a){p.K.prototype.O.call(this,a);this.xd=a.yv();100==this.xd&&(this.xd=0)},update:function(a){this.L instanceof p.$b&&this.L.Mr(this.xd+(this.Je-this.xd)*a)}});
p.kx.create=function(a,c){var d=new p.kx;d.G(a,c);return d};p.Os=p.K.extend({Je:0,xd:0,ctor:function(){p.K.prototype.ctor.call(this);this.xd=this.Je=0},G:function(a,c,d){return p.K.prototype.G.call(this,a)?(this.Je=d,this.xd=c,!0):!1},w:function(){var a=new p.Os;a.G(this.fa,this.xd,this.Je);return a},reverse:function(){return p.Os.create(this.fa,this.Je,this.xd)},O:function(a){p.K.prototype.O.call(this,a)},update:function(a){this.L instanceof p.$b&&this.L.Mr(this.xd+(this.Je-this.xd)*a)}});
p.Os.create=function(a,c,d){var e=new p.Os;e.G(a,c,d);return e};p.Lw=9;p.YI=1;p.aJ=2;p.bJ=4;p.ZI=8;p.$I=16;p.qC=32;p.cJ=64;p.XI=128;p.Ch=256;p.tf=1;p.sC=2;p.rC=4;p.jV=8;p.iV=8;
p.vb=p.Og.extend({hE:!1,fY:!1,xk:function(){return this.hE},Se:function(a){this.hE=a;for(var c=this.p,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.Sa&&f.Se(a)}},ei:p.tf,t2:function(){return this.ei},Mp:!1,Gn:!1,Ti:!1,Lt:null,Re:function(a){this.ei=(this.Mp=a)?p.tf:p.rC;this.vc()},isEnabled:function(){return this.Mp},Lo:function(a){this.Gn=a;this.vc()},c4:function(){return this.Gn},Dk:function(a){this.Ti=a;this.vc()},M3:function(){return this.Ti},pQ:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.V)return!1;
return!0},ctor:function(){p.Og.prototype.ctor.call(this);this.Lt={};this.Pb=p.eb()},u:function(){return p.Og.prototype.u.call(this)?(this.ei=p.tf,this.Mp=!0,this.Ti=this.Gn=!1,this.nw(1),!0):!1},Vv:function(){p.wB(this.qk,!0,this)},ue:function(a){for(var c=0,d=p.Lw;c<d;c++)if(a&1<<c)for(var e=this.vy(1<<c),f=0,g=e.length;f<g;f++)e[f].PQ(this)},tF:function(a,c,d){for(var e=0,f=p.Lw;e<f;e++)d&1<<e&&this.CD(a,c,1<<e)},q6:function(a,c,d){for(var e=0,f=p.Lw;e<f;e++)d&1<<e&&this.NM(a,c,1<<e)},ji:function(a){return this.Kb(a.P)},
ph:function(a){a=a.P;a=this.getParent().Kb(a);return p.I(this.Qa(),a)},hY:function(){return null},vy:function(a){a=a.toString();this.Lt.hasOwnProperty(a)||(this.Lt[a]=[]);return this.Lt[a]},CD:function(a,c,d){a=new p.BJ(a,c,d);this.vy(d).push(a)},NM:function(a,c,d){d=this.vy(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.L);c&&(g=g&&c==f.Xe);g?p.md(d,f):e++}else d.length=0},vc:function(){}});p.vb.create=function(){var a=new p.vb;return a&&a.u()?a:null};p.wC=3435855873;
p.Pk=p.vb.extend({Hp:!1,Vq:!1,Df:null,cq:null,zp:null,It:null,El:null,rd:null,Zh:0,un:!1,Su:null,Jq:null,Tu:null,Zk:null,vE:!1,ju:0,iu:0,ctor:function(){p.vb.prototype.ctor.call(this);this.Df=new p.Mj(0,0);this.cq=new p.bg(0,0);this.zp="";this.It=p.eb();this.Su={};this.Jq={};this.Tu={};this.Zk={}},u:function(){return this.Dv(p.T.create("","Arial",12),p.ze.create())},vc:function(){if(this.vE){this.El&&this.El.F(!1);this.rd&&this.rd.F(!1);this.tT(this.cq);var a=this.ei;this.zp=this.OA(a);this.It=this.ZP(a);
var c=this.El=this.gr(a);c&&c.na&&c.na(this.zp);c&&c.Sa&&c.s(this.It);var d=this.c();c&&c.J(d.width/2,d.height/2);(a=this.rd=this.qP(a))&&a.J(d.width/2,d.height/2);d=c?c.Qa().La:p.size(0,0);if(this.Hp)a&&a.ea(d.width+2*this.iu,d.height+2*this.ju);else if(a){var e=a.Df,e=p.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.ea(e)}d=c?c.Qa():p.rect(0,0,0,0);e=a?a.Qa():p.rect(0,0,0,0);d=p.Uv(d,e);this.ea(d.width,d.height);d=this.c();c&&(c.J(d.width/2,d.height/2),c.F(!0));
a&&(a.J(d.width/2,d.height/2),a.F(!0))}},Dv:function(a,c){if(!a||!a.Sa)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return p.vb.prototype.u.call(this,!0)?(this.vE=!0,this.Su={},this.Jq={},this.Tu={},this.Zk={},this.Xb(!0),this.un=!1,this.Vq=!0,this.zp=null,this.SS(!0),this.zj(p.size(0,0)),this.Vq=!0,this.li(!1),this.ja(0.5,0.5),this.El=a,this.rd=c,this.ha(255),
this.Se(!0),this.ST(a.LA(),p.tf),this.RT(a.Sc(),p.tf),this.SB(a,p.tf),this.cw(c,p.tf),this.ei=p.tf,this.iu=24,this.ju=12,this.cq=new p.bg(0.5,0.5),this.zj(p.Tk()),this.vc(),!0):!1},GQ:function(a,c,d){a=p.T.create(a,c,d);return this.Dv(a,p.ze.create())},wG:function(a){var c=p.T.create("","Arial",30);return this.Dv(c,a)},PZ:function(){return this.Hp},SS:function(a){this.Hp=a;this.vc()},c3:function(){return this.Vq},XT:function(a){return this.Vq=a},LP:function(){return this.Df},zj:function(a){if(0===
a.width&&0===a.height)this.Hp=!0;else{this.Hp=!1;var c=this.Zk,d;for(d in c)c[d].zj(a)}this.Df=a;this.vc()},O0:function(){return this.cq},tT:function(a){this.cq=a;this.El&&this.El.ja(a)},ZX:function(){return this.zp},$X:function(){return this.It},ii:function(){return this.Zh},ha:function(a){p.vb.prototype.ha.call(this,a);var c=this.Zk,d;for(d in c)c[d].ha(a)},s:function(a){p.vb.prototype.s.call(this,a);var c=this.Zk,d;for(d in c)c[d].s(a)},Sc:function(){return this.zd},Y3:function(){return this.un},
dY:function(){return this.ju},bY:function(){return this.iu},w7:function(a,c){this.ju=c;this.iu=a;this.vc()},Re:function(a){p.vb.prototype.Re.call(this,a);this.vc()},Lo:function(a){p.vb.prototype.Lo.call(this,a);this.vc()},Dk:function(a){this.ei=a?p.sC:p.tf;p.vb.prototype.Dk.call(this,a);(a=this.FA(p.wC))&&this.kU(a);this.vc();this.Vq&&(a=p.Jm.create(0.05,this.Ti&&this.isEnabled()&&!this.Gn?1.1:1),a.fI(p.wC),this.Yv(a))},Mb:function(a){if(!(this.ph(a)&&this.isEnabled()&&this.V&&this.pQ()))return!1;
this.un=!0;this.Dk(!0);this.ue(p.YI);return!0},Tc:function(a){this.Mp&&this.un&&!this.Gn?(a=this.ph(a))&&!this.Ti?(this.Dk(!0),this.ue(p.ZI)):a&&this.Ti?this.ue(p.aJ):!a&&this.Ti?(this.Dk(!1),this.ue(p.$I)):a||this.Ti||this.ue(p.bJ):this.Ti&&this.Dk(!1)},se:function(a){this.un=!1;this.Dk(!1);this.ph(a)?this.ue(p.qC):this.ue(p.cJ)},uj:function(){this.un=!1;this.Dk(!1);this.ue(p.XI)},OA:function(a){var c=this.Su;return c?c[a]?c[a]:c[p.tf]:""},ST:function(a,c){this.Su[c]=a||"";this.ei==c&&this.vc()},
ZP:function(a){return(a=this.Jq[a])?a:(a=this.Jq[p.tf])?a:p.eb()},RT:function(a,c){this.Jq[c]=a;this.ei==c&&this.vc()},gr:function(a){var c=this.Tu;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.tf]},SB:function(a,c){var d=this.Tu;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.F(!1);a.ja(0.5,0.5);this.v(a,1);this.ei==c&&this.vc()},z8:function(a,c){var d=this.OA(c);d||(d="");this.SB(p.T.create(d,a,12),c)},D2:function(a){a=this.gr(a);return null!=a&&a instanceof p.T?a.De:""},A8:function(a,
c){var d=this.gr(c);null!=d&&d instanceof p.T&&d.PH(a)},E2:function(a){a=this.gr(a);return null!=a&&a instanceof p.T?a.ee:0},y8:function(a,c){var d=this.OA(c);d||(d="");this.SB(p.cx.create(d,a),c)},C2:function(a){a=this.gr(a);return null!=a&&a instanceof p.cx?a.u0():""},qP:function(a){var c=this.Zk;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.tf]},cw:function(a,c){var d=this.Zk;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.F(!1);a.ja(0.5,0.5);this.v(a);d=this.Df;0===d.width&&
0===d.height||a.zj(d);this.ei===c&&this.vc()},H6:function(a,c){var d=p.ze.BF(a);this.cw(d,c)}});p.Pk.create=function(a,c){var d;if(0==arguments.length)return(d=new p.Pk)&&d.u()?d:null;1==arguments.length?(d=new p.Pk,d.wG(arguments[0])):2==arguments.length?(d=new p.Pk,d.Dv(a,c)):3==arguments.length&&(d=new p.Pk,d.GQ(arguments[0],arguments[1],arguments[2]));return d};p.RGBA=function(a,c,d,e){this.l=a;this.k=c;this.g=d;this.B=e};p.Zw=function(a,c,d){this.Rd=a;this.wh=c;this.X=d};p.pd={};p.pd.Pl=function(a,c,d,e){a=p.A.CF(a);if(!a)return null;a.J(d);a.ja(e);c.v(a);return a};p.pd.xJ=function(a){var c=new p.Zw,d,e;d=a.l<a.k?a.l:a.k;d=d<a.g?d:a.g;e=a.l>a.k?a.l:a.k;e=e>a.g?e:a.g;c.X=e;d=e-d;if(0<e)c.wh=d/e;else return c.wh=0,c.Rd=-1,c;c.Rd=a.l>=e?(a.k-a.g)/d:a.k>=e?2+(a.g-a.l)/d:4+(a.l-a.k)/d;c.Rd*=60;0>c.Rd&&(c.Rd+=360);return c};
p.pd.nx=function(a){var c,d,e,f,g=new p.RGBA;g.B=1;if(0>=a.wh){if(!a.Rd)return g.l=a.X,g.k=a.X,g.g=a.X,g;g.l=0;g.k=0;g.g=0;return g}c=a.Rd;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.X*(1-a.wh);d=a.X*(1-a.wh*e);e=a.X*(1-a.wh*(1-e));switch(f){case 0:g.l=a.X;g.k=e;g.g=c;break;case 1:g.l=d;g.k=a.X;g.g=c;break;case 2:g.l=c;g.k=a.X;g.g=e;break;case 3:g.l=c;g.k=d;g.g=a.X;break;case 4:g.l=e;g.k=c;g.g=a.X;break;default:g.l=a.X,g.k=c,g.g=d}return g};p.pd.nC=function(a,c){return p.Uv(a,c)};p.BJ=p.oa.extend({Xe:null,L:null,Ht:null,ctor:function(a,c,d){this.L=a;this.Xe=c;this.Ht=d},y_:function(){return this.Xe},YP:function(){return this.L},c0:function(){return this.Ht},PQ:function(a){if(this.L&&this.Xe)if("string"==typeof this.Xe)this.L[this.Xe](a,this.Ht);else this.Xe.call(this.L,a,this.Ht)}});p.TC=0;p.WC=1;p.UC=2;p.VC=3;p.RC=4;p.YC=5;p.XC=6;p.cK=7;p.SC=8;
p.ze=p.fb.extend({Sa:!0,In:null,LD:null,ik:!1,Ie:null,bh:null,ah:null,sg:null,Wh:null,Ii:null,Xg:null,Lh:null,Kh:null,Mh:null,Ki:null,Sb:!1,Dc:null,Df:null,Zh:0,Pb:null,Zm:null,Xt:0,Zt:0,Yt:0,Wt:0,PE:!1,Lz:!1,Wa:!1,bd:null,CI:function(){return this.Wa},gf:function(a,c){this.bd.push({nj:a,jh:c})},sd:function(){this.Wa=!0;for(var a=this.bd,c=0,d=a.length;c<d;c++){var e=a[c];e.nj.call(e.jh,this)}a.length=0},Yu:function(){var a;a=this.Xt;var c=this.Zt,d=this.Yt,e=this.In,f=this.Wt;a=0===a&&0===c&&0===
d&&0===f?p.zc():this.Lz?p.rect(f,a,e.width-d-a,e.height-c-f):p.rect(a,c,e.width-a-d,e.height-c-f);this.XS(a)},SN:function(){if(this.bh&&this.sg&&this.Mh&&this.Lh&&this.Ii){var a=this.ca,c=this.bh,d=this.sg,e=this.Mh,f=this.Lh,g=this.Ii,h=this.Ii.c(),k=c.c(),l=f.c(),m=a.sa-k.width-d.c().width,a=a.ba-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!p.ra.jc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.Ko(m);g.tm(a);
var h=this.Wh,q=this.Xg,t=this.ah,v=this.Kh,x=p.a(0,0);f.ja(x);e.ja(x);c.ja(x);d.ja(x);h.ja(x);q.ja(x);t.ja(x);v.ja(x);g.ja(x);f.J(0,0);e.J(r+k,0);c.J(0,l+n);d.J(r+k,l+n);h.J(0,l);h.tm(a);q.J(r+k,l);q.tm(a);v.J(r,0);v.Ko(m);t.J(r,l+n);t.Ko(m);g.J(r,l)}},ctor:function(){p.fb.prototype.ctor.call(this);this.In=p.zc();this.LD=p.zc();this.Ki=p.eb();this.Dc=new p.Mj(0,0);this.Df=new p.Mj(0,0);this.Pb=p.eb();this.Zh=255;this.Zm=p.zc();this.bd=[]},KP:function(){return this.Dc},LP:function(){return this.Df},
zj:function(a){this.ea(a);this.Df=a},ii:function(){return this.Zh},ha:function(a){if(this.Ie){this.Zh=a;for(var c=this.Ie.p,d=0;d<c.length;d++){var e=c[d];e&&e.Sa&&e.ha(a)}}},Sc:function(){return this.Pb},s:function(a){if(this.Ie){this.Pb=a;for(var c=this.Ie.p,d=0;d<c.length;d++){var e=c[d];e&&e.Sa&&e.s(a)}}},Q_:function(){return this.Zm},XS:function(a){if(this.Ie){var c=this.ca,d=c.sa,c=c.ba;this.Ro(this.Ie,this.In,this.Lz,a);this.ea(d,c)}},J0:function(){return this.Xt},p7:function(a){this.Xt=a;
this.Yu()},L0:function(){return this.Zt},r7:function(a){this.Zt=a;this.Yu()},K0:function(){return this.Yt},q7:function(a){this.Yt=a;this.Yu()},I0:function(){return this.Wt},o7:function(a){this.Wt=a;this.Yu()},ea:function(a,c){2===arguments.length?p.H.prototype.ea.call(this,a,c):p.H.prototype.ea.call(this,a);this.ik=!0},$:function(a){this.ik&&(this.SN(),this.ik=!1);p.fb.prototype.$.call(this,a)},u:function(){return this.Bv(null,p.zc(),!1,p.zc())},Bv:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);
a&&this.Ro(a,c,d,e);this.ja(0.5,0.5);return this.ik=!0},mi:function(a,c,d){a instanceof p.vf?(d=a=c,c=p.zc()):(c=c||p.zc(),d=d||p.zc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=p.Db.d().ww(a);if(!e){var e=p.Db.d().Le(a),f=e.Rf();(this.Wa=f)||e.gf(function(a){var c=this.Df,c=p.size(c.width,c.height);a=a.c();this.Ro(this.Ie,p.rect(0,0,a.width,a.height),!1,this.Zm);this.zj(c);this.ik=!0;this.sd()},this)}a=p.$a.create(a,9);return this.Bv(a,c,!1,d)},Td:function(a,c){if(!a||
!a.R())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";c=c||p.zc();var d=a.Wa;(this.Wa=d)||a.gf(function(a){var c=this.Df,c=p.size(c.width,c.height);this.Ro(this.Ie,a.Md(),p.ra.jc?a.Ec:!1,this.Zm);this.zj(c);this.ik=!0;this.sd()},this);d=p.$a.Dd(a.R(),9);return this.Bv(d,a.Md(),p.ra.jc?a.Ec:!1,c)},BG:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||p.zc();var d=p.wf.d().Bg(a);
return null==d?(p.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):this.Td(d,c)},t6:function(a){var c=new p.ze;return c&&c.Bv(this.Ie,this.In,!1,a)?c:null},Se:function(a){if(this.Ie){this.Sb=a;var c=this.Ie.p;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Se(a)}},xk:function(){return this.Sb},Ro:function(a,c,d,e){var f=this.ii(),g=this.Sc();c=p.rect(c.x,c.y,c.width,c.height);this.vh(!0);this.Ie!=a&&(this.Ie=a);a=a.R();var h=a.Rf();if(this.Wa=h){a=this.Ie;
a.vh(!0);h=this.Zm;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.Lz=d;h=a.R();p.pq(c)&&(c=h.c(),c=p.rect(0,0,c.width,c.height));var k=this.In=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.La;this.Dc.width=l.width;this.Dc.height=l.height;k=this.Df;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.LD;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;p.pq(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,q=m-(n+
r),t=k.y,v=k.height,x=e-(t+v),B=0,L=0;e=p.rect(B,L,n,t);var B=B+n,k=p.rect(B,L,r,t),m=p.rect(B+r,L,q,t),B=0,L=0+t,l=p.rect(B,L,n,v),B=B+n,Y=p.rect(B,L,r,v),B=B+r,F=p.rect(B,L,q,v),B=0,L=0+t+v,t=p.rect(B,L,n,x),B=B+n,n=p.rect(B,L,r,x),B=B+r,r=p.rect(B,L,q,x),q={B:1,g:0,ma:0,xa:1,Ia:0,Ja:0};if(d){d=Y;var x=r,B=t,L=m,v=e,P=F,M=l,ja=n,U=k,q=p.Fw(q,c.height+c.x,c.y),q=p.WI(q),Y=p.cg(Y,q),r=p.cg(r,q),t=p.cg(t,q),m=p.cg(m,q);e=p.cg(e,q);F=p.cg(F,q);l=p.cg(l,q);n=p.cg(n,q);k=p.cg(k,q);d.x=Y.x;d.y=Y.y;x.x=
r.x;x.y=r.y;B.x=t.x;B.y=t.y;L.x=m.x;L.y=m.y;v.x=e.x;v.y=e.y;P.x=F.x;P.y=F.y;M.x=l.x;M.y=l.y;ja.x=n.x;ja.y=n.y;U.x=k.x;U.y=k.y;this.Ii=new p.A;this.Ii.ya(h,d,!0);a.v(this.Ii,0,p.TC);this.ah=new p.A;this.ah.ya(h,U,!0);a.v(this.ah,1,p.WC);this.Kh=new p.A;this.Kh.ya(h,ja,!0);a.v(this.Kh,1,p.RC);this.Wh=new p.A;this.Wh.ya(h,M,!0);a.v(this.Wh,1,p.UC);this.Xg=new p.A;this.Xg.ya(h,P,!0);a.v(this.Xg,1,p.VC);this.bh=new p.A;this.bh.ya(h,v,!0);a.v(this.bh,2,p.XC);this.sg=new p.A;this.sg.ya(h,L,!0);a.v(this.sg,
2,p.YC);this.Lh=new p.A;this.Lh.ya(h,B,!0);a.v(this.Lh,2,p.SC);this.Mh=new p.A;this.Mh.ya(h,x,!0)}else q=p.Fw(q,c.x,c.y),p.Gh(Y,q),p.Gh(r,q),p.Gh(t,q),p.Gh(m,q),p.Gh(e,q),p.Gh(F,q),p.Gh(l,q),p.Gh(n,q),p.Gh(k,q),this.Ii=new p.A,this.Ii.ya(h,Y),a.v(this.Ii,0,p.TC),this.ah=new p.A,this.ah.ya(h,k),a.v(this.ah,1,p.WC),this.Kh=new p.A,this.Kh.ya(h,n),a.v(this.Kh,1,p.RC),this.Wh=new p.A,this.Wh.ya(h,l),a.v(this.Wh,1,p.UC),this.Xg=new p.A,this.Xg.ya(h,F),a.v(this.Xg,1,p.VC),this.bh=new p.A,this.bh.ya(h,e),
a.v(this.bh,2,p.XC),this.sg=new p.A,this.sg.ya(h,m),a.v(this.sg,2,p.YC),this.Lh=new p.A,this.Lh.ya(h,t),a.v(this.Lh,2,p.SC),this.Mh=new p.A,this.Mh.ya(h,r);a.v(this.Mh,2,p.cK);this.ea(c.La);this.v(a);this.PE&&(this.ha(f),255===g.l&&255===g.k&&255===g.g||this.s(g));return this.PE=!0}a.gf(function(){this.ik=!0;this.sd()},this)},Te:function(a){var c=p.$a.Dd(a.R(),9),d=a.Wa;(this.Wa=d)||a.gf(function(a){var c=this.Df,c=p.size(c.width,c.height);this.Ro(this.Ie,a.Md(),p.ra.jc?a.Ec:!1,this.Zm);this.zj(c);
this.ik=!0;this.sd()},this);this.Ro(c,a.Md(),p.ra.jc?a.Ec:!1,p.zc());this.Wt=this.Yt=this.Zt=this.Xt=0}});p.ze.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new p.ze)&&e.mi(a,c))return e}else{if(a instanceof p.vf&&(e=new p.ze)&&e.mi(a,d))return e}else if(3===arguments.length){if((e=new p.ze)&&e.mi(a,c,d))return e}else if(1===arguments.length){if((e=new p.ze)&&e.mi(a))return e}else if(0===arguments.length&&(e=new p.ze)&&e.u())return e;return null};
p.ze.BF=function(a,c){var d=new p.ze;return d&&d.Td(a,c)?d:null};p.ze.CF=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new p.ze;return d&&d.BG(a,c)?d:null};p.$s=p.kc.extend({});p.$s.M9=function(a){var c=new p.$s;c.u();c.ea(0,a);return c};p.$s.j3=function(a){var c=new p.$s;c.u();c.ea(a,0);return c};
p.Ls=p.kc.extend({Sa:!0,Pb:null,Zh:0,ctor:function(){},Sc:function(){return this.Pb},s:function(a){this.Pb=a;if(this.p&&0<this.p.length)for(var c=0;c<this.p.length;c++)this.p[c]&&this.p[c].Sa&&this.p[c].s(a)},ii:function(){return this.Zh},ha:function(a){this.Zh=a;if(this.p&&0<this.p.length)for(var c=0;c<this.p.length;c++)this.p[c]&&this.p[c].Sa&&this.p[c].ha(a)},zQ:function(a,c){if(this.u()){var d=p.N.d().ub;this.li(!0);this.ja(0.5,0.5);this.ea(d);this.J(d.width/2,d.height/2);d=0;if(a){this.v(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.v(c[e],d))}return!0}return!1},WY:function(){this.fO(p.gJ)},fO:function(a){var c=-a,d;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(c+=this.p[d].c().height*this.p[d].la+a);var e=0,f=c/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(e=Math.max(e,this.p[d].c().width),this.p[d].J(0,f-this.p[d].c().height*this.p[d].la/2),f-=this.p[d].c().height*this.p[d].la+a);this.ea(e,c)},TY:function(){this.eO(p.gJ)},eO:function(a){var c=
-a,d;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(c+=this.p[d].c().width*this.p[d].da+a);var e=0,f=-c/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(e=Math.max(e,this.p[d].c().height),this.p[d].J(f+this.p[d].c().width*this.p[d].da/2,0),f+=this.p[d].c().width*this.p[d].da+a);this.ea(c,e)},UY:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&
(f>=c.length?p.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.p[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):p.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=p.N.d().ub,n=k=g=f=0,r=0,e=e/2;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.p[d].c().height,g=0|(g>=l||null==l?g:l),this.p[d].J(r-m.width/2,e-this.p[d].c().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},VY:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(k>=c.length?p.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.p[d].c().width,l=0|(l>=r||null==r?l:r),h+=0|this.p[d].c().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):p.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
p.N.d().ub;l=k=0;n=null;var g=-g/2,q=0;if(this.p&&0<this.p.length)for(d=0;d<this.p.length;d++)this.p[d]&&(null==n&&(n=c[k],q=f[k]),r=this.p[d].c().width,l=0|(l>=r||null==r?l:r),this.p[d].J(g+e[k]/2,q-h.height/2),q-=this.p[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},Se:function(){},xk:function(){return!1}});p.Ls.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new p.Ls)&&d.zQ(a,c)?d:null};
p.Ls.HZ=function(a){return p.Ls.create(a,null)};p.Rw=p.vb.extend({yz:0,xt:0,bc:null,vM:null,NE:null,rg:null,Vb:null,zf:0,Hi:0,d2:function(){return this.yz},M_:function(){return this.xt},aG:function(){return this.bc},D1:function(){return this.xt},j2:function(){return this.NE},UP:function(){return this.rg},WP:function(){return this.Vb},$A:function(a,c){return p.vb.prototype.u.call(this)?(this.Xb(!0),this.bc=p.pd.Pl("colourPickerBackground.png",a,c,p.a(0,0)),this.vM=p.pd.Pl("colourPickerOverlay.png",a,c,p.a(0,0)),this.NE=p.pd.Pl("colourPickerShadow.png",
a,c,p.a(0,0)),this.rg=p.pd.Pl("colourPicker.png",a,c,p.a(0.5,0.5)),this.Vb=c,this.zf=35,this.Hi=this.bc.c().width/2,!0):!1},Re:function(a){p.vb.prototype.Re.call(this,a);this.rg&&this.rg.ha(a?255:128)},NI:function(a){var c=new p.Zw;c.wh=1;c.Rd=a.Rd;c.X=1;a=p.pd.nx(c);this.bc.s(p.gv(0|255*a.l,0|255*a.k,0|255*a.g))},wU:function(a){a=p.a(this.Vb.x+this.zf+this.Hi*(1-a.wh),this.Vb.y+this.zf+this.Hi*a.X);this.av(a)},av:function(a){var c=this.Vb.x+0.5*this.bc.Qa().width,d=this.Vb.y+0.5*this.bc.Qa().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.bc.Qa().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.rg.J(a);a.x<this.Vb.x+this.zf?a.x=this.Vb.x+this.zf:a.x>this.Vb.x+this.zf+this.Hi-1&&(a.x=this.Vb.x+this.zf+this.Hi-1);a.y<this.Vb.y+this.zf?a.y=this.Vb.y+this.zf:a.y>this.Vb.y+this.zf+this.Hi&&(a.y=this.Vb.y+this.zf+this.Hi);this.yz=1-Math.abs((this.Vb.x+this.zf-a.x)/this.Hi);this.xt=Math.abs((this.Vb.y+this.zf-a.y)/this.Hi)},vp:function(a){var c=this.Vb.x+0.5*this.bc.Qa().width,
d=this.Vb.y+0.5*this.bc.Qa().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.bc.Qa().width?(this.av(a),this.ue(p.Ch),!0):!1},Mb:function(a){if(!this.isEnabled()||!this.V)return!1;a=this.ji(a);return this.vp(a)},Tc:function(a){a=this.ji(a);this.vp(a)}});p.Rw.create=function(a,c){var d=new p.Rw;d.$A(a,c);return d};p.Qw=p.vb.extend({qn:0,Xp:0,bc:null,rg:null,Vb:null,D0:function(){return this.qn},KB:function(a){this.qn=a;this.pT(this.qn/360)},E0:function(){return this.Xp},pT:function(a){this.Xp=a;this.qn=360*this.Xp;a=this.bc.Qa();var c=0.5*a.width-15,d=p.zi(360*this.Xp-180);this.rg.J(this.Vb.x+0.5*a.width+c*Math.cos(d),this.Vb.y+0.5*a.height+c*Math.sin(d))},Re:function(a){p.vb.prototype.Re.call(this,a);this.rg&&this.rg.ha(a?255:128)},aG:function(){return this.bc},UP:function(){return this.rg},WP:function(){return this.Vb},
$A:function(a,c){return p.vb.prototype.u.call(this)?(this.Xb(!0),this.bc=p.pd.Pl("huePickerBackground.png",a,c,p.a(0,0)),this.rg=p.pd.Pl("colourPicker.png",a,c,p.a(0.5,0.5)),this.rg.J(c.x,c.y+0.5*this.bc.Qa().height),this.Vb=c,this.Xp=this.qn=0,!0):!1},av:function(a){var c=this.bc.Qa();this.KB(p.lx(Math.atan2(a.y-(this.Vb.y+0.5*c.height),a.x-(this.Vb.x+0.5*c.width)))+180);this.ue(p.Ch)},vp:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.av(a),!0):!1},Mb:function(a){if(!this.isEnabled()||
!this.V)return!1;a=this.ji(a);return this.vp(a)},Tc:function(a){a=this.ji(a);this.vp(a)}});p.Qw.create=function(a,c){var d=new p.Qw;d.$A(a,c);return d};p.xC=p.vb.extend({hg:null,Uj:null,jl:null,bc:null,wQ:function(a){this.hg.Rd=a.qn;a=p.pd.nx(this.hg);p.vb.prototype.s.call(this,p.gv(0|255*a.l,0|255*a.k,0|255*a.g));this.ue(p.Ch);this.PN()},BO:function(a){this.hg.wh=a.yz;this.hg.X=a.xt;a=p.pd.nx(this.hg);p.vb.prototype.s.call(this,p.gv(0|255*a.l,0|255*a.k,0|255*a.g));this.ue(p.Ch)},s:function(a){p.vb.prototype.s.call(this,a);var c=new p.RGBA;c.l=a.l/255;c.k=a.k/255;c.g=a.g/255;c.B=1;this.hg=p.pd.xJ(c);this.dF()},aG:function(){return this.bc},u:function(){if(p.vb.prototype.u.call(this)){this.Xb(!0);
p.wf.d().sF(ba.lC);var a=p.$a.create(ba.mC);this.v(a);this.hg=new p.Zw(0,0,0);this.bc=p.pd.Pl("menuColourPanelBackground.png",a,p.Bi(),p.a(0.5,0.5));var c=p.Uc(this.bc.f,p.a(this.bc.c().width/2,this.bc.c().height/2));this.jl=p.Qw.create(a,p.a(c.x+8,c.y+8));this.Uj=p.Rw.create(a,p.a(c.x+28,c.y+28));this.jl.tF(this,this.wQ,p.Ch);this.Uj.tF(this,this.BO,p.Ch);this.dF();this.v(this.jl);this.v(this.Uj);this.ea(this.bc.c());return!0}return!1},PN:function(){this.jl.KB(this.hg.Rd);this.Uj.NI(this.hg)},dF:function(){this.jl.KB(this.hg.Rd);
this.Uj.NI(this.hg);this.Uj.wU(this.hg)},Re:function(a){p.vb.prototype.Re.call(this,a);null!=this.jl&&this.jl.Re(a);this.Uj&&this.Uj.Re(a)},Mb:function(){return!1}});p.xC.create=function(){var a=new p.xC;a.u();return a};ba=ba||{};ba.lC=ba.lC||"res/extensions/CCControlColourPickerSpriteSheet.plist";ba.mC=ba.mC||"res/extensions/CCControlColourPickerSpriteSheet.png";p.eD=24;p.dX=8;
p.zC=p.vb.extend({nc:0,Pa:0,kb:0,ou:0,mu:0,lb:null,jk:null,rd:null,mG:function(){return this.nc},ve:function(a){a=Math.max(a,this.Pa);this.nc=a=Math.min(a,this.kb);this.vc();this.ue(p.Ch)},GP:function(){return this.Pa},XH:function(a){this.ou=this.Pa=a;this.Pa>=this.kb&&(this.kb=this.Pa+1);this.ve(this.nc)},FP:function(){return this.kb},VH:function(a){this.mu=this.kb=a;this.kb<=this.Pa&&(this.Pa=this.kb-1);this.ve(this.nc)},ph:function(a){a=a.P;a=this.getParent().Kb(a);var c=this.Qa();c.La.width+=
this.lb.c().width;c.Cc.x-=this.lb.c().width/2;return p.I(c,a)},am:function(a){a=a.P;a=this.Kb(a);0>a.x?a.x=0:a.x>this.rd.c().width&&(a.x=this.rd.c().width);return a},g1:function(){return this.ou},B7:function(a){this.ou=a},d1:function(){return this.mu},A7:function(a){this.mu=a},jG:function(){return this.lb},N1:function(){return this.jk},G_:function(){return this.rd},EQ:function(a,c,d){return p.vb.prototype.u.call(this)?(this.li(!1),this.Xb(!0),this.rd=a,this.jk=c,this.lb=d,a=p.pd.nC(a.Qa(),d.Qa()),
this.ea(a.width,a.height),this.rd.ja(0.5,0.5),this.rd.J(a.width/2,a.height/2),this.v(this.rd),this.jk.ja(0,0.5),this.jk.J(0,a.height/2),this.v(this.jk),this.lb.J(0,a.height/2),this.v(this.lb),this.Pa=0,this.kb=1,this.ve(this.Pa),!0):!1},Re:function(a){p.vb.prototype.Re.call(this,a);this.lb&&this.lb.ha(a?255:128)},gU:function(a){this.Lo(!0);this.lb.s(p.mo());this.ve(this.hC(a))},iU:function(a){this.ve(this.hC(a))},hU:function(){this.Gn&&this.ve(this.hC(this.lb.f));this.lb.s(p.eb());this.Lo(!1)},J2:function(a){a=
a.P;a=this.Kb(a);0>a.x?a.x=0:a.x>this.rd.c().width+p.eD&&(a.x=this.rd.c().width+p.eD);return a},Mb:function(a){if(!this.ph(a)||!this.isEnabled()||!this.V)return!1;a=this.am(a);this.gU(a);return!0},Tc:function(a){a=this.am(a);this.iU(a)},se:function(){this.hU(p.Bi())},vc:function(){this.lb.pc((this.nc-this.Pa)/(this.kb-this.Pa)*this.rd.c().width);var a=this.jk.MA(),a=p.rect(a.x,a.y,this.lb.f.m,a.height);this.jk.Ab(a,this.jk.sc,a.La)},hC:function(a){a=a.x/this.rd.c().width;return Math.max(Math.min(this.Pa+
a*(this.kb-this.Pa),this.mu),this.ou)}});p.zC.create=function(a,c,d){"string"==typeof a&&(a=p.A.create(a),c=p.A.create(c),d=p.A.create(d));var e=new p.zC;e.EQ(a,c,d);return e};p.BC=p.vb.extend({tc:null,bE:0,jq:!1,Cn:!1,ctor:function(){p.vb.prototype.ctor.call(this)},XA:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.u()?(this.Xb(!0),this.Cn=!0,this.tc=new p.fJ,
this.tc.XA(a,c,d,e,f,g),this.tc.J(this.tc.c().width/2,this.tc.c().height/2),this.v(this.tc),this.li(!1),this.ja(0.5,0.5),this.ea(this.tc.c()),!0):!1},ew:function(a,c){var d=(this.Cn=a)?this.tc.fk:this.tc.nl;c?this.tc.Yv(p.Am.create(0.2,"sliderXPosition",this.tc.bj,d)):this.tc.PB(d);this.ue(p.Ch)},T3:function(){return this.Cn},h3:function(){return this.jq},Re:function(a){this.Mp=a;this.tc.ha(a?255:128)},am:function(a){a=a.P;return a=this.Kb(a)},Mb:function(a){if(!this.ph(a)||!this.isEnabled()||!this.V)return!1;
this.jq=!1;this.bE=this.am(a).x-this.tc.bj;this.tc.lb.s(p.mo());this.tc.vc();return!0},Tc:function(a){a=this.am(a);a=p.a(a.x-this.bE,0);this.jq=!0;this.tc.PB(a.x)},se:function(a){a=this.am(a);this.tc.lb.s(p.eb());this.jq?this.ew(!(a.x<this.tc.c().width/2),!0):this.ew(!this.Cn,!0)},uj:function(a){a=this.am(a);this.tc.lb.s(p.eb());this.jq?this.ew(!(a.x<this.tc.c().width/2),!0):this.ew(!this.Cn,!0)}});p.BC.create=function(a,c,d,e,f,g){var h=new p.BC;return h&&h.XA(a,c,d,e,f,g)?h:null};
p.fJ=p.A.extend({bj:0,fk:0,nl:0,TE:0,Wy:0,Xy:null,lg:null,Yh:null,lb:null,ol:null,ml:null,en:null,Tb:null,vt:null,ctor:function(){p.A.prototype.ctor.call(this);this.Wy=this.nl=this.fk=this.bj=0;this.Xy=p.size(0,0);this.ml=this.ol=this.lb=this.Yh=this.lg=null},XA:function(a,c,d,e,f,g){return p.A.prototype.ya.call(this,a.R())?(this.fk=0,this.nl=-c.c().width+e.c().width/2,this.bj=this.fk,this.FT(c),this.DT(d),this.RB(e),this.ET(f),this.CT(g),this.Tb=a,a=this.Xy=this.Tb.c(),this.Tb.J(0,0),this.en=p.Ua.create(),
this.en.ja(0.5,0.5),this.en.J(a.width/2,a.height/2),this.en.QB(this.Tb),this.vt=p.gb.create(a.width,a.height),this.en.v(this.vt.Va),this.v(this.en),this.v(this.lb),this.vc(),!0):!1},vc:function(){this.lg.J(this.lg.c().width/2+this.bj,this.lg.c().height/2);this.Yh.J(this.lg.c().width+this.Yh.c().width/2+this.bj,this.Yh.c().height/2);this.ol&&this.ol.J(this.lg.f.x-this.lb.c().width/6,this.lg.c().height/2);this.ml&&this.ml.J(this.Yh.f.x+this.lb.c().width/6,this.Yh.c().height/2);this.lb.J(this.lg.c().width+
this.bj,this.Xy.height/2);this.vt.jj();this.lg.$();this.Yh.$();this.ol&&this.ol.$();this.ml&&this.ml.$();this.vt.end()},PB:function(a){a<=this.nl?a=this.nl:a>=this.fk&&(a=this.fk);this.bj=a;this.vc()},m2:function(){return this.bj},c5:function(){return this.lg.c().width},a5:function(){return this.Yh.c().height},cC:function(a,c){p.log("key \x3d "+c+", value \x3d "+a);this.PB(a)},K7:function(a){this.fk=a},x1:function(){return this.fk},H7:function(a){this.nl=a},r1:function(){return this.nl},y7:function(a){this.Tb.ka(a)},
Y0:function(){return this.Tb.R()},w8:function(a){this.TE=a},z2:function(){return this.TE},x7:function(a){this.Wy=a},X0:function(){return this.Wy},FT:function(a){this.lg=a},y1:function(){return this.lg},DT:function(a){this.Yh=a},s1:function(){return this.Yh},RB:function(a){this.lb=a},jG:function(){return this.lb},ET:function(a){this.ol=a},w1:function(){return this.ol},CT:function(a){this.ml=a},q1:function(){return this.ml}});p.uC=0;p.vC=1;p.gs=2;p.To=p.q(55,55,55);p.Mw=p.q(147,147,147);p.tC="CourierNewPSMT";p.jC=0.15;p.UI=12;
p.AC=p.vb.extend({cd:null,Fe:null,ek:null,hk:null,nc:0,yp:!1,Rm:!1,Ll:!1,Pa:0,kb:0,Al:0,Mq:!1,Gl:p.gs,qp:0,ctor:function(){p.vb.prototype.ctor.call(this);this.hk=this.ek=this.Fe=this.cd=null;this.nc=0;this.Ll=this.Rm=this.yp=!1;this.Al=this.kb=this.Pa=0;this.Mq=!1;this.Gl=p.gs;this.qp=0},BQ:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.u()){this.Xb(!0);this.yp=this.Rm=!0;this.Pa=0;this.kb=100;this.nc=0;this.Al=1;this.Ll=!1;this.li(!1);this.zT(a);this.cd.J(a.c().width/2,a.c().height/2);this.v(this.cd);this.yT(p.T.create("-",p.tC,40,p.size(40,40),p.Ei,p.lt));this.ek.s(p.Mw);this.ek.J(this.cd.c().width/2,this.cd.c().height/2);this.cd.v(this.ek);this.IT(c);this.Fe.J(a.c().width+c.c().width/2,a.c().height/2);this.v(this.Fe);this.HT(p.T.create("+",p.tC,40,p.size(40,40),p.Ei,p.lt));this.hk.s(p.To);this.hk.J(this.Fe.c().width/2,
this.Fe.c().height/2);this.Fe.v(this.hk);var d=p.pd.nC(this.cd.Qa(),this.Fe.Qa());this.ea(this.cd.c().width+this.Fe.c().height,d.La.height);return!0}return!1},L8:function(a){if(this.Ll=a)this.ek.s(p.To),this.hk.s(p.To);this.ve(this.nc)},XH:function(a){if(a>=this.kb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.Pa=a;this.ve(this.nc)},VH:function(a){if(a<=this.Pa)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.kb=a;this.ve(this.nc)},ve:function(a){this.UB(a,!0)},mG:function(){return this.nc},p8:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Al=a},F3:function(){return this.yp},UB:function(a,c){a<this.Pa?a=this.Ll?this.kb:this.Pa:a>this.kb&&(a=this.Ll?this.Pa:this.kb);this.nc=a;this.Ll||(this.ek.s(a==this.Pa?p.Mw:p.To),this.hk.s(a==this.kb?p.Mw:p.To));c&&this.ue(p.Ch)},wI:function(){this.qp=-1;this.Qe(this.update,p.jC,p.Sk,3*p.jC)},
yI:function(){this.yh(this.update)},update:function(){this.qp++;this.qp<p.UI&&0!=this.qp%3||(this.Gl==p.uC?this.UB(this.nc-this.Al,this.yp):this.Gl==p.vC&&this.UB(this.nc+this.Al,this.yp))},HI:function(a){a.x<this.cd.c().width&&this.nc>this.Pa?(this.Gl=p.uC,this.cd.s(p.mo()),this.Fe.s(p.eb())):a.x>=this.cd.c().width&&this.nc<this.kb?(this.Gl=p.vC,this.cd.s(p.eb()),this.Fe.s(p.mo())):(this.Gl=p.gs,this.cd.s(p.eb()),this.Fe.s(p.eb()))},Mb:function(a){if(!this.ph(a)||!this.isEnabled()||!this.V)return!1;
a=this.ji(a);this.HI(a);this.Mq=!0;this.Rm&&this.wI();return!0},Tc:function(a){this.ph(a)?(a=this.ji(a),this.HI(a),this.Mq||(this.Mq=!0,this.Rm&&this.wI())):(this.Mq=!1,this.Gl=p.gs,this.cd.s(p.eb()),this.Fe.s(p.eb()),this.Rm&&this.yI())},se:function(a){this.cd.s(p.eb());this.Fe.s(p.eb());this.Rm&&this.yI();this.ph(a)&&(a=this.ji(a),this.ve(this.nc+(a.x<this.cd.c().width?0-this.Al:this.Al)))},zT:function(a){this.cd=a},i1:function(){return this.cd},IT:function(a){this.Fe=a},I1:function(){return this.Fe},
yT:function(a){this.ek=a},h1:function(){return this.ek},HT:function(a){this.hk=a},H1:function(){return this.hk}});p.AC.create=function(a,c){var d=new p.AC;return d&&d.BQ(a,c)?d:null};p.yC=p.vb.extend({lb:null,En:null,Dn:null,nc:0,Pa:0,kb:1,HQ:function(a,c,d){return this.u()?(this.Xb(!0),this.LT(c),this.RB(d),this.lb.J(c.f),this.v(d,2),this.v(c,1),this.v(a),this.ea(a.c()),this.Pa=0,this.kb=1,this.ve(this.Pa),!0):!1},Re:function(a){this.Re(a);this.lb!=NULL&&this.lb.ha(a?255:128)},ve:function(a){a<this.Pa&&(a=this.Pa);a>this.kb&&(a=this.kb);this.nc=a;a=(a-this.Pa)/(this.kb-this.Pa);this.En.Mr(100*a);this.lb.hw(360*a);this.ue(p.Ch)},mG:function(){return this.nc},XH:function(a){this.Pa=
a;this.Pa>=this.kb&&(this.kb=this.Pa+1);this.ve(this.kb)},GP:function(){return this.Pa},VH:function(a){this.kb=a;this.kb<=this.Pa&&(this.Pa=this.kb-1);this.ve(this.Pa)},FP:function(){return this.kb},ph:function(a){a=this.ji(a);return this.YO(this.En.f,a)<Math.min(this.c().width/2,this.c().height/2)},Mb:function(a){if(!this.ph(a)||!this.isEnabled()||!this.V)return!1;this.Dn=this.ji(a);this.QR(this.Dn);return!0},Tc:function(a){a=this.ji(a);this.SR(a)},se:function(){this.RR(p.a(0,0))},YO:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},hO:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},QR:function(){this.Lo(!0);this.lb.s(p.mo())},SR:function(a){var c=this.hO(this.En.f,a,this.En.f,this.Dn);180<c?c-=360:-180>c&&(c+=360);this.ve(this.nc+c/360*(this.kb-this.Pa));this.Dn=a},RR:function(){this.lb.s(p.eb());this.Lo(!1)},RB:function(a){this.lb=a},jG:function(){return this.lb},LT:function(a){this.En=a},O1:function(){return this.En},V7:function(a){this.Dn=
a},MP:function(){return this.Dn}});p.yC.create=function(a,c,d){var e=new p.yC;return e&&(a=p.A.create(a),d=p.A.create(d),c=p.$b.create(p.A.create(c)),e.HQ(a,c,d))?e:null};p.cD=-1;p.Im=0;p.Ws=1;p.Vs=2;p.IO=function(a){var c=p.aa.d();return(c.da+c.la)/2*a/160};p.oK=p.oa.extend({MS:function(){},NS:function(){}});
p.Fh=p.kc.extend({CY:0,mY:0,kY:0,xb:null,Rh:p.Vs,Th:!1,yL:null,Ba:null,tg:!1,ku:null,nu:null,sp:!1,wp:!1,rq:null,Sn:null,Nq:0,ug:null,fh:null,qE:0,oE:0,lq:null,zz:!1,UE:null,ctor:function(){p.kc.prototype.ctor.call(this);this.yL=new p.bg(0,0);this.ku=new p.bg(0,0);this.nu=new p.bg(0,0);this.rq=new p.bg(0,0);this.Sn=new p.bg(0,0);this.ug=[];this.fh=new p.Mj(0,0);this.lq=new p.vf(0,0,0,0);this.UE=new p.vf(0,0,0,0)},u:function(){return this.pr(p.size(200,200),null)},Vv:function(){p.wB(this.qk,!1,this)},
pr:function(a,c){var d=p.a(0,0);return p.kc.prototype.u.call(this)?(this.Ba=c,this.Ba||(this.Ba=p.kc.create(),this.Ba.li(!1),this.Ba.ja(d)),this.kI(a),this.Xb(!0),this.ug.length=0,this.xb=null,this.wp=this.sp=!0,this.Rh=p.Vs,this.Ba.J(d),this.Nq=0,this.v(this.Ba),this.qE=this.oE=1,!0):!1},Fo:function(a,c){if(c)this.$S(a,0.15);else{if(!this.sp){var d=this.zr(),e=this.Kv();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ba.J(a)}},tP:function(){var a=this.Ba.f;return p.a(a.x,
a.y)},$S:function(a,c){var d=p.Ms.create(c,a),e=p.Uo.create(this.DN,this);this.Ba.Yv(p.Ci.create(d,e));this.Qe(this.dz)},qI:function(a,c){if(c)this.YT(a,0.15);else{var d=this.Ba;if(d.JA()!=a){var e,f;0==this.Nq?(f=this.fh,f=p.a(0.5*f.width,0.5*f.height),f=this.Hc(f)):f=this.Sn;e=d.Kb(f);d.Aj(Math.max(this.qE,Math.min(this.oE,a)));e=d.Hc(e);f=p.Uc(f,e);this.Fo(p.mf(d.f,f))}}},oG:function(){return this.Ba.JA()},YT:function(a,c){if(0<c){var d=this.Ba.JA();d!=a&&(d=p.Am.create(c,"zoomScale",d,a),this.Yv(d))}else this.qI(a)},
zr:function(){var a=this.Ba,c=a.c(),d=this.fh;return p.a(d.width-c.width*a.da,d.height-c.height*a.la)},Kv:function(){return p.a(0,0)},S3:function(a){var c=this.tP(),d=this.fh,e=this.oG(),c=p.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return p.cS(c,a.Qa())},pause:function(){this.Ba.Pv();for(var a=this.Ba.p,c=0;c<a.length;c++)a[c].Pv()},wH:function(){for(var a=this.Ba.p,c=0,d=a.length;c<d;c++)a[c].Xv();this.Ba.Xv()},I3:function(){return this.Th},j4:function(){return this.tg},B3:function(){return this.sp},
J6:function(a){this.sp=a},V2:function(){return this.fh},kI:function(a){this.fh=a;p.H.prototype.ea.call(this,a)},$_:function(){return this.Ba},R6:function(a){a&&(this.vh(!0),this.Ba=a,a.li(!1),a.ja(0,0),this.v(a),this.kI(this.fh))},n0:function(){return this.Rh},fT:function(a){this.Rh=a},Lb:function(){return this.xb},Kg:function(a){this.xb=a},Mb:function(a){if(!this.V)return!1;var c=this.Ly(),d=this.Ba,e=d.Hc(d.hh(a)),f=this.ug;if(2<f.length||this.tg||!p.I(c,e))return!1;f.push(a);1===f.length?(this.Sn=
this.hh(a),this.tg=!1,this.Th=!0,this.rq.x=0,this.Nq=this.rq.y=0):2==f.length&&(this.Sn=p.nB(this.hh(f[0]),this.hh(f[1])),this.Nq=p.kB(d.hh(f[0]),d.hh(f[1])),this.Th=!1);return!0},Tc:function(a){if(this.V)if(1===this.ug.length&&this.Th){this.tg=!0;var c=this.Ly(),d=this.hh(a);a=p.Uc(d,this.Sn);var e=0,f=this.Rh,e=f===p.Ws?a.y:f===p.Im?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.tg||!(0.04375>Math.abs(p.IO(e))))if(this.tg||(a.x=0,a.y=0),this.Sn=d,this.tg=!0,p.I(c,this.Hc(d))){switch(f){case p.Ws:a.x=0;
break;case p.Im:a.y=0}d=this.Ba.f;c=d.x+a.x;d=d.y+a.y;this.rq=a;this.Fo(p.a(c,d))}}else 2!==this.ug.length||this.Th||(a=p.kB(this.Ba.hh(this.ug[0]),this.Ba.hh(this.ug[1])),this.qI(this.oG()*a/this.Nq))},se:function(){this.V&&(1==this.ug.length&&this.tg&&this.Qe(this.ly),this.ug.length=0,this.tg=this.Th=!1)},uj:function(){this.V&&(this.ug.length=0,this.tg=this.Th=!1)},ea:function(a,c){null!=this.Ba&&(2===arguments.length?this.Ba.ea(a,c):this.Ba.ea(a),this.xU())},c:function(){return this.Ba.c()},xU:function(){if(null!=
this.Ba){var a=this.fh,c=this.Kv();this.ku.x=c.x+0.2*a.width;this.ku.y=c.y+0.2*a.height;c=this.zr();this.nu.x=c.x-0.2*a.width;this.nu.y=c.y-0.2*a.height}},D3:function(){return this.wp},P6:function(a){this.wp=a},$:function(a){if(this.V){a=a||p.M;var c,d=this.p,e,f;if(p.Vc===p.sf){a.save();this.transform(a);this.FD(a);if(d&&0<d.length){f=d.length;this.kd();for(c=0;c<f;c++)if((e=d[c])&&0>e.Oa)e.$(a);else break;for(this.Ga(a);c<f;c++)d[c].$(a)}else this.Ga(a);this.DD();a.restore()}else{p.to();var g=this.Zj;
g&&g.po()&&(g.pA(),this.Aw());this.transform(a);this.FD(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.Oa)e.$();else break;for(this.Ga(a);c<f;c++)d[c].$()}else this.Ga(a);this.DD(a);g&&g.po()&&g.mA(this);p.so()}}},v:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.Oa;d=d||a.Gc;a.li(!1);a.ja(0,0);this.Ba!=a?this.Ba.v(a,c,d):p.kc.prototype.v.call(this,a,c,d)},Xb:function(a){p.kc.prototype.Xb.call(this,a);a||(this.tg=this.Th=!1,this.ug.length=0)},gY:function(){return null},
FM:function(a){var c=this.zr(),d=this.Kv(),e=this.Rh,f=this.Ba.f,g=f.x,h=f.y;if(e===p.Vs||e===p.Im)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==p.Vs||e==p.Ws)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Fo(p.a(g,h),a)},ly:function(){if(this.Th)this.yh(this.ly);else{var a,c;a=this.Ba.f;var d=this.rq;this.Ba.J(a.x+d.x,a.y+d.y);this.sp?(a=this.ku,c=this.nu):(a=this.Kv(),c=this.zr());var e=this.Ba.f.m,f=this.Ba.f.n;d.x*=0.95;d.y*=0.95;this.Fo(p.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.yh(this.ly),this.FM(!0)}},dz:function(){this.Th&&this.yh(this.dz)},DN:function(){this.yh(this.dz)},FD:function(a){if(this.wp){this.zz=!1;var c=this.Ly(),d=p.aa.d(),e=this.da,f=this.la;a=a||p.M;if(p.Vc===p.sf)c=this.fh.width*e*d.da,d=this.fh.height*f*d.la,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=p.aa.d(),d.TQ()){if(this.zz=!0,this.lq=d.SP(),p.bS(c,this.lq)){var g=this.lq;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.OB(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.OB(c.x,c.y,c.width,c.height)}},DD:function(a){this.wp&&p.Vc===p.Nj&&(this.zz?(a=this.lq,p.aa.d().OB(a.x,a.y,a.width,a.height)):(a=a||p.M,a.disable(a.SCISSOR_TEST)))},eY:function(){},Ly:function(){for(var a=this.Hc(p.Bi()),c=this.fh,d=this.da,e=this.la,f=this.ga;null!=f;f=f.getParent())d*=f.da,e*=f.la;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.UE;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});p.Fh.create=function(a,c){var d=new p.Fh;if(2==arguments.length){if(d&&d.pr(a,c))return d}else if(d&&d.u())return d;return null};p.pK=p.oa.extend({dw:function(){},nh:function(){return 0}});p.qK=p.pK.extend({Zy:0,ctor:function(){this.Zy=0},dw:function(a){this.Zy=a},nh:function(){return this.Zy}});function ia(a,c){return a.nh()-c.nh()}
p.Iw=p.oa.extend({pg:null,ctor:function(){this.pg=[]},EG:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.KQ(a,this.oo(a))},vS:function(a){if(0!=this.count()){var c=this.oo(a);c<this.count()&&c!=p.Eh&&this.dm(c).nh()==a.nh()&&this.zB(c)}},G7:function(a,c){var d=this.oo(c);if(d<this.count()&&d!=p.Eh){var e=this.dm(d);e.nh()==c.nh()&&(this.zB(d),e.dw(a),this.EG(e))}},VG:function(a){if(0==this.count())return null;var c=new p.qK;c.dw(a);var d=
this.oo(c);d<this.count()&&d!=p.Eh&&(c=this.dm(d),c.nh()!=a&&(c=null));return c},p1:function(){return null},oo:function(a){var c=0;if(a){var d=0;a=a.nh();for(var e=this.pg,f=0;f<e.length;f++){var g=e[f].nh();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=p.Eh;return c},count:function(){return this.pg.length},w4:function(){var a=this.pg;return 0==a.length?null:a[a.length-1]},dm:function(a){return this.pg[a]},rF:function(a){this.pg.push(a);this.pg.sort(ia)},zB:function(a){p.So(this.pg,a);this.pg.sort(ia)},
KQ:function(a,c){this.pg=p.Mk(this.pg,a,c);this.pg.sort(ia)}});p.gD=0;p.sK=1;p.mX=p.H.extend({Ui:0,H0:function(){return this.Ui},rT:function(a){this.Ui=a},reset:function(){this.Ui=p.Eh},dw:function(a){this.Ui=a},nh:function(){return this.Ui}});p.oX=p.oK.extend({m9:function(){},l9:function(){},n9:function(){},o9:function(){}});p.nX=p.oa.extend({oU:function(a){return this.tO(a)},tO:function(){return p.lK},k9:function(){return null},X4:function(){return 0}});
p.pD=p.Fh.extend({Un:null,Oc:null,$m:null,ky:null,Tz:null,ru:null,zt:null,ej:null,ctor:function(){p.Fh.prototype.ctor.call(this);this.ru=p.cD;this.zt=[]},LK:function(a){var c=0,d=-1;switch(this.Rh){case p.Im:a=a.x;break;default:a=a.y}for(var e=this.zt;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},RL:function(a){a={x:a.x,y:a.y};this.Un===p.gD&&(a.y=this.Ba.c().height-a.y);a=this.LK(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=p.Eh));return a},OK:function(a){switch(this.Rh){case p.Im:a=
p.a(this.zt[a],0);break;default:a=p.a(0,this.zt[a])}return a},uM:function(a){var c=this.OK(a);a=this.ky.oU(this,a);this.Un===p.gD&&(c.y=this.Ba.c().height-c.y-a.height);return c},zY:function(){},Xz:function(){var a=p.Tk();this.ea(a);this.ru!=this.Rh&&(this.Rh==p.Im?this.Fo(p.a(0,0)):this.Fo(p.a(0,this.zr().y)),this.ru=this.Rh)},rE:function(a){this.$m.rF(a);this.Tj.vS(a);p.md(this.Oc,a.Ui);a.reset();a.getParent()==this.Ba&&this.Ba.removeChild(a,!0)},Cu:function(a,c){c.ja(0,0);c.J(this.uM(a));c.rT(a)},
BD:function(a){a.getParent()!=this.Ba&&this.Ba.v(a);this.Tj.EG(a);var c=this.Oc;a=a.Ui;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},f0:function(){return this.ky},dT:function(a){this.ky=a},Lb:function(){return this.Tz},Kg:function(a){this.Tz=a},I8:function(a){this.Un!=a&&(this.Un=a,0<this.Tj.count()&&this.kS())},S2:function(){return this.Un},pr:function(a,c){return p.Fh.prototype.pr.call(this,a,c)?(this.Tj=new p.Iw,this.$m=new p.Iw,this.Oc=[],this.Tz=null,this.Un=p.sK,this.fT(p.Ws),
p.Fh.prototype.Kg.call(this,this),!0):!1},C9:function(a){if(!(a==p.Eh||-1<a)){var c=this.tA(a);c&&this.rE(c);c=null;this.Cu(a,c);this.BD(c)}},u3:function(a){if(!(a==p.Eh||-1<a)){var c,d=this.Tj;if(c=d.VG(a))for(var e=c=d.oo(c);e<d.count();e++)c=d.dm(e),this.Cu(c.Ui+1,c);c=null;this.Cu(a,c);this.BD(c);this.Xz()}},e6:function(a){if(!(a==p.Eh||-1<a)){var c=this.tA(a);if(c){var d=this.Tj,e=d.oo(c);this.rE(c);p.md(this.Oc,a);for(a=d.count()-1;a>e;a--)c=d.dm(a),this.Cu(c.Ui-1,c)}}},kS:function(){this.ru=
p.cD;for(var a=this.Tj,c=this.$m,d=this.Ba,e=0,f=a.count();e<f;e++){var g=a.dm(e);c.rF(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Oc=[];this.Tj=new p.Iw;this.Xz()},LZ:function(){if(0===this.$m.count())return null;var a=this.$m.dm(0);this.$m.zB(0);return a},tA:function(a){return-1==this.Oc.indexOf(a)?null:this.Tj.VG(a)},MS:function(){},NS:function(){},se:function(a,c){if(this.V){if(this.ej){var d=this.Qa();d.Cc=this.ga.Hc(d.origin);this.ej=null}p.Fh.prototype.se.call(this,a,c)}},Mb:function(a,
c){if(!this.V)return!1;var d=p.Fh.prototype.Mb.call(this,a,c);if(1===this.ug.length){var e;e=this.Ba.hh(a);e=this.RL(e);this.ej=e===p.Eh?null:this.tA(e)}else this.ej&&(this.ej=null);return d},Tc:function(a,c){p.Fh.prototype.Tc.call(this,a,c);this.ej&&this.tg&&(this.ej=null)},uj:function(a,c){p.Fh.prototype.uj.call(this,a,c);this.ej&&(this.ej=null)}});p.pD.create=function(a,c,d){var e=new p.pD;e.pr(c,d);e.dT(a);e.Xz();return e};p.Nb={};p.Nb.pF=function(a){for(var c in p.Nb.gB)a[c]=p.Nb.gB[c]};
p.Nb.gB={J:function(a,c){2==arguments.length?(this.f.m=a,this.f.n=c):(this.f.m=a.x,this.f.n=a.y);this.Ha();this.W.bC(this.f.m,-this.f.n)},Jo:function(a){this.f.n=a;this.Ha();this.W.bC(this.f.m,-this.f.n)},pc:function(a){this.f.m=a;this.Ha();this.W.bC(this.f.m,-this.f.n)},Aj:function(a,c){this.da=a;this.la=c||a;this.Ha();this.W.resize(this.da,this.la)},Ko:function(a){this.da=a;this.Ha();this.W.resize(this.da,this.la)},tm:function(a){this.la=a;this.Ha();this.W.resize(this.da,this.la)},ja:function(a,
c){var d=this.Be;if(2===arguments.length){if(a===d.m&&c===d.n)return;d.m=a;d.n=c}else{if(a.x===d.m&&a.y===d.n)return;d.m=a.x;d.n=a.y}var e=this.ad,f=this.ca;e.m=f.sa*d.m;e.n=f.ba*d.n;this.W.style[p.rb.Co+"TransformOrigin"]=""+e.m+"px "+-e.n+"px";this.bk?(this.W.style.marginLeft=0,this.W.style.marginBottom=0):(this.W.style.marginLeft=this.h4?0:-e.m+"px",this.W.style.marginBottom=-e.n+"px");this.Ha()},ea:function(a,c){var d=this.ca;if(2===arguments.length){if(a===d.sa&&c===d.ba)return;d.sa=a;d.ba=c}else{if(a.width===
d.sa&&a.height===d.ba)return;d.sa=a.width;d.ba=a.height}var e=this.ad,f=this.Be;e.m=d.sa*f.m;e.n=d.ba*f.n;this.W.width=d.sa;this.W.height=d.ba;this.ja(this.Be);this.canvas&&(this.canvas.width=d.sa,this.canvas.height=d.ba);this.Ha();this.dS()},hw:function(a){this.UM!=a&&(this.Hf=this.Yg=a,this.tl=Math.PI/180*this.Hf,this.qq=Math.PI/180*this.Yg,this.Ha(),this.W.rotate(a))},lw:function(a){this.Bd=a;this.Ha();this.W.dI(this.Bd,this.Cd)},mw:function(a){this.Cd=a;this.Ha();this.W.dI(this.Bd,this.Cd)},F:function(a){this.V=
a;this.Ha();this.W&&(this.W.style.display=a?"block":"none")},Fu:function(a){this.Oa=a;this.Ha();this.W&&(this.W.zIndex=a)},Lr:function(a){this.ga=a;null!==a&&(a.ja(a.Be),this.Ha(),p.Nb.Ov(this))},Xv:function(){this.Oe().pm(this);this.Nf().pm(this);this.W&&!this.W.parentNode&&(this.getParent()?p.Nb.Ov(this):this.W.Ql(p.lj));this.W&&(this.W.style.visibility="visible")},Pv:function(){this.Oe().Er(this);this.Nf().Er(this);this.W&&(this.W.style.visibility="hidden")},hf:function(){this.XB();this.Tr();this.yf(this.p,
p.H.We.hf);this.W&&this.W.remove()},rS:function(){this.W.remove()},ha:function(a){this.Zh=a;this.W.style.opacity=a/255},dS:function(){if(this.rr){var a=this.p;this.p=[];p.A.prototype.$.call(this,this.ao);this.p=a}else p.A.prototype.$.call(this,this.ao)}};
p.Nb.QM=function(){var a=p.rb("#EGLViewDiv");if(a){var c=p.aa.d(),d=c.io(),e=c.qe,f=c.wv(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.La.width;0===e.La.width&&0===e.La.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.da,c.la);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
p.Nb.Ov=function(a){var c=a.getParent();if(c&&a.W)if(c.W||(p.Nb.LR(c),c.Lr=p.Nb.gB.Lr),a.W.Ql(c.W),c.ja(c.Be),c.getParent())p.Nb.Ov(c);else if(c.je)if(a=p.rb("#EGLViewDiv"))c.W.Ql(a);else{a=p.Gj("div");a.id="EGLViewDiv";var d=p.aa.d(),e=d.io(),f=d.qe,g=d.wv(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.La.width;0===f.La.width&&0===f.La.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.da,d.la);a.style.left=
(e-h)/2+"px";a.style.bottom="0px";c.W.Ql(a);a.Ql(p.lj)}};p.Nb.setTransform=function(a){if(a.ao)if(a.ao.translate(a.ad.x,a.ad.y),a.rr){var c=a.p;a.p=[];p.A.prototype.$.call(a,a.ao);a.p=c}else p.A.prototype.$.call(a,a.ao);a.W&&(a.W.position.x=a.f.x,a.W.position.y=-a.f.y,a.W.rotation=a.PP(),a.W.scale={x:a.da,y:a.la},a.W.Gk={x:a.Bd,y:a.Cd},a.ja&&a.ja(a.Be),a.W.xm())};
p.Nb.nP=function(a){a.W=p.Gj("div");a.canvas=p.Gj("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.W.style.position="absolute";a.W.style.bottom=0;a.ao=a.canvas.getContext("2d");a.W.appendChild(a.canvas);a.getParent()&&p.Nb.Ov(a);a.rr=!0};
p.Nb.LR=function(a){a.W=p.Gj("div");a.placeholder=!0;a.W.style.position="absolute";a.W.style.bottom=0;a.W.style.width=(a.c().width||p.N.d().ub.width)+"px";a.W.style.maxHeight=(a.c().height||p.N.d().ub.height)+"px";a.W.style.margin=0;p.Nb.setTransform(a);a.W.xm();p.Nb.pF(a)};
p.Nb.xA=function(a){if(1<arguments.length)p.Nb.xA(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof p.A?c[d].W||p.Nb.nP(c[d]):p.log("DOM converter only supports sprite and menuitems yet"),p.Nb.pF(c[d]),c[d].$=function(){},c[d].transform=function(){},p.Nb.setTransform(c[d]),c[d].F(c[d].V);else p.Nb.xA([arguments[0]])};p.DJ=0;p.$V=1;p.cW=2;p.bW=3;p.aW=4;p.sJ=0;p.EV=1;p.FV=2;p.GV=3;p.IV=4;p.DV=5;p.HV=6;p.qJ=0;p.rJ=1;p.CV=2;p.BV=3;p.AV=4;p.LV=p.oa.extend({pv:function(){},qv:function(){},rv:function(){},YZ:function(){}});
p.Yo=p.Pk.extend({Sh:null,xb:null,GL:p.sJ,FL:p.rJ,hM:p.DJ,vY:"",ai:"",Ou:null,mq:null,mE:50,YK:18,Ka:null,Jp:14,xy:"Arial",Nt:!1,ez:"",uu:14,wY:!1,ctor:function(a,c){p.Pk.prototype.ctor.call(this);this.Nt=!1;this.Ou=p.eb();this.mq=p.mo();this.ea(a);this.Sh=new p.A;this.Sh.Ga=function(){};this.v(this.Sh);var d=this;c?(this.Ka=document.createElement("textarea"),this.Ka.style.resize="none",this.Nt=!0):this.Ka=document.createElement("input");this.Ka.type="text";this.Ka.style.fontSize=this.Jp+"px";this.Ka.style.color=
"#000000";this.Ka.style.border=0;this.Ka.style.background="transparent";this.Ka.style.width="100%";this.Ka.style.height="100%";this.Ka.style.DY=0;this.Ka.style.outline="medium";this.Ka.addEventListener("input",function(){d.xb&&d.xb.rv&&d.xb.rv(d,this.value)});this.Ka.addEventListener("keyup",function(a){console.log(this.Nt);a.keyCode===p.CJ.jP&&!1==d.Nt&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.Ka.addEventListener("focus",function(){this.value==d.ai&&(this.value="",this.style.fontSize=
d.Jp+"px",this.style.color=p.tk(d.Ou));d.xb&&d.xb.pv&&d.xb.pv(d)});this.Ka.addEventListener("blur",function(){""==this.value&&(this.value=d.ai,this.style.fontSize=d.uu+"px",this.style.color=p.tk(d.mq));d.xb&&d.xb.qv&&d.xb.qv(d)});p.Nb.xA(this.Sh);this.Sh.W.appendChild(this.Ka);this.Sh.W.O8=!1;this.Sh.W.style.width=a.width-6+"px";this.Sh.W.style.height=a.height-6+"px";this.Sh.canvas.remove()},e7:function(a,c){this.Jp=c;this.xy=a;this.Cz()},J8:function(){},oT:function(a){this.xy=a;this.Cz()},PH:function(a){this.Jp=
a;this.Cz()},Cz:function(){this.Ka.value!=this.ai&&(this.Ka.style.fontFamily=this.xy,this.Ka.style.fontSize=this.Jp+"px")},Cj:function(a){null!=a&&(""==a?(this.Ka.value=this.ai,this.Ka.style.color=p.tk(this.mq)):(this.Ka.value=a,this.Ka.style.color=p.tk(this.Ou)))},nT:function(a){this.Ou=a;this.Ka.value!=this.ai&&(this.Ka.style.color=p.tk(a))},z7:function(a){!isNaN(a)&&0<a&&(this.mE=a,this.Ka.maxLength=a)},Z0:function(){return this.mE},P7:function(a){if(null!=a){var c=this.ai;this.ai=a;this.Ka.value==
c&&(this.Ka.value=a,this.Ka.style.color=p.tk(this.mq),this.Du())}},Q7:function(a,c){this.ez=a;this.uu=c;this.Du()},S7:function(a){this.ez=a;this.Du()},T7:function(a){this.uu=a;this.Du()},Du:function(){this.Ka.value==this.ai&&(this.Ka.style.fontFamily=this.ez,this.Ka.style.fontSize=this.uu+"px")},R7:function(a){this.mq=a;this.Ka.value==this.ai&&(this.Ka.style.color=p.tk(a))},m7:function(a){this.FL=a;this.Ka.type=a==p.qJ?"password":"text"},Ma:function(){return this.Ka.value},DQ:function(a,c){return this.wG(c)?
(this.Sh.J(3,3),this.XT(!1),this.zj(a),this.J(0,0),this.CD(this,this.qU,p.qC),!0):!1},Kg:function(a){this.xb=a},G1:function(){return this.ai},n7:function(a){this.GL=a},h8:function(a){this.hM=a},q4:function(a){var c=p.Yo.Md(this);c.y-=4;c.y3(a.end)?this.YK=a.end.c1()-c.f1():p.log("needn't to adjust view layout.")},o4:function(){},p4:function(){},n4:function(){},qU:function(){},wA:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},DS:function(a,c,d){return"#"+this.wA(a)+this.wA(c)+this.wA(d)},
EH:function(a){this.Ka.style.background=this.DS(a.l,a.k,a.g)},p3:function(a,c){this.EL=a.width;this.W.style.width=this.EL.toString()+"px";this.DL=a.height;this.W.style.height=this.DL.toString()+"px";this.W.style.backgroundColor=p.tk(c)}});p.Yo.Md=function(a){var c=a.c(),c=p.rect(0,0,c.width,c.height);return p.cg(c,a.Br())};p.Yo.create=function(a,c,d,e,f){d=new p.Yo(a,d);c instanceof p.Zb?d.EH(c):d.DQ(a,c)&&(e&&d.cw(e,p.sC),f&&d.cw(f,p.rC));return d};var y=[],la=new XMLHttpRequest;la.open("GET","config.txt",!1);la.send(null);var ra=la.responseText,sa=ra.split("\n")[0],ta=ra.split("\n")[1];ta&&(sa+=":"+ta);var ua=io.connect(sa,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});ua.on("connect",function(){z.Sw();z.rK();console.log("Client has connected to the server!");var a=C.d().Ic;a?a.um(!0):y.push(JSON.stringify({connect:!0}))});ua.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&z.II(a.mapdata,a.maptime),a.warpdata&&z.dC(a.warpdata,a.warptime),a.itemdata&&z.Vr(a.itemdata,a.itemtime);else if(c=C.d().Ic)if(a.connect?c.um(!0):a.disconnect&&c.um(!1),"Game"==c.lh())if(a.newPlayer)D.cO(a.newPlayer);else if(a.playerLeft)D.GF(a.playerLeft);else if(a.changemap){for(c=0;c<y.length;c++)d=JSON.parse(y[c]),d.moveTo&&d.id==
a.id&&(console.log("REMOVIN"),y.splice(c,1),c--);D.wO(a.id,a.changemap);D.gH(a.id,a.setTo)}else a.setTo?!D.oj(a.id)||D.oj(a.id)&&!1==D.oj(a.id).sj?D.gH(a.id,a.setTo):y.push(JSON.stringify(a)):a.moveTo?!D.oj(a.id)||D.oj(a.id)&&!1==D.oj(a.id).sj?D.jR(a.id,a.moveTo):y.push(JSON.stringify(a)):a.chatMessage?E.Jb(a.chatMessage):a.coinflip?E.Jb(a.coinflip):a.diceroll?E.Jb(a.diceroll):a.dance?E.Jb(a.dance):a.afk?D.xO(a.afk):a.savemap?(z.vO(a.savemap,a.mapdata,a.updatetime),G.$T(a.mapdata)):a.savewarps?(z.zO(parseInt(a.savewarps),
a.warpdata,a.updatetime),ObjectLists.e.vi[parseInt(a.savewarps)]=a.warpdata,H&&(H.Gd=ObjectLists.e.vi,H.oc())):a.savewarpswhole?(z.fS(a.savewarpswhole,a.updatetime),ObjectLists.WT(a.savewarpswhole)):a.saveitems?(z.uO(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.e.Sf[parseInt(a.saveitems)].name,ObjectLists.e.Sf[parseInt(a.saveitems)]=a.itemdata,G.pG(G.e.Ed),I&&(I.Gd=ObjectLists.e.Sf,I.oc()),J&&J.zh(),D.e.ta.Vr(c,a.itemdata)):a.droppeditem?a.mapnumber==G.e.Ed&&(c=G.kG(a.index),c.bO(a.droppeditem),
G.Wr()):a.pickupitem?a.mapnumber==G.e.Ed&&(c=G.kG(a.pickupitem),c.pB(),G.Wr()):a.saveitemswhole&&(z.eS(a.saveitemswhole,a.updatetime),ObjectLists.sT(a.saveitemswhole));else"Login"==c.lh()&&(a.login_success?c.oR():a.login_fail&&c.jB(a.login_fail));else y.push(JSON.stringify(a))};ua.on("disconnect",function(){console.log("The client has disconnected!");var a=C.d().Ic;a?a.um(!1):y.push(JSON.stringify({disconnect:!0}))});function K(a){ua.send(JSON.stringify(a))};var N=Object.freeze({Jc:{EF:"C to popup/dismiss, enter for chat. Say /help for help.",NQ:"Welcome to the Powder Engine! Enter /help for some help.",vQ:"-------HELP------",uQ:" - Press C to expand the chat, I for Inventory",tQ:" - Space to grab Items and E for Equipment.",sQ:" - Enter /commands for command list",rQ:"-------------------",FO:"--COMMANDS--",EO:" - /editmap, /editwarp, /dance, ",DO:" - /coinflip, /diceroll, /afk,",CO:"--------------------",qB:" has joined the game!",MR:" has left the game!",
dH:"Picked up ",eP:"Dropped ",OQ:"Your inventory is full"}});var O={},xa=p.Zc.d();p.yi.d();xa.cI(["res/Graphics"]);la=new XMLHttpRequest;la.open("GET","res/Graphics/tile_graphics.txt",!1);la.send(null);var ra=la.responseText,ya=ra.split(","),Q=[],za;for(za in ya)Q.push({name:ya[za],texture:p.Db.d().Le(ya[za])});document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();O[a.keyCode]=!0};window.onbeforeunload=function(){K({disconnect:!0})};
window.onfocus=function(){for(var a=[],c=y.length-1;0<=c;c--){var d=JSON.parse(y[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,y[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&y.splice(c,1)}};
document.getElementById("gameCanvas").onkeyup=function(a){O[a.keyCode]=!1;if(null!=C.d().Ic){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&C.d().Ic.Lv(c)}};function Aa(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?Aa(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ba(a,c){var d=c?a:a.mh();return Ca(d,"panels")}
function Ca(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.SQ?d=Da.Sw(c.pU):"undefined"!=typeof c.t?(d=c.size?c.size:p.size(100,100),d=p.Ob.create(c.t,d.width,d.height)):d="undefined"!=typeof c.rr?p.A.create():"undefined"!=typeof c.vw?p.A.Dd(p.Db.d().Le(c.vw)):"undefined"!=typeof c.label?p.T.create(c.label,c.font?c.t_:"Arial",c.fontSize?c.fontSize:14):p.H.create();"undefined"!=typeof c.size&&d.ea(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.J(p.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.F(c.visible);"undefined"!=typeof c.h&&d.ja(c.h);"undefined"!=typeof c.opacity&&d.ha(c.opacity);"undefined"!=typeof c.color&&d.s(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ca(a,e,c.children),d.v(d[e]);return d}var R=p.size(960,640),Ha=Math.floor(R.height/32),S=Math.floor(R.width/32);function T(a,c){return parseInt(S*(Ha-c))+parseInt(a)}
function Ia(a,c){var d={},e;for(e in a)d[e]=Aa(a[e]);for(e in c)d[e]=Aa(c[e]);return d};var z=p.oa.extend({e:null,Ag:function(a){return(a=u.localStorage.getItem("last_"+a))?a:null},MB:function(a,c){return(c=u.localStorage.setItem("last_"+a,c))?c:null}});z.Sw=function(){this.e||(this.e=new z);return this.e};z.d=function(){return this.e};z.BP=function(a){if(this.e.Ag("maps")){if(a){var c=JSON.parse(u.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else K({requestmaps:!0})};z.II=function(a,c){this.e.MB("maps",c);u.localStorage.setItem("map_data",JSON.stringify(a))};
z.vO=function(a,c,d){var e=this.e.Ag("maps")?JSON.parse(u.localStorage.getItem("map_data")):[];e[a]=c;z.II(e,d)};z.aQ=function(){if(this.e.Ag("warps")){var a=JSON.parse(u.localStorage.getItem("warps_data"));return a?a:null}K({requestwarps:!0})};z.dC=function(a,c){this.e.MB("warps",c);u.localStorage.setItem("warps_data",JSON.stringify(a))};z.zO=function(a,c,d){var e=this.e.Ag("warps")?JSON.parse(u.localStorage.getItem("warps_data")):[];e[a]=c;z.dC(e,d)};
z.fS=function(a,c){warparray=a;z.dC(warparray,c)};z.zP=function(){if(this.e.Ag("items")){var a=JSON.parse(u.localStorage.getItem("items_data"));return a?a:null}K({requestitems:!0})};z.Vr=function(a,c){this.e.MB("items",c);u.localStorage.setItem("items_data",JSON.stringify(a))};z.uO=function(a,c,d){var e=this.e.Ag("items")?JSON.parse(u.localStorage.getItem("items_data")):[];e[a]=c;z.Vr(e,d)};z.eS=function(a,c){itemsarray=a;z.Vr(itemsarray,c)};
z.kV=function(){u.localStorage.setItem("map_data",[]);u.localStorage.setItem("last_maps",0);u.localStorage.setItem("warps_data",[]);u.localStorage.setItem("last_warps",0);u.localStorage.setItem("items_data",[]);u.localStorage.setItem("last_items",0)};z.rK=function(){K({sync:!0,mapupdate:null!=this.e.Ag("maps")?this.e.Ag("maps"):2,warpupdate:null!=this.e.Ag("warps")?this.e.Ag("warps"):2,itemupdate:null!=this.e.Ag("items")?this.e.Ag("items"):2})};
z.vT=function(a){!0!=a&&!1!=a||u.localStorage.setItem("mapedit_saveonexit",a)};z.CP=function(){return null==u.localStorage.getItem("mapedit_saveonexit")?!1:u.localStorage.getItem("mapedit_saveonexit")};var Da=p.H.extend({Od:null,Pd:null,Qd:null,Ud:null,Vd:null,hd:null,item:null,Hd:null,Id:null,Kd:null,Jd:null,position:null,Ue:null,type:null,zb:null,ctor:function(){this._super()},u:function(){this._super();this.Ue=p.T.create("","Arial",16);this.Ue.ja(0.5,0.5);this.Ue.J(16,-16);this.Ue.ha(0);this.Ue.s(p.q(0,0,0));this.v(this.Ue,900);this.item=[];this.zb=[];this.si(0)},bO:function(a){this.yj(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.e.Sf.length;c++)if(a.name==ObjectLists.e.Sf[c].name){this.kw({id:c,
data:{amount:a.amount}},!0);break}this.si(4)},pB:function(){this.zb[this.zb.length-1].temp&&(this.item[this.item.length-1].Y(),this.item.splice(this.item.length-1,1),this.OR())},yj:function(a,c,d){a=p.A.Dd(p.Db.d().Le(a));a.Ab(p.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.s(p.i(255,255,255,255));a.ja(0,1);switch(d){case "ground1":null!=this.Od&&this.Od.Y();this.Od=a;this.v(this.Od);break;case "ground2":null!=this.Pd&&this.Pd.Y();this.Pd=a;this.v(this.Pd,1);break;case "groundShadow":null!=
this.Qd&&this.Qd.Y();this.Qd=a;this.v(this.Qd,2);break;case "mask1":null!=this.Ud&&this.Ud.Y();this.Ud=a;this.v(this.Ud,3);break;case "mask2":null!=this.Vd&&this.Vd.Y();this.Vd=a;this.v(this.Vd,4);break;case "mask3":null!=this.hd&&this.hd.Y();this.hd=a;this.v(this.hd,5);break;case "item":this.item.push(a);this.v(this.item[this.item.length-1],6);break;case "fringe1":null!=this.Hd&&this.Hd.Y();this.Hd=a;this.v(this.Hd,7);break;case "fringe2":null!=this.Id&&this.Id.Y();this.Id=a;this.v(this.Id,8);break;
case "fringeShadow":null!=this.Kd&&this.Kd.Y();this.Kd=a;this.v(this.Kd,9);break;case "fringe3":null!=this.Jd&&this.Jd.Y(),this.Jd=a,this.v(this.Jd,10)}},Rf:function(){var a=!0;if(null!=this.Od&&this.Od.R()&&!1==this.Od.R().ec)a=!1;else if(null!=this.Pd&&this.Pd.R()&&!1==this.Pd.R().ec)a=!1;else if(null!=this.Qd&&this.Qd.R()&&!1==this.Qd.A2)a=!1;else if(null!=this.Ud&&this.Ud.R()&&!1==this.Ud.R().ec)a=!1;else if(null!=this.Vd&&this.Vd.R()&&!1==this.Vd.R().ec)a=!1;else if(null!=this.hd&&this.hd.R()&&
!1==this.hd.R().ec)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].R()&&!1==this.item[c].R().ec&&(a=!1);else null!=this.Hd&&this.Hd.R()&&!1==this.Hd.R().ec?a=!1:null!=this.Id&&this.Id.R()&&!1==this.Id.R().ec?a=!1:null!=this.Kd&&this.Kd.R()&&!1==this.Kd.R().ec?a=!1:null!=this.Jd&&this.Jd.R()&&!1==this.Jd.R().ec&&(a=!1);return a},fd:function(){null!=this.Od&&this.Od.Y();this.Od=null;null!=this.Pd&&this.Pd.Y();this.Pd=null;null!=this.Qd&&this.Qd.Y();this.Qd=null;null!=this.Ud&&this.Ud.Y();
this.Ud=null;null!=this.Vd&&this.Vd.Y();this.Vd=null;null!=this.hd&&this.hd.Y();this.hd=null;for(var a=0;a<this.item.length;a++)this.item[a].Y();this.item=[];this.hd=null;null!=this.Hd&&this.Hd.Y();this.Hd=null;null!=this.Id&&this.Id.Y();this.Id=null;null!=this.Kd&&this.Kd.Y();this.Kd=null;null!=this.Jd&&this.Jd.Y();this.Jd=null;this.si(0);this.zb=[];this.item=[]},AA:function(a){switch(a){case "ground1":null!=this.Od&&this.Od.Y();this.Od=null;break;case "ground2":null!=this.Pd&&this.Pd.Y();this.Pd=
null;break;case "groundShadow":null!=this.Qd&&this.Qd.Y();this.Qd=null;break;case "mask1":null!=this.Ud&&this.Ud.Y();this.Ud=null;break;case "mask2":null!=this.Vd&&this.Vd.Y();this.Vd=null;break;case "mask3":null!=this.hd&&this.hd.Y();this.hd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].Y(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.Hd&&this.Hd.Y();this.Hd=null;break;case "fringe2":null!=this.Id&&this.Id.Y();this.Id=null;break;case "fringeShadow":null!=
this.Kd&&this.Kd.Y();this.Kd=null;break;case "fringe3":null!=this.Jd&&this.Jd.Y(),this.Jd=null}},si:function(a){this.type=a;switch(this.type){case 0:this.Ue.na("");break;case 1:this.Ue.na("BLK");break;case 2:this.Ue.na("SPW");break;case 3:this.Ue.na("WRP");break;case 4:this.Ue.na("ITM");break;case 5:this.Ue.na("SCR");break;case 6:this.Ue.na("SKL")}},kw:function(a,c){c||(c=!1);this.zb.push({num:a.id,data:a.data,temp:c})},OR:function(){this.zb.splice(this.zb.length-1,1);0==this.zb.length&&this.si(0)},
eG:function(){return this.zb[this.zb.length-1]},TP:function(){switch(this.type){case 3:return ObjectLists.e.vi[this.zb[this.zb.length-1].num];case 4:var a=ObjectLists.e.Sf[this.zb[this.zb.length-1].num];a.amount=parseInt(this.zb[this.zb.length-1].data.amount);return a}},Wl:function(){switch(this.type){case 3:return ObjectLists.e.vi[this.zb[this.zb.length-1].num]?ObjectLists.e.vi[this.zb[this.zb.length-1].num]:null;case 4:return ObjectLists.e.Sf[this.zb[this.zb.length-1].num]?ObjectLists.e.Sf[this.zb[this.zb.length-
1].num]:null}},OT:function(a){this.Ue.ha(!0==a?255:0)},ki:function(){return this.type}});Da.Sw=function(a,c){var d=new Da;d.u();d.position=p.a(a,c);return d};StatsController=p.A.extend({data:null,Iv:null,bb:null,u:function(a,c){this.data=a;this.bb=c;this.KS()},update:function(){for(var a in this.data)this.Iv&&(0==this.data[a].value&&0<this.Iv[a]&&this.bb.R8(a),this.data[a].uc>this.Iv[a].uc&&this.bb.T8(a)),this.Iv[a]=this.data[a]},s2:function(a){return this.data[a].value},r2:function(a){return this.data[a].uc},K4:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Gg&&(this.data[a].value=this.data[a].Gg);0>this.data[a].value&&(this.data[a].value=
0)},yO:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Gg&&(this.data[a].value=this.data[a].Gg);0>this.data[a].value&&(this.data[a].value=0)},J4:function(a,c){this.data[a].uc+=c;this.data[a].uc>this.data[a].Fg&&(this.data[a].uc=this.data[a].Fg);0>this.data[a].uc&&(this.data[a].uc=0)},yO:function(a,c){this.data[a].uc=c;this.data[a].uc>this.data[a].Fg&&(this.data[a].uc=this.data[a].Fg);0>this.data[a].uc&&(this.data[a].uc=0)},uZ:function(a,c){this.data[a].Fg=c},vZ:function(a,c){this.data[a].Gg=
c}});ObjectLists=p.oa.extend({vi:null,Sf:null});ObjectLists.d=function(){this.e||(this.e=new ObjectLists,this.e.vi=z.aQ(),this.e.Sf=z.zP());return this.e};ObjectLists.W2=function(){return this.e.vi};ObjectLists.WT=function(a){this.e.vi=a};ObjectLists.N0=function(){return this.e.Sf};ObjectLists.sT=function(a){this.e.Sf=a};var G=p.kc.extend({e:null,ld:null,D:null,Yl:!1,ym:null,hm:null,rB:null,Xl:null,pi:null,ni:null,oi:null,qh:null,Ed:1,SF:function(a,c){function d(a,c){return{gK:a,value:c.x+c.y*S,x:c.x,y:c.y,uv:0,k:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.D["tile"+T(a,d)]&&1!=f.D["tile"+T(a,d)].ki();myS=e<S&&f.D["tile"+T(a,e)]&&1!=f.D["tile"+T(a,e)].ki();myE=g<S&&f.D["tile"+T(g,c)]&&1!=f.D["tile"+T(g,c)].ki();myW=-1<h&&f.D["tile"+T(h,c)]&&1!=f.D["tile"+T(h,c)].ki();result=[];k&&result.push({x:a,y:d});
myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],q=[],t=[d(null,a)],v=Array(Ha*S);h=t.length;){k=Ha*S;l=-1;for(m=0;m<h;m++)t[m].uv<k&&(k=t[m].uv,l=m);k=t.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do r.push(p.a(l.x,l.y));while(l=l.gK);v=q=t=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=h.length;m<n;m++)l=d(k,h[m]),v[l.value]||(l.k=k.k+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.uv=l.k+(Math.abs(h[m].x-
g.x)+Math.abs(h[m].y-g.y)),t.push(l),v[l.value]=!0);q.push(k)}}return r},ZT:function(a){this.ld={};this.ld.mapdata={};for(var c in this.D)"tile"==c.substring(0,4)&&(this.D[c].fd(),this.ld[c]={});if(a)for(c in this.ld=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.D[c].yj(a[c][d].texture,a[c][d].frame,d):(this.D[c].si(a[c][d].type),a[c][d].script&&this.D[c].kw(a[c][d].script),4==a[c][d].type&&this.D[c].Wl()&&this.D[c].yj(this.D[c].Wl().sprite.texture,this.D[c].Wl().sprite.position,
"item"));else"mapdata"==c&&(this.pi=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ni=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.oi=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.qh=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.Qe(this.vB)},Fk:function(a){D.d().F(!1);a=z.BP(a);this.ld={};this.ld.mapdata={};for(var c in this.D)"tile"==
c.substring(0,4)&&(this.D[c].fd(),this.ld[c]={});if(a)for(c in this.ld=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.D[c].yj(a[c][d].texture,a[c][d].frame,d):(this.D[c].si(a[c][d].type),a[c][d].script&&this.D[c].kw(a[c][d].script),4==a[c][d].type&&this.D[c].Wl()&&this.D[c].yj(this.D[c].Wl().sprite.texture,this.D[c].Wl().sprite.position,"item"));else"mapdata"==c&&(this.pi=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ni=""!=
a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.oi=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.qh=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.Qe(this.vB)},vB:function(){for(var a in this.D)if("tile"==a.substring(0,4)&&!1==this.D[a].Rf())return;D.d().F(!0);D.Dj();this.yh(this.vB);this.hm.F(!0);this.ym.F(!0);this.Yl=!0},mh:function(){for(var a={},c=0;c<S;c++)for(var d=
0;d<Ha;d++)a["tile"+(c+d*S)]={size:p.size(32,32),h:p.a(0,0),position:p.a(32*c,32*(Ha-d)),SQ:!0,pU:p.a(d,c),visible:!1};return{panels:{children:a}}},u:function(){this.Xb(!0);this.gI(1)},Mb:function(a){!this.Xl||V&&V.ga||(this.Xl=V=null);if(this.Xl)for(var c in this.D)"tile"==c.substring(0,4)&&p.I(this.D[c].Qa(),p.a(a.P.x,a.P.y+32))&&(this.Xl.DI(this.D,c),G.Wr());else for(c in this.D)if("tile"==c.substring(0,4)&&p.I(this.D[c].Qa(),p.a(a.P.x,a.P.y+32))){var d=D.e.ta.gi();D.e.ta.mI(this.SF(p.a(Math.floor(d.x),
Math.ceil(d.y)),p.a(this.D[c].f.x/32,this.D[c].f.y/32)))}return!0},Tc:function(a){if(this.Xl){for(var c in this.D)"tile"==c.substring(0,4)&&p.I(this.D[c].Qa(),p.a(a.P.x,a.P.y+32))&&(this.Xl.DI(this.D,c,"moved"),G.Wr());return!0}for(c in this.D)if("tile"==c.substring(0,4)&&p.I(this.D[c].Qa(),p.a(a.P.x,a.P.y+32))){var d=D.e.ta.gi();D.e.ta.mI(this.SF(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.D[c].f.x/32,this.D[c].f.y/32)))}},$:function(){this._super();if(!0==this.Yl){this.ym.qA(0,0,0,0);for(var a in this.D)"tile"==
a.substring(0,4)&&(this.D[a].F(!0),null!=this.D[a].Hd&&this.D[a].Hd.F(!1),null!=this.D[a].Id&&this.D[a].Id.F(!1),null!=this.D[a].Kd&&this.D[a].Kd.F(!1),null!=this.D[a].Jd&&this.D[a].Jd.F(!1),this.D[a].$(),null!=this.D[a].Hd&&this.D[a].Hd.F(!0),null!=this.D[a].Id&&this.D[a].Id.F(!0),null!=this.D[a].Kd&&this.D[a].Kd.F(!0),null!=this.D[a].Jd&&this.D[a].Jd.F(!0),this.D[a].F(!1));this.ym.end();this.hm.qA(0,0,0,0);for(a in this.D)if("tile"==a.substring(0,4)){this.D[a].F(!0);null!=this.D[a].Od&&this.D[a].Od.F(!1);
null!=this.D[a].Pd&&this.D[a].Pd.F(!1);null!=this.D[a].Qd&&this.D[a].Qd.F(!1);null!=this.D[a].Ud&&this.D[a].Ud.F(!1);null!=this.D[a].Vd&&this.D[a].Vd.F(!1);null!=this.D[a].hd&&this.D[a].hd.F(!1);for(var c=0;c<this.D[a].item.length;c++)this.D[a].item[c].F(!1);this.D[a].$();null!=this.D[a].Od&&this.D[a].Od.F(!0);null!=this.D[a].Pd&&this.D[a].Pd.F(!0);null!=this.D[a].Qd&&this.D[a].Qd.F(!0);null!=this.D[a].Ud&&this.D[a].Ud.F(!0);null!=this.D[a].Vd&&this.D[a].Vd.F(!0);null!=this.D[a].hd&&this.D[a].hd.F(!0);
for(c=0;c<this.D[a].item.length;c++)this.D[a].item[c].F(!0);this.D[a].F(!1)}this.hm.end();this.Yl=!1}}});
G.create=function(){this.e||(this.e=new G,this.e.D=Ba(this.e),this.e.v(this.e.D),this.e.ym=p.gb.create(R.width,R.height),this.e.ym.J(p.a(Math.floor(R.width/2),Math.floor(R.height/2))),this.e.v(this.e.ym),this.e.ym.F(!1),this.e.rB=p.H.create(),this.e.v(this.e.rB),this.e.hm=p.gb.create(R.width,R.height),this.e.hm.J(p.a(Math.floor(R.width/2),Math.floor(R.height/2))),this.e.v(this.e.hm),this.e.hm.F(!1),this.e.nw(-15),this.e.u());return this.e};G.d=function(){return this.e};
G.Jr=function(){this.e.Y();this.e=null};G.Wr=function(){this.e||(this.e=G.create());this.e.Yl=!0};G.$T=function(a){this.e.ZT(a)};G.d=function(){return this.e};G.yj=function(a,c,d,e){this.e.D[a].yj(c,d,e);this.e.ld[a][e]={texture:c,frame:d}};G.MI=function(){K({savemap:this.e.Ed,mapdata:this.e.ld})};G.AA=function(a,c){this.e.ld[a][c]=null;this.e.D[a].AA(c)};G.No=function(a,c,d,e){this.e.D[a].si(c);d?(this.e.D[a].kw(d,e),this.e.ld[a].info={type:c,script:{id:d,data:e?e:null}}):this.e.ld[a].info={type:c}};
G.UH=function(a){this.e.ld.mapdata.mapConnectors=a;this.e.pi=a.up;this.e.ni=a.down;this.e.oi=a.left;this.e.qh=a.right};G.lP=function(a,c,d){for(var e in this.e.D)"tile"==e.substring(0,4)&&(this.e.D[e].yj(a,c,d),this.e.ld[e][d]={texture:a,frame:c})};G.eI=function(a){for(var c in this.e.D)"tile"==c.substring(0,4)&&this.e.D[c].OT(a);this.e.Yl=!0};G.q8=function(){for(var a in this.e.D)"tile"==a.substring(0,4)&&this.e.D[a].Ue.na(a.substring(4));this.e.Yl=!0};G.sG=function(){return null!=this.e.pi};
G.qG=function(){return null!=this.e.ni};G.rG=function(){return null!=this.e.oi};G.QA=function(){return null!=this.e.qh};G.U0=function(){return this.e.Ed};G.W0=function(){return this.e.pi};G.S0=function(){return this.e.ni};G.T0=function(){return this.e.oi};G.V0=function(){return this.e.qh};G.pG=function(a){D.d().F(!1);G.fd();this.e.Ed=a;D.e.ta.Ho(a);D.Dj();this.e.Fk(a)};G.fQ=function(){D.d().F(!1);G.fd();this.e.Ed=this.e.pi;D.e.ta.Ho(this.e.pi);D.Dj();this.e.Fk(this.e.pi)};
G.cQ=function(){D.d().F(!1);G.fd();this.e.Ed=this.e.ni;D.e.ta.Ho(this.e.ni);D.Dj();this.e.Fk(this.e.ni)};G.dQ=function(){D.d().F(!1);G.fd();this.e.Ed=this.e.oi;D.e.ta.Ho(this.e.oi);D.Dj();this.e.Fk(this.e.oi)};G.eQ=function(){D.d().F(!1);G.fd();this.e.Ed=this.e.qh;D.e.ta.Ho(this.e.qh);D.Dj();this.e.Fk(this.e.qh)};G.LB=function(a){this.e.Xl=a};G.NA=function(a,c){return a>S-1||0>a?void 0:this.e.D["tile"+(a+(Ha-c)*S)]};G.kG=function(a){return this.e.D["tile"+a]};G.dO=function(){var a=D.d();this.e.rB.v(a)};
G.fd=function(){this.e.ld={};for(var a in this.e.D)"tile"==a.substring(0,4)&&(this.e.D[a].fd(),this.e.ld[a]={});this.e.ld.mapdata={};this.e.Yl=!0};var D=p.kc.extend({e:null,Eb:[],ta:null});D.d=function(){return this.e};D.Jr=function(){this.e.Y();this.e=null};D.create=function(a){this.e||(this.e=new D,this.e.ta=PlayerCharacter.create(a),this.e.ta.J(320,320),this.e.v(this.e.ta));return this.e};D.a3=function(){return this.e.ta};D.oj=function(a){return this.e.Eb[a]};
D.cO=function(a){this.e.Eb[a]=PlayerCharacter.create({name:a,Oo:{health:{uc:1,value:100,Gg:200,Fg:900},mana:{uc:1,value:100,Gg:200,Fg:99}},map:1,xw:"sprites1.png",tw:1});this.e.Eb[a].J(320,320);D.Dj();this.e.v(this.e.Eb[a]);E.Jb(a+N.Jc.qB)};D.GF=function(a){if(this.e.Eb[a]){this.e.Eb[a].Y();this.e.Eb[a]=null;E.Jb(a+N.Jc.MR);for(var c=0;c<y.length;c++){var d=JSON.parse(y[c]);d.id&&d.id==a&&(y.splice(c,1),c--)}}};
D.jR=function(a,c){this.e.Eb[a]&&"default"!=c?this.e.Eb[a].CU(c):(this.e.Eb[a]=PlayerCharacter.create({name:a,Oo:{health:{uc:1,value:100,Gg:200,Fg:900},mana:{uc:1,value:100,Gg:200,Fg:99}},map:1,xw:"sprites1.png",tw:1}),this.e.Eb[a].J(320,320),this.e.Eb[a].J(p.a(c%S*32,32*Math.floor(c/S))),D.Dj(),this.e.v(this.e.Eb[a]),E.Jb(a+N.Jc.qB))};
D.gH=function(a,c){this.e.Eb[a]&&"default"!=c?this.e.Eb[a].J(p.a(c%S*32,32*Math.floor(c/S))):(this.e.Eb[a]=PlayerCharacter.create({name:a,Oo:{health:{uc:1,value:100,Gg:200,Fg:900},mana:{uc:1,value:100,Gg:200,Fg:99}},map:1,xw:"sprites1.png",tw:1}),this.e.Eb[a].J(p.a(c%S*32,32*Math.floor(c/S))),D.Dj(),this.e.v(this.e.Eb[a]),E.Jb(a+N.Jc.qB))};D.xO=function(a){this.e.Eb[a]&&this.e.Eb[a].updateStatus("AFK")};
D.Dj=function(){var a=this.e.ta.Ao,c;for(c in this.e.Eb)null!=this.e.Eb[c]&&this.e.Eb[c].F(this.e.Eb[c].Ao==a)};D.fd=function(){for(var a in this.e.Eb)null!=this.e.Eb[a]&&D.GF(a);this.e.ta.Y();this.e.ta=null};D.wO=function(a,c){this.e.Eb[a].Ho(c);this.e.Eb[a].F(this.e.ta.Ao==c)};Character=p.A.extend({name:null,Oo:null,BI:null,ZY:null,pf:null,sj:!1,cm:null,sw:null,qo:!1,status:null,Ao:null,path:null,u:function(a){this.QT(a.xw,a.tw);this.Oo=new StatsController(a.S8,this);this.v(this.Oo);this.name=a.name;a.qo&&(this.qo=a.qo);a.map&&(this.Ao=a.map);this.ja(0,1);this.cm=p.T.create("","Arial",12);this.cm.ja(0.5,0);this.cm.s(255,0,0);this.cm.J(Math.floor(this.c().width/2),this.c().width+3);this.v(this.cm);this.JI()},Ho:function(a){this.Ao=a},R0:function(){return this.Ao},updateStatus:function(a){this.status=
a&&a!=this.status?a:null;this.JI()},JI:function(){null!=this.status?this.cm.na(this.name+"-"+this.status):this.cm.na(this.name)},getName:function(){return this.name},Te:function(a,c){this.Ab(p.rect(32*a,128*this.BI.id+32*c,32,32));this.sw=p.a(a,c)},Bg:function(){return this.sw},QT:function(a,c){this.BI={name:a,id:c};this.ka(p.Db.d().Le(a));this.Te(1,0)},gi:function(){return p.a(this.f.x/32,this.f.y/32)},ev:0.24,AU:0.24,mv:2,DU:function(a){this.J(a.position%S*32,32*Math.floor(a.position/S));K({changemap:a.mapTo,
setTo:a.position});G.pG(a.mapTo)},MQ:function(){if(!this.sj){var a=this.gi(),a=G.NA(a.x,a.y);switch(a.ki()){case 4:this.pB(a.TP())}}},Zr:function(a){this.ev+=a;a=this.f;var c=this.Bg();this.ev>this.AU&&(this.ev=0,this.pf.x<a.x?this.Te((c.x+1)%3,1):this.pf.x>a.x?this.Te((c.x+1)%3,2):this.pf.y<a.y?this.Te((c.x+1)%3,0):this.pf.y>a.y&&this.Te((c.x+1)%3,3));this.pf.x<a.x?this.pc(a.x-this.mv):this.pf.x>a.x?this.pc(a.x+this.mv):this.pf.y<a.y?this.Jo(a.y-this.mv):this.pf.y>a.y&&this.Jo(a.y+this.mv);a.y==
this.pf.y&&a.x==this.pf.x&&(this.sj=!1,this.yh(this.Zr),null!=this.path&&this.vF())},$r:function(a,c){if(!1!=this.V){var d=G.NA(a,c),e=this.sw,f=this.gi();f.x>a?this.Te(e.x,1):f.x<a&&this.Te(e.x,2);f.y>c?this.Te(e.x,0):f.y<c&&this.Te(e.x,3);if(!d)this.qo&&null==V&&(f.x<a&&G.QA()?(this.J(0,32*c),K({changemap:parseInt(G.e.qh),setTo:0+c*S}),G.eQ()):f.x>a&&G.rG()&&(this.J(32*(S-1),32*c),K({changemap:parseInt(G.e.oi),setTo:S-1+c*S}),G.dQ()),f.y<c&&G.sG()?(this.J(32*a,32),K({changemap:parseInt(G.e.pi),
setTo:a+1*S}),G.fQ()):f.y>c&&G.qG()&&(K({changemap:parseInt(G.e.ni),setTo:a+Ha*S}),G.cQ(),this.J(32*a,32*Ha)));else if(!1==this.sj&&d){switch(d.ki()){case 1:return;case 3:this.DU(d.Wl());return}this.pf=p.a(32*a,32*c);this.sj=!0;this.Qe(this.Zr);this.Zr(0);this.qo&&K({moveTo:this.pf.x/32+this.pf.y/32*S})}}},vF:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.$r(this.path[0].x,this.path[0].y))},mI:function(a){if(null==this.path||0!=a.length)this.path=
a,this.vF()},CU:function(a){if(!1!=this.V){var c=a%S;a=Math.floor(a/S);if(!1==this.sj){var d=this.sw,e=this.gi();4<Math.abs(p.kB(p.a(c,a),e))?this.J(p.a(32*c,32*a)):(e.x>c?this.Te(d.x,1):e.x<c?this.Te(d.x,2):e.y>a?this.Te(d.x,0):e.y<a&&this.Te(d.x,3),this.pf=p.a(32*c,32*a),this.sj=!0,this.Qe(this.Zr),this.Zr(0))}}}});
PlayerCharacter=Character.extend({items:null,u:function(a){this._super(a);this.items={stored:[],equipped:{}}},Vr:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},pB:function(a){var c=this.gi(),d=G.NA(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){J&&(this.items.stored[e].amount+=a.amount,J.Pr(e,this.items.stored[e].amount));E.Jb(N.Jc.dH+a.name);d.eG().temp?K({pickupitem:T(c.x,
c.y),mapnumber:G.e.Ed,temp:!0}):K({pickupitem:T(c.x,c.y),mapnumber:G.e.Ed});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Aa(a);J&&J.Pr(e,this.items.stored[e].amount);E.Jb(N.Jc.dH+a.name);d.eG().temp?K({pickupitem:T(c.x,c.y),mapnumber:G.e.Ed,temp:!0}):K({pickupitem:T(c.x,c.y),mapnumber:G.e.Ed});f=!0;break}!1==f&&E.Jb(N.Jc.OQ)},PF:function(a,c){var d=this.gi();E.Jb(N.Jc.eP+this.items[c][a].name);K({droppeditem:this.items[c][a],mapnumber:G.e.Ed,index:T(d.x,d.y)});
!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&J.Pr(a,0);this.items[c][a]=null;J&&J.zh();W&&W.zh()},yU:function(a){switch(this.items.stored[a].itemType){case "book":null==X||X.ga||(I=null);X&&(X.Lc(),X.Y(),X=null);X=new BookPopup;X.u(this.items.stored[a]);X.oc();this.ga.ga.ga.v(X);break;case "wearable":this.kP(a)}},kP:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&(c=Aa(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=
Aa(this.items.stored[a]);this.items.stored[a]=c;J&&J.zh();W&&W.zh()},TO:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=Aa(this.items.equipped[a]);this.items.equipped[a]=null;J&&J.zh();W&&W.zh();return}E.Jb("No space in inventory to dequip this item.")},jo:function(){return this.items.stored},HA:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.u(a);return c};NonPlayerCharacter=Character.extend({F4:null});var Ja=p.kc.extend({EB:null,b:null,ctor:function(){this._super()},RI:function(){},um:function(){},oc:function(){this.b&&this.b.Y();this.b=Ba(this);this.v(this.b)},Lc:function(){},u:function(){this.gI(1);this.Xb(!0);C.Eo(this);this._super()},iB:function(){p.log("Override onKeyDown in scene extended class to use keyboard")},Lv:function(){p.log("Override onKeyUp in scene extended class to use keyboard")},qT:function(a){this.EB=a},lh:function(){return this.EB}});Popup=Ja.extend({Jg:null,mr:!1,u:function(){this.EB=this.lh();this._super();C.Eo(this);this.aU();this.nw(-50)},$Z:function(){this.Y()},Mb:function(a){var c=this.b.control_panel.Kb(a.P);if(p.I(p.rect(this.b.control_panel.exitBtn.f.m,this.b.control_panel.exitBtn.f.n,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.ga.vj(function(){!1==d.mr&&d.Lc();d.Y();d=null});return!0}return p.I(p.rect(this.b.f.x,this.b.f.y+this.b.control_panel.f.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.P)?(this.Jg=this.b.hh(a),!0):!1},Tc:function(a){if(this.Jg)return a=a.P,this.b.J(p.a(a.x-this.Jg.x,a.y-this.Jg.y)),!0},se:function(){this.Jg=null},aU:function(){p.log("Ovveride setupPopup")},lh:function(){p.log("No id given... using default 'Popup'");return"Popup"},se:function(){}});
ObjectList=Popup.extend({wg:null,Gd:[],fB:null,Qr:!1,aw:-1,Lc:function(){this.bb&&this.bb.Xb(!0)},u:function(a){this._super();this.wg=null;this.Gd=[];this.fB=null;this.Qr=!1;this.aw=-1;this.wg=a.sv;a.list&&(this.Gd=a.list);this.fB=a.name;this.bb=a.bb},mh:function(){var a={},c;for(c in this.Gd)null==this.Gd[c]?this.Gd.splice(c,1):(null!=this.bb?(a["useElement"+c]={size:p.size(32,26),t:p.i(0,255,0,200),position:p.a(0,302-30*c),children:{content:{label:"Use",fontSize:20,h:p.a(0.5,0.5),position:p.a(16,
13)}}},a["element"+c]={size:p.size(116,26),t:p.i(140,140,140,200),position:p.a(32,302-30*c),children:{content:{label:this.Gd[c].name,fontSize:20,h:p.a(0.5,0.5),position:p.a(58,13)}}}):a["element"+c]={size:p.size(148,26),t:p.i(140,140,140,200),position:p.a(0,302-30*c),children:{content:{label:this.Gd[c].name,fontSize:20,h:p.a(0.5,0.5),position:p.a(79,13)}}},a["delElement"+c]={size:p.size(32,26),t:p.i(255,0,0,200),position:p.a(148,302-30*c),children:{content:{label:"Del",fontSize:20,h:p.a(0.5,0.5),
position:p.a(16,13)}}});return{panels:{position:p.a(300,200),children:{main_panel:{h:p.a(0,0),size:p.size(180,328),t:p.i(255,255,255,200),children:{list:{children:a},addButton:{size:p.size(90,26),t:p.i(140,140,140,200),position:p.a(45,302-30*this.Gd.length),children:{content:{label:"+",fontSize:20,h:p.a(0.5,0.5),position:p.a(45,13)}}}}},control_panel:{h:p.a(0,0),position:p.a(0,328),size:p.size(180,32),t:p.i(255,0,0,200),children:{header:{label:this.fB,fontSize:20,h:p.a(0,0.5),position:p.a(8,16)},
exitBtn:{position:p.a(151,3),size:p.size(26,26),h:p.a(0,0),t:p.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.q(0,0,0),h:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Mb:function(a){if(this._super(a))return!0;this.Jg=null;a=this.b.main_panel.Kb(a.P);if(!1==this.Qr){for(var c in this.Gd){if(p.I(p.rect(this.b.main_panel.list["element"+c].f.m,this.b.main_panel.list["element"+c].f.n,this.b.main_panel.list["element"+c].c().width,this.b.main_panel.list["element"+c].c().height),a))return this.Qr=
!0,this.wg.u({bb:this,data:this.Gd[c]}),this.ga.v(this.wg),this.Xb(!1),this.wg.oc(),this.aw=c+"",!0;if(p.I(p.rect(this.b.main_panel.list["delElement"+c].f.m,this.b.main_panel.list["delElement"+c].f.n,this.b.main_panel.list["delElement"+c].c().width,this.b.main_panel.list["delElement"+c].c().height),a))return this.SO(c),!0;if(this.bb&&p.I(p.rect(this.b.main_panel.list["useElement"+c].f.m,this.b.main_panel.list["useElement"+c].f.n,this.b.main_panel.list["useElement"+c].c().width,this.b.main_panel.list["useElement"+
c].c().height),a))return this.bb.TT(c,this.Gd[c]),!0}if(p.I(p.rect(this.b.main_panel.addButton.f.m,this.b.main_panel.addButton.f.n,this.b.main_panel.addButton.c().width,this.b.main_panel.addButton.c().height),a))return this.Qr=this.uF=!0,this.aw=this.Gd.length,this.wg.u({bb:this,data:null}),this.Xb(!1),this.ga.v(this.wg),this.wg.oc(),!0}},co:function(a){a&&(this.wg.zH(this.aw),this.uF&&(this.Gd.push(a),this.b.Y(),this.b=Ba(this),this.v(this.b)));this.Xb(!0);this.Qr=this.uF=!1;var c=this;this.vj(function(){c.wg.Lc(!0);
c.wg.Y()})},SO:function(a){this.Gd.splice(a,1);this.wg.FF(a,this.Gd);this.b.Y();this.b=Ba(this);this.v(this.b)}});
WarpEditorPopup=Popup.extend({lh:function(){return"WarpEditor"},zH:function(a){K({savewarps:a+"",warpdata:this.data})},FF:function(a,c){K({savewarpswhole:c})},mh:function(){return{panels:{position:p.a(300,200),children:{main_panel:{h:p.a(0,0),size:p.size(180,160),t:p.i(100,255,100,200),children:{okbtn:{position:p.a(100,16),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"OK",fontSize:12,h:p.a(0.5,0.5),position:p.a(30,16),color:p.q(0,0,0)}}},cancelbtn:{position:p.a(20,16),
size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,h:p.a(0.5,0.5),position:p.a(30,16),color:p.q(0,0,0)}}},namelbl:{label:"Name of warp.",fontSize:12,h:p.a(0,0),position:p.a(20,140),color:p.q(0,0,0)},nameEntry:{position:p.a(16,110),size:p.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,h:p.a(0,0),position:p.a(20,90),color:p.q(0,0,0)},mapNumEntry:{position:p.a(16,60),size:p.size(40,30)},mapxlbl:{label:"x",fontSize:12,h:p.a(0,0),position:p.a(80,90),color:p.q(0,
0,0)},mapXEntry:{position:p.a(76,60),size:p.size(36,30)},mapylbl:{label:"y",fontSize:12,h:p.a(0,0),position:p.a(130,90),color:p.q(0,0,0)},mapYEntry:{position:p.a(126,60),size:p.size(36,30)}}},control_panel:{h:p.a(0,0),position:p.a(0,160),size:p.size(180,32),t:p.i(255,0,0,200),children:{header:{label:"Warp Editor",fontSize:20,h:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(151,3),size:p.size(26,26),h:p.a(0,0),t:p.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.q(0,0,0),h:p.a(0.5,
0.5),position:p.a(13,13)}}}}}}}}},Tf:null,vo:null,wo:null,xo:null,bb:null,data:null,u:function(a){this._super();this.bb=this.xo=this.wo=this.vo=this.Tf=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.bb=a.bb},oc:function(){this._super();var a=this.data.position%S,c=Math.floor(this.data.position/S);this.Tf=new Z(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),p.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,
p.i(100,100,100),p.q(255,255,255));this.Tf.xh(!0);this.vo=new Z(this.b.main_panel.mapNumEntry,p.size(this.b.main_panel.mapNumEntry.c().width,this.b.main_panel.mapNumEntry.c().height),p.a(0,this.b.main_panel.mapNumEntry.c().height),""+this.data.mapTo,p.i(100,100,100),p.q(255,255,255));this.vo.xh(!0);this.wo=new Z(this.b.main_panel.mapXEntry,p.size(this.b.main_panel.mapXEntry.c().width,this.b.main_panel.mapXEntry.c().height),p.a(0,this.b.main_panel.mapXEntry.c().height),""+a,p.i(100,100,100),p.q(255,
255,255));this.wo.xh(!0);this.xo=new Z(this.b.main_panel.mapYEntry,p.size(this.b.main_panel.mapYEntry.c().width,this.b.main_panel.mapYEntry.c().height),p.a(0,this.b.main_panel.mapYEntry.c().height),""+c,p.i(100,100,100),p.q(255,255,255));this.xo.xh(!0)},Mb:function(a){if(this._super(a))return!0;this.Jg=null;a=this.b.main_panel.Kb(a.P);if(p.I(p.rect(this.b.main_panel.okbtn.f.m,this.b.main_panel.okbtn.f.n,this.b.main_panel.okbtn.c().width,this.b.main_panel.okbtn.c().height),a)){if(null==this.Tf.Ma()||
""==this.Tf.Ma()||null==this.vo.Ma()||""==this.vo.Ma()||null==this.wo.Ma()||""==this.wo.Ma()||null==this.xo.Ma()||""==this.xo.Ma())return!0;this.mr=!0;this.data.position=T(parseInt(this.wo.Ma()),Ha-parseInt(this.xo.Ma()));this.data.mapTo=parseInt(this.vo.Ma());this.data.name=this.Tf.Ma();this.bb.co(this.data);return!0}if(p.I(p.rect(this.b.main_panel.cancelbtn.f.m,this.b.main_panel.cancelbtn.f.n,this.b.main_panel.cancelbtn.c().width,this.b.main_panel.cancelbtn.c().height),a)){this.mr=!0;var c=this.bb;
this.bb.vj(function(){c.co(null)});return!0}},Lc:function(a){var c=this.bb;a||this.bb.vj(function(){c.co(null)})}});
InventoryPopup=Popup.extend({kf:null,lh:function(){return"Inventory"},mh:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:p.size(32,32),position:p.a(40*c+8,40*(7-d)+40),rr:!0,h:p.a(0,0),children:{stacklabelbg:{position:p.a(1,1),size:p.size(10,6),h:p.a(0,0),t:p.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:p.q(0,0,0),h:p.a(0,0),position:p.a(0,0)}}}}};return{panels:{position:p.a(300,200),children:{main_panel:{h:p.a(0,0),t:p.i(255,255,255,200),size:p.size(208,
328),children:a},control_panel:{h:p.a(0,0),position:p.a(0,328),size:p.size(208,32),t:p.i(255,0,0,200),children:{header:{label:"Inventory",fontSize:20,h:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(179,3),size:p.size(26,26),h:p.a(0,0),t:p.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.q(0,0,0),h:p.a(0.5,0.5),position:p.a(13,13)}}}}},item_name:{position:p.a(0,0),t:p.i(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.q(0,0,0),
h:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,0),t:p.i(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),h:p.a(0,0),t:p.i(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.q(0,0,0),h:p.a(0,0.5),position:p.a(4,12)}}},usebtn:{position:p.a(0,24),size:p.size(96,24),h:p.a(0,0),t:p.i(200,200,200,200),children:{content:{label:"Use",fontSize:20,color:p.q(0,0,0),h:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},Pr:function(a,
c){1<c?(this.b.main_panel[a+""].stacklabelbg.F(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.na(c),this.b.main_panel[a+""].stacklabelbg.ea(this.b.main_panel[a+""].stacklabelbg.stacklabel.c())):this.b.main_panel[a+""].stacklabelbg.F(!1)},zh:function(){for(var a=D.e.ta.jo(),c=0;40>c;c++)if(a[c]){for(var d in Q)if(Q[d].name==a[c].sprite.texture)var e=Q[d].texture;this.b.main_panel[c+""].ja(0,1);this.b.main_panel[c+""].ka(e);this.b.main_panel[c+""].Ab(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,
32,32));this.Pr(c,a[c].amount)}else this.b.main_panel[c+""].ka(null),this.Pr(c,0)},oc:function(){this._super();this.zh()},Mb:function(a){if(this._super(a))return!0;this.Jg=null;var c=a.P;a=this.b.main_panel.Kb(c);c=this.b.control_menu.Kb(c);if(null!=this.kf)return p.I(p.rect(this.b.control_menu.dropbtn.f.m,this.b.control_menu.dropbtn.f.n,this.b.control_menu.dropbtn.c().width,this.b.control_menu.dropbtn.c().height),c)?D.e.ta.PF(this.kf,"stored"):p.I(p.rect(this.b.control_menu.usebtn.f.m,this.b.control_menu.usebtn.f.n,
this.b.control_menu.usebtn.c().width,this.b.control_menu.usebtn.c().height),c)&&D.e.ta.yU(this.kf),this.kf=null,this.b.control_menu.F(!1),!0;for(c=0;40>c;c++){var d=0;1==this.b.main_panel[c+""].Be.y&&(d=32);if(D.e.ta.jo()[c]&&p.I(p.rect(this.b.main_panel[c+""].f.m,this.b.main_panel[c+""].f.n-d,this.b.main_panel[c+""].c().width,this.b.main_panel[c+""].c().height),a)){this.b.control_menu.F(!0);switch(D.e.ta.jo()[c].itemType){case "wearable":this.b.control_menu.usebtn.content.na("Equip");break;case "resource":this.b.control_menu.usebtn.content.na("Use");
break;case "consumable":this.b.control_menu.usebtn.content.na("Consume");break;case "book":this.b.control_menu.usebtn.content.na("Read")}this.b.control_menu.J(p.a(this.b.main_panel[c+""].f.m+28,this.b.main_panel[c+""].f.n-(0!=d?40:0)-8));this.kf=c;return!0}if(!D.e.ta.jo()[c]&&p.I(p.rect(this.b.main_panel[c+""].f.m,this.b.main_panel[c+""].f.n-d,this.b.main_panel[c+""].c().width,this.b.main_panel[c+""].c().height),a))return this.kf=null,!0}},qi:function(a){var c=this.b.control_menu.Kb(a);a=this.b.main_panel.Kb(a);
this.b.control_menu.dropbtn.s(p.i(200,200,200,200));this.b.control_menu.usebtn.s(p.i(200,200,200,200));this.b.item_name.F(!1);if(null!=this.kf)p.I(p.rect(this.b.control_menu.dropbtn.f.m,this.b.control_menu.dropbtn.f.n,this.b.control_menu.dropbtn.c().width,this.b.control_menu.dropbtn.c().height),c)?(this.b.control_menu.dropbtn.s(p.i(255,0,0,255)),this.b.control_menu.usebtn.s(p.i(200,200,200,200))):p.I(p.rect(this.b.control_menu.usebtn.f.m,this.b.control_menu.usebtn.f.n,this.b.control_menu.usebtn.c().width,
this.b.control_menu.usebtn.c().height),c)&&(this.b.control_menu.usebtn.s(p.i(255,0,0,255)),this.b.control_menu.dropbtn.s(p.i(200,200,200,200)));else for(c=0;40>c;c++){var d=0;1==this.b.main_panel[c+""].Be.y&&(d=32);if(D.e.ta.jo()[c]&&p.I(p.rect(this.b.main_panel[c+""].f.m,this.b.main_panel[c+""].f.n-d,this.b.main_panel[c+""].c().width,this.b.main_panel[c+""].c().height),a))return this.b.item_name.content.na(D.e.ta.jo()[c].name),this.b.item_name.F(!0),this.b.item_name.ea(this.b.item_name.content.c()),
this.b.item_name.content.pc(this.b.item_name.content.c().width/2),this.b.item_name.J(p.a(this.b.main_panel[c+""].f.m-this.b.item_name.content.c().width/2+16,this.b.main_panel[c+""].f.n)),!0}}});
BookPopup=Popup.extend({data:null,te:null,lh:function(){return"Book"},mh:function(){return{panels:{position:p.a(100,20),children:{main_panel:{h:p.a(0,0),position:p.a(0,0),size:p.size(512,320),t:p.i(0,0,100,200),children:{pageBackbtn:{position:p.a(4,4),size:p.size(96,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Previous Page",fontSize:12,h:p.a(0.5,0.5),position:p.a(48,16),color:p.q(0,0,0)}}},pageForwardbtn:{position:p.a(412,4),size:p.size(96,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Next Page",
fontSize:12,h:p.a(0.5,0.5),position:p.a(48,16),color:p.q(0,0,0)}}},pageSplitter:{position:p.a(254,0),size:p.size(4,320),t:p.i(255,255,255,255),h:p.a(0,0)},leftPage:{label:0<this.te.length?this.te[0]:this.te,h:p.a(0,1),position:p.a(4,316),color:p.q(255,255,255)},rightPage:{label:0<this.te.length?this.te[1]:"",h:p.a(0,1),position:p.a(260,316),color:p.q(255,255,255)}}},control_panel:{h:p.a(0,0),position:p.a(0,320),size:p.size(512,32),t:p.i(255,0,0,200),children:{header:{label:this.data.name,fontSize:20,
h:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(482,3),size:p.size(26,26),h:p.a(0,0),t:p.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.q(0,0,0),h:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},u:function(a){this._super();this.data=a;this.te=[];for(a=a.additionalData.Contents;a;)if(490>a.length){this.te.push(a);break}else this.te.push(a.substr(0,490)+"..."),a=a.substr(490);this.HR=Math.floor(this.te.length/2);this.fi=0},oc:function(){this._super();this.b.main_panel.leftPage.LH(p.size(248,
0));this.b.main_panel.rightPage.LH(p.size(248,0));this.b.main_panel.pageBackbtn.F(!1);2>this.te.length&&this.b.main_panel.pageForwardbtn.F(!1)},gQ:function(){this.fi++;this.b.main_panel.pageBackbtn.F(!0);this.fi==this.HR&&this.b.main_panel.pageForwardbtn.F(!1);this.b.main_panel.leftPage.na(this.te[2*this.fi]);this.te[2*this.fi+1]?this.b.main_panel.rightPage.na(this.te[2*this.fi+1]):this.b.main_panel.rightPage.na("")},hQ:function(){this.fi--;this.b.main_panel.pageForwardbtn.F(!0);0==this.fi&&this.b.main_panel.pageBackbtn.F(!1);
this.b.main_panel.leftPage.na(this.te[2*this.fi]);this.te[2*this.fi+1]&&this.b.main_panel.rightPage.na(this.te[2*this.fi+1])},Mb:function(a){if(this._super(a))return!0;this.Jg=null;a=this.b.main_panel.Kb(a.P);if(!0==this.b.main_panel.pageForwardbtn.V&&p.I(p.rect(this.b.main_panel.pageForwardbtn.f.m,this.b.main_panel.pageForwardbtn.f.n,this.b.main_panel.pageForwardbtn.c().width,this.b.main_panel.pageForwardbtn.c().height),a))return this.gQ(),!0;if(!0==this.b.main_panel.pageBackbtn.V&&p.I(p.rect(this.b.main_panel.pageBackbtn.f.m,
this.b.main_panel.pageBackbtn.f.n,this.b.main_panel.pageBackbtn.c().width,this.b.main_panel.pageBackbtn.c().height),a))return this.hQ(),!0}});
EquipmentPopup=Popup.extend({lh:function(){return"Equipment"},mh:function(){var a={rr:!0,size:p.size(32,32),h:p.a(0,0)},a={head:Ia(a,{position:p.a(88,162)}),body:Ia(a,{position:p.a(88,122)}),legs:Ia(a,{position:p.a(88,82)}),feet:Ia(a,{position:p.a(88,40)}),rarm:Ia(a,{position:p.a(128,122)}),larm:Ia(a,{position:p.a(48,122)}),mod:Ia(a,{position:p.a(8,162)})};return{panels:{position:p.a(100,300),children:{main_panel:{h:p.a(0,0),size:p.size(168,168),t:p.i(255,255,255,200),children:a},control_panel:{h:p.a(0,
0),position:p.a(0,168),size:p.size(168,32),t:p.i(255,0,0,200),children:{header:{label:"Equipment",fontSize:20,h:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(139,3),size:p.size(26,26),h:p.a(0,0),t:p.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.q(0,0,0),h:p.a(0.5,0.5),position:p.a(13,13)}}}}},item_name:{position:p.a(0,0),t:p.i(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.q(0,0,0),h:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,
0),t:p.i(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),h:p.a(0,0),t:p.i(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.q(0,0,0),h:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,24),size:p.size(96,24),h:p.a(0,0),t:p.i(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.q(0,0,0),h:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},zh:function(){var a=D.e.ta.HA();this.b.main_panel.head.ka(null);this.b.main_panel.body.ka(null);
this.b.main_panel.legs.ka(null);this.b.main_panel.feet.ka(null);this.b.main_panel.larm.ka(null);this.b.main_panel.rarm.ka(null);this.b.main_panel.mod.ka(null);for(var c in a)if(a[c]){for(var d in Q)if(Q[d].name==a[c].sprite.texture)var e=Q[d].texture;this.b.main_panel[a[c].subType].ja(0,1);this.b.main_panel[a[c].subType].ka(e);this.b.main_panel[a[c].subType].Ab(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Mb:function(a){if(this._super(a))return!0;this.Jg=null;var c=a.P;a=this.b.main_panel.Kb(c);
c=this.b.control_menu.Kb(c);if(null!=this.kf)return p.I(p.rect(this.b.control_menu.dropbtn.f.m,this.b.control_menu.dropbtn.f.n,this.b.control_menu.dropbtn.c().width,this.b.control_menu.dropbtn.c().height),c)?D.e.ta.PF(this.kf,"equipped"):p.I(p.rect(this.b.control_menu.unequipbtn.f.m,this.b.control_menu.unequipbtn.f.n,this.b.control_menu.unequipbtn.c().width,this.b.control_menu.unequipbtn.c().height),c)&&D.e.ta.TO(this.kf),this.kf=null,this.b.control_menu.F(!1),!0;var c=D.e.ta.HA(),d;for(d in c)if(c[d]){var e=
0;1==this.b.main_panel[c[d].subType].Be.y&&(e=32);if(c[d]&&p.I(p.rect(this.b.main_panel[c[d].subType].f.m,this.b.main_panel[c[d].subType].f.n-e,this.b.main_panel[c[d].subType].c().width,this.b.main_panel[c[d].subType].c().height),a))return this.b.control_menu.F(!0),this.b.control_menu.J(p.a(this.b.main_panel[c[d].subType].f.m+28,this.b.main_panel[c[d].subType].f.n-(0!=e?40:0)-8)),this.kf=d,!0;if(!c[d]&&p.I(p.rect(this.b.main_panel[c[d].subType].f.m,this.b.main_panel[c[d].subType].f.n-e,this.b.main_panel[c[d].subType].c().width,
this.b.main_panel[c[d].subType].c().height),a))return this.kf=null,!0}},qi:function(a){var c=this.b.control_menu.Kb(a);a=this.b.main_panel.Kb(a);this.b.control_menu.unequipbtn.s(p.i(200,200,200,200));this.b.item_name.F(!1);if(null!=this.kf)p.I(p.rect(this.b.control_menu.unequipbtn.f.m,this.b.control_menu.unequipbtn.f.n,this.b.control_menu.unequipbtn.c().width,this.b.control_menu.unequipbtn.c().height),c)&&this.b.control_menu.unequipbtn.s(p.i(255,0,0,255));else{var c=D.e.ta.HA(),d;for(d in c)if(c[d]){var e=
0;1==this.b.main_panel[c[d].subType].Be.y&&(e=32);if(c[d]&&p.I(p.rect(this.b.main_panel[c[d].subType].f.m,this.b.main_panel[c[d].subType].f.n-e,this.b.main_panel[c[d].subType].c().width,this.b.main_panel[c[d].subType].c().height),a))return this.b.item_name.content.na(c[d].name),this.b.item_name.F(!0),this.b.item_name.ea(this.b.item_name.content.c()),this.b.item_name.content.pc(this.b.item_name.content.c().width/2),this.b.item_name.J(p.a(this.b.main_panel[d+""].f.m-this.b.item_name.content.c().width/
2+16,this.b.main_panel[d+""].f.n)),!0}}},oc:function(){this._super();this.zh()}});
MapEditor=Popup.extend({map:null,gd:"tiles",KG:null,JZ:"ground1",Mf:Q[0].name,qa:0,mh:function(){return{panels:{position:p.a(300,10),children:{main_panel:{h:p.a(0,0),position:p.a(0,0),size:p.size(420,380),t:p.i(0,0,100,120),children:{tab1:{children:{tiles:{h:p.a(0,1),position:p.a(16,336),vw:Q[0].name},textureleftbtn:{position:p.a(360,344),size:p.size(16,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,h:p.a(0.5,0.5),position:p.a(8,16),color:p.q(0,0,0)}}},texturerightbtn:{position:p.a(472,
344),size:p.size(16,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,h:p.a(0.5,0.5),position:p.a(8,16),color:p.q(0,0,0)}}},textureName:{position:p.a(376,344),size:p.size(96,32),t:p.i(255,255,255,170),h:p.a(0,0),children:{text:{label:Q[0].name,fontSize:12,h:p.a(0.5,0.5),position:p.a(48,16),color:p.q(0,0,0)}}},deletebtn:{position:p.a(360,308),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Erase",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,
16),color:p.q(0,0,0)}}},leftbtn:{position:p.a(0,16),size:p.size(16,320),t:p.i(0,0,255,255),h:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,h:p.a(0.5,0.5),position:p.a(8,160),color:p.q(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,320),t:p.i(0,0,255,255),h:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,h:p.a(0.5,0.5),position:p.a(8,160),color:p.q(255,255,255)}}},upbtn:{position:p.a(16,336),size:p.size(320,16),t:p.i(0,0,255,255),h:p.a(0,0),children:{text:{label:"^",fontSize:12,
h:p.a(0.5,0.5),position:p.a(160,8),color:p.q(255,255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),t:p.i(0,0,255,255),h:p.a(0,0),children:{text:{label:"v",fontSize:12,h:p.a(0.5,0.5),position:p.a(160,8),color:p.q(255,255,255)}}},fillbtn:{position:p.a(428,308),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Fill",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},ground1btn:{position:p.a(360,278),size:p.size(128,26),t:p.i(0,255,0,255),h:p.a(0,0),
children:{text:{label:"Ground 1",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},ground2btn:{position:p.a(360,248),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Ground 2",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},groundShadowbtn:{position:p.a(360,218),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},mask1btn:{position:p.a(360,
188),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Mask 1",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},mask2btn:{position:p.a(360,158),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Mask 2",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},mask3btn:{position:p.a(360,128),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Mask 3",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,
13),color:p.q(0,0,0)}}},fringe1btn:{position:p.a(360,98),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},fringe2btn:{position:p.a(360,68),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},fringeShadowbtn:{position:p.a(360,38),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Fringe Shadow",
fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},fringe3btn:{position:p.a(360,8),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},highlightnode:{h:p.a(0,0),position:p.a(0,0),size:p.size(32,32),t:p.i(255,100,100,255)},selectednode:{h:p.a(0,0),position:p.a(0,0),size:p.size(32,32),t:p.i(100,255,100,255)}}},tab2:{children:{blockbtn:{position:p.a(8,320),size:p.size(60,32),t:p.i(255,
255,255,255),h:p.a(0,0),children:{text:{label:"Block",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},warpbtn:{position:p.a(8,280),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Warp",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},itembtn:{position:p.a(8,240),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Item",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,h:p.a(0,0),position:p.a(100,342)},amountLabel:{size:p.size(60,32),position:p.a(98,-1E6)}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),t:p.i(0,255,0,100),h:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),t:p.i(255,0,0,100),h:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),t:p.i(0,0,0,170),h:p.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,h:p.a(0.5,0),position:p.a(100,344)},mapUp_entry:{size:p.size(60,32),position:p.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,h:p.a(0.5,0),position:p.a(100,232)},mapDown_entry:{size:p.size(60,32),position:p.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,h:p.a(0.5,0),position:p.a(38,290)},mapLeft_entry:{size:p.size(60,32),position:p.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,h:p.a(0.5,0),position:p.a(162,290)},mapRight_entry:{size:p.size(60,32),position:p.a(132,258)},this_map:{position:p.a(70,248),size:p.size(60,60),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"THIS MAP\n#"+
G.e.Ed,fontSize:12,h:p.a(0.5,0.5),position:p.a(30,30),color:p.q(0,0,0)}}},clearbtn:{position:p.a(70,150),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Clear",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,h:p.a(0.5,0),position:p.a(100,182)},clearbtnNo:{position:p.a(10,150),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"NO",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),
color:p.q(0,0,0)}}},clearbtnYes:{position:p.a(130,150),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"YES",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},savebtn:{position:p.a(70,90),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Save",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,h:p.a(0.5,0),position:p.a(100,122)},savebtnNo:{position:p.a(10,90),size:p.size(60,
32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"NO",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},savebtnYes:{position:p.a(130,90),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"YES",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,16),color:p.q(0,0,0)}}},saveOnExit:{position:p.a(40,30),size:p.size(120,32),t:p.i(255,255,255,255),h:p.a(0.5,0),children:{content:{label:"",fontSize:14,h:p.a(0.5,0.5),position:p.a(60,15),color:p.q(0,0,0)}}}}},tab1Clickable:{position:p.a(0,
360),size:p.size(60,20),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Editor",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,10),color:p.q(0,0,0)}}},tab2Clickable:{position:p.a(64,360),size:p.size(60,20),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Scripts",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,10),color:p.q(0,0,0)}}},tab3Clickable:{position:p.a(128,360),size:p.size(60,20),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Settings",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,
10),color:p.q(0,0,0)}}}}},control_panel:{h:p.a(0,0),position:p.a(0,380),size:p.size(420,32),t:p.i(255,0,0,200),children:{header:{label:"Map Editor - Map #"+G.e.Ed,fontSize:20,h:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),h:p.a(0,0),t:p.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.q(0,0,0),h:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},lh:function(){return"MapEditor"},Ya:null,yr:null,vr:null,wr:null,xr:null,tr:null,ti:null,ed:0,Bw:null,u:function(a){this._super();
this.map=a;this.Ya=p.a(0,0);this.ti=[null,496,200,200]},oc:function(){this._super();this.b.main_panel.tab1.highlightnode.ha(0);this.b.main_panel.tab1.selectednode.ha(0);this.yr=new Z(this.b.main_panel.tab3.mapUp_entry,p.size(this.b.main_panel.tab3.mapUp_entry.c().width,this.b.main_panel.tab3.mapUp_entry.c().height),p.a(0,this.b.main_panel.tab3.mapUp_entry.c().height),G.sG()?G.e.pi:"",p.i(100,100,100),p.q(255,255,255));this.yr.xh(!0);this.yr.Kr(!0);this.vr=new Z(this.b.main_panel.tab3.mapDown_entry,
p.size(this.b.main_panel.tab3.mapDown_entry.c().width,this.b.main_panel.tab3.mapDown_entry.c().height),p.a(0,this.b.main_panel.tab3.mapDown_entry.c().height),G.qG()?G.e.ni:"",p.i(100,100,100),p.q(255,255,255));this.vr.xh(!0);this.vr.Kr(!0);this.wr=new Z(this.b.main_panel.tab3.mapLeft_entry,p.size(this.b.main_panel.tab3.mapLeft_entry.c().width,this.b.main_panel.tab3.mapLeft_entry.c().height),p.a(0,this.b.main_panel.tab3.mapLeft_entry.c().height),G.rG()?G.e.oi:"",p.i(100,100,100),p.q(255,255,255));
this.wr.xh(!0);this.wr.Kr(!0);this.xr=new Z(this.b.main_panel.tab3.mapRight_entry,p.size(this.b.main_panel.tab3.mapRight_entry.c().width,this.b.main_panel.tab3.mapRight_entry.c().height),p.a(0,this.b.main_panel.tab3.mapRight_entry.c().height),G.QA()?G.e.qh:"",p.i(100,100,100),p.q(255,255,255));this.xr.xh(!0);this.xr.Kr(!0);this.tr=new Z(this.b.main_panel.tab2.amountLabel,p.size(this.b.main_panel.tab2.amountLabel.c().width,this.b.main_panel.tab2.amountLabel.c().height),p.a(0,this.b.main_panel.tab2.amountLabel.c().height),
G.QA()?G.e.qh:"1",p.i(100,100,100),p.q(255,255,255));this.tr.xh(!0);this.tr.Kr(!0);this.pw(!1);this.qw(!1);this.bw=z.CP();this.bI(this.bw);this.Bj(1);this.Wc();G.eI(!0)},TT:function(a,c){H&&(H.Lc(),this.vj(function(){H.Y();H=null}),this.Bw=a,this.Xb(!0));I&&(I.Lc(),this.vj(function(){I.Y();I=null}),this.Bw=a,this.Xb(!0),this.tr.ic.Cj("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.F(!0),this.b.main_panel.tab2.amountLabel.J(98,308)))},Lc:function(){!0==this.bw&&(G.UH({up:this.yr.Ma(),
down:this.vr.Ma(),left:this.wr.Ma(),right:this.xr.Ma()}),G.MI());G.eI(!1)},qi:function(a){if(1==this.ed&&(this.b.main_panel.tab1.highlightnode.ha(0),a=this.b.main_panel.tab1.tiles.Kb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ha(127),this.b.main_panel.tab1.highlightnode.J(a),!0},Bj:function(a){if(a!=this.ed){this.b.main_panel.ea(this.ti[a],this.b.main_panel.c().height);
this.b.control_panel.ea(this.ti[a],this.b.control_panel.c().height);if(3==this.ed||0==this.ed)this.b.main_panel.tab3.mapUp_entry.pc(this.b.main_panel.tab3.mapUp_entry.f.m-1E3),this.b.main_panel.tab3.mapLeft_entry.pc(this.b.main_panel.tab3.mapLeft_entry.f.m-1E3),this.b.main_panel.tab3.mapDown_entry.pc(this.b.main_panel.tab3.mapDown_entry.f.m-1E3),this.b.main_panel.tab3.mapRight_entry.pc(this.b.main_panel.tab3.mapRight_entry.f.m-1E3);1!=this.ed||"erasing"!=this.gd&&"tiles"!=this.gd||(this.gd="blocking");
2==this.ed&&"blocking"==this.gd&&(this.gd="tiles");this.ed=a;this.b.main_panel.tab1.F(!1);this.b.main_panel.tab2.F(!1);this.b.main_panel.tab3.F(!1);this.b.main_panel.tab1Clickable.s(p.i(255,255,255,255));this.b.main_panel.tab2Clickable.s(p.i(255,255,255,255));this.b.main_panel.tab3Clickable.s(p.i(255,255,255,255));this.b.main_panel["tab"+a].F(!0);this.b.main_panel["tab"+a+"Clickable"].s(p.i(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.pc(this.b.main_panel.tab3.mapUp_entry.f.m+1E3),this.b.main_panel.tab3.mapLeft_entry.pc(this.b.main_panel.tab3.mapLeft_entry.f.m+
1E3),this.b.main_panel.tab3.mapDown_entry.pc(this.b.main_panel.tab3.mapDown_entry.f.m+1E3),this.b.main_panel.tab3.mapRight_entry.pc(this.b.main_panel.tab3.mapRight_entry.f.m+1E3));this.b.control_panel.exitBtn.pc(this.ti[a]-29)}},bI:function(a){z.vT(a);this.bw=a;"true"==a||!0==a?(this.b.main_panel.tab3.saveOnExit.s(p.q(0,255,0)),this.b.main_panel.tab3.saveOnExit.content.na("Save on exit: YES")):(this.b.main_panel.tab3.saveOnExit.s(p.q(255,0,0)),this.b.main_panel.tab3.saveOnExit.content.na("Save on exit: NO"))},
Wc:function(){this.b.main_panel.tab1.tiles.R()&&!0==this.b.main_panel.tab1.tiles.R().ec?(this.yh(this.Wc),this.b.main_panel.tab1.tiles.Ab(p.rect(Math.floor(32*this.Ya.x),Math.floor(32*this.Ya.y),320>Q[this.qa].texture.c().width?Q[this.qa].texture.c().width:320,320>Q[this.qa].texture.c().height?Q[this.qa].texture.c().height:320))):this.Qe(this.Wc)},Mb:function(a){if(this._super(a))return!0;this.Jg=null;var c=a.P,d=this.b.main_panel.Kb(c);if(p.I(p.rect(this.b.main_panel.tab1Clickable.f.m,this.b.main_panel.tab1Clickable.f.n,
this.b.main_panel.tab1Clickable.c().width,this.b.main_panel.tab1Clickable.c().height),d))return this.Bj(1),!0;if(p.I(p.rect(this.b.main_panel.tab2Clickable.f.m,this.b.main_panel.tab2Clickable.f.n,this.b.main_panel.tab2Clickable.c().width,this.b.main_panel.tab2Clickable.c().height),d))return this.Bj(2),!0;if(p.I(p.rect(this.b.main_panel.tab3Clickable.f.m,this.b.main_panel.tab3Clickable.f.n,this.b.main_panel.tab3Clickable.c().width,this.b.main_panel.tab3Clickable.c().height),d))return this.Bj(3),!0;
if(1==this.ed){if(p.I(p.rect(this.b.main_panel.tab1.leftbtn.f.m,this.b.main_panel.tab1.leftbtn.f.n,this.b.main_panel.tab1.leftbtn.c().width,this.b.main_panel.tab1.leftbtn.c().height),d))return 320<Q[this.qa].texture.c().width&&0<this.Ya.x&&(this.Ya.x--,this.Wc()),!0;if(p.I(p.rect(this.b.main_panel.tab1.rightbtn.f.m,this.b.main_panel.tab1.rightbtn.f.n,this.b.main_panel.tab1.rightbtn.c().width,this.b.main_panel.tab1.rightbtn.c().height),d))return 320<Q[this.qa].texture.c().width&&this.Ya.x<(Q[this.qa].texture.c().width-
320)/32&&(this.Ya.x++,this.Wc()),!0;if(p.I(p.rect(this.b.main_panel.tab1.upbtn.f.m,this.b.main_panel.tab1.upbtn.f.n,this.b.main_panel.tab1.upbtn.c().width,this.b.main_panel.tab1.upbtn.c().height),d))return 320<Q[this.qa].texture.c().height&&0<this.Ya.y&&(this.Ya.y--,this.Wc()),!0;if(p.I(p.rect(this.b.main_panel.tab1.downbtn.f.m,this.b.main_panel.tab1.downbtn.f.n,this.b.main_panel.tab1.downbtn.c().width,this.b.main_panel.tab1.downbtn.c().height),d))return 320<Q[this.qa].texture.c().height&&this.Ya.y<
(Q[this.qa].texture.c().height-320)/32&&(this.Ya.y++,this.Wc()),!0;if(p.I(p.rect(this.b.main_panel.tab1.ground1btn.f.m,this.b.main_panel.tab1.ground1btn.f.n,this.b.main_panel.tab1.ground1btn.c().width,this.b.main_panel.tab1.ground1btn.c().height),d))return this.xe("ground1"),!0;if(p.I(p.rect(this.b.main_panel.tab1.ground2btn.f.m,this.b.main_panel.tab1.ground2btn.f.n,this.b.main_panel.tab1.ground2btn.c().width,this.b.main_panel.tab1.ground2btn.c().height),d))return this.xe("ground2"),!0;if(p.I(p.rect(this.b.main_panel.tab1.groundShadowbtn.f.m,
this.b.main_panel.tab1.groundShadowbtn.f.n,this.b.main_panel.tab1.groundShadowbtn.c().width,this.b.main_panel.tab1.groundShadowbtn.c().height),d))return this.xe("groundShadow"),!0;if(p.I(p.rect(this.b.main_panel.tab1.mask1btn.f.m,this.b.main_panel.tab1.mask1btn.f.n,this.b.main_panel.tab1.mask1btn.c().width,this.b.main_panel.tab1.mask1btn.c().height),d))return this.xe("mask1"),!0;if(p.I(p.rect(this.b.main_panel.tab1.mask2btn.f.m,this.b.main_panel.tab1.mask2btn.f.n,this.b.main_panel.tab1.mask2btn.c().width,
this.b.main_panel.tab1.mask2btn.c().height),d))return this.xe("mask2"),!0;if(p.I(p.rect(this.b.main_panel.tab1.mask3btn.f.m,this.b.main_panel.tab1.mask3btn.f.n,this.b.main_panel.tab1.mask3btn.c().width,this.b.main_panel.tab1.mask3btn.c().height),d))return this.xe("mask3"),!0;if(p.I(p.rect(this.b.main_panel.tab1.fringe1btn.f.m,this.b.main_panel.tab1.fringe1btn.f.n,this.b.main_panel.tab1.fringe1btn.c().width,this.b.main_panel.tab1.fringe1btn.c().height),d))return this.xe("fringe1"),!0;if(p.I(p.rect(this.b.main_panel.tab1.fringe2btn.f.m,
this.b.main_panel.tab1.fringe2btn.f.n,this.b.main_panel.tab1.fringe2btn.c().width,this.b.main_panel.tab1.fringe2btn.c().height),d))return this.xe("fringe2"),!0;if(p.I(p.rect(this.b.main_panel.tab1.fringeShadowbtn.f.m,this.b.main_panel.tab1.fringeShadowbtn.f.n,this.b.main_panel.tab1.fringeShadowbtn.c().width,this.b.main_panel.tab1.fringeShadowbtn.c().height),d))return this.xe("fringeShadow"),!0;if(p.I(p.rect(this.b.main_panel.tab1.fringe3btn.f.m,this.b.main_panel.tab1.fringe3btn.f.n,this.b.main_panel.tab1.fringe3btn.c().width,
this.b.main_panel.tab1.fringe3btn.c().height),d))return this.xe("fringe3"),!0;if(p.I(p.rect(this.b.main_panel.tab1.texturerightbtn.f.m,this.b.main_panel.tab1.texturerightbtn.f.n,this.b.main_panel.tab1.texturerightbtn.c().width,this.b.main_panel.tab1.texturerightbtn.c().height),d))return this.eC(),!0;if(p.I(p.rect(this.b.main_panel.tab1.textureleftbtn.f.m,this.b.main_panel.tab1.textureleftbtn.f.n,this.b.main_panel.tab1.textureleftbtn.c().width,this.b.main_panel.tab1.textureleftbtn.c().height),d))return this.fC(),
!0;C.Eo(this);d=this.b.main_panel.tab1.tiles.Kb(c);if(0<=d.x&&0<=d.y&&d.x<=this.b.main_panel.tab1.tiles.c().width&&d.y<=this.b.main_panel.tab1.tiles.c().height)return d.x=d.x-d.x%32+16,d.y=d.y-d.y%32+16,this.b.main_panel.tab1.selectednode.f.m!=d.x||this.b.main_panel.tab1.selectednode.f.n!=d.y?(this.b.main_panel.tab1.selectednode.ha(127),this.b.main_panel.tab1.selectednode.J(d)):this.b.main_panel.tab1.selectednode.ha(0),!0;c=this.b.main_panel.tab1.deletebtn.Hc(p.a(0,0));if(p.I(p.rect(c.x,c.y,this.b.main_panel.tab1.deletebtn.c().width,
this.b.main_panel.tab1.deletebtn.c().height),a.P))return this.gd="erasing"==this.gd?"tiles":"erasing","erasing"==this.gd?(this.b.main_panel.tab1.fillbtn.s(p.i(255,255,255,255)),this.b.main_panel.tab1.deletebtn.s(p.i(255,0,0,255))):this.b.main_panel.tab1.deletebtn.s(p.i(255,255,255,255)),!0;c=this.b.main_panel.tab1.fillbtn.Hc(p.a(0,0));if(p.I(p.rect(c.x,c.y,this.b.main_panel.tab1.fillbtn.c().width,this.b.main_panel.tab1.fillbtn.c().height),a.P))return 0!=this.b.main_panel.tab1.selectednode.ii()&&(G.lP(Q[this.qa].name,
p.a((this.b.main_panel.tab1.selectednode.f.m-16)/32+this.Ya.x,9-(this.b.main_panel.tab1.selectednode.f.n-16)/32+this.Ya.y),this.data.currentLayer),G.Wr()),!0}if(2==this.ed){c=this.b.main_panel.tab2.blockbtn.Hc(p.a(0,0));if(p.I(p.rect(c.x,c.y,this.b.main_panel.tab2.blockbtn.c().width,this.b.main_panel.tab2.blockbtn.c().height),a.P))return this.gd="blocking"==this.gd?"tiles":"blocking","blocking"==this.gd?(this.b.main_panel.tab2.blockbtn.s(p.i(255,0,0,255)),this.b.main_panel.tab2.warpbtn.s(p.i(255,
255,255,255)),this.b.main_panel.tab2.itembtn.s(p.i(255,255,255,255)),this.b.main_panel.tab2.amountLabelHead.F(!1),this.b.main_panel.tab2.amountLabel.J(68,-1E5)):this.b.main_panel.tab2.blockbtn.s(p.i(255,255,255,255)),!0;c=this.b.main_panel.tab2.warpbtn.Hc(p.a(0,0));if(p.I(p.rect(c.x,c.y,this.b.main_panel.tab2.warpbtn.c().width,this.b.main_panel.tab2.warpbtn.c().height),a.P))return this.gd="warping"==this.gd?"tiles":"warping","warping"==this.gd?(null==H||H.ga||(H=null),H&&(H.Lc(),H.Y(),H=null),H=new ObjectList,
H.u({bb:this,sv:new WarpEditorPopup,list:ObjectLists.e.vi,name:"Warp List"}),H.oc(),this.ga.v(H),this.Xb(!1),this.b.main_panel.tab2.warpbtn.s(p.i(255,0,0,255)),this.b.main_panel.tab2.blockbtn.s(p.i(255,255,255,255)),this.b.main_panel.tab2.itembtn.s(p.i(255,255,255,255)),this.b.main_panel.tab2.amountLabelHead.F(!1),this.b.main_panel.tab2.amountLabel.J(68,-1E5)):this.b.main_panel.tab2.warpbtn.s(p.i(255,255,255,255)),!0;c=this.b.main_panel.tab2.itembtn.Hc(p.a(0,0));if(p.I(p.rect(c.x,c.y,this.b.main_panel.tab2.itembtn.c().width,
this.b.main_panel.tab2.warpbtn.c().height),a.P))return this.gd="items"==this.gd?"tiles":"items","items"==this.gd?(null==I||I.ga||(I=null),I&&(I.Lc(),I.Y(),I=null),I=new ObjectList,I.u({bb:this,sv:new ItemEditor,list:ObjectLists.e.Sf,name:"Item List"}),I.oc(),this.ga.v(I),this.Xb(!1),this.b.main_panel.tab2.itembtn.s(p.i(255,0,0,255)),this.b.main_panel.tab2.warpbtn.s(p.i(255,255,255,255)),this.b.main_panel.tab2.blockbtn.s(p.i(255,255,255,255))):(this.b.main_panel.tab2.itembtn.s(p.i(255,255,255,255)),
this.b.main_panel.tab2.amountLabelHead.F(!1),this.b.main_panel.tab2.amountLabel.J(68,-1E6)),!0}if(3==this.ed){c=this.b.main_panel.tab3.clearbtn.Hc(p.a(0,0));if(this.b.main_panel.tab3.clearbtn.V&&p.I(p.rect(c.x,c.y,this.b.main_panel.tab3.clearbtn.c().width,this.b.main_panel.tab3.clearbtn.c().height),a.P))return this.pw(!0),!0;c=this.b.main_panel.tab3.clearbtnNo.Hc(p.a(0,0));if(this.b.main_panel.tab3.clearbtnNo.V&&p.I(p.rect(c.x,c.y,this.b.main_panel.tab3.clearbtnNo.c().width,this.b.main_panel.tab3.clearbtnNo.c().height),
a.P))return console.log("Closin"),this.pw(!1),!0;c=this.b.main_panel.tab3.clearbtnYes.Hc(p.a(0,0));if(this.b.main_panel.tab3.clearbtnYes.V&&p.I(p.rect(c.x,c.y,this.b.main_panel.tab3.clearbtnYes.c().width,this.b.main_panel.tab3.clearbtnYes.c().height),a.P))return G.fd(),this.pw(!1),!0;c=this.b.main_panel.tab3.savebtn.Hc(p.a(0,0));if(this.b.main_panel.tab3.savebtn.V&&p.I(p.rect(c.x,c.y,this.b.main_panel.tab3.savebtn.c().width,this.b.main_panel.tab3.savebtn.c().height),a.P))return this.qw(!0),!0;c=this.b.main_panel.tab3.savebtnNo.Hc(p.a(0,
0));if(this.b.main_panel.tab3.savebtnNo.V&&p.I(p.rect(c.x,c.y,this.b.main_panel.tab3.savebtnNo.c().width,this.b.main_panel.tab3.savebtnNo.c().height),a.P))return console.log("Closin"),this.qw(!1),!0;c=this.b.main_panel.tab3.savebtnYes.Hc(p.a(0,0));if(this.b.main_panel.tab3.savebtnYes.V&&p.I(p.rect(c.x,c.y,this.b.main_panel.tab3.savebtnYes.c().width,this.b.main_panel.tab3.savebtnYes.c().height),a.P))return G.UH({up:this.yr.Ma(),down:this.vr.Ma(),left:this.wr.Ma(),right:this.xr.Ma()}),G.MI(),this.qw(!1),
!0;c=this.b.main_panel.tab3.saveOnExit.Hc(p.a(0,0));if(this.b.main_panel.tab3.saveOnExit.V&&p.I(p.rect(c.x,c.y,this.b.main_panel.tab3.saveOnExit.c().width,this.b.main_panel.tab3.saveOnExit.c().height),a.P))return this.bI(!this.bw),!0}return!1},xe:function(a){this.b.main_panel.tab1.ground1btn.s(p.i(255,255,255,255));this.b.main_panel.tab1.ground2btn.s(p.i(255,255,255,255));this.b.main_panel.tab1.groundShadowbtn.s(p.i(255,255,255,255));this.b.main_panel.tab1.mask1btn.s(p.i(255,255,255,255));this.b.main_panel.tab1.mask2btn.s(p.i(255,
255,255,255));this.b.main_panel.tab1.mask3btn.s(p.i(255,255,255,255));this.b.main_panel.tab1.fringe1btn.s(p.i(255,255,255,255));this.b.main_panel.tab1.fringe2btn.s(p.i(255,255,255,255));this.b.main_panel.tab1.fringeShadowbtn.s(p.i(255,255,255,255));this.b.main_panel.tab1.fringe3btn.s(p.i(255,255,255,255));this.b.main_panel.tab1[a+"btn"].s(p.i(0,255,0,255));this.data.currentLayer=a},eC:function(){this.qa>=Q.length-1&&(this.qa=-1);this.qa++;this.b.main_panel.tab1.tiles.ka(Q[this.qa].texture);this.Mf=
Q[this.qa].name;this.b.main_panel.tab1.textureName.text.na(this.Mf);this.Ya=p.a(0,0);this.Wc()},fC:function(){0>=this.qa&&(this.qa=Q.length);this.qa--;this.b.main_panel.tab1.tiles.ka(Q[this.qa].texture);this.Mf=Q[this.qa].name;this.b.main_panel.tab1.textureName.text.na(this.Mf);this.Ya=p.a(0,0);this.Wc()},pw:function(a){this.b.main_panel.tab3.clearbtnYes.F(a);this.b.main_panel.tab3.clearbtnNo.F(a);this.b.main_panel.tab3.clear_text.F(a);this.b.main_panel.tab3.clearbtn.F(!a)},qw:function(a){this.b.main_panel.tab3.savebtnYes.F(a);
this.b.main_panel.tab3.savebtnNo.F(a);this.b.main_panel.tab3.save_text.F(a);this.b.main_panel.tab3.savebtn.F(!a)},DI:function(a,c,d){if(a[c]==this.KG&&"moved"==d)return!1;this.KG=a[c];switch(this.gd){case "tiles":0!=this.b.main_panel.tab1.selectednode.ii()&&G.yj(c,Q[this.qa].name,p.a((this.b.main_panel.tab1.selectednode.f.m-16)/32+this.Ya.x,9-(this.b.main_panel.tab1.selectednode.f.n-16)/32+this.Ya.y),this.data.currentLayer);break;case "blocking":1!=a[c].ki()?G.No(c,1):G.No(c,0);break;case "warping":null!=
H&&H.ga||(3!=a[c].ki()?G.No(c,3,this.Bw):G.No(c,0,null));break;case "items":null!=I&&I.ga||(4!=a[c].ki()?G.No(c,4,this.Bw,{amount:this.tr.Ma()}):G.No(c,0,null));break;case "erasing":G.AA(c,this.data.currentLayer)}}});
ItemEditor=Popup.extend({Mf:Q[0].name,qa:0,mh:function(){return{panels:{position:p.a(300,10),children:{main_panel:{h:p.a(0,0),position:p.a(0,0),size:p.size(420,396),t:p.i(0,0,100,120),children:{tab1:{children:{tiles:{h:p.a(0,1),position:p.a(16,320),vw:Q[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,h:p.a(0.5,0.5),position:p.a(8,16),color:p.q(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,
32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,h:p.a(0.5,0.5),position:p.a(8,16),color:p.q(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),t:p.i(255,255,255,170),h:p.a(0,0),children:{text:{label:Q[0].name,fontSize:12,h:p.a(0.5,0.5),position:p.a(48,16),color:p.q(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),t:p.i(0,0,255,255),h:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,h:p.a(0.5,0.5),position:p.a(8,160),color:p.q(255,255,255)}}},
rightbtn:{position:p.a(336,64),size:p.size(16,252),t:p.i(0,0,255,255),h:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,h:p.a(0.5,0.5),position:p.a(8,160),color:p.q(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),t:p.i(0,0,255,255),h:p.a(0,0),children:{text:{label:"^",fontSize:12,h:p.a(0.5,0.5),position:p.a(160,8),color:p.q(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),t:p.i(0,0,255,255),h:p.a(0,0),children:{text:{label:"v",fontSize:12,h:p.a(0.5,0.5),position:p.a(160,
8),color:p.q(255,255,255)}}},highlightnode:{h:p.a(0,0),position:p.a(0,0),size:p.size(32,32),t:p.i(255,100,100,255)},selectednode:{h:p.a(0,0),position:p.a(0,0),size:p.size(32,32),t:p.i(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),t:p.i(0,0,255,100),h:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,h:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},resourcetab:{visible:!1},consumabletab:{visible:!1},booktab:{visible:!1,
children:{book_text:{label:"Book Contents",fontSize:10,h:p.a(0,0),position:p.a(152,348)},book_entry:{size:p.size(240,340),position:p.a(-1E5,8)}}},wearabletab:{visible:!1,children:{head:{position:p.a(250,230),size:p.size(64,26),t:p.i(0,255,0,255),h:p.a(0,0),children:{text:{label:"Head",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,13),color:p.q(0,0,0)}}},body:{position:p.a(250,200),size:p.size(64,26),t:p.i(0,255,0,255),h:p.a(0,0),children:{text:{label:"Body",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,
13),color:p.q(0,0,0)}}},legs:{position:p.a(250,170),size:p.size(64,26),t:p.i(0,255,0,255),h:p.a(0,0),children:{text:{label:"Legs",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,13),color:p.q(0,0,0)}}},feet:{position:p.a(250,140),size:p.size(64,26),t:p.i(0,255,0,255),h:p.a(0,0),children:{text:{label:"Feet",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,13),color:p.q(0,0,0)}}},larm:{position:p.a(180,200),size:p.size(64,26),t:p.i(0,255,0,255),h:p.a(0,0),children:{text:{label:"L Arm",fontSize:12,h:p.a(0.5,0.5),
position:p.a(32,13),color:p.q(0,0,0)}}},rarm:{position:p.a(320,200),size:p.size(64,26),t:p.i(0,255,0,255),h:p.a(0,0),children:{text:{label:"R Arm",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,13),color:p.q(0,0,0)}}},mod:{position:p.a(150,230),size:p.size(64,26),t:p.i(0,255,0,255),h:p.a(0,0),children:{text:{label:"Mod",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,13),color:p.q(0,0,0)}}}}},resourcebtn:{position:p.a(8,248),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Resource",
fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},consumablebtn:{position:p.a(8,218),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Consumable",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},bookbtn:{position:p.a(8,188),size:p.size(128,26),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Book",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},wearablebtn:{position:p.a(8,158),size:p.size(128,26),t:p.i(255,255,
255,255),h:p.a(0,0),children:{text:{label:"wearable",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}},tile:{h:p.a(0,1),position:p.a(55,130),vw:Q[0].name},stackbtn:{position:p.a(8,48),size:p.size(128,26),t:p.i(255,0,0,255),h:p.a(0,0),children:{text:{label:"NOT STACKABLE",fontSize:12,h:p.a(0.5,0.5),position:p.a(64,13),color:p.q(0,0,0)}}}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),t:p.i(0,255,0,100),h:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,
60),t:p.i(255,0,0,100),h:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),t:p.i(0,0,0,170),h:p.a(0,0)}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,10),color:p.q(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Details",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,10),color:p.q(0,0,0)}}},tab3Clickable:{position:p.a(128,
376),size:p.size(60,20),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,h:p.a(0.5,0.5),position:p.a(32,10),color:p.q(0,0,0)}}},okbtn:{position:p.a(76,8),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"OK",fontSize:12,h:p.a(0.5,0.5),position:p.a(30,16),color:p.q(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,32),t:p.i(255,255,255,255),h:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,h:p.a(0.5,0.5),position:p.a(30,16),color:p.q(0,
0,0)}}}}},control_panel:{h:p.a(0,0),position:p.a(0,396),size:p.size(420,32),t:p.i(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,h:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),h:p.a(0,0),t:p.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.q(0,0,0),h:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},lh:function(){return"itemEditor"},Tf:null,ti:null,ed:0,bb:null,data:null,u:function(a){this._super();this.data={itemType:"resource",subType:"",
sprite:{texture:Q[0].name,position:{x:0,y:0}},additionalData:{},stackable:!1,name:""};this.Mf=Q[0].name;this.qa=0;this.ti=this.Tf=null;this.ed=0;this.bb=null;this.Ya=p.a(0,0);this.ti=[null,352,400,200];this.bb=a.bb;a&&a.data&&(this.data=a.data)},zH:function(a){K({saveitems:a+"",itemdata:this.data})},FF:function(a,c){K({saveitemswhole:c})},oc:function(){this._super();this.b.main_panel.tab1.highlightnode.ha(0);this.b.main_panel.tab1.selectednode.ha(127);for(var a in Q)Q[a].name==this.data.sprite.texture&&
(this.qa=a,this.Mf=Q[a].name);this.b.main_panel.tab1.textureName.text.na(this.Mf);this.b.main_panel.tab1.tiles.ka(Q[this.qa].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.Ya.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.Ya.y++;a=p.a(32*(this.data.sprite.position.x-this.Ya.x),32*(this.data.sprite.position.y-this.Ya.y));this.b.main_panel.tab1.selectednode.J(this.b.main_panel.tab1.tiles.f.x+a.x,this.b.main_panel.tab1.tiles.f.y-(a.y+32));this.b.main_panel.tab2.tile.ka(Q[this.qa].texture);
this.b.main_panel.tab2.tile.Ab(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Tf=new Z(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),p.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",p.i(100,100,100),p.q(255,255,255));this.Tf.xh(!0);this.rA=new Z(this.b.main_panel.tab2.booktab.book_entry,p.size(this.b.main_panel.tab2.booktab.book_entry.c().width,
this.b.main_panel.tab2.booktab.book_entry.c().height),p.a(0,this.b.main_panel.tab2.booktab.book_entry.c().height),this.data.additionalData.Contents?this.data.additionalData.Contents:"",p.i(100,100,100),p.q(255,255,255),!0);this.rA.xh(!0);this.rA.hT(!0);this.xe(this.data.itemType);""!=this.data.subType&&this.wj(this.data.subType);!0==this.data.stackable?(this.b.main_panel.tab2.stackbtn.s(p.i(0,255,0,255)),this.b.main_panel.tab2.stackbtn.text.na("IS STACKABLE")):(this.b.main_panel.tab2.stackbtn.s(p.i(255,
0,0,255)),this.b.main_panel.tab2.stackbtn.text.na("NOT STACKABLE"));this.Bj(1);this.Wc()},v8:function(){},Lc:function(a){if(this.bb){var c=this.bb;!0!=a&&this.bb.vj(function(){c.co(null)})}},qi:function(a){if(1==this.ed&&(this.b.main_panel.tab1.highlightnode.ha(0),a=this.b.main_panel.tab1.tiles.Kb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ha(127),this.b.main_panel.tab1.highlightnode.J(a),
!0},Bj:function(a){a!=this.ed&&(this.b.main_panel.ea(this.ti[a],this.b.main_panel.c().height),this.b.control_panel.ea(this.ti[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.pc(this.b.main_panel.tab2.name_entry.f.m-1E3),this.ed=a,this.b.main_panel.tab1.F(!1),this.b.main_panel.tab2.F(!1),this.b.main_panel.tab3.F(!1),this.b.main_panel.tab1Clickable.s(p.i(255,255,255,255)),this.b.main_panel.tab2Clickable.s(p.i(255,255,255,255)),this.b.main_panel.tab3Clickable.s(p.i(255,255,255,
255)),this.b.main_panel["tab"+a].F(!0),this.b.main_panel["tab"+a+"Clickable"].s(p.i(255,255,0,255)),2==a&&(this.b.main_panel.tab2.name_entry.pc(4),"book"==this.data.itemType?(this.b.main_panel.tab2.booktab.book_entry.pc(150),this.b.main_panel.tab2.booktab.book_text.F(!0)):(this.b.main_panel.tab2.booktab.book_entry.pc(-1E9),this.b.main_panel.tab2.booktab.book_text.F(!1))),this.b.control_panel.exitBtn.pc(this.ti[a]-29))},Wc:function(){this.b.main_panel.tab1.tiles.R()&&!0==this.b.main_panel.tab1.tiles.R().ec?
(this.yh(this.Wc),this.b.main_panel.tab1.tiles.Ab(p.rect(Math.floor(32*this.Ya.x),Math.floor(32*this.Ya.y),320>Q[this.qa].texture.c().width?Q[this.qa].texture.c().width:320,256>Q[this.qa].texture.c().height?Q[this.qa].texture.c().height:256))):this.Qe(this.Wc)},Mb:function(a){if(this._super(a))return!0;this.Jg=null;a=a.P;var c=this.b.main_panel.Kb(a);if(p.I(p.rect(this.b.main_panel.tab1Clickable.f.m,this.b.main_panel.tab1Clickable.f.n,this.b.main_panel.tab1Clickable.c().width,this.b.main_panel.tab1Clickable.c().height),
c))return this.Bj(1),!0;if(p.I(p.rect(this.b.main_panel.tab2Clickable.f.m,this.b.main_panel.tab2Clickable.f.n,this.b.main_panel.tab2Clickable.c().width,this.b.main_panel.tab2Clickable.c().height),c))return this.Bj(2),!0;if(p.I(p.rect(this.b.main_panel.tab3Clickable.f.m,this.b.main_panel.tab3Clickable.f.n,this.b.main_panel.tab3Clickable.c().width,this.b.main_panel.tab3Clickable.c().height),c))return this.Bj(3),!0;if(p.I(p.rect(this.b.main_panel.okbtn.f.m,this.b.main_panel.okbtn.f.n,this.b.main_panel.okbtn.c().width,
this.b.main_panel.okbtn.c().height),c)){if(null==this.Tf.Ma()||""==this.Tf.Ma())return!0;this.mr=!0;this.data.name=this.Tf.Ma();switch(this.data.itemType){case "book":this.data.additionalData={Contents:this.rA.Ma()}}this.bb.co(this.data);return!0}if(p.I(p.rect(this.b.main_panel.cancelbtn.f.m,this.b.main_panel.cancelbtn.f.n,this.b.main_panel.cancelbtn.c().width,this.b.main_panel.cancelbtn.c().height),c)){this.mr=!0;var d=this.bb;this.bb.vj(function(){d.co(null)});return!0}if(1==this.ed){if(p.I(p.rect(this.b.main_panel.tab1.leftbtn.f.m,
this.b.main_panel.tab1.leftbtn.f.n,this.b.main_panel.tab1.leftbtn.c().width,this.b.main_panel.tab1.leftbtn.c().height),c))return 264<Q[this.qa].texture.c().width&&0<this.Ya.x&&(this.Ya.x--,this.Wc()),!0;if(p.I(p.rect(this.b.main_panel.tab1.rightbtn.f.m,this.b.main_panel.tab1.rightbtn.f.n,this.b.main_panel.tab1.rightbtn.c().width,this.b.main_panel.tab1.rightbtn.c().height),c))return 320<Q[this.qa].texture.c().width&&this.Ya.x<(Q[this.qa].texture.c().width-320)/32&&(this.Ya.x++,this.Wc()),!0;if(p.I(p.rect(this.b.main_panel.tab1.upbtn.f.m,
this.b.main_panel.tab1.upbtn.f.n,this.b.main_panel.tab1.upbtn.c().width,this.b.main_panel.tab1.upbtn.c().height),c))return 320<Q[this.qa].texture.c().height&&0<this.Ya.y&&(this.Ya.y--,this.Wc()),!0;if(p.I(p.rect(this.b.main_panel.tab1.downbtn.f.m,this.b.main_panel.tab1.downbtn.f.n,this.b.main_panel.tab1.downbtn.c().width,this.b.main_panel.tab1.downbtn.c().height),c))return 320<Q[this.qa].texture.c().height&&this.Ya.y<(Q[this.qa].texture.c().height-320)/32&&(this.Ya.y++,this.Wc()),!0;if(p.I(p.rect(this.b.main_panel.tab1.texturerightbtn.f.m,
this.b.main_panel.tab1.texturerightbtn.f.n,this.b.main_panel.tab1.texturerightbtn.c().width,this.b.main_panel.tab1.texturerightbtn.c().height),c))return this.eC(),!0;if(p.I(p.rect(this.b.main_panel.tab1.textureleftbtn.f.m,this.b.main_panel.tab1.textureleftbtn.f.n,this.b.main_panel.tab1.textureleftbtn.c().width,this.b.main_panel.tab1.textureleftbtn.c().height),c))return this.fC(),!0;C.Eo(this);c=this.b.main_panel.tab1.tiles.Kb(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=
this.b.main_panel.tab1.tiles.c().height)return c.x=c.x-c.x%32+16,c.y=c.y-c.y%32+64,this.b.main_panel.tab1.selectednode.f.m!=c.x||this.b.main_panel.tab1.selectednode.f.n!=c.y?(this.b.main_panel.tab1.selectednode.ha(127),this.b.main_panel.tab1.selectednode.J(c)):this.b.main_panel.tab1.selectednode.ha(0),a=p.a((this.b.main_panel.tab1.selectednode.f.m-16)/32+this.Ya.x,8-(this.b.main_panel.tab1.selectednode.f.n-64)/32+this.Ya.y-1),this.b.main_panel.tab2.tile.Ab(p.rect(32*a.x,32*a.y,32,32)),this.data.sprite.position=
a,!0}if(2==this.ed){if(p.I(p.rect(this.b.main_panel.tab2.stackbtn.f.m,this.b.main_panel.tab2.stackbtn.f.n,this.b.main_panel.tab2.stackbtn.c().width,this.b.main_panel.tab2.stackbtn.c().height),c))return this.mU(),!0;if(p.I(p.rect(this.b.main_panel.tab2.resourcebtn.f.m,this.b.main_panel.tab2.resourcebtn.f.n,this.b.main_panel.tab2.resourcebtn.c().width,this.b.main_panel.tab2.resourcebtn.c().height),c))return this.xe("resource"),!0;if(p.I(p.rect(this.b.main_panel.tab2.consumablebtn.f.m,this.b.main_panel.tab2.consumablebtn.f.n,
this.b.main_panel.tab2.consumablebtn.c().width,this.b.main_panel.tab2.consumablebtn.c().height),c))return this.xe("consumable"),!0;if(p.I(p.rect(this.b.main_panel.tab2.bookbtn.f.m,this.b.main_panel.tab2.bookbtn.f.n,this.b.main_panel.tab2.bookbtn.c().width,this.b.main_panel.tab2.bookbtn.c().height),c))return this.xe("book"),!0;if(p.I(p.rect(this.b.main_panel.tab2.wearablebtn.f.m,this.b.main_panel.tab2.wearablebtn.f.n,this.b.main_panel.tab2.wearablebtn.c().width,this.b.main_panel.tab2.wearablebtn.c().height),
c))return this.xe("wearable"),this.wj("body"),!0;if(!0==this.b.main_panel.tab2.wearabletab.body.V&&p.I(p.rect(this.b.main_panel.tab2.wearabletab.body.f.m,this.b.main_panel.tab2.wearabletab.body.f.n,this.b.main_panel.tab2.wearabletab.body.c().width,this.b.main_panel.tab2.wearabletab.body.c().height),c))return this.wj("body"),!0;if(!0==this.b.main_panel.tab2.wearabletab.head.V&&p.I(p.rect(this.b.main_panel.tab2.wearabletab.head.f.m,this.b.main_panel.tab2.wearabletab.head.f.n,this.b.main_panel.tab2.wearabletab.head.c().width,
this.b.main_panel.tab2.wearabletab.head.c().height),c))return this.wj("head"),!0;if(!0==this.b.main_panel.tab2.wearabletab.legs.V&&p.I(p.rect(this.b.main_panel.tab2.wearabletab.legs.f.m,this.b.main_panel.tab2.wearabletab.legs.f.n,this.b.main_panel.tab2.wearabletab.legs.c().width,this.b.main_panel.tab2.wearabletab.legs.c().height),c))return this.wj("legs"),!0;if(!0==this.b.main_panel.tab2.wearabletab.feet.V&&p.I(p.rect(this.b.main_panel.tab2.wearabletab.feet.f.m,this.b.main_panel.tab2.wearabletab.feet.f.n,
this.b.main_panel.tab2.wearabletab.feet.c().width,this.b.main_panel.tab2.wearabletab.feet.c().height),c))return this.wj("feet"),!0;if(!0==this.b.main_panel.tab2.wearabletab.larm.V&&p.I(p.rect(this.b.main_panel.tab2.wearabletab.larm.f.m,this.b.main_panel.tab2.wearabletab.larm.f.n,this.b.main_panel.tab2.wearabletab.larm.c().width,this.b.main_panel.tab2.wearabletab.larm.c().height),c))return this.wj("larm"),!0;if(!0==this.b.main_panel.tab2.wearabletab.rarm.V&&p.I(p.rect(this.b.main_panel.tab2.wearabletab.rarm.f.m,
this.b.main_panel.tab2.wearabletab.rarm.f.n,this.b.main_panel.tab2.wearabletab.rarm.c().width,this.b.main_panel.tab2.wearabletab.rarm.c().height),c))return this.wj("rarm"),!0;if(!0==this.b.main_panel.tab2.wearabletab.mod.V&&p.I(p.rect(this.b.main_panel.tab2.wearabletab.mod.f.m,this.b.main_panel.tab2.wearabletab.mod.f.n,this.b.main_panel.tab2.wearabletab.mod.c().width,this.b.main_panel.tab2.wearabletab.mod.c().height),c))return this.wj("mod"),!0}3==this.ed&&this.b.main_panel.tab2.stackbtn[""];return!1},
mU:function(){this.data.stackable=!this.data.stackable;!0==this.data.stackable?(this.b.main_panel.tab2.stackbtn.s(p.i(0,255,0,255)),this.b.main_panel.tab2.stackbtn.text.na("IS STACKABLE")):(this.b.main_panel.tab2.stackbtn.s(p.i(255,0,0,255)),this.b.main_panel.tab2.stackbtn.text.na("NOT STACKABLE"))},xe:function(a){this.b.main_panel.tab2.booktab.book_entry.pc(-1E7);this.b.main_panel.tab2.booktab.book_text.F(!1);switch(a){case "book":this.b.main_panel.tab2.booktab.book_entry.pc(150),this.b.main_panel.tab2.booktab.book_text.F(!0)}this.b.main_panel.tab2.resourcebtn.s(p.i(255,
255,255,255));this.b.main_panel.tab2.consumablebtn.s(p.i(255,255,255,255));this.b.main_panel.tab2.bookbtn.s(p.i(255,255,255,255));this.b.main_panel.tab2.wearablebtn.s(p.i(255,255,255,255));this.b.main_panel.tab2[a+"btn"].s(p.i(0,255,0,255));this.data.itemType=a;this.b.main_panel.tab2.resourcetab.F(!1);this.b.main_panel.tab2.consumabletab.F(!1);this.b.main_panel.tab2.booktab.F(!1);this.b.main_panel.tab2.wearabletab.F(!1);this.b.main_panel.tab2[a+"tab"].F(!0)},wj:function(a){this.b.main_panel.tab2.wearabletab.head.s(p.i(255,
255,255,255));this.b.main_panel.tab2.wearabletab.body.s(p.i(255,255,255,255));this.b.main_panel.tab2.wearabletab.legs.s(p.i(255,255,255,255));this.b.main_panel.tab2.wearabletab.feet.s(p.i(255,255,255,255));this.b.main_panel.tab2.wearabletab.rarm.s(p.i(255,255,255,255));this.b.main_panel.tab2.wearabletab.larm.s(p.i(255,255,255,255));this.b.main_panel.tab2.wearabletab.mod.s(p.i(255,255,255,255));"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].s(p.i(255,
0,0,255));this.data.subType=a},eC:function(){this.qa>=Q.length-1&&(this.qa=-1);this.qa++;this.b.main_panel.tab1.tiles.ka(Q[this.qa].texture);this.b.main_panel.tab2.tile.ka(Q[this.qa].texture);this.Mf=Q[this.qa].name;this.b.main_panel.tab1.textureName.text.na(this.Mf);this.data.sprite.texture=this.Mf;this.Ya=p.a(0,0);this.Wc()},fC:function(){0>=this.qa&&(this.qa=Q.length);this.qa--;this.b.main_panel.tab1.tiles.ka(Q[this.qa].texture);this.b.main_panel.tab2.tile.ka(Q[this.qa].texture);this.Mf=Q[this.qa].name;
this.b.main_panel.tab1.textureName.text.na(this.Mf);this.Ya=p.a(0,0);this.Wc()}});Ja.extend({ctor:function(){this._super()},RI:function(){this._super()},oc:function(){this._super()},Lc:function(){this._super()},Mb:function(a){p.I(this.b.health_panel.Qa(),a.P)&&C.d().vk("Game")},u:function(){var a=p.T.create("ITS WOKKIN!","Arial",16);a.s(p.q(0,0,0));a.J(p.a(200,200));this.v(a);this._super()}});var Ka=new XMLHttpRequest;Ka.open("GET","news.txt",!1);Ka.send(null);var La=Ka.responseText;
Login=Ja.extend({FB:!1,Yr:!1,u:function(a){this._super();C.Eo(this);this.Ar=new Z(this.b.name_entry,p.size(this.b.name_entry.c().width,this.b.name_entry.c().height),p.a(0,this.b.name_entry.c().height),"Enter Name",p.i(100,100,100),p.q(255,255,255));a&&(a.PG&&(y=[],K({logout:!0})),this.um(a.GB));this.Qe(this.YB)},Lv:function(a){switch(a){case "ENTER":!1==this.Yr&&this.FB?(this.Yr=!0,K({login:!0,username:this.Ar.Ma()})):this.jB("Server is offline!")}},um:function(a){this.FB=a;!0==a?(this.b.server_activity.label.na("Server: Online"),
this.b.server_activity.label.s(p.q(0,255,0))):(this.b.server_activity.label.na("Server: Offline"),this.b.server_activity.label.s(p.q(255,0,0)))},YB:function(){if(0<y.length)for(var a=y.length-1;0<=a;a--)reactToSocketMessage(y[a]),y.splice(a,1)},mh:function(){return{panels:{children:{name_entry:{size:p.size(300,30),position:p.a(325,300)},go_button:{position:p.a(420,220),size:p.size(120,40),t:p.i(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:p.q(255,255,255),h:p.a(0.5,0.5),position:p.a(60,
20)}}},news_message:{label:La,fontSize:14,color:p.q(0,0,0),h:p.a(0,1),position:p.a(30,610)},server_message:{label:"",fontSize:16,color:p.q(127,0,0),h:p.a(0,0),position:p.a(327,325)},server_activity:{position:p.a(860,620),size:p.size(100,20),t:p.i(255,255,0,127),children:{label:{label:"Server: Offline",color:p.q(255,0,0),h:p.a(0.5,0.5),position:p.a(50,10)}}}}}}},Mb:function(a){if(null!=this.Ar.Ma()&&p.I(p.rect(this.b.go_button.f.m,this.b.go_button.f.n,this.b.go_button.c().width,this.b.go_button.c().height),
a.P))return!1==this.Yr&&this.FB?(this.Yr=!0,K({login:!0,username:this.Ar.Ma()})):this.jB("Server is offline!"),!0},oR:function(){C.d().vk("Game",{OI:this.Ar.Ma(),map:1})},jB:function(a){this.b.server_message.na(a);this.Yr=!1},Tc:function(){},se:function(){},E4:function(){C.d().vk("Game",{OI:this.Ar.Ma()})}});var J=null,W=null,V=null,I=null,X=null,H=null,Ma=Ja.extend({ctor:function(){this._super()},mh:function(){return{panels:{children:{health_panel:{position:p.a(0,580),children:{health:{size:p.size(290,20),t:p.i(255,0,0,200),position:p.a(5,5)},mana:{size:p.size(290,20),position:p.a(5,30),t:p.i(0,0,255,200)}}},logout_button:{position:p.a(860,620),size:p.size(100,20),t:p.i(0,0,0,127),children:{Logout:{label:"Logout",color:p.q(255,255,255),position:p.a(50,10)}}}}}}},HP:function(){return{panels:{children:{chattoggle:{position:p.a(410,
0),size:p.size(64,64),t:p.i(255,255,255,120),children:{label:{label:"Chat",color:p.q(0,0,0),position:p.a(32,32)}}},inventorytoggle:{position:p.a(484,0),size:p.size(64,64),t:p.i(255,255,255,120),children:{label:{label:"Inventory",color:p.q(0,0,0),position:p.a(32,32)}}},equipmenttoggle:{position:p.a(558,0),size:p.size(64,64),t:p.i(255,255,255,120),children:{label:{label:"Equipment",color:p.q(0,0,0),position:p.a(32,32)}}},upbutton:{position:p.a(632,0),size:p.size(64,64),t:p.i(255,255,255,120),children:{label:{label:"Up",
color:p.q(0,0,0),position:p.a(32,32)}}},downbutton:{position:p.a(706,0),size:p.size(64,64),t:p.i(255,255,255,120),children:{label:{label:"Down",color:p.q(0,0,0),position:p.a(32,32)}}},leftbutton:{position:p.a(780,0),size:p.size(64,64),t:p.i(255,255,255,120),children:{label:{label:"Left",color:p.q(0,0,0),position:p.a(32,32)}}},rightbutton:{position:p.a(854,0),size:p.size(64,64),t:p.i(255,255,255,120),children:{label:{label:"Right",color:p.q(0,0,0),position:p.a(32,32)}}},hidebutton:{position:p.a(928,
0),size:p.size(32,64),t:p.i(255,255,255,120),children:{label:{label:"\x3c\x3c",color:p.q(0,0,0),position:p.a(16,32)}}}}}}},um:function(a){!1==a&&(this.zA(),C.d().vk("Login",{GB:!1}))},zA:function(){G.fd();G.Jr();D.fd();D.Jr();E.fd();E.Jr()},Mb:function(a){if(p.I(p.rect(this.b.logout_button.f.m,this.b.logout_button.f.n,this.b.logout_button.c().width,this.b.logout_button.c().height),a.P))return this.zA(),C.d().vk("Login",{PG:!0,GB:!0}),!0;C.Eo(this);if(p.I(this.b.health_panel.Qa(),a.P))return C.d().vk("Main"),
!0;if(this.Ra){if(p.I(this.Ra.upbutton.Qa(),a.P)&&this.Ra.upbutton.V)return O[38]=!0;if(p.I(this.Ra.downbutton.Qa(),a.P)&&this.Ra.downbutton.V)return O[40]=!0;if(p.I(this.Ra.leftbutton.Qa(),a.P)&&this.Ra.leftbutton.V)return O[37]=!0;if(p.I(this.Ra.rightbutton.Qa(),a.P)&&this.Ra.rightbutton.V)return O[39]=!0;if(p.I(this.Ra.chattoggle.Qa(),a.P)&&this.Ra.chattoggle.V)return D.e.ta.path=null,E.JG()?E.SA():E.show(),!0;if(p.I(this.Ra.inventorytoggle.Qa(),a.P)&&this.Ra.inventorytoggle.V)return D.e.ta.path=
null,null==J||J.ga||(W=null),J?(J.Lc(),J.Y(),J=null):(J=new InventoryPopup,J.u(),J.oc(),this.v(J)),!0;if(p.I(this.Ra.equipmenttoggle.Qa(),a.P)&&this.Ra.equipmenttoggle.V)return D.e.ta.path=null,null==W||W.ga||(W=null),W?(W.Lc(),W.Y(),W=null):(W=new EquipmentPopup,W.u(),W.oc(),this.v(W)),!0;if(p.I(this.Ra.hidebutton.Qa(),a.P)&&this.Ra.hidebutton.V)return this.uI(!0==this.Ra.UQ?!1:!0),O[37]=!1,O[38]=!1,O[39]=!1,O[34]=!1,!0}},se:function(a){if(this.Ra){if(p.I(this.Ra.upbutton.Qa(),a.P)&&this.Ra.upbutton.V)return O[38]=
!1,!0;if(p.I(this.Ra.downbutton.Qa(),a.P)&&this.Ra.downbutton.V)return O[40]=!1,!0;if(p.I(this.Ra.leftbutton.Qa(),a.P)&&this.Ra.leftbutton.V)return O[37]=!1,!0;if(p.I(this.Ra.rightbutton.Qa(),a.P)&&this.Ra.rightbutton.V)return O[39]=!1,!0}},Lv:function(a){switch(a){case "C":E.JG()?E.SA():E.show();break;case "ENTER":E.dB()||E.HB(!0);break;case "SPACE":D.e.ta.MQ();J&&J.zh();break;case "ESC":this.zA();C.d().vk("Login",{PG:!0,GB:!0});break;case "I":null==J||J.ga||(J=null);J?(J.Lc(),J.Y(),J=null):(J=new InventoryPopup,
J.u(),J.oc(),this.v(J));break;case "E":null==W||W.ga||(W=null),W?(W.Lc(),W.Y(),W=null):(W=new EquipmentPopup,W.u(),W.oc(),this.v(W))}},iB:function(a){var c=D.e.ta.gi();D.e.ta.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":D.e.ta.$r(c.x+1,c.y);break;case "LEFTARROW":D.e.ta.$r(c.x-1,c.y);break;case "UPARROW":D.e.ta.$r(c.x,c.y+1);break;case "DOWNARROW":D.e.ta.$r(c.x,c.y-1)}},uI:function(a){this.Ra&&(this.Ra.UQ=a,this.Ra.upbutton.F(a),this.Ra.downbutton.F(a),this.Ra.leftbutton.F(a),this.Ra.rightbutton.F(a),
this.Ra.chattoggle.F(a),this.Ra.inventorytoggle.F(a),this.Ra.equipmenttoggle.F(a),this.Ra.hidebutton.label.na(!0==a?"\x3e\x3e":"\x3c\x3c"))},GS:function(a){if(a)switch(p.log(a),a){case "/editmap":null==V||V.ga||(V=null);V?(V.Lc(),V.Y(),V=null,G.LB(null)):(V=new MapEditor,V.u(),V.oc(),this.v(V),G.LB(V));break;case "/editwarp":null==H||H.ga||(H=null);H?(H.Lc(),H.Y(),H=null):(H=new ObjectList,H.u({bb:null,sv:new WarpEditorPopup,list:ObjectLists.e.vi,name:"Warp List"}),H.oc(),this.v(H));break;case "/edititems":null==
I||I.ga||(I=null);I?(I.Lc(),I.Y(),I=null,G.LB(null)):(I=new ObjectList,I.u({bb:null,sv:new ItemEditor,list:ObjectLists.e.Sf,name:"Item List"}),I.oc(),this.v(I));break;case "/help":E.showHelp();break;case "/commands":E.cU();break;case "/diceroll":a=Math.floor(6*Math.random()+1);a=D.e.ta.getName()+" threw a dice and got "+a+".";E.Jb(a);K({diceroll:a});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";a=D.e.ta.getName()+" flipped a coin and got "+a+".";E.Jb(a);K({coinflip:a});
break;case "/dance":a=D.e.ta.getName()+" dances the dance of his people.";E.Jb(a);K({dance:a});break;case "/afk":D.e.ta.updateStatus("AFK"),K({afk:!0})}},u:function(a){this._super();this.v(G.create());ObjectLists.d();a={name:a.OI,qo:!0,Oo:{health:{uc:1,value:100,Gg:200,Fg:900},mana:{uc:1,value:100,Gg:200,Fg:99}},map:1,xw:"sprites1.png",tw:1};D.create(a);G.dO();this.b.Y();this.nw(-20);this.vj(function(){G.d().Fk(a.map)});K({moveTo:D.e.ta.gi().x+D.e.ta.gi().y*S});this.v(E.create());isMobile()&&(this.Ra=
Ba(this.HP(),!0),this.v(this.Ra),this.uI(!1));this.v(this.b);this.Qe(this.YB)},YB:function(){if(0<y.length)for(var a=0;a<y.length;a++){var c=JSON.parse(y[a]);c.moveTo&&(!D.oj(c.id)||D.oj(c.id)&&!1==D.oj(c.id).sj)?(reactToSocketMessage(JSON.stringify(c)),y.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),y.splice(a,1))}}});var Na=p.oa.extend({ic:null,s_:!1,HB:function(a){a?this.ic.Ka.focus():this.ic.Ka.blur()},dB:function(){return document.activeElement==this.ic.Ka},na:function(a){this.ic.Cj(a)},LA:function(){return this.ic.Ma()},u:function(){p.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.ic=p.Yo.create(p.size(c.width,c.height),p.ze.create(),h);this.ic.Cj(e);this.ic.RO=e;this.ic.nT(p.q(g.l,g.k,g.g));this.ic.EH(p.q(f.l,f.k,f.g));this.ic.J(p.a(d.x,d.y));this.ic.ja(0,1);this.ic.Kg(this);
a.v(this.ic);this.u()}});var Oa=Na.extend({pv:function(a){a.Cj("")},qv:function(a,c){c||("/"==a.Ma().substring(0,1)?this.FS(a.Ma()):0<a.Ma().length&&E.Jb(a.Ma(),!0));a.Cj(N.Jc.EF)},FS:function(a){C.d().Ic.GS(a)},rv:function(a,c){a.Cj(c);p.log("chatBox "+this.XD(a)+", TextChanged, text: "+c)},XD:function(){return"chatbox"}}),$=null,E=p.kc.extend({kj:null,u:function(){this.kj=new Oa(this.b.chat_panel,p.size(this.b.chat_panel.c().width-4,25),p.a(2,this.b.chat_panel.c().height-2),N.Jc.EF,p.q(255,255,255),p.q(0,0,0));this.kj.ic.ga.Jo(this.kj.ic.f.n+
59)},nF:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].LA());this.b.chat_panel.label0.na(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].na(c[d-1])},mh:function(){return{panels:{children:{chat_panel:{size:p.size(400,150),t:p.i(0,0,0,255),opacity:127,position:p.a(0,-200),children:{label7:{label:"",position:p.a(5,0),h:p.a(0,0)},label6:{label:"",position:p.a(5,15),h:p.a(0,0)},label5:{label:"",position:p.a(5,30),h:p.a(0,0)},label4:{label:"",position:p.a(5,45),h:p.a(0,0)},label3:{label:"",
position:p.a(5,60),h:p.a(0,0)},label2:{label:"",position:p.a(5,75),h:p.a(0,0)},label1:{label:"",position:p.a(5,90),h:p.a(0,0)},label0:{label:"",position:p.a(5,105),h:p.a(0,0)}}}}}}}});E.create=function(){$||($=new E,$.b=Ba($),$.v($.b),$.u(),E.SA(),E.dU());return $};E.d=function(){return $};E.Jb=function(a,c){c?(K({chatMessage:a}),$.nF(D.e.ta.getName()+": "+a)):$.nF(a)};E.show=function(){$.kj.ic.ga.Jo(0)};E.SA=function(){$.kj.ic.ga.Jo(-$.kj.ic.f.n+59)};E.JG=function(){return 0!=$.kj.ic.ga.f.n?!1:!0};
E.HB=function(a){$.kj.HB(a)};E.dB=function(){return $.kj.dB()};E.showHelp=function(){E.Jb(N.Jc.rQ);E.Jb(N.Jc.sQ);E.Jb(N.Jc.tQ);E.Jb(N.Jc.uQ);E.Jb(N.Jc.vQ)};E.cU=function(){E.Jb(N.Jc.CO);E.Jb(N.Jc.DO);E.Jb(N.Jc.EO);E.Jb(N.Jc.FO)};E.dU=function(){E.Jb(N.Jc.NQ)};E.fd=function(){$.b.Y();$.b=null};E.Jr=function(){$.Y();$=null};var Z=Na.extend({kr:!1,UG:!1,HF:!1,pv:function(a){!1==this.HF&&a.Cj("")},qv:function(a){null==a.Ma()||""==a.Ma().length&&this.UG?this.kr=!0:0<!a.Ma().length?(a.Cj(this.ic.RO),this.kr=!1):this.kr=!0},rv:function(a,c){a.Cj(c);this.kr=!0},XD:function(){return"name_entry"},Ma:function(){return!0==this.kr||!0==this.QO?this.ic.Ma():null},xh:function(a){this.QO=a},Kr:function(a){this.UG=a},hT:function(a){this.HF=a},u:function(){}});var C=p.kc.extend({e:null,oA:null,Ic:null,dv:null,u:function(){var a=p.aa.d().wv();this.oA=p.Ob.create(p.i(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.oA.ja(p.a(0,0));this.v(this.oA);this.vk("Login",{});this.Qe(this.pO);this.NB(!0)},qi:function(a){a=a.P;this.dv.qi&&this.dv.qi(a)},pO:function(){for(var a in O)if(!0==O[a]&&null!=this.Ic){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";
break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.Ic.iB(c)}},vk:function(a,c){null!=this.Ic&&(this.Ic.Lc(),this.Ic.Y(),this.Ic=
null);switch(a){case "Login":this.Ic=new Login;break;case "Game":this.Ic=new Ma}this.Ic.RI();this.v(this.Ic,1);this.Ic.qT(a);this.Ic.oc();this.Ic.u(c)},e0:function(){return this.Ic.lh()}});C.d=function(){null==this.e&&(this.e=new C);return this.e};C.Eo=function(a){null==this.e&&(this.e=new C);this.e.dv=a};C.z_=function(){null==this.e&&(this.e=new C);return this.e.dv};new (p.yi.extend({iv:document.ccConfig,ctor:function(){this._super();p.fs=this.iv.COCOS2D_DEBUG;p.xQ();p.Fk(this.iv.tag);p.Gw.bU().UO()},jO:function(){var a=this.iv,c=p.N.d();p.aa.d().wv();p.size(960,640);p.size(960,640);var d=p.Zc.d();p.yi.d();d.cI(["res/Graphics"]);p.Mg&&p.Mg.d().c8("res/Audio");c.aT(1);c.Ir(1/a.frameRate);a.test?p.test(a.test):(p.log("++++++++++++++++entry for game++++++++++++"),p.dR(function(a){p.dx.sB(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex",
"0");document.getElementById("gameCanvas").focus();var a=C.d();p.N.d().uH(a);a.u()})}));return!0}}));
//@ sourceMappingURL=sourcemap