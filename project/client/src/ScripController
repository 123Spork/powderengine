Scriptcontroller=null;
ScriptController = cc.Layer.extend({
	responses:null,
	nextEvent:null,
	objectContext:null,

	init:function(){
		this._super();
		this.schedule(this.runList);
	},

	runList:function(dt){
	},

	checkRequirements:function(){
		return true;
	},

	finishedCurrentProcess:function(){
		this.responses.splice(0,1);
		if(this.listofevents.length==0){
			this.unschedule(this.runList);
			destroyScriptController(this,objectContext);
		}
	},
};

ScriptController.createWithEventList=function(inputEvent,objectContext,wait){
	
	if(objectContext.scriptHandler!=null){
		this.nextEventHandler = ScriptController.createWithEventList(inputEvent,objectContext,true);
	}

	var instance = new ScriptController();
	instance.responses = inputEvent["responses"];
	if(objectContext){
		instance.objectContext=objectContext;
		objectContext.scriptHandler=this;
	}
	if(instance.checkRequirements()){
		instance.init();
		return instance;
	}
};

ItemScriptController = ScriptController.extend({

	runList:function(dt){
		this._super(dt);
	},

	checkRequirements:function(dt){
		if(this._super(dt)==true){
			return true;
		}
		return true;
	}

});

NPCScriptController = ScriptController.extend({

	runList:function(dt){
		this._super(dt);
	},

	checkRequirements:function(dt){
		if(this._super(dt)==true){
			return true;
		}
		return true;
	}

});
