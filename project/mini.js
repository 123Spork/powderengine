var b,aa={e1:"GUI/bankeditor_icon.png",g1:"GUI/book.png",j1:"GUI/btnDown.png",k1:"GUI/btnLeft.png",l1:"GUI/btnRight.png",m1:"GUI/btnUp.png",E1:"GUI/chat.png",D1:"GUI/chat_icon.png",F1:"GUI/close.png",Q1:"GUI/cross_icon.png",V1:"GUI/defaultitem.png",l2:"GUI/edit.png",m2:"GUI/editor-tab.png",p2:"GUI/equipment.png",o2:"GUI/equipment_icon.png",q2:"GUI/event_panel.png",w6:"GUI/healthbar.png",P6:"GUI/inventory.png",O6:"GUI/inventory_icon.png",D7:"GUI/itemeditor_bg.png",E7:"GUI/itemeditor_icon.png",F7:"GUI/itemeditor_tab1_bg.png",
G7:"GUI/itemeditor_tab2_bg.png",H7:"GUI/itemeditor_tab3_bg.png",V7:"GUI/list_panel.png",d8:"GUI/logout.png",h8:"GUI/mapeditor_icon.png",n8:"GUI/npceditor_icon.png",t9:"GUI/questeditor_icon.png",u9:"GUI/quickedit_closed_icon.png",v9:"GUI/quickedit_opened_icon.png",w9:"GUI/quickmenu_closed_icon.png",x9:"GUI/quickmenu_opened_icon.png",h$:"GUI/scripteditor_icon.png",tba:"GUI/settings_icon.png",uba:"GUI/shopeditor_icon.png",xba:"GUI/signeditor_bg.png",yba:"GUI/signeditor_icon.png",zba:"GUI/signpost.png",
Aba:"GUI/skilleditor_icon.png",Cba:"GUI/skills.png",Bba:"GUI/skills_icon.png",Eba:"GUI/splash.png",eca:"GUI/texture_change_left.png",fca:"GUI/texture_change_middle.png",gca:"GUI/texture_change_right.png",hca:"GUI/tick_icon.png",qca:"GUI/trash.png",zca:"GUI/use.png",Hca:"GUI/warpeditor_bg.png",Ica:"GUI/warpeditor_icon.png",n1:"building1.png",C1:"character_graphics.txt",I7:"items1.png",Fba:"sprites1.png",ica:"tile_graphics.txt",jca:"tiles1.png"};var q=q||{},ba={};q.JT=function(a){var c=q.bD[ba.iJ.OE];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={iJ:{OE:"_0"}};q.bD={};q.bD[ba.iJ.OE]=[];q.bD.DQ=[];var io="undefined"===typeof module?{}:module.oc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,pn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Fp(1<g.path.length?g.path:"")}})("object"===typeof module?module.oc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,t=g.length;h<t;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.oc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Af||(this.Af={});this.Af[a]?d.util.isArray(this.Af[a])?this.Af[a].push(c):this.Af[a]=[this.Af[a],c]:this.Af[a]=c;return this};e.prototype.hU=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.Rw=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Af&&this.Af[a]){var e=this.Af[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].Rw&&e[l].Rw===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Af[a]}else(e===c||e.Rw&&e.Rw===c)&&delete this.Af[a]}return this};e.prototype.gp=function(a){if(!this.Af)return!1;var c=this.Af[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.oc,"undefined"!=typeof io?io:module.parent.oc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,Q,R=c[a];R instanceof Date&&(R=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof p&&(R=p.call(c,a,R));switch(typeof R){case "string":return f(R);
case "number":return isFinite(R)?String(R):"null";case "boolean":case "null":return String(R);case "object":if(!R)return"null";m+=n;Q=[];if("[object Array]"===Object.prototype.toString.apply(R)){l=R.length;for(d=0;d<l;d+=1)Q[d]=g(d,R)||"null";k=0===Q.length?"[]":m?"[\n"+m+Q.join(",\n"+m)+"\n"+r+"]":"["+Q.join(",")+"]";m=r;return k}if(p&&"object"===typeof p)for(l=p.length,d=0;d<l;d+=1)"string"===typeof p[d]&&(h=p[d],(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k));else for(h in R)Object.prototype.hasOwnProperty.call(R,
h)&&(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k);k=0===Q.length?"{}":m?"{\n"+m+Q.join(",\n"+m)+"\n"+r+"}":"{"+Q.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},p;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((p=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.oc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.ww||"",m=a.bp,z=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)z=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(z=a.data);break;case "event":z=
{name:a.name};a.Oe&&a.Oe.length&&(z.Oe=a.Oe);z=k.stringify(z);break;case "json":z=k.stringify(a.data);break;case "connect":a.jJ&&(z=a.jJ);break;case "ack":z=a.cp+(a.Oe&&a.Oe.length?"+"+k.stringify(a.Oe):"")}c=[c,d+("data"==m?"+":""),e];null!==z&&void 0!==z&&c.push(z);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],ww:c[4]||""};d&&(e.id=d,e.bp=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.Oe=l.Oe}catch(z){}e.Oe=e.Oe||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.jJ=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.cp=c[1],e.Oe=[],c[3])try{e.Oe=c[3]?k.parse(c[3]):
[]}catch(C){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.oc,"undefined"!=typeof io?io:module.parent.oc);(function(a,d){function e(a,c){this.tb=a;this.EV=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.lI=function(){return!0};e.prototype.Fs=function(a){this.IB();
(this.tb.ih||this.tb.tg||this.tb.en)&&this.JJ();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Gs(a[c])};e.prototype.Gs=function(a){this.tb.TJ();if("heartbeat"==a.type)return this.UT();"connect"==a.type&&""==a.ww&&this.HC();"error"==a.type&&"reconnect"==a.advice&&(this.vs=!1);this.tb.Gs(a);return this};e.prototype.JJ=function(){if(!this.ep){var a=this;this.ep=setTimeout(function(){a.Zm()},this.tb.ep)}};e.prototype.Zm=function(){this.vs&&this.close();this.JB();
this.tb.Zm();return this};e.prototype.HC=function(){this.tb.HC();return this};e.prototype.IB=function(){this.ep&&(clearTimeout(this.ep),this.ep=null)};e.prototype.JB=function(){this.IB();this.jV&&clearTimeout(this.jV)};e.prototype.Wf=function(a){this.send(d.parser.encodePacket(a))};e.prototype.UT=function(){this.Wf({type:"heartbeat"})};e.prototype.Tw=function(){this.vs=!0;this.IB();this.tb.Tw()};e.prototype.ei=function(){this.vs=!1;this.tb.ei();this.Zm()};e.prototype.Is=function(){var a=this.tb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.ex+"/"+d.protocol+"/"+this.name+"/"+this.EV};e.prototype.Zw=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.oc,"undefined"!=typeof io?io:module.parent.oc);(function(a,d,e){function f(a){this.options={port:80,pn:!1,document:"document"in e?document:!1,ex:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.en=this.tg=this.open=this.ih=!1;this.namespaces={};this.buffer=[];this.QB=!1;if(this.options["sync disconnect on unload"]&&(!this.wp()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.wR()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Fp=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].Wf({type:"connect"}));return this.namespaces[a]};f.prototype.rl=function(){this.gp.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Fp(c),a.mk.apply(a,arguments))};f.prototype.RS=function(a){function c(d){d instanceof Error?(e.tg=!1,e.$m(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.pn?"s":"")+":/",f.host+":"+f.port,f.ex,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.wp()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var p=d.util.request();p.open("GET",f,!0);this.wp()&&(p.withCredentials=!0);p.onreadystatechange=function(){4==p.readyState&&(p.onreadystatechange=g,200==p.status?c(p.responseText):403==p.status?e.$m(p.responseText):(e.tg=!1,
!e.en&&e.$m(p.responseText)))};p.send(null)}};f.prototype.cI=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Km(this)&&(!this.wp()||d.Transport[e].ft(this)))return new d.Transport[e](this,this.BJ);return null};f.prototype.connect=function(a){if(this.tg)return this;var c=this;c.tg=!0;this.RS(function(e,f,g,r){function p(a){c.af&&c.af.JB();c.af=c.cI(a);c.af?c.af.Zw(c,function(){c.tg=!0;c.rl("connecting",c.af.name);c.af.open();c.options["connect timeout"]&&
(c.$Q=setTimeout(function(){if(!c.ih&&(c.tg=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.af.name;);a.length?p(a):c.rl("connect_failed")}},c.options["connect timeout"]))}):c.rl("connect_failed")}c.BJ=e;c.ep=1E3*g;c.WS=1E3*f;c.transports||(c.transports=c.iU=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.TJ();p(c.transports);c.hU(function(){clearTimeout(c.$Q);a&&"function"==typeof a&&a()})});return this};f.prototype.TJ=
function(){clearTimeout(this.kI);if(!this.af||this.af.lI()){var a=this;this.kI=setTimeout(function(){a.af.ei()},this.WS)}};f.prototype.Wf=function(a){this.ih&&!this.QB?this.af.Wf(a):this.buffer.push(a);return this};f.prototype.fk=function(a){this.QB=a;!a&&this.ih&&this.buffer.length&&(this.options.manualFlush||this.OR())};f.prototype.OR=function(){this.af.bJ(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.ih||this.tg)this.open&&this.Fp("").Wf({type:"disconnect"}),this.Zm("booted");
return this};f.prototype.wR=function(){var a=d.util.request();a.open("GET",["http"+(this.options.pn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.ex,d.protocol,"",this.BJ].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.Zm("booted")};f.prototype.wp=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.HC=function(){this.ih||(this.ih=!0,this.tg=!1,this.QB||this.fk(!1),this.gp("connect"))};
f.prototype.Tw=function(){this.open=!0};f.prototype.ei=function(){this.open=!1;clearTimeout(this.kI)};f.prototype.Gs=function(a){this.Fp(a.ww).Gs(a)};f.prototype.$m=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.ih||this.tg)&&(this.disconnect(),this.options.$w&&this.$w());this.rl("error",a&&a.reason?a.reason:a)};f.prototype.Zm=function(a){var c=this.ih,d=this.tg;this.open=this.tg=this.ih=!1;if(c||d)this.af.close(),this.af.JB(),c&&(this.rl("disconnect",a),"booted"!=a&&this.options.$w&&!this.en&&
this.$w())};f.prototype.$w=function(){function a(){if(d.ih){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].Wf({type:"connect"});d.rl("reconnect",d.af.name,d.ax)}clearTimeout(d.bx);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.en=!1;delete d.ax;delete d.fn;delete d.bx;delete d.oJ;d.options["try multiple transports"]=f}function c(){if(d.en){if(d.ih)return a();if(d.tg&&d.en)return d.bx=setTimeout(c,1E3);d.ax++>=e?d.oJ?(d.rl("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.iU,d.af=d.cI(),d.oJ=!0,d.connect()):(d.fn<g&&(d.fn*=2),d.connect(),d.rl("reconnecting",d.fn,d.ax),d.bx=setTimeout(c,d.fn))}}this.en=!0;this.ax=0;this.fn=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.bx=setTimeout(c,this.fn);this.on("connect",c)}})("undefined"!=
typeof io?io:module.oc,"undefined"!=typeof io?io:module.parent.oc,this);(function(a,d){function e(a,c){this.tb=a;this.name=c||"";this.yw={};this.AT=new f(this,"json");this.UG=0;this.Yr={}}function f(a,c){this.Ep=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.mk=d.EventEmitter.prototype.gp;e.prototype.Fp=function(){return this.tb.Fp.apply(this.tb,arguments)};e.prototype.Wf=function(a){a.ww=this.name;this.tb.Wf(a);this.yw={};return this};e.prototype.send=function(a,c){var d=
{type:this.yw.AT?"json":"message",data:a};"function"==typeof c&&(d.id=++this.UG,d.bp=!0,this.Yr[d.id]=c);return this.Wf(d)};e.prototype.gp=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.UG,e.bp="data",this.Yr[e.id]=d,c=c.slice(0,c.length-1));e.Oe=c;return this.Wf(e)};e.prototype.disconnect=function(){""===this.name?this.tb.disconnect():(this.Wf({type:"disconnect"}),this.mk("disconnect"));return this};e.prototype.Gs=
function(a){function c(){e.Wf({type:"ack",Oe:d.util.toArray(arguments),cp:a.id})}var e=this;switch(a.type){case "connect":this.mk("connect");break;case "disconnect":""===this.name?this.tb.Zm(a.reason||"booted"):this.mk("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.bp?f.push(c):a.bp&&this.Wf({type:"ack",cp:a.id});this.mk.apply(this,f);break;case "event":f=[a.name].concat(a.Oe);"data"==a.bp&&f.push(c);this.mk.apply(this,f);break;case "ack":this.Yr[a.cp]&&
(this.Yr[a.cp].apply(this,a.Oe),delete this.Yr[a.cp]);break;case "error":a.advice?this.tb.$m(a):"unauthorized"==a.reason?this.mk("connect_failed",a.reason):this.mk("error",a.reason)}};f.prototype.send=function(){this.Ep.yw[this.name]=!0;this.Ep.send.apply(this.Ep,arguments)};f.prototype.gp=function(){this.Ep.yw[this.name]=!0;this.Ep.gp.apply(this.Ep,arguments)}})("undefined"!=typeof io?io:module.oc,"undefined"!=typeof io?io:module.parent.oc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Kg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.tb.options.query),c=this,f;f||(f=e.nZ||e.QM);this.Kg=new f(this.Is()+a);this.Kg.onopen=function(){c.Tw();c.tb.fk(!1)};this.Kg.onmessage=function(a){c.Fs(a.data)};this.Kg.onclose=function(){c.ei();c.tb.fk(!0)};this.Kg.onerror=function(a){c.$m(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Kg.send(a)},0);return this}:function(a){this.Kg.send(a);
return this};f.prototype.bJ=function(a){for(var c=0,d=a.length;c<d;c++)this.Wf(a[c]);return this};f.prototype.close=function(){this.Kg.close();return this};f.prototype.$m=function(a){this.tb.$m(a)};f.prototype.scheme=function(){return this.tb.options.pn?"wss":"ws"};f.Km=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.ft=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.oc,"undefined"!=typeof io?io:module.parent.oc,
this);(function(c,d){function e(){d.Transport.Kg.apply(this,arguments)}c.J2=e;d.util.inherit(e,d.Transport.Kg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.su(function(){d.Transport.Kg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.su(function(){d.Transport.Kg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.pq.length=0;d.Transport.Kg.prototype.close.call(this);return this};
e.prototype.Zw=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.pn?"s":"")+":/",d.host+":"+d.port,d.ex,"static/flashsocket","WebSocketMain"+(a.wp()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.IT("xmlsocket://"+d.host+":"+h),WebSocket.Wy(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Km=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.ZR().NT:!1};e.ft=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.oc,"undefined"!=typeof io?io:module.parent.oc);if("undefined"!=typeof window)var a=function(){function c(){if(!ia){try{var a=J.getElementsByTagName("body")[0].appendChild(J.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ia=!0;for(var a=va.length,d=0;d<a;d++)va[d]()}}function d(a){ia?
a():va[va.length]=a}function e(a){if(typeof Z.addEventListener!=L)Z.addEventListener("load",a,!1);else if(typeof J.addEventListener!=L)J.addEventListener("load",a,!1);else if(typeof Z.attachEvent!=L)v(Z,a);else if("function"==typeof Z.onload){var c=Z.onload;Z.onload=function(){c();a()}}else Z.onload=a}function f(){var a=J.getElementsByTagName("body")[0],c=J.createElement(Q);c.setAttribute("type",R);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=L){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),E.Ip=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ga.length;if(0<a)for(var c=0;c<a;c++){var d=ga[c].id,e=ga[c].GQ,f={xn:!1,id:d};if(0<E.Ip[0]){var g=t(d);if(g)if(!z(ga[c].oX)||E.lk&&312>E.lk)if(ga[c].FH&&k()){f={};f.data=ga[c].FH;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.Lba=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),r=g.length,p=0;p<r;p++)"movie"!=g[p].getAttribute("name").toLowerCase()&&(n[g[p].getAttribute("name")]=g[p].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else C(d,!0),e&&(f.xn=!0,f.pJ=h(d),e(f))}else C(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=L&&(f.xn=!0,f.pJ=d),e(f))}}function h(a){var c=null;(a=t(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=L?c=a:(a=a.getElementsByTagName(Q)[0])&&
(c=a));return c}function k(){return!wa&&z("6.0.65")&&(E.yh||E.NI)&&!(E.lk&&312>E.lk)}function l(a,c,d,e){wa=!0;Ca=e||null;Ja={xn:!1,id:d};var f=t(d);if(f){"OBJECT"==f.nodeName?(ra=n(f),xa=null):(ra=f,xa=d);a.id=la;if(typeof a.width==L||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==L||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";J.title=J.title.slice(0,47)+" - Flash Player Installation";e=E.qh&&E.yh?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
Z.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+J.title;c.bs=typeof c.bs!=L?c.bs+("\x26"+e):e;E.qh&&E.yh&&4!=f.readyState&&(e=J.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(E.qh&&E.yh&&4!=a.readyState){var c=J.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=J.createElement("div");if(E.yh&&E.qh)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(Q)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=t(d);if(E.lk&&312>E.lk)return e;if(f)if(typeof a.id==
L&&(a.id=d),E.qh&&E.yh){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.m8=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";ya[ya.length]=a.id;e=t(a.id)}else{k=J.createElement(Q);k.setAttribute("type",
R);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=J.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function p(a){var c=t(a);c&&"OBJECT"==c.nodeName&&(E.qh&&E.yh?(c.style.display="none",function(){if(4==c.readyState){var d=t(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function t(a){var c=null;try{c=J.getElementById(a)}catch(d){}return c}function v(a,c){a.attachEvent("onload",c);ma[ma.length]=[a,"onload",c]}function z(a){var c=E.Ip;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!E.qh||!E.NI){var f=J.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Da=ea=null),ea&&Da==d||(e=J.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ea=f.appendChild(e),E.qh&&E.yh&&typeof J.styleSheets!=L&&0<J.styleSheets.length&&(ea=J.styleSheets[J.styleSheets.length-1]),Da=d),E.qh&&E.yh?ea&&typeof ea.addRule==Q&&ea.addRule(a,c):ea&&typeof J.createTextNode!=L&&ea.appendChild(J.createTextNode(a+" {"+c+"}")))}}function C(a,c){if(Ka){var d=
c?"visible":"hidden";ia&&t(a)?t(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=L?encodeURIComponent(a):a}var L="undefined",Q="object",R="application/x-shockwave-flash",la="SWFObjectExprInst",Z=window,J=document,ha=navigator,La=!1,va=[function(){La?f():g()}],ga=[],ya=[],ma=[],ra,xa,Ca,Ja,ia=!1,wa=!1,ea,Da,Ka=!0,E=function(){var a=typeof J.getElementById!=L&&typeof J.getElementsByTagName!=L&&typeof J.createElement!=L,c=ha.userAgent.toLowerCase(),
d=ha.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ha.plugins!=L&&typeof ha.plugins["Shockwave Flash"]==Q)!(h=ha.plugins["Shockwave Flash"].description)||typeof ha.mimeTypes!=L&&ha.mimeTypes[R]&&!ha.mimeTypes[R].enabledPlugin||(La=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof Z[["Active"].concat("Object").join("X")]!=L)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Cl:a,Ip:g,lk:c,qh:f,yh:e,NI:d}}();(function(){E.Cl&&((typeof J.readyState!=L&&"complete"==J.readyState||typeof J.readyState==
L&&(J.getElementsByTagName("body")[0]||J.body))&&c(),ia||(typeof J.addEventListener!=L&&J.addEventListener("DOMContentLoaded",c,!1),E.qh&&E.yh&&(J.attachEvent("onreadystatechange",function(){"complete"==J.readyState&&(J.detachEvent("onreadystatechange",arguments.callee),c())}),Z==top&&function(){if(!ia){try{J.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),E.lk&&function(){ia||(/loaded|complete/.test(J.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){E.qh&&E.yh&&window.attachEvent("onunload",function(){for(var c=ma.length,d=0;d<c;d++)ma[d][0].detachEvent(ma[d][1],ma[d][2]);c=ya.length;for(d=0;d<c;d++)p(ya[d]);for(var e in E)E[e]=null;E=null;for(var f in a)a[f]=null;a=null})})();return{D9:function(a,c,d,e){if(E.Cl&&a&&c){var f={};f.id=a;f.oX=c;f.FH=d;f.GQ=e;ga[ga.length]=f;C(a,!1)}else e&&e({xn:!1,id:a})},C4:function(a){if(E.Cl)return h(a)},HR:function(a,c,e,f,g,h,m,n,p,t){var v={xn:!1,id:c};E.Cl&&!(E.lk&&312>E.lk)&&a&&c&&e&&f&&g?(C(c,
!1),d(function(){e+="";f+="";var d={};if(p&&typeof p===Q)for(var D in p)d[D]=p[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===Q)for(var Y in n)D[Y]=n[Y];if(m&&typeof m===Q)for(var E in m)D.bs=typeof D.bs!=L?D.bs+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(z(g))Y=r(d,D,c),d.id==c&&C(c,!0),v.xn=!0,v.pJ=Y;else{if(h&&k()){d.data=h;l(d,D,c,t);return}C(c,!0)}t&&t(v)})):t&&t(v)},Tba:function(){Ka=!1},ua:E,ZR:function(){return{NT:E.Ip[0],i8:E.Ip[1],XC:E.Ip[2]}},TS:z,N1:function(a,c,d){if(E.Cl)return r(a,
c,d)},vba:function(a,c,d,e){E.Cl&&k()&&l(a,c,d,e)},R9:function(a){E.Cl&&p(a)},M1:function(a,c,d,e){E.Cl&&D(a,c,d,e)},F0:d,J0:e,h5:function(a){var c=J.location.search||J.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Y(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Y(c[d].substring(c[d].indexOf("\x3d")+1))}return""},t2:function(){if(wa){var a=t(la);a&&ra&&(a.parentNode.replaceChild(ra,a),xa&&(C(xa,!0),E.qh&&E.yh&&(ra.style.display=
"block")),Ca&&Ca(Ja));wa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.QM){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.TS("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.uu=WebSocket.XM++;WebSocket.gF[k.uu]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.Sn={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.su(function(){WebSocket.ri.create(k.uu,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.ri.send(this.uu,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.YD&&
(this.readyState=WebSocket.YD,WebSocket.ri.close(this.uu))},WebSocket.prototype.addEventListener=function(a,c){a in this.Sn||(this.Sn[a]=[]);this.Sn[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.Sn)for(var f=this.Sn[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.Sn[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.UM=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.eF(a.type);else if("close"==a.type)a=this.eF("close");else if("message"==a.type)a=this.SM(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.eF=function(a){if(document.createEvent&&window.MY){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.SM=function(a){if(document.createEvent&&
window.lZ&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.YD=2,WebSocket.CLOSED=3,WebSocket.ri=null,WebSocket.gF={},WebSocket.pq=[],WebSocket.XM=0,WebSocket.IT=function(a){WebSocket.su(function(){WebSocket.ri.b8(a)})},WebSocket.Wy=function(){if(!WebSocket.ri&&(WebSocket.ZM&&(window.PM=WebSocket.ZM),window.PM)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.WM()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.HR(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{v6:!0,Wba:!0,W0:"always"},null,function(a){a.xn||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.N_=function(){setTimeout(function(){WebSocket.ri=
document.getElementById("webSocketFlash");WebSocket.ri.u$(location.href);WebSocket.ri.C$(!!window.y_);for(var a=0;a<WebSocket.pq.length;++a)WebSocket.pq[a]();WebSocket.pq=[]},0)},WebSocket.M_=function(){setTimeout(function(){try{for(var a=WebSocket.ri.y9(),e=0;e<a.length;++e)WebSocket.gF[a[e].Jca].UM(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.L_=function(a){c.log(decodeURIComponent(a))},WebSocket.K_=function(a){c.error(decodeURIComponent(a))},WebSocket.su=function(a){WebSocket.ri?a():WebSocket.pq.push(a)},
WebSocket.WM=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.z_||(window.addEventListener?window.addEventListener("load",function(){WebSocket.Wy()},!1):window.attachEvent("onload",function(){WebSocket.Wy()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.pj=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.tb.fk(!1);this.Tw();this.get();this.JJ();return this};f.prototype.bJ=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.fJ(a);return this};f.prototype.fJ=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.m9=!1,200==this.status?f.tb.fk(!1):f.ei())}function d(){this.onload=
g;f.tb.fk(!1)}var f=this;this.tb.fk(!0);this.Ks=this.request("POST");e.XDomainRequest&&this.Ks instanceof XDomainRequest?this.Ks.onload=this.Ks.onerror=d:this.Ks.onreadystatechange=c;this.Ks.send(a)};f.prototype.close=function(){this.ei();return this};f.prototype.request=function(a){var c=d.util.request(this.tb.wp()),e=d.util.query(this.tb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Is()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.tb.options.pn?"https":"http"};f.Km=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.pn?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(p){}return!1};f.ft=function(a){return f.Km(a,!0)}})("undefined"!=typeof io?io.Transport:module.oc,"undefined"!=typeof io?io:module.parent.oc,this);(function(a,d){function e(a){d.Transport.pj.apply(this,
arguments)}a.y6=e;d.util.inherit(e,d.Transport.pj);e.prototype.name="htmlfile";e.prototype.get=function(){this.dl=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.dl.open();this.dl.write("\x3chtml\x3e\x3c/html\x3e");this.dl.close();this.dl.parentWindow.ji=this;var a=this.dl.createElement("div");a.className="socketio";this.dl.body.appendChild(a);this.xg=this.dl.createElement("iframe");a.appendChild(this.xg);var c=this,a=d.util.query(this.tb.options.query,"t\x3d"+ +new Date);this.xg.src=
this.Is()+a;d.util.on(window,"unload",function(){c.Dd()})};e.prototype.bF=function(a,c){a=a.replace(/\\\//g,"/");this.Fs(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.Dd=function(){if(this.xg){try{this.xg.src="about:blank"}catch(a){}this.dl=null;this.xg.parentNode.removeChild(this.xg);this.xg=null;CollectGarbage()}};e.prototype.close=function(){this.Dd();return d.Transport.pj.prototype.close.call(this)};e.Km=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.pj.Km(a)}catch(c){}return!1};e.ft=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.oc,"undefined"!=typeof io?io:module.parent.oc);(function(a,d,e){function f(){d.Transport.pj.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.pj);d.util.merge(f,d.Transport.pj);f.prototype.name="xhr-polling";
f.prototype.lI=function(){return!1};f.prototype.open=function(){d.Transport.pj.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Fs(this.responseText),f.get()):f.ei())}function c(){this.onerror=this.onload=g;f.cD=1;f.Fs(this.responseText);f.get()}function d(){f.cD++;!f.cD||3<f.cD?f.ei():f.get()}if(this.vs){var f=this;this.li=this.request();e.XDomainRequest&&this.li instanceof XDomainRequest?(this.li.onload=
c,this.li.onerror=d):this.li.onreadystatechange=a;this.li.send(null)}};f.prototype.ei=function(){d.Transport.pj.prototype.ei.call(this);if(this.li){this.li.onreadystatechange=this.li.onload=this.li.onerror=g;try{this.li.abort()}catch(a){}this.li=null}};f.prototype.Zw=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.oc,"undefined"!=typeof io?io:module.parent.oc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.bF(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.fJ=function(a){function c(){e();f.tb.fk(!1)}function e(){f.xg&&f.form.removeChild(f.xg);try{v=document.createElement('\x3ciframe name\x3d"'+f.pC+'"\x3e')}catch(a){v=document.createElement("iframe"),v.name=f.pC}v.id=f.pC;f.form.appendChild(v);f.xg=
v}var f=this,g=d.util.query(this.tb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),p=document.createElement("textarea"),t=this.pC="socketio_iframe_"+this.index,v;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=t;r.method="POST";r.setAttribute("accept-charset","utf-8");p.name="d";r.appendChild(p);document.body.appendChild(r);this.form=r;this.AQ=p}this.form.action=this.Is()+
g;e();this.AQ.value=d.JSON.stringify(a);try{this.form.submit()}catch(z){}this.xg.attachEvent?v.onreadystatechange=function(){"complete"==f.xg.readyState&&c()}:this.xg.onload=c;this.tb.fk(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.tb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.ib&&(this.ib.parentNode.removeChild(this.ib),this.ib=null);c.async=!0;c.src=this.Is()+e;c.onerror=function(){a.ei()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.ib=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.bF=function(a){this.Fs(a);this.vs&&this.get();return this};f.prototype.Zw=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Km=function(){return"document"in e};f.ft=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.oc,"undefined"!=
typeof io?io:module.parent.oc,this);"function"===typeof define&&define.X0&&define([],function(){return io})})();q=q||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.qT=0|998*Math.random();
ca.kH=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.mL(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.kH.mL=ca;ca.jS=function(){return this.id++};ca.kS=function(){return this.qT++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Ba=function(){};q.Ba.extend=function(d){function e(){this.Zb=ca.kS();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.jS();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.kH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Zb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.A6=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.C6=function(a,c){function d(){}d.prototype=c.prototype;a.Hx=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.DQ=function(a,c,d){var e=arguments.callee.caller;if(e.Hx)return ret=e.Hx.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Hx&&h.Hx.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.I1=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.Ng=function(a,c){this.x=a||0;this.y=c||0};q.cF=function(a,c){this.D=a||0;this.I=c||0;this.oK=function(a){this.D=a};this.pK=function(a){this.I=a}};q.nd=function(){return new q.cF(0,0)};
Object.defineProperties(q.cF.prototype,{x:{get:function(){return this.D},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.CZ=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.Ng(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.m0=q.a;q.lj=function(){return q.a(0,0)};q.cJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.tk=function(a,c){this.width=a||0;this.height=c||0};q.dF=function(a,c){this.Ea=a||0;this.oa=c||0;this.yD=function(a){this.Ea=a};this.mD=function(a){this.oa=a}};q.pm=function(){return new q.dF(0,0)};
Object.defineProperties(q.dF.prototype,{width:{get:function(){return this.Ea},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.oa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.g_=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.$a=q.size;q.Ml=function(){return q.size(0,0)};q.TG={uU:q.nd(),fX:q.pm()};Object.defineProperties(q,{lM:{get:function(){return q.TG.uU}},vM:{get:function(){return q.TG.fX}},HZ:{get:function(){return q.rect(0,0,0,0)}}});q.eX=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.cg=function(a,c,d,e){var f=arguments.length;if(4===f)this.bd=new q.Ng(a||0,c||0),this.$a=new q.tk(d||0,e||0);else if(1===f)this.bd=new q.Ng(a.bd.x,a.bd.y),this.$a=new q.tk(a.$a.width,a.$a.height);else if(0===f)this.bd=new q.Ng(0,0),this.$a=new q.tk(0,0);else if(2===f)this.bd=new q.Ng(a.x,a.y),this.$a=new q.tk(c.width,c.height);else throw"unknown argument type";};q.OZ=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.cg(0,0,0,0);if(1===f)return new q.cg(a.x,a.y,a.width,a.height);if(2===f)return new q.cg(a.x,a.y,c.width,c.height);if(4===f)return new q.cg(a,c,d,e);throw"unknown argument type";};q.ta=q.rect;q.Zc=function(){return q.rect(0,0,0,0)};q.nJ=function(a,c){return a&&c?q.cJ(a.bd,c.bd)&&q.eX(a.$a,c.$a):!1};q.rr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.z9=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.gn=function(a){return a.x+a.width};q.A9=function(a){return a.x+a.width/2};q.sl=function(a){return a.x};q.hn=function(a){return a.y+a.height};q.B9=function(a){return a.y+a.height/2};q.tl=function(a){return a.y};q.pb=function(a,c){return c.x>=q.sl(a)&&c.x<=q.gn(a)&&c.y>=q.tl(a)&&c.y<=q.hn(a)};q.LU=function(a,c){return!(q.gn(a)<q.sl(c)||q.gn(c)<q.sl(a)||q.hn(a)<q.tl(c)||q.hn(c)<q.tl(a))};
q.C9=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.cx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.KU=function(a,c){var d=q.rect(Math.max(q.sl(a),q.sl(c)),Math.max(q.tl(a),q.tl(c)),0,0);d.width=Math.min(q.gn(a),q.gn(c))-q.sl(d);d.height=Math.min(q.hn(a),q.hn(c))-q.tl(d);return d};b=q.cg.prototype;
b.oK=function(a){this.bd.x=a};b.pK=function(a){this.bd.y=a};b.ps=function(){return this.$a.width};b.yD=function(a){this.$a.width=a};b.is=function(){return this.$a.height};b.mD=function(a){this.$a.height=a};
Object.defineProperties(q.cg.prototype,{x:{get:function(){return this.bd.x},set:function(a){this.oK(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.bd.y},set:function(a){this.pK(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.ps()},set:function(a){this.yD(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.is()},set:function(a){this.mD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{u1:{get:function(){var a={canvas:!0};q.Da.Kc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},H8:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.nt},enumerable:!0,configurable:!0}});s.O2=function(){};
s.i2=function(){};s.c$=function(){};q.nt="Cocos2d-html5-v2.2.2";q.Ht=0;q.lE=q.a(0,0);q.rL=0.5;q.hY=1;q.wM=1;q.iM=0;q.UE=0;q.i_=0;q.j_=0;q.KZ=1;q.JZ="-hd";q.LM=1;q.sk=0;q.d_=0;q.eZ=0;q.dZ=0;q.my=1;q.rY=q.nt+"-canvas";q.mw={platform:s.platform};q.h2=function(){for(var a in s)q.log(a+" \x3d "+s[a])};q.mt=1;q.nE=1;q.lH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Da={};q.Da.EX=["baidubrowser","opera","firefox","chrome","safari"];
(function(){q.Da.ua=navigator.userAgent.toLowerCase();q.Da.platform=navigator.platform.toLowerCase();q.Da.bk=-1!=q.Da.ua.indexOf("mobile")||-1!=q.Da.ua.indexOf("android");q.Da.type=function(){var a=q.Da.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Da.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Da.mode="ie"==q.Da.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.qB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Da.EX.indexOf(q.Da.type);1===q.qB||0===q.qB&&(q.Da.bk||a)?q.Da.Kc=!1:(q.Da.Kc=null!=window.C_,a=document.createElement("Canvas"),a=q.lH(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Da.Kc=null!=a);2!==q.qB||q.Da.Kc||(q.Xy=!0);var a=q.Da,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Mba=c;q.Da.E8=function(a){if(this.bk){var c=q.V.e().Nb,d=c.width+"px",c=c.height+"px",h=q.nk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.HX=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.nk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.HX=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.PZ=function(){return"undefined"===q.Xy?!1:q.Xy};
q.Kb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Kb,a.lC=a.lC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.YG=a.YG||function(a){this.lC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.bV=a.bV||function(a){this.lC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Im=a.Im||
function(a){a.appendChild(this);return this},a.EU=a.EU||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.zn=a.zn||function(){this.style[q.Kb.sX]=q.Kb.translate(this.position)+q.Kb.rotate(this.rotation)+q.Kb.scale(this.scale)+q.Kb.zl(this.zl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.zl=a.zl||{x:0,y:0},a.GD=function(a,c){this.position.x=a;this.position.y=c;this.zn()},a.rotate=function(a){this.rotation=
a;this.zn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.zn();return this},a.fK=function(a,c){this.zl.x=a;this.zl.y=c;this.zn()};return a};switch(q.Da.type){case "firefox":q.Kb.Hp="Moz";q.Kb.qp=!0;break;case "chrome":case "safari":q.Kb.Hp="webkit";q.Kb.qp=!0;break;case "opera":q.Kb.Hp="O";q.Kb.qp=!1;break;case "ie":q.Kb.Hp="ms";q.Kb.qp=!1;break;default:q.Kb.Hp="webkit",q.Kb.qp=!0}q.Kb.sX=q.Kb.Hp+"Transform";
q.Kb.translate=q.Kb.qp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Kb.rotate=q.Kb.qp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Kb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Kb.zl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.nk=function(a){return q.Kb(document.createElement(a))};
q.Kb.H2=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.F=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.B||e instanceof HTMLElement?e:q.F(e)}return c};q.b1=function(){};q.qE=q.qE||!1;
q.vO=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){q.qE?q.vO(a):console.log.apply(console,arguments)};q.kZ=function(a){console.log(a)};q.it=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.cT=function(){0==q.kt?(q.log=function(){},q.LI=function(){},q.KI=function(){},q.it=function(){}):1==q.kt?(q.LI=q.log,q.KI=function(){}):1<q.kt&&(q.LI=q.log,q.KI=q.log)};q.PL=0;q.OL=1;q.QL=2;q.TL=3;q.RL=4;q.$L=5;q.ZL=6;q.VL=7;q.UL=8;q.SL=9;
q.YL=10;q.NL=11;q.WL=12;q.XL=13;
q.LL={d1:8,Yba:9,KR:13,shift:16,R1:17,alt:18,pause:19,v1:20,escape:27,e9:33,d9:34,end:35,home:36,left:37,tca:38,right:39,c2:40,H6:45,yY:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,G:65,f:66,za:67,Ha:68,j2:69,xw:70,i:71,ne:72,z6:73,j:74,J7:75,S7:76,f8:77,QI:78,A8:79,a:80,s9:81,m:82,ji:83,Xba:84,La:85,ia:86,YK:87,x:88,y:89,z:90,o8:96,p8:97,q8:98,r8:99,s8:100,t8:101,u8:102,v8:103,w8:104,x8:105,"*":106,"+":107,"-":109,numdel:110,"/":111,u2:112,y2:113,z2:114,A2:115,B2:116,C2:117,D2:118,E2:119,
F2:120,v2:121,w2:122,x2:123,z8:144,i$:145,k$:186,",":186,n2:187,"\x3d":187,";":188,H1:188,T1:189,".":190,i9:190,M2:191,s6:192,"[":219,F8:219,"]":221,G1:221,c1:220,quote:222,Dba:32};q.pi=-1;q.PI=Math.PI;q.CL=parseFloat("3.402823466e+38F");q.sM=q.PI/180;q.qL=180/q.PI;q.KM=4294967295;q.e_=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.U7=function(a,c,d){return a+(c-a)*d};q.GZ=function(){return 2*(Math.random()-0.5)};q.FZ=function(){return Math.random()};q.jj=function(a){return a*q.sM};q.yy=function(a){return a*q.qL};
q.Ll=Number.MAX_VALUE-1;q.ve=q.iM?1:770;q.ue=771;q.sy=function(a){a.Cc&&(a.Cc.bf(),a.Cc.Hg())};q.KY=function(){};q.xY=function(){};q.Ah=function(){q.Zh+=1};q.It=1.192092896E-7;q.wd=q.my?function(){return q.V.e().Wl}:function(){return 1};q.kM=function(a){var c=q.wd();return q.a(a.x*c,a.y*c)};q.G_=function(a,c){var d=q.wd();c.D=a.x*d;c.I=a.y*d};q.Dy=function(a){var c=q.wd();return q.size(a.width*c,a.height*c)};q.b_=function(a){var c=q.wd();return q.size(a.width/c,a.height/c)};
q.Uy=function(a,c){var d=q.wd();c.Ea=a.width/d;c.oa=a.height/d};q.AZ=function(a){var c=q.wd();return q.a(a.x/c,a.y/c)};q.ru=function(a,c){var d=q.wd();c.D=a.x/d;c.I=a.y/d};q.bq=q.my?function(a){var c=q.wd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.Kn=q.my?function(a){var c=q.wd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.XD=function(){if(q.Z9==q.uk){var a=q.T.getError();a&&q.log("WebGL error "+a)}};q.UZ=0;q.TZ=1;q.RZ=2;q.SZ=3;q.VZ=4;q.WZ=5;q.QZ=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var fa=document.createElement("script");fa.type="text/vbscript";fa.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(fa);
q.vF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.xd=q.Ba.extend({wj:null,Xk:null,LN:null,Oz:null,Ko:null,Oh:null,Dq:"",ctor:function(){this.wj={};this.Xk={};this.Oh=[];this.Oh.push(this.Dq);this.Ko=[];this.Ko.push("")},p9:function(){this.Oh=[]},f3:function(a){a=this.fe(a);return this.wj.hasOwnProperty(a)?this.wj[a]:this.sO(a)},Xu:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},tX:function(a){this.wj.hasOwnProperty(a)&&delete this.wj[a]},AU:function(a){a=this.fe(a);var c=this,d=this.Xu();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.vF(d.responseBody);e&&(c.wj[a]=c.Kv(e))}else q.Ub.e().an(a);q.Ub.e().hi()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.wj[a]=c.Kv(e):q.Ub.e().an(a);q.Ub.e().hi()});d.send(null)},sO:function(a){var c=this.Xu();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.vF(c.responseBody))d=this.Kv(c),this.wj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Kv(c.responseText);this.wj[a]=d}return d},Kv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},vX:function(a){a=this.fe(a);this.Xk.hasOwnProperty(a)&&delete this.Xk[a]},CU:function(a){a=this.fe(a);var c=this,d=this.Xu();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.Xk[a]=e)}else q.Ub.e().an(a);q.Ub.e().hi()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.Xk[a]=d.responseText:q.Ub.e().an(a);q.Ub.e().hi()});d.send(null)},uO:function(a){var c=this.Xu();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.Xk[a]=d);return d},YH:function(a){a=this.fe(a);return this.Xk.hasOwnProperty(a)?this.Xk[a]:
this.uO(a)},M3:function(){},W9:function(){},dJ:!0,N2:function(a){return a},fe:function(a){var c=!1;a=this.WN(a);for(var d,e=0;e<this.Oh.length;e++){for(var f=this.Oh[e],g=0;g<this.Ko.length;g++)if(d=this.XN(a,this.Ko[g],f)){c=!0;break}if(c)break}return c?d:a},Z7:function(a){var c=this.fe(a);if(0<c.length){var c=q.rk.e().parse(c),d=parseInt(c.metadata.version);1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.$V(c.filenames)}},$V:function(a){this.Oz=
a},NH:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Saa:function(a){this.Ko=a},u5:function(){return this.Ko},Raa:function(a){this.Oh=a},s5:function(){return this.Oh},l5:function(){return this.LN},Maa:function(){},X1:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.eR(a)},eR:function(a){return q.rk.e().parse(a)},J5:function(a){return this.YH(a)},
qw:function(a){return q.rk.e().parse(a)},m6:function(){return""},Caa:function(a){q.dJ=a},n7:function(){return q.dJ},KA:"",m5:function(){return this.KA},Naa:function(a){this.KA=a},WN:function(a){var c=null;(c=this.Oz?this.Oz[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},XN:function(a,c,d){var e;e=this.KA;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},$_:function(){},eK:function(a){var c=!1;this.Oh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.AI(e)||(f=this.Dq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Dq||(c=!0);this.Oh.push(e)}c||this.Oh.push(this.Dq)},M0:function(a){var c;this.AI(a)||(c=this.Dq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Oh.push(a)},t5:function(){},
AI:function(a){return"/"==a[0]}});q.eD=null;q.xd.e=function(){null==q.eD&&(q.eD=new q.xd);return q.eD};q.wc=function(a,c,d){switch(arguments.length){case 0:this.f=this.i=this.m=0;break;case 1:a&&a instanceof q.wc?(this.m=0|a.m||0,this.i=0|a.i||0,this.f=0|a.f||0):this.f=this.i=this.m=0;break;case 3:this.m=0|a||0;this.i=0|c||0;this.f=0|d||0;break;default:throw"unknown argument type";}};q.k=function(a,c,d){return new q.wc(a,c,d)};q.L6=function(a){a=a||0;var c=new q.wc;c.m=a&255;c.i=a>>8&255;c.f=a>>16&255;return c};q.jw=q.k;q.o1=function(a,c){return a.m===c.m&&a.i===c.i&&a.f===c.f};
Object.defineProperties(q,{A_:{get:function(){return q.k(255,255,255)}},D_:{get:function(){return q.k(255,255,0)}},eY:{get:function(){return q.k(0,0,255)}},TY:{get:function(){return q.k(0,255,0)}},IZ:{get:function(){return q.k(255,0,0)}},hZ:{get:function(){return q.k(255,0,255)}},cY:{get:function(){return q.k(0,0,0)}},rZ:{get:function(){return q.k(255,127,0)}},SY:{get:function(){return q.k(166,166,166)}}});q.vb=function(){return new q.wc(255,255,255)};q.Nca=function(){return new q.wc(255,255,0)};
q.blue=function(){return new q.wc(0,0,255)};q.green=function(){return new q.wc(0,255,0)};q.red=function(){return new q.wc(255,0,0)};q.g8=function(){return new q.wc(255,0,255)};q.f1=function(){return new q.wc(0,0,0)};q.G8=function(){return new q.wc(255,127,0)};q.pp=function(){return new q.wc(166,166,166)};q.Lb=function(a,c,d,e){this.m=0|a;this.i=0|c;this.f=0|d;this.G=0|e};q.o=function(a,c,d,e){return new q.Lb(a,c,d,e)};q.GB=q.o;q.Ld=function(a,c,d,e){this.m=a;this.i=c;this.f=d;this.G=e};
q.kw=function(a,c,d,e){return new q.Ld(a,c,d,e)};q.r1=function(a){return new q.Ld(a.m/255,a.i/255,a.f/255,1)};q.s1=function(a){return new q.Ld(a.m/255,a.i/255,a.f/255,a.G/255)};q.p1=function(a){return new q.Lb(0|255*a.m,0|255*a.i,0|255*a.f,0|255*a.G)};q.q1=function(a,c){return a.m==c.m&&a.i==c.i&&a.f==c.f&&a.G==c.G};q.yb=function(a,c){this.x=a||0;this.y=c||0};q.qu=function(a,c){return new q.yb(a,c)};q.Pc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
q.Eca=function(a,c,d){return new q.Pc(a,c,d)};q.rc=function(a,c){this.La=a||0;this.ia=c||0};q.dca=function(a,c){return new q.rc(a,c)};q.DZ=function(a,c,d){a||new q.yb(0,0);this.color=c||new q.Lb(0,0,0,0);this.size=d||0};q.Ut=function(a,c,d,e){this.Pa=a||new q.yb(0,0);this.Ja=c||new q.yb(0,0);this.Ga=d||new q.yb(0,0);this.Sa=e||new q.yb(0,0)};q.EZ=function(a,c,d,e){this.Ga=a||new q.Pc(0,0,0);this.Sa=c||new q.Pc(0,0,0);this.Pa=d||new q.Pc(0,0,0);this.Ja=e||new q.Pc(0,0,0)};
q.FL=function(a,c){this.x=a;this.y=c};q.i=function(a,c){return new q.FL(a,c)};q.Qb=function(a,c,d){this.q=a||new q.yb(0,0);this.H=c||new q.Lb(0,0,0,0);this.u=d||new q.rc(0,0)};q.nu=function(){this.q=new q.yb(0,0);this.H=new q.Ld(0,0,0,0);this.u=new q.rc(0,0)};q.lc=function(a,c,d){this.q=a||new q.Pc(0,0,0);this.H=c||new q.Lb(0,0,0,0);this.u=d||new q.rc(0,0)};q.yc=function(a,c,d){this.G=a||new q.Qb;this.f=c||new q.Qb;this.za=d||new q.Qb};
q.MM=function(){var a=new q.Qb(new q.yb(0,0),new q.Lb(0,0,0,255),new q.rc(0,0)),c=new q.Qb(new q.yb(0,0),new q.Lb(0,0,0,255),new q.rc(0,0)),d=new q.Qb(new q.yb(0,0),new q.Lb(0,0,0,255),new q.rc(0,0)),e=new q.Qb(new q.yb(0,0),new q.Lb(0,0,0,255),new q.rc(0,0));this.Ga=a||new q.Qb;this.Sa=c||new q.Qb;this.Pa=d||new q.Qb;this.Ja=e||new q.Qb};q.v_=function(){return new q.MM};q.Yb=function(a,c,d,e){this.Pa=a||new q.lc;this.Ga=c||new q.lc;this.Ja=d||new q.lc;this.Sa=e||new q.lc};
q.Sy=function(){return new q.Yb(new q.lc(new q.Pc(0,0,0),new q.Lb(0,0,0,255),new q.rc(0,0)),new q.lc(new q.Pc(0,0,0),new q.Lb(0,0,0,255),new q.rc(0,0)),new q.lc(new q.Pc(0,0,0),new q.Lb(0,0,0,255),new q.rc(0,0)),new q.lc(new q.Pc(0,0,0),new q.Lb(0,0,0,255),new q.rc(0,0)))};
q.Ry=function(a){return a?new q.Yb(new q.lc(new q.Pc(a.Pa.q.x,a.Pa.q.y,a.Pa.q.z),new q.Lb(a.Pa.H.m,a.Pa.H.i,a.Pa.H.f,a.Pa.H.G),new q.rc(a.Pa.u.La,a.Pa.u.ia)),new q.lc(new q.Pc(a.Ga.q.x,a.Ga.q.y,a.Ga.q.z),new q.Lb(a.Ga.H.m,a.Ga.H.i,a.Ga.H.f,a.Ga.H.G),new q.rc(a.Ga.u.La,a.Ga.u.ia)),new q.lc(new q.Pc(a.Ja.q.x,a.Ja.q.y,a.Ja.q.z),new q.Lb(a.Ja.H.m,a.Ja.H.i,a.Ja.H.f,a.Ja.H.G),new q.rc(a.Ja.u.La,a.Ja.u.ia)),new q.lc(new q.Pc(a.Sa.q.x,a.Sa.q.y,a.Sa.q.z),new q.Lb(a.Sa.H.m,a.Sa.H.i,a.Sa.H.f,a.Sa.H.G),new q.rc(a.Sa.u.La,
a.Sa.u.ia))):q.Sy()};q.x_=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.Ry(a[d]));return c};q.w_=function(a,c,d,e){this.Ga=a||new q.nu;this.Sa=c||new q.nu;this.Pa=d||new q.nu;this.Ja=e||new q.nu};q.Hl=function(a,c){this.src=a;this.Db=c};q.fY=function(){return new q.Hl(1,0)};q.al=function(a){var c=a.m.toString(16),d=a.i.toString(16),e=a.f.toString(16);return"#"+(16>a.m?"0"+c:c)+(16>a.i?"0"+d:d)+(16>a.f?"0"+e:e)};
q.Da.Kc&&(q.Lb=function(a,c,d,e,f,g){this.Mb=f||new ArrayBuffer(q.Lb.BYTES_PER_ELEMENT);this.Fb=g||0;f=this.Mb;g=this.Fb;var h=Uint8Array.BYTES_PER_ELEMENT;this.BA=new Uint8Array(f,g,1);this.Vz=new Uint8Array(f,g+h,1);this.gz=new Uint8Array(f,g+2*h,1);this.Zy=new Uint8Array(f,g+3*h,1);this.BA[0]=a||0;this.Vz[0]=c||0;this.gz[0]=d||0;this.Zy[0]=e||0},q.Lb.BYTES_PER_ELEMENT=4,Object.defineProperties(q.Lb.prototype,{m:{get:function(){return this.BA[0]},set:function(a){this.BA[0]=a},enumerable:!0},i:{get:function(){return this.Vz[0]},
set:function(a){this.Vz[0]=a},enumerable:!0},f:{get:function(){return this.gz[0]},set:function(a){this.gz[0]=a},enumerable:!0},G:{get:function(){return this.Zy[0]},set:function(a){this.Zy[0]=a},enumerable:!0}}),q.Ld=function(a,c,d,e,f,g){this.Mb=f||new ArrayBuffer(q.Ld.BYTES_PER_ELEMENT);this.Fb=g||0;f=this.Mb;g=this.Fb;var h=Float32Array.BYTES_PER_ELEMENT;this.AA=new Float32Array(f,g,1);this.AA[0]=a||0;this.Uz=new Float32Array(f,g+h,1);this.Uz[0]=c||0;this.fz=new Float32Array(f,g+2*h,1);this.fz[0]=
d||0;this.Yy=new Float32Array(f,g+3*h,1);this.Yy[0]=e||0},q.Ld.BYTES_PER_ELEMENT=16,Object.defineProperties(q.Ld.prototype,{m:{get:function(){return this.AA[0]},set:function(a){this.AA[0]=a},enumerable:!0},i:{get:function(){return this.Uz[0]},set:function(a){this.Uz[0]=a},enumerable:!0},f:{get:function(){return this.fz[0]},set:function(a){this.fz[0]=a},enumerable:!0},G:{get:function(){return this.Yy[0]},set:function(a){this.Yy[0]=a},enumerable:!0}}),q.yb=function(a,c,d,e){this.Mb=d||new ArrayBuffer(q.yb.BYTES_PER_ELEMENT);
this.Fb=e||0;this.Em=new Float32Array(this.Mb,this.Fb,1);this.Fm=new Float32Array(this.Mb,this.Fb+4,1);this.Em[0]=a||0;this.Fm[0]=c||0},q.yb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.yb.prototype,{x:{get:function(){return this.Em[0]},set:function(a){this.Em[0]=a},enumerable:!0},y:{get:function(){return this.Fm[0]},set:function(a){this.Fm[0]=a},enumerable:!0}}),q.Pc=function(a,c,d,e,f){this.Mb=e||new ArrayBuffer(q.Pc.BYTES_PER_ELEMENT);this.Fb=f||0;e=this.Mb;f=this.Fb;this.Em=new Float32Array(e,
f,1);this.Em[0]=a||0;this.Fm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Fm[0]=c||0;this.yB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.yB[0]=d||0},q.Pc.BYTES_PER_ELEMENT=12,Object.defineProperties(q.Pc.prototype,{x:{get:function(){return this.Em[0]},set:function(a){this.Em[0]=a},enumerable:!0},y:{get:function(){return this.Fm[0]},set:function(a){this.Fm[0]=a},enumerable:!0},z:{get:function(){return this.yB[0]},set:function(a){this.yB[0]=a},enumerable:!0}}),q.rc=
function(a,c,d,e){this.Mb=d||new ArrayBuffer(q.rc.BYTES_PER_ELEMENT);this.Fb=e||0;this.jB=new Float32Array(this.Mb,this.Fb,1);this.rB=new Float32Array(this.Mb,this.Fb+4,1);this.jB[0]=a||0;this.rB[0]=c||0},q.rc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.rc.prototype,{La:{get:function(){return this.jB[0]},set:function(a){this.jB[0]=a},enumerable:!0},ia:{get:function(){return this.rB[0]},set:function(a){this.rB[0]=a},enumerable:!0}}),q.Ut=function(a,c,d,e,f,g){this.Mb=f||new ArrayBuffer(q.Ut.BYTES_PER_ELEMENT);
this.Fb=g||0;f=this.Mb;g=q.yb.BYTES_PER_ELEMENT;this.Wo=a?new q.yb(a.x,a.y,f,0):new q.yb(0,0,f,0);this.Yo=c?new q.yb(c.x,c.y,f,g):new q.yb(0,0,f,g);this.Xn=d?new q.yb(d.x,d.y,f,2*g):new q.yb(0,0,f,2*g);this.Zn=e?new q.yb(e.x,e.y,f,3*g):new q.yb(0,0,f,3*g)},q.Ut.BYTES_PER_ELEMENT=32,Object.defineProperties(q.Ut.prototype,{Pa:{get:function(){return this.Wo},set:function(a){this.Wo.x=a.x;this.Wo.y=a.y},enumerable:!0},Ja:{get:function(){return this.Yo},set:function(a){this.Yo.x=a.x;this.Yo.y=a.y},enumerable:!0},
Ga:{get:function(){return this.Xn},set:function(a){this.Xn.x=a.x;this.Xn.y=a.y},enumerable:!0},Sa:{get:function(){return this.Zn},set:function(a){this.Zn.x=a.x;this.Zn.y=a.y},enumerable:!0}}),q.lc=function(a,c,d,e,f){this.Mb=e||new ArrayBuffer(q.lc.BYTES_PER_ELEMENT);this.Fb=f||0;e=this.Mb;f=this.Fb;var g=q.Pc.BYTES_PER_ELEMENT;this.$o=a?new q.Pc(a.x,a.y,a.z,e,f):new q.Pc(0,0,0,e,f);this.zq=c?new q.Lb(c.m,c.i,c.f,c.G,e,f+g):new q.Lb(0,0,0,0,e,f+g);this.um=d?new q.rc(d.La,d.ia,e,f+g+q.Lb.BYTES_PER_ELEMENT):
new q.rc(0,0,e,f+g+q.Lb.BYTES_PER_ELEMENT)},q.lc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.lc.prototype,{q:{get:function(){return this.$o},set:function(a){var c=this.$o;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},H:{get:function(){return this.zq},set:function(a){var c=this.zq;c.m=a.m;c.i=a.i;c.f=a.f;c.G=a.G},enumerable:!0},u:{get:function(){return this.um},set:function(a){this.um.La=a.La;this.um.ia=a.ia},enumerable:!0}}),q.Yb=function(a,c,d,e,f,g){this.Mb=f||new ArrayBuffer(q.Yb.BYTES_PER_ELEMENT);
this.Fb=g||0;f=this.Mb;g=this.Fb;var h=q.lc.BYTES_PER_ELEMENT;this.Wo=a?new q.lc(a.q,a.H,a.u,f,g):new q.lc(null,null,null,f,g);this.Xn=c?new q.lc(c.q,c.H,c.u,f,g+h):new q.lc(null,null,null,f,g+h);this.Yo=d?new q.lc(d.q,d.H,d.u,f,g+2*h):new q.lc(null,null,null,f,g+2*h);this.Zn=e?new q.lc(e.q,e.H,e.u,f,g+3*h):new q.lc(null,null,null,f,g+3*h)},q.Yb.BYTES_PER_ELEMENT=96,Object.defineProperties(q.Yb.prototype,{Pa:{get:function(){return this.Wo},set:function(a){var c=this.Wo;c.q=a.q;c.H=a.H;c.u=a.u},enumerable:!0},
Ga:{get:function(){return this.Xn},set:function(a){var c=this.Xn;c.q=a.q;c.H=a.H;c.u=a.u},enumerable:!0},Ja:{get:function(){return this.Yo},set:function(a){var c=this.Yo;c.q=a.q;c.H=a.H;c.u=a.u},enumerable:!0},Sa:{get:function(){return this.Zn},set:function(a){var c=this.Zn;c.q=a.q;c.H=a.H;c.u=a.u},enumerable:!0},BB:{get:function(){return this.Mb},enumerable:!0}}),q.Sy=function(){return new q.Yb},q.Ry=function(a){if(!a)return q.Sy();var c=a.Pa,d=a.Ga,e=a.Ja;a=a.Sa;return{Pa:{q:{x:c.q.x,y:c.q.y,z:c.q.z},
H:{m:c.H.m,i:c.H.i,f:c.H.f,G:c.H.G},u:{La:c.u.La,ia:c.u.ia}},Ga:{q:{x:d.q.x,y:d.q.y,z:d.q.z},H:{m:d.H.m,i:d.H.i,f:d.H.f,G:d.H.G},u:{La:d.u.La,ia:d.u.ia}},Ja:{q:{x:e.q.x,y:e.q.y,z:e.q.z},H:{m:e.H.m,i:e.H.i,f:e.H.f,G:e.H.G},u:{La:e.u.La,ia:e.u.ia}},Sa:{q:{x:a.q.x,y:a.q.y,z:a.q.z},H:{m:a.H.m,i:a.H.i,f:a.H.f,G:a.H.G},u:{La:a.u.La,ia:a.u.ia}}}},q.Qb=function(a,c,d,e,f){this.Mb=e||new ArrayBuffer(q.Qb.BYTES_PER_ELEMENT);this.Fb=f||0;e=this.Mb;f=this.Fb;var g=q.yb.BYTES_PER_ELEMENT;this.$o=a?new q.yb(a.x,
a.y,e,f):new q.yb(0,0,e,f);this.zq=c?new q.Lb(c.m,c.i,c.f,c.G,e,f+g):new q.Lb(0,0,0,0,e,f+g);this.um=d?new q.rc(d.La,d.ia,e,f+g+q.Lb.BYTES_PER_ELEMENT):new q.rc(0,0,e,f+g+q.Lb.BYTES_PER_ELEMENT)},q.Qb.BYTES_PER_ELEMENT=20,Object.defineProperties(q.Qb.prototype,{q:{get:function(){return this.$o},set:function(a){this.$o.x=a.x;this.$o.y=a.y},enumerable:!0},H:{get:function(){return this.zq},set:function(a){var c=this.zq;c.m=a.m;c.i=a.i;c.f=a.f;c.G=a.G},enumerable:!0},u:{get:function(){return this.um},
set:function(a){this.um.La=a.La;this.um.ia=a.ia},enumerable:!0}}),q.yc=function(a,c,d,e,f){this.Mb=e||new ArrayBuffer(q.yc.BYTES_PER_ELEMENT);this.Fb=f||0;e=this.Mb;f=this.Fb;var g=q.Qb.BYTES_PER_ELEMENT;this.hF=a?new q.Qb(a.q,a.H,a.u,e,f):new q.Qb(null,null,null,e,f);this.mF=c?new q.Qb(c.q,c.H,c.u,e,f+g):new q.Qb(null,null,null,e,f+g);this.rF=d?new q.Qb(d.q,d.H,d.u,e,f+2*g):new q.Qb(null,null,null,e,f+2*g)},q.yc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.yc.prototype,{G:{get:function(){return this.hF},
set:function(a){var c=this.hF;c.q=a.q;c.H=a.H;c.u=a.u},enumerable:!0},f:{get:function(){return this.mF},set:function(a){var c=this.mF;c.q=a.q;c.H=a.H;c.u=a.u},enumerable:!0},za:{get:function(){return this.rF},set:function(a){var c=this.rF;c.q=a.q;c.H=a.H;c.u=a.u},enumerable:!0}}));q.J1=function(a){a=a.substr(1).split("");return new q.wc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.iq=0;q.oj=1;q.DM=2;q.nq=0;q.pu=1;q.mq=2;
q.F_=q.Ba.extend({Bo:null,Vr:null,Vy:0,ctor:function(){this.Bo={};this.Vr={};this.Vy=2<<(0|10*Math.random())},TM:function(){this.Vy++;return"key_"+this.Vy},rW:function(a,c){if(null!=c){var d=this.TM();this.Bo[d]=c;this.Vr[d]=a}},TT:function(a){if(null==a)return null;var c=this.Bo,d;for(d in c)if(c[d]===a)return this.Vr[d];return null},Dca:function(a){return this.TT(a)},fV:function(a){if(null!=a){var c=this.Bo,d;for(d in c)if(c[d]===a){delete this.Vr[d];delete c[d];break}}},P9:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.fV(a[c])},vQ:function(){var a=[],c=this.Bo,d;for(d in c)a.push(c[d]);return a},I9:function(){this.Bo={};this.Vr={}},count:function(){return this.vQ().length}});q.EL=function(){this.ds="Arial";this.fontSize=12;this.IH=q.oj;this.JH=q.nq;this.KH=q.vb();this.cs=q.size(0,0);this.DD=!1;this.strokeColor=q.vb();this.EK=1;this.rK=!1;this.sK=q.size(0,0);this.shadowBlur=0;this.tK=1};q.Ln={gy:0,ty:1,SHOW_ALL:2,hy:3,iy:4,u_:5};q.mu=[];q.jq={};
q.na=q.Ba.extend({Sb:null,Ce:null,oo:null,Ok:null,Ne:null,uB:null,tB:"",IA:null,qa:1,bG:1,ya:1,cG:1,$q:0,YF:5,Lh:null,iG:null,mG:null,lG:null,jG:null,kG:null,cr:!1,R_:!1,A0:null,IF:null,JF:null,$M:null,s0:!1,vz:null,k0:null,zj:null,Qz:1,vu:!1,NF:!1,ctor:function(){this.zj=q.Wj.parentNode===document.body?document.documentElement:q.Wj.parentNode;this.Ce=q.size(0,0);this.dA();var a=q.canvas.width,c=q.canvas.height;this.oo=q.size(a,c);this.Ok=q.size(a,c);this.Ne=q.rect(0,0,a,c);this.uB=q.rect(0,0,a,c);
this.Sb=q.V.e().Le;this.vz={left:0,top:0};this.tB="Cocos2dHTML5";q.aF.r(this.oo);this.iG=new q.Mn(q.Lg.ot,q.xe.gy);this.mG=new q.Mn(q.Lg.oM,q.xe.SHOW_ALL);this.lG=new q.Mn(q.Lg.ot,q.xe.ty);this.jG=new q.Mn(q.Lg.ot,q.xe.hy);this.kG=new q.Mn(q.Lg.ot,q.xe.iy);this.IF=q.canvas;this.JF=q.T},JA:function(){var a=this.Ok.width,c=this.Ok.height;this.IA&&(this.dA(),this.IA.call());0<a&&this.jD(a,c,this.Lh)},b$:function(a){a?this.vu||(this.vu=!0,a=this.JA.bind(this),window.addEventListener("resize",a,!1)):this.vu&&
(this.vu=!0,a=this.JA.bind(this),window.removeEventListener("resize",a,!1))},Laa:function(a){if("function"==typeof a||null==a)this.IA=a},dA:function(){var a=this.Ce;a.width=this.zj.clientWidth;a.height=this.zj.clientHeight},O_:function(){var a=this.Ok.width,c=this.Ok.height;0<a&&this.jD(a,c,this.Lh)},GP:function(){if(this.NF){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},zP:function(){var a=q.wd();this.ya=this.qa=a},bP:function(){this.qa=this.bG;this.ya=this.cG},ZN:function(){var a,c=this.$q;for(a=0;a<this.YF;a++){if(!(c&1))return this.$q|=1<<a,a;c>>=1}return-1},YO:function(a){0>a||a>=this.YF||(a=~(1<<a),this.$q&=a)},P_:function(){},nT:function(){this.cr=!0},R0:function(a){this.NF=a},end:function(){},l7:function(){return null!=
this.IF&&null!=this.JF},Q$:function(a){this.Qz=a;q.V.e().rx(q.V.e().Sk)},Sba:function(){},U$:function(){},B$:function(a,c){this.vz={left:a,top:c}},t3:function(){return this.vz},zw:function(){return q.size(this.Ce.width,this.Ce.height)},P$:function(a,c){this.Ce.width=a;this.Ce.height=c;this.zj.style.width=a+"px";this.zj.style.height=c+"px";this.JA();q.V.e().rx(q.V.e().Sk)},x1:function(){},n$:function(a){this.$M=a},os:function(){return this.uB.$a},eI:function(){return this.uB.bd},t1:function(){return!0},
k5:function(){return this.Lh},GW:function(a){if(a instanceof q.Mn)this.Lh=a;else switch(a){case q.Ln.gy:this.Lh=this.iG;break;case q.Ln.SHOW_ALL:this.Lh=this.mG;break;case q.Ln.ty:this.Lh=this.lG;break;case q.Ln.hy:this.Lh=this.jG;break;case q.Ln.iy:this.Lh=this.kG}},jD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else if(this.GW(d),policy=this.Lh){policy.dn(this);var e=this.Ce.width,f=this.Ce.height;q.Da.bk&&this.GP(this.Ce.width,this.Ce.height);this.dA();if(d!=
this.Lh||a!=this.Ok.width||c!=this.Ok.height||e!=this.Ce.width||f!=this.Ce.height)this.oo=q.size(a,c),this.Ok=q.size(a,c),a=policy.apply(this,this.oo),a.scale&&2==a.scale.length&&(this.qa=a.scale[0],this.ya=a.scale[1]),a.viewport instanceof q.cg&&(this.Ne=a.viewport),a=q.V.e(),a.Nb=this.kp(),q.td==q.uk&&(a.mo(),a.SJ()),this.bG=this.qa,this.cG=this.ya,q.ec&&q.ec.$O(),q.aF.r(this.os()),policy.cn(this)}else q.log("should set resolutionPolicy")},kp:function(){return q.size(this.oo.width,this.oo.height)},
hba:function(a){this.Sb=a},SW:function(a,c,d,e){var f=this.Qz,g=this.qa,h=this.ya;q.T.viewport(a*g*f+this.Ne.x*f,c*h*f+this.Ne.y*f,d*g*f,e*h*f)},oD:function(a,c,d,e){var f=this.Qz,g=this.qa,h=this.ya;q.T.scissor(a*g*f+this.Ne.x*f,c*h*f+this.Ne.y*f,d*g*f,e*h*f)},xT:function(){var a=q.T;return a.isEnabled(a.SCISSOR_TEST)},vS:function(){var a=q.T,c=this.qa,d=this.ya,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.Ne.x)/c,(a[1]-this.Ne.y)/d,a[2]/c,a[3]/d)},qba:function(a){null!=a&&0<a.length&&
(this.tB=a)},h6:function(){return this.tB},i6:function(){return this.Ne},tS:function(){return this.qa},uS:function(){return this.ya},Xj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},NS:function(a,c,d,e){for(var f=[],g=this.Ne,h=this.qa,k=this.ya,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],p=0;if(null==q.jq[m])if(p=this.ZN(),-1==p)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+p);else{var t=q.mu[p]=new q.df;t.tD(p,(n-g.x)/h,(r-g.y)/k);q.jq[m]=0|p;f.push(t)}}0!=f.length&&this.Sb.Jx(f,
null)},QS:function(a,c,d,e){for(var f=[],g=this.qa,h=this.ya,k=this.Ne.x,l=this.Ne.y,m=0;m<a;++m){var n=d[m],r=e[m],p=q.jq[c[m]];if(null!=p){var t=q.mu[p];if(t)t.tD(p,(n-k)/g,(r-l)/h),f.push(t);else return}}0!=f.length&&this.Sb.Kx(f,null)},PS:function(a,c,d,e){var f=[];this.XH(f,a,c,d,e);this.Sb.Ys(f,null)},OS:function(a,c,d,e){var f=[];this.XH(f,a,c,d,e);this.Sb.FD(f,null)},XH:function(a,c,d,e,f){for(var g=this.qa,h=this.ya,k=this.Ne,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],p=q.jq[m];if(null!=p){var t=
q.mu[p];if(t)t.tD(p,(n-k.x)/g,(r-k.y)/h),a.push(t),q.mu[p]=null,this.YO(p),delete q.jq[m];else break}}},Jx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Df||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.NS(f,c,d,e)},Kx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Df||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.QS(f,c,d,e)},Ys:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Df||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.PS(f,c,d,e)},FD:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Df||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.OS(f,c,d,e)}});q.na.e=function(){this.Eb||(this.Eb=new q.na,this.Eb.nT());return this.Eb};
q.Lg=q.Ba.extend({dn:function(){},apply:function(){},cn:function(){},tG:function(a,c,d){q.Da.bk&&a==document.documentElement&&q.Fy.e().CQ(q.canvas);a=q.canvas;var e=q.Wj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},CF:function(){document.body.insertBefore(q.Wj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.Wj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
q.xe=q.Ba.extend({LA:{scale:[1,1],viewport:null},wq:function(a,c,d,e,f,g){a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.td==q.$f&&q.T.translate(a.x,a.y+e);this.LA.scale=[f,g];this.LA.viewport=a;return this.LA},dn:function(){},apply:function(){return{scale:[1,1]}},cn:function(){}});
(function(){var a=q.Lg.extend({apply:function(a){this.tG(a.zj,a.Ce.width,a.Ce.height)}}),c=q.Lg.extend({apply:function(a,c){var d=a.Ce.width,e=a.Ce.height,f=q.Wj.style,n=c.width,r=c.height,p=d/n,t=e/r,v,z;p<t?(v=d,z=r*p):(v=n*t,z=e);n=Math.floor((d-v)/2);z=Math.floor((e-z)/2);this.tG(a.zj,d-2*n,e-2*z);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=z+"px";f.marginBottom=z+"px"}});a.extend({dn:function(a){a.zj=document.documentElement},apply:function(a){this._super(a);this.CF()}});c.extend({dn:function(a){a.zj=
document.documentElement},apply:function(a,c){this._super(a,c);this.CF()}});var d=q.Lg.extend({});q.Lg.ot=new a;q.Lg.oM=new c;q.Lg.wZ=new d;var a=q.xe.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.wq(d,e,d,e,d/c.width,e/c.height)}}),c=q.xe.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,t,v,z;r<p?(t=r,v=d,z=n*t):(t=p,v=f*t,z=e);return this.wq(d,e,v,z,t,t)}}),d=q.xe.extend({apply:function(a,c){var d=q.canvas.width,
e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,t,v,z;r<p?(t=p,v=f*t,z=e):(t=r,v=d,z=n*t);return this.wq(d,e,v,z,t,t)}}),e=q.xe.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.wq(d,e,d,e,f,f)},cn:function(a){q.V.e().Nb=a.os()}}),f=q.xe.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.wq(d,e,d,e,f,f)},cn:function(a){q.V.e().Nb=a.os()}});q.xe.gy=new a;q.xe.SHOW_ALL=new c;q.xe.ty=new d;q.xe.hy=new e;q.xe.iy=new f})();
q.Mn=q.Ba.extend({Ju:null,Ku:null,ctor:function(a,c){this.QV(a);this.TV(c)},dn:function(a){this.Ju.dn(a);this.Ku.dn(a)},apply:function(a,c){this.Ju.apply(a,c);return this.Ku.apply(a,c)},cn:function(a){this.Ju.cn(a);this.Ku.cn(a)},QV:function(a){a instanceof q.Lg&&(this.Ju=a)},TV:function(a){a instanceof q.xe&&(this.Ku=a)}});q.Fy=q.Ba.extend({Fr:!1,zk:"",vA:null,wA:null,iB:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Fr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Fr=!0;this.zk=f;break}this.iB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Fr)switch(this.zk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.zk+"FullScreen"]}return!1},vJ:function(a,
c){if(this.Fr&&!this.fullScreen()){if(c){var d=this.zk+"fullscreenchange";this.vA&&this.wA&&this.vA.removeEventListener(d,this.wA);this.vA=a;this.wA=c;a.addEventListener(d,c,!1)}return""===this.zk?a.requestFullScreen():a[this.zk+"RequestFullScreen"]()}},s2:function(){if(this.Fr&&this.fullScreen())return""===this.zk?document.body.cancelFullScreen():document.body[this.zk+"CancelFullScreen"]()},CQ:function(a,c){function d(){e.vJ(a,c);a.removeEventListener(e.iB,d)}var e=this;this.vJ(a,c);a.addEventListener(this.iB,
d)}});q.Fy.e=function(){if(!this.Eb){var a=new q.Fy;a.r();this.Eb=a}return this.Eb};q.aF={Rh:q.nd(),eh:q.nd(),Qh:q.nd(),vi:q.nd(),wi:q.nd(),ui:q.nd(),nz:q.nd(),Gi:q.nd(),Mh:q.nd(),Ea:0,oa:0,r:function(a){this.Ea=a.width;this.oa=a.height;a=this.Ea;var c=this.oa;this.Rh.I=c;this.eh.D=a;this.eh.I=c;this.Qh.D=a/2;this.Qh.I=c;this.wi.D=a;this.ui.D=a/2;this.nz.D=a/2;this.nz.I=c/2;this.Gi.I=c/2;this.Mh.D=a;this.Mh.I=c/2},ps:function(){return this.Ea},is:function(){return this.oa},mca:function(){return this.Rh},nca:function(){return this.eh},top:function(){return this.Qh},h1:function(){return this.vi},
i1:function(){return this.wi},bottom:function(){return this.ui},w1:function(){return this.nz},left:function(){return this.Gi},right:function(){return this.Mh}};q.Fx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
q.KE=function(a){var c=q.Zc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=q.Fx(a.substr(0,d)),c=q.Fx(c),c=q.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};q.JE=function(a){var c=q.lj();try{if(""==a)return c;var d=q.Fx(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
q.Gy=function(a){var c=q.Ml();try{if(""==a)return c;var d=q.Fx(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.TX=function(a,c,d,e,f,g){this.G=a;this.f=c;this.za=d;this.Ha=e;this.Xa=f;this.Ya=g};q.H_=function(a,c,d,e,f,g){return{G:a,f:c,za:d,Ha:e,Xa:f,Ya:g}};q.WX=function(a,c,d,e,f,g){return{G:a,f:c,za:d,Ha:e,Xa:f,Ya:g}};q.I_=function(a,c){return{x:c.G*a.x+c.za*a.y+c.Xa,y:c.f*a.x+c.Ha*a.y+c.Ya}};q.IE=function(a,c){return{x:c.G*a.x+c.za*a.y+c.Xa,y:c.f*a.x+c.Ha*a.y+c.Ya}};q.wk=function(a,c,d){return{x:d.G*a+d.za*c+d.Xa,y:d.f*a+d.Ha*c+d.Ya}};
q.J_=function(a,c){return{width:c.G*a.width+c.za*a.height,height:c.f*a.width+c.Ha*a.height}};q.f_=function(a,c){return{width:c.G*a.width+c.za*a.height,height:c.f*a.width+c.Ha*a.height}};q.XX=function(){return{G:1,f:0,za:0,Ha:1,Xa:0,Ya:0}};q.VX=function(){return{G:1,f:0,za:0,Ha:1,Xa:0,Ya:0}};
q.Og=function(a,c){var d=q.tl(a),e=q.sl(a),f=q.gn(a),g=q.hn(a),h=q.wk(e,d,c),d=q.wk(f,d,c),e=q.wk(e,g,c),k=q.wk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.qi=function(a,c){var d=q.tl(a),e=q.sl(a),f=q.gn(a),g=q.hn(a),h=q.wk(e,d,c),d=q.wk(f,d,c),e=q.wk(e,g,c),k=q.wk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.Sx=function(a,c,d){return{G:a.G,f:a.f,za:a.za,Ha:a.Ha,Xa:a.Xa+a.G*c+a.za*d,Ya:a.Ya+a.f*c+a.Ha*d}};q.YX=function(a,c,d){return{G:a.G*c,f:a.f*c,za:a.za*d,Ha:a.Ha*d,Xa:a.Xa,Ya:a.Ya}};
q.eL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{G:a.G*d+a.za*c,f:a.f*d+a.Ha*c,za:a.za*d-a.G*c,Ha:a.Ha*d-a.f*c,Xa:a.Xa,Ya:a.Ya}};q.Dl=function(a,c){return{G:a.G*c.G+a.f*c.za,f:a.G*c.f+a.f*c.Ha,za:a.za*c.G+a.Ha*c.za,Ha:a.za*c.f+a.Ha*c.Ha,Xa:a.Xa*c.G+a.Ya*c.za+c.Xa,Ya:a.Xa*c.f+a.Ya*c.Ha+c.Ya}};q.UX=function(a,c){return a.G===c.G&&a.f===c.f&&a.za===c.za&&a.Ha===c.Ha&&a.Xa===c.Xa&&a.Ya===c.Ya};
q.TD=function(a){var c=1/(a.G*a.Ha-a.f*a.za);return{G:c*a.Ha,f:-c*a.f,za:-c*a.za,Ha:c*a.G,Xa:c*(a.za*a.Ya-a.Ha*a.Xa),Ya:c*(a.f*a.Xa-a.G*a.Ya)}};q.yE=parseFloat("1.192092896e-07F");q.OC=function(a){return q.a(-a.x,-a.y)};q.Vf=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.rd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.$i=function(a,c){return q.a(a.x*c,a.y*c)};q.NC=function(a,c){return q.$i(q.Vf(a,c),0.5)};q.Gp=function(a,c){return a.x*c.x+a.y*c.y};q.N8=function(a,c){return a.x*c.y-a.y*c.x};q.Uw=function(a){return q.a(-a.y,a.x)};q.V8=function(a){return q.a(a.y,-a.x)};q.U8=function(a,c){return q.$i(c,q.Gp(a,c)/q.Gp(c,c))};
q.W8=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.b9=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.$I=function(a){return q.Gp(a,a)};q.O8=function(a,c){return q.$I(q.rd(a,c))};q.LC=function(a){return Math.sqrt(q.$I(a))};q.KC=function(a,c){return q.LC(q.rd(a,c))};q.uh=function(a){return q.$i(a,1/q.LC(a))};q.P8=function(a){return q.a(Math.cos(a),Math.sin(a))};q.a9=function(a){return Math.atan2(a.y,a.x)};q.Zr=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.ZI=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.Zr(a.x,c.x,d.x),q.Zr(a.y,c.y,d.y))};q.kU=function(){var a=q.V.e().Nb;return q.a(a.width,a.height)};q.M8=function(a,c){return q.a(c(a.x),c(a.y))};q.aJ=function(a,c,d){return q.Vf(q.$i(a,1-d),q.$i(c,d))};q.Q8=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.L8=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.K8=function(a,c){var d=q.uh(a),e=q.uh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.Gp(d,e));return Math.abs(d)<q.yE?0:d};
q.J8=function(a,c){var d=Math.acos(q.Gp(q.uh(a),q.uh(c)));return Math.abs(d)<q.yE?0:d};q.mU=function(a,c,d){a=q.rd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.MC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.Y8=function(a,c,d,e){var f=q.a(0,0);return q.MC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.S8=function(a,c,d,e){var f=q.a(0,0);return q.MC(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.lj()};q.X8=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.c9=function(a){a.x=0;a.y=0};q.R8=function(a,c){a.x=c.x;a.y=c.y};q.lU=function(a,c){a.x*=c;a.y*=c};q.Z8=function(a,c){a.x-=c.x;a.y-=c.y};q.I8=function(a,c){a.x+=c.x;a.y+=c.y};
q.T8=function(a){q.lU(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.Fca=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.Uw(q.uh(q.rd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.Uw(q.uh(q.rd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var n=q.a(a[2*(k+1)],a[2*(k+1)+1]),r=q.uh(q.rd(n,l)),p=q.uh(q.rd(m,l)),t=Math.acos(q.Gp(r,p));m=t<q.jj(70)?q.Uw(q.uh(q.NC(r,p))):t<q.jj(170)?q.uh(q.NC(r,p)):q.Uw(q.uh(q.rd(n,m)))}m=q.$i(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.qu(d[2*g],d[2*g+1]),f=q.qu(d[2*(g+1)],d[2*(g+1)+1]),g=q.qu(d[2*a],d[2*a]),e=q.qu(d[2*(a+1)],d[2*(a+1)+1]),c=!q.CX(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.ws&&(0>c.value||1<c.value)&&(c.ws=!0),c.ws&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.CX=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{ws:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{ws:!1,value:0}:{ws:!0,value:(h+(f-h)*k/(k-g))/a}};q.gY=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.G;c[4]=a.za;c[12]=a.Xa;c[1]=a.f;c[5]=a.Ha;c[13]=a.Ya};q.RY=function(a,c){c.G=a[0];c.za=a[4];c.Xa=a[12];c.f=a[1];c.Ha=a[5];c.Ya=a[13]};q.wE=-1;q.pZ=null;q.qZ=null;q.vV=1;
q.B=q.Ba.extend({bb:0,fw:0,og:0,Nh:0,qa:1,ya:1,p:null,Yd:0,Zd:0,s:null,sa:!0,Eh:null,zd:null,pa:null,Ge:!1,X:null,Jk:!1,fd:q.wE,QG:null,pB:null,Rj:!0,cv:!0,sF:!0,w0:null,Qj:null,MF:null,Xd:!1,Cc:null,Gf:0,Rg:null,pg:null,LF:!1,qq:!1,xu:null,zi:null,hA:!1,lm:0,sr:0,eA:function(){this.Eh=q.nd();this.zd=q.nd();this.pa=q.pm();this.p=q.nd();this.s=[];this.Qj={G:1,f:0,za:0,Ha:1,Xa:0,Ya:0};var a=q.V.e();this.Rg=a.ug();this.pg=a.qf();this.LF=!0;this.xu={G:1,f:0,za:0,Ha:1,Xa:0,Ya:0};q.nL&&(this.zi=new q.nL(this))},
r:function(){!1===this.LF&&this.eA();return!0},fg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.B.Bf;switch(c){case d.Cg:for(d=0;d<e;d++)(f=a[d])&&f.Cg();break;case d.Fd:for(d=0;d<e;d++)(f=a[d])&&f.Fd();break;case d.fi:for(d=0;d<e;d++)(f=a[d])&&f.fi();break;case d.Of:for(d=0;d<e;d++)(f=a[d])&&f.Of();break;case d.Yf:for(d=0;d<e;d++)(f=a[d])&&f.Yf();break;case d.th:for(d=0;d<e;d++)(f=a[d])&&f.th();break;case d.Hd:for(d=0;d<e;d++)(f=a[d])&&f.Hd();break;default:throw"Unknown callback function";
}}},Ua:null,rP:function(){this.nm();!1===this.Rj&&(this.Rj=this.cv=!0)},sP:function(){!1===this.Rj&&(this.Rj=this.cv=!0)},y5:function(){return this.Yd},xx:function(a){this.Yd=a;this.Ua()},z5:function(){return this.Zd},yx:function(a){this.Zd=a;this.Ua()},o6:function(){return this.bb},Iv:function(a){this.bb=a},sba:function(a){this.Iv(a);this.X&&this.X.Js(this,a)},e6:function(){return this.fw},kK:function(a){this.fw=a},sS:function(){this.og!==this.Nh&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.og},tx:function(a){this.og=this.Nh=a;this.lm=0.017453292519943295*this.og;this.sr=0.017453292519943295*this.Nh;this.Ua()},o5:function(){return this.og},ux:function(a){this.og=a;this.lm=0.017453292519943295*this.og;this.Ua()},p5:function(){return this.Nh},vx:function(a){this.Nh=a;this.sr=0.017453292519943295*this.Nh;this.Ua()},aC:function(){this.qa!==this.ya&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.qa},jk:function(a,c){this.qa=a;this.ya=
c||0===c?c:a;this.Ua()},tS:function(){return this.qa},Mp:function(a){this.qa=a;this.Ua()},uS:function(){return this.ya},rn:function(a){this.ya=a;this.Ua()},l:function(a,c){var d=this.p;2==arguments.length?(d.D=a,d.I=c):1==arguments.length&&(d.D=a.x,d.I=a.y);this.Ua()},Y4:function(){return this.p},Z4:function(){return this.p.D},dc:function(a){this.p.D=a;this.Ua()},a5:function(){return this.p.I},We:function(a){this.p.I=a;this.Ua()},l3:function(){return this.s.length},k3:function(){return this.s},GI:function(){return this.sa},
C:function(a){this.sa=a;this.Ua()},T2:function(){return this.Eh},O:function(a,c){var d=this.Eh;if(2===arguments.length){if(a===d.D&&c===d.I)return;d.D=a;d.I=c}else{if(a.x===d.D&&a.y===d.I)return;d.D=a.x;d.I=a.y}var e=this.zd,f=this.pa;e.D=f.Ea*d.D;e.I=f.oa*d.I;this.Ua()},U2:function(){return this.zd},d:function(){return this.pa},U:function(a,c){var d=this.pa;if(2===arguments.length){if(a===d.Ea&&c===d.oa)return;d.Ea=a;d.oa=c}else{if(a.width===d.Ea&&a.height===d.oa)return;d.Ea=a.width;d.oa=a.height}var e=
this.zd,f=this.Eh;e.D=d.Ea*f.D;e.I=d.oa*f.I;this.Ua()},t7:function(){return this.Ge},getParent:function(){return this.X},Os:function(a){this.X=a},e7:function(){return this.Jk},Vi:function(a){a!=this.Jk&&(this.Jk=a,this.Ua())},BS:function(){return this.fd},hK:function(a){this.fd=a},getUserData:function(){return this.QG},setUserData:function(a){this.QG=a},c6:function(){return this.pB},lba:function(a){this.pB!=a&&(this.pB=a)},O4:function(){return this.Gf},Lp:function(a){this.Gf=a},ug:function(){this.Rg||
(this.Rg=q.V.e().ug());return this.Rg},GV:function(a){this.Rg!=a&&(this.BD(),this.Rg=a)},qf:function(){this.pg||(this.pg=q.V.e().qf());return this.pg},HW:function(a){this.pg!=a&&(this.Zs(),this.pg=a)},Va:function(){var a=q.rect(0,0,this.pa.Ea,this.pa.oa);return q.qi(a,this.Uf())},Of:function(){this.BD();this.Zs();this.fg(this.s,q.B.Bf.Of)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.fd+"\x3e"},UR:function(a){var c=this.s;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.fd==
a)return e}return null},g:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.X?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.bb,a.fd=null!=d?d:a.fd,this.lO(a,c),a.X=this,this.Ge&&(a.Cg(),this.hA&&a.fi()))},P:function(a){this.X&&(null==a&&(a=!0),this.X.removeChild(this,a))},dV:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.P(a)},removeChild:function(a,c){0!==this.s.length&&(null==c&&(c=!0),-1<this.s.indexOf(a)&&this.KN(a,c),this.Ua())},N9:function(a,c){a===q.wE&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.UR(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},F9:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.pc(a)},pc:function(a){var c=this.s;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.Ge&&(e.th(),e.Fd()),a&&e.Of(),e.Os(null))}this.s.length=0}},KN:function(a,c){this.Ge&&(a.th(),a.Fd());c&&a.Of();a.Os(null);q.Jd(this.s,a)},lO:function(a,c){this.Xd=!0;this.s.push(a);a.Iv(c)},Js:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Xd=!0;a.Lp(q.vV++);a.Iv(c);this.Ua()},Hd:function(){if(this.Xd){var a=this.s,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.bb<f.bb||g.bb==f.bb&&g.Gf<f.Gf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Xd=!1}},Ta:function(){},Lx:function(){null!=this.X&&(this.X.Lx(),this.X.transform())},Cg:function(){this.hA=!1;this.Ge=!0;this.fg(this.s,q.B.Bf.Cg);this.fx()},fi:function(){this.hA=!0;this.fg(this.s,q.B.Bf.fi)},th:function(){this.fg(this.s,q.B.Bf.th)},Fd:function(){this.Ge=!1;this.Ww();this.fg(this.s,q.B.Bf.Fd);this.zi&&this.zi.ZU()},gx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.ug().jQ(a,this,!this.Ge);return a},BD:function(){this.ug().rJ(this)},
lX:function(a){this.ug().qJ(a)},Kba:function(a){a===q.Dn?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.ug().YU(a,this)},XB:function(a){return a===q.Dn?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.ug().XB(a,this)},A4:function(){return this.ug().ST(this)},xV:function(){this.yV(0)},yV:function(a){this.qf().zJ(this,a,!this.Ge)},sca:function(){this.qf().Sp(this)},qc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.Ll:d;e=e||0;this.qf().wV(this,a,c,d,e,!this.Ge)},vc:function(a,c){this.qc(a,0,0,c)},ud:function(a){a&&this.qf().MK(this,a)},Zs:function(){this.qf().LK(this)},fx:function(){this.qf().kn(this);this.ug().kn(this)},Ww:function(){this.qf().Hs(this);this.ug().Hs(this)},o$:function(a){this.xu=a;this.qq=this.Rj=!0},f9:function(){this.cv&&(this.MF=q.TD(this.Uf()),this.cv=!1);return this.MF},Es:function(){for(var a=this.Uf(),c=this.X;null!=
c;c=c.getParent())a=q.Dl(a,c.Uf());return a},FX:function(){return q.TD(this.Es())},Aa:function(a){return q.IE(a,this.FX())},bl:function(a){return q.IE(a,this.Es())},cR:function(a){return q.rd(this.Aa(a),this.zd)},K1:function(a){a=q.Vf(a,this.zd);return this.bl(a)},S_:function(a){a=this.bl(a);return q.V.e().dR(a)},Wh:function(a){return this.Aa(a.J)},L1:function(a){a=a.J;a=q.V.e().bR(a);return this.cR(a)},update:function(a){this.zi&&!this.zi.a7()&&this.zi.ma(a)},Yf:function(){this.fg(this.s,q.B.Bf.Yf)},
xJ:function(){},XC:function(){},VR:function(a){return this.zi.VR(a)},E0:function(a){this.zi.add(a)},O9:function(a){return this.zi.remove(a)},G9:function(){this.zi.ZU()},DG:null,cB:null,$z:null,co:null,Gk:null,ctor:null,Fh:function(){this.eA()},Gh:function(){this.eA();var a=new q.rh;a.sh[2]=a.sh[3]=a.sh[6]=a.sh[7]=a.sh[8]=a.sh[9]=a.sh[11]=a.sh[14]=0;a.sh[10]=a.sh[15]=1;this.DG=a;this.$z=0;this.cB=new q.rh},ma:null,Bm:function(a){if(this.sa){a=a||q.T;var c,d=this.s,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Hd();for(c=0;c<f;c++)if(e=d[c],0>e.bb)e.ma(a);else break;for(this.Ta(a);c<f;c++)d[c].ma(a)}else this.Ta(a);this.Gf=0;a.restore()}},Cm:function(){if(this.sa){var a=q.T,c,d=q.hR;d.stack.push(d.top);q.O7(this.cB,d.top);d.top=this.cB;var e=this.Gk;e&&e.bN&&e.EB();this.transform();var f=this.s;if(f&&0<f.length){var g=f.length;this.Hd();for(c=0;c<g;c++)if(f[c]&&0>f[c].bb)f[c].ma();else break;for(this.Ta(a);c<g;c++)f[c]&&f[c].ma()}else this.Ta(a);this.Gf=0;e&&e.bN&&e.AB(this);d.top=
d.stack.pop()}},transform:null,SP:function(a){a=a||q.T;var c=q.na.e(),d=this.Uf();a.transform(d.G,d.za,d.f,d.Ha,d.Xa*c.qa,-d.Ya*c.ya)},TP:function(){var a=this.DG,c=q.hR.top,d=this.Uf(),e=a.sh;e[0]=d.G;e[4]=d.za;e[12]=d.Xa;e[1]=d.f;e[5]=d.Ha;e[13]=d.Ya;e[14]=this.fw;q.FT(c,c,a);null==this.co||null!=this.Gk&&this.Gk.vp()||(a=this.zd.D,c=this.zd.I,0!==a||0!==c?(q.DT(q.bg(a),q.bg(c),0),this.co.JI(),q.DT(q.bg(-a),q.bg(-c),0)):this.co.JI())},Uf:null,CO:function(){this.Qj||(this.Qj={G:1,f:0,za:0,Ha:1,Xa:0,
Ya:0});if(this.Rj){var a=this.Qj;a.Xa=this.p.D;a.Ya=this.p.I;var c=1,d=0;this.og&&(c=Math.cos(this.lm),d=Math.sin(this.lm));a.G=a.Ha=c;a.f=-d;a.za=d;var e=this.qa,f=this.ya,g=this.zd.D,h=this.zd.I,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Yd||this.Zd){var m=Math.tan(-this.Yd*Math.PI/180),n=Math.tan(-this.Zd*Math.PI/180),r=h*m*k,p=g*n*l;a.G=c+-d*n;a.f=c*m+-d;a.za=d+c*n;a.Ha=d*m+c;a.Xa+=c*r+-d*p;a.Ya+=d*r+c*p}if(1!==e||1!==f)a.G*=k,a.za*=k,a.f*=l,a.Ha*=l;a.Xa+=c*-g*k+-d*h*l;a.Ya-=d*
-g*k+c*h*l;this.Jk&&(a.Xa+=g,a.Ya+=h);this.qq&&(this.Qj=q.Dl(this.Qj,this.xu),this.qq=!1);this.Rj=!1}return this.Qj},DO:function(){if(this.Rj){var a=this.p.D,c=this.p.I,d=this.zd.D,e=-d,f=this.zd.I,g=-f,h=this.qa,k=this.ya;this.Jk&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.og||0!==this.Nh)l=Math.cos(-this.lm),m=Math.sin(-this.lm),n=Math.cos(-this.sr),r=Math.sin(-this.sr);var p=this.Yd||this.Zd;p||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={G:n*h,f:r*h,za:-m*k,Ha:l*k,Xa:a,Ya:c};p&&(a=q.Dl({G:1,
f:Math.tan(q.jj(this.Zd)),za:Math.tan(q.jj(this.Yd)),Ha:1,Xa:0,Ya:0},a),0!==d||0!==f)&&(a=q.Sx(a,e,g));this.qq&&(a=q.Dl(a,this.xu),this.qq=!1);this.Qj=a;this.Rj=!1}return this.Qj},nm:function(){this.sF=!0;this.X&&this.X.nm()},YB:function(){this.co||(this.co=new q.Yp);return this.co},U3:function(){return this.Gk},S$:function(a){this.Gk=a},cC:function(){return this.Cc},Fg:function(a){this.Cc=a},T3:function(){return this.$z},R$:function(a){this.$z=a},c3:function(){var a=q.rect(0,0,this.pa.Ea,this.pa.oa),
c=this.Es(),a=q.Og(a,this.Es());if(!this.s)return a;for(var d=this.s,e=0;e<d.length;e++){var f=d[e];f&&f.sa&&(f=f.EF(c))&&(a=q.cx(a,f))}return a},EF:function(a){var c=q.rect(0,0,this.pa.Ea,this.pa.oa);a=null==a?this.Uf():q.Dl(this.Uf(),a);c=q.Og(c,a);if(!this.s)return c;for(var d=this.s,e=0;e<d.length;e++){var f=d[e];f&&f.sa&&(f=f.EF(a))&&(c=q.cx(c,f))}return c}});
q.Da.Kc?(b=q.B.prototype,b.ctor=q.B.prototype.Gh,b.Ua=q.B.prototype.sP,b.ma=q.B.prototype.Cm,b.transform=q.B.prototype.TP,b.Uf=q.B.prototype.DO):(b=q.B.prototype,b.ctor=q.B.prototype.Fh,b.Ua=q.B.prototype.rP,b.ma=q.B.prototype.Bm,b.transform=q.B.prototype.SP,b.Uf=q.B.prototype.CO);q.B.create=function(){return new q.B};q.B.Bf={Cg:1,Fd:2,Of:3,fi:4,Yf:5,th:6,Hd:7};
q.wb=q.B.extend({fb:!0,Tb:255,ng:255,Ac:null,Wd:null,kd:!1,Qd:!1,ctor:function(){q.B.prototype.ctor.call(this);this.ng=this.Tb=255;this.Ac=q.vb();this.Wd=q.vb();this.Qd=this.kd=!1},Ti:function(){return this.ng},XR:function(){return this.Tb},da:function(a){this.Tb=this.ng=a;a=255;var c=this.X;c&&c.fb&&c.Qd&&(a=c.Tb);this.Xc(a)},Xc:function(a){this.Tb=this.ng*a/255;if(this.Qd){a=this.s;for(var c=0;c<a.length;c++){var d=a[c];d&&d.fb&&d.Xc(this.Tb)}}},vT:function(){return this.Qd},HJ:function(a){this.Qd!==
a&&((this.Qd=a)?this.Nq():this.Hz())},Nq:function(){var a=255,c=this.X;c&&c.fb&&c.Qd&&(a=c.Tb);this.Xc(a)},Hz:function(){this.Tb=this.ng;for(var a=this.s,c=0;c<a.length;c++){var d=a[c];d&&d.fb&&d.Xc(255)}},qd:function(){var a=this.Wd;return new q.wc(a.m,a.i,a.f)},gs:function(){return this.Ac},n:function(a){var c=this.Ac,d=this.Wd;c.m=d.m=a.m;c.i=d.i=a.i;c.f=d.f=a.f;a=(a=this.X)&&a.fb&&a.kd?a.gs():q.vb();this.Wc(a)},Wc:function(a){var c=this.Ac,d=this.Wd;c.m=0|d.m*a.m/255;c.i=0|d.i*a.i/255;c.f=0|d.f*
a.f/255;if(this.kd)for(a=this.s,d=0;d<a.length;d++){var e=a[d];e&&e.fb&&e.Wc(c)}},uT:function(){return this.kd},GJ:function(a){this.kd!==a&&((this.kd=a)?this.Mq():this.Gz())},Mq:function(){var a;a=(a=this.X)&&a.fb&&a.kd?a.gs():q.vb();this.Wc(a)},Gz:function(){var a=this.Ac,c=this.Wd;a.m=c.m;a.i=c.i;a.f=c.f;for(var a=this.s,c=q.vb(),d=0;d<a.length;d++){var e=a[d];e&&e.fb&&e.Wc(c)}},g:function(a,c,d){q.B.prototype.g.call(this,a,c,d);this.kd&&this.Mq();this.Qd&&this.Nq()},xf:function(){},jl:function(){return!1}});
q.wb.create=function(){var a=new q.wb;a.r();return a};q.Kd=q.wb.extend({fb:!0,SF:0,RF:0,ev:0,dv:0,uj:null,Oa:null,ic:!1,ca:null,pr:0,aA:!1,ctor:function(){q.wb.prototype.ctor.call(this);this.uj=q.vb();this.ca={src:q.ve,Db:q.ue};this.aA=!1},uca:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},qd:function(){return this.ic?this.uj:q.wb.prototype.qd.call(this)},xf:function(a){var c=this.qd();this.ic=a;this.n(c)},jl:function(){return this.ic},fs:function(){return this.ca},ul:function(a,c){this.ca=1==arguments.length?
a:{src:a,Db:c}},Op:function(a){this.Oa=a},ZH:function(){return this.Oa},g5:function(){return this.pr},Gaa:function(a){this.pr=a},vm:null,jg:null,GG:null,Gu:null,kT:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.xa.e().Ra(a);return this.Ia(a,c,d,e)},Ia:null,ar:function(a,c,d,e){this.ev=c;this.dv=d;this.ic=!0;this.jg=a;if(!this.jg)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.vm=this.jg;this.Cu();this.pr=e;return!0},
br:function(a,c,d,e){this.ev=c;this.dv=d;this.uj=q.vb();this.ic=!0;this.ca.src=q.ve;this.ca.Db=q.ue;c=this.Wd;this.Gu=new Float32Array([c.m/255,c.i/255,c.f/255,this.ng/255]);this.Oa=new q.Qn;this.Oa.Ia(a,e);if(!this.Oa)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Am();this.NG();this.Cu();this.pr=e;this.Fg(q.Dh.e().ii(q.$Z));this.GG=q.T.getUniformLocation(this.cC().Cw(),"u_color");return!0},Ta:null,ig:function(a){a=a||q.T;q.sy(this);q.$j(this.ca.src,this.ca.Db);
a.uniform4fv(this.GG,this.Gu);this.Oa.zH(this.pr,0)},n:null,ur:function(a){var c=this.Wd;if(c.m!=a.m||c.i!=a.i||c.f!=a.f){c=new q.wc(a.m,a.i,a.f);this.uj=a;if(this.ic){var d=this.Tb;c.m=c.m*d/255;c.i=c.i*d/255;c.f=c.f*d/255}q.wb.prototype.n.call(this,a);this.$()&&(a=this.jg.Bc)&&(c=q.xa.e().$H(a))&&(d=q.rect(0,0,a.width,a.height),a=q.WB(a,c,this.Wd,d),c=new q.Vb,c.sf(a),c.oe(),this.ja(c))}},PA:function(a){var c=q.wc(a.m,a.i,a.f);this.uj=a;var d=this.Tb;this.ic&&(c.m=c.m*d/255,c.i=c.i*d/255,c.f=c.f*
d/255);q.wb.prototype.n.call(this,a);a=this.Ac;this.Gu=new Float32Array([a.m/255,a.i/255,a.f/255,d/255])},da:null,wr:function(a){q.wb.prototype.da.call(this,a);this.ic&&this.n(this.uj)},SA:function(a){q.wb.prototype.da.call(this,a);this.ic?this.n(this.uj):(a=this.Ac,this.Gu=new Float32Array([a.m/255,a.i/255,a.f/255,this.Tb/255]))},$:null,Xz:function(){return this.vm},Yz:function(){return this.Oa.$()},ja:null,xr:function(a){this.vm=a},yr:function(a){this.Oa.ja(a);this.Am();this.NG()},Cu:null,sN:function(){var a=
this.$().d();this.RF=0|a.height/this.dv;this.SF=0|a.width/this.ev},tN:function(){var a=this.$(),c=a.d();this.aA&&(c=a.pa);this.RF=0|c.height/this.dv;this.SF=0|c.width/this.ev},Am:function(){this.Oa.$().ss()||(this.ca.src=770,this.ca.Db=771)},NG:function(){this.ic=this.Oa.$().ss()},RA:function(a){this.aA=a}});
q.Da.Kc?(b=q.Kd.prototype,b.Ia=q.Kd.prototype.br,b.Ta=q.Kd.prototype.ig,b.n=q.Kd.prototype.PA,b.da=q.Kd.prototype.SA,b.$=q.Kd.prototype.Yz,b.ja=q.Kd.prototype.yr,b.Cu=q.Kd.prototype.tN):(b=q.Kd.prototype,b.Ia=q.Kd.prototype.ar,b.Ta=q.B.prototype.Ta,b.n=q.Kd.prototype.ur,b.da=q.Kd.prototype.wr,b.$=q.Kd.prototype.Xz,b.ja=q.Kd.prototype.xr,b.Cu=q.Kd.prototype.sN);q.Kd.create=function(a,c,d,e){var f=new q.Kd;return f.kT(a,c,d,e)?f:null};q.nj=0;q.hq=1;q.gq=2;q.fq=3;q.Jy=4;q.Iy=5;q.gu=6;q.fu=7;q.TE=8;q.SE=9;q.RE=q.nj;q.zz=q.RE;q.pM=!1;q.t0=function(a,c,d,e){this.OT=a||0;this.LT=c||0;this.aL=d||0;this.bL=e||0};
q.FM=q.Ba.extend({GO:null,Hf:null,$g:null,Zg:null,lA:null,pa:null,Vg:null,Wg:null,uo:null,am:!1,Cc:null,mc:!1,Bc:null,Vh:null,Ad:null,ctor:function(){this.Zg=this.$g=0;this.lA="";this.Wg=this.Vg=0;this.uo=!1;this.pa=q.pm();this.am=!1;this.GO=!0;this.Hf=q.Vb.iR();this.Cc=null;this.mc=!1;this.Vh=this.Bc=null;this.Ad=[]},YC:function(){this.Vh&&q.T.deleteTexture(this.Vh)},T4:function(){return this.Hf},np:function(){return this.$g},mp:function(){return this.Zg},getName:function(){return this.Vh},d:function(){return q.size(this.pa.width/
q.wd(),this.pa.height/q.wd())},WR:function(){return this.pa},eS:function(){return this.Vg},lW:function(a){this.Vg=a},fS:function(){return this.Wg},mW:function(a){this.Wg=a},cC:function(){return this.Cc},Fg:function(a){this.Cc=a},ss:function(){return this.uo},US:function(){return this.am},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.lA+" | Dimensions \x3d "+this.$g+" x "+this.Zg+" | Coordinates \x3d ("+this.Vg+", "+this.Wg+")\x3e"},WU:function(){},BT:function(a){return a},Jw:function(a,
c,d,e,f){var g=q.T,h=0,h=c===q.nj?24:this.hH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Vh=g.createTexture();q.wg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.nj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.hq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.gu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.fu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.gq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.Iy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.fq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.Jy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.pa.Ea=f.width;this.pa.oa=f.height;this.$g=d;this.Zg=e;this.Hf=c;this.Vg=f.width/d;this.Wg=f.height/e;this.am=this.uo=!1;this.Fg(q.Dh.e().ii(q.uM));return this.mc=!0},zR:function(a){var c=[0,this.Wg,this.Vg,this.Wg,0,0,this.Vg,
0],d=this.$g*this.Vg,e=this.Zg*this.Wg;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.je(q.Qg|q.OM);this.Cc.bf();this.Cc.jK();q.wg(this);d=q.T;d.vertexAttribPointer(q.ye,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.lq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},BR:function(a){var c=[0,this.Wg,this.Vg,this.Wg,0,0,this.Vg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.je(q.Qg|q.OM);this.Cc.bf();this.Cc.jK();q.wg(this);var d=q.T;d.vertexAttribPointer(q.ye,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(q.lq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},rC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.ps(),d=a.is(),e=q.we.e().ir;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.mc=!0;return this.cO(a,c,d)},sf:function(a){a&&(this.Vh=q.T.createTexture(),this.Bc=a)},$R:function(){return this.Bc},zg:function(){return this.mc},
oe:function(){this.mc=!0;var a=q.T;q.wg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Bc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Fg(q.Dh.e().ii(q.uM));q.wg(null);a=this.Bc.height;this.$g=this.pa.Ea=this.Bc.width;this.Zg=this.pa.oa=
a;this.Hf=q.nj;this.Wg=this.Vg=1;this.am=this.uo=!1;this.Pd()},hl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.oj,g=q.nq);var h=new q.JL,k;if(q.nq===g)k=q.oj===f?q.OX:q.iq===f?q.PX:q.QX;else if(q.pu===g)k=q.oj===f?q.LX:q.iq===f?q.MX:q.NX;else if(q.mq===g)k=q.oj===f?q.IX:q.iq===f?q.JX:q.KX;else return q.log("Not supported alignment format!"),!1;return h.hl(a,e.width,e.height,k,c,d)?this.rC(h):!1},dT:function(){return!1},sI:function(a){var c=!1,d=new q.p_;
(c=d.E6(a))?(d.Oaa(!0),this.lA=d.getName(),this.Wg=this.Vg=1,this.$g=d.ps(),this.Zg=d.is(),this.pa.Ea=this.$g,this.pa.oa=this.Zg,this.uo=q.pM,this.Hf=d.R3(),this.DJ()):q.log("cocos2d: Couldn't load PVR image "+a);return c},hT:function(){return q.we.e().Hr?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},MW:function(a){var c=q.T;q.it(this.$g==q.Jn(this.$g)&&this.Zg==q.Jn(this.Zg)||a.aL==c.CLAMP_TO_EDGE&&a.bL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.wg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.OT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.LT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.aL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.bL)},DJ:function(){var a=q.T;q.wg(this);this.am?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},CJ:function(){var a=q.T;q.wg(this);
this.am?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.it(this.$g==q.Jn(this.$g)&&this.Zg==q.Jn(this.Zg),"Mimpap texture only works in POT textures");q.wg(this);q.T.generateMipmap(q.T.TEXTURE_2D);this.am=!0},mX:function(){switch(this.Hf){case q.nj:return"RGBA8888";case q.hq:return"RGB888";case q.gq:return"RGB565";case q.gu:return"RGBA4444";
case q.fu:return"RGB5A1";case q.Iy:return"AI88";case q.fq:return"A8";case q.Jy:return"I8";case q.TE:return"PVRTC4";case q.SE:return"PVRTC2";default:q.log("stringForFormat: "+this.Hf+", cannot give useful result, it's a unrecognized pixel format")}return""},hH:function(a){a=a||this.Hf;switch(a){case q.nj:return 32;case q.hq:return 32;case q.gq:return 16;case q.fq:return 8;case q.gu:return 16;case q.fu:return 16;case q.TE:return 4;case q.SE:return 2;case q.Jy:return 8;case q.Iy:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Hf+", cannot give useful result, it's a illegal pixel format"),-1}},cO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.t6(),h=q.size(a.ps(),a.is()),k=q.RE,l=a.a3();g||(8<=l?k=q.hq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.gq));var m=c*d;if(k==q.gq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.gu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.fu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.fq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.hq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Jw(e,k,c,d,h);a.getData();this.uo=a.o7();return!0},Mf:function(a,c){this.Ad.push({Zj:a,Yh:c})},eV:function(a){for(var c=this.Ad,d=0;d<c.length;d++)c[d].Yh==a&&c.splice(d,1)},Pd:function(){for(var a=this.Ad,c=0,d=a.length;c<d;c++){var e=a[c];e.Zj.call(e.Yh,this)}a.length=0}});
q.EM=q.Ba.extend({pa:null,mc:!1,Bc:null,Ad:null,ctor:function(){this.pa=q.pm();this.mc=!1;this.Bc=null;this.Ad=[]},np:function(){return this.pa.Ea},mp:function(){return this.pa.oa},d:function(){var a=q.wd();return q.size(this.pa.Ea/a,this.pa.oa/a)},WR:function(){return this.pa},sf:function(a){a&&(this.Bc=a)},$R:function(){return this.Bc},zg:function(){return this.mc},oe:function(){this.mc=!0;var a=this.Bc;this.pa.Ea=a.width;this.pa.oa=a.height;this.Pd()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.pa.Ea+" height "+this.pa.oa+"\x3e"},Jw:function(){return!1},rC:function(){return!1},hl:function(){return!1},YC:function(){},getName:function(){return null},eS:function(){return 1},lW:function(){},fS:function(){return 1},mW:function(){},cC:function(){return null},Fg:function(){},ss:function(){return!1},US:function(){return!1},WU:function(){},BT:function(a){return a},zR:function(){},BR:function(){},dT:function(){return!1},sI:function(){return!1},hT:function(){return!0},MW:function(){},DJ:function(){},
CJ:function(){},generateMipmap:function(){},mX:function(){return""},hH:function(){return-1},Mf:function(a,c){this.Ad.push({Zj:a,Yh:c})},eV:function(a){for(var c=this.Ad,d=0;d<c.length;d++)c[d].Yh==a&&c.splice(d,1)},Pd:function(){for(var a=this.Ad,c=0,d=a.length;c<d;c++){var e=a[c];e.Zj.call(e.Yh,this)}a.length=0}});q.Vb=q.Da.Kc?q.FM:q.EM;q.Vb.D$=function(a){q.zz=a};q.Vb.iR=function(){return q.zz};q.Vb.y3=function(){return q.zz};q.es=null;q.a8=function(a){if(q.ZQ(a)==q.DL)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.xa.e().EQ(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.ZQ=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.NY:0<a.toLowerCase().indexOf(".png")?q.OY:0<a.toLowerCase().indexOf(".webp")?q.QY:q.DL};
q.xa=q.Ba.extend({nb:null,Ir:null,Tv:null,hG:!1,hv:null,iv:null,ctor:function(){if(q.es)throw"Attempted to allocate a second instance of a singleton.";this.Tv+=0|1E3*Math.random();this.nb={};this.Ir={};q.td===q.uk&&(this.hv={},this.iv={})},cz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},kO:function(){this.hG=!0;var a,c=this.hv,d=this.nb;for(a in c){var e=c[a],f=new q.Vb;f.sf(e);f.oe();d[a]=f}this.hv={}},L0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
G0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.nb.length+"\x3e"},Ix:function(a){a=q.xd.e().fe(a);return this.nb.hasOwnProperty(a)?this.nb[a]:null},bS:function(a){for(var c in this.nb)if(this.nb[c]==a)return c;return null},UN:function(){this.Tv++;return"_textureKey_"+this.Tv},$H:function(a){var c=this.bS(a);c||(c=a instanceof HTMLImageElement?a.src:this.UN());this.Ir.hasOwnProperty(c)||(this.Ir[c]=
q.ip(a));return this.Ir[c]},K0:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.xd.e().fe(a);if(null!=this.nb[a])return this.nb[a];var c=new q.Vb;c.sI(a)?this.nb[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},J9:function(){var a=this.nb,c;for(c in a)a[c]&&a[c].YC();this.nb={}},Y9:function(a){if(a){var c=this.nb,d;for(d in c)c[d]==a&&(c[d].YC(),delete c[d])}},iV:function(a){null!=a&&(a=q.xd.e().fe(a),this.nb[a]&&delete this.nb[a])},H0:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.xd.e().fe(a);var e=this.nb[a],f,g;if(e)e.zg()?this.cz(c,d):(g=this,f=e.Bc,f.addEventListener("load",function(){e.oe();g.cz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.nb.hasOwnProperty(a)&&g.nb[a].oe();g.cz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){q.Ub.e().an(a);g.nb.hasOwnProperty(a)&&delete g.nb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.Vb;h.sf(f);this.nb[a]=h}return this.nb[a]},dN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Ub.e().hi();d.hv[a]=c;delete d.iv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Ub.e().an(a);
delete d.iv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.iv[a]=c},Ra:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.td===q.uk&&!this.hG)return this.dN(a);a=q.xd.e().fe(a);var c=this.nb[a],d;if(c)c.zg()?q.Ub.e().hi():(d=c.Bc,d.addEventListener("load",function(){c.oe();q.Ub.e().hi();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){q.Ub.e().hi();e.nb.hasOwnProperty(a)&&
e.nb[a].oe();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){q.Ub.e().an(a);e.nb.hasOwnProperty(a)&&delete e.nb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new q.Vb;f.sf(d);this.nb[a]=f}return this.nb[a]},EQ:function(a,c){if(c instanceof q.Vb)this.nb[a]=c;else{var d=new q.Vb;d.sf(c);d.oe();this.nb[a]=d}},Q0:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.nb.hasOwnProperty(c)&&this.nb[c])return this.nb[c];var d=new q.Vb;d.rC(a);null!=c&&null!=d?this.nb[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},g2:function(){var a=0,c=0,d=this.nb,e;for(e in d){var f=d[e];a++;f.Bc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.Bc.src+" "+f.np()+" x "+f.mp()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.np()+" x "+f.mp());c+=f.np()*f.mp()*4}d=this.Ir;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.xa.e=function(){q.es||(q.es=new q.xa);return q.es};q.xa.IU=function(){q.es=null};q.Qn=q.Ba.extend({md:null,xi:null,Fa:!1,$c:0,Ca:null,De:null,lg:null,qr:null,mg:null,ctor:function(){this.xi=[]},V5:function(){return this.Qa},i3:function(){return this.$c},$:function(){return this.Ca},ja:function(a){this.Ca=a},Eg:function(a){this.Fa=a},BI:function(){return this.Fa},f5:function(){return this.De},Faa:function(a){this.De=a},T_:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Hv(a[d],c+d)},Hv:function(a,c){var d=this.De;d[c]?(d[c].Ga=a.Ga,d[c].Sa=a.Sa,d[c].Pa=a.Pa,d[c].Ja=a.Ja):d[c]=
new q.Yb(a.Pa,a.Ga,a.Ja,a.Sa,this.lg,c*q.Yb.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Qa+"\x3e"},uG:function(){if(0!==this.$c)for(var a=this.md,c=this.$c,d=0;d<c;d++)q.UE?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},HP:function(){var a=q.T;this.xi[0]=a.createBuffer();this.xi[1]=a.createBuffer();this.qr=a.createBuffer();
this.UF()},UF:function(){var a=q.T;a.bindBuffer(a.ARRAY_BUFFER,this.qr);a.bufferData(a.ARRAY_BUFFER,this.lg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.xi[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.md,a.STATIC_DRAW)},Wi:function(a,c){var d=q.xa.e().Ra(a);if(d)return this.Ia(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Ia:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.$c=c|=0;this.Qa=0;this.Ca=a;this.De=[];this.md=new Uint16Array(6*
c);var d=q.Yb.BYTES_PER_ELEMENT;this.lg=new ArrayBuffer(d*c);this.mg=new Uint8Array(this.lg);if((!this.De||!this.md)&&0<c)return!1;for(var e=this.De,f=0;f<c;f++)e[f]=new q.Yb(null,null,null,null,this.lg,f*d);this.uG();this.HP();return this.Fa=!0},Nx:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.$c)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Qa=Math.max(c+1,this.Qa);this.Hv(a,c);this.Fa=!0},xC:function(a,c){if(c>=this.$c)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Qa++;if(this.Qa>this.$c)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.Yb.BYTES_PER_ELEMENT,e=c*d,f=(this.Qa-1-c)*d;this.De[this.Qa-1]=new q.Yb(null,null,null,null,this.lg,(this.Qa-1)*d);this.mg.set(this.mg.subarray(e,e+f),e+d);this.Hv(a,c);this.Fa=!0}},K6:function(a,c,d){d=d||a.length;if(c+d>this.$c)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.Yb.BYTES_PER_ELEMENT;this.Qa+=d;if(this.Qa>this.$c)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Qa-1-c-d)*e,h=this.Qa-1-d,k;for(k=0;k<d;k++)this.De[h+k]=new q.Yb(null,null,null,null,this.lg,(this.Qa-1)*e);this.mg.set(this.mg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Hv(a[k],c+k);this.Fa=!0}},J6:function(a,c){if(a!==c){if(0>c&&c>=this.Qa)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Qa)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.Yb.BYTES_PER_ELEMENT,e=this.mg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Fa=!0}},gV:function(a){if(a>=this.Qa)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.Yb.BYTES_PER_ELEMENT;this.Qa--;this.De.length=this.Qa;if(a!==this.Qa){var d=(a+1)*c;this.mg.set(this.mg.subarray(d,d+(this.Qa-a)*c),d-c)}this.Fa=!0},Q9:function(a,c){if(a+c>this.Qa)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Qa-=c;if(a!==this.Qa){var d=q.Yb.BYTES_PER_ELEMENT,
e=(a+c)*d;this.mg.set(this.mg.subarray(e,e+(this.Qa-a)*d),a*d)}this.Fa=!0},aV:function(){this.Qa=this.De.length=0},q0:function(a){this.Fa=a},mV:function(a){if(a==this.$c)return!0;var c=q.Yb.BYTES_PER_ELEMENT,d=this.$c;this.Qa=Math.min(this.Qa,a);var e=this.$c=0|a,f=this.Qa;if(null==this.De)for(this.De=[],this.lg=new ArrayBuffer(c*e),this.mg=new Uint8Array(this.lg),a=0;a<e;a++)this.De=new q.Yb(null,null,null,null,this.lg,a*c);else{var g,h,k=this.De;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.Yb(k[a].Pa,k[a].Ga,k[a].Ja,k[a].Sa,h,a*c);for(;a<e;a++)g[a]=new q.Yb(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.Yb(k[a].Pa,k[a].Ga,k[a].Ja,k[a].Sa,h,a*c);this.mg=new Uint8Array(h);this.De=g;this.lg=h}null==this.md?this.md=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.md,0),this.md=c):this.md=this.md.subarray(0,6*e);this.uG();this.UF();return this.Fa=!0},B6:function(a){this.Qa+=a},l8:function(a,c,d){if(2==arguments.length){d=
c;c=this.Qa-a;if(d+(this.Qa-a)>this.$c)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Qa)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Qa)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.Yb.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.mg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Fa=!0},G2:function(a,
c){for(var d=c*q.Yb.BYTES_PER_ELEMENT,e=new Uint8Array(this.lg,a*q.Yb.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},zH:function(a,c){c=c||0;if(0!==a&&this.Ca&&this.Ca.zg()){var d=q.T;q.wg(this.Ca);q.je(q.ou);d.bindBuffer(d.ARRAY_BUFFER,this.qr);this.Fa&&d.bufferData(d.ARRAY_BUFFER,this.lg,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.ye,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.kq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.lq,2,d.FLOAT,!1,24,16);this.Fa&&(this.Fa=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.xi[1]);q.UE?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.md.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.md.BYTES_PER_ELEMENT);q.Zh++}},CR:function(){this.zH(this.Qa,0)},n0:function(){var a=q.T;this.xi&&(this.xi[0]&&a.deleteBuffer(this.xi[0]),this.xi[1]&&a.deleteBuffer(this.xi[1]));this.qr&&a.deleteBuffer(this.qr)}});q.Qn.create=function(a,c){var d=new q.Qn;return d&&d.Wi(a,c)?d:null};q.Qn.ub=function(a,c){var d=new q.Qn;return d&&d.Ia(a,c)?d:null};q.dq=q.B.extend({ctor:function(){q.B.prototype.ctor.call(this);this.Jk=!0;this.O(0.5,0.5);this.U(q.V.e().Nb)}});q.dq.create=function(){return new q.dq};q.Ky=0;q.k_=1;
q.Lc=q.B.extend({Lk:!1,Kk:!1,wo:!1,Yk:0,Qr:q.Ky,cm:!1,Fo:0,ctor:function(){q.B.prototype.ctor.call(this);this.wo=this.Kk=this.Lk=!1;this.Yk=0;this.Qr=q.Ky;this.cm=!1;this.Fo=0},bO:function(){this.O(0.5,0.5);this.Jk=!0;var a=q.V.e();this.U(a.Nb)},r:function(){q.B.prototype.r.call(this);this.bO();return!0},dx:function(){this.Qr===q.Ky?q.VU(this,this.Yk):q.WC(this.Yk,!0,this)},h7:function(){return this.cm},ox:function(a){if(!q.Nd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.cm!=
a&&(this.cm=a,this.Ge&&(a?q.V.e().pf().$G(this,this.Fo):q.V.e().pf().sJ(this)))},laa:function(a){if(!q.Nd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Fo!==a&&(this.Fo=a,this.cm&&(this.ox(!1),this.ox(!0)))},x4:function(){return this.Fo},A7:function(){return this.Lk},Rb:function(a){this.Lk!==a&&(this.Lk=a,this.Ge&&(a?this.dx():q.KK(this)))},Z5:function(){return this.Yk},Pp:function(a){this.Yk!==a&&(this.Yk=a,this.Lk&&(this.Rb(!1),this.Rb(!0)))},Y5:function(){return this.Qr},
uD:function(a){this.Qr!==a&&(this.Qr=a,this.Lk&&(this.Rb(!1),this.Rb(!0)))},Q6:function(){return this.Kk},m$:function(a){if(!q.ok)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Kk&&(this.Kk=a,this.Ge)){var c=q.V.e();a?c.jp().wh(this):c.jp().wh(null)}},FV:function(a){this.Kk&&q.ok&&q.V.e().jp().FV(a)},C8:function(){q.log("onAccelerometer event should be handled.")},g7:function(){return this.wo},caa:function(a){if(!q.In)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.wo&&(this.wo=a,this.Ge)){var c=q.V.e();a?c.Aw().kQ(this):c.Aw().cV(this)}},Cg:function(){var a=q.V.e();this.Lk&&this.dx();q.B.prototype.Cg.call(this);this.Kk&&q.ok&&a.jp().wh(this);this.wo&&q.In&&a.Aw().kQ(this);this.cm&&q.Nd&&a.pf().$G(this,this.Fo)},Fd:function(){var a=q.V.e();this.Lk&&q.KK(this);this.Kk&&q.ok&&a.jp().wh(null);this.wo&&q.In&&a.Aw().cV(this);this.cm&&q.Nd&&a.pf().sJ(this);q.B.prototype.Fd.call(this)},fi:function(){this.Kk&&q.ok&&q.V.e().jp().wh(this);q.B.prototype.fi.call(this)},
hb:function(){q.log("onTouchBegan event should be handled.");return!0},hd:function(){},uf:function(){},ek:function(){},VI:function(){},YI:function(){},XI:function(){},WI:function(){},WT:function(){return!1},XT:function(){return!1},gi:function(){return!1},$T:function(){return!1},dU:function(){return!1},eU:function(){return!1},fU:function(){return!1},aU:function(){return!1},bU:function(){return!1},cU:function(){return!1},gU:function(){return!1},YT:function(){return!1},ZT:function(){return!1},IC:function(){},
ql:function(){}});q.Lc.create=function(){var a=new q.Lc;return a&&a.r()?a:null};
q.Bh=q.Lc.extend({fb:!0,Tb:0,ng:0,Ac:null,Wd:null,Qd:!1,kd:!1,ctor:function(){q.Lc.prototype.ctor.call(this);this.fb=!0;this.ng=this.Tb=255;this.Ac=q.vb();this.Wd=q.vb();this.kd=this.Qd=!1},r:function(){return q.Lc.prototype.r.call(this)?(this.HJ(!1),this.GJ(!1),!0):!1},Ti:function(){return this.ng},XR:function(){return this.Tb},da:function(a){this.Tb=this.ng=a;a=255;var c=this.X;c&&c.fb&&c.Qd&&(a=c.Tb);this.Xc(a)},Xc:function(a){this.Tb=0|this.ng*a/255;if(this.Qd){a=this.s;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.fb&&d.Xc(this.Tb)}}},vT:function(){return this.Qd},HJ:function(a){this.Qd!==a&&((this.Qd=a)?this.Nq():this.Hz())},Nq:function(){var a=255,c=this.X;c&&c.fb&&c.Qd&&(a=c.Tb);this.Xc(a)},Hz:function(){this.Tb=this.ng;for(var a=this.s,c=0;c<a.length;c++){var d=a[c];d&&d.fb&&d.Xc(255)}},qd:function(){var a=this.Wd;return q.k(a.m,a.i,a.f)},gs:function(){var a=this.Ac;return q.k(a.m,a.i,a.f)},n:function(a){var c=this.Ac,d=this.Wd;c.m=d.m=a.m;c.i=d.i=a.i;c.f=d.f=a.f;a=(a=this.X)&&a.fb&&a.kd?a.gs():
q.vb();this.Wc(a)},Wc:function(a){var c=this.Ac,d=this.Wd;c.m=0|d.m*a.m/255;c.i=0|d.i*a.i/255;c.f=0|d.f*a.f/255;if(this.kd)for(a=this.s,d=0;d<a.length;d++){var e=a[d];e&&e.fb&&e.Wc(c)}},uT:function(){return this.kd},GJ:function(a){this.kd!==a&&((this.kd=a)?this.Mq():this.Gz())},Mq:function(){var a;a=(a=this.X)&&a.fb&&a.kd?a.gs():q.vb();this.Wc(a)},Gz:function(){var a=this.Ac,c=this.Wd;a.m=c.m;a.i=c.i;a.f=c.f;for(var a=this.s,c=q.vb(),d=0;d<a.length;d++){var e=a[d];e&&e.fb&&e.Wc(c)}},g:function(a,
c,d){q.B.prototype.g.call(this,a,c,d);this.kd&&this.Mq();this.Qd&&this.Nq()},xf:function(){},jl:function(){return!1}});
q.la=q.Bh.extend({ca:null,fs:function(){return this.ca},B1:function(a,c){this.U(a,c)},jH:function(a){this.U(a,this.pa.oa)},y1:function(a){this.U(this.pa.Ea,a)},xf:function(){},jl:function(){return!1},n:function(a){q.Bh.prototype.n.call(this,a);this.od()},da:function(a){q.Bh.prototype.da.call(this,a);this.od()},xo:!1,yG:null,$A:null,sB:null,uz:null,bB:null,aB:null,Fh:function(){q.Bh.prototype.ctor.call(this);this.ca=new q.Hl(q.ve,q.ue)},Gh:function(){q.Bh.prototype.ctor.call(this);this.ca=new q.Hl(q.ve,
q.ue);this.bB=new ArrayBuffer(32);this.aB=new ArrayBuffer(64);var a=this.bB,c=this.aB,d=q.yb.BYTES_PER_ELEMENT,e=q.Ld.BYTES_PER_ELEMENT;this.yG=[new q.yb(0,0,a,0),new q.yb(0,0,a,d),new q.yb(0,0,a,2*d),new q.yb(0,0,a,3*d)];this.$A=[new q.Ld(0,0,0,1,c,0),new q.Ld(0,0,0,1,c,e),new q.Ld(0,0,0,1,c,2*e),new q.Ld(0,0,0,1,c,3*e)];this.sB=q.T.createBuffer();this.uz=q.T.createBuffer()},ul:function(a,c){this.ca=1==arguments.length?a:{src:a,Db:c};q.td===q.$f&&(this.xo=this.ca&&1==this.ca.src&&771==this.ca.Db)},
r:function(a,c,d){if(!q.Lc.prototype.r.call(this))return!1;q.td!==q.$f&&this.Fg(q.Dh.e().ii(q.tM));var e=q.V.e().Nb;a=a||new q.Lb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Ac;e.m=a.m;e.i=a.i;e.f=a.f;e=this.Wd;e.m=a.m;e.i=a.i;e.f=a.f;this.ng=this.Tb=a.G;this.U(c,d);this.od();return!0},U:null,mP:function(a,c){var d=this.yG;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.pF(),q.Lc.prototype.U.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.pF(),q.Lc.prototype.U.call(this,
a))},od:null,XP:function(){},YP:function(){for(var a=this.Ac,c=this.Tb,d=this.$A,e=0;4>e;e++)d[e].m=a.m/255,d[e].i=a.i/255,d[e].f=a.f/255,d[e].G=c/255;this.oF()},Wc:function(a){q.Bh.prototype.Wc.call(this,a);this.od()},Xc:function(a){q.Bh.prototype.Xc.call(this,a);this.od()},pF:function(){var a=q.T;a.bindBuffer(a.ARRAY_BUFFER,this.sB);a.bufferData(a.ARRAY_BUFFER,this.bB,a.STATIC_DRAW)},oF:function(){var a=q.T;a.bindBuffer(a.ARRAY_BUFFER,this.uz);a.bufferData(a.ARRAY_BUFFER,this.aB,a.STATIC_DRAW)},
Ta:null,Xl:function(a){a=a||q.T;var c=this.d(),d=q.na.e(),e=this.Ac;a.fillStyle="rgba("+(0|e.m)+","+(0|e.i)+","+(0|e.f)+","+this.Tb/255+")";a.fillRect(0,0,c.width*d.qa,-c.height*d.ya);q.Zh++},ig:function(a){a=a||q.T;q.sy(this);q.je(q.Qg|q.NM);a.bindBuffer(a.ARRAY_BUFFER,this.sB);a.vertexAttribPointer(q.ye,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.uz);a.vertexAttribPointer(q.kq,4,a.FLOAT,!1,0,0);q.$j(this.ca.src,this.ca.Db);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Da.Kc?(q.la.prototype.ctor=q.la.prototype.Gh,q.la.prototype.U=q.la.prototype.mP,q.la.prototype.od=q.la.prototype.YP,q.la.prototype.Ta=q.la.prototype.ig):(q.la.prototype.ctor=q.la.prototype.Fh,q.la.prototype.U=q.Bh.prototype.U,q.la.prototype.od=q.la.prototype.XP,q.la.prototype.Ta=q.la.prototype.Xl);q.la.create=function(a,c,d){var e=new q.la;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
q.rE=q.la.extend({zG:null,qo:null,Oo:null,ro:null,Pl:null,Iu:!1,Yq:null,Xq:null,ctor:function(){q.la.prototype.ctor.call(this);this.zG=new q.wc(0,0,0);this.qo=new q.wc(0,0,0);this.Pl=q.a(0,-1);this.ro=this.Oo=255;this.Yq=q.a(0,0);this.Xq=q.a(0,0)},U:function(a,c){2===arguments.length?q.la.prototype.U.call(this,a,c):q.la.prototype.U.call(this,a);this.od()},D5:function(){return this.Wd},Vaa:function(a){this.n(a)},K$:function(a){this.qo=a;this.od()},H3:function(){return this.qo},Waa:function(a){this.Oo=
a;this.od()},E5:function(){return this.Oo},L$:function(a){this.ro=a;this.od()},I3:function(){return this.ro},mba:function(a){this.Pl.x=a.x;this.Pl.y=a.y;this.od()},d6:function(){return q.a(this.Pl.x,this.Pl.y)},V6:function(){return this.Iu},A$:function(a){this.Iu=a;this.od()},r:function(a,c,d){a=a||q.GB(0,0,0,255);c=c||q.GB(0,0,0,255);d=d||q.a(0,-1);var e=this.zG,f=this.qo;e.m=a.m;e.i=a.i;e.f=a.f;this.Oo=a.G;f.m=c.m;f.i=c.i;f.f=c.f;this.ro=c.G;this.Pl=d;this.Iu=!0;q.la.prototype.r.call(this,q.o(a.m,
a.i,a.f,255));return!0},Ta:function(a){if(q.td===q.uk)q.la.prototype.Ta.call(this,a);else{a=a||q.T;this.xo&&(a.globalCompositeOperation="lighter");a.save();var c=q.na.e(),d=this.Tb/255,e=this.d().width*c.qa,c=this.d().height*c.ya,f=a.createLinearGradient(this.Yq.x,this.Yq.y,this.Xq.x,this.Xq.y),g=this.Ac,h=this.qo;f.addColorStop(0,"rgba("+Math.round(g.m)+","+Math.round(g.i)+","+Math.round(g.f)+","+(this.Oo/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.m)+","+Math.round(h.i)+","+Math.round(h.f)+
","+(this.ro/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.dP&&a.rotate(this.o0);a.restore()}},od:function(){var a=this.Pl;if(q.td===q.$f){var c=0.5*this.d().width,d=0.5*this.d().height;this.Yq.x=c*-a.x+c;this.Yq.y=d*a.y-d;this.Xq.x=c*a.x+c;this.Xq.y=d*-a.y-d}else if(d=q.LC(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.Iu&&(a=q.$i(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Tb/255,f=this.Ac,g=this.qo,d=f.m/255,h=f.i/255,f=f.f/255,k=this.Oo*e/255,l=g.m/255,m=g.i/255,g=g.f/
255,e=this.ro*e/255,n=this.$A,r=n[0],p=n[1],t=n[2],n=n[3];r.m=l+(c+a.x+a.y)/(2*c)*(d-l);r.i=m+(c+a.x+a.y)/(2*c)*(h-m);r.f=g+(c+a.x+a.y)/(2*c)*(f-g);r.G=e+(c+a.x+a.y)/(2*c)*(k-e);p.m=l+(c-a.x+a.y)/(2*c)*(d-l);p.i=m+(c-a.x+a.y)/(2*c)*(h-m);p.f=g+(c-a.x+a.y)/(2*c)*(f-g);p.G=e+(c-a.x+a.y)/(2*c)*(k-e);t.m=l+(c+a.x-a.y)/(2*c)*(d-l);t.i=m+(c+a.x-a.y)/(2*c)*(h-m);t.f=g+(c+a.x-a.y)/(2*c)*(f-g);t.G=e+(c+a.x-a.y)/(2*c)*(k-e);n.m=l+(c-a.x-a.y)/(2*c)*(d-l);n.i=m+(c-a.x-a.y)/(2*c)*(h-m);n.f=g+(c-a.x-a.y)/(2*c)*
(f-g);n.G=e+(c-a.x-a.y)/(2*c)*(k-e);this.oF()}}});q.rE.create=function(a,c,d){var e=new q.rE;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
q.sE=q.Lc.extend({Ek:0,Ug:null,G6:function(a){this.Ug=[];this.Ug.push(a);this.Ek=0;this.g(a);return!0},fT:function(a){this.Ug=a;this.Ek=0;this.g(this.Ug[this.Ek]);return!0},Uba:function(a){a>=this.Ug.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Ug[this.Ek],!0),this.Ek=a,this.g(this.Ug[a]))},Vba:function(a){a>=this.Ug.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Ug[this.Ek],
!0),this.Ug[this.Ek]=null,this.Ek=a,this.g(this.Ug[a]))},I0:function(a){a?this.Ug.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.sE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.sE;return a.fT(arguments)?a:null};q.Ey=-1;
q.ip=function(a){function c(){var c=q.ip,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.ED.width=e;c.ED.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.GK.drawImage(a,0,0);for(var n=c.GK.getImageData(0,0,e,h),r=n.data,p=0;p<k.length;p+=4)r[p]=0===l?k[p]:0,r[p+
1]=1===l?k[p+1]:0,r[p+2]=2===l?k[p+2]:0,r[p+3]=k[p+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.TQ;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.TQ=d};q.ip.canvas=document.createElement("canvas");q.ip.ED=document.createElement("canvas");q.ip.GK=q.ip.ED.getContext("2d");
q.P2=function(a,c,d){d||(d=q.rect(0,0,a.width,a.height),d=q.bq(d));c=c instanceof q.Ld?q.o(255*c.m,255*c.i,255*c.f,255*c.G):q.o(c.m,c.i,c.f,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.G/255;f.fillStyle="rgb("+c.m+","+c.i+","+c.f+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
q.WB=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.G?q.kw(d.m/255,d.i/255,d.f/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.m&&(h.globalAlpha=a.m*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.i&&(h.globalAlpha=a.i*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.f&&(h.globalAlpha=a.f*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.m+a.i+a.f&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.pH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.s_=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.zl=e;this.visible=g};q.bg=function(a){return 0|a};q.wM&&(q.bg=function(a){return a});
q.v=q.wb.extend({fb:!0,Oa:null,Qc:0,gb:null,Fa:!1,Kh:null,Ei:null,Tk:!1,zm:null,ca:null,Ca:null,ta:null,Rc:!1,ac:null,Sh:null,ic:!1,gc:!1,hc:!1,mb:!1,Ad:null,aG:null,IK:function(){return this.mb},Mf:function(a,c){this.Ad.push({Zj:a,Yh:c})},Pd:function(){for(var a=this.Ad,c=0,d=a.length;c<d;c++){var e=a[c];e.Zj.call(e.Yh,this)}a.length=0},BI:function(){return this.Fa},Eg:function(a){this.Fa=a},y7:function(){return this.Rc},W2:function(){return this.Qc},se:function(a){this.Qc=a},eC:function(){return q.rect(this.ta.x,
this.ta.y,this.ta.width,this.ta.height)},ZH:function(){return this.Oa},Op:function(a){this.Oa=a},C5:function(){return this.gb},Uaa:function(a){this.gb=a},J4:function(){return this.ac},fs:function(){return this.ca},pe:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.mb||(this.mb=!1,a.Mf(this.YA,this));var c=this.Ia(a.$(),a.ie());this.Jp(a);return c},YA:null,MP:function(a){this.Ua();this.Jb(a.ie(),a.dd,a.cd);this.Pd()},LP:function(a){this.Ua();this.Jb(a.ie(),
a.dd,a.cd);a=this.qd();255===a.m&&255===a.i&&255===a.f||this.Eu();this.Pd()},uI:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.dg.e().oh(a);return this.pe(a)},yca:function(a){this.Oa=a.Oa;this.gb=a},wD:function(a){this.ta.x=a.x;this.ta.y=a.y;this.ta.width=a.width;this.ta.height=a.height},Hd:function(){if(this.Xd){for(var a,c,d=this.s,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.bb<e.bb||c.bb==e.bb&&c.Gf<e.Gf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.gb&&this.fg(d,q.B.Bf.Hd);this.Xd=!1}},Js:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.s.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.bb&&(this.gb&&!this.Xd&&(this.TA(),this.gb.tJ(!0)),q.B.prototype.Js.call(this,a,c))},removeChild:function(a,c){this.gb&&this.gb.jn(a);q.B.prototype.removeChild.call(this,a,c)},pc:function(a){var c=this.s,d=this.gb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.jn(c[e]);q.B.prototype.pc.call(this,
a);this.Ei=!1},MJ:function(a){this.Kh=a;this.Eg(a);a=this.s;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.v&&a[c].MJ(!0)},Pg:function(){this.gb&&!this.Kh&&(this.Fa=this.Kh=!0,this.Ei&&this.MJ(!0))},l:function(a,c){2<=arguments.length?q.B.prototype.l.call(this,a,arguments[1]):q.B.prototype.l.call(this,a);this.Pg()},tx:function(a){q.B.prototype.tx.call(this,a);this.Pg()},ux:function(a){q.B.prototype.ux.call(this,a);this.Pg()},vx:function(a){q.B.prototype.vx.call(this,a);this.Pg()},xx:function(a){q.B.prototype.xx.call(this,
a);this.Pg()},yx:function(a){q.B.prototype.yx.call(this,a);this.Pg()},Mp:function(a){q.B.prototype.Mp.call(this,a);this.Pg()},rn:function(a){q.B.prototype.rn.call(this,a);this.Pg()},jk:function(a,c){q.B.prototype.jk.call(this,a,c);this.Pg()},kK:function(a){q.B.prototype.kK.call(this,a);this.Pg()},O:function(a,c){2===arguments.length?q.B.prototype.O.call(this,a,c):q.B.prototype.O.call(this,a);this.Pg()},C:function(a){q.B.prototype.C.call(this,a);this.Pg()},Vi:function(a){this.gb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
q.B.prototype.Vi.call(this,a)},aW:function(a){this.gc!=a&&(this.gc=a,this.Jb(this.ta,this.Rc,this.pa),this.Ua())},bW:function(a){this.hc!=a&&(this.hc=a,this.Jb(this.ta,this.Rc,this.pa),this.Ua())},b7:function(){return this.gc},c7:function(){return this.hc},xf:null,uP:function(a){this.ic!==a&&(this.ic=a,this.$s())},tP:function(a){this.ic!==a&&(this.ic=a,this.Ua())},jl:function(){return this.ic},Xc:null,aQ:function(a){q.wb.prototype.Xc.call(this,a);this.$s()},LG:function(a){q.wb.prototype.Xc.call(this,
a);this.nm()},H$:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.El.e().OH(a);d?(d=d.Td[c])?this.Jp(d.oh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},Z2:function(){return this.gb},TA:function(){if(!this.Xd){this.Xd=!0;for(var a=this.X;a&&a!=this.gb;)a.TA(),a=a.getParent()}},$:function(){return this.Ca},Gb:null,Cv:null,kf:!1,Hu:!1,
xo:!1,jg:null,Uo:null,Jz:null,ctor:null,Gh:function(a){q.wb.prototype.ctor.call(this);this.Tk=!1;this.ac=q.nd();this.Sh=q.nd();this.ca={src:q.ve,Db:q.ue};this.ta=q.rect(0,0,0,0);this.Gb=new q.Yb;this.Cv=q.T.createBuffer();this.mb=this.kf=!0;this.Ad=[];if(a)if("string"===typeof a)a=q.dg.e().oh(a),this.pe(a);else if("object"===typeof a)if(a instanceof q.yd)this.pe(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Vb;c.sf(a);c.oe();this.Ia(c)}else a instanceof q.Vb&&
this.Ia(a)},Fh:function(a){q.wb.prototype.ctor.call(this);this.Tk=!1;this.ac=q.nd();this.Sh=q.nd();this.ca={src:q.ve,Db:q.ue};this.ta=q.rect(0,0,0,0);this.aG=!1;this.mb=!0;this.Ad=[];this.Uo={x:0,y:0,width:0,height:0,ct:!1};this.Jz=q.size(0,0);if(a)if("string"===typeof a)a=q.dg.e().oh(a),this.pe(a);else if("object"===typeof a)if(a instanceof q.yd)this.pe(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Vb;c.sf(a);c.oe();this.Ia(c)}else a instanceof q.Vb&&this.Ia(a)},
e5:function(){return this.Gb},ul:null,iP:function(a,c){var d=this.ca;1===arguments.length?(d.src=a.src,d.Db=a.Db):(d.src=a,d.Db=c)},hP:function(a,c){var d=this.ca;1===arguments.length?(d.src=a.src,d.Db=a.Db):(d.src=a,d.Db=c);this.xo=d&&(770==d.src&&1==d.Db||1==d.src&&1==d.Db)},r:null,cA:function(){if(0<arguments.length)return this.Wi(arguments[0],arguments[1]);q.wb.prototype.r.call(this);this.Fa=this.Kh=!1;this.ic=!0;this.ca.src=q.ve;this.ca.Db=q.ue;this.ja(null);this.mb=!0;this.gc=this.hc=!1;this.O(0.5,
0.5);this.ac.D=0;this.ac.I=0;this.Ei=!1;var a={m:255,i:255,f:255,G:255};this.Gb.Ga.H=a;this.Gb.Sa.H=a;this.Gb.Pa.H=a;this.Gb.Ja.H=a;this.kf=!0;this.Jb(q.Zc(),!1,q.Ml());return!0},bA:function(){if(0<arguments.length)return this.Wi(arguments[0],arguments[1]);q.wb.prototype.r.call(this);this.Fa=this.Kh=!1;this.ic=!0;this.ca.src=q.ve;this.ca.Db=q.ue;this.ja(null);this.mb=!0;this.gc=this.hc=!1;this.O(0.5,0.5);this.ac.D=0;this.ac.I=0;this.Ei=!1;this.Jb(q.Zc(),!1,q.Ml());return!0},Wi:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=q.xa.e().Ix(a);if(!d)d=q.xa.e().Ra(a);else if(!c){var e=d.d();c=q.rect(0,0,e.width,e.height)}return this.Ia(d,c)},Ia:null,br:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.wb.prototype.r.call(this))return!1;this.gb=null;this.Fa=this.Kh=!1;this.ic=!0;this.ca.src=q.ve;this.ca.Db=q.ue;this.gc=this.hc=!1;this.O(0.5,0.5);this.ac.D=0;this.ac.I=0;this.Ei=!1;var e=new q.Lb(255,255,255,255),f=this.Gb;f.Ga.H=e;f.Sa.H=e;f.Pa.H=e;f.Ja.H=e;
this.mb=e=a.zg();if(!e)return this.Rc=d||!1,c&&(e=this.ta,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Mf(this.Uv,this),!0;c||(e=a.d(),c=q.rect(0,0,e.width,e.height));this.ja(a);this.Jb(c,d,c.$a);this.te(null);return this.kf=!0},ar:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.wb.prototype.r.call(this))return!1;this.gb=null;this.Fa=this.Kh=!1;this.ic=!0;this.ca.src=q.ve;this.ca.Db=q.ue;this.gc=this.hc=!1;this.O(0.5,0.5);this.ac.D=
0;this.ac.I=0;this.Ei=!1;var e=a.zg();this.mb=e;if(!e)return this.Rc=d||!1,c&&(this.ta.x=c.x,this.ta.y=c.y,this.ta.width=c.width,this.ta.height=c.height),a.Mf(this.Uv,this),!0;c||(e=a.d(),c=q.rect(0,0,e.width,e.height));this.jg=a;this.ja(a);this.Jb(c,d,c.$a);this.te(null);return!0},Uv:null,RP:function(a){if(!this.mb){this.mb=!0;var c=this.ta;if(!c)c=a.d(),c=q.rect(0,0,c.width,c.height);else if(q.rr(c)){var d=a.d();c.width=d.width;c.height=d.height}this.ja(a);this.Jb(c,this.Rc,c.$a);this.te(null);
this.kf=!0;this.Pd()}},QP:function(a){if(!this.mb){this.mb=!0;var c=this.ta;if(!c)c=a.d(),c=q.rect(0,0,c.width,c.height);else if(q.rr(c)){var d=a.d();c.width=d.width;c.height=d.height}this.jg=a;this.ja(a);this.Jb(c,this.Rc,c.$a);this.te(null);this.Pd()}},Jb:null,sG:function(a,c,d){this.Rc=c||!1;d=d||a.$a;this.U(d);this.wD(a);this.rG(a);a=this.Sh;this.gc&&(a.D=-a.D);this.hc&&(a.I=-a.I);var e=this.ta;this.ac.D=a.D+(this.pa.Ea-e.width)/2;this.ac.I=a.I+(this.pa.oa-e.height)/2;if(this.gb)this.Fa=!0;else{a=
0+this.ac.D;c=0+this.ac.I;d=a+e.width;var e=c+e.height,f=this.Gb;f.Ga.q={x:a,y:c,z:0};f.Sa.q={x:d,y:c,z:0};f.Pa.q={x:a,y:e,z:0};f.Ja.q={x:d,y:e,z:0};this.kf=!0}},UA:function(a,c,d){this.Rc=c||!1;d=d||a.$a;this.U(d);this.wD(a);c=this.Uo;d=q.wd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.ct=!(0===c.width||0===c.height);a=this.Sh;this.gc&&(a.D=-a.D);this.hc&&(a.I=-a.I);this.ac.D=a.D+(this.pa.Ea-this.ta.width)/2;this.ac.I=a.I+(this.pa.oa-this.ta.height)/2;this.gb&&(this.Fa=!0)},
Yf:null,iQ:function(){if(this.Fa){var a=this.Gb,c=this.X;if(!this.sa||c&&c!=this.gb&&c.Tk)a.Sa.q={x:0,y:0,z:0},a.Pa.q={x:0,y:0,z:0},a.Ja.q={x:0,y:0,z:0},a.Ga.q={x:0,y:0,z:0},this.Tk=!0;else{this.Tk=!1;var d=this.zm=c&&c!=this.gb?q.Dl(this.Uf(),c.zm):this.Uf(),e=this.ta.$a,c=this.ac.D,f=this.ac.I,g=c+e.width,e=f+e.height,h=d.Xa,k=d.Ya,l=d.G,m=d.f,n=d.Ha,d=-d.za,r=this.fw;a.Ga.q={x:q.bg(c*l-f*d+h),y:q.bg(c*m+f*n+k),z:r};a.Sa.q={x:q.bg(g*l-f*d+h),y:q.bg(g*m+f*n+k),z:r};a.Pa.q={x:q.bg(c*l-e*d+h),y:q.bg(c*
m+e*n+k),z:r};a.Ja.q={x:q.bg(g*l-e*d+h),y:q.bg(g*m+e*n+k),z:r}}this.Oa.Nx(a,this.Qc);this.Kh=!1;this.Eg(!1)}this.Ei&&this.fg(this.s,q.B.Bf.Yf);q.sk&&(a=[q.a(this.Gb.Ga.q.x,this.Gb.Ga.q.y),q.a(this.Gb.Sa.q.x,this.Gb.Sa.q.y),q.a(this.Gb.Ja.q.x,this.Gb.Ja.q.y),q.a(this.Gb.Pa.q.x,this.Gb.Pa.q.y)],q.Pf.ae(a,4,!0))},hQ:function(){if(this.Fa){var a=this.X;!this.sa||a&&a!=this.gb&&a.Tk?this.Tk=!0:(this.Tk=!1,this.zm=a&&a!=this.gb?q.Dl(this.Uf(),a.zm):this.Uf());this.Fa=this.Kh=!1}this.Ei&&this.fg(this.s,
q.B.Bf.Yf)},g:null,bz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.bb);null==d&&(d=a.fd);if(this.gb){if(!(a instanceof q.v)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.$().Vh!==this.Oa.$().Vh&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.gb.appendChild(a);this.Xd||this.TA()}q.B.prototype.g.call(this,
a,c,d);this.Ei=!0},az:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.bb);null==d&&(d=a.fd);q.B.prototype.g.call(this,a,c,d);this.Ei=!0},$s:function(){var a=this.Ac,c=this.Tb,a={m:a.m,i:a.i,f:a.f,G:c};this.ic&&(a.m*=c/255,a.i*=c/255,a.f*=c/255);c=this.Gb;c.Ga.H=a;c.Sa.H=a;c.Pa.H=a;c.Ja.H=a;this.gb&&(this.Qc!=q.Ey?this.Oa.Nx(c,this.Qc):this.Fa=!0);this.kf=!0},da:null,SA:function(a){q.wb.prototype.da.call(this,a);this.$s()},wr:function(a){q.wb.prototype.da.call(this,
a);this.nm()},n:null,PA:function(a){q.wb.prototype.n.call(this,a);this.$s()},ur:function(a){var c=this.qd();if(c.m!==a.m||c.i!==a.i||c.f!==a.f)q.wb.prototype.n.call(this,a),this.Eu(),this.nm()},Wc:null,$P:function(a){q.wb.prototype.Wc.call(this,a);this.$s()},lB:function(a){var c=this.qd();q.wb.prototype.Wc.call(this,a);a=this.Ac;if(c.m!==a.m||c.i!==a.i||c.f!==a.f)this.Eu(),this.nm()},Jp:null,oP:function(a){this.Ua();var c=a.Fb;this.Sh.D=c.x;this.Sh.I=c.y;c=a.$();a.mb||(this.mb=!1,a.Mf(function(a){this.mb=
!0;var c=a.$();c!=this.Ca&&this.ja(c);this.Jb(a.ie(),a.dd,a.cd);this.Pd()},this));c!=this.Ca&&this.ja(c);this.Rc=a.dd;this.Jb(a.ie(),this.Rc,a.cd)},nP:function(a){this.Ua();var c=a.Fb;this.Sh.D=c.x;this.Sh.I=c.y;this.Rc=a.dd;var c=a.$(),d=a.mb;d||(this.mb=!1,a.Mf(function(a){this.mb=!0;var c=a.$();c!=this.Ca&&this.ja(c);this.Jb(a.ie(),a.dd,a.cd);this.Pd()},this));c!=this.Ca&&this.ja(c);this.Rc&&(this.jg=c);this.Jb(a.ie(),this.Rc,a.cd);this.Hu=!1;d&&(a=this.qd(),255===a.m&&255===a.i&&255===a.f||this.Eu())},
DI:null,pO:function(a){return q.nJ(a.ie(),this.ta)&&a.$().getName()==this.Ca.getName()&&q.cJ(a.Fb,this.Sh)},oO:function(a){return a.$()!=this.Ca?!1:q.nJ(a.ie(),this.ta)},xR:function(){return q.yd.ub(this.Ca,q.Kn(this.ta),this.Rc,q.kM(this.Sh),q.Dy(this.pa))},te:null,gP:function(a){if(this.gb=a)this.zm={G:1,f:0,za:0,Ha:1,Xa:0,Ya:0},this.Op(this.gb.Oa);else{this.Qc=q.Ey;this.Op(null);this.Kh=!1;this.Eg(!1);a=this.ac.D;var c=this.ac.I,d=a+this.ta.width,e=c+this.ta.height,f=this.Gb;f.Ga.q={x:a,y:c,z:0};
f.Sa.q={x:d,y:c,z:0};f.Pa.q={x:a,y:e,z:0};f.Ja.q={x:d,y:e,z:0};this.kf=!0}},fP:function(a){(this.gb=a)?(this.zm={G:1,f:0,za:0,Ha:1,Xa:0,Ya:0},this.Op(this.gb.Oa)):(this.Qc=q.Ey,this.Op(null),this.Kh=!1,this.Eg(!1))},ja:null,yr:function(a){if(a&&!(a instanceof q.Vb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.gb&&this.gb.$()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Fg(q.Dh.e().ii(q.Cy)):this.Fg(q.Dh.e().ii(q.tM)),
this.gb||this.Ca==a||(this.Ca=a,this.Am()))},xr:function(a){if(a&&!(a instanceof q.Vb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ca!=a&&(a&&a.Bc instanceof HTMLImageElement&&(this.jg=a),this.Ca=a)},Am:function(){this.gb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ca&&this.Ca.ss()?(this.ca.src=q.ve,this.ca.Db=q.ue,this.xf(!0)):(this.ca.src=770,this.ca.Db=771,this.xf(!1))},
Eu:function(){var a,c=this.Ca,d=this.Uo;c&&d.ct&&this.jg&&(a=c.Bc)&&(c=q.xa.e().$H(this.jg.Bc))&&(this.Hu=!0,a instanceof HTMLCanvasElement&&!this.Rc&&!this.aG?q.WB(a,c,this.Ac,d,a):(a=q.WB(a,c,this.Ac,d),c=new q.Vb,c.sf(a),c.oe(),this.ja(c)))},rG:function(a){a=q.Kn(a);var c=this.gb?this.Oa.$():this.Ca;if(c){var d=c.np(),e=c.mp(),f,g=this.Gb;this.Rc?(q.Ht?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.gc&&
(e=f,f=a,a=e),this.hc&&(e=c,c=d,d=e),g.Ga.u.La=c,g.Ga.u.ia=f,g.Sa.u.La=c,g.Sa.u.ia=a,g.Pa.u.La=d,g.Pa.u.ia=f,g.Ja.u.La=d,g.Ja.u.ia=a):(q.Ht?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.gc&&(e=c,c=d,d=e),this.hc&&(e=f,f=a,a=e),g.Ga.u.La=c,g.Ga.u.ia=a,g.Sa.u.La=d,g.Sa.u.ia=a,g.Pa.u.La=c,g.Pa.u.ia=f,g.Ja.u.La=d,g.Ja.u.ia=f);this.kf=!0}},Ta:null,ig:function(){if(this.mb){var a=q.T,c=this.Ca;c?c.mc&&(this.Cc.bf(),
this.Cc.Hg(),q.$j(this.ca.src,this.ca.Db),q.q6(0,c),q.je(q.ou),a.bindBuffer(a.ARRAY_BUFFER,this.Cv),this.kf&&(a.bufferData(a.ARRAY_BUFFER,this.Gb.BB,a.DYNAMIC_DRAW),this.kf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Cc.bf(),this.Cc.Hg(),q.$j(this.ca.src,this.ca.Db),q.wg(null),q.je(q.Qg|q.NM),a.bindBuffer(a.ARRAY_BUFFER,this.Cv),this.kf&&(q.T.bufferData(q.T.ARRAY_BUFFER,
this.Gb.BB,q.T.STATIC_DRAW),this.kf=!1),a.vertexAttribPointer(q.ye,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.kq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.Zh++;0!==q.sk&&(1===q.sk?(a=this.Gb,a=[q.a(a.Pa.q.x,a.Pa.q.y),q.a(a.Ga.q.x,a.Ga.q.y),q.a(a.Sa.q.x,a.Sa.q.y),q.a(a.Ja.q.x,a.Ja.q.y)],q.Pf.ae(a,4,!0)):2===q.sk&&(a=this.eC().$a,c=this.ac,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Pf.ae(a,4,!0)))}},Xl:function(a){if(this.mb){a=
a||q.T;this.xo&&(a.globalCompositeOperation="lighter");var c=q.na.e().qa,d=q.na.e().ya;a.globalAlpha=this.Tb/255;var e=this.ta,f=this.pa,g=this.ac,h=this.Jz,k=0|g.D,l=-g.I-e.height,m=this.Uo;h.width=e.width*c;h.height=e.height*d;if(this.gc||this.hc)a.save(),this.gc&&(k=-g.D-e.width,a.scale(-1,1)),this.hc&&(l=g.I,a.scale(1,-1));k*=c;l*=d;this.Ca&&m.ct?(f=this.Ca.Bc,this.Hu?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.Ea&&
(h=this.qd(),a.fillStyle="rgba("+h.m+","+h.i+","+h.f+",1)",a.fillRect(k,l,f.Ea*c,f.oa*d));1===q.sk?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Pf.ae(k,4,!0)):2===q.sk&&(a.strokeStyle="rgba(0,255,0,1)",c=this.ta.$a,l=-l,k=[q.a(k,l),q.a(k+c.width,l),q.a(k+c.width,l-c.height),q.a(k,l-c.height)],q.Pf.ae(k,4,!0));(this.gc||this.hc)&&a.restore();q.Zh++}}});
q.Da.Kc?(b=q.v.prototype,b.YA=q.v.prototype.MP,b.xf=q.v.prototype.uP,b.Xc=q.v.prototype.aQ,b.ctor=q.v.prototype.Gh,b.ul=q.v.prototype.iP,b.r=q.v.prototype.cA,b.Ia=q.v.prototype.br,b.Uv=q.v.prototype.RP,b.Jb=q.v.prototype.sG,b.Yf=q.v.prototype.iQ,b.g=q.v.prototype.bz,b.da=q.v.prototype.SA,b.n=q.v.prototype.PA,b.Wc=q.v.prototype.$P,b.Jp=q.v.prototype.oP,b.DI=q.v.prototype.pO,b.te=q.v.prototype.gP,b.ja=q.v.prototype.yr,b.Ta=q.v.prototype.ig):(b=q.v.prototype,b.YA=q.v.prototype.LP,b.xf=q.v.prototype.tP,
b.Xc=q.v.prototype.LG,b.ctor=q.v.prototype.Fh,b.ul=q.v.prototype.hP,b.r=q.v.prototype.bA,b.Ia=q.v.prototype.ar,b.Uv=q.v.prototype.QP,b.Jb=q.v.prototype.UA,b.Yf=q.v.prototype.hQ,b.g=q.v.prototype.az,b.da=q.v.prototype.wr,b.n=q.v.prototype.ur,b.Wc=q.v.prototype.lB,b.Jp=q.v.prototype.nP,b.DI=q.v.prototype.oO,b.te=q.v.prototype.fP,b.ja=q.v.prototype.xr,b.Ta=q.v.prototype.Xl);
q.v.ub=function(a,c){var d=arguments.length,e=new q.v;switch(d){case 1:return e&&e.Ia(a)?e:null;case 2:return e&&e.Ia(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.v.create=function(a,c){var d=arguments.length,e=new q.v;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
q.v.oH=function(a){var c=null;if("string"==typeof a){if(c=q.dg.e().oh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.v)&&a.pe(c)?a:null};q.v.nH=function(a){var c=new q.v;return c&&c.pe(a)?c:null};q.hj=q.Ba.extend({Br:null,Rd:0,Ur:null,ctor:function(){this.Rd=0},F:function(){var a=new q.hj;a.pe(this.Br.F(),this.Rd,this.Ur);return a},ow:function(){return q.F(this)},copy:function(){var a=new q.hj;a.pe(this.Br.F(),this.Rd,this.Ur);return a},pe:function(a,c,d){this.Br=a;this.Rd=c;this.Ur=d;return!0},oh:function(){return this.Br},yf:function(a){this.Br=a},A3:function(){return this.Rd},G$:function(a){this.Rd=a},b6:function(){return this.Ur},kba:function(a){this.Ur=a}});
q.gj=q.Ba.extend({Td:null,Hj:0,km:!1,ra:0,Rd:0,xm:0,ctor:function(){this.Td=[]},S3:function(){return this.Td},RJ:function(a){this.Td=a},zB:function(a){var c=new q.hj;c.pe(a,1,null);this.Td.push(c);this.xm++},N0:function(a){a=q.xa.e().Ra(a);var c=q.Zc();c.$a=a.d();a=q.yd.ub(a,c);this.zB(a)},O0:function(a,c){var d=q.yd.ub(a,c);this.zB(d)},ts:function(a,c,d){q.ht(a,q.hj);this.Rd=c;this.Hj=d;this.RJ([]);for(c=0;c<a.length;c++)d=a[c],this.Td.push(d),this.xm+=d.Rd;return!0},F:function(){var a=new q.gj;
a.ts(this.wF(),this.Rd,this.Hj);a.sx(this.km);return a},ow:function(){var a=new q.gj;a.ts(this.wF(),this.Rd,this.Hj);a.sx(this.km);return a},wF:function(){for(var a=[],c=0;c<this.Td.length;c++)a.push(this.Td[c].F());return a},copy:function(){return this.ow(null)},i4:function(){return this.Hj},daa:function(a){this.Hj=a},sx:function(a){this.km=a},n5:function(){return this.km},of:function(){return this.xm*this.Rd},z3:function(){return this.Rd},F$:function(a){this.Rd=a},T5:function(){return this.xm},
vI:function(a,c){q.ht(a,q.yd);this.Hj=1;this.Rd=c||0;this.RJ([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.hj;f.pe(e,1,null);this.Td.push(f);this.xm++}return!0},xJ:function(){},XC:function(){}});q.gj.create=function(a,c,d){var e=arguments.length,f=new q.gj;0==e?f.vI(null,0):2==e?f.vI(a,c||0):3==e&&f.ts(a,c,d);return f};q.gj.mH=function(a,c,d){var e=new q.gj;e.ts(a,c,d);return e};q.El=q.Ba.extend({WG:function(a,c){this.Rl[c]=a},K9:function(a){a&&this.Rl.hasOwnProperty(a)&&delete this.Rl[a]},OH:function(a){return this.Rl.hasOwnProperty(a)?this.Rl[a]:null},cN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.dg.e(),h=q.xd.e(),k,l=0;l<f.length;l++)k=h.NH(f[l],c),g.cH(k);switch(e){case 1:this.JO(d);break;case 2:this.KO(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
D0:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.xd.e(),d=c.fe(a);(c=c.qw(d))?this.cN(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},JO:function(a){var c=q.dg.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.oh(f[h]);if(k){var l=new q.hj;l.pe(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.gj.mH(g,e,1),q.El.e().WG(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
KO:function(a){var c=q.dg.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.Ll:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.oh(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,p=new q.hj;p.pe(r,n,m);k.push(p)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.gj;h.ts(k,e,f);h.sx(g);q.El.e().WG(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.Rl={};return!0},Rl:null});q.El.GU=function(){q.mn&&(q.mn.Rl=null,q.mn=null)};q.El.e=function(){null===q.mn&&(q.mn=new q.El,q.mn.r());return q.mn};q.mn=null;q.yd=q.Ba.extend({Fb:null,cd:null,Fe:null,dd:!1,ta:null,Ff:null,gf:null,Ca:null,To:"",mb:!1,Ru:null,ctor:function(){this.Fb=q.nd();this.Ff=q.nd();this.cd=q.pm();this.dd=!1;this.gf=q.pm();this.To="";this.Ca=null;this.mb=!1},IK:function(){return this.mb},Mf:function(a,c){null==this.Ru&&(this.Ru=[]);this.Ru.push({Zj:a,Yh:c})},Pd:function(){var a=this.Ru;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.Zj.call(e.Yh,this)}a.length=0}},rS:function(){var a=this.Fe;return q.rect(a.x,a.y,a.width,a.height)},
Iaa:function(a){this.Fe||(this.Fe=q.rect(0,0,0,0));this.Fe.x=a.x;this.Fe.y=a.y;this.Fe.width=a.width;this.Fe.height=a.height;this.ta=q.bq(a)},s7:function(){return this.dd},Qaa:function(a){this.dd=a},ie:function(){var a=this.ta;return q.rect(a.x,a.y,a.width,a.height)},aK:function(a){this.ta||(this.ta=q.rect(0,0,0,0));this.ta.x=a.x;this.ta.y=a.y;this.ta.width=a.width;this.ta.height=a.height;this.Fe=q.Kn(this.ta)},I4:function(){return this.Ff},raa:function(a){this.Ff.D=a.x;this.Ff.I=a.y;q.ru(this.Ff,
this.Fb)},P4:function(){return this.gf},uaa:function(a){this.gf.Ea=a.width;this.gf.oa=a.height},lS:function(){return this.cd},taa:function(a){this.cd.Ea=a.width;this.cd.oa=a.height},$:function(){if(this.Ca)return this.Ca;if(""!==this.To){var a=q.xa.e().Ra(this.To);a&&(this.mb=a.zg());return a}return null},ja:function(a){if(this.Ca!=a){var c=a.zg();this.mb=c;this.Ca=a;c||a.Mf(function(a){this.mb=!0;if(this.dd&&q.td===q.$f){var c=a.Bc,c=q.pH(c,this.ie()),f=new q.Vb;f.sf(c);f.oe();this.ja(f);c=this.ie();
this.aK(q.rect(0,0,c.width,c.height))}c=this.ta;0===c.width&&0===c.height&&(a=a.d(),this.ta.width=a.width,this.ta.height=a.height,this.Fe=q.Kn(this.ta),this.gf.Ea=this.Fe.width,this.gf.oa=this.Fe.height,this.cd.Ea=a.width,this.cd.oa=a.height);this.Pd()},this)}},H4:function(){return this.Fb},qaa:function(a){this.Fb.D=a.x;this.Fb.I=a.y},F:function(){var a=new q.yd;a.Mw(this.To,this.Fe,this.dd,this.Ff,this.gf);a.ja(this.Ca);return a},ow:function(){var a=new q.yd;a.Mw(this.To,this.Fe,this.dd,this.Ff,
this.gf);a.ja(this.Ca);return a},copy:function(){return this.ow()},Ia:function(a,c,d,e,f){2===arguments.length&&(c=q.Kn(c));e=e||q.a(0,0);f=f||c.$a;this.ja(a);this.Fe=c;this.ta=q.bq(c);this.Ff.D=e.x;this.Ff.I=e.y;q.ru(e,this.Fb);this.gf.Ea=f.width;this.gf.oa=f.height;q.Uy(f,this.cd);this.dd=d||!1;return!0},Mw:function(a,c,d,e,f){2===arguments.length&&(c=q.Kn(c));e=e||q.a(0,0);f=f||c.$a;this.Ca=null;this.To=a;this.Fe=c;this.ta=q.bq(c);this.dd=d||!1;this.Ff.D=e.x;this.Ff.I=e.y;q.ru(e,this.Fb);this.gf.Ea=
f.width;this.gf.oa=f.height;q.Uy(f,this.cd);return!0}});q.yd.create=function(a,c,d,e,f){var g=new q.yd;switch(arguments.length){case 2:g.Mw(a,c);break;case 5:g.Mw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.yd.ub=function(a,c,d,e,f){var g=new q.yd;switch(arguments.length){case 2:g.Ia(a,c);break;case 5:g.Ia(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.yd.X_=function(a,c,d,e,f){var g=new q.yd;g.Ca=a;g.Fe=c;g.ta=q.bq(c);g.Ff.D=e.x;g.Ff.I=e.y;q.ru(g.Ff,g.Fb);g.gf.Ea=f.width;g.gf.oa=f.height;q.Uy(g.gf,g.cd);g.dd=d;return g};q.dg=q.Ba.extend({He:null,Uk:null,gr:null,ctor:function(){this.He={};this.Uk={};this.gr=[]},dz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.He[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),p=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);p&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");p=Math.abs(p);d=Math.abs(d);h=q.yd.ub(c,q.rect(h,k,l,m),!1,q.a(n,r),q.size(p,d))}else if(1==f||2==f)h=q.KE(d.frame),k=!1,2==f&&(k=d.rotated),l=q.JE(d.offset),d=q.Gy(d.sourceSize),h=q.yd.ub(c,h,k,l,d);else if(3==f){var h=q.Gy(d.spriteSize),k=q.JE(d.spriteOffset),l=q.Gy(d.spriteSourceSize),m=q.KE(d.textureRect),n=d.textureRotated,
r=d.aliases,p=g.toString(),t;for(t in r)this.Uk.hasOwnProperty(r[t])&&q.log("cocos2d: WARNING: an alias with name "+t+" already exists"),this.Uk[r[t]]=p;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.yd.ub(c,m,n,k,l)}else var v=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.YK,k.ne),d=d.rotated,l=q.a(0,0),h=q.size(h.YK,h.ne),h=q.yd.ub(c,k,d,l,h);q.td===q.$f&&h.dd&&h.$().zg()&&(d=h.$().Bc,d=q.pH(d,h.rS()),k=new q.Vb,k.sf(d),k.oe(),h.ja(k),d=h.ta,h.aK(q.rect(0,0,d.width,
d.height)));this.He[null!=v?v:g]=h}}},cH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.xd.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.fe(a),e=d.qw(e)):e=JSON.parse(d.YH(a));switch(arguments.length){case 1:if(!q.Ux(this.gr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.NH(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.xa.e().Ra(f))?this.dz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.Vb)this.dz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.xa.e().Ra(c))?this.dz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},zB:function(a,c){this.He[c]=a},T9:function(){this.He=[];this.Uk=[];this.gr={}},S9:function(a){a&&(this.Uk.hasOwnProperty(a)&&delete this.Uk[a],this.He.hasOwnProperty(a)&&delete this.He[a],this.gr={})},U9:function(a){var c=
q.xd.e(),d=c.fe(a),c=c.qw(d);this.UO(c);q.Ux(this.gr,a)&&q.Jd(a)},UO:function(a){a=a.frames;for(var c in a)this.He.hasOwnProperty(c)&&delete this.He[c]},V9:function(a){for(var c in this.He){var d=this.He[c];d&&d.$()==a&&delete this.He[c]}},oh:function(a){var c;this.He.hasOwnProperty(a)&&(c=this.He[a]);if(!c){var d;this.Uk.hasOwnProperty(a)&&(d=this.Uk[a]);d&&(this.He.hasOwnProperty(d.toString())&&(c=this.He[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.ix=null;q.dg.e=function(){q.ix||(q.ix=new q.dg);return q.ix};q.dg.HU=function(){q.ix=null};q.$p=29;
q.qb=q.B.extend({Oa:null,ca:null,ld:null,P0:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.v))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.se(c);var e=0,f=this.ld;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Qc>=c&&++e}this.ld=q.Fl(f,a,e);q.B.prototype.g.call(this,a,c,d);this.tJ(!1);return this},ZH:function(){return this.Oa},Op:function(a){a!=this.Oa&&
(this.Oa=a)},D3:function(){return this.ld},Wi:function(a,c){var d=q.xa.e().Ix(a);d||(d=q.xa.e().Ra(a));return this.Ia(d,c)},nm:function(){this.sF=!0},r:function(a,c){var d=q.xa.e().Ix(a);d||(d=q.xa.e().Ra(a));return this.Ia(d,c)},Hw:function(){var a=this.Oa.$c,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Oa.mV(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},M9:function(a,c){this.removeChild(this.s[a],c)},
mJ:function(a,c){var d=a.s;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.bb&&(c=this.mJ(f,c))}!a==this&&(a.se(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.bb&&(c=this.mJ(f,c));return c},oC:function(a){var c=a.s;return c&&0!=c.length?this.oC(c[c.length-1]):a.Qc},KT:function(a){var c=a.s;return c&&0!=c.length?this.KT(c[c.length-1]):a.Qc},BQ:function(a,c){var d=a.getParent().s,e=q.Wx(d,a),f=a.getParent()==this,g=null;0<e&&e<q.KM&&(g=d[e-1]);if(f)return 0==e?0:this.oC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Qc:d.Qc+1;if(0>g.bb&&0>c||0<=g.bb&&0<=c)return this.oC(g)+1;d=a.getParent();return d.Qc+1},tJ:function(a){this.Xd=a},ul:function(a,c){this.ca=1==arguments.length?a:{src:a,Db:c}},fs:function(){return this.ca},Js:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.s.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.bb&&(q.B.prototype.Js.call(this,a,c),this.Ua())},removeChild:function(a,
c){null!=a&&(-1===this.s.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.jn(a),q.B.prototype.removeChild.call(this,a,c)))},zO:null,vm:null,z0:!1,jg:null,ctor:null,Fh:function(a){q.B.prototype.ctor.call(this);a&&this.r(a,q.$p)},Gh:function(a){q.B.prototype.ctor.call(this);this.zO=new q.rh;a&&this.r(a,q.$p)},TK:null,eQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.te(this),a.se(c),
a.Eg(!0),a.Yf()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},fQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Oa.$c;c>=d||d==this.Oa.Qa;)this.Hw();a.te(this);a.se(c);a.Eg(!0);a.Yf()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Qv:function(a,c){var d=this.ld,e=this.Oa,f=e.De,g=d[a],
h=q.Ry(f[a]);d[c].se(a);d[a]=d[c];e.Nx(f[c],a);d[c]=g;e.Nx(h,c)},wI:null,mO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.te(this),a.se(c),a.Eg(!0),a.Yf(),this.s=q.Fl(this.s,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},nO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Oa;c>=d.$c||
d.$c===d.Qa;)this.Hw();a.te(this);a.se(c);d.xC(a.Gb,c);a.Eg(!0);a.Yf()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},KG:function(a,c){var d=0,e=a.s;e&&(d=e.length);var f=0;if(0===d)f=a.Qc,a.se(c),a.Lp(0),f!=c&&this.Qv(f,c),c++;else{f=!0;0<=e[0].bb&&(f=a.Qc,a.se(c),a.Lp(0),f!=c&&this.Qv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.bb&&(f=a.Qc,a.se(c),a.Lp(0),f!=c&&this.Qv(f,c),c++,f=!1);c=this.KG(g,c)}f&&(f=a.Qc,a.se(c),
a.Lp(0),f!=c&&this.Qv(f,c),c++)}return c},Am:function(){this.Oa.$().ss()||(this.ca.src=770,this.ca.Db=771)},Ia:null,ar:function(a){this.s=[];this.ld=[];this.ca=new q.Hl(q.ve,q.ue);this.vm=this.jg=a;return!0},br:function(a,c){this.s=[];this.ld=[];this.ca=new q.Hl(q.ve,q.ue);c=c||q.$p;this.Oa=new q.Qn;this.Oa.Ia(a,c);this.Am();this.Fg(q.Dh.e().ii(q.Cy));return!0},oT:function(a,c){a.te(this);a.se(c);a.Eg(!0);var d=this.Oa;d.Qa>=d.$c&&this.Hw();d.xC(a.Gb,c);this.ld=q.Fl(this.ld,a,c);var d=c+1,e=this.ld;
if(e&&0<e.length)for(;d<e.length;d++)e[d].se(e[d].Qc+1);if((e=a.s)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.BQ(e[d],e[d].bb);this.oT(e[d],f)}},appendChild:null,jN:function(a){this.Xd=!0;a.te(this);a.Eg(!0);this.ld.push(a);a.se(this.ld.length-1);a=a.s;for(var c=0;c<a.length;c++)this.appendChild(a[c])},kN:function(a){this.Xd=!0;a.te(this);a.Eg(!0);this.ld.push(a);var c=this.ld.length-1;a.se(c);var d=this.Oa;d.Qa==d.$c&&this.Hw();d.xC(a.Gb,c);a=a.s;for(c=0;c<a.length;c++)this.appendChild(a[c])},
jn:null,VO:function(a){a.te(null);var c=this.ld,d=q.Wx(c,a);if(-1!=d){q.Vp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.se(f.Qc-1)}}if((a=a.s)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.jn(a[c])},WO:function(a){this.Oa.gV(a.Qc);a.te(null);var c=this.ld,d=q.Wx(c,a);if(-1!=d){q.Vp(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.se(f.Qc-1)}}if((a=a.s)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.jn(a[c])},$:null,Xz:function(){return this.vm},Yz:function(){return this.Oa.$()},ja:null,xr:function(a){this.vm=
a;for(var c=this.s,d=0;d<c.length;d++)c[d].ja(a)},yr:function(a){this.Oa.ja(a);this.Am()},ma:null,Bm:function(a){var c=a||q.T;if(this.sa){c.save();this.transform(a);var d=this.s;if(d)for(this.Hd(),a=0;a<d.length;a++)d[a]&&d[a].ma(c);c.restore()}},Cm:function(a){a=a||q.T;if(this.sa){q.zp();var c=this.Gk;c&&c.vp()&&(c.EB(),this.Lx());this.Hd();this.transform(a);this.Ta(a);c&&c.vp()&&c.AB(this);q.yp();this.Lp(0)}},g:null,az:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.v?(c=null==c?a.bb:c,d=null==d?a.fd:d,q.B.prototype.g.call(this,a,c,d),this.appendChild(a),this.Ua()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},bz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.v?a.$()!=this.Oa.$()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.bb:c,d=null==d?a.fd:d,q.B.prototype.g.call(this,a,c,d),this.appendChild(a),
this.Ua()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},pc:null,RO:function(a){var c=this.ld;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].te(null);q.B.prototype.pc.call(this,a);this.ld=[]},SO:function(a){var c=this.ld;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].te(null);q.B.prototype.pc.call(this,a);this.ld=[];this.Oa.aV()},Hd:null,JP:function(){if(this.Xd){var a,c=0,d=this.s,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.bb<f.bb||g.bb==f.bb&&g.Gf<f.Gf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.fg(d,q.B.Bf.Hd);this.Xd=!1}},KP:function(){if(this.Xd){var a=this.s,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.bb<f.bb||g.bb==f.bb&&g.Gf<f.Gf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.fg(a,q.B.Bf.Hd),c=d=0;c<a.length;c++)d=this.KG(a[c],d);this.Xd=!1}},Ta:null,ig:function(){0!==this.Oa.Qa&&(this.Cc.bf(),this.Cc.Hg(),this.fg(this.s,q.B.Bf.Yf),q.$j(this.ca.src,
this.ca.Db),this.Oa.CR())}});
q.Da.Kc?(b=q.qb.prototype,b.ctor=q.qb.prototype.Gh,b.TK=q.qb.prototype.fQ,b.wI=q.qb.prototype.nO,b.Ia=q.qb.prototype.br,b.appendChild=q.qb.prototype.kN,b.jn=q.qb.prototype.WO,b.$=q.qb.prototype.Yz,b.ja=q.qb.prototype.yr,b.ma=q.qb.prototype.Cm,b.g=q.qb.prototype.bz,b.pc=q.qb.prototype.SO,b.Hd=q.qb.prototype.KP,b.Ta=q.qb.prototype.ig):(b=q.qb.prototype,b.ctor=q.qb.prototype.Fh,b.TK=q.qb.prototype.eQ,b.wI=q.qb.prototype.mO,b.Ia=q.qb.prototype.ar,b.appendChild=q.qb.prototype.jN,b.jn=q.qb.prototype.VO,
b.$=q.qb.prototype.Xz,b.ja=q.qb.prototype.xr,b.ma=q.qb.prototype.Bm,b.pc=q.qb.prototype.RO,b.g=q.qb.prototype.az,b.Hd=q.qb.prototype.JP,b.Ta=q.B.prototype.Ta);q.qb.create=function(a,c){c=c||q.$p;var d=new q.qb;d.r(a,c);return d};q.qb.ub=function(a,c){c=c||q.$p;var d=new q.qb;d.Ia(a,c);return d};q.qY={nY:0,pY:1,oY:2,mY:3,lY:4};
q.we=q.Ba.extend({ir:0,WF:0,Hr:!1,Gr:!1,Mv:!1,Nv:!1,Ov:!1,wO:0,ov:0,oq:"",Tj:null,ctor:function(){this.WF=this.ir=0;this.Ov=this.Nv=this.Mv=this.Gr=this.Hr=!1;this.ov=this.wO=0;this.oq="";this.Tj={}},o4:function(){return this.ir},n4:function(){return this.WF},p4:function(){return this.ov},Pba:function(){return this.Gr},Qba:function(){return this.Hr},Nba:function(){return this.Mv},Oba:function(){return this.Nv},Rba:function(){return this.Ov},dp:function(a){return-1<this.oq.indexOf(a)},r:function(){var a=
this.Tj;a["cocos2d.x.version"]=q.nt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.nE;return!0},g3:function(a,c){var d=this.Tj;return d.hasOwnProperty(a)?d[a]:c},b3:function(a,c){null==c&&(c=!1);var d=this.Tj;return d.hasOwnProperty(a)?d[a]:c},z4:function(a,c){null==c&&(c=0);var d=this.Tj;return d.hasOwnProperty(a)?d[a]:c},B4:function(a){var c=this.Tj;return c.hasOwnProperty(a)?c[a]:null},rW:function(a,c){this.Tj[a]=c},GR:function(){0===q.nE&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},RR:function(){if(q.td!==q.$f){var a=q.T,c=this.Tj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.oq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.oq+=d[e]+" ";this.ir=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.ir;this.ov=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.ov;this.Hr=this.dp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Hr;this.Gr=!1;c["gl.supports_NPOT"]=this.Gr;this.Mv=this.dp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Mv;this.Nv=this.dp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Nv;this.Ov=this.dp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Ov;q.XD()}},Y7:function(a){var c=q.xd.e(),d=c.fe(a),c=c.qw(d);if(null!=c)if(c=c.data)for(var e in c)this.Tj[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.we.Ar=null;
q.we.e=function(){q.we.Ar||(q.we.Ar=new q.we,q.we.Ar.r());return q.we.Ar};q.we.q9=function(){q.we.Ar=null};q.Zh=0;q.sL=0;q.kE=1;q.tL=3;q.uL=q.kE;q.vY=0;q.tY=1;q.wY=2;q.uY=3;q.sY=2;q.zY=q.Ba.extend({xca:function(){}});q.oE=function(a){var c=new q.rh;q.CT(q.Pt,c);var d=new q.rh;q.CT(q.Ot,d);q.FT(a,c,d)};
q.V=q.Ba.extend({i0:!1,mr:!1,im:!1,Bv:!1,mm:!1,Sg:0,nA:0,Sk:0,Tn:0,Wl:1,Iq:!1,Ck:0,Uu:0,vk:null,xk:null,Dk:null,Nb:null,Gj:null,Hi:null,tv:null,Yg:null,Oi:null,zA:null,ed:null,Td:0,hB:0,OA:0,U_:null,pg:null,Rg:null,Le:null,iA:null,wu:null,kr:null,h0:!1,ctor:function(){this.Gj=Date.now();if(!q.yC){var a=this;window.addEventListener("focus",function(){a.Gj=Date.now()},!1)}},aP:function(){this.Gj=Date.now()},r:function(){this.nA=this.Sg=1/q.jR;this.Oi=[];this.Sk=q.uL;this.zA=null;this.Uu=this.Tn=0;this.Iq=
!1;this.hB=this.Td=0;this.Gj=Date.now();this.Bv=this.im=!1;this.Nb=q.pm();this.Yg=null;this.Wl=1;this.pg=new q.xM;this.Rg=new q.dL;this.pg.zJ(this.Rg,q.St,!1);q.fa&&(this.Le=new q.fa,this.Le.r());q.In&&(this.iA=q.In.e());q.ok&&(this.wu=new q.ok);q.Nd&&(this.kr=new q.Nd,this.kr.r());return!0},FQ:function(){var a=Date.now();this.mr?(this.Ck=0,this.mr=!1):this.Ck=(a-this.Gj)/1E3;0<q.kt&&0.2<this.Ck&&(this.Ck=1/60);this.Gj=a},bR:function(a){var c=new q.rh;q.oE(c);var d=new q.rh;q.Q7(d,c);var c=c.sh[14]/
c.sh[15],e=this.Yg.kp();a=new q.Ap(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.Ap;q.HT(c,a,d);return q.a(c.x,c.y)},dR:function(a){var c=new q.rh;q.oE(c);var d=new q.Ap;a=new q.Ap(a.x,a.y,0);q.HT(d,a,c);c=this.Yg.kp();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},DR:function(){this.FQ();this.im||this.pg.update(this.Ck);this.uF();this.Hi&&this.qW();this.iz&&this.iz();this.ed&&this.ed.ma();this.tv&&this.tv.ma();this.Iq&&this.IP();this.ez&&this.ez();this.hB++;this.Iq&&this.rN()},zN:function(){var a=
this.Yg.Ne;q.T.clearRect(-a.x,a.y,a.width,-a.height)},GN:function(){var a=q.T;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},iz:null,ez:null,mN:function(){q.zp()},iN:function(){q.yp()},end:function(){this.Bv=!0},s3:function(){return this.Wl},y4:function(){return this.tv},l6:function(){return this.Nb},GS:function(){return q.size(this.Nb.width*this.Wl,this.Nb.height*this.Wl)},os:function(){return this.Yg?this.Yg.os():this.Nb},eI:function(){return this.Yg?this.Yg.eI():q.lM},qs:function(){return this.Nb.height/
1.1566},pause:function(){this.im||(this.nA=this.Sg,this.Ls(0.25),this.im=!0)},k9:function(){if(!this.ed)throw"running scene should not null";this.Oi.pop();var a=this.Oi.length;0==a?this.end():(this.mm=!0,this.Hi=this.Oi[a-1])},SC:function(){q.py.SC()},FU:function(){this.qf().Zs();this.Le&&this.Le.$U();this.ed&&(this.ed.th(),this.ed.Fd(),this.ed.Of());this.Hi=this.ed=null;this.Oi=[];this.BK();q.py.SC();q.El.GU();q.dg.HU();q.xa.IU();q.XD()},JU:function(a){if(!a)throw"the scene should not null";this.mm=
!1;this.Oi.push(a);this.Hi=a},uJ:function(a){if(!this.ed)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Oi.length;0===c?(this.mm=!0,this.Oi[c]=a):(this.mm=!0,this.Oi[c-1]=a);this.Hi=a},wJ:function(){this.im&&(this.Ls(this.nA),(this.Gj=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.im=!1,this.Ck=0)},uV:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.ed)throw"_runningScene should be null";
this.JU(a);this.zK()},IV:function(a){a?q.$j(q.ve,q.ue):q.$j(q.T.ONE,q.T.ZERO)},SV:function(a){a!=this.Wl&&(this.Wl=a,this.mo())},WV:function(a){if(q.td!==q.$f){var c=q.T;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},E$:function(){},SJ:function(){this.IV(!0);this.WV(!1);this.rx(this.Sk);q.T.clearColor(0,0,0,1)},maa:function(a){this.mr=a},qW:function(){var a=!1,c=!1;q.$E&&(a=this.ed?this.ed instanceof q.$E:!1,c=this.Hi?this.Hi instanceof q.$E:!1);if(!c){if(c=
this.ed)c.th(),c.Fd();this.mm&&c&&c.Of()}this.ed=this.Hi;this.Hi=null;a||null==this.ed||(this.ed.Cg(),this.ed.fi())},naa:function(a){this.tv=a},bc:function(){return this.zA},wh:function(a){this.zA=a},wW:function(a){this.Nb.yD(q.canvas.width);this.Nb.mD(q.canvas.height);this.Yg=a||q.na.e();q.td!==q.$f&&(a=q.we.e(),a.RR(),a.GR(),this.mo(),this.SJ(),this.Le&&this.Le.XV(!0))},mK:function(){if(this.Yg){var a=this.Nb;this.Yg.SW(0,0,a.width,a.height)}},rx:function(a){var c=this.Nb;if(q.td===q.uk){this.mK();
switch(a){case q.sL:q.Sm(q.Pt);q.BC();var d=new q.rh;q.GT(d,0,c.width,0,c.height,-1024,1024);q.Pw(d);q.Sm(q.Ot);q.BC();break;case q.kE:var e=this.qs(),f=new q.rh,d=new q.rh;q.Sm(q.Pt);q.BC();q.R7(f,60,c.width/c.height,0.1,2*e);q.Pw(f);q.Sm(q.Ot);q.BC();e=q.xs(null,c.width/2,c.height/2,e);c=q.xs(null,c.width/2,c.height/2,0);f=q.xs(null,0,1,0);q.ET(d,e,c,f);q.Pw(d);break;case q.tL:break;default:q.log("cocos2d: Director: unrecognized projection")}this.Sk=a;q.Eaa()}else this.Sk=a},IP:function(){this.Td++;
this.Tn+=this.Ck;this.vk&&this.xk&&this.Dk?(this.Tn>q.rL&&(this.xk.ea(this.OA.toFixed(3)),this.Uu=this.Td/this.Tn,this.Tn=this.Td=0,this.vk.ea(this.Uu.toFixed(1)),this.Dk.ea((0|q.Zh).toString())),this.vk.ma(),this.xk.ma(),this.Dk.ma()):this.mo();q.Zh=0},v7:function(){return this.mm},q5:function(){return this.ed},V2:function(){return this.Sg},Y6:function(){return this.Iq},I$:function(a){this.Iq=a},v5:function(){return this.OA},N4:function(){return this.Yg},i7:function(){return this.mr},m7:function(){return this.im},
U5:function(){return this.hB},d5:function(){return this.Sk},l9:function(){this.wU(1)},wU:function(a){if(!this.ed)throw"A running Scene is needed";var c=this.Oi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.Ge&&(e.th(),e.Fd());e.Of();d--}this.Hi=c[c.length-1];this.mm=!1}},qf:function(){return this.pg},HW:function(a){this.pg!=a&&(this.pg=a)},ug:function(){return this.Rg},GV:function(a){this.Rg!=a&&(this.Rg=a)},W5:function(){return this.Le},iba:function(a){this.Le!=a&&(this.Le=
a)},Aw:function(){if(!q.In)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.iA},baa:function(a){if(!q.In)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.iA=a},jp:function(){if(!q.ok)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.wu},l$:function(a){if(!q.ok)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.wu!=
a&&(this.wu=a)},C3:function(){return this.Ck},pf:function(){if(!q.Nd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.kr},kaa:function(a){if(!q.Nd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.kr!=a&&(this.kr=a)},mo:null,JN:function(){if(!q.oy)return this.xF();if(null!=q.V.DF&&!1!=q.V.DF){var a=new q.Vb;a.sf(q.V.Pz);a.oe();var c=q.na.e().kp().height/320;0===c&&(c=this.Nb.height/320);var d=new q.oy;d.RA(!0);
d.hl("00.0",a,12,32,".");d.jk(c);this.vk=d;d=new q.oy;d.RA(!0);d.hl("0.000",a,12,32,".");d.jk(c);this.xk=d;d=new q.oy;d.RA(!0);d.hl("000",a,12,32,".");d.jk(c);this.Dk=d;a=q.lE;this.Dk.l(q.Vf(q.a(0,34*c),a));this.xk.l(q.Vf(q.a(0,17*c),a));this.vk.l(a)}},xF:function(){var a=0,a=this.Nb.width>this.Nb.height?0|this.Nb.height/320*24:0|this.Nb.width/320*24;this.vk=q.S.create("000.0","Arial",a);this.xk=q.S.create("0.000","Arial",a);this.Dk=q.S.create("0000","Arial",a);var a=q.lE,c=this.Dk.d();this.Dk.l(q.Vf(q.a(c.width/
2,5*c.height/2),a));c=this.xk.d();this.xk.l(q.Vf(q.a(c.width/2,3*c.height/2),a));c=this.vk.d();this.vk.l(q.Vf(q.a(c.width/2,c.height/2),a))},rN:function(){this.OA=(Date.now()-this.Gj)/1E3}});q.Da.Kc?(q.V.prototype.uF=q.V.prototype.GN,q.V.prototype.iz=q.V.prototype.mN,q.V.prototype.ez=q.V.prototype.iN,q.V.prototype.mo=q.V.prototype.JN):(q.V.prototype.uF=q.V.prototype.zN,q.V.prototype.mo=q.V.prototype.xF);
q.vL=q.V.extend({Nw:!1,zK:function(){this.mr=!0;this.Nw=!1;q.ij.e().Ls(this.Sg)},OI:function(){this.Bv?(this.Bv=!1,this.FU()):this.Nw||this.DR()},BK:function(){this.Nw=!0},Ls:function(a){this.Sg=a;this.Nw||(this.BK(),this.zK())}});q.hx=null;q.HH=!0;q.V.e=function(){q.HH&&(q.HH=!1,q.hx=new q.vL,q.hx.r(),q.hx.wW(q.na.e()));return q.hx};Object.defineProperties(q,{Lca:{get:function(){return q.vR.Nb},enumerable:!0}});q.I2=!0;q.jR=60;q.V.Pz=new Image;
q.V.Pz.addEventListener("load",function(){q.V.DF=!0;this.removeEventListener("load",arguments.callee,!1)});q.V.Pz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.Yp=q.Ba.extend({Sq:null,Tq:null,Uq:null,ho:null,io:null,jo:null,Rr:null,Sr:null,Tr:null,Fa:null,kv:null,ctor:function(){this.kv=new q.rh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.ho+","+this.io+","+this.jo+")\x3e"},Eg:function(a){this.Fa=a},BI:function(){return this.Fa},restore:function(){this.Sq=this.Tq=0;this.Uq=q.Yp.qs();this.Rr=this.ho=this.io=this.jo=0;this.Sr=1;this.Tr=0;q.P7(this.kv);this.Fa=!1},JI:function(){if(this.Fa){var a=new q.Ap,c=new q.Ap,d=new q.Ap;
q.xs(a,this.Sq,this.Tq,this.Uq);q.xs(c,this.ho,this.io,this.jo);q.xs(d,this.Rr,this.Sr,this.Tr);q.ET(this.kv,a,c,d);this.Fa=!1}q.Pw(this.kv)},M$:function(a,c,d){this.PJ(a,c,d)},PJ:function(a,c,d){this.Sq=a;this.Tq=c;this.Uq=d;this.Fa=!0},v$:function(a,c,d){this.OV(a,c,d)},OV:function(a,c,d){this.ho=a;this.io=c;this.jo=d;this.Fa=!0},jba:function(a,c,d){this.RW(a,c,d)},RW:function(a,c,d){this.Rr=a;this.Sr=c;this.Tr=d;this.Fa=!0},K3:function(){return{x:this.Sq,y:this.Tq,z:this.Uq}},SH:function(){return{x:this.Sq,
y:this.Tq,z:this.Uq}},j3:function(){return{x:this.ho,y:this.io,z:this.jo}},QH:function(){return{x:this.ho,y:this.io,z:this.jo}},a6:function(){return{x:this.Rr,y:this.Sr,z:this.Tr}},ES:function(){return{x:this.Rr,y:this.Sr,z:this.Tr}},E_:function(){}});q.Yp.qs=function(){return q.It};q.St=-2147483648;q.BZ=q.St+1;q.ht=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.Vp=function(a,c){a.splice(c,1)};q.Jd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.bY=function(a,c){for(var d=0,e=c.length;d<e;d++)q.Jd(a,c[d])};q.aY=function(a,c){return a.indexOf(c)};q.ZX=function(a,c){a.push(c)};q.Fl=function(a,c,d){a.splice(d,0,c);return a};
q.$X=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.Wx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.Ux=function(a,c){return-1!=a.indexOf(c)};q.UY=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.tE=function(a,c,d){this.next=null;this.target=a;this.hJ=c;this.paused=d;this.pl=!1};q.pE=function(a,c,d){this.list=a;this.Mm=c;this.target=d;this.nC=null};
q.IL=function(a,c){this.Xf=null;this.target=a;this.Rp=0;this.as=this.$r=null;this.paused=c;this.nC=null};
q.iu=q.Ba.extend({Fj:0,If:null,N:null,$b:0,nG:!1,ew:!1,Vo:0,HA:0,Nu:0,ctor:function(){},f4:function(){return this.Fj},setInterval:function(){},w5:function(){return this.If},yg:function(a,c,d,e,f){this.N=a;this.If=c;this.$b=-1;this.Fj=d||0;this.Nu=f||0;this.ew=0<this.Nu;this.HA=null==e?q.Ll:e;this.nG=this.HA==q.Ll;return!0},lz:function(){if("string"==typeof this.If)this.N[this.If](this.$b);else this.If.call(this.N,this.$b)},update:function(a){if(-1==this.$b)this.Vo=this.$b=0;else{var c=this.N,d=this.If;
this.nG&&!this.ew?(this.$b+=a,this.$b>=this.Fj&&(c&&d&&this.lz(),this.$b=0)):(this.$b+=a,this.ew?this.$b>=this.Nu&&(c&&d&&this.lz(),this.$b-=this.Nu,this.Vo+=1,this.ew=!1):this.$b>=this.Fj&&(c&&d&&this.lz(),this.$b=0,this.Vo+=1),this.Vo>this.HA&&q.V.e().qf().MK(c,d))}}});q.iu.kca=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.iu;e.yg(a,c,d||0,q.Ll,0);return e};q.r0=null;
q.xM=q.Ba.extend({Kr:1,hh:null,Th:null,rg:null,Cj:null,yu:null,Bj:null,Q_:null,ef:null,Ai:!1,bw:!1,ctor:function(){this.Kr=1;this.hh=[];this.Th=[];this.rg=[];this.Cj={};this.yu=[];this.Bj={};this.yk=[];this.ef=null;this.bw=this.Ai=!1},GA:function(a){delete this.Bj[a.target.Zb];q.Jd(this.yk,a);a.iu=null;a.target=null},W_:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Dv:function(a){if(a=this.Cj[a.target.Zb])q.Jd(a.list,a.Mm),delete this.Cj[a.target.Zb],q.Jd(this.yu,
a),a.Mm=null,a.target=null},gG:function(a,c,d,e){e=new q.tE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].hJ){a=q.Fl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.pE(a,e,c);this.yu.push(d);this.Cj[c.Zb]=d;return a},lN:function(a,c,d){d=new q.tE(c,0,d);a.push(d);a=new q.pE(a,d,c);this.yu.push(a);this.Cj[c.Zb]=a},dba:function(a){this.Kr=a},P5:function(){return this.Kr},update:function(a){this.bw=!0;1!=this.Kr&&(a*=this.Kr);var c,d;for(d=0;d<this.hh.length;d++)c=this.hh[d],c.paused||
c.pl||c.target.update(a);for(d=0;d<this.Th.length;d++)c=this.Th[d],c.paused||c.pl||c.target.update(a);for(d=0;d<this.rg.length;d++)c=this.rg[d],c.paused||c.pl||c.target.update(a);for(d=0;d<this.yk.length;d++){c=this.ef=this.yk[d];this.Ai=!1;if(!this.ef.paused)for(c.Rp=0;c.Rp<c.Xf.length;c.Rp++)c.$r=c.Xf[c.Rp],c.as=!1,c.$r.update(a),c.$r=null;this.Ai&&0==this.ef.Xf.length&&this.GA(this.ef)}for(d=0;d<this.hh.length;d++)this.hh[d].pl&&this.Dv(this.hh[d]);for(d=0;d<this.Th.length;d++)this.Th[d].pl&&this.Dv(this.Th[d]);
for(d=0;d<this.rg.length;d++)this.rg[d].pl&&this.Dv(this.rg[d]);this.bw=!1;this.ef=null},wV:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.Ll:e;f=f||0;g=g||!1;var h=this.Bj[a.Zb];h||(h=new q.IL(a,g),this.yk.push(h),this.Bj[a.Zb]=h);if(null==h.Xf)h.Xf=[];else for(var k=0;k<h.Xf.length;k++)if(g=h.Xf[k],c==g.If){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Fj.toFixed(4)+" to "+d.toFixed(4));g.Fj=d;return}g=new q.iu;g.yg(a,c,d,e,f);h.Xf.push(g)},zJ:function(a,c,d){var e=this.Cj[a.Zb];e?e.Mm.pl=!1:0==c?this.lN(this.Th,a,d):0>c?this.hh=this.gG(this.hh,a,c,d):this.rg=this.gG(this.rg,a,c,d)},MK:function(a,c){if(null!=a&&null!=c){var d=this.Bj[a.Zb];if(null!=d)for(var e=0;e<d.Xf.length;e++){var f=d.Xf[e];if(c==f.If){f!=d.$r||d.as||(d.as=!0);q.Vp(d.Xf,e);d.Rp>=e&&d.Rp--;0==d.Xf.length&&(this.ef==d?this.Ai=!0:this.GA(d));break}}}},Sp:function(a){null!=a&&
(a=this.Cj[a.Zb],null!=a&&(this.bw?a.Mm.pl=!0:this.Dv(a.Mm)))},LK:function(a){if(null!=a){var c=this.Bj[a.Zb];c&&(!c.as&&q.Ux(c.Xf,c.$r)&&(c.as=!0),c.Xf.length=0,this.ef==c?this.Ai=!0:this.GA(c));this.Sp(a)}},Zs:function(){this.wX(q.St)},wX:function(a){var c;for(c=0;c<this.yk.length;c++)this.LK(this.yk[c].target);if(0>a)for(c=0;c<this.hh.length;c++)this.Sp(this.hh[c].target);if(0>=a)for(c=0;c<this.Th.length;c++)this.Sp(this.Th[c].target);for(c=0;c<this.rg.length;c++)this.rg[c].hJ>=a&&this.Sp(this.rg[c].target)},
h9:function(){return this.pU(q.St)},pU:function(a){var c=[],d,e;for(d=0;d<this.yk.length;d++)if(e=this.yk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.hh.length;d++)if(e=this.hh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Th.length;d++)if(e=this.Th[d])e.paused=!0,c.push(e.target);for(d=0;d<this.rg.length;d++)if(e=this.rg[d])e.paused=!0,c.push(e.target);return c},qV:function(a){if(a)for(var c=0;c<a.length;c++)this.kn(a[c])},Hs:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Bj[a.Zb];c&&(c.paused=!0);if(a=this.Cj[a.Zb])a.Mm.paused=!0},kn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Bj[a.Zb];c&&(c.paused=!1);if(a=this.Cj[a.Zb])a.Mm.paused=!1},x7:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Bj[a.Zb])?a.paused:!1}});q.zy={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Ub=q.Ba.extend({no:0,Nr:0,hr:0,jm:null,Sg:1/60,Fj:null,OF:!1,ctor:function(){this.jm=[]},Lw:function(a,c,d){if(a){c&&(this.If=c,this.N=d);if(a!=this.jm||0==this.no){this.hr=this.no=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.jm=this.jm.concat(a[c]);else this.jm=a;this.Nr=this.jm.length}this.eP()}else console.log("resources should not null")},KV:function(a){this.OF=a},an:function(a){this.hr++;q.log("cocos2d:Failed loading resource: "+a)},hi:function(){this.hr++},Bw:function(){var a=0;return a=
0==this.Nr?100:0|this.hr/this.Nr*100},XU:function(a){if(a&&0<a.length)for(var c=q.xa.e(),d=q.zh?q.zh.e():null,e=q.rk.e(),f=q.xd.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.GF(g);switch(k){case "IMAGE":c.iV(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.rca(g.src);break;case "XML":e.uX(g.src);break;case "BINARY":f.tX(g.src);break;case "TEXT":f.vX(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},LO:function(){this.cw();
if(this.OF){var a=q.V.e().Uu;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.no<this.Nr&&(this.tO(),this.no++)},tO:function(){var a=q.xa.e(),c=q.zh?q.zh.e():null,d=q.rk.e(),e=q.xd.e(),f=this.jm[this.no],g=this.GF(f);switch(g){case "IMAGE":a.Ra(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.o9(f.src);break;case "XML":d.BU(f.src);break;case "BINARY":e.AU(f.src);break;case "TEXT":e.CU(f.src);break;case "FONT":this.NO(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},eP:function(){var a=this;this.Fj=setInterval(function(){a.LO()},1E3*this.Sg)},VP:function(){clearInterval(this.Fj)},GF:function(a){if(null!=a.ds)return q.zy.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.zy)if(-1!=q.zy[d].indexOf(a))return d;return a},cw:function(){100<=this.Bw()&&(this.VP(),this.HN())},HN:function(){if(this.N&&"string"==typeof this.If)this.N[this.If](this);
else this.N&&"function"==typeof this.If?this.If.call(this.N,this):this.If(this);this.Nr=this.hr=this.no=0},NO:function(a){var c=a.src,d=q.xd.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.ds+"; src:",g=0;g<c.length;g++)f+="url('"+d.fe(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.ds;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Ub.e().hi()},x0:function(){}});q.Ub.RC=function(a,c,d){this.Eb||(this.Eb=new q.Ub);this.Eb.Lw(a,c,d);return this.Eb};q.Ub.n9=function(a,c,d){this.Eb||(this.Eb=new q.Ub);this.Eb.KV(!0);this.Eb.Lw(a,c,d);return this.Eb};q.Ub.SC=function(a){this.Eb&&this.Eb.XU(a)};q.Ub.e=function(){this.Eb||(this.Eb=new q.Ub);return this.Eb};q.Ub.Eb=null;
q.qy=q.dq.extend({jv:null,Eo:null,Sv:null,uq:null,Co:null,wB:null,ctor:function(){q.dq.prototype.ctor.call(this);this.wB=q.V.e().Nb},r:function(){q.dq.prototype.r.call(this);var a=q.a(this.wB.width/2,this.wB.height/2);this.Eo=new Image;var c=this;this.Eo.addEventListener("load",function(){c.dO(a);this.removeEventListener("load",arguments.callee,!1)});this.Eo.src="";this.Eo.width=160;this.Eo.height=200;this.uq=q.la.create(q.GB(32,32,32,255));this.uq.l(0,0);this.g(this.uq,0);this.Co=q.S.create("Loading... 0%",
"Arial",14);this.Co.n(q.jw(180,180,180));this.Co.l(q.Vf(a,q.a(0,-110)));this.uq.g(this.Co,10)},dO:function(a){this.Sv=new q.Vb;this.Sv.sf(this.Eo);this.Sv.oe();this.jv=q.v.ub(this.Sv);this.jv.jk(q.wd());this.jv.l(a);this.uq.g(this.jv,10)},Cg:function(){q.B.prototype.Cg.call(this);this.qc(this.AG,0.3)},Fd:function(){q.B.prototype.Fd.call(this);this.Co.ea("Loading... 0%")},Lw:function(a,c,d){this.nV=a;this.CV=c;this.target=d},AG:function(){this.ud(this.AG);q.Ub.RC(this.nV,this.CV,this.target);this.qc(this.cw)},
cw:function(){var a=q.Ub.e().Bw();this.Co.ea("Loading... "+a+"%");100<=a&&this.ud(this.cw)}});q.qy.RC=function(a,c,d){this.Eb||(this.Eb=new q.qy,this.Eb.r());this.Eb.Lw(a,c,d);a=q.V.e();a.ed?a.uJ(this.Eb):a.uV(this.Eb);return this.Eb};q.fy=q.Ba.extend({rb:null,Jaa:function(a){this.rb=a},j5:function(){return this.rb},ctor:function(a){this.rb=a},RB:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},AH:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},Xh:function(){q.log("DrawingPrimitive.drawLine() not implement!")},CH:function(){q.log("DrawingPrimitive.drawRect() not implement!")},SB:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},ae:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
sw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},xH:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},BH:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},yH:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},wH:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},rw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.mE=q.fy.extend({RB:function(a,c){c||(c=1);var d=q.na.e().qa,e=q.na.e().ya,e=q.a(a.x*d,a.y*e);this.rb.beginPath();this.rb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.rb.closePath();this.rb.fill()},AH:function(a,c,d){if(null!=a){d||(d=1);c=this.rb;var e=q.na.e().qa,f=q.na.e().ya;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},Xh:function(a,c){var d=this.rb,e=q.na.e().qa,f=q.na.e().ya;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},CH:function(a,c){this.Xh(q.a(a.x,a.y),q.a(c.x,a.y));this.Xh(q.a(c.x,a.y),q.a(c.x,c.y));this.Xh(q.a(c.x,c.y),q.a(a.x,c.y));this.Xh(q.a(a.x,c.y),q.a(a.x,a.y))},SB:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.sw(a,4,d)},ae:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.rb;var g=q.na.e().qa,h=q.na.e().ya;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},sw:function(a,c,d){this.OJ(d.m,d.i,d.f,d.G);this.ae(a,c,!0,!0)},xH:function(a,c,d,e,f){f=f||!1;e=this.rb;var g=q.na.e().qa,h=q.na.e().ya;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},BH:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.ae(f,e+1,!1,!1)},yH:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.ae(g,f+1,!1,!1)},wH:function(a,c){this.rw(a,0.5,c)},rw:function(a,c,d){q.T.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.$x(q.lh(a,f-1),q.lh(a,f-0),q.lh(a,f+1),q.lh(a,f+2),c,g),e.push(f);this.ae(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.rb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.rb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.rb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},f2:function(a,c,d){a=a||this.rb;c*=q.na.e().qa;d instanceof q.Ld&&(d=new q.wc(0|255*d.m,0|255*d.i,0|255*d.f));d="rgba("+d.m+","+d.i+","+d.f;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.xE,!1);a.closePath();a.fill()},d2:function(a,c,d){a=a||this.rb;c*=q.na.e().qa;d instanceof q.Ld&&(d=new q.wc(0|255*d.m,0|255*d.i,0|255*d.f));d="rgba("+
d.m+","+d.i+","+d.f;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.xE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.rb.fillText(a,c,-d)},YV:function(a,c,d,e){this.rb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.rb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},OJ:function(a,c,d,e){this.rb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.rb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},AW:function(){},jW:function(a){this.rb.lineWidth=a*q.na.e().qa}});
q.yL=q.fy.extend({cr:!1,Hb:null,yi:-1,fc:null,uA:-1,tA:-1,ctor:function(a){null==a&&(a=q.T);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.fy.prototype.ctor.call(this,a);this.fc=new q.Ld(1,1,1,1)},dk:function(){this.cr||(this.Hb=q.Dh.e().ii(q.a_),this.yi=this.rb.getUniformLocation(this.Hb.Cw(),"u_color"),this.uA=this.rb.getUniformLocation(this.Hb.Cw(),"u_pointSize"),this.cr=!0)},e2:function(){this.cr=!1},RB:function(a){this.dk();
this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,new Float32Array(this.fc.Mb,0,4),1);this.Hb.iK(this.uA,this.tA);var c=this.rb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.ye,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Ah()},AH:function(a){if(a&&0!=a.length){this.dk();this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,new Float32Array(this.fc.Mb,0,4),1);this.Hb.iK(this.uA,
this.tA);var c=this.rb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.yv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.ye,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Ah()}},yv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},Xh:function(a,c){this.dk();this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,new Float32Array(this.fc.Mb,0,4),1);var d=this.rb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.yv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.ye,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Ah()},CH:function(a,c){this.Xh(q.a(a.x,a.y),q.a(c.x,a.y));this.Xh(q.a(c.x,a.y),q.a(c.x,c.y));this.Xh(q.a(c.x,c.y),q.a(a.x,c.y));this.Xh(q.a(a.x,c.y),q.a(a.x,a.y))},SB:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.sw(a,4,d)},ae:function(a,c,d){this.dk();this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,new Float32Array(this.fc.Mb,0,4),
1);c=this.rb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.yv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.ye,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Ah()},sw:function(a,c,d){this.dk();d||(d=this.fc);this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,new Float32Array(d.Mb,0,4),1);c=this.rb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.yv(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.ye,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Ah()},xH:function(a,c,d,e,f){this.dk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,new Float32Array(this.fc.Mb,0,4),1);a=this.rb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.ye,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Ah()}},BH:function(a,c,d,e){this.dk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,new Float32Array(this.fc.Mb,0,4),1);a=this.rb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.ye,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Ah()},yH:function(a,c,d,e,f){this.dk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,new Float32Array(this.fc.Mb,0,4),1);a=this.rb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.ye,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Ah()},wH:function(a,c){this.rw(a,0.5,c)},rw:function(a,c,d){this.dk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.$x(q.lh(a,f-1),q.lh(a,f),q.lh(a,f+1),q.lh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Hb.bf();this.Hb.Hg();q.je(q.Qg);this.Hb.xl(this.yi,
new Float32Array(this.fc.Mb,0,4),1);a=this.rb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.ye,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Ah()},YV:function(a,c,d,e){this.fc.m=a/255;this.fc.i=c/255;this.fc.f=d/255;this.fc.G=e/255},OJ:function(a,c,d,e){this.fc.m=a;this.fc.i=c;this.fc.f=d;this.fc.G=e},AW:function(a){this.tA=a*q.wd()},jW:function(a){this.rb.lineWidth&&this.rb.lineWidth(a)}});q.xE=2*Math.PI;q.QE={B_:0,fZ:1,gZ:2,RX:3,ZY:4,YY:5,dY:6,oZ:7,JY:8,aM:100,jM:101};q.uZ=0;q.vZ=1;q.sZ=2;q.tZ=3;q.$f=0;q.uk=1;q.Pf=null;q.T=null;q.canvas=null;q.QR=null;q.td=q.$f;q.jU=q.size(0,0);window.aD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.yC=!1;
q.yl=function(a,c,d){function e(){if(q.zh){var a=q.zh.e();document[k]?(a.oU(),a.qU()):(q.V.e().aP(),a.oV(),a.pV())}}a=q.Kb(a)||q.Kb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.Wj=q.nk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.Im(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.nk("CANVAS"),f.YG("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.Wj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!q.Xy){q.Da.Kc&&(q.T=q.Kca=q.lH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Da.bk,alpha:!1}));q.T?(q.td=q.uk,window.gl=q.T,q.Pf=new q.yL(q.T),q.xa.e().kO()):(q.T=f.getContext("2d"),q.MT=q.T,
q.td=q.$f,q.T.translate(0,f.height),q.Pf=q.mE?new q.mE(q.T):null);q.jU=q.size(f.width,f.height);q.QR=g;q.log(q.nt);q.we.e();q.UV();q.Da.bk&&q.gN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(q.yC=!1,window.addEventListener("focus",function(){if(q.zh){var a=q.zh.e();a.oV();a.pV()}},!1),window.addEventListener("blur",function(){if(q.zh){var a=q.zh.e();a.oU();a.qU()}},!1)):(q.yC=!0,document.addEventListener(l,e,!1))}};q.gN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
q.PF=!1;q.UV=function(){q.PF=!1;q.canvas.oncontextmenu=q.PF?function(){}:function(){return!1}};q.ij=q.Ba.extend({Sg:null,ctor:function(){this.Sg=0;if(q.VA)throw"Application has been initialized";q.VA=this},Ls:function(a){this.Sg=a},Jba:function(a){a&&q.rect(0,0,0,0)},L5:function(){return q.Da.bk?q.QE.aM:q.QE.jM},sV:function(){if(!this.yQ())return 0;var a,c=q.V.e(),d=window;q.vR=c;d.aD&&this.Sg==1/60?(a=function(){c.OI();d.aD(a)},d.aD(a)):(a=function(){c.OI()},setInterval(a,1E3*this.Sg));return 0}});
q.ij.e=function(){return q.VA};q.ij.v3=function(){var a=q.PL,c=navigator.language;c||(c=navigator.browserLanguage||navigator.Aca);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.OL;break;case "fr":a=q.QL;break;case "it":a=q.TL;break;case "de":a=q.RL;break;case "es":a=q.$L;break;case "ru":a=q.ZL;break;case "ko":a=q.VL;break;case "ja":a=q.UL;break;case "hu":a=q.SL;break;case "pt":a=q.YL;break;case "ar":a=q.NL;break;case "no":a=q.WL;break;case "pl":a=q.XL}return a};q.VA=null;q.rk=q.Ba.extend({Mca:null,eG:null,ap:null,gA:null,ctor:function(){this.ap={};window.DOMParser?(this.gA=!0,this.eG=new DOMParser):this.gA=!1},parse:function(a){var c=a;a=this.TH(a);a=this.fG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.qA(c)},lca:function(a,c){if(null==c||!1===c)a=this.TH(a);return this.fG(a)},fG:function(a,
c){var d;this.gA?d=this.eG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},qA:function(a){var c=null;switch(a.tagName){case "dict":c=this.IO(a);break;case "array":c=this.HO(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},HO:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.qA(f))}return c},IO:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.qA(g))}return c},BU:function(a){a=q.xd.e().fe(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Ub.e().hi(),d.ap[a]=c.responseText,c=null):(q.Ub.e().hi(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},uX:function(a){this.ap.hasOwnProperty(a)&&delete this.ap[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
J3:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},TH:function(a){return null!=this.ap?this.ap[a]:null}});q.rk.e=function(){this.Eb||(this.Eb=new q.rk);return this.Eb};q.rk.Eb=null;q.Tx=q.Ba.extend({uR:function(){q.ij.e().sV();return!0},$0:function(){q.V.e().pause()},Z0:function(){q.V.e().wJ()},xQ:function(){q.ij.e().xQ()},zQ:function(){q.ij.e().zQ()},a1:function(){}});q.Tx.ZW=function(){null==q.zx&&(q.zx=new q.Tx);if(!q.zx)throw"Application initialize failure";return q.zx};q.zx=null;q.S=q.v.extend({Sd:null,Hk:q.oj,$k:q.mq,ff:null,Be:0,qg:"",pA:null,yo:!1,yj:null,Lj:!1,om:null,Mo:0,zr:0,Jv:null,Wk:!1,Er:null,Ro:0,Lv:null,So:null,Tu:null,eB:0,fB:0,ad:!1,fv:null,gv:null,ctor:function(){q.v.prototype.ctor.call(this);this.Sd=q.Ml();this.Hk=q.iq;this.$k=q.mq;this.ic=!1;this.yj="";this.ff="Arial";this.Lj=this.yo=!1;this.om=q.Ml();this.zr=this.Mo=0;this.Jv="rgba(128, 128, 128, 0.5)";this.Wk=!1;this.Er=q.vb();this.Ro=0;this.Lv="";this.So=q.vb();this.Tu="rgba(255,255,255,1)";this.fB=this.eB=
0;this.ad=!1;this.Ph()},r:function(){return this.hl(" ",this.ff,this.Be)},xO:function(){this.Wz().font=this.yj},jr:function(a){return this.Wz().measureText(a).width},vN:function(a,c){var d=this.jr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.S.wN,m=q.S.cP,n=q.S.uN,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.jr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.jr(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.ff+" FontSize \x3d "+this.Be.toFixed(1)+"\x3e"},n:null,ur:function(a){q.wb.prototype.n.call(this,a);this.oG()},Ph:null,oG:function(){this.ad=!0;var a=this.Ac,c=this.Tb,d=this.Er,e=this.So;this.Jv="rgba("+(0|0.5*a.m)+","+(0|0.5*a.i)+","+(0|0.5*a.f)+","+this.Mo+")";this.Tu="rgba("+(0|a.m/255*e.m)+","+(0|a.i/255*e.i)+","+
(0|a.f/255*e.f)+", "+c/255+")";this.Lv="rgba("+(0|a.m/255*d.m)+","+(0|a.i/255*d.i)+","+(0|a.f/255*d.f)+", "+c/255+")"},lP:function(){this.ad=!0;var a=this.Er,c=this.So;this.Jv="rgba(128,128,128,"+this.Mo+")";this.Tu="rgba("+(0|c.m)+","+(0|c.i)+","+(0|c.f)+", 1)";this.Lv="rgba("+(0|a.m)+","+(0|a.i)+","+(0|a.f)+", 1)"},Wc:null,lB:function(a){q.wb.prototype.Wc.call(this,a);this.Ph()},da:null,wr:function(a){this.Ji!==a&&(q.v.prototype.da.call(this,a),this.Ph(),this.ad=!0)},Xc:null,wca:function(a){q.wb.prototype.Xc.call(this,
a);this.Ph()},dC:function(){return this.qg},V3:function(){return this.Hk},f6:function(){return this.$k},E3:function(){return q.size(this.Sd.width,this.Sd.height)},P3:function(){return this.Be},O3:function(){return this.ff},hl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.iq;g=g||q.nq;return q.v.prototype.r.call(this)?(this.ic=!1,this.Sd=q.size(e.width,e.height),this.ff=c||"Arial",this.Hk=f,this.$k=g,this.Be=d,this.yj=this.Be+"px '"+c+"'",this.xj=q.S.tu(c,this.Be),this.ea(a),this.Ph(),
this.nB(),this.ad=!1,!0):!1},uC:null,gO:function(a,c){if(!q.v.prototype.r.call(this))return!1;this.oB(c,!1);this.ea(a);return!0},hO:function(a,c){if(!q.v.prototype.r.call(this))return!1;this.Fg(q.Dh.e().ii(q.S.RM));this.oB(c,!1);this.ea(a);return!0},bba:function(a){a&&this.oB(a,!0)},M5:function(){return this.MO(!1)},IR:function(a,c,d){c=c||0.5;!1===this.Lj&&(this.Lj=!0);var e=this.om;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Mo!=c&&(this.Mo=c);this.Ph();this.zr!=
d&&(this.zr=d);this.ad=!0},Y1:function(){this.Lj&&(this.Lj=!1,this.ad=!0)},JR:function(a,c){!1===this.Wk&&(this.Wk=!0);var d=this.Er;if(d.m!==a.m||d.i!==a.i||d.f!==a.f)d.m=a.m,d.i=a.i,d.f=a.f,this.Ph();this.Ro!==c&&(this.Ro=c||0);this.ad=!0},Z1:function(){this.Wk&&(this.Wk=!1,this.ad=!0)},lD:null,pP:function(a){var c=this.So;if(c.m!=a.m||c.i!=a.i||c.f!=a.f)c.m=a.m,c.i=a.i,c.f=a.f,this.Ph(),this.ad=!0},qP:function(a){var c=this.So;if(c.m!=a.m||c.i!=a.i||c.f!=a.f)c.m=a.m,c.i=a.i,c.f=a.f,this.Ph(),this.ad=
!0},oB:function(a,c){a.cs?(this.Sd.width=a.cs.width,this.Sd.height=a.cs.height):(this.Sd.width=0,this.Sd.height=0);this.Hk=a.IH;this.$k=a.JH;this.ff=a.ds;this.Be=a.fontSize||12;this.yj=this.Be+"px '"+this.ff+"'";this.xj=q.S.tu(this.ff,this.Be);a.rK&&this.IR(a.sK,a.tK,a.shadowBlur,!1);a.DD&&this.JR(a.strokeColor,a.EK,!1);this.lD(a.KH,!1);c&&this.nB()},MO:function(a){var c=new q.EL;a?(c.fontSize=this.Be,c.cs=q.Dy(this.Sd)):(c.fontSize=this.Be,c.cs=q.size(this.Sd.width,this.Sd.height));c.ds=this.ff;
c.IH=this.Hk;c.JH=this.$k;if(this.Wk){c.DD=!0;var d=this.Er;c.strokeColor=new q.wc(d.m,d.i,d.f);c.EK=this.Ro}else c.DD=!1;this.Lj?(c.rK=!0,c.shadowBlur=this.zr,c.tK=this.Mo,c.sK=a?q.Dy(this.om):q.size(this.om.width,this.om.height)):c.Lj=!1;a=this.So;c.KH=new q.wc(a.m,a.i,a.f);return c},xj:18,ea:function(a){a=String(a);this.pA!=a&&(this.pA=a+"",this.OG(),this.ad=!0)},OG:function(){this.qg=this.pA},T$:function(a){a!==this.Hk&&(this.Hk=a,this.ad=!0)},nba:function(a){a!=this.$k&&(this.$k=a,this.ad=!0)},
Gd:function(a){if(a.width!=this.Sd.width||a.height!=this.Sd.height)this.Sd=a,this.OG(),this.ad=!0},QJ:function(a){this.Be!==a&&(this.Be=a,this.yj=a+"px '"+this.ff+"'",this.xj=q.S.tu(this.ff,a),this.ad=!0)},dW:function(a){this.ff&&this.ff!=a&&(this.ff=a,this.yj=this.Be+"px '"+a+"'",this.xj=q.S.tu(a,this.Be),this.ad=!0)},MN:function(a){if(a){var c=this.eB,d=this.fB,e=this.pa.oa-d,f=this.$k,g=this.Hk,h=this.xj,k=this.Ro;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.yj&&(a.font=this.yj);a.fillStyle=
this.Tu;var l=d=0,m=this.Wk;m&&(a.lineWidth=2*k,a.strokeStyle=this.Lv);this.Lj&&(k=this.om,a.shadowColor=this.Jv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.zr);a.textBaseline=q.S.PP[f];a.textAlign=q.S.OP[g];c=this.pa.Ea-c;d=g===q.DM?d+c:g===q.oj?d+c/2:d+0;if(this.yo)for(g=this.Nj.length,f===q.mq?l=h+e-h*g:f===q.pu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Nj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.mq&&(l=f===q.nq?l-e:l-0.5*e),m&&a.strokeText(this.qg,
d,l),a.fillText(this.qg,d,l)}},Wz:function(){if(this.gv)return this.gv;if(!this.fv){var a=document.createElement("canvas"),c=new q.Vb;c.sf(a);this.ja(c);this.fv=a}return this.gv=this.fv.getContext("2d")},PG:function(){var a=this.Sd.width,c,d;this.TF=[];this.yo=!1;this.xO();if(0!==a){var e=this.qg;this.Nj=[];c=0;for(d=this.qg.length;c<d;){var f=this.vN(e.substr(c),a);this.Nj.push(e.substr(c,f));c+=f}}else for(this.Nj=this.qg.split("\n"),c=0,d=this.Nj.length;c<d;c++)this.TF.push(this.jr(this.Nj[c]));
0<this.Nj.length&&(this.yo=!0);d=c=0;this.Wk&&(c=d=2*this.Ro);this.Lj&&(e=this.om,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.yo?q.size(0|Math.max.apply(Math,this.TF)+c,0|this.xj*this.Nj.length+d):q.size(0|this.jr(this.qg)+c,0|this.xj+d):0===this.Sd.height?this.yo?q.size(0|a+c,0|this.xj*this.Nj.length+d):q.size(0|a+c,0|this.xj+d):q.size(0|a+c,0|this.Sd.height+d);this.U(a);this.eB=c;this.fB=d;e=this.Eh;this.zd.D=0.5*c+(a.width-c)*e.D;this.zd.I=0.5*d+(a.height-d)*e.I},d:function(){this.ad&&
this.PG();return q.v.prototype.d.call(this)},nB:function(){var a=this.Wz(),c=this.fv,d=this.pa;if(0===this.qg.length)return c.width=1,c.height=d.oa,this.Jb(q.rect(0,0,1,d.oa)),!0;a.font=this.yj;this.PG();var e=d.Ea,d=d.oa,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.MN(a);this.Ca.oe();this.Jb(q.rect(0,0,e,d));return!0},ma:function(a){this.qg&&""!=this.qg&&(this.ad&&(this.ad=!1,this.nB()),q.v.prototype.ma.call(this,a||q.T))},Ta:null,ig:function(a){if(this.qg&&""!=this.qg){a=
a||q.T;var c=this.Ca;c&&c.mc&&(this.Cc.bf(),this.Cc.Hg(),q.$j(this.ca.src,this.ca.Db),q.wg(c),q.je(q.ou),a.bindBuffer(a.ARRAY_BUFFER,this.Cv),this.kf&&(a.bufferData(a.ARRAY_BUFFER,this.Gb.BB,a.STATIC_DRAW),this.kf=!1),a.vertexAttribPointer(q.ye,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.lq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.kq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.sk?(a=this.Gb,a=[q.a(a.Pa.q.x,a.Pa.q.y),q.a(a.Ga.q.x,a.Ga.q.y),q.a(a.Sa.q.x,a.Sa.q.y),q.a(a.Ja.q.x,
a.Ja.q.y)],q.Pf.ae(a,4,!0)):2===q.sk&&(a=this.eC().$a,c=this.ac,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Pf.ae(a,4,!0));q.Zh++}},UA:function(a,c,d){this.Rc=c||!1;d=d||a.$a;this.U(d);this.wD(a);c=this.Uo;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.ct=!(0===c.width||0===c.height);a=this.Sh;this.gc&&(a.D=-a.D);this.hc&&(a.I=-a.I);this.ac.D=a.x+(this.pa.Ea-this.ta.width)/2;this.ac.I=a.y+(this.pa.oa-this.ta.height)/2;this.gb&&(this.Fa=!0)},rG:function(a){var c=
this.gb?this.Oa.$():this.Ca;if(c){var d=c.np(),e=c.mp(),f,g=this.Gb;this.Rc?(q.Ht?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.gc&&(e=f,f=a,a=e),this.hc&&(e=c,c=d,d=e),g.Ga.u.La=c,g.Ga.u.ia=f,g.Sa.u.La=c,g.Sa.u.ia=a,g.Pa.u.La=d,g.Pa.u.ia=f,g.Ja.u.La=d,g.Ja.u.ia=a):(q.Ht?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.gc&&(e=c,c=d,d=e),this.hc&&(e=f,f=a,a=e),g.Ga.u.La=c,g.Ga.u.ia=a,g.Sa.u.La=d,g.Sa.u.ia=a,g.Pa.u.La=c,g.Pa.u.ia=f,g.Ja.u.La=d,g.Ja.u.ia=f);this.kf=!0}}});
q.Da.Kc?(b=q.S.prototype,b.n=q.v.prototype.n,b.Ph=q.S.prototype.lP,b.Wc=q.v.prototype.Wc,b.da=q.v.prototype.da,b.Xc=q.v.prototype.Xc,b.uC=q.S.prototype.hO,b.lD=q.S.prototype.qP,b.Ta=q.S.prototype.ig,b.Jb=q.v.prototype.sG):(b=q.S.prototype,b.n=q.S.prototype.ur,b.Ph=q.S.prototype.oG,b.Wc=q.S.prototype.lB,b.da=q.S.prototype.wr,b.Xc=q.S.prototype.LG,b.uC=q.S.prototype.gO,b.lD=q.S.prototype.pP,b.Ta=q.v.prototype.Ta,b.Jb=q.S.prototype.UA);q.S.OP=["left","center","right"];q.S.PP=["top","middle","bottom"];
q.S.wN=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.S.cP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.S.uN=/[\s\-\/\\\:]/;q.S.create=function(a,c,d,e,f,g){var h=new q.S;return h.hl(a,c,d,e,f,g)?h:null};q.S.O1=function(a,c){var d=new q.S;return d&&d.uC(a,c)?d:null};q.S.RM=q.LM?q.Cy:q.YZ;q.S.Nl=document.createElement("div");q.S.Nl.style.fontFamily="Arial";q.S.Nl.style.position="absolute";q.S.Nl.style.left="-100px";q.S.Nl.style.top="-100px";q.S.Nl.style.lineHeight="normal";
document.body.appendChild(q.S.Nl);q.S.tu=function(a,c){var d=q.S.fF[a+"."+c];if(0<d)return d;var e=q.S.Nl;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.S.fF[a+"."+c]=d;e.innerHTML="";return d};q.S.fF={};q.HL=q.Ba.extend({Ec:null,target:null,Gm:0,jh:null,Lm:!1,paused:!1,nC:null,ctor:function(){this.Ec=[];this.N=null;this.Gm=0;this.jh=null;this.paused=this.Lm=!1;this.nC=null}});
q.dL=q.Ba.extend({Hh:null,Vn:null,ef:null,Ai:!1,p0:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Hh={};this.Vn=[];this.ef=null;this.Ai=!1},jQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Hh[c.Zb];e||(e=new q.HL,e.paused=d,e.target=c,this.Hh[c.Zb]=e,this.Vn.push(e));this.aN(e);e.Ec.push(a);a.Y(c)},E9:function(){for(var a=this.Vn,
c=0;c<a.length;c++){var d=a[c];d&&this.rJ(d.target,!0)}},rJ:function(a,c){if(null!=a){var d=this.Hh[a.Zb];d&&(-1===d.Ec.indexOf(d.jh)||d.Lm||(d.Lm=!0),d.Ec=[],this.ef!=d||c?this.Az(d):this.Ai=!0)}},qJ:function(a){if(null!=a){var c=this.Hh[a.hm.Zb];if(c)for(var d=0;d<c.Ec.length;d++){if(c.Ec[d]==a){c.Ec.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},YU:function(a,c){a==q.Dn&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Hh[c.Zb];if(d)for(var e=d.Ec.length,f=0;f<e;++f){var g=d.Ec[f];if(g&&g.fd===a&&g.hm==c){this.QO(f,d);break}}},XB:function(a,c){a==q.Dn&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Hh[c.Zb];if(d){if(null!=d.Ec)for(var e=0;e<d.Ec.length;++e){var f=d.Ec[e];if(f&&f.fd===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},ST:function(a){return(a=this.Hh[a.Zb])?a.Ec?a.Ec.length:0:0},Hs:function(a){if(a=this.Hh[a.Zb])a.paused=!0},
kn:function(a){if(a=this.Hh[a.Zb])a.paused=!1},g9:function(){for(var a=[],c=this.Vn,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},qV:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.kn(a[c])},r9:function(){q.V.e().qf().Sp(this)},QO:function(a,c){c.Ec[a]!=c.jh||c.Lm||(c.Lm=!0);q.Vp(c.Ec,a);c.Gm>=a&&c.Gm--;0==c.Ec.length&&(this.ef==c?this.Ai=!0:this.Az(c))},Az:function(a){a&&(delete this.Hh[a.target.Zb],q.Jd(this.Vn,a),a.Ec=null,a.target=null)},aN:function(a){null==
a.Ec&&(a.Ec=[])},update:function(a){for(var c=this.Vn,d,e=0;e<c.length;e++){d=this.ef=c[e];if(!d.paused)for(d.Gm=0;d.Gm<d.Ec.length;d.Gm++)if(d.jh=d.Ec[d.Gm],d.jh){d.Lm=!1;d.jh.step(a);if(d.Lm)d.jh=null;else if(d.jh.ci()){d.jh.stop();var f=d.jh;d.jh=null;this.qJ(f)}d.jh=null}this.Ai&&0===d.Ec.length&&this.Az(d)}}});q.df=q.Ba.extend({J:null,Av:q.lj(),Df:0,ctor:function(a,c,d){this.J=q.a(a||0,c||0);this.Df=d||0},h4:function(){return this.J},oS:function(){return this.Av},B3:function(){return q.rd(this.J,this.Av)},Y3:function(){return this.Df},Z3:function(){return this.Df},tD:function(a,c,d){this.Av=this.J;this.J=q.a(c||0,d||0);this.Df=a},Jf:function(a,c){this.Av=q.a(a||0,c||0)}});
q.ZE=q.Ba.extend({V_:null,hb:function(){return!1},hd:function(){},uf:function(){},ek:function(){},VI:function(){},YI:function(){},XI:function(){},WI:function(){},pca:function(){},oca:function(){}});q.o_=q.ZE.extend({hb:function(){return!1},hd:function(){},uf:function(){},ek:function(){}});q.h_=q.ZE.extend({VI:function(){},YI:function(){},XI:function(){},WI:function(){}});q.Rn=q.Ba.extend({Sb:null,jf:0,po:0,bc:function(){return this.Sb},wh:function(a){this.Sb=a},pS:function(){return this.jf},Qs:function(a){this.jf=a},YR:function(){return this.po},ZV:function(a){this.po=a},ak:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Sb=a;this.jf=c;this.po=0;return!0}});q.Rn.create=function(a,c){var d=new q.Rn;d&&d.ak(a,c);return d};q.Hy=q.Rn.extend({ak:function(a,c){return q.Rn.prototype.ak.call(this,a,c)}});
q.Hy.create=function(a,c){var d=new q.Hy;d&&d.ak(a,c);return d};q.hu=q.Rn.extend({Pv:!1,ko:null,w7:function(){return this.Pv},Zaa:function(a){this.Pv=a},m3:function(){return this.ko},ak:function(a,c,d){return q.Rn.prototype.ak.call(this,a,c)?(this.ko=[],this.Pv=d,!0):!1}});q.hu.create=function(a,c,d){var e=new q.hu;e&&e.ak(a,c,d);return e};q.GM=1;q.JM=2;q.IM=4;q.HM=8;q.r_=q.GM|q.JM|q.IM|q.HM;q.Ly=0;q.Oy=1;q.Ny=2;q.My=3;q.q_=4;q.II=function(a,c){return a.jf>c.jf};q.lu=function(a){this.type=a};
q.fa=q.Ba.extend({Ij:!1,Je:null,Ie:null,dm:!1,Mr:!1,$v:!1,Ik:null,Aj:null,Zv:!1,vj:!1,$N:[new q.lu(q.Ly),new q.lu(q.Oy),new q.lu(q.Ny),new q.lu(q.My)],r:function(){this.vj=!0;this.Je=[];this.Ie=[];this.Ik=[];this.Aj=[];this.Ij=this.dm=this.Zv=this.Mr=this.$v=!1;q.fa.UU();return!0},vr:function(a){this.Ij=a},VN:function(){return this.Ij},X6:function(){return this.vj},XV:function(a){this.vj=a},eN:function(a,c){var d=q.Hy.create(a,c||0);this.dm?-1!=this.Aj.indexOf(a)?q.Jd(this.Aj,a):(this.Ik.push(d),
this.Mr=!0):this.Ie=this.hp(d,this.Ie)},fN:function(a,c,d){c=q.hu.create(a,c,d);this.dm?-1!=this.Aj.indexOf(a)?q.Jd(this.Aj,a):(this.Ik.push(c),this.Mr=!0):this.Je=this.hp(c,this.Je)},hp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.jf<a.jf&&++d,e.bc()==a.bc())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.Fl(c,a,d)},LH:function(){this.Ie.length=0;this.Je.length=0},TO:function(a){if(null!=a)if(this.dm){var c=this.GH(this.Ik,a);c?q.Jd(this.Ik,
c):(this.Aj.push(a),this.$v=!0)}else this.MH(a)},$U:function(){this.dm?this.Zv=!0:this.LH()},Qs:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.GH(c);d?d.jf!=a&&(d.Qs(a),this.lJ(this.Je),this.lJ(this.Ie)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.dm=!0;var e=this.Je.length,f=this.Ie.length,g=e&&f,h=g?a.slice():a,k=this.$N[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.Je.length;r++){l=this.Je[r];if(!l)break;m=!1;if(d==q.Ly)l.bc().hb&&(m=l.bc().hb(e,c))&&l.ko.push(e);else if(0<l.ko.length)switch(m=!0,k.type){case q.Oy:q.Da.bk?l.bc().hd&&l.bc().hd(e,c):this.Ij&&l.bc().hd&&l.bc().hd(e,c);break;case q.Ny:l.bc().uf&&l.bc().uf(e,c);l.ko.length=0;break;case q.My:l.bc().ek&&l.bc().ek(e,c),l.ko.length=0}if(m&&l.Pv){g&&q.Jd(h,e);break}}if(0<f)for(n=0;n<this.Ie.length&&(l=this.Ie[n],l);n++);this.dm=!1;if(this.$v){this.$v=
!1;for(n=0;n<this.Aj.length;n++)this.MH(this.Aj[n]);this.Aj.length=0}if(this.Mr){this.Mr=!1;for(n=0;n<this.Ik.length;n++){l=this.Ik[n];if(!l)break;l instanceof q.hu?this.Je=this.hp(l,this.Je):this.Ie=this.hp(l,this.Ie)}this.Ik.length=0}this.Zv&&(this.Zv=!1,this.LH())},Jx:function(a,c){this.vj&&this.touches(a,c,q.Ly)},Kx:function(a,c){this.vj&&this.touches(a,c,q.Oy)},Ys:function(a,c){this.vj&&this.touches(a,c,q.Ny)},FD:function(a,c){this.vj&&this.touches(a,c,q.My)},GH:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Je.length;d++)if(this.Je[d].bc()==c)return this.Je[d];for(d=0;d<this.Ie.length;d++)if(this.Ie[d].bc()==c)return this.Ie[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].bc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},MH:function(a){for(var c,d=0;d<this.Ie.length;d++)if((c=this.Ie[d])&&c.bc()==a){q.Jd(this.Ie,c);break}for(d=0;d<this.Je.length;d++)if((c=this.Je[d])&&c.bc()==a){q.Jd(this.Je,c);break}},lJ:function(a){a.sort(q.II)}});q.fa.ob=q.a(0,0);q.fa.FI=!1;
q.Si=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.rM=function(a,c){var d=q.Si(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.na.e().Xj(e,f,d);d=new q.df(e.x,e.y);d.Jf(q.fa.ob.x,q.fa.ob.y);q.fa.ob.x=e.x;q.fa.ob.y=e.y;e=[];e.push(d);q.na.e().Ys(e,null)};
q.fa.UU=function(){var a=q.canvas;if(!q.fa.FI){if(q.Da.bk)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.Si(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.na.e().Xj(k,l,e);e=new q.df(k.x,k.y);e.Jf(q.fa.ob.x,q.fa.ob.y);q.fa.ob.x=k.x;q.fa.ob.y=k.y;q.V.e().Le[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.Si(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.na.e().Xj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.df(k.x,k.y,h.identifier),l=q.fa.Wu(h).J,h.Jf(l.x,l.y),q.fa.pG(h)):(h=new q.df(k.x,k.y),h.Jf(q.fa.ob.x,q.fa.ob.y)),q.fa.ob.x=k.x,
q.fa.ob.y=k.y,d.push(h);q.na.e().Jx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.Si(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.na.e().Xj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.df(k.x,k.y,h.identifier),l=q.fa.Wu(h).J,h.Jf(l.x,l.y),q.fa.pG(h)):(h=new q.df(k.x,k.y),h.Jf(q.fa.ob.x,q.fa.ob.y)),
q.fa.ob.x=k.x,q.fa.ob.y=k.y,d.push(h);q.na.e().Kx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.Si(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.na.e().Xj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.df(k.x,k.y,h.identifier),l=q.fa.Wu(h).J,h.Jf(l.x,l.y),q.fa.yF(h)):(h=new q.df(k.x,k.y),h.Jf(q.fa.ob.x,
q.fa.ob.y)),q.fa.ob.x=k.x,q.fa.ob.y=k.y,d.push(h);q.na.e().Ys(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.Si(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.na.e().Xj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.df(k.x,k.y,h.identifier),l=q.fa.Wu(h).J,h.Jf(l.x,l.y),q.fa.yF(h)):(h=new q.df(k.x,
k.y),h.Jf(q.fa.ob.x,q.fa.ob.y)),q.fa.ob.x=k.x,q.fa.ob.y=k.y,d.push(h);q.na.e().FD(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.V.e().Le.vr(!0)}),window.addEventListener("mouseup",function(c){q.V.e().Le.vr(!1);var d=q.Si(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.pb(new q.cg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.na.e().Xj(g,c,d),d=new q.df(g.x,
g.y),d.Jf(q.fa.ob.x,q.fa.ob.y),q.fa.ob.x=g.x,q.fa.ob.y=g.y,g=[],g.push(d),q.na.e().Ys(g,null))}),a.addEventListener("mousedown",function(c){var d=q.Si(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.na.e().Xj(g,c,d);d=new q.df(g.x,g.y);d.Jf(q.fa.ob.x,q.fa.ob.y);q.fa.ob.x=g.x;q.fa.ob.y=g.y;g=[];g.push(d);q.na.e().Jx(g,null)}),a.addEventListener("mouseup",function(c){q.rM(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.Si(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.na.e().Xj(g,c,d);d=new q.df(g.x,g.y);d.Jf(q.fa.ob.x,q.fa.ob.y);q.fa.ob.x=g.x;q.fa.ob.y=g.y;g=[];g.push(d);q.na.e().Kx(g,null)});q.fa.FI=!0}};q.fa.Wu=function(a){for(var c=null,d=q.fa.xA,e=a.Df,f=d.length-1;0<=f;f--)if(d[f].Df==e){c=d[f];break}c||(c=a);return c};
q.fa.pG=function(a){for(var c=!1,d=q.fa.xA,e=a.Df,f=d.length-1;0<=f;f--)if(d[f].Df==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.fa.yA]=a,q.fa.yA=(q.fa.yA+1)%50))};q.fa.yF=function(a){var c,d=q.fa.xA;c=a.Df;for(a=d.length-1;0<=a;a--)if(d[a].Df==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.fa.xA=[];q.fa.yA=0;q.WC=function(a,c,d){q.V.e().Le.fN(d,a,c)};q.VU=function(a,c){q.V.e().Le.eN(a,c)};q.KK=function(a){q.V.e().Le.TO(a)};q.bM=1;q.uE=2;q.iZ=4;q.fM=8;q.LZ=16;q.MZ=32;q.NZ=64;q.xZ=128;q.yZ=256;q.zZ=512;q.ME=1024;q.cM=2048;q.dM=4096;q.eM=0;q.jZ=1;q.vE=2;q.mZ=q.Ba.extend({WT:function(){return!1},XT:function(){return!1},gi:function(){return!1},$T:function(){return!1},dU:function(){return!1},eU:function(){return!1},fU:function(){return!1},aU:function(){return!1},bU:function(){return!1},cU:function(){return!1},gU:function(){return!1},YT:function(){return!1},ZT:function(){return!1}});
q.gM=q.df.extend({SG:0,qF:q.eM,k6:function(){return this.SG},nK:function(a){this.SG=a},e3:function(){return this.qF},MV:function(a){this.qF=a}});q.ry=q.Ba.extend({Sb:null,jf:0,po:0,bc:function(){return this.Sb},wh:function(a){this.Sb=a},pS:function(){return this.jf},Qs:function(a){this.jf=a},YR:function(){return this.po},ZV:function(a){this.po=a},ak:function(a,c){this.Sb=a;this.jf=c}});q.ry.create=function(a,c){var d=new q.ry;d.ak(a,c);return d};
q.Nd=q.Ba.extend({Ij:!1,Ev:!1,Ef:null,vj:!1,r:function(){this.vj=!0;this.Ef=[];this.Ev=this.Ij=!1;q.Nd.OO();return!0},vr:function(a){this.Ij=a},VN:function(){return this.Ij},qG:function(a){this.Ev=a},b0:function(){return this.Ev},$G:function(a,c){var d=q.ry.create(a,c);this.Ef=this.hp(d,this.Ef)},hp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.jf<a.jf&&++d,f.bc()==a.bc()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.Fl(c,a,d)},sJ:function(a){if(null!=
a)for(var c=0;c<this.Ef.length;c++){var d=this.Ef[c];if(d&&d.bc()==a){q.Jd(this.Ef,d);break}}},TN:function(a){for(var c=0;c<this.Ef.length;c++)if(this.Ef[c]&&this.Ef[c].bc()==a)return this.Ef[c];return null},Qs:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.TN(c);d?d.jf!=a&&(d.Qs(a),this.Ef.sort(q.II)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},H9:function(){this.Ef.length=0},Wm:function(a,c,d){for(c=0;c<this.Ef.length;c++){var e=
this.Ef[c];switch(d){case q.uE:this.Ij||this.Ev||!e.bc().gi||e.bc().gi(a)}}}});q.Nd.zv=q.a(0,0);q.Nd.qO=!1;
q.Nd.OO=function(){var a=q.canvas;function c(c){var e=q.Si(a),f=c.pageX,g=c.pageY,h=q.na.e(),f=(f-e.left)/h.qa,e=(e.height-(g-e.top))/h.ya,g=new q.gM(f,e);g.Jf(q.Nd.zv.x,q.Nd.zv.y);g.MV(c.button);q.Nd.zv.x=f;q.Nd.zv.y=e;return g}q.Nd.qO||(window.addEventListener("mousedown",function(a){a.button==q.vE?q.V.e().pf().qG(!0):q.V.e().pf().vr(!0)}),window.addEventListener("mouseup",function(a){a.button==q.vE?q.V.e().pf().qG(!1):q.V.e().pf().vr(!1)}),a.addEventListener("mousedown",function(a){q.V.e().pf().Wm(c(a),
a,q.bM)}),a.addEventListener("mouseup",function(a){q.V.e().pf().Wm(c(a),a,q.fM)}),a.addEventListener("mousemove",function(a){q.V.e().pf().Wm(c(a),a,q.uE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.nK(a.wheelDelta);q.V.e().pf().Wm(e,a,q.ME)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.nK(-120*a.detail);q.V.e().pf().Wm(e,a,q.ME)}),a.addEventListener("mouseout",function(a){q.V.e().pf().Wm(c(a),a,q.dM)},!1),a.addEventListener("mouseover",function(a){q.V.e().pf().Wm(c(a),
a,q.cM)},!1))};q.Cca=function(){return{x:0,y:0}};q.Bl=function(a,c){return{x:a,y:c}};q.Jg=function(a,c){return q.Bl(a.x+c.x,a.y+c.y)};q.jd=function(a,c){return q.Bl(a.x-c.x,a.y-c.y)};q.Zf=function(a,c){return q.Bl(a.x*c,a.y*c)};q.Qx=function(a){return q.Bl(-a.y,a.x)};q.fj=function(a){return q.Bl(-a.x,-a.y)};q.AX=function(a,c){return a.x*c.x+a.y*c.y};q.Bca=function(a){return q.Bl(Math.cos(a),Math.sin(a))};q.LD=function(a){a=q.uh(q.a(a.x,a.y));return q.Bl(a.x,a.y)};q.si=function(a){return q.Bl(a.x,a.y)};
q.zb=function(a){return{La:a.x,ia:a.y}};
q.wL=q.B.extend({ab:null,ca:null,fs:function(){return this.ca},ul:function(a){this.ca=a},ctor:function(){q.B.prototype.ctor.call(this);this.ab=[];this.ca=new q.Hl(q.ve,q.ue)},Ta:function(a){a=a||q.T;var c=q.na.e().qa;this.ca&&770==this.ca.src&&1==this.ca.Db&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.ab.length;d++){var e=this.ab[d];e.type===q.Mg.VE&&(a.fillStyle="rgba("+(0|255*e.color.m)+","+(0|255*e.color.i)+","+(0|255*e.color.f)+","+e.color.G+")",q.Pf.RB(e.position,e.UC));e.type===
q.Mg.XE&&(a.strokeStyle="rgba("+(0|255*e.color.m)+","+(0|255*e.color.i)+","+(0|255*e.color.f)+","+e.color.G+")",a.lineWidth=2*e.UC*c,a.lineCap="round",q.Pf.Xh(e.Nm,e.Al));e.type===q.Mg.WE&&(a.fillStyle="rgba("+(0|255*e.fillColor.m)+","+(0|255*e.fillColor.i)+","+(0|255*e.fillColor.f)+","+e.fillColor.G+")",q.Pf.ae(e.ND,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.m)+","+(0|255*e.borderColor.i)+","+(0|255*e.borderColor.f)+","+e.borderColor.G+
")",q.Pf.ae(e.ND,e.count,!0,!1))}},AR:function(a,c,d){var e=new q.Ty(q.Mg.VE);e.position=a;e.UC=c;e.color=d;this.ab.push(e)},ER:function(a,c,d,e){var f=new q.Ty(q.Mg.XE);f.Nm=a;f.Al=c;f.UC=d;f.color=e;this.ab.push(f)},ae:function(a,c,d,e){var f=new q.Ty(q.Mg.WE);f.ND=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.ab.push(f)},clear:function(){this.ab.length=0}});
q.xL=q.B.extend({$n:0,ab:null,Zk:null,FG:null,EG:null,ca:null,Fa:!1,fs:function(){return this.ca},ul:function(a){this.ca=a},ctor:function(){q.B.prototype.ctor.call(this);this.ab=[];this.ca=new q.Hl(q.ve,q.ue)},r:function(){return q.B.prototype.r.call(this)?(this.Fg(q.Dh.e().ii(q.XZ)),this.Nz(512),this.FG=q.T.createBuffer(),this.Fa=!0):!1},ZO:function(){var a=q.T;q.je(q.ou);a.bindBuffer(a.ARRAY_BUFFER,this.FG);this.Fa&&(a.bufferData(a.ARRAY_BUFFER,this.Zk,a.STREAM_DRAW),this.Fa=!1);var c=q.Qb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.ye,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.kq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.lq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.ab.length);q.Ah()},Nz:function(a){if(this.ab.length+a>this.$n){var c=q.yc.BYTES_PER_ELEMENT;this.$n+=Math.max(this.$n,a);if(null==this.ab||0===this.ab.length)this.ab=[],this.Zk=new ArrayBuffer(c*this.$n),this.EG=new Uint8Array(this.Zk);else{a=[];for(var d=new ArrayBuffer(c*this.$n),e=0;e<this.ab.length;e++)a[e]=new q.yc(this.ab[e].G,
this.ab[e].f,this.ab[e].za,d,e*c);this.EG=new Uint8Array(d);this.ab=a;this.Zk=d}}},Ta:function(){q.$j(this.ca.src,this.ca.Db);this.Cc.bf();this.Cc.jK();this.ZO()},AR:function(a,c,d){d={m:0|255*d.m,i:0|255*d.i,f:0|255*d.f,G:0|255*d.G};var e={q:{x:a.x-c,y:a.y-c},H:d,u:{La:-1,ia:-1}},f={q:{x:a.x+c,y:a.y+c},H:d,u:{La:1,ia:1}},g={q:{x:a.x+c,y:a.y-c},H:d,u:{La:1,ia:-1}};this.ab.push(new q.yc(e,{q:{x:a.x-c,y:a.y+c},H:d,u:{La:-1,ia:1}},f,this.Zk,this.ab.length*q.yc.BYTES_PER_ELEMENT));this.ab.push(new q.yc(e,
f,g,this.Zk,this.ab.length*q.yc.BYTES_PER_ELEMENT));this.Fa=!0},ER:function(a,c,d,e){this.Nz(18);e={m:0|255*e.m,i:0|255*e.i,f:0|255*e.f,G:0|255*e.G};var f=q.si(a);c=q.si(c);a=q.LD(q.Qx(q.jd(c,f)));var g=q.Qx(a),h=q.Zf(a,d);d=q.Zf(g,d);var k=q.Jg(c,q.jd(h,d)),l=q.jd(c,h),m=q.Jg(c,h),n=q.jd(f,h),r=q.Jg(f,h),p=q.jd(f,q.jd(h,d)),f=q.Jg(f,q.Jg(h,d)),t=q.yc.BYTES_PER_ELEMENT,v=this.Zk;this.ab.push(new q.yc({q:q.jd(c,q.Jg(h,d)),H:e,u:q.zb(q.fj(q.Jg(a,g)))},{q:k,H:e,u:q.zb(q.jd(a,g))},{q:l,H:e,u:q.zb(q.fj(a))},
v,this.ab.length*t));this.ab.push(new q.yc({q:m,H:e,u:q.zb(a)},{q:k,H:e,u:q.zb(q.jd(a,g))},{q:l,H:e,u:q.zb(q.fj(a))},v,this.ab.length*t));this.ab.push(new q.yc({q:m,H:e,u:q.zb(a)},{q:n,H:e,u:q.zb(q.fj(a))},{q:l,H:e,u:q.zb(q.fj(a))},v,this.ab.length*t));this.ab.push(new q.yc({q:m,H:e,u:q.zb(a)},{q:n,H:e,u:q.zb(q.fj(a))},{q:r,H:e,u:q.zb(a)},v,this.ab.length*t));this.ab.push(new q.yc({q:p,H:e,u:q.zb(q.jd(g,a))},{q:n,H:e,u:q.zb(q.fj(a))},{q:r,H:e,u:q.zb(a)},v,this.ab.length*t));this.ab.push(new q.yc({q:p,
H:e,u:q.zb(q.jd(g,a))},{q:f,H:e,u:q.zb(q.Jg(a,g))},{q:r,H:e,u:q.zb(a)},v,this.ab.length*t));this.Fa=!0},ae:function(a,c,d,e){c={m:0|255*c.m,i:0|255*c.i,f:0|255*c.f,G:0|255*c.G};e={m:0|255*e.m,i:0|255*e.i,f:0|255*e.f,G:0|255*e.G};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.si(a[(g-1+m)%m]);k=q.si(a[g]);l=q.si(a[(g+1)%m]);var n=q.LD(q.Qx(q.jd(k,h)));k=q.LD(q.Qx(q.jd(l,k)));f[g]={offset:q.Zf(q.Jg(n,k),1/(q.AX(n,k)+1)),QI:k}}n=0<d;this.Nz(3*(3*m-2));var r=q.yc.BYTES_PER_ELEMENT,p=this.Zk,t=this.ab,
v=!1==n?0.5:0;for(g=0;g<m-2;g++)h=q.jd(q.si(a[0]),q.Zf(f[0].offset,v)),k=q.jd(q.si(a[g+1]),q.Zf(f[g+1].offset,v)),l=q.jd(q.si(a[g+2]),q.Zf(f[g+2].offset,v)),t.push(new q.yc({q:h,H:c,u:q.zb({x:0,y:0})},{q:k,H:c,u:q.zb({x:0,y:0})},{q:l,H:c,u:q.zb({x:0,y:0})},p,t.length*r));for(g=0;g<m;g++){v=(g+1)%m;h=q.si(a[g]);k=q.si(a[v]);l=f[g].QI;var z=f[g].offset,D=f[v].offset,v=n?q.jd(h,q.Zf(z,d)):q.jd(h,q.Zf(z,0.5)),C=n?q.jd(k,q.Zf(D,d)):q.jd(k,q.Zf(D,0.5));h=n?q.Jg(h,q.Zf(z,d)):q.Jg(h,q.Zf(z,0.5));k=n?q.Jg(k,
q.Zf(D,d)):q.Jg(k,q.Zf(D,0.5));n?(t.push(new q.yc({q:v,H:e,u:q.zb(q.fj(l))},{q:C,H:e,u:q.zb(q.fj(l))},{q:k,H:e,u:q.zb(l)},p,t.length*r)),t.push(new q.yc({q:v,H:e,u:q.zb(q.fj(l))},{q:h,H:e,u:q.zb(l)},{q:k,H:e,u:q.zb(l)},p,t.length*r))):(t.push(new q.yc({q:v,H:c,u:q.zb({x:0,y:0})},{q:C,H:c,u:q.zb({x:0,y:0})},{q:k,H:c,u:q.zb(l)},p,t.length*r)),t.push(new q.yc({q:v,H:c,u:q.zb({x:0,y:0})},{q:h,H:c,u:q.zb(l)},{q:k,H:c,u:q.zb(l)},p,t.length*r)))}this.Fa=!0},clear:function(){this.ab.length=0;this.Fa=!0}});
q.Mg=q.Da.Kc?q.xL:q.wL;q.Mg.create=function(){var a=new q.Mg;return a&&a.r()?a:null};q.Ty=function(a){this.type=a};q.Mg.VE=0;q.Mg.XE=1;q.Mg.WE=2;q.Vs=-1;q.$J=function(a,c){a.Fg(c);var d=a.s;if(d)for(var e=0;e<d.length;e++)q.$J(d[e],c)};
q.kb=q.B.extend({jc:null,Ql:0,Fi:!1,HF:!1,ctor:function(){q.B.prototype.ctor.call(this);this.jc=null;this.Ql=0;this.Fi=!1},r:null,cA:function(a){this.jc=a;this.Ql=1;this.Fi=!1;q.kb.fA=!0;q.kb.fA&&(q.Vs=q.T.getParameter(q.T.STENCIL_BITS),0>=q.Vs&&q.log("Stencil buffer is not enabled."),q.kb.fA=!1);return!0},bA:function(a){this.jc=a;this.Ql=1;this.Fi=!1},Cg:function(){q.B.prototype.Cg.call(this);this.jc.Cg()},fi:function(){q.B.prototype.fi.call(this);this.jc.fi()},th:function(){this.jc.th();q.B.prototype.th.call(this)},
Fd:function(){this.jc.Fd();q.B.prototype.Fd.call(this)},ma:null,Cm:function(a){var c=a||q.T;if(1>q.Vs)q.B.prototype.ma.call(this,a);else if(this.jc&&this.jc.sa)if(q.kb.fr=-1,q.kb.fr+1==q.Vs)q.kb.vB=!0,q.kb.vB&&(q.log("Nesting more than "+q.Vs+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.kb.vB=!1),q.B.prototype.ma.call(this,a);else{q.kb.fr++;var d=1<<q.kb.fr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var p=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Fi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Pf.SB(q.lj(),q.kU(),q.kw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Fi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.Ql){var d=
q.Dh.e().ii(q.ZZ),t=c.getUniformLocation(d.Cw(),q.t_);q.r6(d.Cw());d.iK(t,this.Ql);q.$J(this.jc,d)}q.zp();this.transform();this.jc.ma();q.yp();c.depthMask(p);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.B.prototype.ma.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.kb.fr--}else this.Fi&&q.B.prototype.ma.call(this,a)},Bm:function(a){if(this.jc&&this.jc.sa){if(this.mz()||this.jc instanceof q.v){a=a||q.T;var c=a.canvas,d=q.kb.YN();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Fi?"destination-out":"destination-in";this.transform(a);this.jc.ma();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.T;var d=this.s,e;a.save();this.transform(a);this.jc.ma(a);a.clip();this.mz(!0);var f=d.length;if(0<f){this.Hd();for(c=0;c<f;c++)if(e=d[c],0>e.bb)e.ma(a);else break;for(this.Ta(a);c<
f;c++)d[c].ma(a)}else this.Ta(a);this.mz(!1)}a.restore()}else this.Fi&&q.B.prototype.ma.call(this,a)},I5:function(){return this.jc},qD:null,DP:function(a){this.jc=a},CP:function(a){this.jc=a;var c=q.na.e().qa,d=q.na.e().ya,e=q.T;!(a instanceof q.v)&&a instanceof q.Mg&&(a.Ta=function(){for(var f=0;f<a.ab.length;f++){var g=a.ab[f].ND,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},R2:function(){return this.Ql},p$:function(a){this.Ql=a},f7:function(){return this.Fi},
aaa:function(a){this.Fi=a},mz:function(a){if(!0===a||!1===a)q.kb.prototype.HF=a;return q.kb.prototype.HF}});q.Da.Kc?(q.kb.prototype.r=q.kb.prototype.cA,q.kb.prototype.ma=q.kb.prototype.Cm,q.kb.prototype.qD=q.kb.prototype.DP):(q.kb.prototype.r=q.kb.prototype.bA,q.kb.prototype.ma=q.kb.prototype.Bm,q.kb.prototype.qD=q.kb.prototype.CP);q.kb.fA=null;q.kb.vB=null;q.kb.fr=null;q.kb.wG=null;q.kb.YN=function(){return q.kb.wG||(q.kb.wG=document.createElement("canvas"))};
q.kb.create=function(a){var c=new q.kb;c.r(a);return c};q.VY=0;q.WY=1;q.XY=2;q.Jn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.xb=q.B.extend({ao:null,bo:null,Su:0,Hq:0,vv:0,Ca:null,Jr:null,UP:null,Hf:q.nj,lb:null,Fu:0,tj:null,sz:0,tz:0,sq:!1,rz:null,ctor:null,Fh:function(){q.B.prototype.ctor.call(this);this.tj=q.kw(1,1,1,1);this.rz="rgba(255,255,255,1)";this.ao=document.createElement("canvas");this.bo=this.ao.getContext("2d");this.O(0,0)},Gh:function(){q.B.prototype.ctor.call(this);this.tj=q.kw(0,0,0,0)},Of:null,xN:function(){q.B.prototype.Fd.call(this);this.ao=this.bo=null},yN:function(){q.B.prototype.Fd.call(this);this.Jr=
null;var a=q.T;a.deleteFramebuffer(this.Su);this.Hq&&a.deleteRenderbuffer(this.Hq);this.UP=null},zS:function(){return this.lb},Rs:function(a){this.lb=a},wC:null,iO:function(a,c){var d=this.ao,e=q.wd();d.width=0|a*e;d.height=0|c*e;this.bo.translate(0,d.height);e=new q.Vb;e.sf(d);e.oe();this.lb=q.v.ub(e);return!0},jO:function(a,c,d,e){d==q.fq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.T,g=q.wd();a=0|a*g;c=0|c*g;this.vv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.we.e().Gr?(g=a,h=c):(g=q.Jn(a),h=q.Jn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Hf=d;this.Ca=new q.Vb;if(!this.Ca)return!1;l=this.Ca;l.Jw(k,this.Hf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.we.e().dp("GL_QCOM")){this.Jr=new q.Vb;if(!this.Jr)return!1;this.Jr.Jw(k,this.Hf,g,h,q.size(a,c))}this.Su=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Su);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Vh,0);0!=e&&(this.Hq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Hq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Hq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.CJ();a=this.lb=q.v.ub(l);a.rn(-1);a.ul(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.vv);this.sq=
!1;this.g(a);return!0},Uj:null,nN:function(){q.T=this.bo;q.na.e().zP()},oN:function(){q.Sm(q.Pt);q.zp();q.Sm(q.Ot);q.zp();var a=q.V.e();a.rx(a.Sk);var c=this.Ca.pa,d=q.V.e().GS(),a=d.width/c.width,d=d.height/c.height,e=q.T;e.viewport(0,0,c.width,c.height);c=new q.rh;q.GT(c,-1/a,1/a,-1/d,1/d,-1,1);q.Pw(c);this.vv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Su);q.we.e().dp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Jr.Vh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ca.Vh,0))},FB:function(a,c,d,e,f,g){var h=q.T;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.jz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},jz:null,pN:function(a,c,d,e){this.Uj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.bo,g=this.ao;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},qN:function(a,c,d,e,f,g,h){this.Uj();var k=q.T,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,RN:function(){q.T=q.MT;q.na.e().bP()},SN:function(){var a=q.T,c=q.V.e();a.bindFramebuffer(a.FRAMEBUFFER,this.vv);c.mK();q.Sm(q.Pt);q.yp();q.Sm(q.Ot);q.yp()},clear:function(a,c,d,e){this.FB(a,c,d,e);this.end()},clearRect:null,CN:function(a,c,d,e){this.bo.clearRect(a,c,d,-e)},DN:function(){},clearDepth:null,AN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},BN:function(a){this.Uj();var c=q.T,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,EN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},FN:function(a){var c=q.T,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ma:null,Bm:function(a){this.sa&&(a=a||q.T,a.save(),this.Ta(a),this.transform(a),this.lb.ma(),a.restore(),this.Gf=0)},Cm:function(a){if(this.sa){q.zp();var c=this.Gk;c&&c.vp()&&(c.EB(),this.Lx());this.transform(a);this.lb.ma();this.Ta(a);c&&c.vp()&&c.AB(this);
q.yp();this.Gf=0}},Ta:null,Xl:function(a){a=a||q.T;if(this.sq){this.Uj();if(this.Fu){var c=this.ao;a.save();a.fillStyle=this.rz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Hd();a=this.s;for(var c=a.length,d=this.lb,e=0;e<c;e++){var f=a[e];f!=d&&f.ma()}this.end()}},ig:function(){var a=q.T;if(this.sq){this.Uj();var c=this.Fu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.tj.m,this.tj.i,this.tj.f,
this.tj.G));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.sz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.tz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Hd();a=this.s;for(c=0;c<a.length;c++)d=a[c],d!=this.lb&&d.ma();this.end()}},RI:null,AO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");return null},
BO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.it(this.Hf==q.nj,"only RGBA8888 can be saved as image");if(!this.Ca)return null;var a=this.Ca.pa,c=a.width,a=a.height,d=new q.JL,e=q.T,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.Uj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.yO(f,e*c*4,g,(a-e-1)*c*4,4*c);d.F6(f,c*a*4,q.PY,c,a,8);return d},yO:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},g$:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},W7:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},X7:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},p3:function(){return this.Fu},x$:function(a){this.Fu=a},n3:function(){return this.tj},IJ:null,jP:function(a){var c=this.tj;c.m=a.m;c.i=a.i;c.f=a.f;c.G=a.G;this.rz="rgba("+(0|255*a.m)+","+(0|255*a.i)+","+(0|255*a.f)+","+a.G+")"},kP:function(a){var c=this.tj;
c.m=a.m;c.i=a.i;c.f=a.f;c.G=a.G},o3:function(){return this.sz},w$:function(a){this.sz=a},q3:function(){return this.tz},y$:function(a){this.tz=a},R6:function(){return this.sq},r$:function(a){this.sq=a}});
q.Da.Kc?(b=q.xb.prototype,b.ctor=q.xb.prototype.Gh,b.Of=q.xb.prototype.yN,b.wC=q.xb.prototype.jO,b.Uj=q.xb.prototype.oN,b.jz=q.xb.prototype.qN,b.end=q.xb.prototype.SN,b.clearRect=q.xb.prototype.DN,b.clearDepth=q.xb.prototype.BN,b.clearStencil=q.xb.prototype.FN,b.ma=q.xb.prototype.Cm,b.Ta=q.xb.prototype.ig,b.RI=q.xb.prototype.BO,b.IJ=q.xb.prototype.kP):(b=q.xb.prototype,b.ctor=q.xb.prototype.Fh,b.Of=q.xb.prototype.xN,b.wC=q.xb.prototype.iO,b.Uj=q.xb.prototype.nN,b.jz=q.xb.prototype.pN,b.end=q.xb.prototype.RN,
b.clearRect=q.xb.prototype.CN,b.clearDepth=q.xb.prototype.AN,b.clearStencil=q.xb.prototype.EN,b.ma=q.xb.prototype.Bm,b.Ta=q.xb.prototype.Xl,b.RI=q.xb.prototype.AO,b.IJ=q.xb.prototype.jP);q.xb.create=function(a,c,d,e){d=d||q.nj;e=e||0;var f=new q.xb;return f&&f.wC(a,c,d,e)?f:null};q.Dn=-1;
q.vd=q.Ba.extend({hm:null,N:null,fd:q.Dn,ctor:function(){this.N=this.hm=null;this.fd=q.Dn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.fd+"\x3e"},copy:function(){return q.F(this)},F:function(){var a=new q.vd;a.hm=null;a.N=null;a.fd=this.fd;return a},ci:function(){return!0},Y:function(a){this.N=this.hm=a},stop:function(){this.N=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},CS:function(){return this.N},$aa:function(a){this.N=a},
Q4:function(){return this.hm},vaa:function(a){this.hm=a},BS:function(){return this.fd},hK:function(a){this.fd=a},xJ:function(){},XC:function(){}});q.vd.create=function(){return new q.vd};q.kj=q.vd.extend({ra:0,ctor:function(){q.vd.prototype.ctor.call(this);this.ra=0},of:function(){return this.ra},J$:function(a){this.ra=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},F:function(){return new q.kj}});
q.eu=q.vd.extend({qm:0,Ab:null,ctor:function(){q.vd.prototype.ctor.call(this);this.qm=0;this.Ab=null},B5:function(){return this.qm},Taa:function(a){this.qm=a},ka:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Ab=a;this.qm=c;return!0},F:function(){var a=new q.eu;a.ka(this.Ab.F(),this.qm);return a},Y:function(a){q.vd.prototype.Y.call(this,a);this.Ab.Y(a)},stop:function(){this.Ab.stop();q.vd.prototype.stop.call(this)},step:function(a){this.Ab.step(a*this.qm)},ci:function(){return this.Ab.ci()},
reverse:function(){return q.eu.create(this.Ab.reverse(),this.qm)},UJ:function(a){this.Ab!=a&&(this.Ab=a)},ZB:function(){return this.Ab}});q.eu.create=function(a,c){var d=new q.eu;return d&&d.ka(a,c)?d:null};
q.ky=q.vd.extend({to:null,Yn:!1,Au:!1,Yu:null,Wq:null,Tm:0,ln:0,yn:0,Jm:0,xB:null,ctor:function(){q.vd.prototype.ctor.call(this);this.to=null;this.Au=this.Yn=!1;this.Wq=this.Yu=null;this.Jm=this.yn=this.ln=this.Tm=0;this.xB=q.Zc()},F:function(){var a=new q.ky,c=this.xB,c=new q.cg(c.x,c.y,c.width,c.height);a.yg(this.to,c);return a},T6:function(){return this.Yn},t$:function(a){this.Yn=a},yg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.Zc();this.to=a;this.xB=
c;this.Yn=!q.rr(c);this.Au=!1;var d=q.V.e().Nb;this.Wq=q.a(d.width,d.height);this.Yu=q.$i(this.Wq,0.5);this.Yn&&(this.Tm=-(c.x+c.width-this.Wq.x),this.ln=-c.x,this.yn=-c.y,this.Jm=-(c.y+c.height-this.Wq.y),this.ln<this.Tm&&(this.ln=this.Tm=(this.Tm+this.ln)/2),this.yn<this.Jm&&(this.yn=this.Jm=(this.yn+this.Jm)/2),this.yn==this.Jm&&this.Tm==this.ln&&(this.Au=!0));return!0},step:function(){var a=this.to.p.D,c=this.to.p.I,a=this.Yu.x-a,c=this.Yu.y-c;this.Yn?this.Au||this.N.l(q.Zr(a,this.Tm,this.ln),
q.Zr(c,this.Jm,this.yn)):this.N.l(a,c)},ci:function(){return!this.to.Ge},stop:function(){this.N=null;q.vd.prototype.stop.call(this)}});q.ky.create=function(a,c){c=c||new q.Zc;var d=new q.ky;return null!=c&&d&&d.yg(a,c)||d&&d.yg(a)?d:null};q.M=q.kj.extend({$b:0,Vq:!1,ctor:function(){q.kj.prototype.ctor.call(this);this.$b=0;this.Vq=!1},G3:function(){return this.$b},K:function(a){this.ra=0===a?q.It:a;this.$b=0;return this.Vq=!0},ci:function(){return this.$b>=this.ra},F:function(){var a=new q.M;a.K(this.ra);return a},step:function(a){this.Vq?(this.Vq=!1,this.$b=0):this.$b+=a;a=this.$b/(1.192092896E-7<this.ra?this.ra:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},Y:function(a){q.vd.prototype.Y.call(this,a);this.$b=0;this.Vq=!0},reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");
return null},q$:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},S2:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.M.create=function(a){var c=new q.M;c.K(a);return c};
q.mj=q.M.extend({ti:null,WA:null,Do:0,ctor:function(){q.M.prototype.ctor.call(this);this.ti=[];this.WA=null;this.Do=0},us:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.K(a.of()+c.of());this.ti[0]=a;this.ti[1]=c;return!0},F:function(){var a=new q.mj;a.us(this.ti[0].F(),this.ti[1].F());return a},Y:function(a){q.M.prototype.Y.call(this,a);this.WA=this.ti[0].of()/this.ra;this.Do=-1},stop:function(){-1!==this.Do&&this.ti[this.Do].stop();q.vd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.WA,e=this.ti,f=this.Do;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].Y(this.N),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].ci()||(f!==c&&e[c].Y(this.N),e[c].update(a),this.Do=c)},reverse:function(){return q.mj.Ol(this.ti[1].reverse(),this.ti[0].reverse())},copy:function(){return this.F()}});
q.mj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.mj.Ol(d,c[e]));return d};q.mj.Ol=function(a,c){var d=new q.mj;d.us(a,c);return d};
q.Wt=q.M.extend({Kf:0,Oj:0,sv:0,iF:!1,Ab:null,ctor:function(){q.M.prototype.ctor.call(this);this.sv=this.Oj=this.Kf=0;this.iF=!1;this.Ab=null},ka:function(a,c){return this.K(a.of()*c)?(this.Kf=c,this.Ab=a,a instanceof q.mi&&(this.Kf-=1),this.Oj=0,!0):!1},F:function(){var a=new q.Wt;a.ka(this.Ab.F(),this.Kf);return a},Y:function(a){this.Oj=0;this.sv=this.Ab.of()/this.ra;q.M.prototype.Y.call(this,a);this.Ab.Y(a)},stop:function(){this.Ab.stop();q.vd.prototype.stop.call(this)},update:function(a){var c=
this.Ab,d=this.ra,e=this.Kf,f=this.sv;if(a>=f){for(;a>f&&this.Oj<e;)c.update(1),this.Oj++,c.stop(),c.Y(this.N),this.sv=f+=c.of()/d;1<=a&&this.Oj<e&&this.Oj++;this.iF&&(this.Oj==e?(c.update(1),c.stop()):c.update(a-(f-c.of()/d)))}else c.update(a*e%1)},ci:function(){return this.Oj==this.Kf},reverse:function(){return q.Wt.create(this.Ab.reverse(),this.Kf)},UJ:function(a){this.Ab!=a&&(this.Ab=a)},ZB:function(){return this.Ab}});q.Wt.create=function(a,c){var d=new q.Wt;d.ka(a,c);return d};
q.Xt=q.M.extend({Ab:null,ctor:function(){q.M.prototype.ctor.call(this);this.Ab=null},ka:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Ab=a;return!0},F:function(){var a=new q.Xt;a.ka(this.Ab.F());return a},Y:function(a){q.M.prototype.Y.call(this,a);this.Ab.Y(a)},step:function(a){var c=this.Ab;c.step(a);c.ci()&&(c.Y(this.N),c.step(c.$b-c.of()))},ci:function(){return!1},reverse:function(){return q.Xt.create(this.Ab.reverse())},UJ:function(a){this.Ab!=a&&(this.Ab=
a)},ZB:function(){return this.Ab}});q.Xt.create=function(a){var c=new q.Xt;return c&&c.ka(a)?c:null};
q.eq=q.M.extend({Jj:null,Sj:null,ctor:function(){q.M.prototype.ctor.call(this);this.Sj=this.Jj=null},us:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.of(),f=c.of();this.K(Math.max(e,f))&&(this.Jj=a,this.Sj=c,e>f?this.Sj=q.mj.Ol(c,q.Fn.create(e-f)):e<f&&(this.Jj=q.mj.Ol(a,q.Fn.create(f-e))),d=!0);return d},F:function(){var a=new q.eq;a.us(this.Jj.F(),this.Sj.F());return a},Y:function(a){q.M.prototype.Y.call(this,a);this.Jj.Y(a);this.Sj.Y(a)},
stop:function(){this.Jj.stop();this.Sj.stop();q.vd.prototype.stop.call(this)},update:function(a){this.Jj&&this.Jj.update(a);this.Sj&&this.Sj.update(a)},reverse:function(){return q.eq.Ol(this.Jj.reverse(),this.Sj.reverse())}});q.eq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.Ol(d,c[e]));return d};
q.eq.Ol=function(a,c){var d=new q.eq;d.us(a,c);return d};
q.By=q.M.extend({Kq:0,rm:0,Ez:0,Qu:0,Vk:0,Fz:0,ctor:function(){q.M.prototype.ctor.call(this);this.Fz=this.Vk=this.Qu=this.Ez=this.rm=this.Kq=0},K:function(a,c,d){return q.M.prototype.K.call(this,a)?(this.Kq=c||0,this.Qu=d||this.Kq,!0):!1},F:function(){var a=new q.By;a.K(this.ra,this.Kq,this.Qu);return a},Y:function(a){q.M.prototype.Y.call(this,a);var c=a.og%360,d=this.Kq-c;180<d&&(d-=360);-180>d&&(d+=360);this.rm=c;this.Ez=d;this.Vk=a.Nh%360;a=this.Qu-this.Vk;180<a&&(a-=360);-180>a&&(a+=360);this.Fz=
a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.N&&(this.N.ux(this.rm+this.Ez*a),this.N.vx(this.Vk+this.Fz*a))}});q.By.create=function(a,c,d){var e=new q.By;e.K(a,c,d);return e};
q.Zt=q.M.extend({eg:0,rm:0,rq:0,Vk:0,ctor:function(){q.M.prototype.ctor.call(this);this.Vk=this.rq=this.rm=this.eg=0},K:function(a,c,d){return q.M.prototype.K.call(this,a)?(this.eg=c||0,this.rq=d||this.eg,!0):!1},F:function(){var a=new q.Zt;a.K(this.ra,this.eg,this.rq);return a},Y:function(a){q.M.prototype.Y.call(this,a);this.rm=a.og;this.Vk=a.Nh},update:function(a){this.N&&(this.N.ux(this.rm+this.eg*a),this.N.vx(this.Vk+this.rq*a))},reverse:function(){return q.Zt.create(this.ra,-this.eg,-this.rq)}});
q.Zt.create=function(a,c,d){var e=new q.Zt;e.K(a,c,d);return e};
q.pk=q.M.extend({Mi:null,Nc:null,Mc:null,ctor:function(){q.M.prototype.ctor.call(this);this.Mi=q.a(0,0);this.Nc=q.a(0,0);this.Mc=q.a(0,0)},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Mi.x=c.x,this.Mi.y=c.y,!0):!1},F:function(){var a=new q.pk;a.K(this.ra,this.Mi);return a},Y:function(a){q.M.prototype.Y.call(this,a);var c=a.p.D;a=a.p.I;this.Mc.x=c;this.Mc.y=a;this.Nc.x=c;this.Nc.y=a},update:function(a){if(this.N){var c=this.Mi.x*a;a*=this.Mi.y;var d=this.Nc;if(q.mt){var e=this.N.p.I,f=
this.Mc;d.x=d.x+this.N.p.D-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.N.l(c,a);f.x=c;f.y=a}else this.N.l(d.x+c,d.y+a)}},reverse:function(){return q.pk.create(this.ra,q.a(-this.Mi.x,-this.Mi.y))}});q.pk.create=function(a,c){var d=new q.pk;d.K(a,c);return d};
q.Rt=q.pk.extend({so:null,ctor:function(){q.pk.prototype.ctor.call(this);this.so=q.a(0,0)},K:function(a,c){return q.pk.prototype.K.call(this,a,c)?(this.so.x=c.x,this.so.y=c.y,!0):!1},F:function(){var a=new q.Rt;a.K(this.ra,this.so);return a},Y:function(a){q.pk.prototype.Y.call(this,a);this.Mi.x=this.so.x-a.p.D;this.Mi.y=this.so.y-a.p.I}});q.Rt.create=function(a,c){var d=new q.Rt;d.K(a,c);return d};
q.Pn=q.M.extend({Yd:0,Zd:0,Cr:0,Dr:0,Pq:0,Qq:0,ze:0,Ae:0,ctor:function(){q.M.prototype.ctor.call(this);this.Ae=this.ze=this.Qq=this.Pq=this.Dr=this.Cr=this.Zd=this.Yd=0},K:function(a,c,d){var e=!1;q.M.prototype.K.call(this,a)&&(this.Pq=c,this.Qq=d,e=!0);return e},F:function(){var a=new q.Pn;a.K(this.ra,this.Pq,this.Qq);return a},Y:function(a){q.M.prototype.Y.call(this,a);this.Cr=a.Yd%180;this.ze=this.Pq-this.Cr;180<this.ze&&(this.ze-=360);-180>this.ze&&(this.ze+=360);this.Dr=a.Zd%360;this.Ae=this.Qq-
this.Dr;180<this.Ae&&(this.Ae-=360);-180>this.Ae&&(this.Ae+=360)},update:function(a){this.N.xx(this.Cr+this.ze*a);this.N.yx(this.Dr+this.Ae*a)}});q.Pn.create=function(a,c,d){var e=new q.Pn;e&&e.K(a,c,d);return e};
q.cu=q.Pn.extend({K:function(a,c,d){var e=!1;q.Pn.prototype.K.call(this,a,c,d)&&(this.Yd=c,this.Zd=d,e=!0);return e},F:function(){var a=new q.cu;a.K(this.ra,this.Yd,this.Zd);return a},Y:function(a){q.Pn.prototype.Y.call(this,a);this.ze=this.Yd;this.Ae=this.Zd;this.Pq=this.Cr+this.ze;this.Qq=this.Dr+this.Ae},reverse:function(){return q.cu.create(this.ra,-this.Yd,-this.Zd)}});q.cu.create=function(a,c,d){var e=new q.cu;e&&e.K(a,c,d);return e};
q.Hn=q.M.extend({Nc:null,hg:null,oa:0,Ao:0,Mc:null,ctor:function(){q.M.prototype.ctor.call(this);this.Nc=q.a(0,0);this.Mc=q.a(0,0);this.hg=q.a(0,0);this.Ao=this.oa=0},K:function(a,c,d,e){return q.M.prototype.K.call(this,a)?(this.hg.x=c.x,this.hg.y=c.y,this.oa=d,this.Ao=e,!0):!1},F:function(){var a=new q.Hn;a.K(this.ra,this.hg,this.oa,this.Ao);return a},Y:function(a){q.M.prototype.Y.call(this,a);var c=a.p.D;a=a.p.I;this.Mc.x=c;this.Mc.y=a;this.Nc.x=c;this.Nc.y=a},update:function(a){if(this.N){var c=
a*this.Ao%1,c=4*this.oa*c*(1-c),c=c+this.hg.y*a;a*=this.hg.x;var d=this.Nc;if(q.mt){var e=this.N.p.I,f=this.Mc;d.x=d.x+this.N.p.D-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.N.l(a,c);f.x=a;f.y=c}else this.N.l(d.x+a,d.y+c)}},reverse:function(){return q.Hn.create(this.ra,q.a(-this.hg.x,-this.hg.y),this.oa,this.Ao)}});q.Hn.create=function(a,c,d,e){var f=new q.Hn;f.K(a,c,d,e);return f};
q.ny=q.Hn.extend({Y:function(a){q.Hn.prototype.Y.call(this,a);this.hg.x-=this.Nc.x;this.hg.y-=this.Nc.y},F:function(){var a=new q.ny;a.K(this.ra,this.hg,this.oa,this.Ao);return a}});q.ny.create=function(a,c,d,e){var f=new q.ny;f.K(a,c,d,e);return f};q.gH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.Gl=q.M.extend({Vl:null,Nc:null,Mc:null,ctor:function(){q.M.prototype.ctor.call(this);this.Vl=[];this.Nc=q.a(0,0);this.Mc=q.a(0,0)},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Vl=c,!0):!1},F:function(){for(var a=new q.Gl,c=[],d=0;d<this.Vl.length;d++){var e=this.Vl[d];c.push(q.a(e.x,e.y))}a.K(this.ra,c);return a},Y:function(a){q.M.prototype.Y.call(this,a);var c=a.p.D;a=a.p.I;this.Mc.x=c;this.Mc.y=a;this.Nc.x=c;this.Nc.y=a},update:function(a){if(this.N){var c=this.Vl,d=q.gH(c[0].x,c[1].x,
c[2].x,a);a=q.gH(c[0].y,c[1].y,c[2].y,a);c=this.Nc;if(q.mt){var e=this.N.p.I,f=this.Mc;c.x=c.x+this.N.p.D-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.N.l(d,a);f.x=d;f.y=a}else this.N.l(c.x+d,c.y+a)}},reverse:function(){var a=this.Vl,a=[q.Vf(a[1],q.OC(a[2])),q.Vf(a[0],q.OC(a[2])),q.OC(a[2])];return q.Gl.create(this.ra,a)}});q.Gl.create=function(a,c){var d=new q.Gl;d.K(a,c);return d};
q.Xx=q.Gl.extend({Xv:null,ctor:function(){q.Gl.prototype.ctor.call(this);this.Xv=[]},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Xv=c,!0):!1},F:function(){var a=new q.Xx;a.K(this.ra,this.Xv);return a},Y:function(a){q.Gl.prototype.Y.call(this,a);a=this.Nc;var c=this.Xv,d=this.Vl;d[0]=q.rd(c[0],a);d[1]=q.rd(c[1],a);d[2]=q.rd(c[2],a)}});q.Xx.create=function(a,c){var d=new q.Xx;d.K(a,c);return d};
q.On=q.M.extend({qa:1,ya:1,Po:1,Qo:1,Yl:0,Zl:0,ze:0,Ae:0,ctor:function(){q.M.prototype.ctor.call(this);this.Qo=this.Po=this.ya=this.qa=1;this.Ae=this.ze=this.Zl=this.Yl=0},K:function(a,c,d){return q.M.prototype.K.call(this,a)?(this.Yl=c,this.Zl=null!=d?d:c,!0):!1},F:function(){var a=new q.On;a.K(this.ra,this.Yl,this.Zl);return a},Y:function(a){q.M.prototype.Y.call(this,a);this.Po=a.qa;this.Qo=a.ya;this.ze=this.Yl-this.Po;this.Ae=this.Zl-this.Qo},update:function(a){this.N&&this.N.jk(this.Po+this.ze*
a,this.Qo+this.Ae*a)}});q.On.create=function(a,c,d){var e=new q.On;e.K(a,c,d);return e};q.au=q.On.extend({Y:function(a){q.On.prototype.Y.call(this,a);this.ze=this.Po*this.Yl-this.Po;this.Ae=this.Qo*this.Zl-this.Qo},reverse:function(){return q.au.create(this.ra,1/this.Yl,1/this.Zl)},F:function(){var a=new q.au;a.K(this.ra,this.Yl,this.Zl);return a}});q.au.create=function(a,c,d){var e=new q.au;e.K(a,c,d);return e};
q.jt=q.M.extend({Kf:0,oA:!1,ctor:function(){q.M.prototype.ctor.call(this);this.Kf=0;this.oA=!1},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Kf=c,!0):!1},F:function(){var a=new q.jt;a.K(this.ra,this.Kf);return a},update:function(a){if(this.N&&!this.ci()){var c=1/this.Kf;this.N.C(a%c>c/2)}},Y:function(a){q.M.prototype.Y.call(this,a);this.oA=a.sa},stop:function(){this.N.C(this.oA);q.M.prototype.stop.call(this)},reverse:function(){return q.jt.create(this.ra,this.Kf)}});
q.jt.create=function(a,c){var d=new q.jt;d.K(a,c);return d};q.Jt=q.M.extend({update:function(a){this.N.fb&&this.N.da(255*a)},reverse:function(){return q.Kt.create(this.ra)},F:function(){var a=new q.Jt;a.K(this.ra);return a}});q.Jt.create=function(a){var c=new q.Jt;c.K(a);return c};q.Kt=q.M.extend({update:function(a){this.N.fb&&this.N.da(255*(1-a))},reverse:function(){return q.Jt.create(this.ra)},F:function(){var a=new q.Kt;a.K(this.ra);return a}});q.Kt.create=function(a){var c=new q.Kt;c.K(a);return c};
q.jy=q.M.extend({Yv:null,Vu:null,ctor:function(){q.M.prototype.ctor.call(this);this.Vu=this.Yv=0},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Yv=c,!0):!1},F:function(){var a=new q.jy;a.K(this.ra,this.Yv);return a},update:function(a){this.N.fb&&this.N.da(this.Vu+(this.Yv-this.Vu)*a)},Y:function(a){q.M.prototype.Y.call(this,a);this.N.fb&&(this.Vu=a.Ti())}});q.jy.create=function(a,c){var d=new q.jy;d.K(a,c);return d};
q.Qy=q.M.extend({mf:null,Ud:null,ctor:function(){q.M.prototype.ctor.call(this);this.mf=q.k(0,0,0);this.Ud=q.k(0,0,0)},K:function(a,c,d,e){return q.M.prototype.K.call(this,a)?(this.mf=q.k(c,d,e),!0):!1},F:function(){var a=new q.Qy,c=this.mf;a.K(this.ra,c.m,c.i,c.f);return a},Y:function(a){q.M.prototype.Y.call(this,a);this.N.fb&&(this.Ud=this.N.qd())},update:function(a){var c=this.Ud,d=this.mf;this.N.fb&&this.N.n(q.k(c.m+(d.m-c.m)*a,c.i+(d.i-c.i)*a,c.f+(d.f-c.f)*a))}});
q.Qy.create=function(a,c,d,e){var f=new q.Qy;f.K(a,c,d,e);return f};
q.ju=q.M.extend({Gq:0,Fq:0,Eq:0,Tz:0,Sz:0,Rz:0,ctor:function(){q.M.prototype.ctor.call(this);this.Rz=this.Sz=this.Tz=this.Eq=this.Fq=this.Gq=0},K:function(a,c,d,e){return q.M.prototype.K.call(this,a)?(this.Gq=c,this.Fq=d,this.Eq=e,!0):!1},F:function(){var a=new q.ju;a.K(this.ra,this.Gq,this.Fq,this.Eq);return a},Y:function(a){q.M.prototype.Y.call(this,a);a.fb&&(a=a.qd(),this.Tz=a.m,this.Sz=a.i,this.Rz=a.f)},update:function(a){this.N.fb&&this.N.n(q.k(this.Tz+this.Gq*a,this.Sz+this.Fq*a,this.Rz+this.Eq*
a))},reverse:function(){return q.ju.create(this.ra,-this.Gq,-this.Fq,-this.Eq)}});q.ju.create=function(a,c,d,e){var f=new q.ju;f.K(a,c,d,e);return f};q.Fn=q.M.extend({update:function(){},reverse:function(){return q.Fn.create(this.ra)},F:function(){var a=new q.Fn;a.K(this.ra);return a}});q.Fn.create=function(a){var c=new q.Fn;c.K(a);return c};
q.Yt=q.M.extend({Kj:null,ctor:function(){q.M.prototype.ctor.call(this);this.Kj=null},ka:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Kj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.M.prototype.K.call(this,a.of())?(this.Kj=a,!0):!1},F:function(){var a=new q.Yt;a.ka(this.Kj.F());return a},Y:function(a){q.M.prototype.Y.call(this,a);this.Kj.Y(a)},update:function(a){this.Kj&&this.Kj.update(1-a)},reverse:function(){return this.Kj.F()},
stop:function(){this.Kj.stop();q.vd.prototype.stop.call(this)}});q.Yt.create=function(a){var c=new q.Yt;c.ka(a);return c};
q.gt=q.M.extend({qj:null,Go:0,wv:null,Rq:0,XA:null,ctor:function(){q.M.prototype.ctor.call(this);this.qj=null;this.Go=0;this.wv=null;this.Rq=0;this.XA=null},OH:function(){return this.qj},JV:function(a){this.qj=a},oI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.of();if(this.K(c*a.Hj)){this.Go=0;this.JV(a);this.wv=null;this.Rq=0;var d=[],e=0,f=c/a.xm;a=a.Td;q.ht(a,q.hj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Rd;d.push(h)}this.XA=d;return!0}return!1},
F:function(){var a=new q.gt;a.oI(this.qj.F());return a},Y:function(a){q.M.prototype.Y.call(this,a);this.qj.km&&(this.wv=a.xR());this.Rq=this.Go=0},update:function(a){1>a&&(a*=this.qj.Hj,(0|a)>this.Rq&&(this.Go=0,this.Rq++),a%=1);for(var c=this.qj.Td,d=c.length,e=this.XA,f=this.Go;f<d;f++)if(e[f]<=a)this.N.Jp(c[f].oh()),this.Go=f+1;else break},reverse:function(){var a=this.qj,c=a.Td,d=[];q.ht(c,q.hj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.F())}c=q.gj.mH(d,a.Rd,
a.Hj);c.sx(a.km);return q.gt.create(c)},stop:function(){this.qj.km&&this.N&&this.N.Jp(this.wv);q.vd.prototype.stop.call(this)}});q.gt.create=function(a){var c=new q.gt;c.oI(a);return c};
q.Py=q.M.extend({Cf:null,$l:null,ctor:function(){q.M.prototype.ctor.call(this);this.$l=this.Cf=null},yg:function(a,c){return this.K(c.of())?(this.$l=a,this.Cf=c,!0):!1},F:function(){var a=new q.Py;a.yg(this.$l,this.Cf.F());return a},Y:function(a){q.M.prototype.Y.call(this,a);this.Cf.Y(this.$l)},stop:function(){this.Cf.stop()},update:function(a){this.Cf.update(a)},Q3:function(){return this.$l},O$:function(a){this.$l!=a&&(this.$l=a)}});q.Py.create=function(a,c){var d=new q.Py;d.yg(a,c);return d};q.mi=q.kj.extend({ci:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.F()},F:function(){return new q.mi}});q.bu=q.mi.extend({update:function(){this.N.C(!0)},reverse:function(){return q.Nt.create()},F:function(){return new q.bu}});q.bu.create=function(){return new q.bu};q.Nt=q.mi.extend({update:function(){this.N.C(!1)},reverse:function(){return q.bu.create()},F:function(){return new q.Nt}});q.Nt.create=function(){return new q.Nt};
q.ku=q.mi.extend({update:function(){this.N.C(!this.N.sa)},reverse:function(){return new q.ku},F:function(){return new q.ku}});q.ku.create=function(){return new q.ku};q.Vt=q.mi.extend({dr:!0,ctor:function(){q.kj.prototype.ctor.call(this);this.dr=!0},update:function(){this.N.P(this.dr)},r:function(a){this.dr=a;return!0},reverse:function(){return new q.Vt(this.dr)},F:function(){return new q.Vt(this.dr)}});q.Vt.create=function(a){null==a&&(a=!0);var c=new q.Vt;c&&c.r(a);return c};
q.Lt=q.mi.extend({gc:!1,ctor:function(){q.kj.prototype.ctor.call(this);this.gc=!1},qI:function(a){this.gc=a;return!0},update:function(){this.N.aW(this.gc)},reverse:function(){return q.Lt.create(!this.gc)},F:function(){var a=new q.Lt;a.qI(this.gc);return a}});q.Lt.create=function(a){var c=new q.Lt;return c.qI(a)?c:null};
q.Mt=q.mi.extend({hc:!1,ctor:function(){q.kj.prototype.ctor.call(this);this.hc=!1},rI:function(a){this.hc=a;return!0},update:function(){this.N.bW(this.hc)},reverse:function(){return q.Mt.create(!this.hc)},F:function(){var a=new q.Mt;a.rI(this.hc);return a}});q.Mt.create=function(a){var c=new q.Mt;return c.rI(a)?c:null};
q.wy=q.mi.extend({p:null,ctor:function(){q.kj.prototype.ctor.call(this);this.p=q.a(0,0)},tI:function(a){this.p.x=a.x;this.p.y=a.y;return!0},update:function(){this.N.l(this.p)},F:function(){var a=new q.wy;a.tI(this.p);return a}});q.wy.create=function(a){var c=new q.wy;c.tI(a);return c};
q.Xp=q.mi.extend({bh:null,Ul:null,Fk:null,Cq:null,ctor:function(){q.kj.prototype.ctor.call(this);this.Cq=this.Fk=this.Ul=this.bh=null},yg:function(a,c,d){this.Cq=d;this.Ul=a;this.bh=c;return!0},qC:function(a){this.Fk=a;return!0},execute:function(){null!=this.Ul?this.Ul.call(this.bh,this.N,this.Cq):this.Fk&&this.Fk.call(null,this.N)},update:function(){this.execute()},K5:function(){return this.bh},aba:function(a){a!=this.bh&&(this.bh&&(this.bh=null),this.bh=a)},copy:function(){var a=new q.Xp;this.bh?
a.yg(this.Ul,this.bh,this.Cq):this.Fk&&a.qC(this.Fk);return a},F:function(){var a=new q.Xp;this.bh?a.yg(this.Ul,this.bh,this.Cq):this.Fk&&a.qC(this.Fk);return a}});q.Xp.create=function(a,c,d){var e=new q.Xp;if(1==arguments.length){if(e&&e.qC(a))return e}else if(e&&e.yg(a,c,d))return e.Ul=a,e;return null};q.Rx=q.M.extend({oz:0,pz:0,qz:0,zF:0,AF:0,BF:0,HG:0,IG:0,JG:0,ctor:function(){q.M.prototype.ctor.call(this);this.JG=this.IG=this.HG=this.BF=this.AF=this.zF=this.qz=this.pz=this.oz=0},Y:function(a){q.M.prototype.Y.call(this,a);a=a.YB();var c=a.QH();this.oz=c.x;this.pz=c.y;this.qz=c.z;c=a.SH();this.zF=c.x;this.AF=c.y;this.BF=c.z;a=a.ES();this.HG=a.x;this.IG=a.y;this.JG=a.z},F:function(){return new q.Rx},reverse:function(){return q.Yt.create(this)}});
q.uy=q.Rx.extend({Ni:0,Ou:0,Un:0,Cz:0,eg:0,Bz:0,FA:0,DA:0,EA:0,CA:0,ctor:function(){q.Rx.prototype.ctor.call(this);this.CA=this.EA=this.DA=this.FA=this.Bz=this.eg=this.Cz=this.Un=this.Ou=this.Ni=0},K:function(a,c,d,e,f,g,h){return q.M.prototype.K.call(this,a)?(this.Ni=c,this.Ou=d,this.Un=e,this.Cz=f,this.eg=g,this.Bz=h,this.DA=q.jj(f),this.CA=q.jj(h),!0):!1},kX:function(){var a=this.N.YB(),c=a.SH(),d=a.QH(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.It);0===d&&(d=q.It);return{RT:d/q.Yp.qs(),GX:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},Y:function(a){q.M.prototype.Y.call(this,a);a=this.kX();isNaN(this.Ni)&&(this.Ni=a.RT);isNaN(this.Un)&&(this.Un=q.yy(a.GX));isNaN(this.eg)&&(this.eg=q.yy(a.azimuth));this.FA=q.jj(this.Un);this.EA=q.jj(this.eg)},F:function(){var a=new q.uy;a.K(this.ra,this.Ni,this.Ou,this.Un,this.Cz,this.eg,this.Bz);return a},update:function(a){var c=(this.Ni+this.Ou*a)*q.Yp.qs(),
d=this.FA+this.DA*a,e=this.EA+this.CA*a;a=Math.sin(d)*Math.cos(e)*c+this.oz;e=Math.sin(d)*Math.sin(e)*c+this.pz;c=Math.cos(d)*c+this.qz;this.N.YB().PJ(a,e,c)}});q.uy.create=function(a,c,d,e,f,g,h){var k=new q.uy;return k.K(a,c,d,e,f,g,h)?k:null};q.Yc=q.M.extend({ba:null,ctor:function(){q.M.prototype.ctor.call(this);this.ba=null},ka:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.K(a.of())?(this.ba=a,!0):!1},F:function(){var a=new q.Yc;a.ka(this.ba.F());return a},Y:function(a){q.M.prototype.Y.call(this,a);this.ba.Y(this.N)},stop:function(){this.ba.stop();q.M.prototype.stop.call(this)},update:function(a){this.ba.update(a)},reverse:function(){return q.Yc.create(this.ba.reverse())},ZB:function(){return this.ba}});
q.Yc.create=function(a){var c=new q.Yc;c&&c.ka(a);return c};q.Kl=q.Yc.extend({Ee:0,ctor:function(){q.Yc.prototype.ctor.call(this);this.Ee=0},Haa:function(a){this.Ee=a},i5:function(){return this.Ee},ka:function(a,c){return q.Yc.prototype.ka.call(this,a)?(this.Ee=c,!0):!1},F:function(){var a=new q.Kl;a.ka(this.ba.F(),this.Ee);return a},reverse:function(){return q.Kl.create(this.ba.reverse(),1/this.Ee)}});q.Kl.create=function(a,c){var d=new q.Kl;d&&d.ka(a,c);return d};
q.Bt=q.Kl.extend({update:function(a){this.ba.update(Math.pow(a,this.Ee))},reverse:function(){return q.Bt.create(this.ba.reverse(),1/this.Ee)},F:function(){var a=new q.Bt;a.ka(this.ba.F(),this.Ee);return a}});q.Bt.create=function(a,c){var d=new q.Bt;d&&d.ka(a,c);return d};q.Dt=q.Kl.extend({update:function(a){this.ba.update(Math.pow(a,1/this.Ee))},reverse:function(){return q.Dt.create(this.ba.reverse(),1/this.Ee)},F:function(){var a=new q.Dt;a.ka(this.ba.F(),this.Ee);return a}});
q.Dt.create=function(a,c){var d=new q.Dt;d&&d.ka(a,c);return d};q.Ct=q.Kl.extend({update:function(a){a*=2;1>a?this.ba.update(0.5*Math.pow(a,this.Ee)):this.ba.update(1-0.5*Math.pow(2-a,this.Ee))},F:function(){var a=new q.Ct;a.ka(this.ba.F(),this.Ee);return a},reverse:function(){return q.Ct.create(this.ba.reverse(),this.Ee)}});q.Ct.create=function(a,c){var d=new q.Ct;d&&d.ka(a,c);return d};
q.yt=q.Yc.extend({update:function(a){this.ba.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.At.create(this.ba.reverse())},F:function(){var a=new q.yt;a.ka(this.ba.F());return a}});q.yt.create=function(a){var c=new q.yt;c&&c.ka(a);return c};q.At=q.Yc.extend({update:function(a){this.ba.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.yt.create(this.ba.reverse())},F:function(){var a=new q.At;a.ka(this.ba.F());return a}});
q.At.create=function(a){var c=new q.At;c&&c.ka(a);return c};q.zt=q.Yc.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.ba.update(a)},reverse:function(){return q.zt.create(this.ba.reverse())},F:function(){var a=new q.zt;a.ka(this.ba.F());return a}});q.zt.create=function(a){var c=new q.zt;c&&c.ka(a);return c};
q.Et=q.Yc.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.ba.update(a)},reverse:function(){return q.Gt.create(this.ba.reverse())},F:function(){var a=new q.Et;a.ka(this.ba.F());return a}});q.Et.create=function(a){var c=new q.Et;c&&c.ka(a);return c};q.Gt=q.Yc.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.ba.update(a)},reverse:function(){return q.Et.create(this.ba.reverse())},F:function(){var a=new q.Gt;a.ka(this.ba.F());return a}});
q.Gt.create=function(a){var c=new q.Gt;c&&c.ka(a);return c};q.Ft=q.Yc.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.ba.update(a)},F:function(){var a=new q.Ft;a.ka(this.ba.F());return a},reverse:function(){return q.Ft.create(this.ba.reverse())}});q.Ft.create=function(a){var c=new q.Ft;c&&c.ka(a);return c};
q.Gn=q.Yc.extend({Vd:null,ctor:function(){q.Yc.prototype.ctor.call(this);this.Vd=0.3},S4:function(){return this.Vd},waa:function(a){this.Vd=a},ka:function(a,c){q.Yc.prototype.ka.call(this,a);this.Vd=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},F:function(){var a=new q.Gn;a.ka(this.ba.F(),this.Vd);return a}});q.Gn.create=function(a,c){var d=new q.Gn;return d&&d.ka(a,c)?d:null};
q.vt=q.Gn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Vd/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Vd));this.ba.update(c)},reverse:function(){return q.xt.create(this.ba.reverse(),this.Vd)},F:function(){var a=new q.vt;a.ka(this.ba.F(),this.Vd);return a}});q.vt.create=function(a,c){var d=new q.vt;return d&&d.ka(a,c)?d:null};
q.xt=q.Gn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Vd/4)*Math.PI*2/this.Vd)+1;this.ba.update(c)},reverse:function(){return q.vt.create(this.ba.reverse(),this.Vd)},F:function(){var a=new q.xt;a.ka(this.ba.F(),this.Vd);return a}});q.xt.create=function(a,c){var d=new q.xt;d&&d.ka(a,c);return d};
q.wt=q.Gn.extend({update:function(a){var c=0,c=this.Vd;if(0===a||1==a)c=a;else{c||(c=this.Vd=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.ba.update(c)},reverse:function(){return q.wt.create(this.ba.reverse(),this.Vd)},F:function(){var a=new q.wt;a.ka(this.ba.F(),this.Vd);return a}});q.wt.create=function(a,c){var d=new q.wt;d&&d.ka(a,c);return d};
q.Jl=q.Yc.extend({iw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},F:function(){var a=new q.Jl;a.ka(this.ba.F());return a},reverse:function(){return q.Jl.create(this.ba.reverse())}});q.Jl.create=function(a){var c=new q.Jl;c&&c.ka(a);return c};
q.st=q.Jl.extend({update:function(a){this.ba.update(1-this.iw(1-a))},reverse:function(){return q.ut.create(this.ba.reverse())},F:function(){var a=new q.st;a.ka(this.ba.F());return a}});q.st.create=function(a){var c=new q.st;c&&c.ka(a);return c};q.ut=q.Jl.extend({update:function(a){this.ba.update(this.iw(a))},reverse:function(){return q.st.create(this.ba.reverse())},F:function(){var a=new q.ut;a.ka(this.ba.F());return a}});q.ut.create=function(a){var c=new q.ut;c&&c.ka(a);return c};
q.tt=q.Jl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.iw(1-2*a)):0.5*this.iw(2*a-1)+0.5;this.ba.update(c)},F:function(){var a=new q.tt;a.ka(this.ba.F());return a},reverse:function(){return q.tt.create(this.ba.reverse())}});q.tt.create=function(a){var c=new q.tt;c&&c.ka(a);return c};q.pt=q.Yc.extend({update:function(a){this.ba.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.rt.create(this.ba.reverse())},F:function(){var a=new q.pt;a.ka(this.ba.F());return a}});
q.pt.create=function(a){var c=new q.pt;c&&c.ka(a);return c};q.rt=q.Yc.extend({update:function(a){a-=1;this.ba.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.pt.create(this.ba.reverse())},F:function(){var a=new q.rt;a.ka(this.ba.F());return a}});q.rt.create=function(a){var c=new q.rt;c&&c.ka(a);return c};
q.qt=q.Yc.extend({update:function(a){a*=2;1>a?this.ba.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.ba.update(a*a*(3.5949095*a+2.5949095)/2+1))},F:function(){var a=new q.qt;a.ka(this.ba.F());return a},reverse:function(){return q.qt.create(this.ba.reverse())}});q.qt.create=function(a){var c=new q.qt;c&&c.ka(a);return c};q.$x=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.yJ=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.nw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.lh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.f$=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.oi=q.M.extend({Jh:null,Dz:0,tm:0,Mc:null,$y:null,ctor:function(){q.M.prototype.ctor.call(this);this.Jh=[];this.tm=this.Dz=0;this.$y=this.Mc=null},K:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.M.prototype.K.call(this,a)?(this.BW(c),this.tm=d,!0):!1},F:function(){var a=new q.oi;a.K(this.ra,q.nw(this.Jh),this.tm);return a},Y:function(a){q.M.prototype.Y.call(this,a);this.Dz=1/(this.Jh.length-1);a=this.N.p;this.Mc=q.a(a.x,a.y);this.$y=
q.a(0,0)},update:function(a){var c,d=this.Jh;if(1==a)c=d.length-1,a=1;else{var e=this.Dz;c=0|a/e;a=(a-e*c)/e}c=q.$x(q.lh(d,c-1),q.lh(d,c-0),q.lh(d,c+1),q.lh(d,c+2),this.tm,a);q.mt&&(d=this.N.p.D-this.Mc.x,a=this.N.p.I-this.Mc.y,0!=d||0!=a)&&(e=this.$y,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.SK(c)},reverse:function(){var a=q.yJ(this.Jh);return q.oi.create(this.ra,a,this.tm)},SK:function(a){this.N.l(a);this.Mc=a},X4:function(){return this.Jh},BW:function(a){this.Jh=a}});
q.oi.create=function(a,c,d){var e=new q.oi;return e.K(a,c,d)?e:null};
q.Zp=q.oi.extend({Nc:null,ctor:function(){q.oi.prototype.ctor.call(this);this.Nc=q.a(0,0)},Y:function(a){q.oi.prototype.Y.call(this,a);a=a.p;this.Nc.x=a.x;this.Nc.y=a.y},reverse:function(){for(var a=this.Jh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.rd(c,d),d=c;a=q.yJ(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.Zp.create(this.ra,a,this.tm)},SK:function(a){var c=this.Nc,d=a.x+c.x;a=a.y+c.y;this.N.l(d,
a);this.Mc.x=d;this.Mc.y=a},F:function(){var a=new q.Zp;a.K(this.ra,q.nw(this.Jh),this.tm);return a}});q.Zp.create=function(a,c,d){var e=new q.Zp;return e.K(a,c,d)?e:null};q.by=q.oi.extend({K:function(a,c){return q.oi.prototype.K.call(this,a,c,0.5)},F:function(){var a=new q.by;a.K(this.ra,q.nw(this.Jh));return a}});q.by.create=function(a,c){var d=new q.by;return d.K(a,c)?d:null};
q.ay=q.Zp.extend({K:function(a,c){return q.oi.prototype.K.call(this,a,c,0.5)},F:function(){var a=new q.ay;a.K(this.ra,q.nw(this.Jh));return a}});q.ay.create=function(a,c){var d=new q.ay;return d.K(a,c)?d:null};q.SX=q.Ba.extend({KD:function(){}});
q.En=q.M.extend({key:"",Nm:0,Al:0,NB:0,ctor:function(){q.M.prototype.ctor.call(this);this.key="";this.NB=this.Al=this.Nm=0},K:function(a,c,d,e){return q.M.prototype.K.call(this,a)?(this.key=c,this.Al=e,this.Nm=d,!0):!1},Y:function(a){if(!a||!a.KD)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.M.prototype.Y.call(this,a);this.NB=this.Al-this.Nm},update:function(a){this.N.KD(this.Al-this.NB*(1-a),this.key)},reverse:function(){return q.En.create(this.duration,
this.key,this.Al,this.Nm)},F:function(){var a=new q.En;a.K(this.ra,this.key,this.Nm,this.Al);return a}});q.En.create=function(a,c,d,e){var f=new q.En;return f.K(a,c,d,e)?f:null};q.qk=0;q.vy=1;q.HE=4;q.nM=75;
q.xc=q.wb.extend({nf:null,Ki:0,lb:null,Ih:null,Tl:null,Cd:!1,s4:function(){return q.a(this.Ih.x,this.Ih)},XJ:function(a){this.Ih=q.ZI(a)},Y2:function(){return q.a(this.Tl.x,this.Tl.y)},FJ:function(a){this.Tl=q.ZI(a)},kc:function(){return this.nf},Bw:function(){return this.Ki},zS:function(){return this.lb},Ps:function(a){this.Ki!=a&&(this.Ki=q.Zr(a,0,100),this.mB())},xf:function(){},jl:function(){return!1},r7:function(){return this.Cd},kz:function(a){if(a<q.HE){var c=q.nM;return this.Cd?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.lj()},bd:null,dB:270,Mz:270,Ni:0,wz:!1,hz:null,pd:0,Dc:null,Lf:null,RG:null,Wr:!1,ctor:null,Fh:function(){q.wb.prototype.ctor.call(this);this.nf=q.qk;this.Ki=0;this.Ih=q.a(0,0);this.Tl=q.a(0,0);this.Cd=!1;this.lb=null;this.bd=q.lj();this.Mz=this.dB=270;this.Ni=0;this.wz=!1;this.hz=q.Zc()},Gh:function(){q.wb.prototype.ctor.call(this);this.nf=q.qk;this.Ki=0;this.Ih=q.a(0,0);this.Tl=q.a(0,0);this.Cd=!1;this.lb=null;this.RG=q.T.createBuffer();
this.pd=0;this.Lf=this.Dc=null;this.Wr=!1},n:function(a){this.lb.n(a);this.od()},da:function(a){this.lb.da(a);this.od()},qd:function(){return this.lb.qd()},Ti:function(){return this.lb.Ti()},cK:null,xP:function(a){this.Cd!==a&&(this.Cd=a)},yP:function(a){this.Cd!==a&&(this.Cd=a,this.Lf=this.Dc=null,this.pd=0)},Rs:null,AP:function(a){this.lb!=a&&(this.lb=a,this.U(this.lb.d()))},BP:function(a){a&&this.lb!=a&&(this.lb=a,this.U(a.d()),this.Dc&&(this.Lf=this.Dc=null,this.pd=0))},dj:null,EP:function(a){a!==
this.nf&&(this.nf=a)},FP:function(a){a!==this.nf&&(this.Dc&&(this.Lf=this.Dc=null,this.pd=0),this.nf=a)},bK:null,vP:function(a){this.Cd!==a&&(this.Cd=a)},wP:function(a){this.Cd!==a&&(this.Cd=a,this.Lf=this.Dc=null,this.pd=0)},Ke:function(a){var c=this.lb;if(!c)return{La:0,ia:0};var d=c.Gb,e=q.a(d.Ga.u.La,d.Ga.u.ia),d=q.a(d.Ja.u.La,d.Ja.u.ia);c.Rc&&(c=a.x,a.x=a.y,a.y=c);return{La:e.x*(1-a.x)+d.x*a.x,ia:e.y*(1-a.y)+d.y*a.y}},Me:function(a){if(!this.lb)return{x:0,y:0};var c=this.lb.Gb,d=q.a(c.Ga.q.x,
c.Ga.q.y),c=q.a(c.Ja.q.x,c.Ja.q.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},tC:null,eO:function(a){this.Ps(0);this.O(0.5,0.5);this.nf=q.qk;this.Cd=!1;this.XJ(q.a(0.5,0.5));this.FJ(q.a(1,1));this.Rs(a);return!0},fO:function(a){this.Ps(0);this.Lf=this.Dc=null;this.pd=0;this.O(0.5,0.5);this.nf=q.qk;this.Cd=!1;this.XJ(q.a(0.5,0.5));this.FJ(q.a(1,1));this.Rs(a);this.Fg(q.Dh.e().ii(q.Cy));return!0},Ta:null,Xl:function(a){a=a||q.T;var c=this.lb;c.xo&&(a.globalCompositeOperation="lighter");var d=
q.na.e().qa,e=q.na.e().ya;a.globalAlpha=c.Tb/255;var f=c.ta,g=c.pa,h=c.ac,k=c.Jz,l=0|h.x,m=-h.y-f.height,n=c.Uo;k.width=f.width*d;k.height=f.height*e;a.save();c.gc&&(l=-h.x-f.width,a.scale(-1,1));c.hc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.nf==q.vy?(f=this.hz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.nf==q.qk&&(f=this.bd.x*d,h=this.bd.y*e,a.beginPath(),a.arc(f,h,this.Ni*e,Math.PI/180*this.dB,Math.PI/180*this.Mz,this.wz),a.lineTo(f,h),a.clip(),a.closePath());
c.Ca&&n.ct?(d=c.Ca.Bc,this.Hu?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.qd(),a.fillStyle="rgba("+k.m+","+k.i+","+k.f+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Ah()},ig:function(a){a=a||q.T;if(this.Dc&&this.lb){q.sy(this);var c=this.lb.ca;q.$j(c.src,c.Db);q.je(q.ou);this.lb.$()?q.wg(this.lb.$()):q.wg(null);a.bindBuffer(a.ARRAY_BUFFER,this.RG);this.Wr&&(a.bufferData(a.ARRAY_BUFFER,this.Lf,
a.DYNAMIC_DRAW),this.Wr=!1);c=q.Qb.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.ye,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.kq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.lq,2,a.FLOAT,!1,c,12);this.nf===q.qk?a.drawArrays(a.TRIANGLE_FAN,0,this.pd):this.nf==q.vy&&(this.Cd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.pd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.pd/2),q.Zh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.pd));q.Zh++}},gQ:function(){if(this.lb){var a,c=this.Ih;a=this.Ki/100;var d=2*q.PI*(this.Cd?a:
1-a),e=q.a(c.x,1),f=q.mU(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.CL,h=q.HE;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.kz(a%h),k=this.kz(k);0==a?k=q.aJ(l,k,1-c.x):4==a&&(l=q.aJ(l,k,1-c.x));var m=q.a(0,0);q.MC(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.Vf(c,q.$i(q.rd(f,c),g))}g=!0;this.pd!=d+3&&(g=!1,this.Lf=this.Dc=null,this.pd=0);if(!this.Dc){h=this.pd=d+3;l=q.Qb.BYTES_PER_ELEMENT;this.Lf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.Qb(null,
null,null,this.Lf,a*l);this.Dc=k;if(!this.Dc){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.od();h=this.Dc;if(!g)for(h[0].u=this.Ke(c),h[0].q=this.Me(c),h[1].u=this.Ke(e),h[1].q=this.Me(e),a=0;a<d;a++)c=this.kz(a),h[a+2].u=this.Ke(c),h[a+2].q=this.Me(c);h[this.pd-1].u=this.Ke(f);h[this.pd-1].q=this.Me(f)}},WP:function(){if(this.lb){var a,c=this.Ki/100,d=this.Tl,d=q.$i(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.rd(this.Ih,d),d=q.Vf(this.Ih,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Cd){if(!this.Dc){this.pd=8;var e=q.Qb.BYTES_PER_ELEMENT;this.Lf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.Qb(null,null,null,this.Lf,a*e);f[0].u=this.Ke(q.a(0,1));f[0].q=this.Me(q.a(0,1));f[1].u=this.Ke(q.a(0,0));f[1].q=this.Me(q.a(0,0));f[6].u=this.Ke(q.a(1,1));f[6].q=this.Me(q.a(1,1));f[7].u=this.Ke(q.a(1,0));f[7].q=this.Me(q.a(1,0));this.Dc=f}a=this.Dc;a[2].u=this.Ke(q.a(c.x,d.y));a[2].q=this.Me(q.a(c.x,
d.y));a[3].u=this.Ke(q.a(c.x,c.y));a[3].q=this.Me(q.a(c.x,c.y));a[4].u=this.Ke(q.a(d.x,d.y));a[4].q=this.Me(q.a(d.x,d.y));a[5].u=this.Ke(q.a(d.x,c.y));a[5].q=this.Me(q.a(d.x,c.y))}else{if(!this.Dc)for(this.pd=4,e=q.Qb.BYTES_PER_ELEMENT,this.Lf=new ArrayBuffer(4*e),this.Dc=[],a=0;4>a;a++)this.Dc[a]=new q.Qb(null,null,null,this.Lf,a*e);a=this.Dc;a[0].u=this.Ke(q.a(c.x,d.y));a[0].q=this.Me(q.a(c.x,d.y));a[1].u=this.Ke(q.a(c.x,c.y));a[1].q=this.Me(q.a(c.x,c.y));a[2].u=this.Ke(q.a(d.x,d.y));a[2].q=this.Me(q.a(d.x,
d.y));a[3].u=this.Ke(q.a(d.x,c.y));a[3].q=this.Me(q.a(d.x,c.y))}this.od()}},od:function(){if(this.lb&&this.Dc){for(var a=this.lb.Gb.Pa.H,c=this.Dc,d=0,e=this.pd;d<e;++d)c[d].H=a;this.Wr=!0}},mB:null,cQ:function(){var a=this.lb,c=a.d(),d=this.Ih;if(this.nf==q.qk){this.Ni=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.bd;g.x=c.width*d.x;g.y=-c.height*d.y;this.Cd?(e=270,d=270-3.6*this.Ki):(d=-90,e=-90+3.6*this.Ki);a.gc&&(g.x-=2*c.width*this.Ih.x,d=-d-180,e=-e-180,f=!f);a.hc&&
(g.y+=2*c.height*this.Ih.y,f=!f,d=-d,e=-e);this.dB=d;this.Mz=e;this.wz=f}else{e=this.Tl;g=this.Ki/100;f=this.hz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.gc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.hc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},dQ:function(){var a=this.nf;a===q.qk?this.gQ():a===q.vy&&this.WP();this.Wr=!0}});
q.Da.Kc?(b=q.xc.prototype,b.ctor=q.xc.prototype.Gh,b.cK=q.xc.prototype.yP,b.Rs=q.xc.prototype.BP,b.dj=q.xc.prototype.FP,b.bK=q.xc.prototype.wP,b.tC=q.xc.prototype.fO,b.Ta=q.xc.prototype.ig,b.mB=q.xc.prototype.dQ):(b=q.xc.prototype,b.ctor=q.xc.prototype.Fh,b.cK=q.xc.prototype.xP,b.Rs=q.xc.prototype.AP,b.dj=q.xc.prototype.EP,b.bK=q.xc.prototype.vP,b.tC=q.xc.prototype.eO,b.Ta=q.xc.prototype.Xl,b.mB=q.xc.prototype.cQ);q.xc.create=function(a){var c=new q.xc;return c.tC(a)?c:null};q.xy=q.M.extend({mf:0,Ud:0,ctor:function(){q.M.prototype.ctor.call(this);this.Ud=this.mf=0},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.mf=c,!0):!1},F:function(){var a=new q.xy;a.K(this.ra,this.mf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},Y:function(a){q.M.prototype.Y.call(this,a);this.Ud=a.Bw();100==this.Ud&&(this.Ud=0)},update:function(a){this.N instanceof q.xc&&this.N.Ps(this.Ud+(this.mf-this.Ud)*a)}});
q.xy.create=function(a,c){var d=new q.xy;d.K(a,c);return d};q.Tt=q.M.extend({mf:0,Ud:0,ctor:function(){q.M.prototype.ctor.call(this);this.Ud=this.mf=0},K:function(a,c,d){return q.M.prototype.K.call(this,a)?(this.mf=d,this.Ud=c,!0):!1},F:function(){var a=new q.Tt;a.K(this.ra,this.Ud,this.mf);return a},reverse:function(){return q.Tt.create(this.ra,this.mf,this.Ud)},Y:function(a){q.M.prototype.Y.call(this,a)},update:function(a){this.N instanceof q.xc&&this.N.Ps(this.Ud+(this.mf-this.Ud)*a)}});
q.Tt.create=function(a,c,d){var e=new q.Tt;e.K(a,c,d);return e};q.Yx=9;q.gL=1;q.jL=2;q.kL=4;q.hL=8;q.iL=16;q.ZD=32;q.lL=64;q.fL=128;q.ni=256;q.ag=1;q.aE=2;q.$D=4;q.jY=8;q.iY=8;
q.Pb=q.Bh.extend({QF:!1,e0:!1,jl:function(){return this.QF},xf:function(a){this.QF=a;for(var c=this.s,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.fb&&f.xf(a)}},Pi:q.ag,H5:function(){return this.Pi},Oq:!1,Lo:!1,Dj:!1,Pu:null,wf:function(a){this.Pi=(this.Oq=a)?q.ag:q.$D;this.Vc()},isEnabled:function(){return this.Oq},Np:function(a){this.Lo=a;this.Vc()},u7:function(){return this.Lo},wl:function(a){this.Dj=a;this.Vc()},d7:function(){return this.Dj},VS:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.sa)return!1;
return!0},ctor:function(){q.Bh.prototype.ctor.call(this);this.Pu={};this.fc=q.vb()},r:function(){return q.Bh.prototype.r.call(this)?(this.Pi=q.ag,this.Oq=!0,this.Dj=this.Lo=!1,this.Pp(1),!0):!1},dx:function(){q.WC(this.Yk,!0,this)},Ve:function(a){for(var c=0,d=q.Yx;c<d;c++)if(a&1<<c)for(var e=this.Iz(1<<c),f=0,g=e.length;f<g;f++)e[f].tT(this)},dH:function(a,c,d){for(var e=0,f=q.Yx;e<f;e++)d&1<<e&&this.kF(a,c,1<<e)},X9:function(a,c,d){for(var e=0,f=q.Yx;e<f;e++)d&1<<e&&this.XO(a,c,1<<e)},Ui:function(a){return this.Aa(a.J)},
di:function(a){a=a.J;a=this.getParent().Aa(a);return q.pb(this.Va(),a)},g0:function(){return null},Iz:function(a){a=a.toString();this.Pu.hasOwnProperty(a)||(this.Pu[a]=[]);return this.Pu[a]},kF:function(a,c,d){a=new q.KL(a,c,d);this.Iz(d).push(a)},XO:function(a,c,d){d=this.Iz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.N);c&&(g=g&&c==f.Cf);g?q.Jd(d,f):e++}else d.length=0},Vc:function(){}});q.Pb.create=function(){var a=new q.Pb;return a&&a.r()?a:null};q.eE=3435855873;
q.Il=q.Pb.extend({Jq:!1,Xr:!1,kg:null,er:null,Bq:null,Mu:null,wm:null,Od:null,Ji:0,zo:!1,Vv:null,Lr:null,Wv:null,Sl:null,dG:!1,mv:0,lv:0,ctor:function(){q.Pb.prototype.ctor.call(this);this.kg=new q.tk(0,0);this.er=new q.Ng(0,0);this.Bq="";this.Mu=q.vb();this.Vv={};this.Lr={};this.Wv={};this.Sl={}},r:function(){return this.Kw(q.S.create("","Arial",12),q.cf.create())},Vc:function(){if(this.dG){this.wm&&this.wm.C(!1);this.Od&&this.Od.C(!1);this.iW(this.er);var a=this.Pi;this.Bq=this.fC(a);this.Mu=this.DS(a);
var c=this.wm=this.ns(a);c&&c.ea&&c.ea(this.Bq);c&&c.fb&&c.n(this.Mu);var d=this.d();c&&c.l(d.width/2,d.height/2);(a=this.Od=this.TR(a))&&a.l(d.width/2,d.height/2);d=c?c.Va().$a:q.size(0,0);if(this.Jq)a&&a.U(d.width+2*this.lv,d.height+2*this.mv);else if(a){var e=a.kg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.U(e)}d=c?c.Va():q.rect(0,0,0,0);e=a?a.Va():q.rect(0,0,0,0);d=q.cx(d,e);this.U(d.width,d.height);d=this.d();c&&(c.l(d.width/2,d.height/2),c.C(!0));
a&&(a.l(d.width/2,d.height/2),a.C(!0))}},Kw:function(a,c){if(!a||!a.fb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.Pb.prototype.r.call(this,!0)?(this.dG=!0,this.Vv={},this.Lr={},this.Wv={},this.Sl={},this.Rb(!0),this.zo=!1,this.Xr=!0,this.Bq=null,this.HV(!0),this.ik(q.size(0,0)),this.Xr=!0,this.Vi(!1),this.O(0.5,0.5),this.wm=a,this.Od=c,this.da(255),
this.xf(!0),this.QW(a.dC(),q.ag),this.PW(a.qd(),q.ag),this.sD(a,q.ag),this.nx(c,q.ag),this.Pi=q.ag,this.lv=24,this.mv=12,this.er=new q.Ng(0.5,0.5),this.ik(q.Ml()),this.Vc(),!0):!1},lT:function(a,c,d){a=q.S.create(a,c,d);return this.Kw(a,q.cf.create())},pI:function(a){var c=q.S.create("","Arial",30);return this.Kw(c,a)},b2:function(){return this.Jq},HV:function(a){this.Jq=a;this.Vc()},p6:function(){return this.Xr},UW:function(a){return this.Xr=a},nS:function(){return this.kg},ik:function(a){if(0===
a.width&&0===a.height)this.Jq=!0;else{this.Jq=!1;var c=this.Sl,d;for(d in c)c[d].ik(a)}this.kg=a;this.Vc()},g4:function(){return this.er},iW:function(a){this.er=a;this.wm&&this.wm.O(a)},Y_:function(){return this.Bq},Z_:function(){return this.Mu},Ti:function(){return this.Ji},da:function(a){q.Pb.prototype.da.call(this,a);var c=this.Sl,d;for(d in c)c[d].da(a)},n:function(a){q.Pb.prototype.n.call(this,a);var c=this.Sl,d;for(d in c)c[d].n(a)},qd:function(){return this.Wd},q7:function(){return this.zo},
c0:function(){return this.mv},a0:function(){return this.lv},eaa:function(a,c){this.mv=c;this.lv=a;this.Vc()},wf:function(a){q.Pb.prototype.wf.call(this,a);this.Vc()},Np:function(a){q.Pb.prototype.Np.call(this,a);this.Vc()},wl:function(a){this.Pi=a?q.aE:q.ag;q.Pb.prototype.wl.call(this,a);(a=this.XB(q.eE))&&this.lX(a);this.Vc();this.Xr&&(a=q.On.create(0.05,this.Dj&&this.isEnabled()&&!this.Lo?1.1:1),a.hK(q.eE),this.gx(a))},hb:function(a){if(!(this.di(a)&&this.isEnabled()&&this.sa&&this.VS()))return!1;
this.zo=!0;this.wl(!0);this.Ve(q.gL);return!0},hd:function(a){this.Oq&&this.zo&&!this.Lo?(a=this.di(a))&&!this.Dj?(this.wl(!0),this.Ve(q.hL)):a&&this.Dj?this.Ve(q.jL):!a&&this.Dj?(this.wl(!1),this.Ve(q.iL)):a||this.Dj||this.Ve(q.kL):this.Dj&&this.wl(!1)},uf:function(a){this.zo=!1;this.wl(!1);this.di(a)?this.Ve(q.ZD):this.Ve(q.lL)},ek:function(){this.zo=!1;this.wl(!1);this.Ve(q.fL)},fC:function(a){var c=this.Vv;return c?c[a]?c[a]:c[q.ag]:""},QW:function(a,c){this.Vv[c]=a||"";this.Pi==c&&this.Vc()},
DS:function(a){return(a=this.Lr[a])?a:(a=this.Lr[q.ag])?a:q.vb()},PW:function(a,c){this.Lr[c]=a;this.Pi==c&&this.Vc()},ns:function(a){var c=this.Wv;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.ag]},sD:function(a,c){var d=this.Wv;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.C(!1);a.O(0.5,0.5);this.g(a,1);this.Pi==c&&this.Vc()},fba:function(a,c){var d=this.fC(c);d||(d="");this.sD(q.S.create(d,a,12),c)},R5:function(a){a=this.ns(a);return null!=a&&a instanceof q.S?a.ff:""},gba:function(a,
c){var d=this.ns(c);null!=d&&d instanceof q.S&&d.QJ(a)},S5:function(a){a=this.ns(a);return null!=a&&a instanceof q.S?a.Be:0},eba:function(a,c){var d=this.fC(c);d||(d="");this.sD(q.py.create(d,a),c)},Q5:function(a){a=this.ns(a);return null!=a&&a instanceof q.py?a.N3():""},TR:function(a){var c=this.Sl;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.ag]},nx:function(a,c){var d=this.Sl;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.C(!1);a.O(0.5,0.5);this.g(a);d=this.kg;0===d.width&&
0===d.height||a.ik(d);this.Pi===c&&this.Vc()},s$:function(a,c){var d=q.cf.nH(a);this.nx(d,c)}});q.Il.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Il)&&d.r()?d:null;1==arguments.length?(d=new q.Il,d.pI(arguments[0])):2==arguments.length?(d=new q.Il,d.Kw(a,c)):3==arguments.length&&(d=new q.Il,d.lT(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.m=a;this.i=c;this.f=d;this.G=e};q.ly=function(a,c,d){this.ne=a;this.ji=c;this.ia=d};q.Md={};q.Md.Hm=function(a,c,d,e){a=q.v.oH(a);if(!a)return null;a.l(d);a.O(e);c.g(a);return a};q.Md.GL=function(a){var c=new q.ly,d,e;d=a.m<a.i?a.m:a.i;d=d<a.f?d:a.f;e=a.m>a.i?a.m:a.i;e=e>a.f?e:a.f;c.ia=e;d=e-d;if(0<e)c.ji=d/e;else return c.ji=0,c.ne=-1,c;c.ne=a.m>=e?(a.i-a.f)/d:a.i>=e?2+(a.f-a.m)/d:4+(a.m-a.i)/d;c.ne*=60;0>c.ne&&(c.ne+=360);return c};
q.Md.Ay=function(a){var c,d,e,f,g=new q.RGBA;g.G=1;if(0>=a.ji){if(!a.ne)return g.m=a.ia,g.i=a.ia,g.f=a.ia,g;g.m=0;g.i=0;g.f=0;return g}c=a.ne;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ia*(1-a.ji);d=a.ia*(1-a.ji*e);e=a.ia*(1-a.ji*(1-e));switch(f){case 0:g.m=a.ia;g.i=e;g.f=c;break;case 1:g.m=d;g.i=a.ia;g.f=c;break;case 2:g.m=c;g.i=a.ia;g.f=e;break;case 3:g.m=c;g.i=d;g.f=a.ia;break;case 4:g.m=e;g.i=c;g.f=a.ia;break;default:g.m=a.ia,g.i=c,g.f=d}return g};q.Md.WD=function(a,c){return q.cx(a,c)};q.KL=q.Ba.extend({Cf:null,N:null,Lu:null,ctor:function(a,c,d){this.N=a;this.Cf=c;this.Lu=d},Q2:function(){return this.Cf},CS:function(){return this.N},u3:function(){return this.Lu},tT:function(a){if(this.N&&this.Cf)if("string"==typeof this.Cf)this.N[this.Cf](a,this.Lu);else this.Cf.call(this.N,a,this.Lu)}});q.BE=0;q.EE=1;q.CE=2;q.DE=3;q.zE=4;q.GE=5;q.FE=6;q.mM=7;q.AE=8;
q.cf=q.wb.extend({fb:!0,No:null,tF:null,Qk:!1,lf:null,Rh:null,Qh:null,eh:null,Gi:null,sj:null,Mh:null,vi:null,ui:null,wi:null,uj:null,ic:!1,cd:null,kg:null,Ji:0,fc:null,eo:null,$u:0,bv:0,av:0,Zu:0,xG:!1,ZA:!1,mb:!1,Ad:null,IK:function(){return this.mb},Mf:function(a,c){this.Ad.push({Zj:a,Yh:c})},Pd:function(){this.mb=!0;for(var a=this.Ad,c=0,d=a.length;c<d;c++){var e=a[c];e.Zj.call(e.Yh,this)}a.length=0},aw:function(){var a;a=this.$u;var c=this.bv,d=this.av,e=this.No,f=this.Zu;a=0===a&&0===c&&0===
d&&0===f?q.Zc():this.ZA?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.NV(a)},bQ:function(){if(this.Rh&&this.eh&&this.wi&&this.vi&&this.sj){var a=this.pa,c=this.Rh,d=this.eh,e=this.wi,f=this.vi,g=this.sj,h=this.sj.d(),k=c.d(),l=f.d(),m=a.Ea-k.width-d.d().width,a=a.oa-k.height-e.d().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!q.Da.Kc){var p=Math.round(k);k!=p&&(k=p,m=k/h.width);p=Math.round(n);n!=p&&(n=p,a=n/h.height)}g.Mp(m);g.rn(a);
var h=this.Gi,p=this.Mh,t=this.Qh,v=this.ui,z=q.a(0,0);f.O(z);e.O(z);c.O(z);d.O(z);h.O(z);p.O(z);t.O(z);v.O(z);g.O(z);f.l(0,0);e.l(r+k,0);c.l(0,l+n);d.l(r+k,l+n);h.l(0,l);h.rn(a);p.l(r+k,l);p.rn(a);v.l(r,0);v.Mp(m);t.l(r,l+n);t.Mp(m);g.l(r,l)}},ctor:function(){q.wb.prototype.ctor.call(this);this.No=q.Zc();this.tF=q.Zc();this.uj=q.vb();this.cd=new q.tk(0,0);this.kg=new q.tk(0,0);this.fc=q.vb();this.Ji=255;this.eo=q.Zc();this.Ad=[]},lS:function(){return this.cd},nS:function(){return this.kg},ik:function(a){this.U(a);
this.kg=a},Ti:function(){return this.Ji},da:function(a){if(this.lf){this.Ji=a;for(var c=this.lf.s,d=0;d<c.length;d++){var e=c[d];e&&e.fb&&e.da(a)}}},qd:function(){return this.fc},n:function(a){if(this.lf){this.fc=a;for(var c=this.lf.s,d=0;d<c.length;d++){var e=c[d];e&&e.fb&&e.n(a)}}},h3:function(){return this.eo},NV:function(a){if(this.lf){var c=this.pa,d=c.Ea,c=c.oa;this.Tp(this.lf,this.No,this.ZA,a);this.U(d,c)}},c4:function(){return this.$u},Y$:function(a){this.$u=a;this.aw()},e4:function(){return this.bv},
$$:function(a){this.bv=a;this.aw()},d4:function(){return this.av},Z$:function(a){this.av=a;this.aw()},b4:function(){return this.Zu},X$:function(a){this.Zu=a;this.aw()},U:function(a,c){2===arguments.length?q.B.prototype.U.call(this,a,c):q.B.prototype.U.call(this,a);this.Qk=!0},ma:function(a){this.Qk&&(this.bQ(),this.Qk=!1);q.wb.prototype.ma.call(this,a)},r:function(){return this.Iw(null,q.Zc(),!1,q.Zc())},Iw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.Tp(a,c,d,e);this.O(0.5,0.5);return this.Qk=
!0},Wi:function(a,c,d){a instanceof q.cg?(d=a=c,c=q.Zc()):(c=c||q.Zc(),d=d||q.Zc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.xa.e().Ix(a);if(!e){var e=q.xa.e().Ra(a),f=e.zg();(this.mb=f)||e.Mf(function(a){var c=this.kg,c=q.size(c.width,c.height);a=a.d();this.Tp(this.lf,q.rect(0,0,a.width,a.height),!1,this.eo);this.ik(c);this.Qk=!0;this.Pd()},this)}a=q.qb.create(a,9);return this.Iw(a,c,!1,d)},pe:function(a,c){if(!a||!a.$())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.Zc();var d=a.mb;(this.mb=d)||a.Mf(function(a){var c=this.kg,c=q.size(c.width,c.height);this.Tp(this.lf,a.ie(),q.Da.Kc?a.dd:!1,this.eo);this.ik(c);this.Qk=!0;this.Pd()},this);d=q.qb.ub(a.$(),9);return this.Iw(d,a.ie(),q.Da.Kc?a.dd:!1,c)},uI:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.Zc();var d=q.dg.e().oh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):
this.pe(d,c)},a$:function(a){var c=new q.cf;return c&&c.Iw(this.lf,this.No,!1,a)?c:null},xf:function(a){if(this.lf){this.ic=a;var c=this.lf.s;if(c)for(var d=0,e=c.length;d<e;d++)c[d].xf(a)}},jl:function(){return this.ic},Tp:function(a,c,d,e){var f=this.Ti(),g=this.qd();c=q.rect(c.x,c.y,c.width,c.height);this.pc(!0);this.lf!=a&&(this.lf=a);a=a.$();var h=a.zg();if(this.mb=h){a=this.lf;a.pc(!0);h=this.eo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.ZA=d;h=a.$();q.rr(c)&&(c=h.d(),c=q.rect(0,
0,c.width,c.height));var k=this.No=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.$a;this.cd.width=l.width;this.cd.height=l.height;k=this.kg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.tF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.rr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,p=m-(n+r),t=k.y,v=k.height,z=e-(t+v),D=0,C=0;e=q.rect(D,C,n,t);var D=D+n,k=q.rect(D,C,r,t),m=q.rect(D+r,C,p,t),D=0,C=0+t,l=
q.rect(D,C,n,v),D=D+n,Y=q.rect(D,C,r,v),D=D+r,L=q.rect(D,C,p,v),D=0,C=0+t+v,t=q.rect(D,C,n,z),D=D+n,n=q.rect(D,C,r,z),D=D+r,r=q.rect(D,C,p,z),p={G:1,f:0,za:0,Ha:1,Xa:0,Ya:0};if(d){d=Y;var z=r,D=t,C=m,v=e,Q=L,R=l,la=n,Z=k,p=q.Sx(p,c.height+c.x,c.y),p=q.eL(p),Y=q.Og(Y,p),r=q.Og(r,p),t=q.Og(t,p),m=q.Og(m,p);e=q.Og(e,p);L=q.Og(L,p);l=q.Og(l,p);n=q.Og(n,p);k=q.Og(k,p);d.x=Y.x;d.y=Y.y;z.x=r.x;z.y=r.y;D.x=t.x;D.y=t.y;C.x=m.x;C.y=m.y;v.x=e.x;v.y=e.y;Q.x=L.x;Q.y=L.y;R.x=l.x;R.y=l.y;la.x=n.x;la.y=n.y;Z.x=k.x;
Z.y=k.y;this.sj=new q.v;this.sj.Ia(h,d,!0);a.g(this.sj,0,q.BE);this.Qh=new q.v;this.Qh.Ia(h,Z,!0);a.g(this.Qh,1,q.EE);this.ui=new q.v;this.ui.Ia(h,la,!0);a.g(this.ui,1,q.zE);this.Gi=new q.v;this.Gi.Ia(h,R,!0);a.g(this.Gi,1,q.CE);this.Mh=new q.v;this.Mh.Ia(h,Q,!0);a.g(this.Mh,1,q.DE);this.Rh=new q.v;this.Rh.Ia(h,v,!0);a.g(this.Rh,2,q.FE);this.eh=new q.v;this.eh.Ia(h,C,!0);a.g(this.eh,2,q.GE);this.vi=new q.v;this.vi.Ia(h,D,!0);a.g(this.vi,2,q.AE);this.wi=new q.v;this.wi.Ia(h,z,!0)}else p=q.Sx(p,c.x,
c.y),q.qi(Y,p),q.qi(r,p),q.qi(t,p),q.qi(m,p),q.qi(e,p),q.qi(L,p),q.qi(l,p),q.qi(n,p),q.qi(k,p),this.sj=new q.v,this.sj.Ia(h,Y),a.g(this.sj,0,q.BE),this.Qh=new q.v,this.Qh.Ia(h,k),a.g(this.Qh,1,q.EE),this.ui=new q.v,this.ui.Ia(h,n),a.g(this.ui,1,q.zE),this.Gi=new q.v,this.Gi.Ia(h,l),a.g(this.Gi,1,q.CE),this.Mh=new q.v,this.Mh.Ia(h,L),a.g(this.Mh,1,q.DE),this.Rh=new q.v,this.Rh.Ia(h,e),a.g(this.Rh,2,q.FE),this.eh=new q.v,this.eh.Ia(h,m),a.g(this.eh,2,q.GE),this.vi=new q.v,this.vi.Ia(h,t),a.g(this.vi,
2,q.AE),this.wi=new q.v,this.wi.Ia(h,r);a.g(this.wi,2,q.mM);this.U(c.$a);this.g(a);this.xG&&(this.da(f),255===g.m&&255===g.i&&255===g.f||this.n(g));return this.xG=!0}a.Mf(function(){this.Qk=!0;this.Pd()},this)},yf:function(a){var c=q.qb.ub(a.$(),9),d=a.mb;(this.mb=d)||a.Mf(function(a){var c=this.kg,c=q.size(c.width,c.height);this.Tp(this.lf,a.ie(),q.Da.Kc?a.dd:!1,this.eo);this.ik(c);this.Qk=!0;this.Pd()},this);this.Tp(c,a.ie(),q.Da.Kc?a.dd:!1,q.Zc());this.Zu=this.av=this.bv=this.$u=0}});
q.cf.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.cf)&&e.Wi(a,c))return e}else{if(a instanceof q.cg&&(e=new q.cf)&&e.Wi(a,d))return e}else if(3===arguments.length){if((e=new q.cf)&&e.Wi(a,c,d))return e}else if(1===arguments.length){if((e=new q.cf)&&e.Wi(a))return e}else if(0===arguments.length&&(e=new q.cf)&&e.r())return e;return null};q.cf.nH=function(a,c){var d=new q.cf;return d&&d.pe(a,c)?d:null};
q.cf.oH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.cf;return d&&d.uI(a,c)?d:null};q.du=q.Lc.extend({});q.du.Gca=function(a){var c=new q.du;c.r();c.U(0,a);return c};q.du.x6=function(a){var c=new q.du;c.r();c.U(a,0);return c};
q.Qt=q.Lc.extend({fb:!0,fc:null,Ji:0,ctor:function(){},qd:function(){return this.fc},n:function(a){this.fc=a;if(this.s&&0<this.s.length)for(var c=0;c<this.s.length;c++)this.s[c]&&this.s[c].fb&&this.s[c].n(a)},Ti:function(){return this.Ji},da:function(a){this.Ji=a;if(this.s&&0<this.s.length)for(var c=0;c<this.s.length;c++)this.s[c]&&this.s[c].fb&&this.s[c].da(a)},eT:function(a,c){if(this.r()){var d=q.V.e().Nb;this.Vi(!0);this.O(0.5,0.5);this.U(d);this.l(d.width/2,d.height/2);d=0;if(a){this.g(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.g(c[e],d))}return!0}return!1},V0:function(){this.uQ(q.pL)},uQ:function(a){var c=-a,d;if(this.s&&0<this.s.length)for(d=0;d<this.s.length;d++)this.s[d]&&(c+=this.s[d].d().height*this.s[d].ya+a);var e=0,f=c/2;if(this.s&&0<this.s.length)for(d=0;d<this.s.length;d++)this.s[d]&&(e=Math.max(e,this.s[d].d().width),this.s[d].l(0,f-this.s[d].d().height*this.s[d].ya/2),f-=this.s[d].d().height*this.s[d].ya+a);this.U(e,c)},S0:function(){this.tQ(q.pL)},tQ:function(a){var c=
-a,d;if(this.s&&0<this.s.length)for(d=0;d<this.s.length;d++)this.s[d]&&(c+=this.s[d].d().width*this.s[d].qa+a);var e=0,f=-c/2;if(this.s&&0<this.s.length)for(d=0;d<this.s.length;d++)this.s[d]&&(e=Math.max(e,this.s[d].d().height),this.s[d].l(f+this.s[d].d().width*this.s[d].qa/2,0),f+=this.s[d].d().width*this.s[d].qa+a);this.U(c,e)},T0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.s&&0<this.s.length)for(d=0;d<this.s.length;d++)this.s[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.s[d].d().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.V.e().Nb,n=k=g=f=0,r=0,e=e/2;if(this.s&&0<this.s.length)for(d=0;d<this.s.length;d++)this.s[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.s[d].d().height,g=0|(g>=l||null==l?g:l),this.s[d].l(r-m.width/2,e-this.s[d].d().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},U0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.s&&0<this.s.length)for(d=0;d<this.s.length;d++)this.s[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.s[d].d().width,l=0|(l>=r||null==r?l:r),h+=0|this.s[d].d().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.V.e().Nb;l=k=0;n=null;var g=-g/2,p=0;if(this.s&&0<this.s.length)for(d=0;d<this.s.length;d++)this.s[d]&&(null==n&&(n=c[k],p=f[k]),r=this.s[d].d().width,l=0|(l>=r||null==r?l:r),this.s[d].l(g+e[k]/2,p-h.height/2),p-=this.s[d].d().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},xf:function(){},jl:function(){return!1}});q.Qt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.Qt)&&d.eT(a,c)?d:null};
q.Qt.P1=function(a){return q.Qt.create(a,null)};q.dy=q.Pb.extend({MA:0,Bu:0,zc:null,FO:null,vG:null,dh:null,nc:null,gg:0,rj:0,r5:function(){return this.MA},d3:function(){return this.Bu},PH:function(){return this.zc},R4:function(){return this.Bu},x5:function(){return this.vG},yS:function(){return this.dh},AS:function(){return this.nc},vC:function(a,c){return q.Pb.prototype.r.call(this)?(this.Rb(!0),this.zc=q.Md.Hm("colourPickerBackground.png",a,c,q.a(0,0)),this.FO=q.Md.Hm("colourPickerOverlay.png",a,c,q.a(0,0)),this.vG=q.Md.Hm("colourPickerShadow.png",
a,c,q.a(0,0)),this.dh=q.Md.Hm("colourPicker.png",a,c,q.a(0.5,0.5)),this.nc=c,this.gg=35,this.rj=this.zc.d().width/2,!0):!1},wf:function(a){q.Pb.prototype.wf.call(this,a);this.dh&&this.dh.da(a?255:128)},WK:function(a){var c=new q.ly;c.ji=1;c.ne=a.ne;c.ia=1;a=q.Md.Ay(c);this.zc.n(q.jw(0|255*a.m,0|255*a.i,0|255*a.f))},xX:function(a){a=q.a(this.nc.x+this.gg+this.rj*(1-a.ji),this.nc.y+this.gg+this.rj*a.ia);this.dw(a)},dw:function(a){var c=this.nc.x+0.5*this.zc.Va().width,d=this.nc.y+0.5*this.zc.Va().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.zc.Va().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.dh.l(a);a.x<this.nc.x+this.gg?a.x=this.nc.x+this.gg:a.x>this.nc.x+this.gg+this.rj-1&&(a.x=this.nc.x+this.gg+this.rj-1);a.y<this.nc.y+this.gg?a.y=this.nc.y+this.gg:a.y>this.nc.y+this.gg+this.rj&&(a.y=this.nc.y+this.gg+this.rj);this.MA=1-Math.abs((this.nc.x+this.gg-a.x)/this.rj);this.Bu=Math.abs((this.nc.y+this.gg-a.y)/this.rj)},xq:function(a){var c=this.nc.x+0.5*this.zc.Va().width,
d=this.nc.y+0.5*this.zc.Va().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.zc.Va().width?(this.dw(a),this.Ve(q.ni),!0):!1},hb:function(a){if(!this.isEnabled()||!this.sa)return!1;a=this.Ui(a);return this.xq(a)},hd:function(a){a=this.Ui(a);this.xq(a)}});q.dy.create=function(a,c){var d=new q.dy;d.vC(a,c);return d};q.cy=q.Pb.extend({vo:0,Zq:0,zc:null,dh:null,nc:null,W3:function(){return this.vo},nD:function(a){this.vo=a;this.eW(this.vo/360)},X3:function(){return this.Zq},eW:function(a){this.Zq=a;this.vo=360*this.Zq;a=this.zc.Va();var c=0.5*a.width-15,d=q.jj(360*this.Zq-180);this.dh.l(this.nc.x+0.5*a.width+c*Math.cos(d),this.nc.y+0.5*a.height+c*Math.sin(d))},wf:function(a){q.Pb.prototype.wf.call(this,a);this.dh&&this.dh.da(a?255:128)},PH:function(){return this.zc},yS:function(){return this.dh},AS:function(){return this.nc},
vC:function(a,c){return q.Pb.prototype.r.call(this)?(this.Rb(!0),this.zc=q.Md.Hm("huePickerBackground.png",a,c,q.a(0,0)),this.dh=q.Md.Hm("colourPicker.png",a,c,q.a(0.5,0.5)),this.dh.l(c.x,c.y+0.5*this.zc.Va().height),this.nc=c,this.Zq=this.vo=0,!0):!1},dw:function(a){var c=this.zc.Va();this.nD(q.yy(Math.atan2(a.y-(this.nc.y+0.5*c.height),a.x-(this.nc.x+0.5*c.width)))+180);this.Ve(q.ni)},xq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.dw(a),!0):!1},hb:function(a){if(!this.isEnabled()||
!this.sa)return!1;a=this.Ui(a);return this.xq(a)},hd:function(a){a=this.Ui(a);this.xq(a)}});q.cy.create=function(a,c){var d=new q.cy;d.vC(a,c);return d};q.fE=q.Pb.extend({Tg:null,Bk:null,bm:null,zc:null,bT:function(a){this.Tg.ne=a.vo;a=q.Md.Ay(this.Tg);q.Pb.prototype.n.call(this,q.jw(0|255*a.m,0|255*a.i,0|255*a.f));this.Ve(q.ni);this.ZP()},UQ:function(a){this.Tg.ji=a.MA;this.Tg.ia=a.Bu;a=q.Md.Ay(this.Tg);q.Pb.prototype.n.call(this,q.jw(0|255*a.m,0|255*a.i,0|255*a.f));this.Ve(q.ni)},n:function(a){q.Pb.prototype.n.call(this,a);var c=new q.RGBA;c.m=a.m/255;c.i=a.i/255;c.f=a.f/255;c.G=1;this.Tg=q.Md.GL(c);this.MG()},PH:function(){return this.zc},r:function(){if(q.Pb.prototype.r.call(this)){this.Rb(!0);
q.dg.e().cH(aa.UD);var a=q.qb.create(aa.VD);this.g(a);this.Tg=new q.ly(0,0,0);this.zc=q.Md.Hm("menuColourPanelBackground.png",a,q.lj(),q.a(0.5,0.5));var c=q.rd(this.zc.p,q.a(this.zc.d().width/2,this.zc.d().height/2));this.bm=q.cy.create(a,q.a(c.x+8,c.y+8));this.Bk=q.dy.create(a,q.a(c.x+28,c.y+28));this.bm.dH(this,this.bT,q.ni);this.Bk.dH(this,this.UQ,q.ni);this.MG();this.g(this.bm);this.g(this.Bk);this.U(this.zc.d());return!0}return!1},ZP:function(){this.bm.nD(this.Tg.ne);this.Bk.WK(this.Tg)},MG:function(){this.bm.nD(this.Tg.ne);
this.Bk.WK(this.Tg);this.Bk.xX(this.Tg)},wf:function(a){q.Pb.prototype.wf.call(this,a);null!=this.bm&&this.bm.wf(a);this.Bk&&this.Bk.wf(a)},hb:function(){return!1}});q.fE.create=function(){var a=new q.fE;a.r();return a};aa=aa||{};aa.UD=aa.UD||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.VD=aa.VD||"res/extensions/CCControlColourPickerSpriteSheet.png";q.NE=24;q.c_=8;
q.hE=q.Pb.extend({Oc:0,cb:0,Bb:0,rv:0,pv:0,Cb:null,Rk:null,Od:null,dI:function(){return this.Oc},Xe:function(a){a=Math.max(a,this.cb);this.Oc=a=Math.min(a,this.Bb);this.Vc();this.Ve(q.ni)},hS:function(){return this.cb},YJ:function(a){this.rv=this.cb=a;this.cb>=this.Bb&&(this.Bb=this.cb+1);this.Xe(this.Oc)},gS:function(){return this.Bb},WJ:function(a){this.pv=this.Bb=a;this.Bb<=this.cb&&(this.cb=this.Bb-1);this.Xe(this.Oc)},di:function(a){a=a.J;a=this.getParent().Aa(a);var c=this.Va();c.$a.width+=
this.Cb.d().width;c.bd.x-=this.Cb.d().width/2;return q.pb(c,a)},Um:function(a){a=a.J;a=this.Aa(a);0>a.x?a.x=0:a.x>this.Od.d().width&&(a.x=this.Od.d().width);return a},u4:function(){return this.rv},jaa:function(a){this.rv=a},r4:function(){return this.pv},iaa:function(a){this.pv=a},aI:function(){return this.Cb},b5:function(){return this.Rk},X2:function(){return this.Od},jT:function(a,c,d){return q.Pb.prototype.r.call(this)?(this.Vi(!1),this.Rb(!0),this.Od=a,this.Rk=c,this.Cb=d,a=q.Md.WD(a.Va(),d.Va()),
this.U(a.width,a.height),this.Od.O(0.5,0.5),this.Od.l(a.width/2,a.height/2),this.g(this.Od),this.Rk.O(0,0.5),this.Rk.l(0,a.height/2),this.g(this.Rk),this.Cb.l(0,a.height/2),this.g(this.Cb),this.cb=0,this.Bb=1,this.Xe(this.cb),!0):!1},wf:function(a){q.Pb.prototype.wf.call(this,a);this.Cb&&this.Cb.da(a?255:128)},gX:function(a){this.Np(!0);this.Cb.n(q.pp());this.Xe(this.MD(a))},iX:function(a){this.Xe(this.MD(a))},hX:function(){this.Lo&&this.Xe(this.MD(this.Cb.p));this.Cb.n(q.vb());this.Np(!1)},X5:function(a){a=
a.J;a=this.Aa(a);0>a.x?a.x=0:a.x>this.Od.d().width+q.NE&&(a.x=this.Od.d().width+q.NE);return a},hb:function(a){if(!this.di(a)||!this.isEnabled()||!this.sa)return!1;a=this.Um(a);this.gX(a);return!0},hd:function(a){a=this.Um(a);this.iX(a)},uf:function(){this.hX(q.lj())},Vc:function(){this.Cb.dc((this.Oc-this.cb)/(this.Bb-this.cb)*this.Od.d().width);var a=this.Rk.eC(),a=q.rect(a.x,a.y,this.Cb.p.D,a.height);this.Rk.Jb(a,this.Rk.Rc,a.$a)},MD:function(a){a=a.x/this.Od.d().width;return Math.max(Math.min(this.cb+
a*(this.Bb-this.cb),this.pv),this.rv)}});q.hE.create=function(a,c,d){"string"==typeof a&&(a=q.v.create(a),c=q.v.create(c),d=q.v.create(d));var e=new q.hE;e.jT(a,c,d);return e};q.jE=q.Pb.extend({Sc:null,KF:0,lr:!1,Ho:!1,ctor:function(){q.Pb.prototype.ctor.call(this)},sC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.Rb(!0),this.Ho=!0,this.Sc=new q.oL,
this.Sc.sC(a,c,d,e,f,g),this.Sc.l(this.Sc.d().width/2,this.Sc.d().height/2),this.g(this.Sc),this.Vi(!1),this.O(0.5,0.5),this.U(this.Sc.d()),!0):!1},qx:function(a,c){var d=(this.Ho=a)?this.Sc.Nk:this.Sc.fm;c?this.Sc.gx(q.En.create(0.2,"sliderXPosition",this.Sc.Mj,d)):this.Sc.pD(d);this.Ve(q.ni)},k7:function(){return this.Ho},u6:function(){return this.lr},wf:function(a){this.Oq=a;this.Sc.da(a?255:128)},Um:function(a){a=a.J;return a=this.Aa(a)},hb:function(a){if(!this.di(a)||!this.isEnabled()||!this.sa)return!1;
this.lr=!1;this.KF=this.Um(a).x-this.Sc.Mj;this.Sc.Cb.n(q.pp());this.Sc.Vc();return!0},hd:function(a){a=this.Um(a);a=q.a(a.x-this.KF,0);this.lr=!0;this.Sc.pD(a.x)},uf:function(a){a=this.Um(a);this.Sc.Cb.n(q.vb());this.lr?this.qx(!(a.x<this.Sc.d().width/2),!0):this.qx(!this.Ho,!0)},ek:function(a){a=this.Um(a);this.Sc.Cb.n(q.vb());this.lr?this.qx(!(a.x<this.Sc.d().width/2),!0):this.qx(!this.Ho,!0)}});q.jE.create=function(a,c,d,e,f,g){var h=new q.jE;return h&&h.sC(a,c,d,e,f,g)?h:null};
q.oL=q.v.extend({Mj:0,Nk:0,fm:0,BG:0,jA:0,kA:null,Xg:null,Ii:null,Cb:null,gm:null,em:null,lo:null,jc:null,zu:null,ctor:function(){q.v.prototype.ctor.call(this);this.jA=this.fm=this.Nk=this.Mj=0;this.kA=q.size(0,0);this.em=this.gm=this.Cb=this.Ii=this.Xg=null},sC:function(a,c,d,e,f,g){return q.v.prototype.Ia.call(this,a.$())?(this.Nk=0,this.fm=-c.d().width+e.d().width/2,this.Mj=this.Nk,this.vW(c),this.tW(d),this.rD(e),this.uW(f),this.sW(g),this.jc=a,a=this.kA=this.jc.d(),this.jc.l(0,0),this.lo=q.kb.create(),
this.lo.O(0.5,0.5),this.lo.l(a.width/2,a.height/2),this.lo.qD(this.jc),this.zu=q.xb.create(a.width,a.height),this.lo.g(this.zu.lb),this.g(this.lo),this.g(this.Cb),this.Vc(),!0):!1},Vc:function(){this.Xg.l(this.Xg.d().width/2+this.Mj,this.Xg.d().height/2);this.Ii.l(this.Xg.d().width+this.Ii.d().width/2+this.Mj,this.Ii.d().height/2);this.gm&&this.gm.l(this.Xg.p.x-this.Cb.d().width/6,this.Xg.d().height/2);this.em&&this.em.l(this.Ii.p.x+this.Cb.d().width/6,this.Ii.d().height/2);this.Cb.l(this.Xg.d().width+
this.Mj,this.kA.height/2);this.zu.Uj();this.Xg.ma();this.Ii.ma();this.gm&&this.gm.ma();this.em&&this.em.ma();this.zu.end()},pD:function(a){a<=this.fm?a=this.fm:a>=this.Nk&&(a=this.Nk);this.Mj=a;this.Vc()},A5:function(){return this.Mj},D8:function(){return this.Xg.d().width},B8:function(){return this.Ii.d().height},KD:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.pD(a)},saa:function(a){this.Nk=a},L4:function(){return this.Nk},paa:function(a){this.fm=a},F4:function(){return this.fm},gaa:function(a){this.jc.ja(a)},
l4:function(){return this.jc.$()},cba:function(a){this.BG=a},N5:function(){return this.BG},faa:function(a){this.jA=a},k4:function(){return this.jA},vW:function(a){this.Xg=a},M4:function(){return this.Xg},tW:function(a){this.Ii=a},G4:function(){return this.Ii},rD:function(a){this.Cb=a},aI:function(){return this.Cb},uW:function(a){this.gm=a},K4:function(){return this.gm},sW:function(a){this.em=a},E4:function(){return this.em}});q.cE=0;q.dE=1;q.lt=2;q.Wp=q.k(55,55,55);q.Zx=q.k(147,147,147);q.bE="CourierNewPSMT";q.SD=0.15;q.cL=12;
q.iE=q.Pb.extend({Bd:null,hf:null,Mk:null,Pk:null,Oc:0,Aq:!1,Wn:!1,Dm:!1,cb:0,Bb:0,sm:0,Or:!1,ym:q.lt,tq:0,ctor:function(){q.Pb.prototype.ctor.call(this);this.Pk=this.Mk=this.hf=this.Bd=null;this.Oc=0;this.Dm=this.Wn=this.Aq=!1;this.sm=this.Bb=this.cb=0;this.Or=!1;this.ym=q.lt;this.tq=0},gT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.Rb(!0);this.Aq=this.Wn=!0;this.cb=0;this.Bb=100;this.Oc=0;this.sm=1;this.Dm=!1;this.Vi(!1);this.oW(a);this.Bd.l(a.d().width/2,a.d().height/2);this.g(this.Bd);this.nW(q.S.create("-",q.bE,40,q.size(40,40),q.oj,q.pu));this.Mk.n(q.Zx);this.Mk.l(this.Bd.d().width/2,this.Bd.d().height/2);this.Bd.g(this.Mk);this.zW(c);this.hf.l(a.d().width+c.d().width/2,a.d().height/2);this.g(this.hf);this.yW(q.S.create("+",q.bE,40,q.size(40,40),q.oj,q.pu));this.Pk.n(q.Wp);this.Pk.l(this.hf.d().width/2,
this.hf.d().height/2);this.hf.g(this.Pk);var d=q.Md.WD(this.Bd.Va(),this.hf.Va());this.U(this.Bd.d().width+this.hf.d().height,d.$a.height);return!0}return!1},rba:function(a){if(this.Dm=a)this.Mk.n(q.Wp),this.Pk.n(q.Wp);this.Xe(this.Oc)},YJ:function(a){if(a>=this.Bb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.cb=a;this.Xe(this.Oc)},WJ:function(a){if(a<=this.cb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Bb=a;this.Xe(this.Oc)},Xe:function(a){this.vD(a,!0)},dI:function(){return this.Oc},Xaa:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.sm=a},W6:function(){return this.Aq},vD:function(a,c){a<this.cb?a=this.Dm?this.Bb:this.cb:a>this.Bb&&(a=this.Dm?this.cb:this.Bb);this.Oc=a;this.Dm||(this.Mk.n(a==this.cb?q.Zx:q.Wp),this.Pk.n(a==this.Bb?q.Zx:q.Wp));c&&this.Ve(q.ni)},AK:function(){this.tq=-1;this.qc(this.update,q.SD,q.Ll,3*q.SD)},
CK:function(){this.ud(this.update)},update:function(){this.tq++;this.tq<q.cL&&0!=this.tq%3||(this.ym==q.cE?this.vD(this.Oc-this.sm,this.Aq):this.ym==q.dE&&this.vD(this.Oc+this.sm,this.Aq))},OK:function(a){a.x<this.Bd.d().width&&this.Oc>this.cb?(this.ym=q.cE,this.Bd.n(q.pp()),this.hf.n(q.vb())):a.x>=this.Bd.d().width&&this.Oc<this.Bb?(this.ym=q.dE,this.Bd.n(q.vb()),this.hf.n(q.pp())):(this.ym=q.lt,this.Bd.n(q.vb()),this.hf.n(q.vb()))},hb:function(a){if(!this.di(a)||!this.isEnabled()||!this.sa)return!1;
a=this.Ui(a);this.OK(a);this.Or=!0;this.Wn&&this.AK();return!0},hd:function(a){this.di(a)?(a=this.Ui(a),this.OK(a),this.Or||(this.Or=!0,this.Wn&&this.AK())):(this.Or=!1,this.ym=q.lt,this.Bd.n(q.vb()),this.hf.n(q.vb()),this.Wn&&this.CK())},uf:function(a){this.Bd.n(q.vb());this.hf.n(q.vb());this.Wn&&this.CK();this.di(a)&&(a=this.Ui(a),this.Xe(this.Oc+(a.x<this.Bd.d().width?0-this.sm:this.sm)))},oW:function(a){this.Bd=a},w4:function(){return this.Bd},zW:function(a){this.hf=a},W4:function(){return this.hf},
nW:function(a){this.Mk=a},v4:function(){return this.Mk},yW:function(a){this.Pk=a},V4:function(){return this.Pk}});q.iE.create=function(a,c){var d=new q.iE;return d&&d.gT(a,c)?d:null};q.gE=q.Pb.extend({Cb:null,Jo:null,Io:null,Oc:0,cb:0,Bb:1,mT:function(a,c,d){return this.r()?(this.Rb(!0),this.EW(c),this.rD(d),this.Cb.l(c.p),this.g(d,2),this.g(c,1),this.g(a),this.U(a.d()),this.cb=0,this.Bb=1,this.Xe(this.cb),!0):!1},wf:function(a){this.wf(a);this.Cb!=NULL&&this.Cb.da(a?255:128)},Xe:function(a){a<this.cb&&(a=this.cb);a>this.Bb&&(a=this.Bb);this.Oc=a;a=(a-this.cb)/(this.Bb-this.cb);this.Jo.Ps(100*a);this.Cb.tx(360*a);this.Ve(q.ni)},dI:function(){return this.Oc},YJ:function(a){this.cb=
a;this.cb>=this.Bb&&(this.Bb=this.cb+1);this.Xe(this.Bb)},hS:function(){return this.cb},WJ:function(a){this.Bb=a;this.Bb<=this.cb&&(this.cb=this.Bb-1);this.Xe(this.cb)},gS:function(){return this.Bb},di:function(a){a=this.Ui(a);return this.yR(this.Jo.p,a)<Math.min(this.d().width/2,this.d().height/2)},hb:function(a){if(!this.di(a)||!this.isEnabled()||!this.sa)return!1;this.Io=this.Ui(a);this.xU(this.Io);return!0},hd:function(a){a=this.Ui(a);this.zU(a)},uf:function(){this.yU(q.a(0,0))},yR:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},wQ:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},xU:function(){this.Np(!0);this.Cb.n(q.pp())},zU:function(a){var c=this.wQ(this.Jo.p,a,this.Jo.p,this.Io);180<c?c-=360:-180>c&&(c+=360);this.Xe(this.Oc+c/360*(this.Bb-this.cb));this.Io=a},yU:function(){this.Cb.n(q.vb());this.Np(!1)},rD:function(a){this.Cb=a},aI:function(){return this.Cb},EW:function(a){this.Jo=a},c5:function(){return this.Jo},Daa:function(a){this.Io=
a},oS:function(){return this.Io}});q.gE.create=function(a,c,d){var e=new q.gE;return e&&(a=q.v.create(a),d=q.v.create(d),c=q.xc.create(q.v.create(c)),e.mT(a,c,d))?e:null};q.LE=-1;q.Nn=0;q.cq=1;q.$t=2;q.aR=function(a){var c=q.na.e();return(c.qa+c.ya)/2*a/160};q.yM=q.Ba.extend({zV:function(){},AV:function(){}});
q.Ch=q.Lc.extend({B0:0,l0:0,j0:0,Sb:null,Bi:q.$t,Di:!1,IN:null,Na:null,fh:!1,nv:null,qv:null,vq:!1,yq:!1,tr:null,Xo:null,Pr:0,gh:null,Uh:null,ZF:0,XF:0,nr:null,NA:!1,CG:null,ctor:function(){q.Lc.prototype.ctor.call(this);this.IN=new q.Ng(0,0);this.nv=new q.Ng(0,0);this.qv=new q.Ng(0,0);this.tr=new q.Ng(0,0);this.Xo=new q.Ng(0,0);this.gh=[];this.Uh=new q.tk(0,0);this.nr=new q.cg(0,0,0,0);this.CG=new q.cg(0,0,0,0)},r:function(){return this.tp(q.size(200,200),null)},dx:function(){q.WC(this.Yk,!1,this)},
tp:function(a,c){var d=q.a(0,0);return q.Lc.prototype.r.call(this)?(this.Na=c,this.Na||(this.Na=q.Lc.create(),this.Na.Vi(!1),this.Na.O(d)),this.lK(a),this.Rb(!0),this.gh.length=0,this.Sb=null,this.yq=this.vq=!0,this.Bi=q.$t,this.Na.l(d),this.Pr=0,this.g(this.Na),this.ZF=this.XF=1,!0):!1},vl:function(a,c){if(c)this.RV(a,0.15);else{if(!this.vq){var d=this.Vm(),e=this.Cs();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Na.l(a)}},RH:function(){var a=this.Na.p;return q.a(a.x,
a.y)},RV:function(a,c){var d=q.Rt.create(c,a),e=q.Xp.create(this.NP,this);this.Na.gx(q.mj.create(d,e));this.qc(this.rA)},qK:function(a,c){if(c)this.VW(a,0.15);else{var d=this.Na;if(d.aC()!=a){var e,f;0==this.Pr?(f=this.Uh,f=q.a(0.5*f.width,0.5*f.height),f=this.bl(f)):f=this.Xo;e=d.Aa(f);d.jk(Math.max(this.ZF,Math.min(this.XF,a)));e=d.bl(e);f=q.rd(f,e);this.vl(q.Vf(d.p,f))}}},fI:function(){return this.Na.aC()},VW:function(a,c){if(0<c){var d=this.Na.aC();d!=a&&(d=q.En.create(c,"zoomScale",d,a),this.gx(d))}else this.qK(a)},
Vm:function(){var a=this.Na,c=a.d(),d=this.Uh;return q.a(d.width-c.width*a.qa,d.height-c.height*a.ya)},Cs:function(){return q.a(0,0)},j7:function(a){var c=this.RH(),d=this.Uh,e=this.fI(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.LU(c,a.Va())},pause:function(){this.Na.Ww();for(var a=this.Na.s,c=0;c<a.length;c++)a[c].Ww()},wJ:function(){for(var a=this.Na.s,c=0,d=a.length;c<d;c++)a[c].fx();this.Na.fx()},Z6:function(){return this.Di},B7:function(){return this.fh},S6:function(){return this.vq},
LV:function(a){this.vq=a},j6:function(){return this.Uh},lK:function(a){this.Uh=a;q.B.prototype.U.call(this,a)},r3:function(){return this.Na},PV:function(a){a&&(this.pc(!0),this.Na=a,a.Vi(!1),a.O(0,0),this.g(a),this.lK(this.Uh))},F3:function(){return this.Bi},LJ:function(a){this.Bi=a},bc:function(){return this.Sb},wh:function(a){this.Sb=a},hb:function(a){if(!this.sa)return!1;var c=this.Zz(),d=this.Na,e=d.bl(d.Wh(a)),f=this.gh;if(2<f.length||this.fh||!q.pb(c,e))return!1;f.push(a);1===f.length?(this.Xo=
this.Wh(a),this.fh=!1,this.Di=!0,this.tr.x=0,this.Pr=this.tr.y=0):2==f.length&&(this.Xo=q.NC(this.Wh(f[0]),this.Wh(f[1])),this.Pr=q.KC(d.Wh(f[0]),d.Wh(f[1])),this.Di=!1);return!0},hd:function(a){if(this.sa)if(1===this.gh.length&&this.Di){this.fh=!0;var c=this.Zz(),d=this.Wh(a);a=q.rd(d,this.Xo);var e=0,f=this.Bi,e=f===q.cq?a.y:f===q.Nn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.fh||!(0.04375>Math.abs(q.aR(e))))if(this.fh||(a.x=0,a.y=0),this.Xo=d,this.fh=!0,q.pb(c,this.bl(d))){switch(f){case q.cq:a.x=
0;break;case q.Nn:a.y=0}d=this.Na.p;c=d.x+a.x;d=d.y+a.y;this.tr=a;this.vl(q.a(c,d))}}else 2!==this.gh.length||this.Di||(a=q.KC(this.Na.Wh(this.gh[0]),this.Na.Wh(this.gh[1])),this.qK(this.fI()*a/this.Pr))},uf:function(){this.sa&&(1==this.gh.length&&this.fh&&this.qc(this.yz),this.gh.length=0,this.fh=this.Di=!1)},ek:function(){this.sa&&(this.gh.length=0,this.fh=this.Di=!1)},U:function(a,c){null!=this.Na&&(2===arguments.length?this.Na.U(a,c):this.Na.U(a),this.yX())},d:function(){return this.Na.d()},yX:function(){if(null!=
this.Na){var a=this.Uh,c=this.Cs();this.nv.x=c.x+0.2*a.width;this.nv.y=c.y+0.2*a.height;c=this.Vm();this.qv.x=c.x-0.2*a.width;this.qv.y=c.y-0.2*a.height}},U6:function(){return this.yq},z$:function(a){this.yq=a},ma:function(a){if(this.sa){a=a||q.T;var c,d=this.s,e,f;if(q.td===q.$f){a.save();this.transform(a);this.nF(a);if(d&&0<d.length){f=d.length;this.Hd();for(c=0;c<f;c++)if((e=d[c])&&0>e.bb)e.ma(a);else break;for(this.Ta(a);c<f;c++)d[c].ma(a)}else this.Ta(a);this.lF();a.restore()}else{q.zp();var g=
this.Gk;g&&g.vp()&&(g.EB(),this.Lx());this.transform(a);this.nF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.bb)e.ma();else break;for(this.Ta(a);c<f;c++)d[c].ma()}else this.Ta(a);this.lF(a);g&&g.vp()&&g.AB(this);q.yp()}}},g:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.bb;d=d||a.fd;a.Vi(!1);a.O(0,0);this.Na!=a?this.Na.g(a,c,d):q.Lc.prototype.g.call(this,a,c,d)},Rb:function(a){this._super(a);a||(this.fh=this.Di=!1,this.gh.length=0)},f0:function(){return null},
PO:function(a){var c=this.Vm(),d=this.Cs(),e=this.Bi,f=this.Na.p,g=f.x,h=f.y;if(e===q.$t||e===q.Nn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.$t||e==q.cq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.vl(q.a(g,h),a)},yz:function(){if(this.Di)this.ud(this.yz);else{var a,c;a=this.Na.p;var d=this.tr;this.Na.l(a.x+d.x,a.y+d.y);this.vq?(a=this.nv,c=this.qv):(a=this.Cs(),c=this.Vm());var e=this.Na.p.D,f=this.Na.p.I;d.x*=0.95;d.y*=0.95;this.vl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.ud(this.yz),this.PO(!0)}},rA:function(){this.Di&&this.ud(this.rA)},NP:function(){this.ud(this.rA)},nF:function(a){if(this.yq){this.NA=!1;var c=this.Zz(),d=q.na.e(),e=this.qa,f=this.ya;a=a||q.T;if(q.td===q.$f)c=this.Uh.width*e*d.qa,d=this.Uh.height*f*d.ya,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.na.e(),d.xT()){if(this.NA=!0,this.nr=d.vS(),q.KU(c,this.nr)){var g=this.nr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.oD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.oD(c.x,c.y,c.width,c.height)}},lF:function(a){this.yq&&q.td===q.uk&&(this.NA?(a=this.nr,q.na.e().oD(a.x,a.y,a.width,a.height)):(a=a||q.T,a.disable(a.SCISSOR_TEST)))},d0:function(){},Zz:function(){for(var a=this.bl(q.lj()),c=this.Uh,d=this.qa,e=this.ya,f=this.X;null!=f;f=f.getParent())d*=f.qa,e*=f.ya;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.CG;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Ch.create=function(a,c){var d=new q.Ch;if(2==arguments.length){if(d&&d.tp(a,c))return d}else if(d&&d.r())return d;return null};q.zM=q.Ba.extend({px:function(){},ai:function(){return 0}});q.AM=q.zM.extend({mA:0,ctor:function(){this.mA=0},px:function(a){this.mA=a},ai:function(){return this.mA}});function ja(a,c){return a.ai()-c.ai()}
q.Vx=q.Ba.extend({ah:null,ctor:function(){this.ah=[]},xI:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.pT(a,this.sp(a))},hV:function(a){if(0!=this.count()){var c=this.sp(a);c<this.count()&&c!=q.pi&&this.Ym(c).ai()==a.ai()&&this.$C(c)}},oaa:function(a,c){var d=this.sp(c);if(d<this.count()&&d!=q.pi){var e=this.Ym(d);e.ai()==c.ai()&&(this.$C(d),e.px(a),this.xI(e))}},TI:function(a){if(0==this.count())return null;var c=new q.AM;c.px(a);var d=
this.sp(c);d<this.count()&&d!=q.pi&&(c=this.Ym(d),c.ai()!=a&&(c=null));return c},D4:function(){return null},sp:function(a){var c=0;if(a){var d=0;a=a.ai();for(var e=this.ah,f=0;f<e.length;f++){var g=e[f].ai();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.pi;return c},count:function(){return this.ah.length},T7:function(){var a=this.ah;return 0==a.length?null:a[a.length-1]},Ym:function(a){return this.ah[a]},bH:function(a){this.ah.push(a);this.ah.sort(ja)},$C:function(a){q.Vp(this.ah,a);this.ah.sort(ja)},
pT:function(a,c){this.ah=q.Fl(this.ah,a,c);this.ah.sort(ja)}});q.PE=0;q.CM=1;q.l_=q.B.extend({Ej:0,a4:function(){return this.Ej},gW:function(a){this.Ej=a},reset:function(){this.Ej=q.pi},px:function(a){this.Ej=a},ai:function(){return this.Ej}});q.n_=q.yM.extend({aca:function(){},$ba:function(){},bca:function(){},cca:function(){}});q.m_=q.Ba.extend({pX:function(a){return this.HQ(a)},HQ:function(){return q.vM},Zba:function(){return null},y8:function(){return 0}});
q.YE=q.Ch.extend({Zo:null,md:null,fo:null,xz:null,gB:null,uv:null,Du:null,Pj:null,ctor:function(){q.Ch.prototype.ctor.call(this);this.uv=q.LE;this.Du=[]},VM:function(a){var c=0,d=-1;switch(this.Bi){case q.Nn:a=a.x;break;default:a=a.y}for(var e=this.Du;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},aO:function(a){a={x:a.x,y:a.y};this.Zo===q.PE&&(a.y=this.Na.d().height-a.y);a=this.VM(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.pi));return a},YM:function(a){switch(this.Bi){case q.Nn:a=
q.a(this.Du[a],0);break;default:a=q.a(0,this.Du[a])}return a},EO:function(a){var c=this.YM(a);a=this.xz.pX(this,a);this.Zo===q.PE&&(c.y=this.Na.d().height-c.y-a.height);return c},y0:function(){},kB:function(){var a=q.Ml();this.U(a);this.uv!=this.Bi&&(this.Bi==q.Nn?this.vl(q.a(0,0)):this.vl(q.a(0,this.Vm().y)),this.uv=this.Bi)},$F:function(a){this.fo.bH(a);this.Ak.hV(a);q.Jd(this.md,a.Ej);a.reset();a.getParent()==this.Na&&this.Na.removeChild(a,!0)},Fv:function(a,c){c.O(0,0);c.l(this.EO(a));c.gW(a)},
jF:function(a){a.getParent()!=this.Na&&this.Na.g(a);this.Ak.xI(a);var c=this.md;a=a.Ej;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},x3:function(){return this.xz},VV:function(a){this.xz=a},bc:function(){return this.gB},wh:function(a){this.gB=a},oba:function(a){this.Zo!=a&&(this.Zo=a,0<this.Ak.count()&&this.ZC())},g6:function(){return this.Zo},tp:function(a,c){return q.Ch.prototype.tp.call(this,a,c)?(this.Ak=new q.Vx,this.fo=new q.Vx,this.md=[],this.gB=null,this.Zo=q.CM,this.LJ(q.cq),
q.Ch.prototype.wh.call(this,this),!0):!1},vca:function(a){if(!(a==q.pi||-1<a)){var c=this.HB(a);c&&this.$F(c);c=null;this.Fv(a,c);this.jF(c)}},I6:function(a){if(!(a==q.pi||-1<a)){var c,d=this.Ak;if(c=d.TI(a))for(var e=c=d.sp(c);e<d.count();e++)c=d.Ym(e),this.Fv(c.Ej+1,c);c=null;this.Fv(a,c);this.jF(c);this.kB()}},L9:function(a){if(!(a==q.pi||-1<a)){var c=this.HB(a);if(c){var d=this.Ak,e=d.sp(c);this.$F(c);q.Jd(this.md,a);for(a=d.count()-1;a>e;a--)c=d.Ym(a),this.Fv(c.Ej-1,c)}}},ZC:function(){this.uv=
q.LE;for(var a=this.Ak,c=this.fo,d=this.Na,e=0,f=a.count();e<f;e++){var g=a.Ym(e);c.bH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.md=[];this.Ak=new q.Vx;this.kB()},W1:function(){if(0===this.fo.count())return null;var a=this.fo.Ym(0);this.fo.$C(0);return a},HB:function(a){return-1==this.md.indexOf(a)?null:this.Ak.TI(a)},zV:function(){},AV:function(){},uf:function(a,c){if(this.sa){if(this.Pj){var d=this.Va();d.bd=this.X.bl(d.origin);this.Pj=null}q.Ch.prototype.uf.call(this,a,c)}},hb:function(a,
c){if(!this.sa)return!1;var d=q.Ch.prototype.hb.call(this,a,c);if(1===this.gh.length){var e;e=this.Na.Wh(a);e=this.aO(e);this.Pj=e===q.pi?null:this.HB(e)}else this.Pj&&(this.Pj=null);return d},hd:function(a,c){q.Ch.prototype.hd.call(this,a,c);this.Pj&&this.fh&&(this.Pj=null)},ek:function(a,c){q.Ch.prototype.ek.call(this,a,c);this.Pj&&(this.Pj=null)}});q.YE.create=function(a,c,d){var e=new q.YE;e.tp(c,d);e.VV(a);e.kB();return e};q.ec={};q.ec.ZG=function(a){for(var c in q.ec.EC)a[c]=q.ec.EC[c]};
q.ec.EC={l:function(a,c){2==arguments.length?(this.p.D=a,this.p.I=c):(this.p.D=a.x,this.p.I=a.y);this.Ua();this.ha.GD(this.p.D,-this.p.I)},We:function(a){this.p.I=a;this.Ua();this.ha.GD(this.p.D,-this.p.I)},dc:function(a){this.p.D=a;this.Ua();this.ha.GD(this.p.D,-this.p.I)},jk:function(a,c){this.qa=a;this.ya=c||a;this.Ua();this.ha.resize(this.qa,this.ya)},Mp:function(a){this.qa=a;this.Ua();this.ha.resize(this.qa,this.ya)},rn:function(a){this.ya=a;this.Ua();this.ha.resize(this.qa,this.ya)},O:function(a,
c){var d=this.Eh;if(2===arguments.length){if(a===d.D&&c===d.I)return;d.D=a;d.I=c}else{if(a.x===d.D&&a.y===d.I)return;d.D=a.x;d.I=a.y}var e=this.zd,f=this.pa;e.D=f.Ea*d.D;e.I=f.oa*d.I;this.ha.style[q.Kb.Hp+"TransformOrigin"]=""+e.D+"px "+-e.I+"px";this.Jk?(this.ha.style.marginLeft=0,this.ha.style.marginBottom=0):(this.ha.style.marginLeft=this.z7?0:-e.D+"px",this.ha.style.marginBottom=-e.I+"px");this.Ua()},U:function(a,c){var d=this.pa;if(2===arguments.length){if(a===d.Ea&&c===d.oa)return;d.Ea=a;d.oa=
c}else{if(a.width===d.Ea&&a.height===d.oa)return;d.Ea=a.width;d.oa=a.height}var e=this.zd,f=this.Eh;e.D=d.Ea*f.D;e.I=d.oa*f.I;this.ha.width=d.Ea;this.ha.height=d.oa;this.O(this.Eh);this.canvas&&(this.canvas.width=d.Ea,this.canvas.height=d.oa);this.Ua();this.MU()},tx:function(a){this.dP!=a&&(this.og=this.Nh=a,this.lm=Math.PI/180*this.og,this.sr=Math.PI/180*this.Nh,this.Ua(),this.ha.rotate(a))},xx:function(a){this.Yd=a;this.Ua();this.ha.fK(this.Yd,this.Zd)},yx:function(a){this.Zd=a;this.Ua();this.ha.fK(this.Yd,
this.Zd)},C:function(a){this.sa=a;this.Ua();this.ha&&(this.ha.style.display=a?"block":"none")},Iv:function(a){this.bb=a;this.Ua();this.ha&&(this.ha.zIndex=a)},Os:function(a){this.X=a;null!==a&&(a.O(a.Eh),this.Ua(),q.ec.Vw(this))},fx:function(){this.qf().kn(this);this.ug().kn(this);this.ha&&!this.ha.parentNode&&(this.getParent()?q.ec.Vw(this):this.ha.Im(q.Wj));this.ha&&(this.ha.style.visibility="visible")},Ww:function(){this.qf().Hs(this);this.ug().Hs(this);this.ha&&(this.ha.style.visibility="hidden")},
Of:function(){this.BD();this.Zs();this.fg(this.s,q.B.Bf.Of);this.ha&&this.ha.remove()},dV:function(){this.ha.remove()},da:function(a){this.Ji=a;this.ha.style.opacity=a/255},MU:function(){if(this.Ow){var a=this.s;this.s=[];q.v.prototype.ma.call(this,this.fp);this.s=a}else q.v.prototype.ma.call(this,this.fp)}};
q.ec.$O=function(){var a=q.Kb("#EGLViewDiv");if(a){var c=q.na.e(),d=c.kp(),e=c.Ne,f=c.zw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.$a.width;0===e.$a.width&&0===e.$a.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.qa,c.ya);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
q.ec.Vw=function(a){var c=a.getParent();if(c&&a.ha)if(c.ha||(q.ec.sU(c),c.Os=q.ec.EC.Os),a.ha.Im(c.ha),c.O(c.Eh),c.getParent())q.ec.Vw(c);else if(c.Ge)if(a=q.Kb("#EGLViewDiv"))c.ha.Im(a);else{a=q.nk("div");a.id="EGLViewDiv";var d=q.na.e(),e=d.kp(),f=d.Ne,g=d.zw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.$a.width;0===f.$a.width&&0===f.$a.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.qa,d.ya);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.ha.Im(a);a.Im(q.Wj)}};q.ec.setTransform=function(a){if(a.fp)if(a.fp.translate(a.zd.x,a.zd.y),a.Ow){var c=a.s;a.s=[];q.v.prototype.ma.call(a,a.fp);a.s=c}else q.v.prototype.ma.call(a,a.fp);a.ha&&(a.ha.position.x=a.p.x,a.ha.position.y=-a.p.y,a.ha.rotation=a.sS(),a.ha.scale={x:a.qa,y:a.ya},a.ha.zl={x:a.Yd,y:a.Zd},a.O&&a.O(a.Eh),a.ha.zn())};
q.ec.PR=function(a){a.ha=q.nk("div");a.canvas=q.nk("canvas");var c=a.d();a.canvas.width=c.width;a.canvas.height=c.height;a.ha.style.position="absolute";a.ha.style.bottom=0;a.fp=a.canvas.getContext("2d");a.ha.appendChild(a.canvas);a.getParent()&&q.ec.Vw(a);a.Ow=!0};
q.ec.sU=function(a){a.ha=q.nk("div");a.placeholder=!0;a.ha.style.position="absolute";a.ha.style.bottom=0;a.ha.style.width=(a.d().width||q.V.e().Nb.width)+"px";a.ha.style.maxHeight=(a.d().height||q.V.e().Nb.height)+"px";a.ha.style.margin=0;q.ec.setTransform(a);a.ha.zn();q.ec.ZG(a)};
q.ec.LB=function(a){if(1<arguments.length)q.ec.LB(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.v?c[d].ha||q.ec.PR(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.ec.ZG(c[d]),c[d].ma=function(){},c[d].transform=function(){},q.ec.setTransform(c[d]),c[d].C(c[d].sa);else q.ec.LB([arguments[0]])};q.ML=0;q.$Y=1;q.cZ=2;q.bZ=3;q.aZ=4;q.BL=0;q.EY=1;q.FY=2;q.GY=3;q.IY=4;q.DY=5;q.HY=6;q.zL=0;q.AL=1;q.CY=2;q.BY=3;q.AY=4;q.LY=q.Ba.extend({tw:function(){},uw:function(){},vw:function(){},k2:function(){}});
q.aq=q.Il.extend({Ci:null,Sb:null,QN:q.BL,PN:q.AL,rO:q.ML,u0:"",Li:"",Rv:null,or:null,VF:50,hN:18,Za:null,Lq:14,Kz:"Arial",Lz:!1,sA:"",xv:14,v0:!1,ctor:function(a,c){q.Il.prototype.ctor.call(this);this.Lz=!1;this.Rv=q.vb();this.or=q.pp();this.U(a);this.Ci=new q.v;this.Ci.Ta=function(){};this.g(this.Ci);var d=this;c?(this.Za=document.createElement("textarea"),this.Za.style.resize="none",this.Lz=!0):this.Za=document.createElement("input");this.Za.type="text";this.Za.style.fontSize=this.Lq+"px";this.Za.style.color=
"#000000";this.Za.style.border=0;this.Za.style.background="transparent";this.Za.style.width="100%";this.Za.style.height="100%";this.Za.style.C0=0;this.Za.style.outline="medium";this.Za.addEventListener("input",function(){d.Sb&&d.Sb.vw&&d.Sb.vw(d,this.value)});this.Za.addEventListener("keyup",function(a){a.keyCode===q.LL.KR&&!1==d.Lz&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.Za.addEventListener("focus",function(){this.value==d.Li&&(this.value="",this.style.fontSize=d.Lq+"px",
this.style.color=q.al(d.Rv));d.Sb&&d.Sb.tw&&d.Sb.tw(d)});this.Za.addEventListener("blur",function(){""==this.value&&(this.value=d.Li,this.style.fontSize=d.xv+"px",this.style.color=q.al(d.or));d.Sb&&d.Sb.uw&&d.Sb.uw(d)});q.ec.LB(this.Ci);this.Ci.ha.appendChild(this.Za);this.Ci.ha.wba=!1;this.Ci.ha.style.width=a.width-6+"px";this.Ci.ha.style.height=a.height-6+"px";this.Ci.canvas.remove()},N$:function(a,c){this.Lq=c;this.Kz=a;this.QA()},pba:function(){},dW:function(a){this.Kz=a;this.QA()},QJ:function(a){this.Lq=
a;this.QA()},QA:function(){this.Za.value!=this.Li&&(this.Za.style.fontFamily=this.Kz,this.Za.style.fontSize=this.Lq+"px")},xh:function(a){null!=a&&(""==a?(this.Za.value=this.Li,this.Za.style.color=q.al(this.or)):(this.Za.value=a,this.Za.style.color=q.al(this.Rv)))},cW:function(a){this.Rv=a;this.Za.value!=this.Li&&(this.Za.style.color=q.al(a))},haa:function(a){!isNaN(a)&&0<a&&(this.VF=a,this.Za.maxLength=a)},m4:function(){return this.VF},xaa:function(a){if(null!=a){var c=this.Li;this.Li=a;this.Za.value==
c&&(this.Za.value=a,this.Za.style.color=q.al(this.or),this.Gv())}},yaa:function(a,c){this.sA=a;this.xv=c;this.Gv()},Aaa:function(a){this.sA=a;this.Gv()},Baa:function(a){this.xv=a;this.Gv()},Gv:function(){this.Za.value==this.Li&&(this.Za.style.fontFamily=this.sA,this.Za.style.fontSize=this.xv+"px")},zaa:function(a){this.or=a;this.Za.value==this.Li&&(this.Za.style.color=q.al(a))},V$:function(a){this.PN=a;this.Za.type=a==q.zL?"password":"text"},aa:function(){return this.Za.value},iT:function(a,c){return this.pI(c)?
(this.Ci.l(3,3),this.UW(!1),this.ik(a),this.l(0,0),this.kF(this,this.rX,q.ZD),!0):!1},wh:function(a){this.Sb=a},U4:function(){return this.Li},W$:function(a){this.QN=a},Paa:function(a){this.rO=a},N7:function(a){var c=q.aq.ie(this);c.y-=4;c.M6(a.end)?this.hN=a.end.q4()-c.t4():q.log("needn't to adjust view layout.")},L7:function(){},M7:function(){},K7:function(){},rX:function(){},KB:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},rV:function(a,c,d){return"#"+this.KB(a)+this.KB(c)+this.KB(d)},
EJ:function(a){this.Za.style.background=this.rV(a.m,a.i,a.f)},D6:function(a,c){this.ON=a.width;this.ha.style.width=this.ON.toString()+"px";this.NN=a.height;this.ha.style.height=this.NN.toString()+"px";this.ha.style.backgroundColor=q.al(c)}});q.aq.ie=function(a){var c=a.d(),c=q.rect(0,0,c.width,c.height);return q.Og(c,a.Es())};q.aq.create=function(a,c,d,e,f){d=new q.aq(a,d);c instanceof q.wc?d.EJ(c):d.iT(a,c)&&(e&&d.nx(e,q.aE),f&&d.nx(f,q.$D));return d};var u=[],ka=new XMLHttpRequest;ka.open("GET","config.txt",!1);ka.send(null);var na=ka.responseText,oa=na.split("\n")[0],pa=na.split("\n")[1];pa&&(oa+=":"+pa);var qa=io.connect(oa,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});qa.on("connect",function(){w.ey();w.BM();console.log("Client has connected to the server!");if(x){var a=x.e().gd;a?a.sn(!0):u.push(JSON.stringify({connect:!0}))}else u.push(JSON.stringify({connect:!0}))});qa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&w.PK(a.mapdata,a.maptime),a.warpdata&&w.Px(a.warpdata,a.warptime),a.itemdata&&w.at(a.itemdata,a.itemtime),a.skillsdata&&w.JD(a.skillsdata,a.skillstime),a.signsdata&&w.Ox(a.signsdata,a.signstime),a.npcsdata&&w.QK(a.npcsdata,a.npcstime),a.questdata&&w.HD(a.questdata,a.queststime),a.settingsdata&&(w.ID(a.settingsdata,a.settingstime),y=sa(y,
a.settingsdata)),a.scriptsdata&&w.UK(a.scriptsdata,a.scriptstime),ta=!0;else if(c=x.e().gd)if(a.connect?c.sn(!0):a.disconnect&&c.sn(!1),"Game"==c.Hc())if(a.newPlayer)A.pQ(a.newPlayer);else if(a.playerLeft)A.bi(a.playerLeft).Dg==A.w.ga.Dg&&(MapMaster=!1),A.uH(a.playerLeft);else if(a.changemap){for(c=0;c<u.length;c++)d=JSON.parse(u[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),u.splice(c,1),c--);A.bi(a.id).Dg==A.w.ga.Dg&&(MapMaster=!1);A.LQ(a.id,a.changemap);A.eJ(a.id,a.setTo)}else a.setTo?!A.bi(a.id)||
A.bi(a.id)&&!1==A.bi(a.id).Bg?A.eJ(a.id,a.setTo):u.push(JSON.stringify(a)):a.moveTo?!A.bi(a.id)||A.bi(a.id)&&!1==A.bi(a.id).Bg?A.QT(a.id,a.moveTo):u.push(JSON.stringify(a)):a.chatMessage?B.Ib(a.chatMessage):a.coinflip?B.Ib(a.coinflip):a.diceroll?B.Ib(a.diceroll):a.dance?B.Ib(a.dance):a.afk?A.MQ(a.afk):a.savemap?(w.JQ(a.savemap,a.mapdata,a.updatetime),F.XW(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(w.SQ(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.Qm()[parseInt(a.savewarps)]=a.warpdata,
Warpeditor&&(Warpeditor.Gc=ObjectLists.Qm(),Warpeditor.va())):a.savewarpswhole?(w.TU(a.savewarpswhole,a.updatetime),ObjectLists.TW(a.savewarpswhole)):a.savescripts?(w.OQ(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.ls()[parseInt(a.savescripts)]=a.scriptsdata,Eventsystem&&(Eventsystem.Gc=ObjectLists.ls(),Eventsystem.va())):a.savescriptswhole?(w.QU(a.savescriptswhole,a.updatetime),ObjectLists.IW(a.savescriptswhole)):a.savesettings?(w.ID(a.savesettings,a.updatetime),y=sa(y,a.savesettings),
Settingseditor&&(Settingseditor.data=ua(y),Settingseditor.Xb())):a.savequests?(w.NQ(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.ks()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Gc=ObjectLists.ks(),Questeditor.va())):a.savequestswhole?(w.PU(a.savequestswhole,a.updatetime),ObjectLists.FW(a.savequestswhole)):a.saveskills?(w.QQ(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.Pm()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Gc=ObjectLists.Pm(),
Skillseditor.va()),za.update(),Skills&&Skills.zf()):a.saveskillswhole?(w.SU(a.saveskillswhole,a.updatetime),ObjectLists.KW(a.saveskillswhole),za.update(),Skills&&Skills.zf()):a.savesigns?(w.PQ(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.ms()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Gc=ObjectLists.ms(),Signeditor.va())):a.moveNPC?(a.npcID=parseInt(a.npcID),!A.js(a.npcID)||A.js(a.npcID)&&!1==A.js(a.npcID).Bg?A.PT(a.npcID,a.moveNPC,a.mapnumber):u.push(JSON.stringify(a))):
a.changeNPCPosition?(a.npcID=parseInt(a.npcID),A.js(a.npcID)&&!1==A.js(a.npcID).Bg?A.kV(a.npcID,a.changeNPCPosition):u.push(JSON.stringify(a))):a.savesignswhole?(w.RU(a.savesignswhole,a.updatetime),ObjectLists.JW(a.savesignswhole)):a.savenpcs?(w.KQ(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.el()[parseInt(a.savenpcs)]=a.npcsdata,F.Fw(F.he(),!0),NPCeditor&&(NPCeditor.Gc=ObjectLists.el(),NPCeditor.va())):a.savenpcswhole?(w.OU(a.savenpcswhole,a.updatetime),ObjectLists.pW(a.savenpcswhole),
F.Fw(F.he(),!0),NPCeditor&&(NPCeditor.Gc=ObjectLists.el(),NPCeditor.va())):a.saveitems?(w.IQ(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.$h()[parseInt(a.saveitems)].name,ObjectLists.$h()[parseInt(a.saveitems)]=a.itemdata,F.Fw(F.he()),Itemeditor&&(Itemeditor.Gc=ObjectLists.$h(),Itemeditor.va()),Inventory&&Inventory.zf(),A.w.ga.at(c,a.itemdata)):a.droppeditem?a.mapnumber==F.he()&&!1==F.e().Ag?(c=F.bI(a.index),c.lQ(a.droppeditem),F.bt()):u.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==
F.he()&&(c=F.bI(a.pickupitem),c.PC(),F.bt()):a.saveitemswhole&&(w.NU(a.saveitemswhole,a.updatetime),ObjectLists.hW(a.saveitemswhole));else"Login"==c.Hc()&&(a.login_success?c.VT():a.login_fail&&c.JC(a.login_fail));else u.push(JSON.stringify(a))};qa.on("disconnect",function(){console.log("The client has disconnected!");var a=x.e().gd;a?a.sn(!1):u.push(JSON.stringify({disconnect:!0}))});function G(a){qa.send(JSON.stringify(a))};var H=Object.freeze({ge:{U1:"C to popup/dismiss, enter for chat. Say /help for help.",N6:"Welcome to the Powder Engine! Enter /help for some help.",aT:"-------HELP------",$S:" - Press C to expand the chat, I for Inventory",ZS:" - Space to grab Items and E for Equipment.",YS:" - Enter /commands for command list",XS:"-------------------",YQ:"Commands:  /editskill, /editsign, /editnpc,",XQ:" - /editmap, /editwarp, /edititem,",WQ:" - /dance, /coinflip, /diceroll, /afk",VQ:"--------------------",tU:" has joined the game!",
j9:" has left the game!",Xw:"Picked up ",FR:"Dropped ",zI:"Your inventory is full"}});var Aa={},Ba=q.xd.e();q.ij.e();Ba.eK(["res/Graphics"]);ka=new XMLHttpRequest;ka.open("GET","res/Graphics/tile_graphics.txt",!1);ka.send(null);var na=ka.responseText,Ea=na.split(","),I=[],Fa;for(Fa in Ea)I.push({name:Ea[Fa],texture:q.xa.e().Ra(Ea[Fa])});var ta=!1,ka=new XMLHttpRequest;ka.open("GET","res/Graphics/character_graphics.txt",!1);ka.send(null);var na=ka.responseText,Ea=na.split(","),K=[];for(Fa in Ea)K.push({name:Ea[Fa],texture:q.xa.e().Ra(Ea[Fa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();Aa[a.keyCode]=!0};window.onbeforeunload=function(){G({disconnect:!0})};window.onfocus=function(){for(var a=[],c=u.length-1;0<=c;c--){var d=JSON.parse(u[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,u[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&u.splice(c,1)}};var M=q.o(255,255,255,255),Ga=q.o(0,255,0,255),N=q.o(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){Aa[a.keyCode]=!1;if(null!=x.e().gd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.e().gd.ql(c)}};
var y={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function O(a,c){return(a.GI&&a.sa||!a.GI)&&q.pb(q.rect(a.p.D,a.p.I,a.d().width,a.d().height),c)}function ua(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?ua(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ha(a,c){var d=c?a:a.Ic();return Ia(d,"panels")}function Ma(){Na.vc(function(){})}
function Ia(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.wT?d=Oa.ey(c.qX):"undefined"!=typeof c.A?(d=c.size?c.size:q.size(100,100),d=q.la.create(c.A,d.width,d.height)):d="undefined"!=typeof c.Ow?q.v.create():"undefined"!=typeof c.Z?q.v.ub(q.xa.e().Ra(c.Z)):"undefined"!=typeof c.label?q.S.create(c.label,c.font?c.L2:"Arial",c.fontSize?c.fontSize:14):q.B.create();"undefined"!=typeof c.size&&d.U(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.l(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.C(c.visible);"undefined"!=typeof c.c&&d.O(c.c);"undefined"!=typeof c.opacity&&d.da(c.opacity);"undefined"!=typeof c.color&&d.n(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ia(a,e,c.children),d.g(d[e]);return d}q.size(960,640);var P=q.size(1600,1600),Pa=Math.floor(P.height/32),S=Math.floor(P.width/32);function T(a,c){return parseInt(S*(Pa-c))+parseInt(a)}
function sa(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d};var w=q.Ba.extend({w:null,sb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},gk:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),U=null;w.ey=function(){U||(U=new w);return U};w.e=function(){return U};w.xW=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};w.mS=function(){return s.localStorage.getItem("panelStore")};
w.cS=function(a){if(U.sb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};w.PK=function(a,c){U.gk("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};w.JQ=function(a,c,d){var e=U.sb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;w.PK(e,d)};w.Qe=function(){if(U.sb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
w.UK=function(a,c){U.gk("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};w.OQ=function(a,c,d){var e=U.sb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;w.UK(e,d)};w.QU=function(a,c){scriptarray=a;w.Px(scriptarray,c)};w.FS=function(){if(U.sb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
w.Px=function(a,c){U.gk("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};w.SQ=function(a,c,d){var e=U.sb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;w.Px(e,d)};w.TU=function(a,c){warparray=a;w.Px(warparray,c)};w.aS=function(){if(U.sb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
w.at=function(a,c){U.gk("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};w.IQ=function(a,c,d){var e=U.sb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;w.at(e,d)};w.NU=function(a,c){itemsarray=a;w.at(itemsarray,c)};w.xS=function(){if(U.sb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
w.JD=function(a,c){U.gk("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};w.QQ=function(a,c,d){var e=U.sb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;w.JD(e,d)};w.SU=function(a,c){skillarray=a;w.JD(skillarray,c)};w.wS=function(){if(U.sb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
w.Ox=function(a,c){U.gk("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};w.PQ=function(a,c,d){var e=U.sb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;w.Ox(e,d)};w.RU=function(a,c){signarray=a;w.Ox(signarray,c)};w.iS=function(){if(U.sb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
w.QK=function(a,c){U.gk("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};w.KQ=function(a,c,d){var e=U.sb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;w.QK(e,d)};w.OU=function(a,c){npcsarray=a;w.Ox(npcsarray,c)};w.qS=function(){if(U.sb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
w.HD=function(a,c){U.gk("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};w.NQ=function(a,c,d){var e=U.sb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;w.HD(e,d)};w.PU=function(a,c){questsarray=a;w.HD(questsarray,c)};w.bC=function(){if(U.sb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
w.ID=function(a,c){U.gk("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
w.kY=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
w.BM=function(){G({sync:!0,mapupdate:null!=U.sb("maps")?U.sb("maps"):2,warpupdate:null!=U.sb("warps")?U.sb("warps"):2,itemupdate:null!=U.sb("items")?U.sb("items"):2,skillsupdate:null!=U.sb("skills")?U.sb("skills"):2,signsupdate:null!=U.sb("signs")?U.sb("signs"):2,npcsupdate:null!=U.sb("npcs")?U.sb("npcs"):2,questsupdate:null!=U.sb("quests")?U.sb("quests"):2,settingsupdate:null!=U.sb("settings")?U.sb("settings"):2,scriptsupdate:null!=U.sb("scripts")?U.sb("scripts"):2})};
w.kW=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};w.dS=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};ListView=q.Ch.extend({kl:null,h:null,lw:null,Sw:!1,ki:null,nn:null,DK:null,ZC:function(){if(this.h){this.nn&&(this.nn.P(),this.ki.P());var a=this.h.vg();a.height<this.h.d().height&&(a=this.h.d(),this.Sw=!0);this.kl=[];for(var c=0,d=0;d<this.h.Rf();d++){var e=this.h.nh(d),c=c+e.height;this.kl[d]=q.B.create();this.kl[d].U(e);this.kl[d].l(q.a(0,a.height-c));this.kl[d].O(q.a(0,1));this.g(this.kl[d]);this.kl[d].g(this.h.mh(d))}this.Pp(-300);this.uD(0);!1==this.Sw&&(this.nn=q.la.create(q.o(0,0,0,255),1,
this.h.d().height),this.nn.l(q.a(this.h.d().width+20,0)),this.ki=q.la.create(q.o(90,90,255,255),20,this.h.d().height/5),this.ki.l(q.a(this.h.d().width+10,0)),this.h.g(this.nn),this.h.g(this.ki),this.vl(q.a(0,this.Cs().y),!1));this.h.l(this.DK)}},r:function(a){this.h=a;this.O(q.a(0,0));this.DK=q.a(a.p.D,a.p.I);this.tp(this.h.d(),this.h);this.LJ(q.cq);this.LV(!1);a=this.h.vg();var c=q.B.create();c.U(a);this.PV(c)},vh:function(a){this.lw=a},dD:!1,mx:null,ph:function(a){if(!this.h.lp)return!1;for(var c=
0;c<this.h.Rf();c++)this.h.lp(c).n(q.o(255,255,255,255));this.h.lp(a).n(q.o(255,0,0,255))},hb:function(a){for(var c=a.J,d=0;d<this.h.Rf();d++)for(var e in this.lw[d]){var f=this.kl[d].Aa(c),g=this.h.Aa(c);g.x+=this.h.p.D;O(this.h,g);if(O(this.lw[d][e],f))return this.h.Ue(this.lw[d][e].Tc,d,a),this.dD=!0}if(!1==this.Sw){a=this.h.Aa(c);if(O(this.ki,a))return this.mx=a.y-this.ki.p.I,!0;console.log("TURNING OFF SCROLOL");this.mx=null}},hd:function(a){if(!0==this.dD)return this.dD=!1;if(!1==this.Sw){var c=
a.J;if(null!=this.mx&&(c=this.h.Aa(c),c.y-=this.mx,0<=c.y&&c.y+this.ki.d().height<=this.h.d().height))return a=c.y/(this.nn.d().height-this.ki.d().height),this.vl(q.a(0,this.Vm().y*a),!1),this.ki.We(c.y),!0;c=this._super(a);a=this.RH().y/this.Vm().y;this.ki.We((this.nn.d().height-this.ki.d().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.ZC();return c};var Oa=q.B.extend({ke:null,le:null,me:null,qe:null,re:null,Ed:null,item:null,be:null,ce:null,ee:null,de:null,position:null,Ye:null,type:null,ib:null,ctor:function(){this._super()},r:function(){this._super();this.Ye=q.S.create("","Arial",16);this.Ye.O(0.5,0.5);this.Ye.l(16,-16);this.Ye.da(0);this.Ye.n(q.k(0,0,0));this.g(this.Ye,900);this.item=[];this.ib=[];this.dj(0)},lQ:function(a){this.hk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.$h().length;c++)if(a.name==ObjectLists.$h()[c].name){this.wx({id:c,
data:{amount:a.amount}},!0);break}this.dj(4)},PC:function(){this.ib[this.ib.length-1].temp&&(this.item[this.item.length-1].P(),this.item.splice(this.item.length-1,1),this.vU())},hk:function(a,c,d){a=q.v.ub(q.xa.e().Ra(a));a.Jb(q.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.n(q.o(255,255,255,255));a.O(0,1);switch(d){case "ground1":null!=this.ke&&this.ke.P();this.ke=a;this.g(this.ke);break;case "ground2":null!=this.le&&this.le.P();this.le=a;this.g(this.le,1);break;case "groundShadow":null!=
this.me&&this.me.P();this.me=a;this.g(this.me,2);break;case "mask1":null!=this.qe&&this.qe.P();this.qe=a;this.g(this.qe,3);break;case "mask2":null!=this.re&&this.re.P();this.re=a;this.g(this.re,4);break;case "mask3":null!=this.Ed&&this.Ed.P();this.Ed=a;this.g(this.Ed,5);break;case "item":this.item.push(a);this.g(this.item[this.item.length-1],6);break;case "fringe1":null!=this.be&&this.be.P();this.be=a;this.g(this.be,7);break;case "fringe2":null!=this.ce&&this.ce.P();this.ce=a;this.g(this.ce,8);break;
case "fringeShadow":null!=this.ee&&this.ee.P();this.ee=a;this.g(this.ee,9);break;case "fringe3":null!=this.de&&this.de.P(),this.de=a,this.g(this.de,10)}},zg:function(){var a=!0;if(null!=this.ke&&this.ke.$()&&!1==this.ke.$().mc)a=!1;else if(null!=this.le&&this.le.$()&&!1==this.le.$().mc)a=!1;else if(null!=this.me&&this.me.$()&&!1==this.me.O5)a=!1;else if(null!=this.qe&&this.qe.$()&&!1==this.qe.$().mc)a=!1;else if(null!=this.re&&this.re.$()&&!1==this.re.$().mc)a=!1;else if(null!=this.Ed&&this.Ed.$()&&
!1==this.Ed.$().mc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].$()&&!1==this.item[c].$().mc&&(a=!1);else null!=this.be&&this.be.$()&&!1==this.be.$().mc?a=!1:null!=this.ce&&this.ce.$()&&!1==this.ce.$().mc?a=!1:null!=this.ee&&this.ee.$()&&!1==this.ee.$().mc?a=!1:null!=this.de&&this.de.$()&&!1==this.de.$().mc&&(a=!1);return a},Dd:function(){null!=this.ke&&this.ke.P();this.ke=null;null!=this.le&&this.le.P();this.le=null;null!=this.me&&this.me.P();this.me=null;null!=this.qe&&this.qe.P();
this.qe=null;null!=this.re&&this.re.P();this.re=null;null!=this.Ed&&this.Ed.P();this.Ed=null;for(var a=0;a<this.item.length;a++)this.item[a].P();this.item=[];this.Ed=null;null!=this.be&&this.be.P();this.be=null;null!=this.ce&&this.ce.P();this.ce=null;null!=this.ee&&this.ee.P();this.ee=null;null!=this.de&&this.de.P();this.de=null;this.dj(0);this.ib=[];this.item=[]},PB:function(a){switch(a){case "ground1":null!=this.ke&&this.ke.P();this.ke=null;break;case "ground2":null!=this.le&&this.le.P();this.le=
null;break;case "groundShadow":null!=this.me&&this.me.P();this.me=null;break;case "mask1":null!=this.qe&&this.qe.P();this.qe=null;break;case "mask2":null!=this.re&&this.re.P();this.re=null;break;case "mask3":null!=this.Ed&&this.Ed.P();this.Ed=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].P(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.be&&this.be.P();this.be=null;break;case "fringe2":null!=this.ce&&this.ce.P();this.ce=null;break;case "fringeShadow":null!=
this.ee&&this.ee.P();this.ee=null;break;case "fringe3":null!=this.de&&this.de.P(),this.de=null}},dj:function(a){this.type=a;switch(this.type){case 0:this.Ye.ea("");break;case 1:this.Ye.ea("BLK");break;case 2:this.Ye.ea("SPW");break;case 3:this.Ye.ea("WRP");break;case 4:this.Ye.ea("ITM");break;case 5:this.Ye.ea("NPC");break;case 6:this.Ye.ea("SKL");break;case 7:this.Ye.ea("SGN")}},wx:function(a,c){c||(c=!1);this.ib.push({num:parseInt(a.id),data:a.data,temp:c})},vU:function(){this.ib.splice(this.ib.length-
1,1);0==this.ib.length&&this.dj(0)},Dw:function(){return this.ib[this.ib.length-1]},op:function(){switch(this.type){case 3:return ObjectLists.Qm()[this.ib[this.ib.length-1].num];case 4:var a=ObjectLists.$h()[this.ib[this.ib.length-1].num];a.amount=parseInt(this.ib[this.ib.length-1].data.amount);return a;case 7:return ObjectLists.ms()[this.ib[this.ib.length-1].num];case 5:return ObjectLists.el()[this.ib[this.ib.length-1].num]}},Qe:function(){switch(this.type){case 3:return ObjectLists.Qm()[this.ib[this.ib.length-
1].num]?ObjectLists.Qm()[this.ib[this.ib.length-1].num]:null;case 4:return ObjectLists.$h()[this.ib[this.ib.length-1].num]?ObjectLists.$h()[this.ib[this.ib.length-1].num]:null;case 5:return ObjectLists.el()[this.ib[this.ib.length-1].num]?ObjectLists.el()[this.ib[this.ib.length-1].num]:null}},LW:function(a){this.Ye.da(!0==a?255:0)},kc:function(){return this.type}});Oa.ey=function(a,c){var d=new Oa;d.r();d.position=q.a(a,c);return d};StatsController=q.v.extend({data:null,Qw:null,h:null,r:function(a,c){this.data=a;this.h=c;this.xV()},update:function(){for(var a in this.data)this.Qw&&(0==this.data[a].value&&0<this.Qw[a]&&this.h.Gba(a),this.data[a].Jc>this.Qw[a].Jc&&this.h.Iba(a)),this.Qw[a]=this.data[a]},G5:function(a){return this.data[a].value},F5:function(a){return this.data[a].Jc},k8:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Tf&&(this.data[a].value=this.data[a].Tf);0>this.data[a].value&&(this.data[a].value=
0)},RQ:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Tf&&(this.data[a].value=this.data[a].Tf);0>this.data[a].value&&(this.data[a].value=0)},j8:function(a,c){this.data[a].Jc+=c;this.data[a].Jc>this.data[a].Sf&&(this.data[a].Jc=this.data[a].Sf);0>this.data[a].Jc&&(this.data[a].Jc=0)},RQ:function(a,c){this.data[a].Jc=c;this.data[a].Jc>this.data[a].Sf&&(this.data[a].Jc=this.data[a].Sf);0>this.data[a].Jc&&(this.data[a].Jc=0)},z1:function(a,c){this.data[a].Sf=c},A1:function(a,c){this.data[a].Tf=
c}});ObjectLists=q.Ba.extend({RD:null,AC:null,AD:null,zD:null,FC:null,TC:null,gD:null});var V;ObjectLists.e=function(){V||(V=new ObjectLists,V.RD=w.FS(),V.AC=w.aS(),V.AD=w.xS(),V.zD=w.wS(),V.FC=w.iS(),V.TC=w.qS(),V.gD=w.Qe());return V};ObjectLists.Qm=function(){return V.RD};ObjectLists.TW=function(a){V.RD=a};ObjectLists.$h=function(){return V.AC};ObjectLists.hW=function(a){V.AC=a};ObjectLists.Pm=function(){return V.AD};ObjectLists.KW=function(a){V.AD=a};ObjectLists.ms=function(){return V.zD};
ObjectLists.JW=function(a){V.zD=a};ObjectLists.el=function(){return V.FC};ObjectLists.pW=function(a){V.FC=a};ObjectLists.ks=function(){return V.TC};ObjectLists.FW=function(a){V.TC=a};ObjectLists.ls=function(){return V.gD};ObjectLists.IW=function(a){V.gD=a};gameMapInstance=null;
var F=q.Lc.extend({Id:null,t:null,Ag:!1,An:null,bn:null,QC:null,Rm:null,ol:null,ll:null,ml:null,nl:null,L:q.a(0,0),Yj:1,VB:function(a,c){function d(a,c){return{qM:a,value:c.x+c.y*S,x:c.x,y:c.y,xw:0,i:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.t["tile"+T(a,d)]&&1!=f.t["tile"+T(a,d)].kc()&&7!=f.t["tile"+T(a,d)].kc();myS=e<S&&f.t["tile"+T(a,e)]&&1!=f.t["tile"+T(a,e)].kc()&&7!=f.t["tile"+T(a,e)].kc();myE=g<S&&f.t["tile"+T(g,c)]&&1!=f.t["tile"+T(g,c)].kc()&&7!=f.t["tile"+T(g,c)].kc();myW=
-1<h&&f.t["tile"+T(h,c)]&&1!=f.t["tile"+T(h,c)].kc()&&7!=f.t["tile"+T(h,c)].kc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],p=[],t=[d(null,a)],v=Array(Pa*S);h=t.length;){k=Pa*S;l=-1;for(m=0;m<h;m++)t[m].xw<k&&(k=t[m].xw,l=m);k=t.splice(l,1)[0];if(k.value===g.value){l=p[p.push(k)-1];do r.push(q.a(l.x,l.y));while(l=l.qM);v=p=t=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),v[l.value]||(l.i=k.i+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.xw=l.i+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),t.push(l),v[l.value]=!0);p.push(k)}}return r},WW:function(a){this.Id={};this.Id.mapdata={};for(var c in this.t)"tile"==c.substring(0,4)&&(this.t[c].Dd(),this.Id[c]={});if(a)for(c in this.Id=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.t[c].hk(a[c][d].texture,a[c][d].frame,d):(this.t[c].dj(a[c][d].type),a[c][d].script&&
this.t[c].wx(a[c][d].script),4==a[c][d].type&&this.t[c].Qe()&&this.t[c].hk(this.t[c].Qe().sprite.texture,this.t[c].Qe().sprite.position,"item"),5==a[c][d].type&&this.t[c].Qe()&&A.aH(this.t[c].Qe(),q.a(this.t[c].p.x/32,this.t[c].p.y/32),this.Yj));else"mapdata"==c&&(this.ol=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ll=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.ml=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.nl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.qc(this.VC)},yl:function(a){A.e().C(!1);a=w.cS(a);this.Id={};this.Id.mapdata={};for(var c in this.t)"tile"==c.substring(0,4)&&(this.t[c].Dd(),this.Id[c]={});if(a)for(c in this.Id=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.t[c].hk(a[c][d].texture,a[c][d].frame,d):(this.t[c].dj(a[c][d].type),a[c][d].script&&this.t[c].wx(a[c][d].script),
4==a[c][d].type&&this.t[c].Qe()&&this.t[c].hk(this.t[c].Qe().sprite.texture,this.t[c].Qe().sprite.position,"item"),5==a[c][d].type&&this.t[c].Qe()&&A.aH(this.t[c].Qe(),q.a(this.t[c].p.x/32,this.t[c].p.y/32),this.Yj));else"mapdata"==c&&(this.ol=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ll=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.ml=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.nl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.qc(this.VC)},VC:function(){for(var a in this.t)if("tile"==a.substring(0,4)&&!1==this.t[a].zg())return;A.e().C(!0);A.kk();this.ud(this.VC);this.bn.C(!0);this.An.C(!0);this.Ag=!0},Ic:function(){for(var a={},c=0;c<S;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*S)]={size:q.size(32,32),c:q.a(0,0),position:q.a(32*c,32*(Pa-d)),wT:!0,qX:q.a(d,c),visible:!1};return{panels:{children:a}}},r:function(){this.Rb(!0);
this.uD(1)},hb:function(a){!this.Rm||Mapeditor&&Mapeditor.X||(this.Rm=Mapeditor=null);if(this.Rm)for(var c in this.t)"tile"==c.substring(0,4)&&q.pb(this.t[c].Va(),q.a(a.J.x-this.L.x,a.J.y+32-this.L.y))&&(this.Rm.JK(this.t,c),F.bt());else for(c in this.t)if("tile"==c.substring(0,4)&&q.pb(this.t[c].Va(),q.a(a.J.x-this.L.x,a.J.y+32-this.L.y)))if(4==this.t[c].kc()){var d=y["Item Dropdown Pick Up"]+"",e=y["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.t[c].Qe().name),e=e.replace("\x3cITEM\x3e",
this.t[c].Qe().name);this.X.g(DropDownList.$d(this,this.zT,[d,e],a.J));this.sg=c}else 7==this.t[c].kc()?(d=y["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.t[c].op().name),this.X.g(DropDownList.$d(this,this.dX,[d],a.J)),this.sg=c):1!=this.t[c].kc()&&7!=this.t[c].kc()&&4!=this.t[c].kc()&&(d=A.w.ga.Qf(),A.w.ga.xD(this.VB(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.t[c].p.x/32,this.t[c].p.y/32))));return!0},sg:null,zT:function(a){if(null!=this.h.sg){var c=A.w.ga.Qf(),d=q.a(gameMapInstance.t[gameMapInstance.sg].p.x/
32,gameMapInstance.t[gameMapInstance.sg].p.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.w.ga.yI(gameMapInstance.t[gameMapInstance.sg]):(c=y["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.h.t[gameMapInstance.sg].Qe().name),B.Ib(c));break;case 1:A.w.ga.xD(gameMapInstance.VB(q.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.h.sg=null}}},dX:function(a){if(null!=this.h.sg){var c=A.w.ga.Qf(),d=q.a(gameMapInstance.t[gameMapInstance.sg].p.x/32,gameMapInstance.t[gameMapInstance.sg].p.y/
32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.w.ga.yI(gameMapInstance.t[gameMapInstance.sg]):(c=y["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.h.t[gameMapInstance.sg].op().name),B.Ib(c))}}},hd:function(a){if(this.Rm){for(var c in this.t)"tile"==c.substring(0,4)&&q.pb(this.t[c].Va(),q.a(a.J.x-this.L.x,a.J.y+32-this.L.y))&&(this.Rm.JK(this.t,c,"moved"),F.bt());return!0}for(c in this.t)if("tile"==c.substring(0,4)&&1!=this.t[c].kc()&&7!=this.t[c].kc()&&
4!=this.t[c].kc()&&q.pb(this.t[c].Va(),q.a(a.J.x-this.L.x,a.J.y+32-this.L.y))){var d=A.w.ga.Qf();A.w.ga.xD(this.VB(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.t[c].p.x/32,this.t[c].p.y/32)))}},ma:function(){this._super();if(!0==this.Ag){this.An.FB(0,0,0,0);for(var a in this.t)"tile"==a.substring(0,4)&&(this.t[a].C(!0),null!=this.t[a].be&&this.t[a].be.C(!1),null!=this.t[a].ce&&this.t[a].ce.C(!1),null!=this.t[a].ee&&this.t[a].ee.C(!1),null!=this.t[a].de&&this.t[a].de.C(!1),this.t[a].ma(),null!=this.t[a].be&&
this.t[a].be.C(!0),null!=this.t[a].ce&&this.t[a].ce.C(!0),null!=this.t[a].ee&&this.t[a].ee.C(!0),null!=this.t[a].de&&this.t[a].de.C(!0),this.t[a].C(!1));this.An.end();this.bn.FB(0,0,0,0);for(a in this.t)if("tile"==a.substring(0,4)){this.t[a].C(!0);null!=this.t[a].ke&&this.t[a].ke.C(!1);null!=this.t[a].le&&this.t[a].le.C(!1);null!=this.t[a].me&&this.t[a].me.C(!1);null!=this.t[a].qe&&this.t[a].qe.C(!1);null!=this.t[a].re&&this.t[a].re.C(!1);null!=this.t[a].Ed&&this.t[a].Ed.C(!1);for(var c=0;c<this.t[a].item.length;c++)this.t[a].item[c].C(!1);
this.t[a].ma();null!=this.t[a].ke&&this.t[a].ke.C(!0);null!=this.t[a].le&&this.t[a].le.C(!0);null!=this.t[a].me&&this.t[a].me.C(!0);null!=this.t[a].qe&&this.t[a].qe.C(!0);null!=this.t[a].re&&this.t[a].re.C(!0);null!=this.t[a].Ed&&this.t[a].Ed.C(!0);for(c=0;c<this.t[a].item.length;c++)this.t[a].item[c].C(!0);this.t[a].C(!1)}this.bn.end();this.Ag=!1}}});
F.Mx=function(a,c){0<=gameMapInstance.L.x+(P.width-W.width/2)+a&&A.w.ga.p.x<P.width-W.width/2&&0>=gameMapInstance.L.x+a&&A.w.ga.p.x>W.width/2&&(gameMapInstance.L.x+=a);0<=gameMapInstance.L.y+(P.height-W.height/2)+c&&A.w.ga.p.y<P.height-W.height/2&&0>=gameMapInstance.L.y+c&&A.w.ga.p.y>W.height/2&&(gameMapInstance.L.y+=c);gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y)};
F.hC=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Ag?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.qc(F.AJ)):(gameMapInstance.L.x=a>P.width-W.width/2?-(P.width-W.width):a<W.width/2?0:-(a-W.width/2),gameMapInstance.L.y=c>P.height-W.height/2?-(P.height-W.height):c<W.height/2?0:-(c-W.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.ud(F.AJ),gameMapInstance.l(gameMapInstance.L.x,
gameMapInstance.L.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.AJ=function(){F.hC(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.jC=function(){!0==gameMapInstance.Ag?gameMapInstance.qc(F.jC):(gameMapInstance.ud(F.jC),gameMapInstance.L.x=-(P.width-W.width),gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y))};
F.iC=function(){!0==gameMapInstance.Ag?gameMapInstance.qc(F.iC):(gameMapInstance.ud(F.iC),gameMapInstance.L.x=0,gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y))};F.gC=function(){!0==gameMapInstance.Ag?gameMapInstance.qc(F.gC):(gameMapInstance.ud(F.gC),gameMapInstance.L.y=-(P.height-W.height),gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y))};
F.kC=function(){!0==gameMapInstance.Ag?gameMapInstance.qc(F.kC):(gameMapInstance.ud(F.kC),gameMapInstance.L.y=0,gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.t=Ha(gameMapInstance),gameMapInstance.g(gameMapInstance.t),gameMapInstance.An=q.xb.create(P.width,P.height),gameMapInstance.An.l(q.a(Math.floor(P.width/2),Math.floor(P.height/2))),gameMapInstance.g(gameMapInstance.An),gameMapInstance.An.C(!1),gameMapInstance.QC=q.B.create(),gameMapInstance.g(gameMapInstance.QC),gameMapInstance.bn=q.xb.create(P.width,P.height),gameMapInstance.bn.l(q.a(Math.floor(P.width/2),Math.floor(P.height/
2))),gameMapInstance.g(gameMapInstance.bn),gameMapInstance.bn.C(!1),gameMapInstance.Pp(-15),gameMapInstance.r());return gameMapInstance};F.e=function(){return gameMapInstance};F.Ms=function(){gameMapInstance.P();gameMapInstance=null};F.bt=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.Ag=!0};F.XW=function(a){gameMapInstance.WW(a)};F.e=function(){return gameMapInstance};F.hk=function(a,c,d,e){gameMapInstance.t[a].hk(c,d,e);gameMapInstance.Id[a][e]={texture:c,frame:d}};
F.VK=function(){G({savemap:gameMapInstance.Yj,mapdata:gameMapInstance.Id})};F.PB=function(a,c){gameMapInstance.Id[a][c]=null;gameMapInstance.t[a].PB(c)};F.cj=function(a,c,d,e){gameMapInstance.t[a].dj(c);null!=d&&"undefined"!==d?(gameMapInstance.t[a].wx(d,e),gameMapInstance.Id[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Id[a].info={type:c}};
F.VJ=function(a){gameMapInstance.Id.mapdata.mapConnectors=a;gameMapInstance.ol=a.up;gameMapInstance.ll=a.down;gameMapInstance.ml=a.left;gameMapInstance.nl=a.right};F.NR=function(a,c,d){for(var e in gameMapInstance.t)"tile"==e.substring(0,4)&&(gameMapInstance.t[e].hk(a,c,d),gameMapInstance.Id[e][d]={texture:a,frame:c})};F.gK=function(a){for(var c in gameMapInstance.t)"tile"==c.substring(0,4)&&gameMapInstance.t[c].LW(a);SkillBarsInstance.C(!a);X.C(!a);gameMapInstance.Ag=!0};
F.Yaa=function(){for(var a in gameMapInstance.t)"tile"==a.substring(0,4)&&gameMapInstance.t[a].Ye.ea(a.substring(4));gameMapInstance.Ag=!0};F.jI=function(){return null!=gameMapInstance.ol};F.hI=function(){return null!=gameMapInstance.ll};F.iI=function(){return null!=gameMapInstance.ml};F.mC=function(){return null!=gameMapInstance.nl};F.he=function(){return gameMapInstance.Yj};F.WH=function(){return gameMapInstance.ol};F.UH=function(){return gameMapInstance.ll};F.VH=function(){return gameMapInstance.ml};
F.$B=function(){return gameMapInstance.nl};F.Fw=function(a,c){c||(MapMaster=!1);A.e().C(!1);A.tR();F.Dd();gameMapInstance.Yj=a;A.w.ga.Kp(a);A.kk();gameMapInstance.yl(a)};F.KS=function(){A.e().C(!1);F.Dd();gameMapInstance.Yj=gameMapInstance.ol;A.w.ga.Kp(gameMapInstance.ol);A.kk();gameMapInstance.yl(gameMapInstance.ol)};F.HS=function(){A.e().C(!1);F.Dd();gameMapInstance.Yj=gameMapInstance.ll;A.w.ga.Kp(gameMapInstance.ll);A.kk();gameMapInstance.yl(gameMapInstance.ll)};
F.IS=function(){A.e().C(!1);F.Dd();gameMapInstance.Yj=gameMapInstance.ml;A.w.ga.Kp(gameMapInstance.ml);A.kk();gameMapInstance.yl(gameMapInstance.ml)};F.JS=function(){A.e().C(!1);F.Dd();gameMapInstance.Yj=gameMapInstance.nl;A.w.ga.Kp(gameMapInstance.nl);A.kk();gameMapInstance.yl(gameMapInstance.nl)};F.Ns=function(a){gameMapInstance.Rm=a};F.Ew=function(a,c){return a>S-1||0>a?void 0:gameMapInstance.t["tile"+(a+(Pa-c)*S)]};F.bI=function(a){return gameMapInstance.t["tile"+a]};
F.qQ=function(){var a=A.e();gameMapInstance.QC.g(a);F.hC(A.w.ga.p.D,A.w.ga.p.I)};F.Dd=function(){gameMapInstance.Id={};for(var a in gameMapInstance.t)"tile"==a.substring(0,4)&&(gameMapInstance.t[a].Dd(),gameMapInstance.Id[a]={});gameMapInstance.Id.mapdata={};gameMapInstance.Ag=!0};var A=q.Lc.extend({w:null,Wb:[],tf:[],ga:null});A.e=function(){return this.w};A.Ms=function(){this.w.P();this.w=null};A.create=function(a){this.w||(this.w=new A,this.w.ga=PlayerCharacter.create(a),this.w.ga.l(960,320),this.w.g(this.w.ga));return this.w};A.hM=function(){var a=F.he(),c=[],d;for(d in this.w.tf)this.w.tf[d].Dg==a&&c.push(this.w.tf[d]);return c};A.js=function(a){return this.w.tf[a]};A.PT=function(a,c,d){this.w.tf[a]&&"default"!=c&&this.w.ga.Dg==d&&this.w.tf[a].ZK(c)};
A.kV=function(a,c){this.w.tf[a]&&"default"!=c&&this.w.tf[a].l(q.a(c%S*32,32*Math.floor(c/S)))};A.tR=function(){for(var a in this.w.tf)this.w.tf[a].P();this.w.tf=[]};A.aH=function(a,c,d){var e=parseInt(this.w.tf.length);this.w.tf.push(NonPlayerCharacter.create({name:a.name,wn:{health:{Jc:1,value:100,Tf:200,Sf:900},mana:{Jc:1,value:100,Tf:200,Sf:99}},map:d,Xs:"sprites1.png",Us:2,il:e}));this.w.tf[e].l(32*c.x,32*c.y);this.w.g(this.w.tf[e])};A.n6=function(){return this.w.ga};A.bi=function(a){return this.w.Wb[a]};
A.pQ=function(a){this.w.Wb[a]=PlayerCharacter.create({name:a,wn:{health:{Jc:1,value:100,Tf:200,Sf:900},mana:{Jc:1,value:100,Tf:200,Sf:99}},map:1,Xs:"sprites1.png",Us:1});this.w.Wb[a].l(960,320);A.kk();this.w.g(this.w.Wb[a]);var c=y["Join Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);B.Ib(c)};
A.uH=function(a){if(this.w.Wb[a]){this.w.Wb[a].P();this.w.Wb[a]=null;var c=y["Leave Message"]+"",c=playerJoinString.replace("\x3cPLAYER\x3e",a);B.Ib(c);for(c=0;c<u.length;c++){var d=JSON.parse(u[c]);d.id&&d.id==a&&(u.splice(c,1),c--)}}};
A.QT=function(a,c){if(this.w.Wb[a]&&"default"!=c)this.w.Wb[a].ZK(c);else{this.w.Wb[a]=PlayerCharacter.create({name:a,wn:{health:{Jc:1,value:100,Tf:200,Sf:900},mana:{Jc:1,value:100,Tf:200,Sf:99}},map:1,Xs:"sprites1.png",Us:1});this.w.Wb[a].l(960,320);this.w.Wb[a].l(q.a(c%S*32,32*Math.floor(c/S)));A.kk();this.w.g(this.w.Wb[a]);var d=y["Join Message"]+"",d=d.replace("\x3cPLAYER\x3e",a);B.Ib(d)}};
A.eJ=function(a,c){this.w.Wb[a]&&"default"!=c?this.w.Wb[a].l(q.a(c%S*32,32*Math.floor(c/S))):(this.w.Wb[a]=PlayerCharacter.create({name:a,wn:{health:{Jc:1,value:100,Tf:200,Sf:900},mana:{Jc:1,value:100,Tf:200,Sf:99}},map:1,Xs:"sprites1.png",Us:1}),this.w.Wb[a].l(q.a(c%S*32,32*Math.floor(c/S))),A.kk(),this.w.g(this.w.Wb[a]),B.Ib(a+H.ge.tU))};A.MQ=function(a){this.w.Wb[a]&&this.w.Wb[a].updateStatus("AFK")};
A.kk=function(){var a=this.w.ga.Dg,c;for(c in this.w.Wb)null!=this.w.Wb[c]&&this.w.Wb[c].C(this.w.Wb[c].Dg==a)};A.Dd=function(){for(var a in this.w.Wb)null!=this.w.Wb[a]&&A.uH(a);this.w.ga.P();this.w.ga=null};A.LQ=function(a,c){this.w.Wb[a].Kp(c);this.w.Wb[a].C(this.w.ga.Dg==c)};Character=q.v.extend({name:null,wn:null,HK:null,Y0:null,$e:null,Bg:!1,Xm:null,Gx:null,Xi:!1,il:-1,status:null,Dg:null,path:null,UB:"DOWN",r:function(a){this.NW(a.Xs,a.Us);this.wn=new StatsController(a.Hba,this);this.g(this.wn);this.name=a.name;a.Xi&&(this.Xi=a.Xi);a.map&&(this.Dg=a.map);null!=a.il&&"undefined"!==a.il&&(console.log(this.il),this.il=a.il);this.O(0,1);this.Xm=q.S.create("","Arial",12);this.Xm.O(0.5,0);this.Xm.n(255,0,0);this.Xm.l(Math.floor(this.d().width/2),this.d().width+3);this.g(this.Xm);
this.RK()},L3:function(){return this.UB},Kp:function(a){this.Dg=a},j4:function(){return this.Dg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.RK()},RK:function(){null!=this.status?this.Xm.ea(this.name+"-"+this.status):this.Xm.ea(this.name)},getName:function(){return this.name},yf:function(a,c,d){this.Jb(q.rect(32*a,128*this.HK.id+32*c,32,32));this.Gx=q.a(a,c);this.UB=d},oh:function(){return this.Gx},NW:function(a,c){this.HK={name:a,id:c};this.ja(q.xa.e().Ra(a));this.yf(1,0)},
Qf:function(){return q.a(this.p.x/32,this.p.y/32)},gw:0.24,BX:0.24,cl:2,DX:function(a){var c=a.position%S,d=Math.floor(a.position/S);this.l(32*c,32*d);G({changemap:a.mapTo,setTo:a.position});F.Fw(a.mapTo);F.hC(32*c,32*d)},sT:function(){if(!this.Bg){var a=this.Qf(),a=F.Ew(a.x,a.y);switch(a.kc()){case 4:this.PC(a.op())}}},yI:function(a){if(a&&!this.Bg)switch(a.kc()){case 4:this.rU(a.op(),a);break;case 7:Na.wK(a.op())}},rT:function(){if(!this.Bg){var a=this.Qf();switch(this.UB){case "RIGHT":a.x+=1;break;
case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=F.Ew(a.x,a.y))switch(a.kc()){case 7:Na.wK(a.op())}}},et:function(a){this.gw+=a;a=this.p;var c=this.oh();this.gw>this.BX&&(this.gw=0,this.$e.x<a.x?this.yf((c.x+1)%3,1,"LEFT"):this.$e.x>a.x?this.yf((c.x+1)%3,2,"RIGHT"):this.$e.y<a.y?this.yf((c.x+1)%3,0,"DOWN"):this.$e.y>a.y&&this.yf((c.x+1)%3,3,"UP"));this.$e.x<a.x?(this.dc(a.x-this.cl),this.Xi&&F.Mx(+this.cl,0)):this.$e.x>a.x?(this.dc(a.x+this.cl),this.Xi&&F.Mx(-this.cl,0)):this.$e.y<
a.y?(this.We(a.y-this.cl),this.Xi&&F.Mx(0,this.cl)):this.$e.y>a.y&&(this.We(a.y+this.cl),this.Xi&&F.Mx(0,-this.cl));a.y==this.$e.y&&a.x==this.$e.x&&(this.Bg=!1,this.ud(this.et),null!=this.path&&this.fH())},Up:function(a,c){if(!1!=this.sa){var d=F.Ew(a,c),e=this.Gx,f=this.Qf();f.x>a?this.yf(e.x,1,"LEFT"):f.x<a&&this.yf(e.x,2,"RIGHT");f.y>c?this.yf(e.x,0,"DOWN"):f.y<c&&this.yf(e.x,3,"UP");if(!d)this.Xi&&null==Mapeditor&&(f.x<a&&F.mC()?(this.l(0,32*c),G({changemap:parseInt(F.$B()),setTo:0+c*S}),F.JS(),
F.iC()):f.x>a&&F.iI()&&(this.l(32*(S-1),32*c),G({changemap:parseInt(F.VH()),setTo:S-1+c*S}),F.IS(),F.jC()),f.y<c&&F.jI()?(this.l(32*a,32),G({changemap:parseInt(F.WH()),setTo:a+1*S}),F.KS(),F.kC()):f.y>c&&F.hI()&&(G({changemap:parseInt(F.UH()),setTo:a+Pa*S}),F.HS(),this.l(32*a,32*Pa),F.gC()));else if(!1==this.Bg&&d){switch(d.kc()){case 1:case 7:return;case 3:this.DX(d.Qe());return}this.$e=q.a(32*a,32*c);this.Bg=!0;this.qc(this.et);this.et(0);this.Xi?G({moveTo:this.$e.x/32+this.$e.y/32*S}):-1<this.il&&
G({npcID:this.il+"",mapnumber:this.Dg,moveNPC:this.$e.x/32+this.$e.y/32*S})}}},fH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.Up(this.path[0].x,this.path[0].y))},xD:function(a){if(null==this.path||0!=a.length)this.path=a,this.fH()},ZK:function(a){if(!1!=this.sa){var c=a%S;a=Math.floor(a/S);if(!1==this.Bg){var d=this.Gx,e=this.Qf();4<Math.abs(q.KC(q.a(c,a),e))?this.l(q.a(32*c,32*a)):(e.x>c?this.yf(d.x,1,"LEFT"):e.x<c?this.yf(d.x,2,"RIGHT"):
e.y>a?this.yf(d.x,0,"DOWN"):e.y<a&&this.yf(d.x,3,"UP"),this.$e=q.a(32*c,32*a),this.Bg=!0,this.qc(this.et),this.et(0))}}}});
PlayerCharacter=Character.extend({items:null,r:function(a){this._super(a);this.items={stored:[],equipped:{}}},at:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},PC:function(a){var c=this.Qf(),d=F.Ew(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.un(e,this.items.stored[e].amount));B.Ib(H.ge.Xw+a.name);d.Dw().temp?
G({pickupitem:T(c.x,c.y),mapnumber:F.he(),temp:!0}):G({pickupitem:T(c.x,c.y),mapnumber:F.he()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.un(e,this.items.stored[e].amount);B.Ib(H.ge.Xw+a.name);d.Dw().temp?G({pickupitem:T(c.x,c.y),mapnumber:F.he(),temp:!0}):G({pickupitem:T(c.x,c.y),mapnumber:F.he()});f=!0;break}!1==f&&B.Ib(H.ge.zI)},rU:function(a,c){var d=q.a(c.p.D/32,c.p.I/32);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.un(e,this.items.stored[e].amount));B.Ib(H.ge.Xw+a.name);c.Dw().temp?G({pickupitem:T(d.x,d.y),mapnumber:F.he(),temp:!0}):G({pickupitem:T(d.x,d.y),mapnumber:F.he()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.un(e,this.items.stored[e].amount);B.Ib(H.ge.Xw+a.name);c.Dw().temp?G({pickupitem:T(d.x,d.y),mapnumber:F.he(),temp:!0}):G({pickupitem:T(d.x,
d.y),mapnumber:F.he()});f=!0;break}!1==f&&B.Ib(H.ge.zI)},DH:function(a,c){var d=this.Qf();B.Ib(H.ge.FR+this.items[c][a].name);G({droppeditem:this.items[c][a],mapnumber:F.he(),index:T(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.un(a,0);this.items[c][a]=null;Inventory&&Inventory.zf();Equipment&&Equipment.zf()},zX:function(a){switch(this.items.stored[a].itemType){case "book":Na.$W(this.items.stored[a]);break;case "wearable":this.LR(a)}},LR:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&
(c=ua(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=ua(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.zf();Equipment&&Equipment.zf()},qR:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=ua(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.zf();Equipment&&Equipment.zf();return}B.Ib("No space in inventory to dequip this item.")},Om:function(){return this.items.stored},
hs:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};NonPlayerCharacter=Character.extend({e8:null,Yw:!1,DW:function(a,c){this.Yw=!0;this.vc(function(){this.Up(a.x,a.y);this.Yw=!1},c)},p7:function(){return this.Yw}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Qa=q.Lc.extend({fD:null,b:null,ctor:function(){this._super()},$K:function(){},sn:function(){},gi:function(){},va:function(){this.b&&this.b.P();this.b=Ha(this);this.g(this.b)},Ma:function(){},r:function(){this.uD(1);this.ox(!0);this.Rb(!0);x.qn(this);this._super()},IC:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},ql:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},fW:function(a){this.fD=a},Hc:function(){return this.fD}});DropDownList=Qa.extend({list:null,gR:null,selected:null,b:null,h:null,sH:null,gJ:null,Ts:null,ctor:function(){this._super();this.list=[];this.gR=0},r:function(a,c,d,e){this._super();a&&(this.h=a,this.sH=c,d&&(this.list=d),e&&this.l(e),this.gJ=x.SR(),x.qn(this),this.Pp(-1001),this.ox(!0))},hb:function(a){for(var c=this.b.control_menu.Aa(a.J),d=0;d<this.list.length;d++)this.Ts&&!0!=this.Ts[d].enabled||q.pb(q.rect(this.b.control_menu[d+""].p.D,this.b.control_menu[d+""].p.I,this.b.control_menu[d+""].d().width,
this.b.control_menu[d+""].d().height),c)&&this.sH(d,a);this.DU();return!0},DU:function(){x.qn(this.gJ);this.P();Ma()},lV:function(){this.We(this.p.I-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.d().width>a&&(a=this.b.control_menu[c+""].content.d().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].jH(a+8);this.b.control_menu.jH(a+8)},Ic:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*
c),size:q.size(96,24),c:q.a(0,0),A:q.o(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),A:q.o(200,200,200,0),size:q.size(96,48),children:a}}}}},gi:function(a){a=this.b.control_menu.Aa(a.J);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].n(q.o(200,200,200,200)),this.Ts&&!0!=this.Ts[c].enabled||q.pb(q.rect(this.b.control_menu[c+""].p.D,this.b.control_menu[c+""].p.I,
this.b.control_menu[c+""].d().width,this.b.control_menu[c+""].d().height),a)&&this.b.control_menu[c+""].n(q.o(255,0,0,255))}});DropDownList.$d=function(a,c,d,e,f){var g=new DropDownList;g.r(a,c,d,e);g.b=Ha(g.Ic(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.n(q.o(127,127,127,200));g.Ts=f}g.g(g.b);g.lV();return g};Popup=Qa.extend({sd:null,rf:!1,r:function(){this.fD=this.Hc();this._super();x.qn(this);this.YW();this.Pp(-50)},r2:function(){this.P()},hb:function(a){var c=a.J;x.qn(this);c=this.b.control_panel.Aa(c);if(q.pb(q.rect(this.b.control_panel.exitBtn.p.D,this.b.control_panel.exitBtn.p.I,this.b.control_panel.exitBtn.d().width,this.b.control_panel.exitBtn.d().height),c)){var d=this;this.X.vc(function(){!1==d.rf&&d.Ma();d.P();d=null});return!0}return q.pb(q.rect(this.b.p.x,this.b.p.y+this.b.control_panel.p.y,
this.b.control_panel.d().width,this.b.control_panel.d().height),a.J)?(this.sd=this.b.Wh(a),!0):!1},hd:function(a){return this.sd?(a=a.J,this.b.l(q.a(a.x-this.sd.x,a.y-this.sd.y)),!0):!1},P:function(){w.xW(this.Hc(),this.b.p);this._super()},YW:function(){q.log("Ovveride setupPopup")},Hc:function(){q.log("No id given... using default 'Popup'");return"Popup"},uf:function(){},va:function(){this._super();var a=w.mS();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Hc()])){a=q.a(a.x,a.y);if(a.x>W.width-10||
a.y>W.height)a=q.a(8,100);this.b.l(a)}}});Book=null;
BookPanel=Popup.extend({data:null,Re:null,Hc:function(){return"Book"},Ic:function(){return{panels:{position:q.a(100,20),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(514,313),Z:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),Z:"GUI/btnLeft.png",c:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),Z:"GUI/btnRight.png",c:q.a(0,0)},leftPage:{label:0<this.Re.length?this.Re[0]:this.Re,c:q.a(0,1),position:q.a(4,308),color:q.k(0,0,0)},rightPage:{label:0<this.Re.length?
this.Re[1]:"",c:q.a(0,1),position:q.a(260,308),color:q.k(0,0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.data.name,fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a;this.Re=[];for(a=a.additionalData.Contents;a;)if(470>a.length){this.Re.push(a);break}else this.Re.push(a.substr(0,470)+"..."),a=a.substr(470);this.nU=Math.floor(this.Re.length/
2)-1;this.Qi=0},va:function(){this._super();this.b.main_panel.leftPage.Gd(q.size(248,0));this.b.main_panel.rightPage.Gd(q.size(248,0));this.b.main_panel.pageBackbtn.C(!1);2>this.Re.length&&this.b.main_panel.pageForwardbtn.C(!1)},LS:function(){this.Qi++;this.b.main_panel.pageBackbtn.C(!0);this.Qi==this.nU&&this.b.main_panel.pageForwardbtn.C(!1);this.b.main_panel.leftPage.ea(this.Re[2*this.Qi]);this.Re[2*this.Qi+1]?this.b.main_panel.rightPage.ea(this.Re[2*this.Qi+1]):this.b.main_panel.rightPage.ea("")},
MS:function(){this.Qi--;this.b.main_panel.pageForwardbtn.C(!0);0==this.Qi&&this.b.main_panel.pageBackbtn.C(!1);this.b.main_panel.leftPage.ea(this.Re[2*this.Qi]);this.Re[2*this.Qi+1]&&this.b.main_panel.rightPage.ea(this.Re[2*this.Qi+1])},hb:function(a){if(this._super(a))return!0;this.sd=null;a=this.b.main_panel.Aa(a.J);if(O(this.b.main_panel.pageForwardbtn,a))return this.LS(),!0;if(O(this.b.main_panel.pageBackbtn,a))return this.MS(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Hc:function(){return"Equipment"},Ic:function(){var a={};a.head={Z:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),c:q.a(0,1)};a.legs={Z:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),c:q.a(0,1)};a.feet={Z:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),c:q.a(0,1)};a.body={Z:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),c:q.a(0,1)};a.larm={Z:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),c:q.a(0,1)};
a.rarm={Z:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),c:q.a(0,1)};a.mod={Z:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),c:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{c:q.a(0,0),size:q.size(168,168),Z:"GUI/equipment.png",children:a},control_panel:{c:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:y["Equipment Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),c:q.a(0,
0),Z:"GUI/close.png"}}},item_name:{position:q.a(0,0),A:q.o(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},zf:function(){var a=A.w.ga.hs();this.b.main_panel.head.ja(q.xa.e().Ra("GUI/defaultitem.png"));this.b.main_panel.body.ja(q.xa.e().Ra("GUI/defaultitem.png"));this.b.main_panel.legs.ja(q.xa.e().Ra("GUI/defaultitem.png"));this.b.main_panel.feet.ja(q.xa.e().Ra("GUI/defaultitem.png"));this.b.main_panel.larm.ja(q.xa.e().Ra("GUI/defaultitem.png"));
this.b.main_panel.rarm.ja(q.xa.e().Ra("GUI/defaultitem.png"));this.b.main_panel.mod.ja(q.xa.e().Ra("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[a[c].subType].O(0,1);this.b.main_panel[a[c].subType].ja(e);this.b.main_panel[a[c].subType].Jb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},CC:function(a){switch(a){case 0:A.w.ga.qR(this.h.ck);break;case 1:A.w.ga.DH(this.h.ck,"equipped")}},hb:function(a){if(this._super(a))return!0;
this.sd=null;var c=this.b.main_panel.Aa(a.J),d=A.w.ga.hs(),e;for(e in d)if(d[e]&&O(this.b.main_panel[d[e].subType],q.a(c.x,c.y+32)))return this.ck=e,this.b.item_name.C(!1),c=y["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",A.w.ga.hs()[e].name),d=y["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",A.w.ga.hs()[e].name),this.g(DropDownList.$d(this,this.CC,[c,d],a.J)),!0},gi:function(a){a=this.b.main_panel.Aa(a.J);this.b.item_name.C(!1);var c=A.w.ga.hs(),d;for(d in c)if(c[d]&&O(this.b.main_panel[c[d].subType],
q.a(a.x,a.y+32)))return this.b.item_name.content.ea(c[d].name),this.b.item_name.C(!0),this.b.item_name.U(this.b.item_name.content.d()),this.b.item_name.content.dc(this.b.item_name.content.d().width/2),this.b.item_name.l(q.a(this.b.main_panel[c[d].subType].p.D-this.b.item_name.content.d().width/2+16,this.b.main_panel[c[d].subType].p.I)),!0},va:function(){this._super();this.zf()}});Inventory=null;
InventoryPanel=Popup.extend({ck:null,Hc:function(){return"Inventory"},Ic:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),Z:"GUI/defaultitem.png",c:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),c:q.a(0,0),A:q.o(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.k(0,0,0),c:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{c:q.a(0,0),Z:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:y["Inventory Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}},item_name:{position:q.a(0,0),A:q.o(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},un:function(a,c){this.b.main_panel[a+""].stacklabelbg.C(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.C(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ea(c),this.b.main_panel[a+""].stacklabelbg.U(this.b.main_panel[a+""].stacklabelbg.stacklabel.d()))},zf:function(){for(var a=A.w.ga.Om(),c=0;40>c;c++)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[c+""].O(0,1);this.b.main_panel[c+""].ja(e);this.b.main_panel[c+""].Jb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.un(c,a[c].amount)}else this.b.main_panel[c+
""].ja(q.xa.e().Ra("GUI/defaultitem.png")),this.un(c,0)},va:function(){this._super();this.zf()},CC:function(a){switch(a){case 0:A.w.ga.zX(this.h.ck);break;case 1:A.w.ga.DH(this.h.ck,"stored")}},hb:function(a){if(this._super(a))return!0;this.sd=null;for(var c=this.b.main_panel.Aa(a.J),d=0;40>d;d++)if(A.w.ga.Om()[d]&&O(this.b.main_panel[d+""],q.a(c.x,c.y+32))){c=c=y["Item Dropdown Use"]+"";switch(A.w.ga.Om()[d].itemType){case "wearable":c=y["Item Dropdown Equip"]+"";break;case "consumable":c=y["Item Dropdown Eat"]+
"";break;case "book":c=y["Item Dropdown Read"]+""}var c=c.replace("\x3cITEM\x3e",A.w.ga.Om()[d].name),e=y["Item Dropdown Drop"]+"",e=e.replace("\x3cITEM\x3e",A.w.ga.Om()[d].name);this.ck=d;this.b.item_name.C(!1);this.g(DropDownList.$d(this,this.CC,[c,e],a.J));return!0}},gi:function(a){a=this.b.main_panel.Aa(a.J);for(var c=0;40>c;c++)if(A.w.ga.Om()[c]&&O(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ea(A.w.ga.Om()[c].name),this.b.item_name.C(!0),this.b.item_name.U(this.b.item_name.content.d()),
this.b.item_name.content.dc(this.b.item_name.content.d().width/2),this.b.item_name.l(q.a(this.b.main_panel[c+""].p.D-this.b.item_name.content.d().width/2+16,this.b.main_panel[c+""].p.I)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Hc:function(){return"Sign"},Ic:function(){return{panels:{position:q.a(100,300),children:{control_panel:{c:q.a(0,0),size:q.size(128,96),Z:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:q.k(255,255,255),c:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},va:function(){this._super();this.b.control_panel.content.Gd(q.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({Hc:function(){return"Skills"},Ic:function(){for(var a={},c=ObjectLists.Pm(),d=0;d<c.length;d++)a[d+""]={c:q.a(0,0),position:q.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:q.a(4,2),Ow:!0,c:q.a(0,0)},name:{position:q.a(46,18),size:q.size(120,32),label:c[d].name,fontSize:16,color:q.k(255,255,255),c:q.a(0,0.5)},level:{position:q.a(210,18),size:q.size(86,32),c:q.a(0.5,0.5),label:"Level",fontSize:16,color:q.k(255,255,255)}}};return{panels:{position:q.a(100,300),children:{main_panel:{c:q.a(0,
0),size:q.size(256,40*c.length),Z:"GUI/skills.png",children:a},control_panel:{c:q.a(0,0),position:q.a(0,40*c.length),size:q.size(256,32),children:{header:{label:y["Skills Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(232,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}},item_name:{position:q.a(0,0),A:q.o(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}},control_menu:{position:q.a(0,
0),A:q.o(200,200,200,200),size:q.size(96,48),visible:!1,children:{dropbtn:{position:q.a(0,0),size:q.size(96,24),c:q.a(0,0),A:q.o(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}},unequipbtn:{position:q.a(0,24),size:q.size(96,24),c:q.a(0,0),A:q.o(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}}}}}}}},zf:function(){console.log("Updating tile grid");for(var a=ObjectLists.Pm(),
c=0;c<a.length;c++)this.b.main_panel[c+""].icon.ja(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[c+""].icon.ja(e);this.b.main_panel[c+""].icon.Jb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},va:function(){this._super();this.zf()}});
var za=q.Lc.extend({hw:[],NK:function(){var a=ObjectLists.Pm(),c;for(c in this.hw)this.hw[c].P();this.hw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.fR(a[c].name,a[c].healthbar,d);this.g(e);this.hw.push(e);d++}this.l(q.a(0,W.height-32*d))},fR:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.la.create(q.o(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,23);
e.DB=q.v.ub(q.xa.e().Ra("GUI/healthbar.png"));e.l(10,32*d- -5*d-10);e.O(q.a(0,0));e.DB.l(-5,-4);e.DB.O(q.a(0,0));e.g(e.DB);a=q.S.create(a,"Arial",16);a.l(10,11.5);a.O(q.a(0,0.5));e.g(a);return e}});SkillBarsInstance=null;za.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new za,SkillBarsInstance.NK());return SkillBarsInstance};za.update=function(){SkillBarsInstance.NK()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,W:null,eb:null,Zi:null,Se:null,Te:null,S1:null,h:null,Ka:null,yK:null,qH:null,sc:null,R:null,Ws:null,aj:function(a){G({savescripts:a+"",scriptsdata:this.data})},Ri:function(a,c){G({savescriptswhole:c})},Hc:function(){return"Scripts"},Ma:function(a){this._super();if(this.h){var c=this.h;!0!=a&&this.h.vc(function(){c.Uc(null)})}},r:function(a){this._super();this.data={data:[],name:null};this.Ka=null;a.data&&(this.data=a.data);this.h=a.h},va:function(){this._super();this.Ka=
new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.o(255,255,255),q.k(0,0,0));this.Ka.cc(!0);this.Xb()},Xb:function(){this.W&&this.W.pc();for(var a in this.Se)this.Se[a].pc(),this.Se[a].P();for(a in this.Te)this.Te[a].pc(),this.Te[a].P();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.xa.e();this.Se=[];this.Te=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=q.B.create();c[a].U(758,100);var l=q.la.create(q.o(0,0,0,127),750,1);l.l(q.a(4,0));var m=q.la.create(q.o(0,0,0,127),1,92);m.l(q.a(152,4));var n=q.la.create(q.o(0,0,0,127),1,92);n.l(q.a(451,4));var r=this.data.data[a].type;"On Event End"==r&&(r+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");r=q.S.create(a+": "+r,"Arial",15);r.n(q.k(0,0,0));r.O(q.a(0,1));r.l(q.a(4,96));r.Gd(q.size(100,0));var p=q.la.create(q.o(0,255,0,60),259,100);
p.U(q.size(259,100));p.dc(451);p.O(q.a(0,0));c[a].g(p);var t=q.la.create(q.o(0,255,0,60),259,100);t.U(q.size(259,100));t.dc(152);t.O(q.a(0,0));c[a].g(t);var v=q.v.ub(k.Ra("GUI/trash.png"));v.l(q.a(120,4));v.O(q.a(0,0));v.Tc="Delete";c[a].g(v);var z=q.v.ub(k.Ra("GUI/edit.png"));z.l(q.a(96,4));z.O(q.a(0,0));z.Tc="Edit";c[a].g(z);f.push([v,z]);for(v=0;v<this.data.data[a].responses.length;v++){d[a].push(q.B.create());d[a][v].U(259,32);z=q.S.create(v+1+": "+this.data.data[a].responses[v].type,"Arial",
15);z.n(q.k(0,0,0));z.O(q.a(0,0));z.l(q.a(4,4));z.Gd(q.size(180,0));d[a][v].U(259,z.d().height+8);d[a][v].g(z);z=q.v.ub(k.Ra("GUI/trash.png"));z.l(q.a(229,0));z.O(q.a(0,0));z.Tc="Delete";d[a][v].g(z);var D=q.v.ub(k.Ra("GUI/edit.png"));D.l(q.a(205,0));D.O(q.a(0,0));D.Tc="Edit";d[a][v].g(D);g[a].push([z,D])}v=q.la.create(q.o(70,200,70,255),90,26);z=q.S.create("+","Arial",20);z.l(45,13);z.O(q.a(0.5,0.5));v.l(q.a(84.5,0));v.Tc="Add";v.g(z);g[a].push([v]);d[a].push(v);this.Te[a]=t;this.Te[a].identifier=
a;var C=this;this.Te[a].vg=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].d().height;return q.size(259,a)};this.Te[a].Rf=function(){return d[this.identifier].length};this.Te[a].nh=function(a){return d[this.identifier][a].d()};this.Te[a].mh=function(a){return d[this.identifier][a]};this.Te[a].Ue=function(a,c,d){C.Aa(d.J);if(null==C.R)switch(a){case "Delete":C.X.g(DropDownList.$d(C,C.pR,["Cancel","Delete"],d.J));C.eb=c;C.Zi=this.identifier;break;case "Edit":C.EH(this.identifier,
"responses",c);break;case "Add":a="Talk;Give Talk Options;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Open/Close Panel;Modify Player Stats".split(";");switch(C.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");case "Item":a.push("Equip Item","Consume Item","Read Item");break;case "Tile":a.push("Block Entry","Add Layer Graphic")}C.X.g(DropDownList.$d(C,C.sQ,a,d.J));C.Zi=this.identifier;break;case "Use":C.h.Ss(c,C.Gc[c])}};this.Te[a].Wa=ListView.create(this.Te[a]);
this.Te[a].Wa.vh(g[a]);this.Te[a].g(this.Te[a].Wa);for(v=0;v<this.data.data[a].requirements.length;v++)e[a].push(q.B.create()),e[a][v].U(259,32),t=q.S.create(v+1+": "+this.data.data[a].requirements[v].type,"Arial",15),t.n(q.k(0,0,0)),t.O(q.a(0,0)),t.l(q.a(4,4)),t.Gd(q.size(180,0)),e[a][v].U(259,t.d().height+8),e[a][v].g(t),z=q.v.ub(k.Ra("GUI/trash.png")),z.l(q.a(229,0)),z.O(q.a(0,0)),z.Tc="Delete",e[a][v].g(z),D=q.v.ub(k.Ra("GUI/edit.png")),D.l(q.a(205,0)),D.O(q.a(0,0)),D.Tc="Edit",e[a][v].g(D),h[a].push([z,
D]);t=q.la.create(q.o(70,200,70,255),90,26);v=q.S.create("+","Arial",20);v.l(45,13);v.O(q.a(0.5,0.5));t.l(q.a(84.5,0));t.Tc="Add";t.g(v);h[a].push([t]);e[a].push(t);this.Se[a]=p;this.Se[a].identifier=a;C=this;this.Se[a].vg=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].d().height;return q.size(259,a)};this.Se[a].Rf=function(){return e[this.identifier].length};this.Se[a].nh=function(a){return e[this.identifier][a].d()};this.Se[a].mh=function(a){return e[this.identifier][a]};
this.Se[a].Ue=function(a,c,d){C.Aa(d.J);if(null==C.R)switch(a){case "Delete":C.X.g(DropDownList.$d(C,C.oR,["Cancel","Delete"],d.J));C.eb=c;C.Zi=this.identifier;break;case "Edit":C.EH(this.identifier,"requirements",c);break;case "Add":a="Has Player Items;Is Player Statistics;Is Quest Point;Is Player Position;Is Panel Visibility;Is Player Inventory Space;Is NPC Statistics;Is NPC Attacking;Is NPC Actioning".split(";");switch(C.data.specifier){case "Tile":a.push("Is Object Type")}C.X.g(DropDownList.$d(C,
C.rQ,a,d.J));C.Zi=this.identifier;break;case "Use":C.h.Ss(c,C.Gc[c])}};this.Se[a].Wa=ListView.create(this.Se[a]);this.Se[a].Wa.vh(h[a]);this.Se[a].g(this.Se[a].Wa);c[a].g(r);c[a].g(l);c[a].g(m);c[a].g(n)}a=q.la.create(q.o(70,200,70,255),90,26);g=q.S.create("+","Arial",20);g.l(45,13);g.O(q.a(0.5,0.5));a.l(q.a(334,0));a.Tc="Add";a.g(g);f.push([a]);c.push(a);this.W=this.b.main_panel.list;C=this;this.W.vg=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].d().height;return q.size(758,a)};this.W.Rf=function(){return c.length};
this.W.nh=function(a){return c[a].d()};this.W.mh=function(a){return c[a]};this.W.Ue=function(a,c,d){C.Aa(d.J);if(null==C.R)switch(a){case "Delete":a="Delete";C.SS(c)&&(a="Delete (Will destroy all child events)");C.X.g(DropDownList.$d(C,C.nR,["Cancel",a],d.J));C.eb=c;break;case "Add":a=["Default Interaction","On Event End","On Examine","On Talk Option Selected"];var e=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1}];0==C.data.data.length&&(e[1].enabled=!1);C.MR()&&(e[3].enabled=!0);switch(C.data.specifier){case "Item":a.push("On Pickup",
"On Drop","On Dequip","On Trade");e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Will Enter","On Enter","Will Leave","On Leave","On Come Near"),e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}C.X.g(DropDownList.$d(C,C.nQ,a,d.J,e));C.eb=c;break;case "Use":C.h.Ss(c,C.Gc[c])}};this.W.Wa=ListView.create(this.W);this.W.Wa.vh(f);this.W.g(this.W.Wa)},tH:function(a){for(var c=0;c<this.data.data.length;c++)"On Event End"==this.data.data[c].type&&
this.data.data[c].data.attachedEvent==a&&(this.tH(c),this.data.data.splice(c,1))},SS:function(a){for(var c=0;c<this.data.data.length;c++)if("On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},MR:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Give Talk Options"==this.data.data[a].responses[c].type)return!0;return!1},nR:function(a){switch(a){case 1:null!=this.h.eb&&(this.h.tH(this.h.eb),this.h.data.data.splice(this.h.eb,
1),this.h.Xb(),this.h.eb=null)}},pR:function(a){switch(a){case 1:null!=this.h.eb&&(this.h.data.data[this.h.Zi].responses.splice(this.h.eb,1),this.h.Xb(),this.h.eb=null,this.h.Zi=null)}},oR:function(a){switch(a){case 1:null!=this.h.eb&&(this.h.data.data[this.h.Zi].requirements.splice(this.h.eb,1),this.h.Xb(),this.h.eb=null,this.h.Zi=null)}},mQ:function(a){this.h.data.data.push({type:"On Event End",responses:[],requirements:[],data:{attachedEvent:a}});this.h.Xb()},nQ:function(a,c){var d="";switch(a){case 0:d=
"Default Event";break;case 1:for(var d=[],e=0;e<this.h.data.data.length;e++)d.push(e+": "+this.h.data.data[e].type);this.X.g(DropDownList.$d(this.h,this.h.mQ,d,c.J));return;case 2:d="On Examine";break;case 3:d="On Talk Option Selected"}if(""==d)switch(this.h.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;case "Tile":switch(a){case 4:d="Will Enter";break;case 5:d="On Enter";break;case 6:d="Will Leave";break;
case 7:d="On Leave";break;case 8:d="On Come Near"}}this.h.data.data.push({type:d,responses:[],requirements:[],data:{}});this.h.Xb()},sQ:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Give Talk Options";break;case 2:c="Destroy";break;case 3:c="Give /Take Item";break;case 4:c="Set Quest Point";break;case 5:c="Warp Player";break;case 6:c="Wait";break;case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats"}if(""==c)switch(this.h.data.specifier){case "NPC":switch(a){case 9:c="Attack";
break;case 10:c="Run Away";break;case 11:c="Defend";break;case 12:c="Modify NPC Stats"}break;case "Item":switch(a){case 9:c="Equip Item";break;case 10:c="Consume Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 9:c="Block Entry";break;case 10:c="Add Layer Graphic"}}this.h.data.data[this.h.Zi].responses.push({type:c,data:{}});this.h.Xb()},rQ:function(a){var c="";switch(a){case 0:c="Is Player Items";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c=
"Is Player Position";break;case 4:c="Is Panel Visbility";break;case 5:c="Is Player Inventory Space";break;case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}if(""==c)switch(this.h.data.specifier){case "Tile":switch(a){case 8:c="Is Object Type"}}this.h.data.data[this.h.Zi].requirements.push({type:c,data:{}});this.h.Xb()},Ic:function(){return{panels:{position:q.a(0,60),children:{background_image:{Z:"GUI/event_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,
360),A:q.o(0,200,200,200),position:q.a(0,0),c:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),Z:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),Z:"GUI/cross_icon.png",c:q.a(0,0)},defaultsbtn:{position:q.a(542,364),size:q.size(64,32),A:q.o(0,255,0,255),c:q.a(0,0),children:{contents:{label:"Defaults",position:q.a(32,16),c:q.a(0.5,0.5),color:q.k(0,0,0)}}},specifier:{position:q.a(620,364),size:q.size(128,32),A:q.o(0,255,0,255),c:q.a(0,0),children:{contents:{label:"Includes: None",
position:q.a(64,16),c:q.a(0.5,0.5),color:q.k(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,c:q.a(0,0),position:q.a(110,368),color:q.k(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),A:q.o(255,255,255,255)}}},control_panel:{c:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}},subEditorOver:{visible:!1,A:q.o(0,0,0,127),position:q.a(0,
0),size:q.size(800,400)},mainEditorOver:{A:q.o(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},EH:function(a,c,d){this.sc={event:a,listtype:c,id:d};this.Ws=this.data.data[a][c][d].type;this.bX()},e$:function(a){this.data.data[this.sc.event][this.sc.listtype][this.sc.id].data=ua(a);this.Gw();this.sc=null;this.Xb()},d$:function(){this.Gw();this.sc=null},defaultSelected:function(a,c){0<this.h.data.data.length?(this.h.qH=a,this.X.g(DropDownList.$d(this.h,this.h.rR,["Cancel","Clear Script (Required)"],
c.J))):this.h.KJ(a)},a2:function(){},OD:null,PD:null,QD:null,lx:null,kJ:null,UI:null,Yi:null,ck:null,xK:null,Dx:null,Ex:null,Cx:null,bX:function(){this.b.subEditorOver.C(!0);this.b.mainEditorOver.C(!1);var a={panels:{position:q.a(802,0),children:{}}},c=this.data.data[this.sc.event][this.sc.listtype][this.sc.id].data;switch(this.Ws){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",c:q.a(0,0),position:q.a(12,374)},mapNumberText:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,
340),size:q.size(100,32)},mapXLabel:{label:"Map X",c:q.a(0,0),position:q.a(12,310)},mapXText:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",c:q.a(0,0),position:q.a(100,310)},mapYText:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",c:q.a(0,0),position:q.a(12,374)},sayText:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children=
{questLabel:{label:"Quest:",c:q.a(0,0),position:q.a(12,374)},questList:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",c:q.a(0,0),position:q.a(12,189)},objectiveList:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":a.panels.children={itemsLabel:{label:"Item:",c:q.a(0,0),position:q.a(12,374)},itemList:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},
amountLabel:{label:"Amount:",c:q.a(0,0),position:q.a(12,189)},amountText:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Use negative item amounts to take away. Use positive amounts to give.",c:q.a(0,1),position:q.a(12,145)}};break;case "Modify Player Stats":a.panels.children={skillsLabel:{label:"Skill:",c:q.a(0,0),position:q.a(12,374)},skillList:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",
c:q.a(0,0),position:q.a(12,205)},levelText:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,169),size:q.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",c:q.a(0,0),position:q.a(12,145)},expText:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",c:q.a(0,0),position:q.a(12,85)},healthText:{A:q.o(255,255,255,255),c:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,
32),Z:"GUI/tick_icon.png",c:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),Z:"GUI/cross_icon.png",c:q.a(0,0)};this.R=Ha(a,!0);this.b.g(this.R);switch(this.Ws){case "Warp Player":var d=a=1;c.index&&(a=c.index%S,d=Math.floor(c.index/S));this.OD=new $(this.R.mapNumberText,q.size(this.R.mapNumberText.d().width,this.R.mapNumberText.d().height),q.a(0,this.R.mapNumberText.d().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.o(255,255,255),q.k(0,0,0));this.OD.cc(!0);
this.PD=new $(this.R.mapXText,q.size(this.R.mapXText.d().width,this.R.mapXText.d().height),q.a(0,this.R.mapXText.d().height),a,q.o(255,255,255),q.k(0,0,0));this.PD.cc(!0);this.QD=new $(this.R.mapYText,q.size(this.R.mapYText.d().width,this.R.mapYText.d().height),q.a(0,this.R.mapYText.d().height),d,q.o(255,255,255),q.k(0,0,0));this.QD.cc(!0);break;case "Talk":this.lx=new $(this.R.sayText,q.size(this.R.sayText.d().width,this.R.sayText.d().height),q.a(0,this.R.sayText.d().height),c.say?c.say:"\x3cEnter text\x3e",
q.o(255,255,255),q.k(0,0,0),!0);this.lx.cc(!0);this.lx.bj(!1);break;case "Is Quest Point":case "Set Quest Point":for(var e=[],a=[],f=ObjectLists.ks(),d=0;d<f.length;d++){e[d]=q.B.create();var g=q.la.create(q.o(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15);h.n(q.k(0,0,0));h.O(q.a(0,0));h.l(q.a(4,4));h.Gd(q.size(126,0));var k=q.v.ub(q.xa.e().Ra("GUI/use.png"));k.l(q.a(130,0));k.O(q.a(0,0));k.Tc="Use";e[d].U(154,h.d().height+8);k.We((h.d().height+8)/2-10);a.push([k]);var l=q.la.create(q.o(255,
255,255,255),154,h.d().height+8);e[d].g(l);e[d].ph=l;e[d].g(g);e[d].g(h);e[d].g(k)}var m=this;this.R.questList.vg=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.R.questList.Rf=function(){return e.length};this.R.questList.nh=function(a){return e[a].d()};this.R.questList.mh=function(a){return e[a]};this.R.questList.lp=function(a){return e[a].ph};this.R.questList.Ue=function(a,c){if("Use"==a){m.R.objectiveList.Wa&&m.R.objectiveList.Wa.P();this.Wa.ph(c);m.kJ=c;
for(var d=[],e=[],f=q.xa.e(),g=ObjectLists.ks()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.B.create();var k=q.la.create(q.o(0,0,0,127),154,1);k.l(q.a(0,0));var l=q.S.create(g[h],"Arial",15);l.n(q.k(0,0,0));l.O(q.a(0,0));l.l(q.a(4,4));l.Gd(q.size(126,0));var L=q.v.ub(f.Ra("GUI/use.png"));L.l(q.a(130,0));L.O(q.a(0,0));L.Tc="Use";e.push([L]);d[h].U(126,l.d().height+8);L.We((l.d().height+8)/2-10);var Q=q.la.create(q.o(255,255,255,255),154,l.d().height+8);d[h].g(Q);d[h].ph=Q;d[h].g(k);d[h].g(l);d[h].g(L)}m.R.objectiveList.vg=
function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].d().height;return q.size(154,a)};m.R.objectiveList.Rf=function(){return d.length};m.R.objectiveList.lp=function(a){return d[a].ph};m.R.objectiveList.nh=function(a){return d[a].d()};m.R.objectiveList.mh=function(a){return d[a]};m.R.objectiveList.Ue=function(a,c){this.Wa.ph(c);m.UI=c};m.R.objectiveList.Wa=ListView.create(m.R.objectiveList);m.R.objectiveList.Wa.vh(e);m.R.objectiveList.g(m.R.objectiveList.Wa)}};this.R.questList.Wa=ListView.create(this.R.questList);
this.R.questList.Wa.vh(a);this.R.questList.g(this.R.questList.Wa);null!=c.quest&&"undefined"!==c.quest&&(this.R.questList.Ue("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.R.objectiveList.Ue("Use",c.objective));break;case "Give /Take Item":this.R.amountNote.Gd(q.size(180,0));e=[];a=[];f=ObjectLists.$h();for(d=0;d<f.length;d++)e[d]=q.B.create(),g=q.la.create(q.o(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.n(q.k(0,0,0)),h.O(q.a(0,0)),h.l(q.a(4,4)),h.Gd(q.size(126,0)),k=
q.v.ub(q.xa.e().Ra("GUI/use.png")),k.l(q.a(130,0)),k.O(q.a(0,0)),k.Tc="Use",e[d].U(154,h.d().height+8),k.We((h.d().height+8)/2-10),a.push([k]),l=q.la.create(q.o(255,255,255,255),154,h.d().height+8),e[d].g(l),e[d].ph=l,e[d].g(g),e[d].g(h),e[d].g(k);m=this;this.R.itemList.vg=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.R.itemList.Rf=function(){return e.length};this.R.itemList.nh=function(a){return e[a].d()};this.R.itemList.mh=function(a){return e[a]};this.R.itemList.lp=
function(a){return e[a].ph};this.R.itemList.Ue=function(a,c){"Use"==a&&(this.Wa.ph(c),m.ck=c)};this.R.itemList.Wa=ListView.create(this.R.itemList);this.R.itemList.Wa.vh(a);this.R.itemList.g(this.R.itemList.Wa);null!=c.item&&"undefined"!==c.item&&this.R.itemList.Ue("Use",c.item);this.Yi=new $(this.R.amountText,q.size(this.R.amountText.d().width,this.R.amountText.d().height),q.a(0,this.R.amountText.d().height),c.amount?c.amount:"0",q.o(255,255,255),q.k(0,0,0),!0);this.Yi.cc(!0);this.Yi.bj(!1);break;
case "Modify Player Stats":e=[];a=[];f=ObjectLists.Pm();for(d=0;d<f.length;d++)e[d]=q.B.create(),g=q.la.create(q.o(0,0,0,127),154,1),h=q.S.create(f[d].name,"Arial",15),h.n(q.k(0,0,0)),h.O(q.a(0,0)),h.l(q.a(4,4)),h.Gd(q.size(126,0)),k=q.v.ub(q.xa.e().Ra("GUI/use.png")),k.l(q.a(130,0)),k.O(q.a(0,0)),k.Tc="Use",e[d].U(154,h.d().height+8),k.We((h.d().height+8)/2-10),a.push([k]),l=q.la.create(q.o(255,255,255,255),154,h.d().height+8),e[d].g(l),e[d].ph=l,e[d].g(g),e[d].g(h),e[d].g(k);m=this;this.R.skillList.vg=
function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.R.skillList.Rf=function(){return e.length};this.R.skillList.nh=function(a){return e[a].d()};this.R.skillList.mh=function(a){return e[a]};this.R.skillList.lp=function(a){return e[a].ph};this.R.skillList.Ue=function(a,c){"Use"==a&&(this.Wa.ph(c),m.xK=c)};this.R.skillList.Wa=ListView.create(this.R.skillList);this.R.skillList.Wa.vh(a);this.R.skillList.g(this.R.skillList.Wa);null!=c.skill&&"undefined"!==c.skill&&this.R.skillList.Ue("Use",
c.skill);this.Dx=new $(this.R.levelText,q.size(this.R.levelText.d().width,this.R.levelText.d().height),q.a(0,this.R.levelText.d().height),c.level?c.level:"0",q.o(255,255,255),q.k(0,0,0),!0);this.Dx.cc(!0);this.Dx.bj(!1);this.Ex=new $(this.R.expText,q.size(this.R.expText.d().width,this.R.expText.d().height),q.a(0,this.R.expText.d().height),c.xp?c.xp:"0",q.o(255,255,255),q.k(0,0,0),!0);this.Ex.cc(!0);this.Ex.bj(!1);this.Cx=new $(this.R.healthText,q.size(this.R.healthText.d().width,this.R.healthText.d().height),
q.a(0,this.R.healthText.d().height),c.health?c.health:"0",q.o(255,255,255),q.k(0,0,0),!0);this.Cx.cc(!0);this.Cx.bj(!1)}},Gw:function(){this.b.subEditorOver.C(!1);this.b.mainEditorOver.C(!0);this.Ws=null;this.R.P();this.R=null},KJ:function(a){switch(a){case 0:this.tn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.tn(1,!0);this.data.data=[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];
break;case 2:this.tn(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.tn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.tn(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.Xb()},tn:function(a,c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.ea("Includes: Item");
break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.ea("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.ea("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.ea("Includes: None")}this.data.data=[];c||this.Xb()},sR:function(a){1==a&&this.h.tn(this.h.yK)},rR:function(a){1==a&&this.h.KJ(this.h.qH)},jX:function(a,c){if(0<this.h.data.data.length)return this.h.yK=a,this.X.g(DropDownList.$d(this.h,
this.h.sR,["Cancel","Clear Script (Required)"],c.J)),!1;this.h.tn(a)},hb:function(a){if(this._super(a))return!0;this.sd=null;var c=a.J;if(this.R){c=this.R.Aa(c);if(O(this.R.okbtn,c)){switch(this.Ws){case "Warp Player":this.data.data[this.sc.event][this.sc.listtype][this.sc.id].data={mapnum:parseInt(this.OD.aa()),index:T(parseInt(this.PD.aa()),Pa-parseInt(this.QD.aa()))};break;case "Talk":this.data.data[this.sc.event][this.sc.listtype][this.sc.id].data={say:this.lx.aa()};break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.sc.event][this.sc.listtype][this.sc.id].data=
{quest:this.kJ,objective:this.UI};break;case "Give /Take Item":this.data.data[this.sc.event][this.sc.listtype][this.sc.id].data={item:this.ck,amount:parseInt(this.Yi.aa())};break;case "Modify Player Stats":this.data.data[this.sc.event][this.sc.listtype][this.sc.id].data={skill:this.xK,level:parseInt(this.Dx.aa()),xp:parseInt(this.Ex.aa()),health:parseInt(this.Cx.aa())}}this.Gw();return!0}if(O(this.R.cancelbtn,c))return this.Gw(),!0}else{c=this.b.main_panel.Aa(c);if(O(this.b.main_panel.defaultsbtn,
c))return this.X.g(DropDownList.$d(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.J)),!0;if(O(this.b.main_panel.specifier,c))return this.X.g(DropDownList.$d(this,this.jX,["Item","Tile","NPC","None"],a.J)),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Ka.aa()||""==this.Ka.aa())return!0;this.data.name=this.Ka.aa();this.rf=!0;this.h.Uc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.rf=!0;var d=this.h;this.h.vc(function(){d.Uc(null)});
return!0}return O(this.b.main_panel,c)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Ob:I[0].name,Q:0,Ss:function(a,c){Eventsystem&&(Eventsystem.Ma(),this.vc(function(){Eventsystem.P();Eventsystem=null}),this.Ig=a,this.Rb(!0),this.b.main_panel.scriptbtn.text.ea(c.name),this.b.main_panel.scriptbtn.n(q.o(0,255,0,255)))},ZJ:function(){this.b.main_panel.scriptbtn.text.ea("None");this.b.main_panel.scriptbtn.n(q.o(255,0,0,255))},Ic:function(){return{panels:{position:q.a(300,10),children:{background:{Z:"GUI/itemeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),position:q.a(0,
0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,c:q.a(0,0),position:q.a(4,292),color:q.k(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),A:q.o(255,255,255,255)},tiles:{c:q.a(0,1),position:q.a(16,272),Z:I[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),Z:"GUI/texture_change_left.png",c:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),Z:"GUI/texture_change_right.png",c:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,
32),Z:"GUI/texture_change_middle.png",c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,256),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,
255)}}},upbtn:{position:q.a(16,272),size:q.size(320,16),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,c:q.a(0,0),position:q.a(360,206),color:q.k(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,
26),A:N,c:q.a(0,0),children:{text:{label:"No",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,c:q.a(0,0),position:q.a(360,262),color:q.k(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),A:N,c:q.a(0,0),children:{text:{label:"None",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),A:q.o(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,
32),A:q.o(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),Z:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),Z:"GUI/cross_icon.png",c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},Hc:function(){return"itemEditor"},Ka:null,h:null,data:null,Ig:null,r:function(a){this._super();
this.data={sprite:{texture:I[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Ob=I[0].name;this.Q=0;this.Ig=this.h=this.Ka=null;this.L=q.a(0,0);this.h=a.h;a&&a.data&&(this.data=a.data)},aj:function(a){G({saveitems:a+"",itemdata:this.data})},Ri:function(a,c){G({saveitemswhole:c})},va:function(){this._super();this.b.main_panel.highlightnode.da(0);this.b.main_panel.selectednode.da(127);for(var a in I)I[a].name==this.data.sprite.texture&&(this.Q=a,this.Ob=I[a].name);this.b.main_panel.textureName.text.ea(this.Ob);
this.b.main_panel.tiles.ja(I[this.Q].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.n(q.o(0,255,0,255)),this.b.main_panel.scriptbtn.text.ea(ObjectLists.ls()[this.data.script].name),this.Ig=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.L.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.L.y++;a=q.a(32*(this.data.sprite.position.x-this.L.x),32*(this.data.sprite.position.y-this.L.y));this.b.main_panel.selectednode.l(this.b.main_panel.tiles.p.x+a.x,this.b.main_panel.tiles.p.y-
(a.y+32));this.Ka=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.d().width,this.b.main_panel.name_entry.d().height),q.a(0,this.b.main_panel.name_entry.d().height),this.data.name?this.data.name:"",q.o(255,255,255),q.k(0,0,0));this.Ka.cc(!0);this.b.main_panel.stackbtn.n(N);this.b.main_panel.stackbtn.text.ea("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ea("Yes"));this.jb()},Ma:function(a){this._super();if(this.h){var c=this.h;
!0!=a&&this.h.vc(function(){c.Uc(null)})}},gi:function(a){a=a.J;this.b.main_panel.highlightnode.da(0);a=this.b.main_panel.tiles.Aa(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.d().width&&a.y<=this.b.main_panel.tiles.d().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.da(127),this.b.main_panel.highlightnode.l(a),!0},BV:function(){null==Eventsystem||Eventsystem.X||(Eventsystem=null);Eventsystem&&(Eventsystem.Ma(),Eventsystem.P(),Eventsystem=null);Eventsystem=
new PopupList;Eventsystem.r({h:this,kh:new EventSystem,list:ObjectLists.ls(),name:"Script List"});Eventsystem.va();this.X.g(Eventsystem);this.Rb(!1)},jb:function(){this.qc(this.jb);this.b.main_panel.tiles.$()&&!0==this.b.main_panel.tiles.$().mc&&(this.ud(this.jb),this.b.main_panel.tiles.Jb(q.rect(Math.floor(32*this.L.x),Math.floor(32*this.L.y),320>I[this.Q].texture.d().width?I[this.Q].texture.d().width:320,256>I[this.Q].texture.d().height?I[this.Q].texture.d().height:256)))},hb:function(a){if(this._super(a))return!0;
this.sd=null;a=a.J;var c=this.b.main_panel.Aa(q.a(a.x,a.y));if(O(this.b.main_panel.okbtn,c)){if(null==this.Ka.aa()||""==this.Ka.aa())return!0;this.rf=!0;this.data.name=this.Ka.aa();this.data.script=this.Ig;this.h.Uc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.rf=!0;var d=this.h;this.h.vc(function(){d.Uc(null)});return!0}if(O(this.b.main_panel.leftbtn,c))return 264<I[this.Q].texture.d().width&&0<this.L.x&&(this.L.x--,this.jb()),!0;if(O(this.b.main_panel.rightbtn,c))return 320<I[this.Q].texture.d().width&&
this.L.x<(I[this.Q].texture.d().width-320)/32&&(this.L.x++,this.jb()),!0;if(O(this.b.main_panel.upbtn,c))return 320<I[this.Q].texture.d().height&&0<this.L.y&&(this.L.y--,this.jb()),!0;if(O(this.b.main_panel.downbtn,c))return 320<I[this.Q].texture.d().height&&this.L.y<(I[this.Q].texture.d().height-320)/32&&(this.L.y++,this.jb()),!0;if(O(this.b.main_panel.texturerightbtn,c))return this.Bn(),!0;if(O(this.b.main_panel.textureleftbtn,c))return this.Cn(),!0;if(O(this.b.main_panel.stackbtn,c))return this.FK(),
!0;if(O(this.b.main_panel.scriptbtn,c))return this.BV(),!0;c=this.b.main_panel.tiles.Aa(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.d().width&&c.y<=this.b.main_panel.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.da(0);if(this.b.main_panel.selectednode.p.D!=c.x||this.b.main_panel.selectednode.p.I!=c.y)this.b.main_panel.selectednode.da(127),this.b.main_panel.selectednode.l(c);a=q.a((this.b.main_panel.selectednode.p.D-16)/32+this.L.x,8-(this.b.main_panel.selectednode.p.I-
16)/32+this.L.y-1);this.data.sprite.position=a;return!0}return!1},FK:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.n(N);this.b.main_panel.stackbtn.text.ea("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ea("Yes"))},Bn:function(){this.Q>=I.length-1&&(this.Q=-1);this.Q++;this.b.main_panel.tiles.ja(I[this.Q].texture);this.Ob=I[this.Q].name;this.b.main_panel.textureName.text.ea(this.Ob);this.data.sprite.texture=this.Ob;
this.L=q.a(0,0);this.jb()},Cn:function(){0>=this.Q&&(this.Q=I.length);this.Q--;this.b.main_panel.tiles.ja(I[this.Q].texture);this.Ob=I[this.Q].name;this.b.main_panel.textureName.text.ea(this.Ob);this.L=q.a(0,0);this.jb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,W:null,eb:null,Hc:function(){return"Settings Editor"},Ma:function(){this._super()},r:function(){this._super();this.data=ua(y)},aj:function(a){G({savequests:a+"",questdata:this.data})},Ri:function(a,c){G({savequestswhole:c})},va:function(){this._super();this.Xb()},Xb:function(){this.W&&this.W.pc();var a=[],c=[],d=q.xa.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.B.create();a[e].U(324,32);var g=q.S.create(f,"Arial",18);g.O(q.a(0,0));g.l(q.a(4,
0));g.Gd(q.size(246,0));g.n(q.k(100,0,0));a[e].g(g);a[e].U(324,g.d().height+4);g=[];c.push(g);e++}a[e]=q.B.create();a[e].U(324,32);var h=q.la.create(q.o(0,0,0,127),316,1);h.l(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.v.ub(d.Ra("GUI/edit.png"));k.l(q.a(300,0));k.O(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.S.create(f,"Arial",22);l.n(q.k(255,0,0))}else l=q.S.create(this.data[f],"Arial",15),l.n(q.k(0,0,0));l.O(q.a(0,0));l.l(q.a(4,4));l.Gd(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Tc="Edit",g=[],g.push(k));c.push(g);a[e].g(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].g(k);a[e].g(l);"ISSECTION"==this.data[f]?a[e].U(324,l.d().height+12):a[e].U(324,l.d().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.We((l.d().height+8)/2-10);e++}this.W=this.b.main_panel.list;var m=this;this.W.vg=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.W.Rf=function(){return a.length};this.W.nh=
function(c){return a[c].d()};this.W.mh=function(c){return a[c]};this.W.Ue=function(a,c,d){m.Aa(d.J);if(!0!=m.vn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.eb=d;m.TB(d)}};this.W.Wa=ListView.create(this.W);this.W.Wa.vh(c);this.W.g(this.W.Wa)},Ic:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),A:q.o(0,255,0,255),position:q.a(241,292),c:q.a(0,0),children:{content:{label:"Save",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},list:{size:q.size(324,284),A:q.o(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},Pe:null,wa:null,TB:function(a){null!=this.wa&&
(this.wa.pc(),this.Pe=null,this.wa.P(),this.eb=this.wa=null);this.wa=q.la.create(q.o(255,255,255,200),200,200);this.wa.l(q.a((this.b.main_panel.d().width-200)/2,(this.b.main_panel.d().height-200)/2));this.Pe=new $(this.wa,q.size(190,150),q.a(0,this.wa.d().height),this.data[a],q.o(100,100,100),q.k(255,255,255),!0);this.Pe.cc(!0);this.Pe.NJ(!0);a=q.la.create(q.o(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.S.create("OK","Arial",16);c.n(q.k(0,0,0));c.l(32,16);c.O(q.a(0.5,0.5));a.g(c);c=q.la.create(q.o(200,
0,0,255),64,32);c.l(q.a(120,9));var d=q.S.create("Cancel","Arial",16);d.n(q.k(0,0,0));d.l(32,16);d.O(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.wa);this.wa.g(a);this.wa.GC=a;this.wa.g(c);this.wa.cancel=c},hb:function(a){if(this._super(a))return!0;this.sd=null;a=a.J;if(null!=this.wa){a=this.wa.Aa(a);if(O(this.wa.GC,a))return this.data[this.eb]=this.Pe.aa(),this.wa.pc(),this.Pe=null,this.wa.P(),this.eb=this.wa=null,this.Xb(),!0;O(this.wa.cancel,a)&&(this.wa.pc(),this.Pe=null,this.wa.P(),this.eb=
this.wa=null);return!0}a=this.b.main_panel.Aa(a);return O(this.b.main_panel.savebtn,a)?(y=ua(this.data),console.log(y),console.log(this.data),G({savesettings:this.data}),w.ID(this.data,Date.now()),!0):O(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,W:null,h:null,eb:null,Hc:function(){return"Quest Editor"},Ma:function(a){this._super();if(this.h){var c=this.h;!0!=a&&this.h.vc(function(){c.Uc(null)})}},r:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.h=a.h;a&&a.data&&(this.data=a.data)},aj:function(a){G({savequests:a+"",questdata:this.data})},
Ri:function(a,c){G({savequestswhole:c})},va:function(){this._super();this.Xb();this.Ka=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.d().width,this.b.main_panel.nameBox.d().height),q.a(0,this.b.main_panel.nameBox.d().height),this.data.name?this.data.name:"",q.o(255,255,255,255),q.k(0,0,0));this.Ka.cc(!0)},Xb:function(){this.W&&this.W.pc();var a=[],c=[],d=q.xa.e();this.rH={};for(var e in this.data.objectiveList)if(a[e]=q.B.create(),a[e].U(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=q.la.create(q.o(0,0,0,127),316,1);f.l(q.a(4,0));var g=q.v.ub(d.Ra("GUI/edit.png"));g.l(q.a(272,0));g.O(q.a(0,0));var h=q.v.ub(d.Ra("GUI/trash.png"));h.l(q.a(300,0));h.O(q.a(0,0));var k=q.S.create(this.data.objectiveList[e],"Arial",15);k.O(q.a(0,0));k.l(q.a(4,4));k.Gd(q.size(246,0));k.n(q.k(0,0,0));g.Tc="Edit";var l=[];l.push(g);0!=e&&(h.Tc="Delete",l.push(h));c.push(l);a[e].g(f);a[e].g(g);0!=e&&a[e].g(h);a[e].g(k);a[e].U(324,k.d().height+8);g.We((k.d().height+8)/2-10);h.We((k.d().height+
8)/2-10)}d=q.la.create(q.o(70,200,70,255),90,26);e=q.S.create("+","Arial",20);e.l(45,13);e.O(q.a(0.5,0.5));d.l(q.a(120,0));d.Tc="Add";d.g(e);c.push([d]);a.push(d);this.W=this.b.main_panel.list;var m=this;this.W.vg=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.W.Rf=function(){return a.length};this.W.nh=function(c){return a[c].d()};this.W.mh=function(c){return a[c]};this.W.Ue=function(a,c,d){m.Aa(d.J);if(!0!=m.vn)switch(a){case "Delete":null!=m.wa&&(m.wa.pc(),
m.Pe=null,m.wa.P(),m.wa=null,m.eb=null);m.X.g(DropDownList.$d(m,m.MB,["Cancel","Delete"],d.J));m.eb=c;break;case "Edit":m.eb=c;m.TB(c);break;case "Add":m.oQ()}};this.W.Wa=ListView.create(this.W);this.W.Wa.vh(c);this.W.g(this.W.Wa)},Ic:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.k(0,0,0),position:q.a(8,312),c:q.a(0,0)},nameBox:{size:q.size(150,
32),A:q.o(255,255,255,255),position:q.a(8,277),c:q.a(0,0)},savebtn:{size:q.size(64,32),A:q.o(0,255,0,255),position:q.a(175,277),c:q.a(0,0),children:{content:{label:"Save",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),A:q.o(255,0,0,255),position:q.a(253,277),c:q.a(0,0),children:{content:{label:"Exit",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.k(0,0,0),position:q.a(8,254),c:q.a(0,0)},list:{size:q.size(324,250),
A:q.o(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},MB:function(a){switch(a){case 1:this.h.eb&&(this.h.data.objectiveList.splice(this.h.eb,1),this.h.Xb(),this.h.eb=null)}},oQ:function(){this.data.objectiveList.push("Blank Objective");this.Xb()},Pe:null,wa:null,TB:function(a){null!=
this.wa&&(this.wa.pc(),this.Pe=null,this.wa.P(),this.eb=this.wa=null);this.wa=q.la.create(q.o(255,255,255,200),200,200);this.wa.l(q.a((this.b.main_panel.d().width-200)/2,(this.b.main_panel.d().height-200)/2));this.Pe=new $(this.wa,q.size(190,150),q.a(0,this.wa.d().height),this.data.objectiveList[a],q.o(100,100,100),q.k(255,255,255),!0);this.Pe.cc(!0);this.Pe.NJ(!0);a=q.la.create(q.o(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.S.create("OK","Arial",16);c.n(q.k(0,0,0));c.l(32,16);c.O(q.a(0.5,0.5));
a.g(c);c=q.la.create(q.o(200,0,0,255),64,32);c.l(q.a(120,9));var d=q.S.create("Cancel","Arial",16);d.n(q.k(0,0,0));d.l(32,16);d.O(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.wa);this.wa.g(a);this.wa.GC=a;this.wa.g(c);this.wa.cancel=c},hb:function(a){if(this._super(a))return!0;this.sd=null;a=a.J;if(null!=this.wa){a=this.wa.Aa(a);if(O(this.wa.GC,a))return this.data.objectiveList[this.eb]=this.Pe.aa(),this.wa.pc(),this.Pe=null,this.wa.P(),this.eb=this.wa=null,this.Xb(),!0;O(this.wa.cancel,a)&&(this.wa.pc(),
this.Pe=null,this.wa.P(),this.eb=this.wa=null);return!0}a=this.b.main_panel.Aa(a);if(O(this.b.main_panel.savebtn,a)){if(null==this.Ka.aa()||""==this.Ka.aa())return!0;this.rf=!0;this.data.name=this.Ka.aa();this.h.Uc(this.data);return!0}if(O(this.b.main_panel.exitbtn,a)){this.rf=!0;var c=this.h;this.h.vc(function(){c.Uc(null)});return!0}return O(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,L:q.a(0,0),tc:"tiles",HI:null,pw:"ground1",Ob:I[0].name,Q:0,Ic:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,380),A:q.o(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(16,336),Z:I[0].name},textureleftbtn:{position:q.a(360,344),size:q.size(16,32),A:M,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(472,344),
size:q.size(16,32),A:M,c:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(376,344),size:q.size(96,32),A:q.o(255,255,255,170),c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Erase",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,320),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,
255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Fill",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),A:Ga,c:q.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,
0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},groundShadowbtn:{position:q.a(360,218),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),
color:q.k(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,
0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringeShadowbtn:{position:q.a(360,38),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),A:M,c:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),
color:q.k(0,0,0)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),A:q.o(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),A:q.o(100,255,100,255)}}},tab2:{children:{blockbtn:{position:q.a(8,320),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Block",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},warpbtn:{position:q.a(8,280),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Warp",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,
16),color:q.k(0,0,0)}}},itembtn:{position:q.a(8,240),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Item",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},signbtn:{position:q.a(8,200),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Sign",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},npcbtn:{position:q.a(8,160),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"NPC",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,c:q.a(0,0),position:q.a(100,342)},amountLabel:{size:q.size(60,32),position:q.a(98,-1E6)}}},tab3:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),A:q.o(0,255,0,100),c:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),A:q.o(255,0,0,100),c:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),A:q.o(0,0,0,170),c:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,c:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},this_map:{position:q.a(70,248),size:q.size(60,60),A:M,c:q.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.he(),fontSize:12,c:q.a(0.5,0.5),position:q.a(30,30),color:q.k(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Clear",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"NO",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},clearbtnYes:{position:q.a(130,
150),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"YES",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},savebtn:{position:q.a(70,90),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Save",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:q.a(0.5,0),position:q.a(100,122)},savebtnNo:{position:q.a(10,90),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"NO",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,
16),color:q.k(0,0,0)}}},savebtnYes:{position:q.a(130,90),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"YES",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},saveOnExit:{position:q.a(40,30),size:q.size(120,32),A:M,c:q.a(0.5,0),children:{content:{label:"",fontSize:14,c:q.a(0.5,0.5),position:q.a(60,15),color:q.k(0,0,0)}}}}},tab1Clickable:{position:q.a(0,360),size:q.size(60,20),A:M,c:q.a(0,0),children:{text:{label:"Editor",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,
0,0)}}},tab2Clickable:{position:q.a(64,360),size:q.size(60,20),A:M,c:q.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab3Clickable:{position:q.a(128,360),size:q.size(60,20),A:M,c:q.a(0,0),children:{text:{label:"Settings",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,380),size:q.size(420,32),A:q.o(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.he(),fontSize:20,c:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),c:q.a(0,0),A:q.o(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Hc:function(){return"MapEditor"},L:null,Bs:null,ys:null,zs:null,As:null,Yi:null,Ze:null,Fc:0,Ig:null,r:function(a){this._super();this.map=a;this.L=q.a(0,0);this.Ze=[null,496,200,200]},va:function(){this._super();this.b.main_panel.tab1.highlightnode.da(0);this.b.main_panel.tab1.selectednode.da(0);
this.Bs=new $(this.b.main_panel.tab3.mapUp_entry,q.size(this.b.main_panel.tab3.mapUp_entry.d().width,this.b.main_panel.tab3.mapUp_entry.d().height),q.a(0,this.b.main_panel.tab3.mapUp_entry.d().height),F.jI()?F.WH():"",q.o(100,100,100),q.k(255,255,255));this.Bs.cc(!0);this.Bs.bj(!0);this.ys=new $(this.b.main_panel.tab3.mapDown_entry,q.size(this.b.main_panel.tab3.mapDown_entry.d().width,this.b.main_panel.tab3.mapDown_entry.d().height),q.a(0,this.b.main_panel.tab3.mapDown_entry.d().height),F.hI()?F.UH():
"",q.o(100,100,100),q.k(255,255,255));this.ys.cc(!0);this.ys.bj(!0);this.zs=new $(this.b.main_panel.tab3.mapLeft_entry,q.size(this.b.main_panel.tab3.mapLeft_entry.d().width,this.b.main_panel.tab3.mapLeft_entry.d().height),q.a(0,this.b.main_panel.tab3.mapLeft_entry.d().height),F.iI()?F.VH():"",q.o(100,100,100),q.k(255,255,255));this.zs.cc(!0);this.zs.bj(!0);this.As=new $(this.b.main_panel.tab3.mapRight_entry,q.size(this.b.main_panel.tab3.mapRight_entry.d().width,this.b.main_panel.tab3.mapRight_entry.d().height),
q.a(0,this.b.main_panel.tab3.mapRight_entry.d().height),F.mC()?F.$B():"",q.o(100,100,100),q.k(255,255,255));this.As.cc(!0);this.As.bj(!0);this.Yi=new $(this.b.main_panel.tab2.amountLabel,q.size(this.b.main_panel.tab2.amountLabel.d().width,this.b.main_panel.tab2.amountLabel.d().height),q.a(0,this.b.main_panel.tab2.amountLabel.d().height),F.mC()?F.$B():"1",q.o(100,100,100),q.k(255,255,255));this.Yi.cc(!0);this.Yi.bj(!0);this.Ax(!1);this.Bx(!1);this.kx=w.dS();this.dK(this.kx);this.Gg(1);this.jb();F.gK(!0)},
Ss:function(a,c){Warpeditor&&(Warpeditor.Ma(),this.vc(function(){Warpeditor.P();Warpeditor=null}),this.Ig=a,this.Rb(!0));Signeditor&&(Signeditor.Ma(),this.vc(function(){Signeditor.P();Signeditor=null}),this.Ig=a,this.Rb(!0));Itemeditor&&(Itemeditor.Ma(),this.vc(function(){Itemeditor.P();Itemeditor=null}),this.Ig=a,this.Rb(!0),this.Yi.uc.xh("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.C(!0),this.b.main_panel.tab2.amountLabel.l(98,308)));NPCeditor&&(NPCeditor.Ma(),this.vc(function(){NPCeditor.P();
NPCeditor=null}),this.Ig=a,this.Rb(!0))},Ma:function(){this._super();!0==this.kx&&(F.VJ({up:this.Bs.aa(),down:this.ys.aa(),left:this.zs.aa(),right:this.As.aa()}),F.VK());F.gK(!1)},gi:function(a){a=a.J;if(1==this.Fc&&(this.b.main_panel.tab1.highlightnode.da(0),a=this.b.main_panel.tab1.tiles.Aa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.da(127),this.b.main_panel.tab1.highlightnode.l(a),
!0},Gg:function(a){if(a!=this.Fc){this.b.main_panel.U(this.Ze[a],this.b.main_panel.d().height);this.b.control_panel.U(this.Ze[a],this.b.control_panel.d().height);if(3==this.Fc||0==this.Fc)this.b.main_panel.tab3.mapUp_entry.dc(this.b.main_panel.tab3.mapUp_entry.p.D-1E3),this.b.main_panel.tab3.mapLeft_entry.dc(this.b.main_panel.tab3.mapLeft_entry.p.D-1E3),this.b.main_panel.tab3.mapDown_entry.dc(this.b.main_panel.tab3.mapDown_entry.p.D-1E3),this.b.main_panel.tab3.mapRight_entry.dc(this.b.main_panel.tab3.mapRight_entry.p.D-
1E3);1!=this.Fc||"erasing"!=this.tc&&"tiles"!=this.tc||(this.tc="blocking");2==this.Fc&&"blocking"==this.tc&&(this.tc="tiles");this.Fc=a;this.b.main_panel.tab1.C(!1);this.b.main_panel.tab2.C(!1);this.b.main_panel.tab3.C(!1);this.b.main_panel.tab1Clickable.n(M);this.b.main_panel.tab2Clickable.n(M);this.b.main_panel.tab3Clickable.n(M);this.b.main_panel["tab"+a].C(!0);this.b.main_panel["tab"+a+"Clickable"].n(q.o(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.dc(this.b.main_panel.tab3.mapUp_entry.p.D+
1E3),this.b.main_panel.tab3.mapLeft_entry.dc(this.b.main_panel.tab3.mapLeft_entry.p.D+1E3),this.b.main_panel.tab3.mapDown_entry.dc(this.b.main_panel.tab3.mapDown_entry.p.D+1E3),this.b.main_panel.tab3.mapRight_entry.dc(this.b.main_panel.tab3.mapRight_entry.p.D+1E3));this.b.control_panel.exitBtn.dc(this.Ze[a]-29)}},dK:function(a){w.kW(a);this.kx=a;this.b.main_panel.tab3.saveOnExit.n(q.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ea("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.n(q.k(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ea("Save on exit: YES")},jb:function(){this.qc(this.jb);this.b.main_panel.tab1.tiles.$()&&!0==this.b.main_panel.tab1.tiles.$().mc&&(this.ud(this.jb),this.b.main_panel.tab1.tiles.Jb(q.rect(Math.floor(32*this.L.x),Math.floor(32*this.L.y),320>I[this.Q].texture.d().width?I[this.Q].texture.d().width:320,320>I[this.Q].texture.d().height?I[this.Q].texture.d().height:320)))},hb:function(a){if(this._super(a))return!0;this.sd=null;a=a.J;var c=this.b.main_panel.Aa(a);
if(O(this.b.main_panel.tab1Clickable,c))return this.Gg(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Gg(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Gg(3),!0;if(1==this.Fc){if(O(this.b.main_panel.tab1.leftbtn,c))return 320<I[this.Q].texture.d().width&&0<this.L.x&&(this.L.x--,this.jb()),!0;if(O(this.b.main_panel.tab1.rightbtn,c))return 320<I[this.Q].texture.d().width&&this.L.x<(I[this.Q].texture.d().width-320)/32&&(this.L.x++,this.jb()),!0;if(O(this.b.main_panel.tab1.upbtn,
c))return 320<I[this.Q].texture.d().height&&0<this.L.y&&(this.L.y--,this.jb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<I[this.Q].texture.d().height&&this.L.y<(I[this.Q].texture.d().height-320)/32&&(this.L.y++,this.jb()),!0;if(O(this.b.main_panel.tab1.ground1btn,c))return this.ej("ground1"),!0;if(O(this.b.main_panel.tab1.ground2btn,c))return this.ej("ground2"),!0;if(O(this.b.main_panel.tab1.groundShadowbtn,c))return this.ej("groundShadow"),!0;if(O(this.b.main_panel.tab1.mask1btn,c))return this.ej("mask1"),
!0;if(O(this.b.main_panel.tab1.mask2btn,c))return this.ej("mask2"),!0;if(O(this.b.main_panel.tab1.mask3btn,c))return this.ej("mask3"),!0;if(O(this.b.main_panel.tab1.fringe1btn,c))return this.ej("fringe1"),!0;if(O(this.b.main_panel.tab1.fringe2btn,c))return this.ej("fringe2"),!0;if(O(this.b.main_panel.tab1.fringeShadowbtn,c))return this.ej("fringeShadow"),!0;if(O(this.b.main_panel.tab1.fringe3btn,c))return this.ej("fringe3"),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Bn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,
c))return this.Cn(),!0;if(O(this.b.main_panel.tab1.deletebtn,c))return this.tc="erasing"==this.tc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.n(M),"erasing"==this.tc&&this.b.main_panel.tab1.deletebtn.n(N),!0;if(O(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Ti()&&(F.NR(I[this.Q].name,q.a((this.b.main_panel.tab1.selectednode.p.D-16)/32+this.L.x,9-(this.b.main_panel.tab1.selectednode.p.I-16)/32+this.L.y),this.pw),F.bt()),!0;c=this.b.main_panel.tab1.tiles.Aa(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.d().width&&c.y<=this.b.main_panel.tab1.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.da(0);if(this.b.main_panel.tab1.selectednode.p.D!=c.x||this.b.main_panel.tab1.selectednode.p.I!=c.y)this.b.main_panel.tab1.selectednode.da(127),this.b.main_panel.tab1.selectednode.l(c);return!0}}if(2==this.Fc){if(O(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.n(M),this.b.main_panel.tab2.signbtn.n(M),
this.b.main_panel.tab2.npcbtn.n(M),this.b.main_panel.tab2.itembtn.n(M),this.b.main_panel.tab2.blockbtn.n(M),this.tc="blocking"==this.tc?"tiles":"blocking","blocking"==this.tc&&(this.b.main_panel.tab2.blockbtn.n(N),this.b.main_panel.tab2.amountLabelHead.C(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E5)),!0;if(O(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.n(M),this.b.main_panel.tab2.signbtn.n(M),this.b.main_panel.tab2.npcbtn.n(M),this.b.main_panel.tab2.itembtn.n(M),this.b.main_panel.tab2.blockbtn.n(M),
this.b.main_panel.tab2.amountLabelHead.C(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.tc="warping"==this.tc?"tiles":"warping","warping"==this.tc&&(null==Warpeditor||Warpeditor.X||(Warpeditor=null),Warpeditor&&(Warpeditor.Ma(),Warpeditor.P(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({h:this,kh:new WarpEditor,list:ObjectLists.Qm(),name:"Warp List"}),Warpeditor.va(),this.X.g(Warpeditor),this.Rb(!1),this.b.main_panel.tab2.warpbtn.n(N),this.b.main_panel.tab2.amountLabelHead.C(!1),
this.b.main_panel.tab2.amountLabel.l(68,-1E5)),!0;if(O(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.n(M),this.b.main_panel.tab2.warpbtn.n(M),this.b.main_panel.tab2.npcbtn.n(M),this.b.main_panel.tab2.itembtn.n(M),this.b.main_panel.tab2.blockbtn.n(M),this.b.main_panel.tab2.amountLabelHead.C(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.tc="signs"==this.tc?"tiles":"signs","signs"==this.tc&&(null==Signeditor||Signeditor.X||(Signeditor=null),Signeditor&&(Signeditor.Ma(),
Signeditor.P(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({h:this,kh:new SignEditor,list:ObjectLists.ms(),name:"Sign List"}),Signeditor.va(),this.X.g(Signeditor),this.Rb(!1),this.b.main_panel.tab2.signbtn.n(N)),!0;if(O(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.n(M),this.b.main_panel.tab2.warpbtn.n(M),this.b.main_panel.tab2.npcbtn.n(M),this.b.main_panel.tab2.itembtn.n(M),this.b.main_panel.tab2.blockbtn.n(M),this.b.main_panel.tab2.amountLabelHead.C(!1),this.b.main_panel.tab2.amountLabel.l(68,
-1E6),this.tc="npcs"==this.tc?"tiles":"npcs","npcs"==this.tc&&(null==NPCeditor||NPCeditor.X||(NPCeditor=null),NPCeditor&&(NPCeditor.Ma(),NPCeditor.P(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({h:this,kh:new NPCEditor,list:ObjectLists.el(),name:"NPC List"}),NPCeditor.va(),this.X.g(NPCeditor),this.Rb(!1),this.b.main_panel.tab2.npcbtn.n(N)),!0;if(O(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.n(M),this.b.main_panel.tab2.itembtn.n(M),this.b.main_panel.tab2.npcbtn.n(M),
this.b.main_panel.tab2.blockbtn.n(M),this.b.main_panel.tab2.amountLabelHead.C(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.tc="items"==this.tc?"tiles":"items","items"==this.tc&&(null==Itemeditor||Itemeditor.X||(Itemeditor=null),Itemeditor&&(Itemeditor.Ma(),Itemeditor.P(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({h:this,kh:new ItemEditor,list:ObjectLists.$h(),name:"Item List"}),Itemeditor.va(),this.X.g(Itemeditor),this.Rb(!1),this.b.main_panel.tab2.itembtn.n(N)),!0}if(3==this.Fc){if(O(this.b.main_panel.tab3.clearbtn,
c))return this.Ax(!0),!0;if(O(this.b.main_panel.tab3.clearbtnNo,c))return this.Ax(!1),!0;if(O(this.b.main_panel.tab3.clearbtnYes,c))return F.Dd(),this.Ax(!1),!0;if(O(this.b.main_panel.tab3.savebtn,c))return this.Bx(!0),!0;if(O(this.b.main_panel.tab3.savebtnNo,c))return this.Bx(!1),!0;if(O(this.b.main_panel.tab3.savebtnYes,c))return F.VJ({up:this.Bs.aa(),down:this.ys.aa(),left:this.zs.aa(),right:this.As.aa()}),F.VK(),this.Bx(!1),!0;if(O(this.b.main_panel.tab3.saveOnExit,c))return this.dK(!this.kx),
!0}return!1},ej:function(a){this.b.main_panel.tab1.ground1btn.n(M);this.b.main_panel.tab1.ground2btn.n(M);this.b.main_panel.tab1.groundShadowbtn.n(M);this.b.main_panel.tab1.mask1btn.n(M);this.b.main_panel.tab1.mask2btn.n(M);this.b.main_panel.tab1.mask3btn.n(M);this.b.main_panel.tab1.fringe1btn.n(M);this.b.main_panel.tab1.fringe2btn.n(M);this.b.main_panel.tab1.fringeShadowbtn.n(M);this.b.main_panel.tab1.fringe3btn.n(M);this.b.main_panel.tab1[a+"btn"].n(Ga);this.pw=a},Bn:function(){this.Q>=I.length-
1&&(this.Q=-1);this.Q++;this.b.main_panel.tab1.tiles.ja(I[this.Q].texture);this.Ob=I[this.Q].name;this.b.main_panel.tab1.textureName.text.ea(this.Ob);this.L=q.a(0,0);this.jb()},Cn:function(){0>=this.Q&&(this.Q=I.length);this.Q--;this.b.main_panel.tab1.tiles.ja(I[this.Q].texture);this.Ob=I[this.Q].name;this.b.main_panel.tab1.textureName.text.ea(this.Ob);this.L=q.a(0,0);this.jb()},Ax:function(a){this.b.main_panel.tab3.clearbtnYes.C(a);this.b.main_panel.tab3.clearbtnNo.C(a);this.b.main_panel.tab3.clear_text.C(a);
this.b.main_panel.tab3.clearbtn.C(!a)},Bx:function(a){this.b.main_panel.tab3.savebtnYes.C(a);this.b.main_panel.tab3.savebtnNo.C(a);this.b.main_panel.tab3.save_text.C(a);this.b.main_panel.tab3.savebtn.C(!a)},JK:function(a,c,d){if(a[c]==this.HI&&"moved"==d)return!1;this.HI=a[c];switch(this.tc){case "tiles":0!=this.b.main_panel.tab1.selectednode.Ti()&&F.hk(c,I[this.Q].name,q.a((this.b.main_panel.tab1.selectednode.p.D-16)/32+this.L.x,9-(this.b.main_panel.tab1.selectednode.p.I-16)/32+this.L.y),this.pw);
break;case "blocking":if(1!=a[c].kc()){F.cj(c,1);break}F.cj(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.X){if(3!=a[c].kc()){F.cj(c,3,this.Ig);break}F.cj(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.X){if(7!=a[c].kc()){F.cj(c,7,this.Ig);break}F.cj(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.X){if(4!=a[c].kc()){F.cj(c,4,this.Ig,{amount:this.Yi.aa()});break}F.cj(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.X){if(5!=a[c].kc()){F.cj(c,5,this.Ig);
break}F.cj(c,0,null)}break;case "erasing":F.PB(c,this.pw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Ob:K[0].name,Q:0,Ic:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,396),A:q.o(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(48,320),Z:K[0].name},textureleftbtn:{position:q.a(32,340),size:q.size(16,32),A:M,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(144,340),size:q.size(16,32),A:M,c:q.a(0,0),
children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(48,340),size:q.size(96,32),A:q.o(255,255,255,170),c:q.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},upbtn:{position:q.a(48,320),size:q.size(96,16),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(48,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(48,48),size:q.size(96,
16),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(48,8),color:q.k(255,255,255)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(96,128),A:q.o(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(96,128),A:q.o(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:q.a(144,0),size:q.size(250,366),A:q.o(0,0,255,100),c:q.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,
32),position:q.a(4,312)}}},tab3:{},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),A:M,c:q.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),A:M,c:q.a(0,0),children:{text:{label:"Details",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab3Clickable:{position:q.a(128,376),size:q.size(60,20),A:M,c:q.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:q.a(0.5,0.5),
position:q.a(32,10),color:q.k(0,0,0)}}},okbtn:{position:q.a(104,8),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"OK",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}},cancelbtn:{position:q.a(32,8),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,396),size:q.size(420,32),A:q.o(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),c:q.a(0,0),A:q.o(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Hc:function(){return"npcEditor"},Ka:null,Ze:null,Fc:0,h:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Ob=K[0].name;this.Q=0;this.Ze=this.Ka=null;this.Fc=0;this.h=null;this.L=q.a(0,0);this.Ze=[null,190,400,200];this.h=a.h;a&&a.data&&(this.data=
a.data)},aj:function(a){G({savenpcs:a+"",npcsdata:this.data})},Ri:function(a,c){G({savenpcswhole:c})},va:function(){this._super();this.b.main_panel.tab1.highlightnode.da(0);this.b.main_panel.tab1.selectednode.da(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.Q=a,this.Ob=K[a].name);this.b.main_panel.tab1.textureName.text.ea(this.Ob);this.b.main_panel.tab1.tiles.ja(K[this.Q].texture);this.Ka=new $(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.d().width,this.b.main_panel.tab2.name_entry.d().height),
q.a(0,this.b.main_panel.tab2.name_entry.d().height),this.data.name?this.data.name:"",q.o(100,100,100),q.k(255,255,255));this.Ka.cc(!0);this.Gg(1);this.jb()},OW:function(){},Ma:function(a){this._super();if(this.h){var c=this.h;!0!=a&&this.h.vc(function(){c.Uc(null)})}},gi:function(a){a=a.J;if(1==this.Fc&&(this.b.main_panel.tab1.highlightnode.da(0),a=this.b.main_panel.tab1.tiles.Aa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=
a.x-a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.da(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Gg:function(a){a!=this.Fc&&(this.b.main_panel.U(this.Ze[a],this.b.main_panel.d().height),this.b.control_panel.U(this.Ze[a],this.b.control_panel.d().height),this.b.main_panel.tab2.name_entry.dc(this.b.main_panel.tab2.name_entry.p.D-1E3),this.Fc=a,this.b.main_panel.tab1.C(!1),this.b.main_panel.tab2.C(!1),this.b.main_panel.tab3.C(!1),this.b.main_panel.tab1Clickable.n(M),this.b.main_panel.tab2Clickable.n(M),
this.b.main_panel.tab3Clickable.n(M),this.b.main_panel["tab"+a].C(!0),this.b.main_panel["tab"+a+"Clickable"].n(q.o(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.dc(4),this.b.control_panel.exitBtn.dc(this.Ze[a]-29))},jb:function(){this.qc(this.jb);this.b.main_panel.tab1.tiles.$()&&!0==this.b.main_panel.tab1.tiles.$().mc&&(this.ud(this.jb),this.b.main_panel.tab1.tiles.Jb(q.rect(Math.floor(96*this.L.x),Math.floor(128*this.L.y),96>K[this.Q].texture.d().width?K[this.Q].texture.d().width:96,256>
K[this.Q].texture.d().height?K[this.Q].texture.d().height:256)))},hb:function(a){if(this._super(a))return!0;this.sd=null;a=a.J;var c=this.b.main_panel.Aa(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Gg(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Gg(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Gg(3),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Ka.aa()||""==this.Ka.aa())return!0;this.rf=!0;this.data.name=this.Ka.aa();this.h.Uc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,
c)){this.rf=!0;var d=this.h;this.h.vc(function(){d.Uc(null)});return!0}if(1==this.Fc){if(O(this.b.main_panel.tab1.upbtn,c))return 320<K[this.Q].texture.d().height&&0<this.L.y&&(this.L.y--,this.jb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<K[this.Q].texture.d().height&&this.L.y<(K[this.Q].texture.d().height-320)/32&&(this.L.y++,this.jb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Bn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Cn(),!0;c=this.b.main_panel.tab1.tiles.Aa(a);
if(O(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.da(0);if(this.b.main_panel.tab1.selectednode.p.D!=c.x||this.b.main_panel.tab1.selectednode.p.I!=c.y)this.b.main_panel.tab1.selectednode.da(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.p.D-16)/96+this.L.x,8-(this.b.main_panel.tab1.selectednode.p.I-64)/128+this.L.y-1);this.data.sprite.position=a;return!0}}return!1},FK:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.n(N);this.b.main_panel.tab2.stackbtn.text.ea("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.n(Ga),this.b.main_panel.tab2.stackbtn.text.ea("IS STACKABLE"))},j$:function(a){this.b.main_panel.tab2.wearabletab.head.n(M);this.b.main_panel.tab2.wearabletab.body.n(M);this.b.main_panel.tab2.wearabletab.legs.n(M);this.b.main_panel.tab2.wearabletab.feet.n(M);this.b.main_panel.tab2.wearabletab.rarm.n(M);this.b.main_panel.tab2.wearabletab.larm.n(M);
this.b.main_panel.tab2.wearabletab.mod.n(M);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].n(N);this.data.subType=a},Bn:function(){this.Q>=K.length-1&&(this.Q=-1);this.Q++;this.b.main_panel.tab1.tiles.ja(K[this.Q].texture);this.Ob=K[this.Q].name;this.b.main_panel.tab1.textureName.text.ea(this.Ob);this.data.sprite.texture=this.Ob;this.L=q.a(0,0);this.jb()},Cn:function(){0>=this.Q&&(this.Q=K.length);this.Q--;this.b.main_panel.tab1.tiles.ja(K[this.Q].texture);
this.Ob=K[this.Q].name;this.b.main_panel.tab1.textureName.text.ea(this.Ob);this.L=q.a(0,0);this.jb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Ob:I[0].name,Q:0,Ic:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,396),A:q.o(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(16,320),Z:I[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),A:M,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),A:M,c:q.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),A:q.o(255,255,255,170),c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,64),size:q.size(16,
252),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),A:q.o(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},highlightnode:{c:q.a(0,
0),position:q.a(0,0),size:q.size(32,32),A:q.o(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),A:q.o(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{c:q.a(0,1),position:q.a(55,150),Z:I[0].name},healthbtn:{position:q.a(8,
265),size:q.size(128,26),A:N,c:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),A:M,c:q.a(0,0),children:{text:{label:"Icon",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),A:M,c:q.a(0,0),children:{text:{label:"Details",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},okbtn:{position:q.a(76,
8),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"OK",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),A:M,c:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,396),size:q.size(420,32),A:q.o(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,
26),c:q.a(0,0),A:q.o(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Hc:function(){return"SkillsEditor"},Ka:null,rp:null,Ze:null,Fc:0,h:null,data:null,r:function(a){this._super();this.data={sprite:{texture:I[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Ob=I[0].name;this.Q=0;this.Ze=this.Ka=null;this.Fc=0;this.h=null;this.L=q.a(0,0);this.Ze=[null,352,142];this.h=a.h;a&&a.data&&(this.data=a.data)},aj:function(a){G({saveskills:a+
"",skillsdata:this.data})},Ri:function(a,c){G({saveskillswhole:c})},va:function(){this._super();this.b.main_panel.tab1.highlightnode.da(0);this.b.main_panel.tab1.selectednode.da(127);for(var a in I)I[a].name==this.data.sprite.texture&&(this.Q=a,this.Ob=I[a].name);this.b.main_panel.tab1.textureName.text.ea(this.Ob);this.b.main_panel.tab1.tiles.ja(I[this.Q].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.L.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.L.y++;a=q.a(32*(this.data.sprite.position.x-
this.L.x),32*(this.data.sprite.position.y-this.L.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.p.x+a.x,this.b.main_panel.tab1.tiles.p.y-(a.y+32));this.b.main_panel.tab2.tile.ja(I[this.Q].texture);this.b.main_panel.tab2.tile.Jb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Ka=new $(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.d().width,this.b.main_panel.tab2.name_entry.d().height),q.a(0,
this.b.main_panel.tab2.name_entry.d().height),this.data.name?this.data.name:"",q.o(100,100,100),q.k(255,255,255));this.Ka.cc(!0);this.rp=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.d().width,this.b.main_panel.tab2.healthcolor_entry.d().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.d().height),this.data.healthbar?this.data.healthbar:"",q.o(100,100,100),q.k(255,255,255));this.rp.cc(!0);this.b.main_panel.tab2.healthbtn.n(N);this.b.main_panel.tab2.healthbtn.text.ea("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Ga),this.b.main_panel.tab2.healthbtn.text.ea("IS HEALTHBAR"));this.Gg(1);this.jb()},OW:function(){},Ma:function(a){this._super();if(this.h){var c=this.h;!0!=a&&this.h.vc(function(){c.Uc(null)})}},gi:function(a){a=a.J;if(1==this.Fc&&(this.b.main_panel.tab1.highlightnode.da(0),a=this.b.main_panel.tab1.tiles.Aa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.da(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Gg:function(a){a!=this.Fc&&(this.b.main_panel.U(this.Ze[a],this.b.main_panel.d().height),this.b.control_panel.U(this.Ze[a],this.b.control_panel.d().height),this.b.main_panel.tab2.name_entry.dc(this.b.main_panel.tab2.name_entry.p.D-1E3),this.b.main_panel.tab2.healthcolor_entry.dc(this.b.main_panel.tab2.healthcolor_entry.p.D-1E3),this.b.main_panel.tab2.healthcolor_text.C(!1),this.Fc=
a,this.b.main_panel.tab1.C(!1),this.b.main_panel.tab2.C(!1),this.b.main_panel.tab1Clickable.n(M),this.b.main_panel.tab2Clickable.n(M),this.b.main_panel["tab"+a].C(!0),this.b.main_panel["tab"+a+"Clickable"].n(q.o(255,255,0,255)),this.b.control_panel.exitBtn.dc(this.Ze[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.dc(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.dc(4),this.b.main_panel.tab2.healthcolor_text.C(!0)))},jb:function(){this.qc(this.jb);
this.b.main_panel.tab1.tiles.$()&&!0==this.b.main_panel.tab1.tiles.$().mc&&(this.ud(this.jb),this.b.main_panel.tab1.tiles.Jb(q.rect(Math.floor(32*this.L.x),Math.floor(32*this.L.y),320>I[this.Q].texture.d().width?I[this.Q].texture.d().width:320,256>I[this.Q].texture.d().height?I[this.Q].texture.d().height:256)))},hb:function(a){if(this._super(a))return!0;this.sd=null;a=a.J;var c=this.b.main_panel.Aa(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Gg(1),!0;if(O(this.b.main_panel.tab2Clickable,
c))return this.Gg(2),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Ka.aa()||""==this.Ka.aa())return!0;this.rf=!0;this.data.name=this.Ka.aa();if(null!=this.rp.aa()||""!=this.rp.aa())this.data.healthbar=this.rp.aa();this.h.Uc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.rf=!0;var d=this.h;this.h.vc(function(){d.Uc(null)});return!0}if(1==this.Fc){if(O(this.b.main_panel.tab1.leftbtn,c))return 264<I[this.Q].texture.d().width&&0<this.L.x&&(this.L.x--,this.jb()),!0;if(O(this.b.main_panel.tab1.rightbtn,
c))return 320<I[this.Q].texture.d().width&&this.L.x<(I[this.Q].texture.d().width-320)/32&&(this.L.x++,this.jb()),!0;if(O(this.b.main_panel.tab1.upbtn,c))return 320<I[this.Q].texture.d().height&&0<this.L.y&&(this.L.y--,this.jb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<I[this.Q].texture.d().height&&this.L.y<(I[this.Q].texture.d().height-320)/32&&(this.L.y++,this.jb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Bn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Cn(),
!0;c=this.b.main_panel.tab1.tiles.Aa(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.d().width&&c.y<=this.b.main_panel.tab1.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.da(0);if(this.b.main_panel.tab1.selectednode.p.D!=c.x||this.b.main_panel.tab1.selectednode.p.I!=c.y)this.b.main_panel.tab1.selectednode.da(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.p.D-16)/32+this.L.x,8-(this.b.main_panel.tab1.selectednode.p.I-
64)/32+this.L.y-1);this.b.main_panel.tab2.tile.Jb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Fc&&O(this.b.main_panel.tab2.healthbtn,c)?(this.nX(),!0):!1},nX:function(){this.b.main_panel.tab2.healthcolor_entry.dc(this.b.main_panel.tab2.healthcolor_entry.p.D-1E3);this.b.main_panel.tab2.healthcolor_text.C(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.rp.xh("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.dc(4),
this.b.main_panel.tab2.healthcolor_text.C(!0));this.b.main_panel.tab2.healthbtn.n(N);this.b.main_panel.tab2.healthbtn.text.ea("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Ga),this.b.main_panel.tab2.healthbtn.text.ea("IS HEALTHBAR"))},Bn:function(){this.Q>=I.length-1&&(this.Q=-1);this.Q++;this.b.main_panel.tab1.tiles.ja(I[this.Q].texture);this.b.main_panel.tab2.tile.ja(I[this.Q].texture);this.Ob=I[this.Q].name;this.b.main_panel.tab1.textureName.text.ea(this.Ob);
this.data.sprite.texture=this.Ob;this.L=q.a(0,0);this.jb()},Cn:function(){0>=this.Q&&(this.Q=I.length);this.Q--;this.b.main_panel.tab1.tiles.ja(I[this.Q].texture);this.b.main_panel.tab2.tile.ja(I[this.Q].texture);this.Ob=I[this.Q].name;this.b.main_panel.tab1.textureName.text.ea(this.Ob);this.L=q.a(0,0);this.jb()}});PopupList=Popup.extend({Nf:null,Gc:[],DC:null,vn:!1,jx:-1,C7:0,rH:null,W:null,gI:!1,Ma:function(){this._super();this.h&&(this.h.Rb(!0),!this.gI&&this.h.ZJ&&this.h.ZJ(null,null))},r:function(a){this._super();this.Nf=null;this.Gc=[];this.DC=null;this.vn=!1;this.jx=-1;this.Nf=a.kh;a.list&&(this.Gc=a.list);this.DC=a.name;this.h=a.h},va:function(){this._super();this.Xb()},W:null,Xb:function(){this.W&&this.W.Wa.P();var a=[],c=[],d=q.xa.e();this.rH={};for(var e in this.Gc)if(a[e]=q.B.create(),a[e].U(324,
32),null==this.Gc[e])this.Gc.splice(e,1);else{if(null!=this.h){var f=q.v.ub(d.Ra("GUI/use.png"));f.l(q.a(244,6));f.O(q.a(0,0))}var g=q.la.create(q.o(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.S.create(this.Gc[e].name,"Arial",20);h.O(q.a(0,0.5));h.l(q.a(0,16));var k=q.v.ub(d.Ra("GUI/edit.png"));k.l(q.a(272,6));k.O(q.a(0,0));var l=q.v.ub(d.Ra("GUI/trash.png"));l.l(q.a(300,6));l.O(q.a(0,0));k.Tc="Edit";var m=[];m.push(k);l.Tc="Delete";m.push(l);null!=this.h&&(f.Tc="Use",m.push(f));c.push(m);a[e].g(g);a[e].g(h);
a[e].g(k);a[e].g(l);null!=this.h&&a[e].g(f)}d=q.la.create(q.o(70,200,70,255),90,26);e=q.S.create("+","Arial",20);e.l(45,13);e.O(q.a(0.5,0.5));d.l(q.a(120,0));d.Tc="Add";d.g(e);c.push([d]);a.push(d);this.W=this.b.main_panel.list;var n=this;this.W.vg=function(){return q.size(324,32*a.length)};this.W.Rf=function(){return a.length};this.W.nh=function(c){return a[c].d()};this.W.mh=function(c){return a[c]};this.W.Ue=function(a,c,d){n.Aa(d.J);if(!0!=n.vn)switch(a){case "Delete":n.X.g(DropDownList.$d(n,n.MB,
["Cancel","Delete"],d.J));n.eb=c;break;case "Edit":n.Nf.X&&n.Nf.P();n.vn=!0;n.Nf.r({h:n,data:n.Gc[c]});n.X.g(n.Nf);n.Rb(!1);n.Nf.va();n.jx=c+"";break;case "Add":n.eH=!0;n.vn=!0;n.jx=n.Gc.length;n.Nf.r({h:n,data:null});n.Rb(!1);n.X.g(n.Nf);n.Nf.va();break;case "Use":n.h.Ss(c,n.Gc[c]),n.gI=!0}};this.W.Wa=ListView.create(this.W);this.W.Wa.vh(c);this.W.g(this.W.Wa)},Ic:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),
size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.DC,fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},eb:null,MB:function(a){switch(a){case 1:null!=this.h.eb&&(this.h.mR(this.h.eb),this.h.eb=null)}},hb:function(a){if(this._super(a))return!0;this.sd=null;a=this.b.main_panel.Aa(a.J);return O(this.b.main_panel,
a)?!0:!1},Uc:function(a){a&&(this.Nf.aj(this.jx),this.eH&&(this.Gc.push(a),this.Xb()));this.Rb(!0);this.vn=this.eH=!1;var c=this;this.vc(function(){c.Nf.Ma(!0);c.Nf.P()})},mR:function(a){this.Gc.splice(a,1);this.Nf.Ri(a,this.Gc);this.Xb()}});Warpeditor=null;
WarpEditor=Popup.extend({Hc:function(){return"WarpEditor"},aj:function(a){G({savewarps:a+"",warpdata:this.data})},Ri:function(a,c){G({savewarpswhole:c})},Ic:function(){return{panels:{position:q.a(300,200),children:{background:{Z:"GUI/warpeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(180,160),children:{okbtn:{position:q.a(114,16),size:q.size(32,32),Z:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(34,16),size:q.size(32,32),Z:"GUI/cross_icon.png",c:q.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,c:q.a(0,0),position:q.a(20,140),color:q.k(0,0,0)},nameEntry:{position:q.a(16,110),size:q.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:q.a(0,0),position:q.a(20,90),color:q.k(0,0,0)},mapNumEntry:{position:q.a(16,60),size:q.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:q.a(0,0),position:q.a(80,90),color:q.k(0,0,0)},mapXEntry:{position:q.a(76,60),size:q.size(36,30)},mapylbl:{label:"y",fontSize:12,c:q.a(0,0),position:q.a(130,90),color:q.k(0,0,0)},mapYEntry:{position:q.a(126,60),size:q.size(36,
30)}}},control_panel:{c:q.a(0,0),position:q.a(0,160),size:q.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(156,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},Ka:null,Bp:null,Cp:null,Dp:null,h:null,data:null,r:function(a){this._super();this.h=this.Dp=this.Cp=this.Bp=this.Ka=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.h=a.h},va:function(){this._super();var a=this.data.position%S,c=Math.floor(this.data.position/
S);this.Ka=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.o(100,100,100),q.k(255,255,255));this.Ka.cc(!0);this.Bp=new $(this.b.main_panel.mapNumEntry,q.size(this.b.main_panel.mapNumEntry.d().width,this.b.main_panel.mapNumEntry.d().height),q.a(0,this.b.main_panel.mapNumEntry.d().height),""+this.data.mapTo,q.o(100,100,100),q.k(255,255,255));this.Bp.cc(!0);this.Cp=new $(this.b.main_panel.mapXEntry,
q.size(this.b.main_panel.mapXEntry.d().width,this.b.main_panel.mapXEntry.d().height),q.a(0,this.b.main_panel.mapXEntry.d().height),""+a,q.o(100,100,100),q.k(255,255,255));this.Cp.cc(!0);this.Dp=new $(this.b.main_panel.mapYEntry,q.size(this.b.main_panel.mapYEntry.d().width,this.b.main_panel.mapYEntry.d().height),q.a(0,this.b.main_panel.mapYEntry.d().height),""+c,q.o(100,100,100),q.k(255,255,255));this.Dp.cc(!0)},hb:function(a){if(this._super(a))return!0;this.sd=null;a=this.b.main_panel.Aa(a.J);if(O(this.b.main_panel.okbtn,
a)){if(null==this.Ka.aa()||""==this.Ka.aa()||null==this.Bp.aa()||""==this.Bp.aa()||null==this.Cp.aa()||""==this.Cp.aa()||null==this.Dp.aa()||""==this.Dp.aa())return!0;this.rf=!0;this.data.position=T(parseInt(this.Cp.aa()),Pa-parseInt(this.Dp.aa()));this.data.mapTo=parseInt(this.Bp.aa());this.data.name=this.Ka.aa();this.h.Uc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.rf=!0;var c=this.h;this.h.vc(function(){c.Uc(null)});return!0}},Ma:function(a){this._super();var c=this.h;a||this.h.vc(function(){c.Uc(null)})}});Signeditor=null;
SignEditor=Popup.extend({Hc:function(){return"SignEditor"},aj:function(a){G({savesigns:a+"",signsdata:this.data})},Ri:function(a,c){G({savesignswhole:c})},Ic:function(){return{panels:{position:q.a(300,200),children:{background:{Z:"GUI/signeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(142,256),children:{okbtn:{position:q.a(88,16),size:q.size(32,32),Z:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(22,16),size:q.size(32,32),Z:"GUI/cross_icon.png",c:q.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,c:q.a(0,0),position:q.a(6,238),color:q.k(0,0,0)},nameEntry:{position:q.a(4,206),size:q.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:q.a(0,0),position:q.a(6,190),color:q.k(0,0,0)},signEntry:{position:q.a(4,60),size:q.size(120,128)}}},control_panel:{c:q.a(0,0),position:q.a(0,256),size:q.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(118,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},Ka:null,Qp:null,
h:null,data:null,r:function(a){this._super();this.h=this.Qp=this.Ka=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.h=a.h},va:function(){this._super();this.Ka=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.o(100,100,100),q.k(255,255,255));this.Ka.cc(!0);this.Qp=new $(this.b.main_panel.signEntry,q.size(this.b.main_panel.signEntry.d().width,this.b.main_panel.signEntry.d().height),
q.a(0,this.b.main_panel.signEntry.d().height),""+this.data.label,q.o(100,100,100),q.k(255,255,255),!0);this.Qp.cc(!0)},hb:function(a){if(this._super(a))return!0;this.sd=null;a=this.b.main_panel.Aa(a.J);if(O(this.b.main_panel.okbtn,a)){if(null==this.Ka.aa()||""==this.Ka.aa()||null==this.Qp.aa()||""==this.Qp.aa())return!0;this.rf=!0;this.data.label=this.Qp.aa();this.data.name=this.Ka.aa();this.h.Uc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.rf=!0;var c=this.h;this.h.vc(function(){c.Uc(null)});
return!0}},Ma:function(a){this._super();var c=this.h;a||this.h.vc(function(){c.Uc(null)})}});var Na=Qa.extend({ctor:function(){this._super()},$K:function(){this._super()},va:function(){this._super()},Ma:function(){this._super()},hb:function(a){q.pb(this.b.health_panel.Va(),a.J)&&x.e().fl("Game")},r:function(){var a=q.S.create("ITS WOKKIN!","Arial",16);a.n(q.k(0,0,0));a.l(q.a(200,200));this.g(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,W:null,eb:null,Hc:function(){return"Credits"},Ma:function(){this._super()},r:function(){this._super();this.data={"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.","Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],
"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.","Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.",
"Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},aj:function(a){G({savequests:a+"",questdata:this.data})},Ri:function(a,c){G({savequestswhole:c})},va:function(){this._super();this.Xb()},Xb:function(){this.W&&this.W.pc();var a=[],c=[];q.xa.e();var d=0,e;for(e in this.data){a[d]=q.B.create();a[d].U(324,32);var f=q.S.create(e,
"Arial",18);f.O(q.a(0,0));f.l(q.a(4,0));f.Gd(q.size(246,0));f.n(q.k(100,0,0));a[d].g(f);a[d].U(324,f.d().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.B.create();a[d].U(324,32);var h=q.la.create(q.o(0,0,0,127),316,1);h.l(q.a(4,0));var k=q.S.create(this.data[e][g],"Arial",15);k.n(q.k(0,0,0));k.O(q.a(0,0));k.l(q.a(4,4));k.Gd(q.size(246,0));f=[];c.push(f);a[d].g(h);a[d].g(k);a[d].U(324,k.d().height+8);d++}}this.W=this.b.main_panel.list;this.W.vg=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].d().height;return q.size(324,c)};this.W.Rf=function(){return a.length};this.W.nh=function(c){return a[c].d()};this.W.mh=function(c){return a[c]};this.W.Ue=function(){};this.W.Wa=ListView.create(this.W);this.W.Wa.vh(c);this.W.g(this.W.Wa)},Ic:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),A:q.o(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,
0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},hb:function(a){if(this._super(a))return!0;this.sd=null;a=this.b.main_panel.Aa(a.J);return O(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,W:null,eb:null,Hc:function(){return"Credits"},Ma:function(){this._super()},r:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
aj:function(a){G({savequests:a+"",questdata:this.data})},Ri:function(a,c){G({savequestswhole:c})},va:function(){this._super();this.Xb()},Xb:function(){this.W&&this.W.pc();var a=[],c=[];q.xa.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.B.create();a[d].U(324,32);var f=q.S.create(e,"Arial",18);f.O(q.a(0,0));f.l(q.a(4,0));f.Gd(q.size(246,0));f.n(q.k(100,0,0));a[d].g(f);a[d].U(324,f.d().height+4);f=[];c.push(f);d++}a[d]=q.B.create();a[d].U(324,32);var g=q.la.create(q.o(0,0,0,
127),316,1);g.l(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.S.create(e,"Arial",22);h.n(q.k(255,0,0))}else h=q.S.create(this.data[e],"Arial",15),h.n(q.k(0,0,0));h.O(q.a(0,0));h.l(q.a(4,4));h.Gd(q.size(246,0));f=[];c.push(f);a[d].g(g);a[d].g(h);"ISSECTION"==this.data[e]?a[d].U(324,h.d().height+12):a[d].U(324,h.d().height+8);d++}this.W=this.b.main_panel.list;this.W.vg=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.W.Rf=function(){return a.length};this.W.nh=
function(c){return a[c].d()};this.W.mh=function(c){return a[c]};this.W.Ue=function(){};this.W.Wa=ListView.create(this.W);this.W.Wa.vh(c);this.W.g(this.W.Wa)},Ic:function(){return{panels:{position:q.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),A:q.o(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Z:"GUI/close.png"}}}}}}},hb:function(a){if(this._super(a))return!0;this.sd=null;a=this.b.main_panel.Aa(a.J);return O(this.b.main_panel,a)?!0:!1}});Login=Qa.extend({hD:!1,dt:!1,r:function(a){y=sa(y,w.bC());this._super();x.qn(this);this.Ds=new $(this.b.name_entry,q.size(this.b.name_entry.d().width,this.b.name_entry.d().height),q.a(0,this.b.name_entry.d().height),"Enter Name",q.o(100,100,100),q.k(255,255,255));a&&(a.MI&&(u=[],G({logout:!0})),this.sn(a.iD));this.qc(this.CD)},ql:function(a){switch(a){case "ENTER":!1==this.dt&&this.hD?(this.dt=!0,G({login:!0,username:this.Ds.aa()})):this.JC("Server is offline!")}},sn:function(a){this.hD=a;!0==a?(this.b.server_activity.ea("Server: Online"),
this.b.server_activity.n(q.k(0,255,0))):(this.b.server_activity.ea("Server: Offline"),this.b.server_activity.n(q.k(255,0,0)))},CD:function(){if(0<u.length)for(var a=u.length-1;0<=a;a--)reactToSocketMessage(u[a]),u.splice(a,1)},Ic:function(){return{panels:{children:{background:{Z:"GUI/splash.png",size:q.size(960,640),c:q.a(0,0),position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,300)},go_button:{position:q.a(325,220),size:q.size(120,40),A:q.o(0,0,0,255),children:{label:{label:"Play",
fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,40),A:q.o(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(505,220),size:q.size(120,40),A:q.o(0,0,0,255),c:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.k(127,0,0),c:q.a(0,
0),position:q.a(327,325)},version_number:{label:y["Version Number"],fontSize:34,color:q.k(255,255,255),c:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),c:q.a(0.5,0.5),label:"Server: Offline",color:q.k(255,0,0)}}}}},hb:function(a){if(null!=this.Ds.aa()&&q.pb(q.rect(this.b.go_button.p.D,this.b.go_button.p.I,this.b.go_button.d().width,this.b.go_button.d().height),a.J))return!1==this.dt&&this.hD?(this.dt=!0,G({login:!0,username:this.Ds.aa()})):this.JC("Server is offline!"),
!0;q.pb(q.rect(this.b.credits_button.p.D,this.b.credits_button.p.I,this.b.credits_button.d().width,this.b.credits_button.d().height),a.J)&&this.vf("/openCredits");q.pb(q.rect(this.b.news_button.p.D,this.b.news_button.p.I,this.b.news_button.d().width,this.b.news_button.d().height),a.J)&&this.vf("/openNews")},vf:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.X||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Ma(),CreditsPanel.P(),CreditsPanel=null):(CreditsPanel=new Credits,
CreditsPanel.r(),CreditsPanel.va(),this.g(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.X||(NewsPanel=null),NewsPanel?(NewsPanel.Ma(),NewsPanel.P(),NewsPanel=null):(NewsPanel=new News,NewsPanel.r(),NewsPanel.va(),this.g(NewsPanel))}},VT:function(){x.e().fl("Game",{XK:this.Ds.aa(),map:1})},JC:function(a){this.b.server_message.ea(a);this.dt=!1},hd:function(){},uf:function(){},c8:function(){x.e().fl("Game",{XK:this.Ds.aa()})}});Na=null;MapMaster=!1;
var Ra=Qa.extend({ctor:function(){this._super()},Ic:function(){return{panels:{children:{logout_button:{position:q.a(W.width-52,W.height-52),c:q.a(0,0),size:q.size(48,48),Z:"GUI/logout.png"},quicknav_button:{position:q.a(W.width-30,Math.floor(W.height/2)-24),c:q.a(0,0),size:q.size(48,48),Z:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(W.width-52,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),Z:"GUI/inventory_icon.png"},equipment_button:{position:q.a(W.width-82,Math.floor(W.height/
2)+4),c:q.a(0,0),size:q.size(48,48),Z:"GUI/equipment_icon.png"},skill_button:{position:q.a(W.width-82,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),Z:"GUI/skills_icon.png"},chat_button:{position:q.a(W.width-52,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),Z:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(W.height/2)-24),c:q.a(0,0),size:q.size(48,48),Z:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(W.height/2)+116),c:q.a(0,0),size:q.size(48,
48),Z:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),Z:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(W.height/2)+4),c:q.a(0,0),size:q.size(48,48),Z:"GUI/itemeditor_icon.png"},skilledit_button:{position:q.a(64,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),Z:"GUI/skilleditor_icon.png"},signedit_button:{position:q.a(34,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),Z:"GUI/signeditor_icon.png"},
warpedit_button:{position:q.a(4,Math.floor(W.height/2)-164),c:q.a(0,0),size:q.size(48,48),Z:"GUI/warpeditor_icon.png"},scriptedit_button:{position:q.a(90,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),Z:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(W.height/2)-220),c:q.a(0,0),size:q.size(48,48),Z:"GUI/settings_icon.png"},bankedit_button:{position:q.a(90,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),Z:"GUI/bankeditor_icon.png"},shopedit_button:{position:q.a(120,
Math.floor(W.height/2)+4),c:q.a(0,0),size:q.size(48,48),Z:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),Z:"GUI/questeditor_icon.png"}}}}},EI:!1,CI:!1,sn:function(a){!1==a&&(this.OB(),x.e().fl("Login",{iD:!1}))},OB:function(){F.Dd();F.Ms();null!=Equipment&&(Equipment.Ma(),Equipment.P(),Equipment=null);null!=Inventory&&(Inventory.Ma(),Inventory.P(),Inventory=null);null!=Skills&&(Skills.Ma(),Skills.P(),Skills=null);SkillBarsInstance.P();
A.Dd();A.Ms();B.Dd();B.Ms()},hb:function(a){if(q.pb(q.rect(this.b.logout_button.p.D,this.b.logout_button.p.I,this.b.logout_button.d().width,this.b.logout_button.d().height),a.J))return this.OB(),x.e().fl("Login",{MI:!0,iD:!0}),!0;x.qn(this);if(q.pb(this.b.chat_button.Va(),a.J)&&this.b.chat_button.sa)return this.ql("C"),!0;if(q.pb(this.b.inventory_button.Va(),a.J)&&this.b.inventory_button.sa)return this.ql("I"),!0;if(q.pb(this.b.equipment_button.Va(),a.J)&&this.b.equipment_button.sa)return this.ql("E"),
!0;if(q.pb(this.b.skill_button.Va(),a.J)&&this.b.skill_button.sa)return this.ql("S"),!0;if(q.pb(this.b.quickedit_button.Va(),a.J)&&this.b.quickedit_button.sa)return this.uK(!this.CI),!0;if(q.pb(this.b.quicknav_button.Va(),a.J)&&this.b.quicknav_button.sa)return this.vK(!this.EI),!0;if(q.pb(this.b.mapedit_button.Va(),a.J)&&this.b.mapedit_button.sa)return this.vf("/editmap"),!0;if(q.pb(this.b.npcedit_button.Va(),a.J)&&this.b.npcedit_button.sa)return this.vf("/editnpc"),!0;if(q.pb(this.b.itemedit_button.Va(),
a.J)&&this.b.itemedit_button.sa)return this.vf("/edititem"),!0;if(q.pb(this.b.skilledit_button.Va(),a.J)&&this.b.skilledit_button.sa)return this.vf("/editskill"),!0;if(q.pb(this.b.signedit_button.Va(),a.J)&&this.b.signedit_button.sa)return this.vf("/editsign"),!0;if(q.pb(this.b.scriptedit_button.Va(),a.J)&&this.b.scriptedit_button.sa)return this.vf("/editscript"),!0;if(q.pb(this.b.warpedit_button.Va(),a.J)&&this.b.warpedit_button.sa)return this.vf("/editwarp"),!0;if(q.pb(this.b.settings_button.Va(),
a.J)&&this.b.settings_button.sa)return this.vf("/editsettings"),!0;if(q.pb(this.b.shopedit_button.Va(),a.J)&&this.b.shopedit_button.sa)return this.vf("/editshop"),!0;if(q.pb(this.b.questedit_button.Va(),a.J)&&this.b.questedit_button.sa)return this.vf("/editquest"),!0;if(q.pb(this.b.bankedit_button.Va(),a.J)&&this.b.bankedit_button.sa)return this.vf("/editbank"),!0},wK:function(a){null==Sign||Sign.X||(Sign=null);Sign?(Sign.Ma(),Sign.P(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.va(),this.g(Sign))},
$W:function(a){null==Book||Book.X||(Book=null);Book?(Book.Ma(),Book.P(),Book=null):(Book=new BookPanel,Book.r(a),Book.va(),this.g(Book))},uf:function(){},ql:function(a){switch(a){case "C":B.yT()?B.mI():B.show();break;case "ENTER":B.zC()||B.kD(!0);break;case "SPACE":A.w.ga.sT();Inventory&&Inventory.zf();break;case "CTRL":A.w.ga.rT();break;case "ESC":this.OB();x.e().fl("Login",{MI:!0,iD:!0});break;case "I":null==Inventory||Inventory.X||(Inventory=null);Inventory?(Inventory.Ma(),Inventory.P(),Inventory=
null):(Inventory=new InventoryPanel,Inventory.r(),Inventory.va(),this.g(Inventory));break;case "E":null==Equipment||Equipment.X||(Equipment=null);Equipment?(Equipment.Ma(),Equipment.P(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.r(),Equipment.va(),this.g(Equipment));break;case "S":null==Skills||Skills.X||(Skills=null),Skills?(Skills.Ma(),Skills.P(),Skills=null):(Skills=new SkillsPanel,Skills.r(),Skills.va(),this.g(Skills))}},IC:function(a){var c=A.w.ga.Qf();A.w.ga.path=null;if(0==c.x%
1&&0==c.y%1)switch(a){case "RIGHTARROW":A.w.ga.Up(c.x+1,c.y);break;case "LEFTARROW":A.w.ga.Up(c.x-1,c.y);break;case "UPARROW":A.w.ga.Up(c.x,c.y+1);break;case "DOWNARROW":A.w.ga.Up(c.x,c.y-1)}},vK:function(a){this.EI=a;this.b.chat_button.C(a);this.b.inventory_button.C(a);this.b.equipment_button.C(a);this.b.skill_button.C(a);this.b.quicknav_button.ja(q.xa.e().Ra(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},uK:function(a){this.CI=a;this.b.mapedit_button.C(a);this.b.npcedit_button.C(a);
this.b.itemedit_button.C(a);this.b.skilledit_button.C(a);this.b.signedit_button.C(a);this.b.scriptedit_button.C(a);this.b.warpedit_button.C(a);this.b.settings_button.C(a);this.b.shopedit_button.C(a);this.b.bankedit_button.C(a);this.b.questedit_button.C(a);this.b.quickedit_button.ja(q.xa.e().Ra(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},vf:function(a){if(a)switch(q.log(a),a){case "/editscript":null==Scripteditor||Scripteditor.X||(Scripteditor=null);Scripteditor?(Scripteditor.Ma(),
Scripteditor.P(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({h:null,kh:new ScriptEditor,list:ObjectLists.ls(),name:"Script List"}),Scripteditor.va(),this.g(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.X||(Mapeditor=null);Mapeditor?(Mapeditor.Ma(),Mapeditor.P(),Mapeditor=null,F.Ns(null)):(Mapeditor=new MapEditor,Mapeditor.r(),Mapeditor.va(),this.g(Mapeditor),F.Ns(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.X||(Settingseditor=null);
Settingseditor?(Settingseditor.Ma(),Settingseditor.P(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.r(),Settingseditor.va(),this.g(Settingseditor));break;case "/editwarp":null==Warpeditor||Warpeditor.X||(Warpeditor=null);Warpeditor?(Warpeditor.Ma(),Warpeditor.P(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({h:null,kh:new WarpEditor,list:ObjectLists.Qm(),name:"Warp List"}),Warpeditor.va(),this.g(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.X||
(Signeditor=null);Signeditor?(Signeditor.Ma(),Signeditor.P(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({h:null,kh:new SignEditor,list:ObjectLists.ms(),name:"Sign List"}),Signeditor.va(),this.g(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.X||(Skillseditor=null);Skillseditor?(Skillseditor.Ma(),Skillseditor.P(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.r({h:null,kh:new SkillsEditor,list:ObjectLists.Pm(),name:"Skills List"}),Skillseditor.va(),this.g(Skillseditor));
break;case "/edititem":null==Itemeditor||Itemeditor.X||(Itemeditor=null);Itemeditor?(Itemeditor.Ma(),Itemeditor.P(),Itemeditor=null,F.Ns(null)):(Itemeditor=new PopupList,Itemeditor.r({h:null,kh:new ItemEditor,list:ObjectLists.$h(),name:"Item List"}),Itemeditor.va(),this.g(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.X||(NPCeditor=null);NPCeditor?(NPCeditor.Ma(),NPCeditor.P(),NPCeditor=null,F.Ns(null)):(NPCeditor=new PopupList,NPCeditor.r({h:null,kh:new NPCEditor,list:ObjectLists.el(),
name:"NPC List"}),NPCeditor.va(),this.g(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.X||(Questeditor=null);Questeditor?(Questeditor.Ma(),Questeditor.P(),Questeditor=null,F.Ns(null)):(Questeditor=new PopupList,Questeditor.r({h:null,kh:new QuestEditor,list:ObjectLists.ks(),name:"Quest List"}),Questeditor.va(),this.g(Questeditor));break;case "/help":B.showHelp();break;case "/commands":B.aX();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=y["/diceroll"],c=c.replace("\x3cPLAYER\x3e",
A.w.ga.getName()),c=c.replace("\x3cVALUE\x3e",a);B.Ib(c);G({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=y["/coinflip"];c=c.replace("\x3cPLAYER\x3e",A.w.ga.getName());c=c.replace("\x3cVALUE\x3e",a);B.Ib(c);G({coinflip:c});break;case "/dance":a=y["/dance"];a=a.replace("\x3cPLAYER\x3e",A.w.ga.getName());B.Ib(a);G({dance:a});break;case "/afk":A.w.ga.updateStatus("AFK"),G({afk:!0})}},r:function(a){this._super();this.g(F.create());ObjectLists.e();a={name:a.XK,
Xi:!0,wn:{health:{Jc:1,value:100,Tf:200,Sf:900},mana:{Jc:1,value:100,Tf:200,Sf:99}},map:1,Xs:"sprites1.png",Us:1};A.create(a);F.qQ();this.b.P();this.Pp(-20);this.vc(function(){F.e().yl(a.map)});G({moveTo:A.w.ga.Qf().x+A.w.ga.Qf().y*S});this.g(B.create());this.g(za.create());this.vK(!1);this.uK(!1);this.g(this.b);this.qc(this.CD);this.qc(this.DV);Na=this},CD:function(){if(0<u.length)for(var a=0;a<u.length;a++){var c=JSON.parse(u[a]);c.moveTo&&(!A.bi(c.id)||A.bi(c.id)&&!1==A.bi(c.id).Bg)?(reactToSocketMessage(JSON.stringify(c)),
u.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1))}},DV:function(){if(!0==MapMaster){var a=A.hM(),c;for(c in a)if(!1==a[c].Yw){var d=10*Math.random()+1,e=a[c].Qf();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].DW(e,d)}}}});var Sa=q.Ba.extend({uc:null,K2:!1,kD:function(a){a?this.uc.Za.focus():this.uc.Za.blur()},zC:function(){return document.activeElement==this.uc.Za},ea:function(a){this.uc.xh(a)},dC:function(){return this.uc.aa()},r:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.uc=q.aq.create(q.size(c.width,c.height),q.cf.create(),h);this.uc.xh(e);this.uc.lR=e;this.uc.cW(q.k(g.m,g.i,g.f));this.uc.EJ(q.k(f.m,f.i,f.f));this.uc.l(q.a(d.x,d.y));this.uc.O(0,1);this.uc.wh(this);
a.g(this.uc);this.r()}});var Ta=Sa.extend({tw:function(a){a.xh("")},uw:function(a,c){c||("/"==a.aa().substring(0,1)?this.tV(a.aa()):0<a.aa().length&&B.Ib(a.aa(),!0));a.xh(y["Default ChatBar Message"])},tV:function(a){x.e().gd.vf(a)},vw:function(a,c){a.xh(c);q.log("chatBox "+this.FF(a)+", TextChanged, text: "+c)},FF:function(){return"chatbox"}}),X=null,B=q.Lc.extend({Vj:null,r:function(){this.Vj=new Ta(this.b.chat_panel,q.size(this.b.chat_panel.d().width-4,25),q.a(2,this.b.chat_panel.d().height-2),y["Default ChatBar Message"],
q.k(255,255,255),q.k(0,0,0));this.Vj.uc.X.We(this.Vj.uc.p.I+59)},XG:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].dC());this.b.chat_panel.label0.ea(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ea(c[d-1])},Ic:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),Z:"GUI/chat.png",c:q.a(0,0),opacity:200,position:q.a(0,-200),children:{label7:{label:"",position:q.a(5,0),c:q.a(0,0),color:q.k(0,0,0)},label6:{label:"",position:q.a(5,15),c:q.a(0,0),color:q.k(0,
0,0)},label5:{label:"",position:q.a(5,30),c:q.a(0,0),color:q.k(0,0,0)},label4:{label:"",position:q.a(5,45),c:q.a(0,0),color:q.k(0,0,0)},label3:{label:"",position:q.a(5,60),c:q.a(0,0),color:q.k(0,0,0)},label2:{label:"",position:q.a(5,75),c:q.a(0,0),color:q.k(0,0,0)},label1:{label:"",position:q.a(5,90),c:q.a(0,0),color:q.k(0,0,0)},label0:{label:"",position:q.a(5,105),c:q.a(0,0),color:q.k(0,0,0)}}}}}}}});B.create=function(){X||(X=new B,X.b=Ha(X),X.g(X.b),X.r(),B.mI(),B.cX());return X};B.e=function(){return X};
B.Ib=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(G({chatMessage:a}),X.XG(A.w.ga.getName()+": "+a)):X.XG(a)};B.show=function(){X.Vj.uc.X.We(0)};B.mI=function(){X.Vj.uc.X.We(-X.Vj.uc.p.I+59)};B.yT=function(){return 0!=X.Vj.uc.X.p.I?!1:!0};B.kD=function(a){X.Vj.kD(a)};B.zC=function(){return X.Vj.zC()};B.showHelp=function(){B.Ib(H.ge.XS);B.Ib(H.ge.YS);B.Ib(H.ge.ZS);B.Ib(H.ge.$S);B.Ib(H.ge.aT)};B.aX=function(){B.Ib(H.ge.VQ);B.Ib(H.ge.WQ);B.Ib(H.ge.XQ);B.Ib(H.ge.YQ)};B.cX=function(){B.Ib(y["Welcome Message"])};
B.Dd=function(){X.b.P();X.b=null};B.Ms=function(){X.P();X=null};var $=Sa.extend({rs:!1,SI:!1,vH:!1,tw:function(a){!1==this.vH&&a.xh("")},uw:function(a){null==a.aa()||""==a.aa().length&&this.SI?this.rs=!0:0<!a.aa().length?(a.xh(this.uc.lR),this.rs=!1):this.rs=!0},vw:function(a,c){a.xh(c);this.rs=!0},FF:function(){return"name_entry"},aa:function(){return!0==this.rs||!0==this.kR?this.uc.aa():null},xh:function(a){this.uc.xh(a)},cc:function(a){this.kR=a},bj:function(a){this.SI=a},NJ:function(a){this.vH=a},r:function(){}});var x=q.Lc.extend({w:null,CB:null,gd:null,VG:null,r:function(){var a=q.na.e().zw();this.CB=q.la.create(q.o(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.CB.O(q.a(0,0));this.g(this.CB);w.e()&&ta?(y=sa(y,w.bC()),this.fl("Login",{}),this.qc(this.iH)):this.qc(this.nI)},nI:function(){w.e()&&ta&&(this.ud(this.nI),y=sa(y,w.bC()),this.fl("Login",{}),this.qc(this.iH))},iH:function(){for(var a in Aa)if(!0==Aa[a]&&null!=this.gd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;
case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));
null!=c&&this.gd.IC(c)}},fl:function(a,c){null!=this.gd&&(this.gd.Ma(),this.gd.P(),this.gd=null);switch(a){case "Login":this.gd=new Login;break;case "Game":this.gd=new Ra}this.gd.$K();this.g(this.gd,1);this.gd.fW(a);this.gd.va();this.gd.r(c)},w3:function(){return this.gd.Hc()}});x.e=function(){null==this.w&&(this.w=new x);return this.w};x.qn=function(a){null==this.w&&(this.w=new x);this.w.VG=a};x.SR=function(){null==this.w&&(this.w=new x);return this.w.VG};var W;
new (q.ij.extend({mw:document.ccConfig,ctor:function(){this._super();q.kt=this.mw.COCOS2D_DEBUG;q.cT();q.yl(this.mw.tag);q.Tx.ZW().uR()},yQ:function(){var a=this.mw,c=q.V.e(),d=q.na.e();W=d.zw();q.size(W.width,W.height);var e=q.size(W.width,W.height),f=q.xd.e();q.ij.e();f.eK(["res/Graphics"]);q.zh&&q.zh.e().Kaa("res/Audio");c.SV(1);d.jD(e.width,e.height,q.Ln.SHOW_ALL);c.Ls(1/a.frameRate);a.test?q.test(a.test):(q.log("++++++++++++++++entry for game++++++++++++"),q.JT(function(a){q.qy.RC(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=x.e();q.V.e().uJ(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap