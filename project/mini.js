var b,aa={Y1:"GUI/bankeditor_icon.png",a2:"GUI/book.png",d2:"GUI/btnDown.png",e2:"GUI/btnLeft.png",f2:"GUI/btnRight.png",g2:"GUI/btnUp.png",y2:"GUI/chat.png",x2:"GUI/chat_icon.png",z2:"GUI/checkbox_checked.png",A2:"GUI/checkbox_uncheck.png",B2:"GUI/close.png",M2:"GUI/cross_icon.png",R2:"GUI/defaultitem.png",h3:"GUI/edit.png",i3:"GUI/editor-tab.png",l3:"GUI/equipment.png",k3:"GUI/equipment_icon.png",m3:"GUI/event_panel.png",s7:"GUI/healthbar.png",L7:"GUI/inventory.png",K7:"GUI/inventory_icon.png",
A8:"GUI/itemeditor_bg.png",B8:"GUI/itemeditor_icon.png",C8:"GUI/itemeditor_tab1_bg.png",D8:"GUI/itemeditor_tab2_bg.png",E8:"GUI/itemeditor_tab3_bg.png",S8:"GUI/list_panel.png",a9:"GUI/logout.png",e9:"GUI/mapeditor_icon.png",k9:"GUI/npceditor_icon.png",l9:"GUI/npctalk.png",r$:"GUI/questeditor_icon.png",s$:"GUI/quickedit_closed_icon.png",t$:"GUI/quickedit_opened_icon.png",u$:"GUI/quickmenu_closed_icon.png",v$:"GUI/quickmenu_opened_icon.png",eaa:"GUI/save_icon.png",faa:"GUI/scripteditor_icon.png",rca:"GUI/settings_icon.png",
sca:"GUI/shopeditor_icon.png",vca:"GUI/signeditor_bg.png",wca:"GUI/signeditor_icon.png",xca:"GUI/signpost.png",yca:"GUI/skilleditor_icon.png",Aca:"GUI/skills.png",zca:"GUI/skills_icon.png",Cca:"GUI/splash.png",cda:"GUI/texture_change_left.png",dda:"GUI/texture_change_middle.png",eda:"GUI/texture_change_right.png",fda:"GUI/tick_icon.png",pda:"GUI/trash.png",yda:"GUI/use.png",Hda:"GUI/warpeditor_bg.png",Ida:"GUI/warpeditor_icon.png",h2:"building1.png",w2:"character_graphics.txt",F8:"items1.png",Dca:"sprites1.png",
gda:"tile_graphics.txt",hda:"tiles0.png",ida:"tiles1.png"};var r=r||{},ba={};r.wU=function(a){var c=r.DD[ba.VJ.pF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={VJ:{pF:"_0"}};r.DD={};r.DD[ba.VJ.pF]=[];r.DD.nR=[];var io="undefined"===typeof module?{}:module.uc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Bn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Xp(1<g.path.length?g.path:"")}})("object"===typeof module?module.uc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,u=g.length;h<u;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.uc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Lf||(this.Lf={});this.Lf[a]?d.util.isArray(this.Lf[a])?this.Lf[a].push(c):this.Lf[a]=[this.Lf[a],c]:this.Lf[a]=c;return this};e.prototype.VU=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.fx=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Lf&&this.Lf[a]){var e=this.Lf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].fx&&e[l].fx===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Lf[a]}else(e===c||e.fx&&e.fx===c)&&delete this.Lf[a]}return this};e.prototype.tp=function(a){if(!this.Lf)return!1;var c=this.Lf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=p[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,p=m,Q,R=c[a];R instanceof Date&&(R=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(R=q.call(c,a,R));switch(typeof R){case "string":return f(R);
case "number":return isFinite(R)?String(R):"null";case "boolean":case "null":return String(R);case "object":if(!R)return"null";m+=n;Q=[];if("[object Array]"===Object.prototype.toString.apply(R)){l=R.length;for(d=0;d<l;d+=1)Q[d]=g(d,R)||"null";k=0===Q.length?"[]":m?"[\n"+m+Q.join(",\n"+m)+"\n"+p+"]":"["+Q.join(",")+"]";m=p;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k));else for(h in R)Object.prototype.hasOwnProperty.call(R,
h)&&(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k);k=0===Q.length?"{}":m?"{\n"+m+Q.join(",\n"+m)+"\n"+p+"}":"{"+Q.join(",")+"}";m=p;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.uc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Mw||"",m=a.op,y=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)y=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(y=a.data);break;case "event":y=
{name:a.name};a.df&&a.df.length&&(y.df=a.df);y=k.stringify(y);break;case "json":y=k.stringify(a.data);break;case "connect":a.WJ&&(y=a.WJ);break;case "ack":y=a.pp+(a.df&&a.df.length?"+"+k.stringify(a.df):"")}c=[c,d+("data"==m?"+":""),e];null!==y&&void 0!==y&&c.push(y);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Mw:c[4]||""};d&&(e.id=d,e.op=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.df=l.df}catch(y){}e.df=e.df||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.WJ=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.pp=c[1],e.df=[],c[3])try{e.df=c[3]?k.parse(c[3]):
[]}catch(B){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d){function e(a,c){this.xb=a;this.sW=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.RI=function(){return!0};e.prototype.Vs=function(a){this.cC();
(this.xb.qh||this.xb.Eg||this.xb.sn)&&this.xK();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Ws(a[c])};e.prototype.Ws=function(a){this.xb.HK();if("heartbeat"==a.type)return this.HU();"connect"==a.type&&""==a.Mw&&this.gD();"error"==a.type&&"reconnect"==a.advice&&(this.Ms=!1);this.xb.Ws(a);return this};e.prototype.xK=function(){if(!this.rp){var a=this;this.rp=setTimeout(function(){a.ln()},this.xb.rp)}};e.prototype.ln=function(){this.Ms&&this.close();this.dC();
this.xb.ln();return this};e.prototype.gD=function(){this.xb.gD();return this};e.prototype.cC=function(){this.rp&&(clearTimeout(this.rp),this.rp=null)};e.prototype.dC=function(){this.cC();this.YV&&clearTimeout(this.YV)};e.prototype.fg=function(a){this.send(d.parser.encodePacket(a))};e.prototype.HU=function(){this.fg({type:"heartbeat"})};e.prototype.ix=function(){this.Ms=!0;this.cC();this.xb.ix()};e.prototype.fi=function(){this.Ms=!1;this.xb.fi();this.ln()};e.prototype.Ys=function(){var a=this.xb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.vx+"/"+d.protocol+"/"+this.name+"/"+this.sW};e.prototype.ox=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d,e){function f(a){this.options={port:80,Bn:!1,document:"document"in e?document:!1,vx:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.sn=this.Eg=this.open=this.qh=!1;this.namespaces={};this.buffer=[];this.lC=!1;if(this.options["sync disconnect on unload"]&&(!this.Pp()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.gS()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Xp=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].fg({type:"connect"}));return this.namespaces[a]};f.prototype.Al=function(){this.tp.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Xp(c),a.sk.apply(a,arguments))};f.prototype.ET=function(a){function c(d){d instanceof Error?(e.Eg=!1,e.mn(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Bn?"s":"")+":/",f.host+":"+f.port,f.vx,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Pp()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],p=document.createElement("script");p.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(p,n);d.j.push(function(a){c(a);p.parentNode.removeChild(p)})}else{var q=d.util.request();q.open("GET",f,!0);this.Pp()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.mn(q.responseText):(e.Eg=!1,
!e.sn&&e.mn(q.responseText)))};q.send(null)}};f.prototype.HI=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Ym(this)&&(!this.Pp()||d.Transport[e].vt(this)))return new d.Transport[e](this,this.oK);return null};f.prototype.connect=function(a){if(this.Eg)return this;var c=this;c.Eg=!0;this.ET(function(e,f,g,p){function q(a){c.nf&&c.nf.dC();c.nf=c.HI(a);c.nf?c.nf.ox(c,function(){c.Eg=!0;c.Al("connecting",c.nf.name);c.nf.open();c.options["connect timeout"]&&
(c.LR=setTimeout(function(){if(!c.qh&&(c.Eg=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.nf.name;);a.length?q(a):c.Al("connect_failed")}},c.options["connect timeout"]))}):c.Al("connect_failed")}c.oK=e;c.rp=1E3*g;c.JT=1E3*f;c.transports||(c.transports=c.WU=p?d.util.intersect(p.split(","),c.options.transports):c.options.transports);c.HK();q(c.transports);c.VU(function(){clearTimeout(c.LR);a&&"function"==typeof a&&a()})});return this};f.prototype.HK=
function(){clearTimeout(this.QI);if(!this.nf||this.nf.RI()){var a=this;this.QI=setTimeout(function(){a.nf.fi()},this.JT)}};f.prototype.fg=function(a){this.qh&&!this.lC?this.nf.fg(a):this.buffer.push(a);return this};f.prototype.kk=function(a){this.lC=a;!a&&this.qh&&this.buffer.length&&(this.options.manualFlush||this.yS())};f.prototype.yS=function(){this.nf.PJ(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.qh||this.Eg)this.open&&this.Xp("").fg({type:"disconnect"}),this.ln("booted");
return this};f.prototype.gS=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Bn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.vx,d.protocol,"",this.oK].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.ln("booted")};f.prototype.Pp=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.gD=function(){this.qh||(this.qh=!0,this.Eg=!1,this.lC||this.kk(!1),this.tp("connect"))};
f.prototype.ix=function(){this.open=!0};f.prototype.fi=function(){this.open=!1;clearTimeout(this.QI)};f.prototype.Ws=function(a){this.Xp(a.Mw).Ws(a)};f.prototype.mn=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.qh||this.Eg)&&(this.disconnect(),this.options.px&&this.px());this.Al("error",a&&a.reason?a.reason:a)};f.prototype.ln=function(a){var c=this.qh,d=this.Eg;this.open=this.Eg=this.qh=!1;if(c||d)this.nf.close(),this.nf.dC(),c&&(this.Al("disconnect",a),"booted"!=a&&this.options.px&&!this.sn&&
this.px())};f.prototype.px=function(){function a(){if(d.qh){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].fg({type:"connect"});d.Al("reconnect",d.nf.name,d.qx)}clearTimeout(d.rx);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.sn=!1;delete d.qx;delete d.tn;delete d.rx;delete d.aK;d.options["try multiple transports"]=f}function c(){if(d.sn){if(d.qh)return a();if(d.Eg&&d.sn)return d.rx=setTimeout(c,1E3);d.qx++>=e?d.aK?(d.Al("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.WU,d.nf=d.HI(),d.aK=!0,d.connect()):(d.tn<g&&(d.tn*=2),d.connect(),d.Al("reconnecting",d.tn,d.qx),d.rx=setTimeout(c,d.tn))}}this.sn=!0;this.qx=0;this.tn=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.rx=setTimeout(c,this.tn);this.on("connect",c)}})("undefined"!=
typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc,this);(function(a,d){function e(a,c){this.xb=a;this.name=c||"";this.Ow={};this.nU=new f(this,"json");this.vH=0;this.rs={}}function f(a,c){this.Wp=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.sk=d.EventEmitter.prototype.tp;e.prototype.Xp=function(){return this.xb.Xp.apply(this.xb,arguments)};e.prototype.fg=function(a){a.Mw=this.name;this.xb.fg(a);this.Ow={};return this};e.prototype.send=function(a,c){var d=
{type:this.Ow.nU?"json":"message",data:a};"function"==typeof c&&(d.id=++this.vH,d.op=!0,this.rs[d.id]=c);return this.fg(d)};e.prototype.tp=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.vH,e.op="data",this.rs[e.id]=d,c=c.slice(0,c.length-1));e.df=c;return this.fg(e)};e.prototype.disconnect=function(){""===this.name?this.xb.disconnect():(this.fg({type:"disconnect"}),this.sk("disconnect"));return this};e.prototype.Ws=
function(a){function c(){e.fg({type:"ack",df:d.util.toArray(arguments),pp:a.id})}var e=this;switch(a.type){case "connect":this.sk("connect");break;case "disconnect":""===this.name?this.xb.ln(a.reason||"booted"):this.sk("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.op?f.push(c):a.op&&this.fg({type:"ack",pp:a.id});this.sk.apply(this,f);break;case "event":f=[a.name].concat(a.df);"data"==a.op&&f.push(c);this.sk.apply(this,f);break;case "ack":this.rs[a.pp]&&
(this.rs[a.pp].apply(this,a.df),delete this.rs[a.pp]);break;case "error":a.advice?this.xb.mn(a):"unauthorized"==a.reason?this.sk("connect_failed",a.reason):this.sk("error",a.reason)}};f.prototype.send=function(){this.Wp.Ow[this.name]=!0;this.Wp.send.apply(this.Wp,arguments)};f.prototype.tp=function(){this.Wp.Ow[this.name]=!0;this.Wp.tp.apply(this.Wp,arguments)}})("undefined"!=typeof io?io:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Sg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.xb.options.query),c=this,f;f||(f=e.g_||e.AN);this.Sg=new f(this.Ys()+a);this.Sg.onopen=function(){c.ix();c.xb.kk(!1)};this.Sg.onmessage=function(a){c.Vs(a.data)};this.Sg.onclose=function(){c.fi();c.xb.kk(!0)};this.Sg.onerror=function(a){c.mn(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Sg.send(a)},0);return this}:function(a){this.Sg.send(a);
return this};f.prototype.PJ=function(a){for(var c=0,d=a.length;c<d;c++)this.fg(a[c]);return this};f.prototype.close=function(){this.Sg.close();return this};f.prototype.mn=function(a){this.xb.mn(a)};f.prototype.scheme=function(){return this.xb.options.Bn?"wss":"ws"};f.Ym=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.vt=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc,
this);(function(c,d){function e(){d.Transport.Sg.apply(this,arguments)}c.F3=e;d.util.inherit(e,d.Transport.Sg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Iu(function(){d.Transport.Sg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Iu(function(){d.Transport.Sg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Jq.length=0;d.Transport.Sg.prototype.close.call(this);return this};
e.prototype.ox=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Bn?"s":"")+":/",d.host+":"+d.port,d.vx,"static/flashsocket","WebSocketMain"+(a.Pp()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.vU("xmlsocket://"+d.host+":"+h),WebSocket.pz(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Ym=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.KS().AU:!1};e.vt=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc);if("undefined"!=typeof window)var a=function(){function c(){if(!la){try{var a=L.getElementsByTagName("body")[0].appendChild(L.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}la=!0;for(var a=wa.length,d=0;d<a;d++)wa[d]()}}function d(a){la?
a():wa[wa.length]=a}function e(a){if(typeof $.addEventListener!=M)$.addEventListener("load",a,!1);else if(typeof L.addEventListener!=M)L.addEventListener("load",a,!1);else if(typeof $.attachEvent!=M)w($,a);else if("function"==typeof $.onload){var c=$.onload;$.onload=function(){c();a()}}else $.onload=a}function f(){var a=L.getElementsByTagName("body")[0],c=L.createElement(Q);c.setAttribute("type",R);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=M){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),E.$p=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ia.length;if(0<a)for(var c=0;c<a;c++){var d=ia[c].id,e=ia[c].qR,f={In:!1,id:d};if(0<E.$p[0]){var g=u(d);if(g)if(!y(ia[c].fY)||E.rk&&312>E.rk)if(ia[c].jI&&k()){f={};f.data=ia[c].jI;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.Jca=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),p=g.length,q=0;q<p;q++)"movie"!=g[q].getAttribute("name").toLowerCase()&&(n[g[q].getAttribute("name")]=g[q].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else B(d,!0),e&&(f.In=!0,f.bK=h(d),e(f))}else B(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=M&&(f.In=!0,f.bK=d),e(f))}}function h(a){var c=null;(a=u(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=M?c=a:(a=a.getElementsByTagName(Q)[0])&&
(c=a));return c}function k(){return!xa&&y("6.0.65")&&(E.Ah||E.wJ)&&!(E.rk&&312>E.rk)}function l(a,c,d,e){xa=!0;Da=e||null;Ka={In:!1,id:d};var f=u(d);if(f){"OBJECT"==f.nodeName?(sa=n(f),ya=null):(sa=f,ya=d);a.id=pa;if(typeof a.width==M||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==M||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";L.title=L.title.slice(0,47)+" - Flash Player Installation";e=E.uh&&E.Ah?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
$.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+L.title;c.vs=typeof c.vs!=M?c.vs+("\x26"+e):e;E.uh&&E.Ah&&4!=f.readyState&&(e=L.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());p(a,c,d)}}function m(a){if(E.uh&&E.Ah&&4!=a.readyState){var c=L.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=L.createElement("div");if(E.Ah&&E.uh)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(Q)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function p(a,c,d){var e,f=u(d);if(E.rk&&312>E.rk)return e;if(f)if(typeof a.id==
M&&(a.id=d),E.uh&&E.Ah){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.j9=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";za[za.length]=a.id;e=u(a.id)}else{k=L.createElement(Q);k.setAttribute("type",
R);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=L.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=u(a);c&&"OBJECT"==c.nodeName&&(E.uh&&E.Ah?(c.style.display="none",function(){if(4==c.readyState){var d=u(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function u(a){var c=null;try{c=L.getElementById(a)}catch(d){}return c}function w(a,c){a.attachEvent("onload",c);qa[qa.length]=[a,"onload",c]}function y(a){var c=E.$p;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!E.uh||!E.wJ){var f=L.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Ea=ga=null),ga&&Ea==d||(e=L.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ga=f.appendChild(e),E.uh&&E.Ah&&typeof L.styleSheets!=M&&0<L.styleSheets.length&&(ga=L.styleSheets[L.styleSheets.length-1]),Ea=d),E.uh&&E.Ah?ga&&typeof ga.addRule==Q&&ga.addRule(a,c):ga&&typeof L.createTextNode!=M&&ga.appendChild(L.createTextNode(a+" {"+c+"}")))}}function B(a,c){if(La){var d=
c?"visible":"hidden";la&&u(a)?u(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function Z(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=M?encodeURIComponent(a):a}var M="undefined",Q="object",R="application/x-shockwave-flash",pa="SWFObjectExprInst",$=window,L=document,ja=navigator,Ma=!1,wa=[function(){Ma?f():g()}],ia=[],za=[],qa=[],sa,ya,Da,Ka,la=!1,xa=!1,ga,Ea,La=!0,E=function(){var a=typeof L.getElementById!=M&&typeof L.getElementsByTagName!=M&&typeof L.createElement!=M,c=ja.userAgent.toLowerCase(),
d=ja.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ja.plugins!=M&&typeof ja.plugins["Shockwave Flash"]==Q)!(h=ja.plugins["Shockwave Flash"].description)||typeof ja.mimeTypes!=M&&ja.mimeTypes[R]&&!ja.mimeTypes[R].enabledPlugin||(Ma=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof $[["Active"].concat("Object").join("X")]!=M)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Pl:a,$p:g,rk:c,uh:f,Ah:e,wJ:d}}();(function(){E.Pl&&((typeof L.readyState!=M&&"complete"==L.readyState||typeof L.readyState==
M&&(L.getElementsByTagName("body")[0]||L.body))&&c(),la||(typeof L.addEventListener!=M&&L.addEventListener("DOMContentLoaded",c,!1),E.uh&&E.Ah&&(L.attachEvent("onreadystatechange",function(){"complete"==L.readyState&&(L.detachEvent("onreadystatechange",arguments.callee),c())}),$==top&&function(){if(!la){try{L.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),E.rk&&function(){la||(/loaded|complete/.test(L.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){E.uh&&E.Ah&&window.attachEvent("onunload",function(){for(var c=qa.length,d=0;d<c;d++)qa[d][0].detachEvent(qa[d][1],qa[d][2]);c=za.length;for(d=0;d<c;d++)q(za[d]);for(var e in E)E[e]=null;E=null;for(var f in a)a[f]=null;a=null})})();return{B$:function(a,c,d,e){if(E.Pl&&a&&c){var f={};f.id=a;f.fY=c;f.jI=d;f.qR=e;ia[ia.length]=f;B(a,!1)}else e&&e({In:!1,id:a})},y5:function(a){if(E.Pl)return h(a)},rS:function(a,c,e,f,g,h,m,n,q,u){var w={In:!1,id:c};E.Pl&&!(E.rk&&312>E.rk)&&a&&c&&e&&f&&g?(B(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===Q)for(var D in q)d[D]=q[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===Q)for(var Z in n)D[Z]=n[Z];if(m&&typeof m===Q)for(var E in m)D.vs=typeof D.vs!=M?D.vs+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(y(g))Z=p(d,D,c),d.id==c&&B(c,!0),w.In=!0,w.bK=Z;else{if(h&&k()){d.data=h;l(d,D,c,u);return}B(c,!0)}u&&u(w)})):u&&u(w)},Rca:function(){La=!1},ua:E,KS:function(){return{AU:E.$p[0],f9:E.$p[1],xD:E.$p[2]}},GT:y,J2:function(a,c,d){if(E.Pl)return p(a,
c,d)},tca:function(a,c,d,e){E.Pl&&k()&&l(a,c,d,e)},P$:function(a){E.Pl&&q(a)},I2:function(a,c,d,e){E.Pl&&D(a,c,d,e)},y1:d,C1:e,d6:function(a){var c=L.location.search||L.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Z(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Z(c[d].substring(c[d].indexOf("\x3d")+1))}return""},p3:function(){if(xa){var a=u(pa);a&&sa&&(a.parentNode.replaceChild(sa,a),ya&&(B(ya,!0),E.uh&&E.Ah&&(sa.style.display=
"block")),Da&&Da(Ka));xa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.AN){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.GT("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Ku=WebSocket.HN++;WebSocket.IF[k.Ku]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.eo={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Iu(function(){WebSocket.si.create(k.Ku,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.si.send(this.Ku,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.zE&&
(this.readyState=WebSocket.zE,WebSocket.si.close(this.Ku))},WebSocket.prototype.addEventListener=function(a,c){a in this.eo||(this.eo[a]=[]);this.eo[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.eo)for(var f=this.eo[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.eo[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.EN=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.GF(a.type);else if("close"==a.type)a=this.GF("close");else if("message"==a.type)a=this.CN(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.GF=function(a){if(document.createEvent&&window.FZ){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.CN=function(a){if(document.createEvent&&
window.e_&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.zE=2,WebSocket.CLOSED=3,WebSocket.si=null,WebSocket.IF={},WebSocket.Jq=[],WebSocket.HN=0,WebSocket.vU=function(a){WebSocket.Iu(function(){WebSocket.si.Y8(a)})},WebSocket.pz=function(){if(!WebSocket.si&&(WebSocket.JN&&(window.zN=WebSocket.JN),window.zN)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.GN()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.rS(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{r7:!0,Uca:!0,P1:"always"},null,function(a){a.In||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.G0=function(){setTimeout(function(){WebSocket.si=
document.getElementById("webSocketFlash");WebSocket.si.saa(location.href);WebSocket.si.Aaa(!!window.r0);for(var a=0;a<WebSocket.Jq.length;++a)WebSocket.Jq[a]();WebSocket.Jq=[]},0)},WebSocket.F0=function(){setTimeout(function(){try{for(var a=WebSocket.si.w$(),e=0;e<a.length;++e)WebSocket.IF[a[e].Jda].EN(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.E0=function(a){c.log(decodeURIComponent(a))},WebSocket.D0=function(a){c.error(decodeURIComponent(a))},WebSocket.Iu=function(a){WebSocket.si?a():WebSocket.Jq.push(a)},
WebSocket.GN=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.s0||(window.addEventListener?window.addEventListener("load",function(){WebSocket.pz()},!1):window.attachEvent("onload",function(){WebSocket.pz()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.vj=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.xb.kk(!1);this.ix();this.get();this.xK();return this};f.prototype.PJ=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.SJ(a);return this};f.prototype.SJ=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.k$=!1,200==this.status?f.xb.kk(!1):f.fi())}function d(){this.onload=
g;f.xb.kk(!1)}var f=this;this.xb.kk(!0);this.at=this.request("POST");e.XDomainRequest&&this.at instanceof XDomainRequest?this.at.onload=this.at.onerror=d:this.at.onreadystatechange=c;this.at.send(a)};f.prototype.close=function(){this.fi();return this};f.prototype.request=function(a){var c=d.util.request(this.xb.Pp()),e=d.util.query(this.xb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Ys()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.xb.options.Bn?"https":"http"};f.Ym=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Bn?"https:":"http:",p=e.location&&n!=e.location.protocol;if(f&&(!g||!p))return!0}catch(q){}return!1};f.vt=function(a){return f.Ym(a,!0)}})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc,this);(function(a,d){function e(a){d.Transport.vj.apply(this,
arguments)}a.u7=e;d.util.inherit(e,d.Transport.vj);e.prototype.name="htmlfile";e.prototype.get=function(){this.kl=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.kl.open();this.kl.write("\x3chtml\x3e\x3c/html\x3e");this.kl.close();this.kl.parentWindow.ji=this;var a=this.kl.createElement("div");a.className="socketio";this.kl.body.appendChild(a);this.Ig=this.kl.createElement("iframe");a.appendChild(this.Ig);var c=this,a=d.util.query(this.xb.options.query,"t\x3d"+ +new Date);this.Ig.src=
this.Ys()+a;d.util.on(window,"unload",function(){c.yd()})};e.prototype.DF=function(a,c){a=a.replace(/\\\//g,"/");this.Vs(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.yd=function(){if(this.Ig){try{this.Ig.src="about:blank"}catch(a){}this.kl=null;this.Ig.parentNode.removeChild(this.Ig);this.Ig=null;CollectGarbage()}};e.prototype.close=function(){this.yd();return d.Transport.vj.prototype.close.call(this)};e.Ym=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.vj.Ym(a)}catch(c){}return!1};e.vt=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc);(function(a,d,e){function f(){d.Transport.vj.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.vj);d.util.merge(f,d.Transport.vj);f.prototype.name="xhr-polling";
f.prototype.RI=function(){return!1};f.prototype.open=function(){d.Transport.vj.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Vs(this.responseText),f.get()):f.fi())}function c(){this.onerror=this.onload=g;f.ED=1;f.Vs(this.responseText);f.get()}function d(){f.ED++;!f.ED||3<f.ED?f.fi():f.get()}if(this.Ms){var f=this;this.mi=this.request();e.XDomainRequest&&this.mi instanceof XDomainRequest?(this.mi.onload=
c,this.mi.onerror=d):this.mi.onreadystatechange=a;this.mi.send(null)}};f.prototype.fi=function(){d.Transport.vj.prototype.fi.call(this);if(this.mi){this.mi.onreadystatechange=this.mi.onload=this.mi.onerror=g;try{this.mi.abort()}catch(a){}this.mi=null}};f.prototype.ox=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=typeof io?io:module.parent.uc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.DF(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.SJ=function(a){function c(){e();f.xb.kk(!1)}function e(){f.Ig&&f.form.removeChild(f.Ig);try{w=document.createElement('\x3ciframe name\x3d"'+f.MC+'"\x3e')}catch(a){w=document.createElement("iframe"),w.name=f.MC}w.id=f.MC;f.form.appendChild(w);f.Ig=
w}var f=this,g=d.util.query(this.xb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var p=document.createElement("form"),q=document.createElement("textarea"),u=this.MC="socketio_iframe_"+this.index,w;p.className="socketio";p.style.position="absolute";p.style.top="0px";p.style.left="0px";p.style.display="none";p.target=u;p.method="POST";p.setAttribute("accept-charset","utf-8");q.name="d";p.appendChild(q);document.body.appendChild(p);this.form=p;this.kR=q}this.form.action=this.Ys()+
g;e();this.kR.value=d.JSON.stringify(a);try{this.form.submit()}catch(y){}this.Ig.attachEvent?w.onreadystatechange=function(){"complete"==f.Ig.readyState&&c()}:this.Ig.onload=c;this.xb.kk(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.xb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.Wa&&(this.Wa.parentNode.removeChild(this.Wa),this.Wa=null);c.async=!0;c.src=this.Ys()+e;c.onerror=function(){a.fi()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.Wa=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.DF=function(a){this.Vs(a);this.Ms&&this.get();return this};f.prototype.ox=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Ym=function(){return"document"in e};f.vt=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.uc,"undefined"!=
typeof io?io:module.parent.uc,this);"function"===typeof define&&define.Q1&&define([],function(){return io})})();r=r||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.dU=0|998*Math.random();
ca.PH=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.XL(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.PH.XL=ca;ca.WS=function(){return this.id++};ca.XS=function(){return this.dU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");r.Da=function(){};r.Da.extend=function(d){function e(){this.cc=ca.XS();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.WS();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.PH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.cc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.w7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();r.y7=function(a,c){function d(){}d.prototype=c.prototype;a.$x=c.prototype;a.prototype=new d;a.prototype.constructor=a};
r.nR=function(a,c,d){var e=arguments.callee.caller;if(e.$x)return ret=e.$x.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.$x&&h.$x.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
r.E2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};r.Vg=function(a,c){this.x=a||0;this.y=c||0};r.EF=function(a,c){this.F=a||0;this.I=c||0;this.bL=function(a){this.F=a};this.cL=function(a){this.I=a}};r.vd=function(){return new r.EF(0,0)};
Object.defineProperties(r.EF.prototype,{x:{get:function(){return this.F},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});r.v_=function(a,c){r.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new r.Vg(a,c)};
r.a=function(a,c){return{x:a,y:c}};r.f1=r.a;r.rj=function(){return r.a(0,0)};r.QJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};r.zk=function(a,c){this.width=a||0;this.height=c||0};r.FF=function(a,c){this.Ga=a||0;this.ta=c||0;this.$D=function(a){this.Ga=a};this.ND=function(a){this.ta=a}};r.Dm=function(){return new r.FF(0,0)};
Object.defineProperties(r.FF.prototype,{width:{get:function(){return this.Ga},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ta},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});r.$_=function(a,c){r.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return r.size(a,c)};
r.size=function(a,c){return{width:a,height:c}};r.cb=r.size;r.$l=function(){return r.size(0,0)};r.uH={hV:r.vd(),XX:r.Dm()};Object.defineProperties(r,{WM:{get:function(){return r.uH.hV}},fN:{get:function(){return r.uH.XX}},A_:{get:function(){return r.rect(0,0,0,0)}}});r.WX=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
r.ng=function(a,c,d,e){var f=arguments.length;if(4===f)this.jd=new r.Vg(a||0,c||0),this.cb=new r.zk(d||0,e||0);else if(1===f)this.jd=new r.Vg(a.jd.x,a.jd.y),this.cb=new r.zk(a.cb.width,a.cb.height);else if(0===f)this.jd=new r.Vg(0,0),this.cb=new r.zk(0,0);else if(2===f)this.jd=new r.Vg(a.x,a.y),this.cb=new r.zk(c.width,c.height);else throw"unknown argument type";};r.H_=function(a,c,d,e){r.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return r.rect(a,c,d,e)};
r.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new r.ng(0,0,0,0);if(1===f)return new r.ng(a.x,a.y,a.width,a.height);if(2===f)return new r.ng(a.x,a.y,c.width,c.height);if(4===f)return new r.ng(a,c,d,e);throw"unknown argument type";};r.za=r.rect;r.fd=function(){return r.rect(0,0,0,0)};r.$J=function(a,c){return a&&c?r.QJ(a.jd,c.jd)&&r.WX(a.cb,c.cb):!1};r.Lr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
r.x$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};r.un=function(a){return a.x+a.width};r.y$=function(a){return a.x+a.width/2};r.Bl=function(a){return a.x};r.vn=function(a){return a.y+a.height};r.z$=function(a){return a.y+a.height/2};r.Cl=function(a){return a.y};r.bb=function(a,c){return c.x>=r.Bl(a)&&c.x<=r.un(a)&&c.y>=r.Cl(a)&&c.y<=r.vn(a)};r.zV=function(a,c){return!(r.un(a)<r.Bl(c)||r.un(c)<r.Bl(a)||r.vn(a)<r.Cl(c)||r.vn(c)<r.Cl(a))};
r.A$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};r.sx=function(a,c){var d=r.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};r.yV=function(a,c){var d=r.rect(Math.max(r.Bl(a),r.Bl(c)),Math.max(r.Cl(a),r.Cl(c)),0,0);d.width=Math.min(r.un(a),r.un(c))-r.Bl(d);d.height=Math.min(r.vn(a),r.vn(c))-r.Cl(d);return d};b=r.ng.prototype;
b.bL=function(a){this.jd.x=a};b.cL=function(a){this.jd.y=a};b.Hs=function(){return this.cb.width};b.$D=function(a){this.cb.width=a};b.Bs=function(){return this.cb.height};b.ND=function(a){this.cb.height=a};
Object.defineProperties(r.ng.prototype,{x:{get:function(){return this.jd.x},set:function(a){this.bL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.jd.y},set:function(a){this.cL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Hs()},set:function(a){this.$D(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Bs()},set:function(a){this.ND(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{o2:{get:function(){var a={canvas:!0};r.Fa.Pc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},F9:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return r.Dt},enumerable:!0,configurable:!0}});s.K3=function(){};
s.e3=function(){};s.$$=function(){};r.Dt="Cocos2d-html5-v2.2.2";r.Xt=0;r.NE=r.a(0,0);r.bM=0.5;r.aZ=1;r.gN=1;r.TM=0;r.vF=0;r.b0=0;r.c0=0;r.D_=1;r.C_="-hd";r.vN=1;r.yk=0;r.X_=0;r.YZ=0;r.XZ=0;r.Gy=1;r.kZ=r.Dt+"-canvas";r.Cw={platform:s.platform};r.d3=function(){for(var a in s)r.log(a+" \x3d "+s[a])};r.Ct=1;r.PE=1;r.QH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};r.Fa={};r.Fa.xY=["baidubrowser","opera","firefox","chrome","safari"];
(function(){r.Fa.ua=navigator.userAgent.toLowerCase();r.Fa.platform=navigator.platform.toLowerCase();r.Fa.gk=-1!=r.Fa.ua.indexOf("mobile")||-1!=r.Fa.ua.indexOf("android");r.Fa.type=function(){var a=r.Fa.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||r.Fa.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();r.Fa.mode="ie"==r.Fa.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});r.KB=parseInt(document.ccConfig.renderMode)||0;var a=-1==r.Fa.xY.indexOf(r.Fa.type);1===r.KB||0===r.KB&&(r.Fa.gk||a)?r.Fa.Pc=!1:(r.Fa.Pc=null!=window.v0,a=document.createElement("Canvas"),a=r.QH(a,{stencil:!0,preserveDrawingBuffer:!0}),r.Fa.Pc=null!=a);2!==r.KB||r.Fa.Pc||(r.qz=!0);var a=r.Fa,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Kca=c;r.Fa.C9=function(a){if(this.gk){var c=r.Z.e().Qb,d=c.width+"px",c=c.height+"px",h=r.tk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.AY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=r.tk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.AY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();r.I_=function(){return"undefined"===r.qz?!1:r.qz};
r.Nb=function(a){var c=this==r?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||r.Nb,a.HC=a.HC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.AH=a.AH||function(a){this.HC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.QV=a.QV||function(a){this.HC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Wm=a.Wm||
function(a){a.appendChild(this);return this},a.sV=a.sV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Kn=a.Kn||function(){this.style[r.Nb.lY]=r.Nb.translate(this.position)+r.Nb.rotate(this.rotation)+r.Nb.scale(this.scale)+r.Nb.Jl(this.Jl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Jl=a.Jl||{x:0,y:0},a.hE=function(a,c){this.position.x=a;this.position.y=c;this.Kn()},a.rotate=function(a){this.rotation=
a;this.Kn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Kn();return this},a.TK=function(a,c){this.Jl.x=a;this.Jl.y=c;this.Kn()};return a};switch(r.Fa.type){case "firefox":r.Nb.Zp="Moz";r.Nb.Jp=!0;break;case "chrome":case "safari":r.Nb.Zp="webkit";r.Nb.Jp=!0;break;case "opera":r.Nb.Zp="O";r.Nb.Jp=!1;break;case "ie":r.Nb.Zp="ms";r.Nb.Jp=!1;break;default:r.Nb.Zp="webkit",r.Nb.Jp=!0}r.Nb.lY=r.Nb.Zp+"Transform";
r.Nb.translate=r.Nb.Jp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};r.Nb.rotate=r.Nb.Jp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};r.Nb.scale=function(a){return"scale("+a.x+", "+a.y+") "};r.Nb.Jl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};r.tk=function(a){return r.Nb(document.createElement(a))};
r.Nb.D3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};r.G=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof r.D||e instanceof HTMLElement?e:r.G(e)}return c};r.V1=function(){};r.SE=r.SE||!1;
r.fP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");r.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",r.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=r.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=r.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};r.log=function(a){r.SE?r.fP(a):console.log.apply(console,arguments)};r.d_=function(a){console.log(a)};r.yt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};r.QT=function(){0==r.At?(r.log=function(){},r.uJ=function(){},r.tJ=function(){},r.yt=function(){}):1==r.At?(r.uJ=r.log,r.tJ=function(){}):1<r.At&&(r.uJ=r.log,r.tJ=r.log)};r.zM=0;r.yM=1;r.AM=2;r.DM=3;r.BM=4;r.KM=5;r.JM=6;r.FM=7;r.EM=8;r.CM=9;
r.IM=10;r.xM=11;r.GM=12;r.HM=13;
r.vM={X1:8,Wca:9,uS:13,shift:16,N2:17,alt:18,pause:19,p2:20,escape:27,c$:33,b$:34,end:35,home:36,left:37,sda:38,right:39,Y2:40,D7:45,rZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,H:65,g:66,Ca:67,La:68,f3:69,Nw:70,o:71,Be:72,v7:73,j:74,G8:75,P8:76,c9:77,BJ:78,y9:79,a:80,q$:81,p:82,ji:83,Vca:84,Pa:85,la:86,IL:87,x:88,y:89,z:90,m9:96,n9:97,o9:98,p9:99,q9:100,r9:101,s9:102,t9:103,u9:104,v9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,q3:112,u3:113,v3:114,w3:115,x3:116,y3:117,z3:118,A3:119,
B3:120,r3:121,s3:122,t3:123,x9:144,gaa:145,iaa:186,",":186,j3:187,"\x3d":187,";":188,D2:188,P2:189,".":190,g$:190,I3:191,o7:192,"[":219,D9:219,"]":221,C2:221,W1:220,quote:222,Bca:32};r.qi=-1;r.PI=Math.PI;r.mM=parseFloat("3.402823466e+38F");r.cN=r.PI/180;r.aM=180/r.PI;r.uN=4294967295;r.Y_=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else r.log("cc.SWAP is being modified from original macro, please check usage")};r.R8=function(a,c,d){return a+(c-a)*d};r.z_=function(){return 2*(Math.random()-0.5)};r.y_=function(){return Math.random()};r.pj=function(a){return a*r.cN};r.Sy=function(a){return a*r.aM};
r.Zl=Number.MAX_VALUE-1;r.Le=r.TM?1:770;r.Ke=771;r.My=function(a){a.Kc&&(a.Kc.of(),a.Kc.Qg())};r.DZ=function(){};r.qZ=function(){};r.Ch=function(){r.ai+=1};r.Yt=1.192092896E-7;r.Fd=r.Gy?function(){return r.Z.e().jm}:function(){return 1};r.VM=function(a){var c=r.Fd();return r.a(a.x*c,a.y*c)};r.z0=function(a,c){var d=r.Fd();c.F=a.x*d;c.I=a.y*d};r.Xy=function(a){var c=r.Fd();return r.size(a.width*c,a.height*c)};r.V_=function(a){var c=r.Fd();return r.size(a.width/c,a.height/c)};
r.nz=function(a,c){var d=r.Fd();c.Ga=a.width/d;c.ta=a.height/d};r.t_=function(a){var c=r.Fd();return r.a(a.x/c,a.y/c)};r.Hu=function(a,c){var d=r.Fd();c.F=a.x/d;c.I=a.y/d};r.vq=r.Gy?function(a){var c=r.Fd();return r.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};r.Wn=r.Gy?function(a){var c=r.Fd();return r.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};r.yE=function(){if(r.X$==r.Ak){var a=r.X.getError();a&&r.log("WebGL error "+a)}};r.N_=0;r.M_=1;r.K_=2;r.L_=3;r.O_=4;r.P_=5;r.J_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ea=document.createElement("script");ea.type="text/vbscript";ea.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ea);
r.XF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
r.Gd=r.Da.extend({Cj:null,cl:null,vO:null,hA:null,Wo:null,Qh:null,Xq:"",ctor:function(){this.Cj={};this.cl={};this.Qh=[];this.Qh.push(this.Xq);this.Wo=[];this.Wo.push("")},n$:function(){this.Qh=[]},b4:function(a){a=this.re(a);return this.Cj.hasOwnProperty(a)?this.Cj[a]:this.cP(a)},mv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},mY:function(a){this.Cj.hasOwnProperty(a)&&delete this.Cj[a]},oV:function(a){a=this.re(a);var c=this,d=this.mv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=r.XF(d.responseBody);e&&(c.Cj[a]=c.$v(e))}else r.$b.e().nn(a);r.$b.e().hi()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Cj[a]=c.$v(e):r.$b.e().nn(a);r.$b.e().hi()});d.send(null)},cP:function(a){var c=this.mv();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=r.XF(c.responseBody))d=this.$v(c),this.Cj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.$v(c.responseText);this.Cj[a]=d}return d},$v:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},oY:function(a){a=this.re(a);this.cl.hasOwnProperty(a)&&delete this.cl[a]},qV:function(a){a=this.re(a);var c=this,d=this.mv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.cl[a]=e)}else r.$b.e().nn(a);r.$b.e().hi()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.cl[a]=d.responseText:r.$b.e().nn(a);r.$b.e().hi()});d.send(null)},eP:function(a){var c=this.mv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.cl[a]=d);return d},CI:function(a){a=this.re(a);return this.cl.hasOwnProperty(a)?this.cl[a]:
this.eP(a)},I4:function(){},U$:function(){},RJ:!0,J3:function(a){return a},re:function(a){var c=!1;a=this.GO(a);for(var d,e=0;e<this.Qh.length;e++){for(var f=this.Qh[e],g=0;g<this.Wo.length;g++)if(d=this.HO(a,this.Wo[g],f)){c=!0;break}if(c)break}return c?d:a},W8:function(a){var c=this.re(a);if(0<c.length){var c=r.xk.e().parse(c),d=parseInt(c.metadata.version);1!=d?r.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.PW(c.filenames)}},PW:function(a){this.hA=
a},rI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Pba:function(a){this.Wo=a},q6:function(){return this.Wo},Oba:function(a){this.Qh=a},o6:function(){return this.Qh},h6:function(){return this.vO},Jba:function(){},T2:function(a){r.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.QR(a)},QR:function(a){return r.xk.e().parse(a)},F6:function(a){return this.CI(a)},
Gw:function(a){return r.xk.e().parse(a)},i7:function(){return""},zba:function(a){r.RJ=a},k8:function(){return r.RJ},dB:"",i6:function(){return this.dB},Kba:function(a){this.dB=a},GO:function(a){var c=null;(c=this.hA?this.hA[a]:null)&&0!==c.length?r.log("FOUND NEW FILE NAME: "+c):c=a;return c},HO:function(a,c,d){var e;e=this.dB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},T0:function(){},SK:function(a){var c=!1;this.Qh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.gJ(e)||(f=this.Xq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Xq||(c=!0);this.Qh.push(e)}c||this.Qh.push(this.Xq)},F1:function(a){var c;this.gJ(a)||(c=this.Xq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Qh.push(a)},p6:function(){},
gJ:function(a){return"/"==a[0]}});r.GD=null;r.Gd.e=function(){null==r.GD&&(r.GD=new r.Gd);return r.GD};r.Ec=function(a,c,d){switch(arguments.length){case 0:this.g=this.o=this.p=0;break;case 1:a&&a instanceof r.Ec?(this.p=0|a.p||0,this.o=0|a.o||0,this.g=0|a.g||0):this.g=this.o=this.p=0;break;case 3:this.p=0|a||0;this.o=0|c||0;this.g=0|d||0;break;default:throw"unknown argument type";}};r.k=function(a,c,d){return new r.Ec(a,c,d)};r.H7=function(a){a=a||0;var c=new r.Ec;c.p=a&255;c.o=a>>8&255;c.g=a>>16&255;return c};r.zw=r.k;r.i2=function(a,c){return a.p===c.p&&a.o===c.o&&a.g===c.g};
Object.defineProperties(r,{t0:{get:function(){return r.k(255,255,255)}},w0:{get:function(){return r.k(255,255,0)}},YY:{get:function(){return r.k(0,0,255)}},MZ:{get:function(){return r.k(0,255,0)}},B_:{get:function(){return r.k(255,0,0)}},a_:{get:function(){return r.k(255,0,255)}},WY:{get:function(){return r.k(0,0,0)}},k_:{get:function(){return r.k(255,127,0)}},LZ:{get:function(){return r.k(166,166,166)}}});r.yb=function(){return new r.Ec(255,255,255)};r.Nda=function(){return new r.Ec(255,255,0)};
r.blue=function(){return new r.Ec(0,0,255)};r.green=function(){return new r.Ec(0,255,0)};r.red=function(){return new r.Ec(255,0,0)};r.d9=function(){return new r.Ec(255,0,255)};r.Z1=function(){return new r.Ec(0,0,0)};r.E9=function(){return new r.Ec(255,127,0)};r.Hp=function(){return new r.Ec(166,166,166)};r.Ob=function(a,c,d,e){this.p=0|a;this.o=0|c;this.g=0|d;this.H=0|e};r.h=function(a,c,d,e){return new r.Ob(a,c,d,e)};r.$B=r.h;r.Xd=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.H=e};
r.Aw=function(a,c,d,e){return new r.Xd(a,c,d,e)};r.l2=function(a){return new r.Xd(a.p/255,a.o/255,a.g/255,1)};r.m2=function(a){return new r.Xd(a.p/255,a.o/255,a.g/255,a.H/255)};r.j2=function(a){return new r.Ob(0|255*a.p,0|255*a.o,0|255*a.g,0|255*a.H)};r.k2=function(a,c){return a.p==c.p&&a.o==c.o&&a.g==c.g&&a.H==c.H};r.Bb=function(a,c){this.x=a||0;this.y=c||0};r.Gu=function(a,c){return new r.Bb(a,c)};r.Vc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
r.Eda=function(a,c,d){return new r.Vc(a,c,d)};r.xc=function(a,c){this.Pa=a||0;this.la=c||0};r.bda=function(a,c){return new r.xc(a,c)};r.w_=function(a,c,d){a||new r.Bb(0,0);this.color=c||new r.Ob(0,0,0,0);this.size=d||0};r.ju=function(a,c,d,e){this.Sa=a||new r.Bb(0,0);this.Na=c||new r.Bb(0,0);this.Ja=d||new r.Bb(0,0);this.Ua=e||new r.Bb(0,0)};r.x_=function(a,c,d,e){this.Ja=a||new r.Vc(0,0,0);this.Ua=c||new r.Vc(0,0,0);this.Sa=d||new r.Vc(0,0,0);this.Na=e||new r.Vc(0,0,0)};
r.pM=function(a,c){this.x=a;this.y=c};r.o=function(a,c){return new r.pM(a,c)};r.Ub=function(a,c,d){this.s=a||new r.Bb(0,0);this.J=c||new r.Ob(0,0,0,0);this.B=d||new r.xc(0,0)};r.Du=function(){this.s=new r.Bb(0,0);this.J=new r.Xd(0,0,0,0);this.B=new r.xc(0,0)};r.qc=function(a,c,d){this.s=a||new r.Vc(0,0,0);this.J=c||new r.Ob(0,0,0,0);this.B=d||new r.xc(0,0)};r.Gc=function(a,c,d){this.H=a||new r.Ub;this.g=c||new r.Ub;this.Ca=d||new r.Ub};
r.wN=function(){var a=new r.Ub(new r.Bb(0,0),new r.Ob(0,0,0,255),new r.xc(0,0)),c=new r.Ub(new r.Bb(0,0),new r.Ob(0,0,0,255),new r.xc(0,0)),d=new r.Ub(new r.Bb(0,0),new r.Ob(0,0,0,255),new r.xc(0,0)),e=new r.Ub(new r.Bb(0,0),new r.Ob(0,0,0,255),new r.xc(0,0));this.Ja=a||new r.Ub;this.Ua=c||new r.Ub;this.Sa=d||new r.Ub;this.Na=e||new r.Ub};r.o0=function(){return new r.wN};r.bc=function(a,c,d,e){this.Sa=a||new r.qc;this.Ja=c||new r.qc;this.Na=d||new r.qc;this.Ua=e||new r.qc};
r.lz=function(){return new r.bc(new r.qc(new r.Vc(0,0,0),new r.Ob(0,0,0,255),new r.xc(0,0)),new r.qc(new r.Vc(0,0,0),new r.Ob(0,0,0,255),new r.xc(0,0)),new r.qc(new r.Vc(0,0,0),new r.Ob(0,0,0,255),new r.xc(0,0)),new r.qc(new r.Vc(0,0,0),new r.Ob(0,0,0,255),new r.xc(0,0)))};
r.kz=function(a){return a?new r.bc(new r.qc(new r.Vc(a.Sa.s.x,a.Sa.s.y,a.Sa.s.z),new r.Ob(a.Sa.J.p,a.Sa.J.o,a.Sa.J.g,a.Sa.J.H),new r.xc(a.Sa.B.Pa,a.Sa.B.la)),new r.qc(new r.Vc(a.Ja.s.x,a.Ja.s.y,a.Ja.s.z),new r.Ob(a.Ja.J.p,a.Ja.J.o,a.Ja.J.g,a.Ja.J.H),new r.xc(a.Ja.B.Pa,a.Ja.B.la)),new r.qc(new r.Vc(a.Na.s.x,a.Na.s.y,a.Na.s.z),new r.Ob(a.Na.J.p,a.Na.J.o,a.Na.J.g,a.Na.J.H),new r.xc(a.Na.B.Pa,a.Na.B.la)),new r.qc(new r.Vc(a.Ua.s.x,a.Ua.s.y,a.Ua.s.z),new r.Ob(a.Ua.J.p,a.Ua.J.o,a.Ua.J.g,a.Ua.J.H),new r.xc(a.Ua.B.Pa,
a.Ua.B.la))):r.lz()};r.q0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(r.kz(a[d]));return c};r.p0=function(a,c,d,e){this.Ja=a||new r.Du;this.Ua=c||new r.Du;this.Sa=d||new r.Du;this.Na=e||new r.Du};r.Vl=function(a,c){this.src=a;this.Gb=c};r.ZY=function(){return new r.Vl(1,0)};r.hl=function(a){var c=a.p.toString(16),d=a.o.toString(16),e=a.g.toString(16);return"#"+(16>a.p?"0"+c:c)+(16>a.o?"0"+d:d)+(16>a.g?"0"+e:e)};
r.Fa.Pc&&(r.Ob=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(r.Ob.BYTES_PER_ELEMENT);this.Jb=g||0;f=this.Pb;g=this.Jb;var h=Uint8Array.BYTES_PER_ELEMENT;this.VA=new Uint8Array(f,g,1);this.oA=new Uint8Array(f,g+h,1);this.Az=new Uint8Array(f,g+2*h,1);this.sz=new Uint8Array(f,g+3*h,1);this.VA[0]=a||0;this.oA[0]=c||0;this.Az[0]=d||0;this.sz[0]=e||0},r.Ob.BYTES_PER_ELEMENT=4,Object.defineProperties(r.Ob.prototype,{p:{get:function(){return this.VA[0]},set:function(a){this.VA[0]=a},enumerable:!0},o:{get:function(){return this.oA[0]},
set:function(a){this.oA[0]=a},enumerable:!0},g:{get:function(){return this.Az[0]},set:function(a){this.Az[0]=a},enumerable:!0},H:{get:function(){return this.sz[0]},set:function(a){this.sz[0]=a},enumerable:!0}}),r.Xd=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(r.Xd.BYTES_PER_ELEMENT);this.Jb=g||0;f=this.Pb;g=this.Jb;var h=Float32Array.BYTES_PER_ELEMENT;this.UA=new Float32Array(f,g,1);this.UA[0]=a||0;this.nA=new Float32Array(f,g+h,1);this.nA[0]=c||0;this.zz=new Float32Array(f,g+2*h,1);this.zz[0]=
d||0;this.rz=new Float32Array(f,g+3*h,1);this.rz[0]=e||0},r.Xd.BYTES_PER_ELEMENT=16,Object.defineProperties(r.Xd.prototype,{p:{get:function(){return this.UA[0]},set:function(a){this.UA[0]=a},enumerable:!0},o:{get:function(){return this.nA[0]},set:function(a){this.nA[0]=a},enumerable:!0},g:{get:function(){return this.zz[0]},set:function(a){this.zz[0]=a},enumerable:!0},H:{get:function(){return this.rz[0]},set:function(a){this.rz[0]=a},enumerable:!0}}),r.Bb=function(a,c,d,e){this.Pb=d||new ArrayBuffer(r.Bb.BYTES_PER_ELEMENT);
this.Jb=e||0;this.Sm=new Float32Array(this.Pb,this.Jb,1);this.Tm=new Float32Array(this.Pb,this.Jb+4,1);this.Sm[0]=a||0;this.Tm[0]=c||0},r.Bb.BYTES_PER_ELEMENT=8,Object.defineProperties(r.Bb.prototype,{x:{get:function(){return this.Sm[0]},set:function(a){this.Sm[0]=a},enumerable:!0},y:{get:function(){return this.Tm[0]},set:function(a){this.Tm[0]=a},enumerable:!0}}),r.Vc=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(r.Vc.BYTES_PER_ELEMENT);this.Jb=f||0;e=this.Pb;f=this.Jb;this.Sm=new Float32Array(e,
f,1);this.Sm[0]=a||0;this.Tm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Tm[0]=c||0;this.SB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.SB[0]=d||0},r.Vc.BYTES_PER_ELEMENT=12,Object.defineProperties(r.Vc.prototype,{x:{get:function(){return this.Sm[0]},set:function(a){this.Sm[0]=a},enumerable:!0},y:{get:function(){return this.Tm[0]},set:function(a){this.Tm[0]=a},enumerable:!0},z:{get:function(){return this.SB[0]},set:function(a){this.SB[0]=a},enumerable:!0}}),r.xc=
function(a,c,d,e){this.Pb=d||new ArrayBuffer(r.xc.BYTES_PER_ELEMENT);this.Jb=e||0;this.DB=new Float32Array(this.Pb,this.Jb,1);this.LB=new Float32Array(this.Pb,this.Jb+4,1);this.DB[0]=a||0;this.LB[0]=c||0},r.xc.BYTES_PER_ELEMENT=8,Object.defineProperties(r.xc.prototype,{Pa:{get:function(){return this.DB[0]},set:function(a){this.DB[0]=a},enumerable:!0},la:{get:function(){return this.LB[0]},set:function(a){this.LB[0]=a},enumerable:!0}}),r.ju=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(r.ju.BYTES_PER_ELEMENT);
this.Jb=g||0;f=this.Pb;g=r.Bb.BYTES_PER_ELEMENT;this.hp=a?new r.Bb(a.x,a.y,f,0):new r.Bb(0,0,f,0);this.jp=c?new r.Bb(c.x,c.y,f,g):new r.Bb(0,0,f,g);this.ko=d?new r.Bb(d.x,d.y,f,2*g):new r.Bb(0,0,f,2*g);this.mo=e?new r.Bb(e.x,e.y,f,3*g):new r.Bb(0,0,f,3*g)},r.ju.BYTES_PER_ELEMENT=32,Object.defineProperties(r.ju.prototype,{Sa:{get:function(){return this.hp},set:function(a){this.hp.x=a.x;this.hp.y=a.y},enumerable:!0},Na:{get:function(){return this.jp},set:function(a){this.jp.x=a.x;this.jp.y=a.y},enumerable:!0},
Ja:{get:function(){return this.ko},set:function(a){this.ko.x=a.x;this.ko.y=a.y},enumerable:!0},Ua:{get:function(){return this.mo},set:function(a){this.mo.x=a.x;this.mo.y=a.y},enumerable:!0}}),r.qc=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(r.qc.BYTES_PER_ELEMENT);this.Jb=f||0;e=this.Pb;f=this.Jb;var g=r.Vc.BYTES_PER_ELEMENT;this.lp=a?new r.Vc(a.x,a.y,a.z,e,f):new r.Vc(0,0,0,e,f);this.Tq=c?new r.Ob(c.p,c.o,c.g,c.H,e,f+g):new r.Ob(0,0,0,0,e,f+g);this.Im=d?new r.xc(d.Pa,d.la,e,f+g+r.Ob.BYTES_PER_ELEMENT):
new r.xc(0,0,e,f+g+r.Ob.BYTES_PER_ELEMENT)},r.qc.BYTES_PER_ELEMENT=24,Object.defineProperties(r.qc.prototype,{s:{get:function(){return this.lp},set:function(a){var c=this.lp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},J:{get:function(){return this.Tq},set:function(a){var c=this.Tq;c.p=a.p;c.o=a.o;c.g=a.g;c.H=a.H},enumerable:!0},B:{get:function(){return this.Im},set:function(a){this.Im.Pa=a.Pa;this.Im.la=a.la},enumerable:!0}}),r.bc=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(r.bc.BYTES_PER_ELEMENT);
this.Jb=g||0;f=this.Pb;g=this.Jb;var h=r.qc.BYTES_PER_ELEMENT;this.hp=a?new r.qc(a.s,a.J,a.B,f,g):new r.qc(null,null,null,f,g);this.ko=c?new r.qc(c.s,c.J,c.B,f,g+h):new r.qc(null,null,null,f,g+h);this.jp=d?new r.qc(d.s,d.J,d.B,f,g+2*h):new r.qc(null,null,null,f,g+2*h);this.mo=e?new r.qc(e.s,e.J,e.B,f,g+3*h):new r.qc(null,null,null,f,g+3*h)},r.bc.BYTES_PER_ELEMENT=96,Object.defineProperties(r.bc.prototype,{Sa:{get:function(){return this.hp},set:function(a){var c=this.hp;c.s=a.s;c.J=a.J;c.B=a.B},enumerable:!0},
Ja:{get:function(){return this.ko},set:function(a){var c=this.ko;c.s=a.s;c.J=a.J;c.B=a.B},enumerable:!0},Na:{get:function(){return this.jp},set:function(a){var c=this.jp;c.s=a.s;c.J=a.J;c.B=a.B},enumerable:!0},Ua:{get:function(){return this.mo},set:function(a){var c=this.mo;c.s=a.s;c.J=a.J;c.B=a.B},enumerable:!0},VB:{get:function(){return this.Pb},enumerable:!0}}),r.lz=function(){return new r.bc},r.kz=function(a){if(!a)return r.lz();var c=a.Sa,d=a.Ja,e=a.Na;a=a.Ua;return{Sa:{s:{x:c.s.x,y:c.s.y,z:c.s.z},
J:{p:c.J.p,o:c.J.o,g:c.J.g,H:c.J.H},B:{Pa:c.B.Pa,la:c.B.la}},Ja:{s:{x:d.s.x,y:d.s.y,z:d.s.z},J:{p:d.J.p,o:d.J.o,g:d.J.g,H:d.J.H},B:{Pa:d.B.Pa,la:d.B.la}},Na:{s:{x:e.s.x,y:e.s.y,z:e.s.z},J:{p:e.J.p,o:e.J.o,g:e.J.g,H:e.J.H},B:{Pa:e.B.Pa,la:e.B.la}},Ua:{s:{x:a.s.x,y:a.s.y,z:a.s.z},J:{p:a.J.p,o:a.J.o,g:a.J.g,H:a.J.H},B:{Pa:a.B.Pa,la:a.B.la}}}},r.Ub=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(r.Ub.BYTES_PER_ELEMENT);this.Jb=f||0;e=this.Pb;f=this.Jb;var g=r.Bb.BYTES_PER_ELEMENT;this.lp=a?new r.Bb(a.x,
a.y,e,f):new r.Bb(0,0,e,f);this.Tq=c?new r.Ob(c.p,c.o,c.g,c.H,e,f+g):new r.Ob(0,0,0,0,e,f+g);this.Im=d?new r.xc(d.Pa,d.la,e,f+g+r.Ob.BYTES_PER_ELEMENT):new r.xc(0,0,e,f+g+r.Ob.BYTES_PER_ELEMENT)},r.Ub.BYTES_PER_ELEMENT=20,Object.defineProperties(r.Ub.prototype,{s:{get:function(){return this.lp},set:function(a){this.lp.x=a.x;this.lp.y=a.y},enumerable:!0},J:{get:function(){return this.Tq},set:function(a){var c=this.Tq;c.p=a.p;c.o=a.o;c.g=a.g;c.H=a.H},enumerable:!0},B:{get:function(){return this.Im},
set:function(a){this.Im.Pa=a.Pa;this.Im.la=a.la},enumerable:!0}}),r.Gc=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(r.Gc.BYTES_PER_ELEMENT);this.Jb=f||0;e=this.Pb;f=this.Jb;var g=r.Ub.BYTES_PER_ELEMENT;this.JF=a?new r.Ub(a.s,a.J,a.B,e,f):new r.Ub(null,null,null,e,f);this.OF=c?new r.Ub(c.s,c.J,c.B,e,f+g):new r.Ub(null,null,null,e,f+g);this.TF=d?new r.Ub(d.s,d.J,d.B,e,f+2*g):new r.Ub(null,null,null,e,f+2*g)},r.Gc.BYTES_PER_ELEMENT=60,Object.defineProperties(r.Gc.prototype,{H:{get:function(){return this.JF},
set:function(a){var c=this.JF;c.s=a.s;c.J=a.J;c.B=a.B},enumerable:!0},g:{get:function(){return this.OF},set:function(a){var c=this.OF;c.s=a.s;c.J=a.J;c.B=a.B},enumerable:!0},Ca:{get:function(){return this.TF},set:function(a){var c=this.TF;c.s=a.s;c.J=a.J;c.B=a.B},enumerable:!0}}));r.F2=function(a){a=a.substr(1).split("");return new r.Ec(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};r.Cq=0;r.uj=1;r.nN=2;r.Hq=0;r.Fu=1;r.Gq=2;
r.y0=r.Da.extend({No:null,os:null,oz:0,ctor:function(){this.No={};this.os={};this.oz=2<<(0|10*Math.random())},DN:function(){this.oz++;return"key_"+this.oz},gX:function(a,c){if(null!=c){var d=this.DN();this.No[d]=c;this.os[d]=a}},GU:function(a){if(null==a)return null;var c=this.No,d;for(d in c)if(c[d]===a)return this.os[d];return null},Dda:function(a){return this.GU(a)},UV:function(a){if(null!=a){var c=this.No,d;for(d in c)if(c[d]===a){delete this.os[d];delete c[d];break}}},N$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.UV(a[c])},fR:function(){var a=[],c=this.No,d;for(d in c)a.push(c[d]);return a},G$:function(){this.No={};this.os={}},count:function(){return this.fR().length}});r.oM=function(){this.xs="Arial";this.fontSize=12;this.mI=r.uj;this.nI=r.Hq;this.oI=r.yb();this.ws=r.size(0,0);this.eE=!1;this.strokeColor=r.yb();this.qL=1;this.eL=!1;this.fL=r.size(0,0);this.shadowBlur=0;this.gL=1};r.Xn={Ay:0,Ny:1,SHOW_ALL:2,By:3,Cy:4,n0:5};r.Cu=[];r.Dq={};
r.sa=r.Da.extend({Xb:null,Se:null,Ao:null,Uk:null,cf:null,OB:null,NB:"",bB:null,wa:1,DG:1,Ba:1,EG:1,tr:0,zG:5,Nh:null,KG:null,OG:null,NG:null,LG:null,MG:null,wr:!1,K0:!1,t1:null,jG:null,kG:null,KN:null,l1:!1,Pz:null,d1:null,Fj:null,jA:1,Lu:!1,oG:!1,ctor:function(){this.Fj=r.bk.parentNode===document.body?document.documentElement:r.bk.parentNode;this.Se=r.size(0,0);this.xA();var a=r.canvas.width,c=r.canvas.height;this.Ao=r.size(a,c);this.Uk=r.size(a,c);this.cf=r.rect(0,0,a,c);this.OB=r.rect(0,0,a,c);
this.Xb=r.Z.e().af;this.Pz={left:0,top:0};this.NB="Cocos2dHTML5";r.CF.r(this.Ao);this.KG=new r.Yn(r.Tg.Et,r.Ne.Ay);this.OG=new r.Yn(r.Tg.ZM,r.Ne.SHOW_ALL);this.NG=new r.Yn(r.Tg.Et,r.Ne.Ny);this.LG=new r.Yn(r.Tg.Et,r.Ne.By);this.MG=new r.Yn(r.Tg.Et,r.Ne.Cy);this.jG=r.canvas;this.kG=r.X},cB:function(){var a=this.Uk.width,c=this.Uk.height;this.bB&&(this.xA(),this.bB.call());0<a&&this.KD(a,c,this.Nh)},Z$:function(a){a?this.Lu||(this.Lu=!0,a=this.cB.bind(this),window.addEventListener("resize",a,!1)):this.Lu&&
(this.Lu=!0,a=this.cB.bind(this),window.removeEventListener("resize",a,!1))},Iba:function(a){if("function"==typeof a||null==a)this.bB=a},xA:function(){var a=this.Se;a.width=this.Fj.clientWidth;a.height=this.Fj.clientHeight},H0:function(){var a=this.Uk.width,c=this.Uk.height;0<a&&this.KD(a,c,this.Nh)},qQ:function(){if(this.oG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},jQ:function(){var a=r.Fd();this.Ba=this.wa=a},MP:function(){this.wa=this.DG;this.Ba=this.EG},JO:function(){var a,c=this.tr;for(a=0;a<this.zG;a++){if(!(c&1))return this.tr|=1<<a,a;c>>=1}return-1},IP:function(a){0>a||a>=this.zG||(a=~(1<<a),this.tr&=a)},I0:function(){},aU:function(){this.wr=!0},K1:function(a){this.oG=a},end:function(){},i8:function(){return null!=
this.jG&&null!=this.kG},Oaa:function(a){this.jA=a;r.Z.e().Jx(r.Z.e().Yk)},Qca:function(){},Saa:function(){},zaa:function(a,c){this.Pz={left:a,top:c}},p4:function(){return this.Pz},Pw:function(){return r.size(this.Se.width,this.Se.height)},Naa:function(a,c){this.Se.width=a;this.Se.height=c;this.Fj.style.width=a+"px";this.Fj.style.height=c+"px";this.cB();r.Z.e().Jx(r.Z.e().Yk)},r2:function(){},laa:function(a){this.KN=a},Gs:function(){return this.OB.cb},JI:function(){return this.OB.jd},n2:function(){return!0},
g6:function(){return this.Nh},uX:function(a){if(a instanceof r.Yn)this.Nh=a;else switch(a){case r.Xn.Ay:this.Nh=this.KG;break;case r.Xn.SHOW_ALL:this.Nh=this.OG;break;case r.Xn.Ny:this.Nh=this.NG;break;case r.Xn.By:this.Nh=this.LG;break;case r.Xn.Cy:this.Nh=this.MG}},KD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)r.log("Resolution not valid");else if(this.uX(d),policy=this.Nh){policy.rn(this);var e=this.Se.width,f=this.Se.height;r.Fa.gk&&this.qQ(this.Se.width,this.Se.height);this.xA();if(d!=
this.Nh||a!=this.Uk.width||c!=this.Uk.height||e!=this.Se.width||f!=this.Se.height)this.Ao=r.size(a,c),this.Uk=r.size(a,c),a=policy.apply(this,this.Ao),a.scale&&2==a.scale.length&&(this.wa=a.scale[0],this.Ba=a.scale[1]),a.viewport instanceof r.ng&&(this.cf=a.viewport),a=r.Z.e(),a.Qb=this.zp(),r.Cd==r.Ak&&(a.yo(),a.GK()),this.DG=this.wa,this.EG=this.Ba,r.hc&&r.hc.KP(),r.CF.r(this.Gs()),policy.qn(this)}else r.log("should set resolutionPolicy")},zp:function(){return r.size(this.Ao.width,this.Ao.height)},
fca:function(a){this.Xb=a},GX:function(a,c,d,e){var f=this.jA,g=this.wa,h=this.Ba;r.X.viewport(a*g*f+this.cf.x*f,c*h*f+this.cf.y*f,d*g*f,e*h*f)},QD:function(a,c,d,e){var f=this.jA,g=this.wa,h=this.Ba;r.X.scissor(a*g*f+this.cf.x*f,c*h*f+this.cf.y*f,d*g*f,e*h*f)},kU:function(){var a=r.X;return a.isEnabled(a.SCISSOR_TEST)},hT:function(){var a=r.X,c=this.wa,d=this.Ba,a=a.getParameter(a.SCISSOR_BOX);return r.rect((a[0]-this.cf.x)/c,(a[1]-this.cf.y)/d,a[2]/c,a[3]/d)},oca:function(a){null!=a&&0<a.length&&
(this.NB=a)},d7:function(){return this.NB},e7:function(){return this.cf},fT:function(){return this.wa},gT:function(){return this.Ba},ck:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},AT:function(a,c,d,e){for(var f=[],g=this.cf,h=this.wa,k=this.Ba,l=0;l<a;++l){var m=c[l],n=d[l],p=e[l],q=0;if(null==r.Dq[m])if(q=this.JO(),-1==q)r.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var u=r.Cu[q]=new r.qf;u.VD(q,(n-g.x)/h,(p-g.y)/k);r.Dq[m]=0|q;f.push(u)}}0!=f.length&&this.Xb.cy(f,
null)},DT:function(a,c,d,e){for(var f=[],g=this.wa,h=this.Ba,k=this.cf.x,l=this.cf.y,m=0;m<a;++m){var n=d[m],p=e[m],q=r.Dq[c[m]];if(null!=q){var u=r.Cu[q];if(u)u.VD(q,(n-k)/g,(p-l)/h),f.push(u);else return}}0!=f.length&&this.Xb.dy(f,null)},CT:function(a,c,d,e){var f=[];this.BI(f,a,c,d,e);this.Xb.nt(f,null)},BT:function(a,c,d,e){var f=[];this.BI(f,a,c,d,e);this.Xb.gE(f,null)},BI:function(a,c,d,e,f){for(var g=this.wa,h=this.Ba,k=this.cf,l=0;l<c;++l){var m=d[l],n=e[l],p=f[l],q=r.Dq[m];if(null!=q){var u=
r.Cu[q];if(u)u.VD(q,(n-k.x)/g,(p-k.y)/h),a.push(u),r.Cu[q]=null,this.IP(q),delete r.Dq[m];else break}}},cy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Of||h,d[f]=g.L.x,e[f]=g.L.y,++f;this.AT(f,c,d,e)},dy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Of||h,d[f]=g.L.x,e[f]=g.L.y,++f;this.DT(f,c,d,e)},nt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Of||h,d[f]=g.L.x,e[f]=g.L.y,++f;this.CT(f,c,d,e)},gE:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Of||h,d[f]=g.L.x,e[f]=g.L.y,++f;this.BT(f,c,d,e)}});r.sa.e=function(){this.Ib||(this.Ib=new r.sa,this.Ib.aU());return this.Ib};
r.Tg=r.Da.extend({rn:function(){},apply:function(){},qn:function(){},VG:function(a,c,d){r.Fa.gk&&a==document.documentElement&&r.Zy.e().mR(r.canvas);a=r.canvas;var e=r.bk;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},dG:function(){document.body.insertBefore(r.bk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=r.bk.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
r.Ne=r.Da.extend({eB:{scale:[1,1],viewport:null},Qq:function(a,c,d,e,f,g){a=r.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);r.Cd==r.kg&&r.X.translate(a.x,a.y+e);this.eB.scale=[f,g];this.eB.viewport=a;return this.eB},rn:function(){},apply:function(){return{scale:[1,1]}},qn:function(){}});
(function(){var a=r.Tg.extend({apply:function(a){this.VG(a.Fj,a.Se.width,a.Se.height)}}),c=r.Tg.extend({apply:function(a,c){var d=a.Se.width,e=a.Se.height,f=r.bk.style,n=c.width,p=c.height,q=d/n,u=e/p,w,y;q<u?(w=d,y=p*q):(w=n*u,y=e);n=Math.floor((d-w)/2);y=Math.floor((e-y)/2);this.VG(a.Fj,d-2*n,e-2*y);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=y+"px";f.marginBottom=y+"px"}});a.extend({rn:function(a){a.Fj=document.documentElement},apply:function(a){this._super(a);this.dG()}});c.extend({rn:function(a){a.Fj=
document.documentElement},apply:function(a,c){this._super(a,c);this.dG()}});var d=r.Tg.extend({});r.Tg.Et=new a;r.Tg.ZM=new c;r.Tg.p_=new d;var a=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height;return this.Qq(d,e,d,e,d/c.width,e/c.height)}}),c=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=c.width,n=c.height,p=d/f,q=e/n,u,w,y;p<q?(u=p,w=d,y=n*u):(u=q,w=f*u,y=e);return this.Qq(d,e,w,y,u,u)}}),d=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,
e=r.canvas.height,f=c.width,n=c.height,p=d/f,q=e/n,u,w,y;p<q?(u=q,w=f*u,y=e):(u=p,w=d,y=n*u);return this.Qq(d,e,w,y,u,u)}}),e=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=e/c.height;return this.Qq(d,e,d,e,f,f)},qn:function(a){r.Z.e().Qb=a.Gs()}}),f=r.Ne.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=d/c.width;return this.Qq(d,e,d,e,f,f)},qn:function(a){r.Z.e().Qb=a.Gs()}});r.Ne.Ay=new a;r.Ne.SHOW_ALL=new c;r.Ne.Ny=new d;r.Ne.By=new e;r.Ne.Cy=new f})();
r.Yn=r.Da.extend({Zu:null,$u:null,ctor:function(a,c){this.FW(a);this.IW(c)},rn:function(a){this.Zu.rn(a);this.$u.rn(a)},apply:function(a,c){this.Zu.apply(a,c);return this.$u.apply(a,c)},qn:function(a){this.Zu.qn(a);this.$u.qn(a)},FW:function(a){a instanceof r.Tg&&(this.Zu=a)},IW:function(a){a instanceof r.Ne&&(this.$u=a)}});r.Zy=r.Da.extend({Zr:!1,Fk:"",PA:null,QA:null,CB:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Zr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Zr=!0;this.Fk=f;break}this.CB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Zr)switch(this.Fk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Fk+"FullScreen"]}return!1},iK:function(a,
c){if(this.Zr&&!this.fullScreen()){if(c){var d=this.Fk+"fullscreenchange";this.PA&&this.QA&&this.PA.removeEventListener(d,this.QA);this.PA=a;this.QA=c;a.addEventListener(d,c,!1)}return""===this.Fk?a.requestFullScreen():a[this.Fk+"RequestFullScreen"]()}},o3:function(){if(this.Zr&&this.fullScreen())return""===this.Fk?document.body.cancelFullScreen():document.body[this.Fk+"CancelFullScreen"]()},mR:function(a,c){function d(){e.iK(a,c);a.removeEventListener(e.CB,d)}var e=this;this.iK(a,c);a.addEventListener(this.CB,
d)}});r.Zy.e=function(){if(!this.Ib){var a=new r.Zy;a.r();this.Ib=a}return this.Ib};r.CF={Th:r.vd(),mh:r.vd(),Sh:r.vd(),wi:r.vd(),xi:r.vd(),vi:r.vd(),Hz:r.vd(),Hi:r.vd(),Oh:r.vd(),Ga:0,ta:0,r:function(a){this.Ga=a.width;this.ta=a.height;a=this.Ga;var c=this.ta;this.Th.I=c;this.mh.F=a;this.mh.I=c;this.Sh.F=a/2;this.Sh.I=c;this.xi.F=a;this.vi.F=a/2;this.Hz.F=a/2;this.Hz.I=c/2;this.Hi.I=c/2;this.Oh.F=a;this.Oh.I=c/2},Hs:function(){return this.Ga},Bs:function(){return this.ta},lda:function(){return this.Th},mda:function(){return this.mh},top:function(){return this.Sh},b2:function(){return this.wi},
c2:function(){return this.xi},bottom:function(){return this.vi},q2:function(){return this.Hz},left:function(){return this.Hi},right:function(){return this.Oh}};r.Yx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
r.lF=function(a){var c=r.fd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=r.Yx(a.substr(0,d)),c=r.Yx(c),c=r.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};r.kF=function(a){var c=r.rj();try{if(""==a)return c;var d=r.Yx(a),c=r.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
r.$y=function(a){var c=r.$l();try{if(""==a)return c;var d=r.Yx(a),c=r.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};r.MY=function(a,c,d,e,f,g){this.H=a;this.g=c;this.Ca=d;this.La=e;this.Za=f;this.$a=g};r.A0=function(a,c,d,e,f,g){return{H:a,g:c,Ca:d,La:e,Za:f,$a:g}};r.PY=function(a,c,d,e,f,g){return{H:a,g:c,Ca:d,La:e,Za:f,$a:g}};r.B0=function(a,c){return{x:c.H*a.x+c.Ca*a.y+c.Za,y:c.g*a.x+c.La*a.y+c.$a}};r.jF=function(a,c){return{x:c.H*a.x+c.Ca*a.y+c.Za,y:c.g*a.x+c.La*a.y+c.$a}};r.Ck=function(a,c,d){return{x:d.H*a+d.Ca*c+d.Za,y:d.g*a+d.La*c+d.$a}};
r.C0=function(a,c){return{width:c.H*a.width+c.Ca*a.height,height:c.g*a.width+c.La*a.height}};r.Z_=function(a,c){return{width:c.H*a.width+c.Ca*a.height,height:c.g*a.width+c.La*a.height}};r.QY=function(){return{H:1,g:0,Ca:0,La:1,Za:0,$a:0}};r.OY=function(){return{H:1,g:0,Ca:0,La:1,Za:0,$a:0}};
r.Wg=function(a,c){var d=r.Cl(a),e=r.Bl(a),f=r.un(a),g=r.vn(a),h=r.Ck(e,d,c),d=r.Ck(f,d,c),e=r.Ck(e,g,c),k=r.Ck(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return r.rect(f,l,g-f,h-l)};
r.ri=function(a,c){var d=r.Cl(a),e=r.Bl(a),f=r.un(a),g=r.vn(a),h=r.Ck(e,d,c),d=r.Ck(f,d,c),e=r.Ck(e,g,c),k=r.Ck(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};r.ly=function(a,c,d){return{H:a.H,g:a.g,Ca:a.Ca,La:a.La,Za:a.Za+a.H*c+a.Ca*d,$a:a.$a+a.g*c+a.La*d}};r.RY=function(a,c,d){return{H:a.H*c,g:a.g*c,Ca:a.Ca*d,La:a.La*d,Za:a.Za,$a:a.$a}};
r.PL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{H:a.H*d+a.Ca*c,g:a.g*d+a.La*c,Ca:a.Ca*d-a.H*c,La:a.La*d-a.g*c,Za:a.Za,$a:a.$a}};r.Rl=function(a,c){return{H:a.H*c.H+a.g*c.Ca,g:a.H*c.g+a.g*c.La,Ca:a.Ca*c.H+a.La*c.Ca,La:a.Ca*c.g+a.La*c.La,Za:a.Za*c.H+a.$a*c.Ca+c.Za,$a:a.Za*c.g+a.$a*c.La+c.$a}};r.NY=function(a,c){return a.H===c.H&&a.g===c.g&&a.Ca===c.Ca&&a.La===c.La&&a.Za===c.Za&&a.$a===c.$a};
r.uE=function(a){var c=1/(a.H*a.La-a.g*a.Ca);return{H:c*a.La,g:-c*a.g,Ca:-c*a.Ca,La:c*a.H,Za:c*(a.Ca*a.$a-a.La*a.Za),$a:c*(a.g*a.Za-a.H*a.$a)}};r.$E=parseFloat("1.192092896e-07F");r.mD=function(a){return r.a(-a.x,-a.y)};r.eg=function(a,c){return r.a(a.x+c.x,a.y+c.y)};r.Bd=function(a,c){return r.a(a.x-c.x,a.y-c.y)};r.fj=function(a,c){return r.a(a.x*c,a.y*c)};r.lD=function(a,c){return r.fj(r.eg(a,c),0.5)};r.Yp=function(a,c){return a.x*c.x+a.y*c.y};r.L9=function(a,c){return a.x*c.y-a.y*c.x};r.jx=function(a){return r.a(-a.y,a.x)};r.T9=function(a){return r.a(a.y,-a.x)};r.S9=function(a,c){return r.fj(c,r.Yp(a,c)/r.Yp(c,c))};
r.U9=function(a,c){return r.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};r.Z9=function(a,c){return r.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};r.MJ=function(a){return r.Yp(a,a)};r.M9=function(a,c){return r.MJ(r.Bd(a,c))};r.jD=function(a){return Math.sqrt(r.MJ(a))};r.iD=function(a,c){return r.jD(r.Bd(a,c))};r.yh=function(a){return r.fj(a,1/r.jD(a))};r.N9=function(a){return r.a(Math.cos(a),Math.sin(a))};r.Y9=function(a){return Math.atan2(a.y,a.x)};r.ss=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
r.LJ=function(a){var c=r.a(0,0),d=r.a(1,1);return r.a(r.ss(a.x,c.x,d.x),r.ss(a.y,c.y,d.y))};r.YU=function(){var a=r.Z.e().Qb;return r.a(a.width,a.height)};r.K9=function(a,c){return r.a(c(a.x),c(a.y))};r.NJ=function(a,c,d){return r.eg(r.fj(a,1-d),r.fj(c,d))};r.O9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};r.J9=function(a,c){return r.a(a.x*c.x,a.y*c.y)};r.I9=function(a,c){var d=r.yh(a),e=r.yh(c),d=Math.atan2(d.x*e.y-d.y*e.x,r.Yp(d,e));return Math.abs(d)<r.$E?0:d};
r.H9=function(a,c){var d=Math.acos(r.Yp(r.yh(a),r.yh(c)));return Math.abs(d)<r.$E?0:d};r.$U=function(a,c,d){a=r.Bd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};r.kD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
r.W9=function(a,c,d,e){var f=r.a(0,0);return r.kD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};r.Q9=function(a,c,d,e){var f=r.a(0,0);return r.kD(a,c,d,e,f)?(d=r.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):r.rj()};r.V9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};r.a$=function(a){a.x=0;a.y=0};r.P9=function(a,c){a.x=c.x;a.y=c.y};r.ZU=function(a,c){a.x*=c;a.y*=c};r.X9=function(a,c){a.x-=c.x;a.y-=c.y};r.G9=function(a,c){a.x+=c.x;a.y+=c.y};
r.R9=function(a){r.ZU(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};r.Fda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=r.a(a[2*k],a[2*k+1]),m;if(0===k)m=r.jx(r.yh(r.Bd(l,r.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=r.jx(r.yh(r.Bd(r.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=r.a(a[2*(k-1)],a[2*(k-1)+1]);var n=r.a(a[2*(k+1)],a[2*(k+1)+1]),p=r.yh(r.Bd(n,l)),q=r.yh(r.Bd(m,l)),u=Math.acos(r.Yp(p,q));m=u<r.pj(70)?r.jx(r.yh(r.lD(p,q))):u<r.pj(170)?r.yh(r.lD(p,q)):r.jx(r.yh(r.Bd(n,m)))}m=r.fj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=r.Gu(d[2*g],d[2*g+1]),f=r.Gu(d[2*(g+1)],d[2*(g+1)+1]),g=r.Gu(d[2*a],d[2*a]),e=r.Gu(d[2*(a+1)],d[2*(a+1)+1]),c=!r.vY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Ns&&(0>c.value||1<c.value)&&(c.Ns=!0),c.Ns&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
r.vY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Ns:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Ns:!1,value:0}:{Ns:!0,value:(h+(f-h)*k/(k-g))/a}};r.$Y=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.H;c[4]=a.Ca;c[12]=a.Za;c[1]=a.g;c[5]=a.La;c[13]=a.$a};r.KZ=function(a,c){c.H=a[0];c.Ca=a[4];c.Za=a[12];c.g=a[1];c.La=a[5];c.$a=a[13]};r.YE=-1;r.i_=null;r.j_=null;r.jW=1;
r.D=r.Da.extend({fb:0,vw:0,zg:0,Ph:0,wa:1,Ba:1,q:null,je:0,ke:0,t:null,ja:!0,Gh:null,Id:null,va:null,We:!1,V:null,Pk:!1,nd:r.YE,rH:null,JB:null,Xj:!0,sv:!0,UF:!0,p1:null,Wj:null,nG:null,ie:!1,Kc:null,Rf:0,Zg:null,Ag:null,mG:!1,Kq:!1,Nu:null,Ai:null,BA:!1,zm:0,Mr:0,yA:function(){this.Gh=r.vd();this.Id=r.vd();this.va=r.Dm();this.q=r.vd();this.t=[];this.Wj={H:1,g:0,Ca:0,La:1,Za:0,$a:0};var a=r.Z.e();this.Zg=a.Gg();this.Ag=a.Df();this.mG=!0;this.Nu={H:1,g:0,Ca:0,La:1,Za:0,$a:0};r.YL&&(this.Ai=new r.YL(this))},
r:function(){!1===this.mG&&this.yA();return!0},qg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=r.D.Mf;switch(c){case d.Ng:for(d=0;d<e;d++)(f=a[d])&&f.Ng();break;case d.Qd:for(d=0;d<e;d++)(f=a[d])&&f.Qd();break;case d.gi:for(d=0;d<e;d++)(f=a[d])&&f.gi();break;case d.Zf:for(d=0;d<e;d++)(f=a[d])&&f.Zf();break;case d.ig:for(d=0;d<e;d++)(f=a[d])&&f.ig();break;case d.xh:for(d=0;d<e;d++)(f=a[d])&&f.xh();break;case d.Sd:for(d=0;d<e;d++)(f=a[d])&&f.Sd();break;default:throw"Unknown callback function";
}}},Xa:null,bQ:function(){this.Bm();!1===this.Xj&&(this.Xj=this.sv=!0)},cQ:function(){!1===this.Xj&&(this.Xj=this.sv=!0)},u6:function(){return this.je},Px:function(a){this.je=a;this.Xa()},v6:function(){return this.ke},Qx:function(a){this.ke=a;this.Xa()},k7:function(){return this.fb},Yv:function(a){this.fb=a},qca:function(a){this.Yv(a);this.V&&this.V.Zs(this,a)},a7:function(){return this.vw},YK:function(a){this.vw=a},eT:function(){this.zg!==this.Ph&&r.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.zg},Lx:function(a){this.zg=this.Ph=a;this.zm=0.017453292519943295*this.zg;this.Mr=0.017453292519943295*this.Ph;this.Xa()},k6:function(){return this.zg},Mx:function(a){this.zg=a;this.zm=0.017453292519943295*this.zg;this.Xa()},l6:function(){return this.Ph},Nx:function(a){this.Ph=a;this.Mr=0.017453292519943295*this.Ph;this.Xa()},xC:function(){this.wa!==this.Ba&&r.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.wa},pk:function(a,c){this.wa=a;this.Ba=
c||0===c?c:a;this.Xa()},fT:function(){return this.wa},dq:function(a){this.wa=a;this.Xa()},gT:function(){return this.Ba},Dn:function(a){this.Ba=a;this.Xa()},m:function(a,c){var d=this.q;2==arguments.length?(d.F=a,d.I=c):1==arguments.length&&(d.F=a.x,d.I=a.y);this.Xa()},U5:function(){return this.q},V5:function(){return this.q.F},wb:function(a){this.q.F=a;this.Xa()},W5:function(){return this.q.I},ad:function(a){this.q.I=a;this.Xa()},h4:function(){return this.t.length},g4:function(){return this.t},pJ:function(){return this.ja},
A:function(a){this.ja=a;this.Xa()},P3:function(){return this.Gh},K:function(a,c){var d=this.Gh;if(2===arguments.length){if(a===d.F&&c===d.I)return;d.F=a;d.I=c}else{if(a.x===d.F&&a.y===d.I)return;d.F=a.x;d.I=a.y}var e=this.Id,f=this.va;e.F=f.Ga*d.F;e.I=f.ta*d.I;this.Xa()},Q3:function(){return this.Id},c:function(){return this.va},W:function(a,c){var d=this.va;if(2===arguments.length){if(a===d.Ga&&c===d.ta)return;d.Ga=a;d.ta=c}else{if(a.width===d.Ga&&a.height===d.ta)return;d.Ga=a.width;d.ta=a.height}var e=
this.Id,f=this.Gh;e.F=d.Ga*f.F;e.I=d.ta*f.I;this.Xa()},q8:function(){return this.We},getParent:function(){return this.V},ft:function(a){this.V=a},b8:function(){return this.Pk},Zi:function(a){a!=this.Pk&&(this.Pk=a,this.Xa())},pT:function(){return this.nd},VK:function(a){this.nd=a},getUserData:function(){return this.rH},setUserData:function(a){this.rH=a},Y6:function(){return this.JB},jca:function(a){this.JB!=a&&(this.JB=a)},K5:function(){return this.Rf},cq:function(a){this.Rf=a},Gg:function(){this.Zg||
(this.Zg=r.Z.e().Gg());return this.Zg},uW:function(a){this.Zg!=a&&(this.cE(),this.Zg=a)},Df:function(){this.Ag||(this.Ag=r.Z.e().Df());return this.Ag},wX:function(a){this.Ag!=a&&(this.ot(),this.Ag=a)},Ya:function(){var a=r.rect(0,0,this.va.Ga,this.va.ta);return r.ri(a,this.cg())},Zf:function(){this.cE();this.ot();this.qg(this.t,r.D.Mf.Zf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.nd+"\x3e"},FS:function(a){var c=this.t;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.nd==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?r.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.V?r.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.fb,a.nd=null!=d?d:a.nd,this.WO(a,c),a.V=this,this.We&&(a.Ng(),this.BA&&a.gi()))},N:function(a){this.V&&(null==a&&(a=!0),this.V.removeChild(this,a))},SV:function(a){r.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.N(a)},removeChild:function(a,c){0!==this.t.length&&(null==c&&(c=!0),-1<this.t.indexOf(a)&&this.uO(a,c),this.Xa())},L$:function(a,c){a===r.YE&&r.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.FS(a);null==d?r.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},D$:function(a){r.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.oc(a)},oc:function(a){var c=this.t;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.We&&(e.xh(),e.Qd()),a&&e.Zf(),e.ft(null))}this.t.length=0}},uO:function(a,c){this.We&&(a.xh(),a.Qd());c&&a.Zf();a.ft(null);r.Vd(this.t,a)},WO:function(a,c){this.ie=!0;this.t.push(a);a.Yv(c)},Zs:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.ie=!0;a.cq(r.jW++);a.Yv(c);this.Xa()},Sd:function(){if(this.ie){var a=this.t,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.fb<f.fb||g.fb==f.fb&&g.Rf<f.Rf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.ie=!1}},Va:function(){},ey:function(){null!=this.V&&(this.V.ey(),this.V.transform())},Ng:function(){this.BA=!1;this.We=!0;this.qg(this.t,r.D.Mf.Ng);this.wx()},gi:function(){this.BA=!0;this.qg(this.t,r.D.Mf.gi)},xh:function(){this.qg(this.t,r.D.Mf.xh)},Qd:function(){this.We=!1;this.lx();this.qg(this.t,r.D.Mf.Qd);this.Ai&&this.Ai.NV()},xx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Gg().UQ(a,this,!this.We);return a},cE:function(){this.Gg().eK(this)},
cY:function(a){this.Gg().dK(a)},Ica:function(a){a===r.Pn?r.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Gg().MV(a,this)},tC:function(a){return a===r.Pn?(r.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Gg().tC(a,this)},w5:function(){return this.Gg().FU(this)},mW:function(){this.nW(0)},nW:function(a){this.Df().mK(this,a,!this.We)},rda:function(){this.Df().lq(this)},Zb:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?r.Zl:d;e=e||0;this.Df().lW(this,a,c,d,e,!this.We)},Dc:function(a,c){this.Zb(a,0,0,c)},Qc:function(a){a&&this.Df().yL(this,a)},ot:function(){this.Df().xL(this)},wx:function(){this.Df().xn(this);this.Gg().xn(this)},lx:function(){this.Df().Xs(this);this.Gg().Xs(this)},maa:function(a){this.Nu=a;this.Kq=this.Xj=!0},d$:function(){this.sv&&(this.nG=r.uE(this.cg()),this.sv=!1);return this.nG},Us:function(){for(var a=this.cg(),c=this.V;null!=
c;c=c.getParent())a=r.Rl(a,c.cg());return a},yY:function(){return r.uE(this.Us())},Ka:function(a){return r.jF(a,this.yY())},il:function(a){return r.jF(a,this.Us())},OR:function(a){return r.Bd(this.Ka(a),this.Id)},G2:function(a){a=r.eg(a,this.Id);return this.il(a)},L0:function(a){a=this.il(a);return r.Z.e().PR(a)},Yh:function(a){return this.Ka(a.L)},H2:function(a){a=a.L;a=r.Z.e().NR(a);return this.OR(a)},update:function(a){this.Ai&&!this.Ai.X7()&&this.Ai.ra(a)},ig:function(){this.qg(this.t,r.D.Mf.ig)},
kK:function(){},xD:function(){},GS:function(a){return this.Ai.GS(a)},x1:function(a){this.Ai.add(a)},M$:function(a){return this.Ai.remove(a)},E$:function(){this.Ai.NV()},eH:null,wB:null,tA:null,qo:null,Mk:null,ctor:null,Hh:function(){this.yA()},Ih:function(){this.yA();var a=new r.vh;a.wh[2]=a.wh[3]=a.wh[6]=a.wh[7]=a.wh[8]=a.wh[9]=a.wh[11]=a.wh[14]=0;a.wh[10]=a.wh[15]=1;this.eH=a;this.tA=0;this.wB=new r.vh},ra:null,Pm:function(a){if(this.ja){a=a||r.X;var c,d=this.t,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Sd();for(c=0;c<f;c++)if(e=d[c],0>e.fb)e.ra(a);else break;for(this.Va(a);c<f;c++)d[c].ra(a)}else this.Va(a);this.Rf=0;a.restore()}},Qm:function(){if(this.ja){var a=r.X,c,d=r.TR;d.stack.push(d.top);r.L8(this.wB,d.top);d.top=this.wB;var e=this.Mk;e&&e.MN&&e.YB();this.transform();var f=this.t;if(f&&0<f.length){var g=f.length;this.Sd();for(c=0;c<g;c++)if(f[c]&&0>f[c].fb)f[c].ra();else break;for(this.Va(a);c<g;c++)f[c]&&f[c].ra()}else this.Va(a);this.Rf=0;e&&e.MN&&e.UB(this);d.top=
d.stack.pop()}},transform:null,CQ:function(a){a=a||r.X;var c=r.sa.e(),d=this.cg();a.transform(d.H,d.Ca,d.g,d.La,d.Za*c.wa,-d.$a*c.Ba)},DQ:function(){var a=this.eH,c=r.TR.top,d=this.cg(),e=a.wh;e[0]=d.H;e[4]=d.Ca;e[12]=d.Za;e[1]=d.g;e[5]=d.La;e[13]=d.$a;e[14]=this.vw;r.sU(c,c,a);null==this.qo||null!=this.Mk&&this.Mk.Np()||(a=this.Id.F,c=this.Id.I,0!==a||0!==c?(r.qU(r.mg(a),r.mg(c),0),this.qo.sJ(),r.qU(r.mg(-a),r.mg(-c),0)):this.qo.sJ())},cg:null,mP:function(){this.Wj||(this.Wj={H:1,g:0,Ca:0,La:1,Za:0,
$a:0});if(this.Xj){var a=this.Wj;a.Za=this.q.F;a.$a=this.q.I;var c=1,d=0;this.zg&&(c=Math.cos(this.zm),d=Math.sin(this.zm));a.H=a.La=c;a.g=-d;a.Ca=d;var e=this.wa,f=this.Ba,g=this.Id.F,h=this.Id.I,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.je||this.ke){var m=Math.tan(-this.je*Math.PI/180),n=Math.tan(-this.ke*Math.PI/180),p=h*m*k,q=g*n*l;a.H=c+-d*n;a.g=c*m+-d;a.Ca=d+c*n;a.La=d*m+c;a.Za+=c*p+-d*q;a.$a+=d*p+c*q}if(1!==e||1!==f)a.H*=k,a.Ca*=k,a.g*=l,a.La*=l;a.Za+=c*-g*k+-d*h*l;a.$a-=d*
-g*k+c*h*l;this.Pk&&(a.Za+=g,a.$a+=h);this.Kq&&(this.Wj=r.Rl(this.Wj,this.Nu),this.Kq=!1);this.Xj=!1}return this.Wj},nP:function(){if(this.Xj){var a=this.q.F,c=this.q.I,d=this.Id.F,e=-d,f=this.Id.I,g=-f,h=this.wa,k=this.Ba;this.Pk&&(a+=d,c+=f);var l=1,m=0,n=1,p=0;if(0!==this.zg||0!==this.Ph)l=Math.cos(-this.zm),m=Math.sin(-this.zm),n=Math.cos(-this.Mr),p=Math.sin(-this.Mr);var q=this.je||this.ke;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=p*e*h+l*g*k);a={H:n*h,g:p*h,Ca:-m*k,La:l*k,Za:a,$a:c};q&&(a=r.Rl({H:1,
g:Math.tan(r.pj(this.ke)),Ca:Math.tan(r.pj(this.je)),La:1,Za:0,$a:0},a),0!==d||0!==f)&&(a=r.ly(a,e,g));this.Kq&&(a=r.Rl(a,this.Nu),this.Kq=!1);this.Wj=a;this.Xj=!1}return this.Wj},Bm:function(){this.UF=!0;this.V&&this.V.Bm()},uC:function(){this.qo||(this.qo=new r.rq);return this.qo},Q4:function(){return this.Mk},Qaa:function(a){this.Mk=a},zC:function(){return this.Kc},Pg:function(a){this.Kc=a},P4:function(){return this.tA},Paa:function(a){this.tA=a},Y3:function(){var a=r.rect(0,0,this.va.Ga,this.va.ta),
c=this.Us(),a=r.Wg(a,this.Us());if(!this.t)return a;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.ja&&(f=f.fG(c))&&(a=r.sx(a,f))}return a},fG:function(a){var c=r.rect(0,0,this.va.Ga,this.va.ta);a=null==a?this.cg():r.Rl(this.cg(),a);c=r.Wg(c,a);if(!this.t)return c;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.ja&&(f=f.fG(a))&&(c=r.sx(c,f))}return c}});
r.Fa.Pc?(b=r.D.prototype,b.ctor=r.D.prototype.Ih,b.Xa=r.D.prototype.cQ,b.ra=r.D.prototype.Qm,b.transform=r.D.prototype.DQ,b.cg=r.D.prototype.nP):(b=r.D.prototype,b.ctor=r.D.prototype.Hh,b.Xa=r.D.prototype.bQ,b.ra=r.D.prototype.Pm,b.transform=r.D.prototype.CQ,b.cg=r.D.prototype.mP);r.D.create=function(){return new r.D};r.D.Mf={Ng:1,Qd:2,Zf:3,gi:4,ig:5,xh:6,Sd:7};
r.zb=r.D.extend({kb:!0,Yb:255,yg:255,Ic:null,he:null,sd:!1,be:!1,ctor:function(){r.D.prototype.ctor.call(this);this.yg=this.Yb=255;this.Ic=r.yb();this.he=r.yb();this.be=this.sd=!1},Vi:function(){return this.yg},IS:function(){return this.Yb},pa:function(a){this.Yb=this.yg=a;a=255;var c=this.V;c&&c.kb&&c.be&&(a=c.Yb);this.dd(a)},dd:function(a){this.Yb=this.yg*a/255;if(this.be){a=this.t;for(var c=0;c<a.length;c++){var d=a[c];d&&d.kb&&d.dd(this.Yb)}}},iU:function(){return this.be},vK:function(a){this.be!==
a&&((this.be=a)?this.gr():this.aA())},gr:function(){var a=255,c=this.V;c&&c.kb&&c.be&&(a=c.Yb);this.dd(a)},aA:function(){this.Yb=this.yg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.kb&&d.dd(255)}},zd:function(){var a=this.he;return new r.Ec(a.p,a.o,a.g)},As:function(){return this.Ic},n:function(a){var c=this.Ic,d=this.he;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.V)&&a.kb&&a.sd?a.As():r.yb();this.cd(a)},cd:function(a){var c=this.Ic,d=this.he;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*
a.g/255;if(this.sd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.kb&&e.cd(c)}},hU:function(){return this.sd},uK:function(a){this.sd!==a&&((this.sd=a)?this.fr():this.$z())},fr:function(){var a;a=(a=this.V)&&a.kb&&a.sd?a.As():r.yb();this.cd(a)},$z:function(){var a=this.Ic,c=this.he;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.t,c=r.yb(),d=0;d<a.length;d++){var e=a[d];e&&e.kb&&e.cd(c)}},f:function(a,c,d){r.D.prototype.f.call(this,a,c,d);this.sd&&this.fr();this.be&&this.gr()},Jf:function(){},ql:function(){return!1}});
r.zb.create=function(){var a=new r.zb;a.r();return a};r.Wd=r.zb.extend({kb:!0,tG:0,sG:0,uv:0,tv:0,Aj:null,Ra:null,lc:!1,ga:null,Jr:0,uA:!1,ctor:function(){r.zb.prototype.ctor.call(this);this.Aj=r.yb();this.ga={src:r.Le,Gb:r.Ke};this.uA=!1},tda:function(){r.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},zd:function(){return this.lc?this.Aj:r.zb.prototype.zd.call(this)},Jf:function(a){var c=this.zd();this.lc=a;this.n(c)},ql:function(){return this.lc},zs:function(){return this.ga},Dl:function(a,c){this.ga=1==arguments.length?
a:{src:a,Gb:c}},fq:function(a){this.Ra=a},DI:function(){return this.Ra},c6:function(){return this.Jr},Dba:function(a){this.Jr=a},Jm:null,ug:null,hH:null,Wu:null,YT:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=r.ha.e().qa(a);return this.Ma(a,c,d,e)},Ma:null,ur:function(a,c,d,e){this.uv=c;this.tv=d;this.lc=!0;this.ug=a;if(!this.ug)return r.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Jm=this.ug;this.Su();this.Jr=e;return!0},
vr:function(a,c,d,e){this.uv=c;this.tv=d;this.Aj=r.yb();this.lc=!0;this.ga.src=r.Le;this.ga.Gb=r.Ke;c=this.he;this.Wu=new Float32Array([c.p/255,c.o/255,c.g/255,this.yg/255]);this.Ra=new r.bo;this.Ra.Ma(a,e);if(!this.Ra)return r.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Om();this.oH();this.Su();this.Jr=e;this.Pg(r.Fh.e().ii(r.T_));this.hH=r.X.getUniformLocation(this.zC().Sw(),"u_color");return!0},Va:null,tg:function(a){a=a||r.X;r.My(this);r.ek(this.ga.src,this.ga.Gb);
a.uniform4fv(this.hH,this.Wu);this.Ra.dI(this.Jr,0)},n:null,Or:function(a){var c=this.he;if(c.p!=a.p||c.o!=a.o||c.g!=a.g){c=new r.Ec(a.p,a.o,a.g);this.Aj=a;if(this.lc){var d=this.Yb;c.p=c.p*d/255;c.o=c.o*d/255;c.g=c.g*d/255}r.zb.prototype.n.call(this,a);this.aa()&&(a=this.ug.Jc)&&(c=r.ha.e().EI(a))&&(d=r.rect(0,0,a.width,a.height),a=r.sC(a,c,this.he,d),c=new r.ac,c.Ff(a),c.Ce(),this.ea(c))}},iB:function(a){var c=r.Ec(a.p,a.o,a.g);this.Aj=a;var d=this.Yb;this.lc&&(c.p=c.p*d/255,c.o=c.o*d/255,c.g=c.g*
d/255);r.zb.prototype.n.call(this,a);a=this.Ic;this.Wu=new Float32Array([a.p/255,a.o/255,a.g/255,d/255])},pa:null,Qr:function(a){r.zb.prototype.pa.call(this,a);this.lc&&this.n(this.Aj)},lB:function(a){r.zb.prototype.pa.call(this,a);this.lc?this.n(this.Aj):(a=this.Ic,this.Wu=new Float32Array([a.p/255,a.o/255,a.g/255,this.Yb/255]))},aa:null,qA:function(){return this.Jm},rA:function(){return this.Ra.aa()},ea:null,Rr:function(a){this.Jm=a},Sr:function(a){this.Ra.ea(a);this.Om();this.oH()},Su:null,cO:function(){var a=
this.aa().c();this.sG=0|a.height/this.tv;this.tG=0|a.width/this.uv},dO:function(){var a=this.aa(),c=a.c();this.uA&&(c=a.va);this.sG=0|c.height/this.tv;this.tG=0|c.width/this.uv},Om:function(){this.Ra.aa().Js()||(this.ga.src=770,this.ga.Gb=771)},oH:function(){this.lc=this.Ra.aa().Js()},kB:function(a){this.uA=a}});
r.Fa.Pc?(b=r.Wd.prototype,b.Ma=r.Wd.prototype.vr,b.Va=r.Wd.prototype.tg,b.n=r.Wd.prototype.iB,b.pa=r.Wd.prototype.lB,b.aa=r.Wd.prototype.rA,b.ea=r.Wd.prototype.Sr,b.Su=r.Wd.prototype.dO):(b=r.Wd.prototype,b.Ma=r.Wd.prototype.ur,b.Va=r.D.prototype.Va,b.n=r.Wd.prototype.Or,b.pa=r.Wd.prototype.Qr,b.aa=r.Wd.prototype.qA,b.ea=r.Wd.prototype.Rr,b.Su=r.Wd.prototype.cO);r.Wd.create=function(a,c,d,e){var f=new r.Wd;return f.YT(a,c,d,e)?f:null};r.tj=0;r.Bq=1;r.Aq=2;r.zq=3;r.cz=4;r.bz=5;r.wu=6;r.vu=7;r.uF=8;r.tF=9;r.sF=r.tj;r.Tz=r.sF;r.$M=!1;r.m1=function(a,c,d,e){this.BU=a||0;this.yU=c||0;this.LL=d||0;this.ML=e||0};
r.pN=r.Da.extend({qP:null,Sf:null,ih:null,hh:null,FA:null,va:null,dh:null,eh:null,Go:null,om:!1,Kc:null,rc:!1,Jc:null,Xh:null,Jd:null,ctor:function(){this.hh=this.ih=0;this.FA="";this.eh=this.dh=0;this.Go=!1;this.va=r.Dm();this.om=!1;this.qP=!0;this.Sf=r.ac.UR();this.Kc=null;this.rc=!1;this.Xh=this.Jc=null;this.Jd=[]},yD:function(){this.Xh&&r.X.deleteTexture(this.Xh)},P5:function(){return this.Sf},Dp:function(){return this.ih},Cp:function(){return this.hh},getName:function(){return this.Xh},c:function(){return r.size(this.va.width/
r.Fd(),this.va.height/r.Fd())},HS:function(){return this.va},QS:function(){return this.dh},aX:function(a){this.dh=a},RS:function(){return this.eh},bX:function(a){this.eh=a},zC:function(){return this.Kc},Pg:function(a){this.Kc=a},Js:function(){return this.Go},HT:function(){return this.om},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.FA+" | Dimensions \x3d "+this.ih+" x "+this.hh+" | Coordinates \x3d ("+this.dh+", "+this.eh+")\x3e"},KV:function(){},oU:function(a){return a},Xw:function(a,
c,d,e,f){var g=r.X,h=0,h=c===r.tj?24:this.MH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Xh=g.createTexture();r.Hg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case r.tj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case r.Bq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case r.wu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case r.vu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case r.Aq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case r.bz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case r.zq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case r.cz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.va.Ga=f.width;this.va.ta=f.height;this.ih=d;this.hh=e;this.Sf=c;this.dh=f.width/d;this.eh=f.height/e;this.om=this.Go=!1;this.Pg(r.Fh.e().ii(r.eN));return this.rc=!0},jS:function(a){var c=[0,this.eh,this.dh,this.eh,0,0,this.dh,
0],d=this.ih*this.dh,e=this.hh*this.eh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];r.xe(r.Yg|r.yN);this.Kc.of();this.Kc.XK();r.Hg(this);d=r.X;d.vertexAttribPointer(r.Oe,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(r.Fq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},lS:function(a){var c=[0,this.eh,this.dh,this.eh,0,0,this.dh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];r.xe(r.Yg|r.yN);this.Kc.of();this.Kc.XK();r.Hg(this);var d=r.X;d.vertexAttribPointer(r.Oe,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(r.Fq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},OC:function(a){if(null==a)return r.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Hs(),d=a.Bs(),e=r.Me.e().Cr;if(c>e||d>e)return r.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.rc=!0;return this.NO(a,c,d)},Ff:function(a){a&&(this.Xh=r.X.createTexture(),this.Jc=a)},LS:function(){return this.Jc},Kg:function(){return this.rc},
Ce:function(){this.rc=!0;var a=r.X;r.Hg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Jc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Pg(r.Fh.e().ii(r.eN));r.Hg(null);a=this.Jc.height;this.ih=this.va.Ga=this.Jc.width;this.hh=this.va.ta=
a;this.Sf=r.tj;this.eh=this.dh=1;this.om=this.Go=!1;this.ae()},ol:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=r.size(0,0),f=r.uj,g=r.Hq);var h=new r.tM,k;if(r.Hq===g)k=r.uj===f?r.HY:r.Cq===f?r.IY:r.JY;else if(r.Fu===g)k=r.uj===f?r.EY:r.Cq===f?r.FY:r.GY;else if(r.Gq===g)k=r.uj===f?r.BY:r.Cq===f?r.CY:r.DY;else return r.log("Not supported alignment format!"),!1;return h.ol(a,e.width,e.height,k,c,d)?this.OC(h):!1},RT:function(){return!1},YI:function(a){var c=!1,d=new r.i0;
(c=d.A7(a))?(d.Lba(!0),this.FA=d.getName(),this.eh=this.dh=1,this.ih=d.Hs(),this.hh=d.Bs(),this.va.Ga=this.ih,this.va.ta=this.hh,this.Go=r.$M,this.Sf=d.N4(),this.qK()):r.log("cocos2d: Couldn't load PVR image "+a);return c},VT:function(){return r.Me.e().as?!0:(r.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},BX:function(a){var c=r.X;r.yt(this.ih==r.Vn(this.ih)&&this.hh==r.Vn(this.hh)||a.LL==c.CLAMP_TO_EDGE&&a.ML==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
r.Hg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.BU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.yU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.LL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.ML)},qK:function(){var a=r.X;r.Hg(this);this.om?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},pK:function(){var a=r.X;r.Hg(this);
this.om?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){r.yt(this.ih==r.Vn(this.ih)&&this.hh==r.Vn(this.hh),"Mimpap texture only works in POT textures");r.Hg(this);r.X.generateMipmap(r.X.TEXTURE_2D);this.om=!0},dY:function(){switch(this.Sf){case r.tj:return"RGBA8888";case r.Bq:return"RGB888";case r.Aq:return"RGB565";case r.wu:return"RGBA4444";
case r.vu:return"RGB5A1";case r.bz:return"AI88";case r.zq:return"A8";case r.cz:return"I8";case r.uF:return"PVRTC4";case r.tF:return"PVRTC2";default:r.log("stringForFormat: "+this.Sf+", cannot give useful result, it's a unrecognized pixel format")}return""},MH:function(a){a=a||this.Sf;switch(a){case r.tj:return 32;case r.Bq:return 32;case r.Aq:return 16;case r.zq:return 8;case r.wu:return 16;case r.vu:return 16;case r.uF:return 4;case r.tF:return 2;case r.cz:return 8;case r.bz:return 16;default:return r.log("bitsPerPixelForFormat: "+
this.Sf+", cannot give useful result, it's a illegal pixel format"),-1}},NO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.p7(),h=r.size(a.Hs(),a.Bs()),k=r.sF,l=a.W3();g||(8<=l?k=r.Bq:(r.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=r.Aq));var m=c*d;if(k==r.Aq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==r.wu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==r.vu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==r.zq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==r.Bq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Xw(e,k,c,d,h);a.getData();this.Go=a.l8();return!0},Xf:function(a,c){this.Jd.push({dk:a,$h:c})},TV:function(a){for(var c=this.Jd,d=0;d<c.length;d++)c[d].$h==a&&c.splice(d,1)},ae:function(){for(var a=this.Jd,c=0,d=a.length;c<d;c++){var e=a[c];e.dk.call(e.$h,this)}a.length=0}});
r.oN=r.Da.extend({va:null,rc:!1,Jc:null,Jd:null,ctor:function(){this.va=r.Dm();this.rc=!1;this.Jc=null;this.Jd=[]},Dp:function(){return this.va.Ga},Cp:function(){return this.va.ta},c:function(){var a=r.Fd();return r.size(this.va.Ga/a,this.va.ta/a)},HS:function(){return this.va},Ff:function(a){a&&(this.Jc=a)},LS:function(){return this.Jc},Kg:function(){return this.rc},Ce:function(){this.rc=!0;var a=this.Jc;this.va.Ga=a.width;this.va.ta=a.height;this.ae()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.va.Ga+" height "+this.va.ta+"\x3e"},Xw:function(){return!1},OC:function(){return!1},ol:function(){return!1},yD:function(){},getName:function(){return null},QS:function(){return 1},aX:function(){},RS:function(){return 1},bX:function(){},zC:function(){return null},Pg:function(){},Js:function(){return!1},HT:function(){return!1},KV:function(){},oU:function(a){return a},jS:function(){},lS:function(){},RT:function(){return!1},YI:function(){return!1},VT:function(){return!0},BX:function(){},qK:function(){},
pK:function(){},generateMipmap:function(){},dY:function(){return""},MH:function(){return-1},Xf:function(a,c){this.Jd.push({dk:a,$h:c})},TV:function(a){for(var c=this.Jd,d=0;d<c.length;d++)c[d].$h==a&&c.splice(d,1)},ae:function(){for(var a=this.Jd,c=0,d=a.length;c<d;c++){var e=a[c];e.dk.call(e.$h,this)}a.length=0}});r.ac=r.Fa.Pc?r.pN:r.oN;r.ac.Baa=function(a){r.Tz=a};r.ac.UR=function(){return r.Tz};r.ac.u4=function(){return r.Tz};r.ys=null;r.X8=function(a){if(r.KR(a)==r.nM)r.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){r.ha.e().oR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};r.KR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?r.GZ:0<a.toLowerCase().indexOf(".png")?r.HZ:0<a.toLowerCase().indexOf(".webp")?r.JZ:r.nM};
r.ha=r.Da.extend({qb:null,bs:null,iw:null,JG:!1,xv:null,yv:null,ctor:function(){if(r.ys)throw"Attempted to allocate a second instance of a singleton.";this.iw+=0|1E3*Math.random();this.qb={};this.bs={};r.Cd===r.Ak&&(this.xv={},this.yv={})},wz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},VO:function(){this.JG=!0;var a,c=this.xv,d=this.qb;for(a in c){var e=c[a],f=new r.ac;f.Ff(e);f.Ce();d[a]=f}this.xv={}},E1:function(){r.log("TextureCache:addPVRTCImage does not support on HTML5")},
z1:function(){r.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.qb.length+"\x3e"},ay:function(a){a=r.Gd.e().re(a);return this.qb.hasOwnProperty(a)?this.qb[a]:null},NS:function(a){for(var c in this.qb)if(this.qb[c]==a)return c;return null},EO:function(){this.iw++;return"_textureKey_"+this.iw},EI:function(a){var c=this.NS(a);c||(c=a instanceof HTMLImageElement?a.src:this.EO());this.bs.hasOwnProperty(c)||(this.bs[c]=
r.wp(a));return this.bs[c]},D1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=r.Gd.e().re(a);if(null!=this.qb[a])return this.qb[a];var c=new r.ac;c.YI(a)?this.qb[a]=c:r.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},H$:function(){var a=this.qb,c;for(c in a)a[c]&&a[c].yD();this.qb={}},W$:function(a){if(a){var c=this.qb,d;for(d in c)c[d]==a&&(c[d].yD(),delete c[d])}},XV:function(a){null!=a&&(a=r.Gd.e().re(a),this.qb[a]&&delete this.qb[a])},A1:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=r.Gd.e().re(a);var e=this.qb[a],f,g;if(e)e.Kg()?this.wz(c,d):(g=this,f=e.Jc,f.addEventListener("load",function(){e.Ce();g.wz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.qb.hasOwnProperty(a)&&g.qb[a].Ce();g.wz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){r.$b.e().nn(a);g.qb.hasOwnProperty(a)&&delete g.qb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new r.ac;h.Ff(f);this.qb[a]=h}return this.qb[a]},ON:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){r.$b.e().hi();d.xv[a]=c;delete d.yv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){r.$b.e().nn(a);
delete d.yv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.yv[a]=c},qa:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(r.Cd===r.Ak&&!this.JG)return this.ON(a);a=r.Gd.e().re(a);var c=this.qb[a],d;if(c)c.Kg()?r.$b.e().hi():(d=c.Jc,d.addEventListener("load",function(){c.Ce();r.$b.e().hi();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){r.$b.e().hi();e.qb.hasOwnProperty(a)&&
e.qb[a].Ce();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){r.$b.e().nn(a);e.qb.hasOwnProperty(a)&&delete e.qb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new r.ac;f.Ff(d);this.qb[a]=f}return this.qb[a]},oR:function(a,c){if(c instanceof r.ac)this.qb[a]=c;else{var d=new r.ac;d.Ff(c);d.Ce();this.qb[a]=d}},J1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.qb.hasOwnProperty(c)&&this.qb[c])return this.qb[c];var d=new r.ac;d.OC(a);null!=c&&null!=d?this.qb[c]=d:r.log("cocos2d: Couldn't add UIImage in TextureCache");return d},c3:function(){var a=0,c=0,d=this.qb,e;for(e in d){var f=d[e];a++;f.Jc instanceof HTMLImageElement?r.log("cocos2d: '"+e+"' id\x3d"+f.Jc.src+" "+f.Dp()+" x "+f.Cp()):r.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Dp()+" x "+f.Cp());c+=f.Dp()*f.Cp()*4}d=this.bs;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;r.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}r.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});r.ha.e=function(){r.ys||(r.ys=new r.ha);return r.ys};r.ha.wV=function(){r.ys=null};r.bo=r.Da.extend({ud:null,yi:null,Ia:!1,gd:0,Ea:null,Te:null,wg:null,Kr:null,xg:null,ctor:function(){this.yi=[]},R6:function(){return this.Ta},e4:function(){return this.gd},aa:function(){return this.Ea},ea:function(a){this.Ea=a},Og:function(a){this.Ia=a},iJ:function(){return this.Ia},b6:function(){return this.Te},Cba:function(a){this.Te=a},M0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Xv(a[d],c+d)},Xv:function(a,c){var d=this.Te;d[c]?(d[c].Ja=a.Ja,d[c].Ua=a.Ua,d[c].Sa=a.Sa,d[c].Na=a.Na):d[c]=
new r.bc(a.Sa,a.Ja,a.Na,a.Ua,this.wg,c*r.bc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ta+"\x3e"},WG:function(){if(0!==this.gd)for(var a=this.ud,c=this.gd,d=0;d<c;d++)r.vF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},rQ:function(){var a=r.X;this.yi[0]=a.createBuffer();this.yi[1]=a.createBuffer();this.Kr=a.createBuffer();
this.vG()},vG:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.Kr);a.bufferData(a.ARRAY_BUFFER,this.wg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.yi[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.ud,a.STATIC_DRAW)},$i:function(a,c){var d=r.ha.e().qa(a);if(d)return this.Ma(d,c);r.log("cocos2d: Could not open file: "+a);return!1},Ma:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.gd=c|=0;this.Ta=0;this.Ea=a;this.Te=[];this.ud=new Uint16Array(6*
c);var d=r.bc.BYTES_PER_ELEMENT;this.wg=new ArrayBuffer(d*c);this.xg=new Uint8Array(this.wg);if((!this.Te||!this.ud)&&0<c)return!1;for(var e=this.Te,f=0;f<c;f++)e[f]=new r.bc(null,null,null,null,this.wg,f*d);this.WG();this.rQ();return this.Ia=!0},gy:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.gd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ta=Math.max(c+1,this.Ta);this.Xv(a,c);this.Ia=!0},UC:function(a,c){if(c>=this.gd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ta++;if(this.Ta>this.gd)r.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=r.bc.BYTES_PER_ELEMENT,e=c*d,f=(this.Ta-1-c)*d;this.Te[this.Ta-1]=new r.bc(null,null,null,null,this.wg,(this.Ta-1)*d);this.xg.set(this.xg.subarray(e,e+f),e+d);this.Xv(a,c);this.Ia=!0}},G7:function(a,c,d){d=d||a.length;if(c+d>this.gd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=r.bc.BYTES_PER_ELEMENT;this.Ta+=d;if(this.Ta>this.gd)r.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ta-1-c-d)*e,h=this.Ta-1-d,k;for(k=0;k<d;k++)this.Te[h+k]=new r.bc(null,null,null,null,this.wg,(this.Ta-1)*e);this.xg.set(this.xg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Xv(a[k],c+k);this.Ia=!0}},F7:function(a,c){if(a!==c){if(0>c&&c>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=r.bc.BYTES_PER_ELEMENT,e=this.xg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ia=!0}},VV:function(a){if(a>=this.Ta)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=r.bc.BYTES_PER_ELEMENT;this.Ta--;this.Te.length=this.Ta;if(a!==this.Ta){var d=(a+1)*c;this.xg.set(this.xg.subarray(d,d+(this.Ta-a)*c),d-c)}this.Ia=!0},O$:function(a,c){if(a+c>this.Ta)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ta-=c;if(a!==this.Ta){var d=r.bc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.xg.set(this.xg.subarray(e,e+(this.Ta-a)*d),a*d)}this.Ia=!0},PV:function(){this.Ta=this.Te.length=0},j1:function(a){this.Ia=a},aW:function(a){if(a==this.gd)return!0;var c=r.bc.BYTES_PER_ELEMENT,d=this.gd;this.Ta=Math.min(this.Ta,a);var e=this.gd=0|a,f=this.Ta;if(null==this.Te)for(this.Te=[],this.wg=new ArrayBuffer(c*e),this.xg=new Uint8Array(this.wg),a=0;a<e;a++)this.Te=new r.bc(null,null,null,null,this.wg,a*c);else{var g,h,k=this.Te;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new r.bc(k[a].Sa,k[a].Ja,k[a].Na,k[a].Ua,h,a*c);for(;a<e;a++)g[a]=new r.bc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new r.bc(k[a].Sa,k[a].Ja,k[a].Na,k[a].Ua,h,a*c);this.xg=new Uint8Array(h);this.Te=g;this.wg=h}null==this.ud?this.ud=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.ud,0),this.ud=c):this.ud=this.ud.subarray(0,6*e);this.WG();this.vG();return this.Ia=!0},x7:function(a){this.Ta+=a},i9:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ta-a;if(d+(this.Ta-a)>this.gd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=r.bc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.xg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ia=!0},C3:function(a,
c){for(var d=c*r.bc.BYTES_PER_ELEMENT,e=new Uint8Array(this.wg,a*r.bc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},dI:function(a,c){c=c||0;if(0!==a&&this.Ea&&this.Ea.Kg()){var d=r.X;r.Hg(this.Ea);r.xe(r.Eu);d.bindBuffer(d.ARRAY_BUFFER,this.Kr);this.Ia&&d.bufferData(d.ARRAY_BUFFER,this.wg,d.DYNAMIC_DRAW);d.vertexAttribPointer(r.Oe,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(r.Eq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(r.Fq,2,d.FLOAT,!1,24,16);this.Ia&&(this.Ia=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.yi[1]);r.vF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.ud.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.ud.BYTES_PER_ELEMENT);r.ai++}},mS:function(){this.dI(this.Ta,0)},g1:function(){var a=r.X;this.yi&&(this.yi[0]&&a.deleteBuffer(this.yi[0]),this.yi[1]&&a.deleteBuffer(this.yi[1]));this.Kr&&a.deleteBuffer(this.Kr)}});r.bo.create=function(a,c){var d=new r.bo;return d&&d.$i(a,c)?d:null};r.bo.hb=function(a,c){var d=new r.bo;return d&&d.Ma(a,c)?d:null};r.xq=r.D.extend({ctor:function(){r.D.prototype.ctor.call(this);this.Pk=!0;this.K(0.5,0.5);this.W(r.Z.e().Qb)}});r.xq.create=function(){return new r.xq};r.dz=0;r.d0=1;
r.Rc=r.D.extend({Rk:!1,Qk:!1,Io:!1,dl:0,js:r.dz,qm:!1,Ro:0,ctor:function(){r.D.prototype.ctor.call(this);this.Io=this.Qk=this.Rk=!1;this.dl=0;this.js=r.dz;this.qm=!1;this.Ro=0},MO:function(){this.K(0.5,0.5);this.Pk=!0;var a=r.Z.e();this.W(a.Qb)},r:function(){r.D.prototype.r.call(this);this.MO();return!0},tx:function(){this.js===r.dz?r.JV(this,this.dl):r.uD(this.dl,!0,this)},e8:function(){return this.qm},Gx:function(a){if(!r.Zd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.qm!=
a&&(this.qm=a,this.We&&(a?r.Z.e().Cf().CH(this,this.Ro):r.Z.e().Cf().fK(this)))},iba:function(a){if(!r.Zd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Ro!==a&&(this.Ro=a,this.qm&&(this.Gx(!1),this.Gx(!0)))},t5:function(){return this.Ro},x8:function(){return this.Rk},Vb:function(a){this.Rk!==a&&(this.Rk=a,this.We&&(a?this.tx():r.wL(this)))},V6:function(){return this.dl},gq:function(a){this.dl!==a&&(this.dl=a,this.Rk&&(this.Vb(!1),this.Vb(!0)))},U6:function(){return this.js},
WD:function(a){this.js!==a&&(this.js=a,this.Rk&&(this.Vb(!1),this.Vb(!0)))},M7:function(){return this.Qk},kaa:function(a){if(!r.uk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Qk&&(this.Qk=a,this.We)){var c=r.Z.e();a?c.yp().zh(this):c.yp().zh(null)}},tW:function(a){this.Qk&&r.uk&&r.Z.e().yp().tW(a)},A9:function(){r.log("onAccelerometer event should be handled.")},d8:function(){return this.Io},$aa:function(a){if(!r.Un)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Io&&(this.Io=a,this.We)){var c=r.Z.e();a?c.Qw().VQ(this):c.Qw().RV(this)}},Ng:function(){var a=r.Z.e();this.Rk&&this.tx();r.D.prototype.Ng.call(this);this.Qk&&r.uk&&a.yp().zh(this);this.Io&&r.Un&&a.Qw().VQ(this);this.qm&&r.Zd&&a.Cf().CH(this,this.Ro)},Qd:function(){var a=r.Z.e();this.Rk&&r.wL(this);this.Qk&&r.uk&&a.yp().zh(null);this.Io&&r.Un&&a.Qw().RV(this);this.qm&&r.Zd&&a.Cf().fK(this);r.D.prototype.Qd.call(this)},gi:function(){this.Qk&&r.uk&&r.Z.e().yp().zh(this);r.D.prototype.gi.call(this)},
jb:function(){r.log("onTouchBegan event should be handled.");return!0},qd:function(){},Gf:function(){},jk:function(){},HJ:function(){},KJ:function(){},JJ:function(){},IJ:function(){},JU:function(){return!1},KU:function(){return!1},ej:function(){return!1},NU:function(){return!1},RU:function(){return!1},SU:function(){return!1},TU:function(){return!1},OU:function(){return!1},PU:function(){return!1},QU:function(){return!1},UU:function(){return!1},LU:function(){return!1},MU:function(){return!1},hD:function(){},
xl:function(){}});r.Rc.create=function(){var a=new r.Rc;return a&&a.r()?a:null};
r.Dh=r.Rc.extend({kb:!0,Yb:0,yg:0,Ic:null,he:null,be:!1,sd:!1,ctor:function(){r.Rc.prototype.ctor.call(this);this.kb=!0;this.yg=this.Yb=255;this.Ic=r.yb();this.he=r.yb();this.sd=this.be=!1},r:function(){return r.Rc.prototype.r.call(this)?(this.vK(!1),this.uK(!1),!0):!1},Vi:function(){return this.yg},IS:function(){return this.Yb},pa:function(a){this.Yb=this.yg=a;a=255;var c=this.V;c&&c.kb&&c.be&&(a=c.Yb);this.dd(a)},dd:function(a){this.Yb=0|this.yg*a/255;if(this.be){a=this.t;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.kb&&d.dd(this.Yb)}}},iU:function(){return this.be},vK:function(a){this.be!==a&&((this.be=a)?this.gr():this.aA())},gr:function(){var a=255,c=this.V;c&&c.kb&&c.be&&(a=c.Yb);this.dd(a)},aA:function(){this.Yb=this.yg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.kb&&d.dd(255)}},zd:function(){var a=this.he;return r.k(a.p,a.o,a.g)},As:function(){var a=this.Ic;return r.k(a.p,a.o,a.g)},n:function(a){var c=this.Ic,d=this.he;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.V)&&a.kb&&a.sd?a.As():
r.yb();this.cd(a)},cd:function(a){var c=this.Ic,d=this.he;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*a.g/255;if(this.sd)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.kb&&e.cd(c)}},hU:function(){return this.sd},uK:function(a){this.sd!==a&&((this.sd=a)?this.fr():this.$z())},fr:function(){var a;a=(a=this.V)&&a.kb&&a.sd?a.As():r.yb();this.cd(a)},$z:function(){var a=this.Ic,c=this.he;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.t,c=r.yb(),d=0;d<a.length;d++){var e=a[d];e&&e.kb&&e.cd(c)}},f:function(a,
c,d){r.D.prototype.f.call(this,a,c,d);this.sd&&this.fr();this.be&&this.gr()},Jf:function(){},ql:function(){return!1}});
r.ca=r.Dh.extend({ga:null,zs:function(){return this.ga},v2:function(a,c){this.W(a,c)},OH:function(a){this.W(a,this.va.ta)},s2:function(a){this.W(this.va.Ga,a)},Jf:function(){},ql:function(){return!1},n:function(a){r.Dh.prototype.n.call(this,a);this.wd()},pa:function(a){r.Dh.prototype.pa.call(this,a);this.wd()},Jo:!1,$G:null,tB:null,MB:null,Oz:null,vB:null,uB:null,Hh:function(){r.Dh.prototype.ctor.call(this);this.ga=new r.Vl(r.Le,r.Ke)},Ih:function(){r.Dh.prototype.ctor.call(this);this.ga=new r.Vl(r.Le,
r.Ke);this.vB=new ArrayBuffer(32);this.uB=new ArrayBuffer(64);var a=this.vB,c=this.uB,d=r.Bb.BYTES_PER_ELEMENT,e=r.Xd.BYTES_PER_ELEMENT;this.$G=[new r.Bb(0,0,a,0),new r.Bb(0,0,a,d),new r.Bb(0,0,a,2*d),new r.Bb(0,0,a,3*d)];this.tB=[new r.Xd(0,0,0,1,c,0),new r.Xd(0,0,0,1,c,e),new r.Xd(0,0,0,1,c,2*e),new r.Xd(0,0,0,1,c,3*e)];this.MB=r.X.createBuffer();this.Oz=r.X.createBuffer()},Dl:function(a,c){this.ga=1==arguments.length?a:{src:a,Gb:c};r.Cd===r.kg&&(this.Jo=this.ga&&1==this.ga.src&&771==this.ga.Gb)},
r:function(a,c,d){if(!r.Rc.prototype.r.call(this))return!1;r.Cd!==r.kg&&this.Pg(r.Fh.e().ii(r.dN));var e=r.Z.e().Qb;a=a||new r.Ob(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Ic;e.p=a.p;e.o=a.o;e.g=a.g;e=this.he;e.p=a.p;e.o=a.o;e.g=a.g;this.yg=this.Yb=a.H;this.W(c,d);this.wd();return!0},W:null,XP:function(a,c){var d=this.$G;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.RF(),r.Rc.prototype.W.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.RF(),r.Rc.prototype.W.call(this,
a))},wd:null,HQ:function(){},IQ:function(){for(var a=this.Ic,c=this.Yb,d=this.tB,e=0;4>e;e++)d[e].p=a.p/255,d[e].o=a.o/255,d[e].g=a.g/255,d[e].H=c/255;this.QF()},cd:function(a){r.Dh.prototype.cd.call(this,a);this.wd()},dd:function(a){r.Dh.prototype.dd.call(this,a);this.wd()},RF:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.MB);a.bufferData(a.ARRAY_BUFFER,this.vB,a.STATIC_DRAW)},QF:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.Oz);a.bufferData(a.ARRAY_BUFFER,this.uB,a.STATIC_DRAW)},
Va:null,km:function(a){a=a||r.X;var c=this.c(),d=r.sa.e(),e=this.Ic;a.fillStyle="rgba("+(0|e.p)+","+(0|e.o)+","+(0|e.g)+","+this.Yb/255+")";a.fillRect(0,0,c.width*d.wa,-c.height*d.Ba);r.ai++},tg:function(a){a=a||r.X;r.My(this);r.xe(r.Yg|r.xN);a.bindBuffer(a.ARRAY_BUFFER,this.MB);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Oz);a.vertexAttribPointer(r.Eq,4,a.FLOAT,!1,0,0);r.ek(this.ga.src,this.ga.Gb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
r.Fa.Pc?(r.ca.prototype.ctor=r.ca.prototype.Ih,r.ca.prototype.W=r.ca.prototype.XP,r.ca.prototype.wd=r.ca.prototype.IQ,r.ca.prototype.Va=r.ca.prototype.tg):(r.ca.prototype.ctor=r.ca.prototype.Hh,r.ca.prototype.W=r.Dh.prototype.W,r.ca.prototype.wd=r.ca.prototype.HQ,r.ca.prototype.Va=r.ca.prototype.km);r.ca.create=function(a,c,d){var e=new r.ca;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
r.TE=r.ca.extend({aH:null,Co:null,$o:null,Do:null,cm:null,Yu:!1,rr:null,qr:null,ctor:function(){r.ca.prototype.ctor.call(this);this.aH=new r.Ec(0,0,0);this.Co=new r.Ec(0,0,0);this.cm=r.a(0,-1);this.Do=this.$o=255;this.rr=r.a(0,0);this.qr=r.a(0,0)},W:function(a,c){2===arguments.length?r.ca.prototype.W.call(this,a,c):r.ca.prototype.W.call(this,a);this.wd()},z6:function(){return this.he},Sba:function(a){this.n(a)},Iaa:function(a){this.Co=a;this.wd()},D4:function(){return this.Co},Tba:function(a){this.$o=
a;this.wd()},A6:function(){return this.$o},Jaa:function(a){this.Do=a;this.wd()},E4:function(){return this.Do},kca:function(a){this.cm.x=a.x;this.cm.y=a.y;this.wd()},Z6:function(){return r.a(this.cm.x,this.cm.y)},R7:function(){return this.Yu},yaa:function(a){this.Yu=a;this.wd()},r:function(a,c,d){a=a||r.$B(0,0,0,255);c=c||r.$B(0,0,0,255);d=d||r.a(0,-1);var e=this.aH,f=this.Co;e.p=a.p;e.o=a.o;e.g=a.g;this.$o=a.H;f.p=c.p;f.o=c.o;f.g=c.g;this.Do=c.H;this.cm=d;this.Yu=!0;r.ca.prototype.r.call(this,r.h(a.p,
a.o,a.g,255));return!0},Va:function(a){if(r.Cd===r.Ak)r.ca.prototype.Va.call(this,a);else{a=a||r.X;this.Jo&&(a.globalCompositeOperation="lighter");a.save();var c=r.sa.e(),d=this.Yb/255,e=this.c().width*c.wa,c=this.c().height*c.Ba,f=a.createLinearGradient(this.rr.x,this.rr.y,this.qr.x,this.qr.y),g=this.Ic,h=this.Co;f.addColorStop(0,"rgba("+Math.round(g.p)+","+Math.round(g.o)+","+Math.round(g.g)+","+(this.$o/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.p)+","+Math.round(h.o)+","+Math.round(h.g)+
","+(this.Do/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.OP&&a.rotate(this.h1);a.restore()}},wd:function(){var a=this.cm;if(r.Cd===r.kg){var c=0.5*this.c().width,d=0.5*this.c().height;this.rr.x=c*-a.x+c;this.rr.y=d*a.y-d;this.qr.x=c*a.x+c;this.qr.y=d*-a.y-d}else if(d=r.jD(a),0!==d){c=Math.sqrt(2);a=r.a(a.x/d,a.y/d);this.Yu&&(a=r.fj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Yb/255,f=this.Ic,g=this.Co,d=f.p/255,h=f.o/255,f=f.g/255,k=this.$o*e/255,l=g.p/255,m=g.o/255,g=g.g/
255,e=this.Do*e/255,n=this.tB,p=n[0],q=n[1],u=n[2],n=n[3];p.p=l+(c+a.x+a.y)/(2*c)*(d-l);p.o=m+(c+a.x+a.y)/(2*c)*(h-m);p.g=g+(c+a.x+a.y)/(2*c)*(f-g);p.H=e+(c+a.x+a.y)/(2*c)*(k-e);q.p=l+(c-a.x+a.y)/(2*c)*(d-l);q.o=m+(c-a.x+a.y)/(2*c)*(h-m);q.g=g+(c-a.x+a.y)/(2*c)*(f-g);q.H=e+(c-a.x+a.y)/(2*c)*(k-e);u.p=l+(c+a.x-a.y)/(2*c)*(d-l);u.o=m+(c+a.x-a.y)/(2*c)*(h-m);u.g=g+(c+a.x-a.y)/(2*c)*(f-g);u.H=e+(c+a.x-a.y)/(2*c)*(k-e);n.p=l+(c-a.x-a.y)/(2*c)*(d-l);n.o=m+(c-a.x-a.y)/(2*c)*(h-m);n.g=g+(c-a.x-a.y)/(2*c)*
(f-g);n.H=e+(c-a.x-a.y)/(2*c)*(k-e);this.QF()}}});r.TE.create=function(a,c,d){var e=new r.TE;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
r.UE=r.Rc.extend({Kk:0,bh:null,C7:function(a){this.bh=[];this.bh.push(a);this.Kk=0;this.f(a);return!0},TT:function(a){this.bh=a;this.Kk=0;this.f(this.bh[this.Kk]);return!0},Sca:function(a){a>=this.bh.length?r.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.bh[this.Kk],!0),this.Kk=a,this.f(this.bh[a]))},Tca:function(a){a>=this.bh.length?r.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.bh[this.Kk],
!0),this.bh[this.Kk]=null,this.Kk=a,this.f(this.bh[a]))},B1:function(a){a?this.bh.push(a):r.log("cc.Layer.addLayer(): layer should be non-null")}});r.UE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&r.log("parameters should not be ending with null in Javascript");var a=new r.UE;return a.TT(arguments)?a:null};r.Yy=-1;
r.wp=function(a){function c(){var c=r.wp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.fE.width=e;c.fE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.sL.drawImage(a,0,0);for(var n=c.sL.getImageData(0,0,e,h),p=n.data,q=0;q<k.length;q+=4)p[q]=0===l?k[q]:0,p[q+
1]=1===l?k[q+1]:0,p[q+2]=2===l?k[q+2]:0,p[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.DR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.DR=d};r.wp.canvas=document.createElement("canvas");r.wp.fE=document.createElement("canvas");r.wp.sL=r.wp.fE.getContext("2d");
r.L3=function(a,c,d){d||(d=r.rect(0,0,a.width,a.height),d=r.vq(d));c=c instanceof r.Xd?r.h(255*c.p,255*c.o,255*c.g,255*c.H):r.h(c.p,c.o,c.g,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.H/255;f.fillStyle="rgb("+c.p+","+c.o+","+c.g+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
r.sC=function(a,c,d,e,f){e||(e=r.rect(0,0,a.width,a.height));a=null==d.H?r.Aw(d.p/255,d.o/255,d.g/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.p+a.o+a.g&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};r.UH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
r.l0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Jl=e;this.visible=g};r.mg=function(a){return 0|a};r.gN&&(r.mg=function(a){return a});
r.w=r.zb.extend({kb:!0,Ra:null,Wc:0,lb:null,Ia:!1,Mh:null,Fi:null,Zk:!1,Nm:null,ga:null,Ea:null,za:null,Xc:!1,ec:null,Uh:null,lc:!1,jc:!1,kc:!1,pb:!1,Jd:null,CG:null,uL:function(){return this.pb},Xf:function(a,c){this.Jd.push({dk:a,$h:c})},ae:function(){for(var a=this.Jd,c=0,d=a.length;c<d;c++){var e=a[c];e.dk.call(e.$h,this)}a.length=0},iJ:function(){return this.Ia},Og:function(a){this.Ia=a},v8:function(){return this.Xc},S3:function(){return this.Wc},Ge:function(a){this.Wc=a},BC:function(){return r.rect(this.za.x,
this.za.y,this.za.width,this.za.height)},DI:function(){return this.Ra},fq:function(a){this.Ra=a},y6:function(){return this.lb},Rba:function(a){this.lb=a},F5:function(){return this.ec},zs:function(){return this.ga},De:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.pb||(this.pb=!1,a.Xf(this.rB,this));var c=this.Ma(a.aa(),a.ve());this.aq(a);return c},rB:null,wQ:function(a){this.Xa();this.Sb(a.ve(),a.ld,a.kd);this.ae()},vQ:function(a){this.Xa();this.Sb(a.ve(),
a.ld,a.kd);a=this.zd();255===a.p&&255===a.o&&255===a.g||this.Uu();this.ae()},$I:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=r.og.e().th(a);return this.De(a)},xda:function(a){this.Ra=a.Ra;this.lb=a},YD:function(a){this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height},Sd:function(){if(this.ie){for(var a,c,d=this.t,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.fb<e.fb||c.fb==e.fb&&c.Rf<e.Rf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.lb&&this.qg(d,r.D.Mf.Sd);this.ie=!1}},Zs:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.t.indexOf(a)?r.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.fb&&(this.lb&&!this.ie&&(this.mB(),this.lb.gK(!0)),r.D.prototype.Zs.call(this,a,c))},removeChild:function(a,c){this.lb&&this.lb.wn(a);r.D.prototype.removeChild.call(this,a,c)},oc:function(a){var c=this.t,d=this.lb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.wn(c[e]);r.D.prototype.oc.call(this,
a);this.Fi=!1},AK:function(a){this.Mh=a;this.Og(a);a=this.t;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof r.w&&a[c].AK(!0)},Xg:function(){this.lb&&!this.Mh&&(this.Ia=this.Mh=!0,this.Fi&&this.AK(!0))},m:function(a,c){2<=arguments.length?r.D.prototype.m.call(this,a,arguments[1]):r.D.prototype.m.call(this,a);this.Xg()},Lx:function(a){r.D.prototype.Lx.call(this,a);this.Xg()},Mx:function(a){r.D.prototype.Mx.call(this,a);this.Xg()},Nx:function(a){r.D.prototype.Nx.call(this,a);this.Xg()},Px:function(a){r.D.prototype.Px.call(this,
a);this.Xg()},Qx:function(a){r.D.prototype.Qx.call(this,a);this.Xg()},dq:function(a){r.D.prototype.dq.call(this,a);this.Xg()},Dn:function(a){r.D.prototype.Dn.call(this,a);this.Xg()},pk:function(a,c){r.D.prototype.pk.call(this,a,c);this.Xg()},YK:function(a){r.D.prototype.YK.call(this,a);this.Xg()},K:function(a,c){2===arguments.length?r.D.prototype.K.call(this,a,c):r.D.prototype.K.call(this,a);this.Xg()},A:function(a){r.D.prototype.A.call(this,a);this.Xg()},Zi:function(a){this.lb?r.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
r.D.prototype.Zi.call(this,a)},QW:function(a){this.jc!=a&&(this.jc=a,this.Sb(this.za,this.Xc,this.va),this.Xa())},RW:function(a){this.kc!=a&&(this.kc=a,this.Sb(this.za,this.Xc,this.va),this.Xa())},Y7:function(){return this.jc},Z7:function(){return this.kc},Jf:null,eQ:function(a){this.lc!==a&&(this.lc=a,this.pt())},dQ:function(a){this.lc!==a&&(this.lc=a,this.Xa())},ql:function(){return this.lc},dd:null,LQ:function(a){r.zb.prototype.dd.call(this,a);this.pt()},mH:function(a){r.zb.prototype.dd.call(this,
a);this.Bm()},Faa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=r.Sl.e().sI(a);d?(d=d.ee[c])?this.aq(d.th()):r.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):r.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},V3:function(){return this.lb},mB:function(){if(!this.ie){this.ie=!0;for(var a=this.V;a&&a!=this.lb;)a.mB(),a=a.getParent()}},aa:function(){return this.Ea},Kb:null,Sv:null,wf:!1,Xu:!1,
Jo:!1,ug:null,fp:null,cA:null,ctor:null,Ih:function(a){r.zb.prototype.ctor.call(this);this.Zk=!1;this.ec=r.vd();this.Uh=r.vd();this.ga={src:r.Le,Gb:r.Ke};this.za=r.rect(0,0,0,0);this.Kb=new r.bc;this.Sv=r.X.createBuffer();this.pb=this.wf=!0;this.Jd=[];if(a)if("string"===typeof a)a=r.og.e().th(a),this.De(a);else if("object"===typeof a)if(a instanceof r.Hd)this.De(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new r.ac;c.Ff(a);c.Ce();this.Ma(c)}else a instanceof r.ac&&
this.Ma(a)},Hh:function(a){r.zb.prototype.ctor.call(this);this.Zk=!1;this.ec=r.vd();this.Uh=r.vd();this.ga={src:r.Le,Gb:r.Ke};this.za=r.rect(0,0,0,0);this.CG=!1;this.pb=!0;this.Jd=[];this.fp={x:0,y:0,width:0,height:0,tt:!1};this.cA=r.size(0,0);if(a)if("string"===typeof a)a=r.og.e().th(a),this.De(a);else if("object"===typeof a)if(a instanceof r.Hd)this.De(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new r.ac;c.Ff(a);c.Ce();this.Ma(c)}else a instanceof r.ac&&this.Ma(a)},
a6:function(){return this.Kb},Dl:null,TP:function(a,c){var d=this.ga;1===arguments.length?(d.src=a.src,d.Gb=a.Gb):(d.src=a,d.Gb=c)},SP:function(a,c){var d=this.ga;1===arguments.length?(d.src=a.src,d.Gb=a.Gb):(d.src=a,d.Gb=c);this.Jo=d&&(770==d.src&&1==d.Gb||1==d.src&&1==d.Gb)},r:null,wA:function(){if(0<arguments.length)return this.$i(arguments[0],arguments[1]);r.zb.prototype.r.call(this);this.Ia=this.Mh=!1;this.lc=!0;this.ga.src=r.Le;this.ga.Gb=r.Ke;this.ea(null);this.pb=!0;this.jc=this.kc=!1;this.K(0.5,
0.5);this.ec.F=0;this.ec.I=0;this.Fi=!1;var a={p:255,o:255,g:255,H:255};this.Kb.Ja.J=a;this.Kb.Ua.J=a;this.Kb.Sa.J=a;this.Kb.Na.J=a;this.wf=!0;this.Sb(r.fd(),!1,r.$l());return!0},vA:function(){if(0<arguments.length)return this.$i(arguments[0],arguments[1]);r.zb.prototype.r.call(this);this.Ia=this.Mh=!1;this.lc=!0;this.ga.src=r.Le;this.ga.Gb=r.Ke;this.ea(null);this.pb=!0;this.jc=this.kc=!1;this.K(0.5,0.5);this.ec.F=0;this.ec.I=0;this.Fi=!1;this.Sb(r.fd(),!1,r.$l());return!0},$i:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=r.ha.e().ay(a);if(!d)d=r.ha.e().qa(a);else if(!c){var e=d.c();c=r.rect(0,0,e.width,e.height)}return this.Ma(d,c)},Ma:null,vr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!r.zb.prototype.r.call(this))return!1;this.lb=null;this.Ia=this.Mh=!1;this.lc=!0;this.ga.src=r.Le;this.ga.Gb=r.Ke;this.jc=this.kc=!1;this.K(0.5,0.5);this.ec.F=0;this.ec.I=0;this.Fi=!1;var e=new r.Ob(255,255,255,255),f=this.Kb;f.Ja.J=e;f.Ua.J=e;f.Sa.J=e;f.Na.J=e;
this.pb=e=a.Kg();if(!e)return this.Xc=d||!1,c&&(e=this.za,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Xf(this.jw,this),!0;c||(e=a.c(),c=r.rect(0,0,e.width,e.height));this.ea(a);this.Sb(c,d,c.cb);this.He(null);return this.wf=!0},ur:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!r.zb.prototype.r.call(this))return!1;this.lb=null;this.Ia=this.Mh=!1;this.lc=!0;this.ga.src=r.Le;this.ga.Gb=r.Ke;this.jc=this.kc=!1;this.K(0.5,0.5);this.ec.F=
0;this.ec.I=0;this.Fi=!1;var e=a.Kg();this.pb=e;if(!e)return this.Xc=d||!1,c&&(this.za.x=c.x,this.za.y=c.y,this.za.width=c.width,this.za.height=c.height),a.Xf(this.jw,this),!0;c||(e=a.c(),c=r.rect(0,0,e.width,e.height));this.ug=a;this.ea(a);this.Sb(c,d,c.cb);this.He(null);return!0},jw:null,BQ:function(a){if(!this.pb){this.pb=!0;var c=this.za;if(!c)c=a.c(),c=r.rect(0,0,c.width,c.height);else if(r.Lr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ea(a);this.Sb(c,this.Xc,c.cb);this.He(null);
this.wf=!0;this.ae()}},AQ:function(a){if(!this.pb){this.pb=!0;var c=this.za;if(!c)c=a.c(),c=r.rect(0,0,c.width,c.height);else if(r.Lr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ug=a;this.ea(a);this.Sb(c,this.Xc,c.cb);this.He(null);this.ae()}},Sb:null,UG:function(a,c,d){this.Xc=c||!1;d=d||a.cb;this.W(d);this.YD(a);this.TG(a);a=this.Uh;this.jc&&(a.F=-a.F);this.kc&&(a.I=-a.I);var e=this.za;this.ec.F=a.F+(this.va.Ga-e.width)/2;this.ec.I=a.I+(this.va.ta-e.height)/2;if(this.lb)this.Ia=!0;else{a=
0+this.ec.F;c=0+this.ec.I;d=a+e.width;var e=c+e.height,f=this.Kb;f.Ja.s={x:a,y:c,z:0};f.Ua.s={x:d,y:c,z:0};f.Sa.s={x:a,y:e,z:0};f.Na.s={x:d,y:e,z:0};this.wf=!0}},nB:function(a,c,d){this.Xc=c||!1;d=d||a.cb;this.W(d);this.YD(a);c=this.fp;d=r.Fd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.tt=!(0===c.width||0===c.height);a=this.Uh;this.jc&&(a.F=-a.F);this.kc&&(a.I=-a.I);this.ec.F=a.F+(this.va.Ga-this.za.width)/2;this.ec.I=a.I+(this.va.ta-this.za.height)/2;this.lb&&(this.Ia=!0)},
ig:null,TQ:function(){if(this.Ia){var a=this.Kb,c=this.V;if(!this.ja||c&&c!=this.lb&&c.Zk)a.Ua.s={x:0,y:0,z:0},a.Sa.s={x:0,y:0,z:0},a.Na.s={x:0,y:0,z:0},a.Ja.s={x:0,y:0,z:0},this.Zk=!0;else{this.Zk=!1;var d=this.Nm=c&&c!=this.lb?r.Rl(this.cg(),c.Nm):this.cg(),e=this.za.cb,c=this.ec.F,f=this.ec.I,g=c+e.width,e=f+e.height,h=d.Za,k=d.$a,l=d.H,m=d.g,n=d.La,d=-d.Ca,p=this.vw;a.Ja.s={x:r.mg(c*l-f*d+h),y:r.mg(c*m+f*n+k),z:p};a.Ua.s={x:r.mg(g*l-f*d+h),y:r.mg(g*m+f*n+k),z:p};a.Sa.s={x:r.mg(c*l-e*d+h),y:r.mg(c*
m+e*n+k),z:p};a.Na.s={x:r.mg(g*l-e*d+h),y:r.mg(g*m+e*n+k),z:p}}this.Ra.gy(a,this.Wc);this.Mh=!1;this.Og(!1)}this.Fi&&this.qg(this.t,r.D.Mf.ig);r.yk&&(a=[r.a(this.Kb.Ja.s.x,this.Kb.Ja.s.y),r.a(this.Kb.Ua.s.x,this.Kb.Ua.s.y),r.a(this.Kb.Na.s.x,this.Kb.Na.s.y),r.a(this.Kb.Sa.s.x,this.Kb.Sa.s.y)],r.$f.me(a,4,!0))},SQ:function(){if(this.Ia){var a=this.V;!this.ja||a&&a!=this.lb&&a.Zk?this.Zk=!0:(this.Zk=!1,this.Nm=a&&a!=this.lb?r.Rl(this.cg(),a.Nm):this.cg());this.Ia=this.Mh=!1}this.Fi&&this.qg(this.t,
r.D.Mf.ig)},f:null,vz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.fb);null==d&&(d=a.nd);if(this.lb){if(!(a instanceof r.w)){r.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.aa().Xh!==this.Ra.aa().Xh&&r.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.lb.appendChild(a);this.ie||this.mB()}r.D.prototype.f.call(this,
a,c,d);this.Fi=!0},uz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.fb);null==d&&(d=a.nd);r.D.prototype.f.call(this,a,c,d);this.Fi=!0},pt:function(){var a=this.Ic,c=this.Yb,a={p:a.p,o:a.o,g:a.g,H:c};this.lc&&(a.p*=c/255,a.o*=c/255,a.g*=c/255);c=this.Kb;c.Ja.J=a;c.Ua.J=a;c.Sa.J=a;c.Na.J=a;this.lb&&(this.Wc!=r.Yy?this.Ra.gy(c,this.Wc):this.Ia=!0);this.wf=!0},pa:null,lB:function(a){r.zb.prototype.pa.call(this,a);this.pt()},Qr:function(a){r.zb.prototype.pa.call(this,
a);this.Bm()},n:null,iB:function(a){r.zb.prototype.n.call(this,a);this.pt()},Or:function(a){var c=this.zd();if(c.p!==a.p||c.o!==a.o||c.g!==a.g)r.zb.prototype.n.call(this,a),this.Uu(),this.Bm()},cd:null,KQ:function(a){r.zb.prototype.cd.call(this,a);this.pt()},FB:function(a){var c=this.zd();r.zb.prototype.cd.call(this,a);a=this.Ic;if(c.p!==a.p||c.o!==a.o||c.g!==a.g)this.Uu(),this.Bm()},aq:null,ZP:function(a){this.Xa();var c=a.Jb;this.Uh.F=c.x;this.Uh.I=c.y;c=a.aa();a.pb||(this.pb=!1,a.Xf(function(a){this.pb=
!0;var c=a.aa();c!=this.Ea&&this.ea(c);this.Sb(a.ve(),a.ld,a.kd);this.ae()},this));c!=this.Ea&&this.ea(c);this.Xc=a.ld;this.Sb(a.ve(),this.Xc,a.kd)},YP:function(a){this.Xa();var c=a.Jb;this.Uh.F=c.x;this.Uh.I=c.y;this.Xc=a.ld;var c=a.aa(),d=a.pb;d||(this.pb=!1,a.Xf(function(a){this.pb=!0;var c=a.aa();c!=this.Ea&&this.ea(c);this.Sb(a.ve(),a.ld,a.kd);this.ae()},this));c!=this.Ea&&this.ea(c);this.Xc&&(this.ug=c);this.Sb(a.ve(),this.Xc,a.kd);this.Xu=!1;d&&(a=this.zd(),255===a.p&&255===a.o&&255===a.g||
this.Uu())},kJ:null,$O:function(a){return r.$J(a.ve(),this.za)&&a.aa().getName()==this.Ea.getName()&&r.QJ(a.Jb,this.Uh)},ZO:function(a){return a.aa()!=this.Ea?!1:r.$J(a.ve(),this.za)},hS:function(){return r.Hd.hb(this.Ea,r.Wn(this.za),this.Xc,r.VM(this.Uh),r.Xy(this.va))},He:null,RP:function(a){if(this.lb=a)this.Nm={H:1,g:0,Ca:0,La:1,Za:0,$a:0},this.fq(this.lb.Ra);else{this.Wc=r.Yy;this.fq(null);this.Mh=!1;this.Og(!1);a=this.ec.F;var c=this.ec.I,d=a+this.za.width,e=c+this.za.height,f=this.Kb;f.Ja.s=
{x:a,y:c,z:0};f.Ua.s={x:d,y:c,z:0};f.Sa.s={x:a,y:e,z:0};f.Na.s={x:d,y:e,z:0};this.wf=!0}},QP:function(a){(this.lb=a)?(this.Nm={H:1,g:0,Ca:0,La:1,Za:0,$a:0},this.fq(this.lb.Ra)):(this.Wc=r.Yy,this.fq(null),this.Mh=!1,this.Og(!1))},ea:null,Sr:function(a){if(a&&!(a instanceof r.ac))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.lb&&this.lb.aa()!=a?r.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Pg(r.Fh.e().ii(r.Wy)):
this.Pg(r.Fh.e().ii(r.dN)),this.lb||this.Ea==a||(this.Ea=a,this.Om()))},Rr:function(a){if(a&&!(a instanceof r.ac))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ea!=a&&(a&&a.Jc instanceof HTMLImageElement&&(this.ug=a),this.Ea=a)},Om:function(){this.lb?r.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ea&&this.Ea.Js()?(this.ga.src=r.Le,this.ga.Gb=r.Ke,this.Jf(!0)):(this.ga.src=770,
this.ga.Gb=771,this.Jf(!1))},Uu:function(){var a,c=this.Ea,d=this.fp;c&&d.tt&&this.ug&&(a=c.Jc)&&(c=r.ha.e().EI(this.ug.Jc))&&(this.Xu=!0,a instanceof HTMLCanvasElement&&!this.Xc&&!this.CG?r.sC(a,c,this.Ic,d,a):(a=r.sC(a,c,this.Ic,d),c=new r.ac,c.Ff(a),c.Ce(),this.ea(c)))},TG:function(a){a=r.Wn(a);var c=this.lb?this.Ra.aa():this.Ea;if(c){var d=c.Dp(),e=c.Cp(),f,g=this.Kb;this.Xc?(r.Xt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/
d,f=a.y/e,a=(a.y+a.width)/e),this.jc&&(e=f,f=a,a=e),this.kc&&(e=c,c=d,d=e),g.Ja.B.Pa=c,g.Ja.B.la=f,g.Ua.B.Pa=c,g.Ua.B.la=a,g.Sa.B.Pa=d,g.Sa.B.la=f,g.Na.B.Pa=d,g.Na.B.la=a):(r.Xt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.jc&&(e=c,c=d,d=e),this.kc&&(e=f,f=a,a=e),g.Ja.B.Pa=c,g.Ja.B.la=a,g.Ua.B.Pa=d,g.Ua.B.la=a,g.Sa.B.Pa=c,g.Sa.B.la=f,g.Na.B.Pa=d,g.Na.B.la=f);this.wf=!0}},Va:null,tg:function(){if(this.pb){var a=
r.X,c=this.Ea;c?c.rc&&(this.Kc.of(),this.Kc.Qg(),r.ek(this.ga.src,this.ga.Gb),r.m7(0,c),r.xe(r.Eu),a.bindBuffer(a.ARRAY_BUFFER,this.Sv),this.wf&&(a.bufferData(a.ARRAY_BUFFER,this.Kb.VB,a.DYNAMIC_DRAW),this.wf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Kc.of(),this.Kc.Qg(),r.ek(this.ga.src,this.ga.Gb),r.Hg(null),r.xe(r.Yg|r.xN),a.bindBuffer(a.ARRAY_BUFFER,this.Sv),
this.wf&&(r.X.bufferData(r.X.ARRAY_BUFFER,this.Kb.VB,r.X.STATIC_DRAW),this.wf=!1),a.vertexAttribPointer(r.Oe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(r.Eq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));r.ai++;0!==r.yk&&(1===r.yk?(a=this.Kb,a=[r.a(a.Sa.s.x,a.Sa.s.y),r.a(a.Ja.s.x,a.Ja.s.y),r.a(a.Ua.s.x,a.Ua.s.y),r.a(a.Na.s.x,a.Na.s.y)],r.$f.me(a,4,!0)):2===r.yk&&(a=this.BC().cb,c=this.ec,a=[r.a(c.x,c.y),r.a(c.x+a.width,c.y),r.a(c.x+a.width,c.y+a.height),r.a(c.x,c.y+a.height)],r.$f.me(a,
4,!0)))}},km:function(a){if(this.pb){a=a||r.X;this.Jo&&(a.globalCompositeOperation="lighter");var c=r.sa.e().wa,d=r.sa.e().Ba;a.globalAlpha=this.Yb/255;var e=this.za,f=this.va,g=this.ec,h=this.cA,k=0|g.F,l=-g.I-e.height,m=this.fp;h.width=e.width*c;h.height=e.height*d;if(this.jc||this.kc)a.save(),this.jc&&(k=-g.F-e.width,a.scale(-1,1)),this.kc&&(l=g.I,a.scale(1,-1));k*=c;l*=d;this.Ea&&m.tt?(f=this.Ea.Jc,this.Xu?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,
m.height,k,l,h.width,h.height)):0!==f.Ga&&(h=this.zd(),a.fillStyle="rgba("+h.p+","+h.o+","+h.g+",1)",a.fillRect(k,l,f.Ga*c,f.ta*d));1===r.yk?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[r.a(k,l),r.a(k+e.width,l),r.a(k+e.width,l-e.height),r.a(k,l-e.height)],r.$f.me(k,4,!0)):2===r.yk&&(a.strokeStyle="rgba(0,255,0,1)",c=this.za.cb,l=-l,k=[r.a(k,l),r.a(k+c.width,l),r.a(k+c.width,l-c.height),r.a(k,l-c.height)],r.$f.me(k,4,!0));(this.jc||this.kc)&&a.restore();r.ai++}}});
r.Fa.Pc?(b=r.w.prototype,b.rB=r.w.prototype.wQ,b.Jf=r.w.prototype.eQ,b.dd=r.w.prototype.LQ,b.ctor=r.w.prototype.Ih,b.Dl=r.w.prototype.TP,b.r=r.w.prototype.wA,b.Ma=r.w.prototype.vr,b.jw=r.w.prototype.BQ,b.Sb=r.w.prototype.UG,b.ig=r.w.prototype.TQ,b.f=r.w.prototype.vz,b.pa=r.w.prototype.lB,b.n=r.w.prototype.iB,b.cd=r.w.prototype.KQ,b.aq=r.w.prototype.ZP,b.kJ=r.w.prototype.$O,b.He=r.w.prototype.RP,b.ea=r.w.prototype.Sr,b.Va=r.w.prototype.tg):(b=r.w.prototype,b.rB=r.w.prototype.vQ,b.Jf=r.w.prototype.dQ,
b.dd=r.w.prototype.mH,b.ctor=r.w.prototype.Hh,b.Dl=r.w.prototype.SP,b.r=r.w.prototype.vA,b.Ma=r.w.prototype.ur,b.jw=r.w.prototype.AQ,b.Sb=r.w.prototype.nB,b.ig=r.w.prototype.SQ,b.f=r.w.prototype.uz,b.pa=r.w.prototype.Qr,b.n=r.w.prototype.Or,b.cd=r.w.prototype.FB,b.aq=r.w.prototype.YP,b.kJ=r.w.prototype.ZO,b.He=r.w.prototype.QP,b.ea=r.w.prototype.Rr,b.Va=r.w.prototype.km);
r.w.hb=function(a,c){var d=arguments.length,e=new r.w;switch(d){case 1:return e&&e.Ma(a)?e:null;case 2:return e&&e.Ma(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};r.w.create=function(a,c){var d=arguments.length,e=new r.w;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
r.w.TH=function(a){var c=null;if("string"==typeof a){if(c=r.og.e().th(a),!c)return r.log("Invalid spriteFrameName: "+a),null}else return r.log("Invalid argument. Expecting string."),null;return(a=new r.w)&&a.De(c)?a:null};r.w.SH=function(a){var c=new r.w;return c&&c.De(a)?c:null};r.nj=r.Da.extend({Vr:null,ce:0,ns:null,ctor:function(){this.ce=0},G:function(){var a=new r.nj;a.De(this.Vr.G(),this.ce,this.ns);return a},Ew:function(){return r.G(this)},copy:function(){var a=new r.nj;a.De(this.Vr.G(),this.ce,this.ns);return a},De:function(a,c,d){this.Vr=a;this.ce=c;this.ns=d;return!0},th:function(){return this.Vr},Kf:function(a){this.Vr=a},w4:function(){return this.ce},Eaa:function(a){this.ce=a},X6:function(){return this.ns},ica:function(a){this.ns=a}});
r.mj=r.Da.extend({ee:null,Nj:0,ym:!1,ya:0,ce:0,Lm:0,ctor:function(){this.ee=[]},O4:function(){return this.ee},FK:function(a){this.ee=a},TB:function(a){var c=new r.nj;c.De(a,1,null);this.ee.push(c);this.Lm++},G1:function(a){a=r.ha.e().qa(a);var c=r.fd();c.cb=a.c();a=r.Hd.hb(a,c);this.TB(a)},H1:function(a,c){var d=r.Hd.hb(a,c);this.TB(d)},Ks:function(a,c,d){r.xt(a,r.nj);this.ce=c;this.Nj=d;this.FK([]);for(c=0;c<a.length;c++)d=a[c],this.ee.push(d),this.Lm+=d.ce;return!0},G:function(){var a=new r.mj;
a.Ks(this.YF(),this.ce,this.Nj);a.Kx(this.ym);return a},Ew:function(){var a=new r.mj;a.Ks(this.YF(),this.ce,this.Nj);a.Kx(this.ym);return a},YF:function(){for(var a=[],c=0;c<this.ee.length;c++)a.push(this.ee[c].G());return a},copy:function(){return this.Ew(null)},e5:function(){return this.Nj},aba:function(a){this.Nj=a},Kx:function(a){this.ym=a},j6:function(){return this.ym},Af:function(){return this.Lm*this.ce},v4:function(){return this.ce},Daa:function(a){this.ce=a},P6:function(){return this.Lm},
aJ:function(a,c){r.xt(a,r.Hd);this.Nj=1;this.ce=c||0;this.FK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new r.nj;f.De(e,1,null);this.ee.push(f);this.Lm++}return!0},kK:function(){},xD:function(){}});r.mj.create=function(a,c,d){var e=arguments.length,f=new r.mj;0==e?f.aJ(null,0):2==e?f.aJ(a,c||0):3==e&&f.Ks(a,c,d);return f};r.mj.RH=function(a,c,d){var e=new r.mj;e.Ks(a,c,d);return e};r.Sl=r.Da.extend({yH:function(a,c){this.em[c]=a},I$:function(a){a&&this.em.hasOwnProperty(a)&&delete this.em[a]},sI:function(a){return this.em.hasOwnProperty(a)?this.em[a]:null},NN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=r.og.e(),h=r.Gd.e(),k,l=0;l<f.length;l++)k=h.rI(f[l],c),g.FH(k);switch(e){case 1:this.tP(d);break;case 2:this.uP(d);break;default:r.log("cc.AnimationCache. Invalid animation format")}}else r.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
w1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=r.Gd.e(),d=c.re(a);(c=c.Gw(d))?this.NN(c,a):r.log("cc.AnimationCache.addAnimations(): File could not be found")},tP:function(a){var c=r.og.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.th(f[h]);if(k){var l=new r.nj;l.De(k,1,null);g.push(l)}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?r.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&r.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=r.mj.RH(g,e,1),r.Sl.e().yH(g,d))}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
uP:function(a){var c=r.og.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?r.Zl:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,p=c.th(n);if(p){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new r.nj;q.De(p,n,m);k.push(q)}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new r.mj;h.Ks(k,e,f);h.Kx(g);r.Sl.e().yH(h,d)}else r.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.em={};return!0},em:null});r.Sl.uV=function(){r.zn&&(r.zn.em=null,r.zn=null)};r.Sl.e=function(){null===r.zn&&(r.zn=new r.Sl,r.zn.r());return r.zn};r.zn=null;r.Hd=r.Da.extend({Jb:null,kd:null,Ve:null,ld:!1,za:null,Qf:null,tf:null,Ea:null,ep:"",pb:!1,gv:null,ctor:function(){this.Jb=r.vd();this.Qf=r.vd();this.kd=r.Dm();this.ld=!1;this.tf=r.Dm();this.ep="";this.Ea=null;this.pb=!1},uL:function(){return this.pb},Xf:function(a,c){null==this.gv&&(this.gv=[]);this.gv.push({dk:a,$h:c})},ae:function(){var a=this.gv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.dk.call(e.$h,this)}a.length=0}},dT:function(){var a=this.Ve;return r.rect(a.x,a.y,a.width,a.height)},
Fba:function(a){this.Ve||(this.Ve=r.rect(0,0,0,0));this.Ve.x=a.x;this.Ve.y=a.y;this.Ve.width=a.width;this.Ve.height=a.height;this.za=r.vq(a)},p8:function(){return this.ld},Nba:function(a){this.ld=a},ve:function(){var a=this.za;return r.rect(a.x,a.y,a.width,a.height)},OK:function(a){this.za||(this.za=r.rect(0,0,0,0));this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height;this.Ve=r.Wn(this.za)},E5:function(){return this.Qf},oba:function(a){this.Qf.F=a.x;this.Qf.I=a.y;r.Hu(this.Qf,
this.Jb)},L5:function(){return this.tf},rba:function(a){this.tf.Ga=a.width;this.tf.ta=a.height},YS:function(){return this.kd},qba:function(a){this.kd.Ga=a.width;this.kd.ta=a.height},aa:function(){if(this.Ea)return this.Ea;if(""!==this.ep){var a=r.ha.e().qa(this.ep);a&&(this.pb=a.Kg());return a}return null},ea:function(a){if(this.Ea!=a){var c=a.Kg();this.pb=c;this.Ea=a;c||a.Xf(function(a){this.pb=!0;if(this.ld&&r.Cd===r.kg){var c=a.Jc,c=r.UH(c,this.ve()),f=new r.ac;f.Ff(c);f.Ce();this.ea(f);c=this.ve();
this.OK(r.rect(0,0,c.width,c.height))}c=this.za;0===c.width&&0===c.height&&(a=a.c(),this.za.width=a.width,this.za.height=a.height,this.Ve=r.Wn(this.za),this.tf.Ga=this.Ve.width,this.tf.ta=this.Ve.height,this.kd.Ga=a.width,this.kd.ta=a.height);this.ae()},this)}},D5:function(){return this.Jb},nba:function(a){this.Jb.F=a.x;this.Jb.I=a.y},G:function(){var a=new r.Hd;a.$w(this.ep,this.Ve,this.ld,this.Qf,this.tf);a.ea(this.Ea);return a},Ew:function(){var a=new r.Hd;a.$w(this.ep,this.Ve,this.ld,this.Qf,
this.tf);a.ea(this.Ea);return a},copy:function(){return this.Ew()},Ma:function(a,c,d,e,f){2===arguments.length&&(c=r.Wn(c));e=e||r.a(0,0);f=f||c.cb;this.ea(a);this.Ve=c;this.za=r.vq(c);this.Qf.F=e.x;this.Qf.I=e.y;r.Hu(e,this.Jb);this.tf.Ga=f.width;this.tf.ta=f.height;r.nz(f,this.kd);this.ld=d||!1;return!0},$w:function(a,c,d,e,f){2===arguments.length&&(c=r.Wn(c));e=e||r.a(0,0);f=f||c.cb;this.Ea=null;this.ep=a;this.Ve=c;this.za=r.vq(c);this.ld=d||!1;this.Qf.F=e.x;this.Qf.I=e.y;r.Hu(e,this.Jb);this.tf.Ga=
f.width;this.tf.ta=f.height;r.nz(f,this.kd);return!0}});r.Hd.create=function(a,c,d,e,f){var g=new r.Hd;switch(arguments.length){case 2:g.$w(a,c);break;case 5:g.$w(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};r.Hd.hb=function(a,c,d,e,f){var g=new r.Hd;switch(arguments.length){case 2:g.Ma(a,c);break;case 5:g.Ma(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
r.Hd.Q0=function(a,c,d,e,f){var g=new r.Hd;g.Ea=a;g.Ve=c;g.za=r.vq(c);g.Qf.F=e.x;g.Qf.I=e.y;r.Hu(g.Qf,g.Jb);g.tf.Ga=f.width;g.tf.ta=f.height;r.nz(g.tf,g.kd);g.ld=d;return g};r.og=r.Da.extend({Xe:null,$k:null,Ar:null,ctor:function(){this.Xe={};this.$k={};this.Ar=[]},xz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)r.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.Xe[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),p=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||r.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=r.Hd.hb(c,r.rect(h,k,l,m),!1,r.a(n,p),r.size(q,d))}else if(1==f||2==f)h=r.lF(d.frame),k=!1,2==f&&(k=d.rotated),l=r.kF(d.offset),d=r.$y(d.sourceSize),h=r.Hd.hb(c,h,k,l,d);else if(3==f){var h=r.$y(d.spriteSize),k=r.kF(d.spriteOffset),l=r.$y(d.spriteSourceSize),m=r.lF(d.textureRect),n=d.textureRotated,
p=d.aliases,q=g.toString(),u;for(u in p)this.$k.hasOwnProperty(p[u])&&r.log("cocos2d: WARNING: an alias with name "+u+" already exists"),this.$k[p[u]]=q;d.hasOwnProperty("spriteSize")&&(m=r.rect(m.x,m.y,h.width,h.height));h=r.Hd.hb(c,m,n,k,l)}else var w=d.filename,k=d.frame,h=d.sourceSize,k=r.rect(k.x,k.y,k.IL,k.Be),d=d.rotated,l=r.a(0,0),h=r.size(h.IL,h.Be),h=r.Hd.hb(c,k,d,l,h);r.Cd===r.kg&&h.ld&&h.aa().Kg()&&(d=h.aa().Jc,d=r.UH(d,h.dT()),k=new r.ac,k.Ff(d),k.Ce(),h.ea(k),d=h.za,h.OK(r.rect(0,0,
d.width,d.height)));this.Xe[null!=w?w:g]=h}}},FH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=r.Gd.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.re(a),e=d.Gw(e)):e=JSON.parse(d.CI(a));switch(arguments.length){case 1:if(!r.ny(this.Ar,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.rI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=r.ha.e().qa(f))?this.xz(e,d):r.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof r.ac)this.xz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=r.ha.e().qa(c))?this.xz(e,d):r.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},TB:function(a,c){this.Xe[c]=a},R$:function(){this.Xe=[];this.$k=[];this.Ar={}},Q$:function(a){a&&(this.$k.hasOwnProperty(a)&&delete this.$k[a],this.Xe.hasOwnProperty(a)&&delete this.Xe[a],this.Ar={})},S$:function(a){var c=
r.Gd.e(),d=c.re(a),c=c.Gw(d);this.EP(c);r.ny(this.Ar,a)&&r.Vd(a)},EP:function(a){a=a.frames;for(var c in a)this.Xe.hasOwnProperty(c)&&delete this.Xe[c]},T$:function(a){for(var c in this.Xe){var d=this.Xe[c];d&&d.aa()==a&&delete this.Xe[c]}},th:function(a){var c;this.Xe.hasOwnProperty(a)&&(c=this.Xe[a]);if(!c){var d;this.$k.hasOwnProperty(a)&&(d=this.$k[a]);d&&(this.Xe.hasOwnProperty(d.toString())&&(c=this.Xe[d.toString()]),c||r.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
r.zx=null;r.og.e=function(){r.zx||(r.zx=new r.og);return r.zx};r.og.vV=function(){r.zx=null};r.tq=29;
r.tb=r.D.extend({Ra:null,ga:null,td:null,I1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof r.w))return r.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Ge(c);var e=0,f=this.td;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Wc>=c&&++e}this.td=r.Tl(f,a,e);r.D.prototype.f.call(this,a,c,d);this.gK(!1);return this},DI:function(){return this.Ra},fq:function(a){a!=this.Ra&&
(this.Ra=a)},z4:function(){return this.td},$i:function(a,c){var d=r.ha.e().ay(a);d||(d=r.ha.e().qa(a));return this.Ma(d,c)},Bm:function(){this.UF=!0},r:function(a,c){var d=r.ha.e().ay(a);d||(d=r.ha.e().qa(a));return this.Ma(d,c)},Vw:function(){var a=this.Ra.gd,c=Math.floor(4*(a+1)/3);r.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ra.aW(c)||r.log("cocos2d: WARNING: Not enough memory to resize the atlas")},K$:function(a,c){this.removeChild(this.t[a],c)},
ZJ:function(a,c){var d=a.t;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.fb&&(c=this.ZJ(f,c))}!a==this&&(a.Ge(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.fb&&(c=this.ZJ(f,c));return c},LC:function(a){var c=a.t;return c&&0!=c.length?this.LC(c[c.length-1]):a.Wc},xU:function(a){var c=a.t;return c&&0!=c.length?this.xU(c[c.length-1]):a.Wc},lR:function(a,c){var d=a.getParent().t,e=r.py(d,a),f=a.getParent()==this,g=null;0<e&&e<r.uN&&(g=d[e-1]);if(f)return 0==e?0:this.LC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Wc:d.Wc+1;if(0>g.fb&&0>c||0<=g.fb&&0<=c)return this.LC(g)+1;d=a.getParent();return d.Wc+1},gK:function(a){this.ie=a},Dl:function(a,c){this.ga=1==arguments.length?a:{src:a,Gb:c}},zs:function(){return this.ga},Zs:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.t.indexOf(a)?r.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.fb&&(r.D.prototype.Zs.call(this,a,c),this.Xa())},removeChild:function(a,
c){null!=a&&(-1===this.t.indexOf(a)?r.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.wn(a),r.D.prototype.removeChild.call(this,a,c)))},jP:null,Jm:null,s1:!1,ug:null,ctor:null,Hh:function(a){r.D.prototype.ctor.call(this);a&&this.r(a,r.tq)},Ih:function(a){r.D.prototype.ctor.call(this);this.jP=new r.vh;a&&this.r(a,r.tq)},EL:null,PQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof r.w?(a.He(this),a.Ge(c),
a.Og(!0),a.ig()):r.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},QQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof r.w){for(var d=this.Ra.gd;c>=d||d==this.Ra.Ta;)this.Vw();a.He(this);a.Ge(c);a.Og(!0);a.ig()}else r.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},fw:function(a,c){var d=this.td,e=this.Ra,f=e.Te,g=d[a],
h=r.kz(f[a]);d[c].Ge(a);d[a]=d[c];e.gy(f[c],a);d[c]=g;e.gy(h,c)},bJ:null,XO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof r.w?(a.He(this),a.Ge(c),a.Og(!0),a.ig(),this.t=r.Tl(this.t,a,c)):r.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},YO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof r.w){for(var d=this.Ra;c>=d.gd||
d.gd===d.Ta;)this.Vw();a.He(this);a.Ge(c);d.UC(a.Kb,c);a.Og(!0);a.ig()}else r.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},lH:function(a,c){var d=0,e=a.t;e&&(d=e.length);var f=0;if(0===d)f=a.Wc,a.Ge(c),a.cq(0),f!=c&&this.fw(f,c),c++;else{f=!0;0<=e[0].fb&&(f=a.Wc,a.Ge(c),a.cq(0),f!=c&&this.fw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.fb&&(f=a.Wc,a.Ge(c),a.cq(0),f!=c&&this.fw(f,c),c++,f=!1);c=this.lH(g,c)}f&&(f=a.Wc,a.Ge(c),
a.cq(0),f!=c&&this.fw(f,c),c++)}return c},Om:function(){this.Ra.aa().Js()||(this.ga.src=770,this.ga.Gb=771)},Ma:null,ur:function(a){this.t=[];this.td=[];this.ga=new r.Vl(r.Le,r.Ke);this.Jm=this.ug=a;return!0},vr:function(a,c){this.t=[];this.td=[];this.ga=new r.Vl(r.Le,r.Ke);c=c||r.tq;this.Ra=new r.bo;this.Ra.Ma(a,c);this.Om();this.Pg(r.Fh.e().ii(r.Wy));return!0},bU:function(a,c){a.He(this);a.Ge(c);a.Og(!0);var d=this.Ra;d.Ta>=d.gd&&this.Vw();d.UC(a.Kb,c);this.td=r.Tl(this.td,a,c);var d=c+1,e=this.td;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Ge(e[d].Wc+1);if((e=a.t)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.lR(e[d],e[d].fb);this.bU(e[d],f)}},appendChild:null,UN:function(a){this.ie=!0;a.He(this);a.Og(!0);this.td.push(a);a.Ge(this.td.length-1);a=a.t;for(var c=0;c<a.length;c++)this.appendChild(a[c])},VN:function(a){this.ie=!0;a.He(this);a.Og(!0);this.td.push(a);var c=this.td.length-1;a.Ge(c);var d=this.Ra;d.Ta==d.gd&&this.Vw();d.UC(a.Kb,c);a=a.t;for(c=0;c<a.length;c++)this.appendChild(a[c])},
wn:null,FP:function(a){a.He(null);var c=this.td,d=r.py(c,a);if(-1!=d){r.oq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ge(f.Wc-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.wn(a[c])},GP:function(a){this.Ra.VV(a.Wc);a.He(null);var c=this.td,d=r.py(c,a);if(-1!=d){r.oq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Ge(f.Wc-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.wn(a[c])},aa:null,qA:function(){return this.Jm},rA:function(){return this.Ra.aa()},ea:null,Rr:function(a){this.Jm=
a;for(var c=this.t,d=0;d<c.length;d++)c[d].ea(a)},Sr:function(a){this.Ra.ea(a);this.Om()},ra:null,Pm:function(a){var c=a||r.X;if(this.ja){c.save();this.transform(a);var d=this.t;if(d)for(this.Sd(),a=0;a<d.length;a++)d[a]&&d[a].ra(c);c.restore()}},Qm:function(a){a=a||r.X;if(this.ja){r.Rp();var c=this.Mk;c&&c.Np()&&(c.YB(),this.ey());this.Sd();this.transform(a);this.Va(a);c&&c.Np()&&c.UB(this);r.Qp();this.cq(0)}},f:null,uz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof r.w?(c=null==c?a.fb:c,d=null==d?a.nd:d,r.D.prototype.f.call(this,a,c,d),this.appendChild(a),this.Xa()):r.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},vz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof r.w?a.aa()!=this.Ra.aa()?r.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.fb:c,d=null==d?a.nd:d,r.D.prototype.f.call(this,a,c,d),this.appendChild(a),
this.Xa()):r.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},oc:null,BP:function(a){var c=this.td;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].He(null);r.D.prototype.oc.call(this,a);this.td=[]},CP:function(a){var c=this.td;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].He(null);r.D.prototype.oc.call(this,a);this.td=[];this.Ra.PV()},Sd:null,tQ:function(){if(this.ie){var a,c=0,d=this.t,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.fb<f.fb||g.fb==f.fb&&g.Rf<f.Rf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.qg(d,r.D.Mf.Sd);this.ie=!1}},uQ:function(){if(this.ie){var a=this.t,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.fb<f.fb||g.fb==f.fb&&g.Rf<f.Rf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.qg(a,r.D.Mf.Sd),c=d=0;c<a.length;c++)d=this.lH(a[c],d);this.ie=!1}},Va:null,tg:function(){0!==this.Ra.Ta&&(this.Kc.of(),this.Kc.Qg(),this.qg(this.t,r.D.Mf.ig),r.ek(this.ga.src,
this.ga.Gb),this.Ra.mS())}});
r.Fa.Pc?(b=r.tb.prototype,b.ctor=r.tb.prototype.Ih,b.EL=r.tb.prototype.QQ,b.bJ=r.tb.prototype.YO,b.Ma=r.tb.prototype.vr,b.appendChild=r.tb.prototype.VN,b.wn=r.tb.prototype.GP,b.aa=r.tb.prototype.rA,b.ea=r.tb.prototype.Sr,b.ra=r.tb.prototype.Qm,b.f=r.tb.prototype.vz,b.oc=r.tb.prototype.CP,b.Sd=r.tb.prototype.uQ,b.Va=r.tb.prototype.tg):(b=r.tb.prototype,b.ctor=r.tb.prototype.Hh,b.EL=r.tb.prototype.PQ,b.bJ=r.tb.prototype.XO,b.Ma=r.tb.prototype.ur,b.appendChild=r.tb.prototype.UN,b.wn=r.tb.prototype.FP,
b.aa=r.tb.prototype.qA,b.ea=r.tb.prototype.Rr,b.ra=r.tb.prototype.Pm,b.oc=r.tb.prototype.BP,b.f=r.tb.prototype.uz,b.Sd=r.tb.prototype.tQ,b.Va=r.D.prototype.Va);r.tb.create=function(a,c){c=c||r.tq;var d=new r.tb;d.r(a,c);return d};r.tb.hb=function(a,c){c=c||r.tq;var d=new r.tb;d.Ma(a,c);return d};r.jZ={gZ:0,iZ:1,hZ:2,fZ:3,eZ:4};
r.Me=r.Da.extend({Cr:0,xG:0,as:!1,$r:!1,bw:!1,cw:!1,dw:!1,gP:0,Ev:0,Iq:"",Zj:null,ctor:function(){this.xG=this.Cr=0;this.dw=this.cw=this.bw=this.$r=this.as=!1;this.Ev=this.gP=0;this.Iq="";this.Zj={}},k5:function(){return this.Cr},j5:function(){return this.xG},l5:function(){return this.Ev},Nca:function(){return this.$r},Oca:function(){return this.as},Lca:function(){return this.bw},Mca:function(){return this.cw},Pca:function(){return this.dw},qp:function(a){return-1<this.Iq.indexOf(a)},r:function(){var a=
this.Zj;a["cocos2d.x.version"]=r.Dt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=r.PE;return!0},c4:function(a,c){var d=this.Zj;return d.hasOwnProperty(a)?d[a]:c},X3:function(a,c){null==c&&(c=!1);var d=this.Zj;return d.hasOwnProperty(a)?d[a]:c},v5:function(a,c){null==c&&(c=0);var d=this.Zj;return d.hasOwnProperty(a)?d[a]:c},x5:function(a){var c=this.Zj;return c.hasOwnProperty(a)?c[a]:null},gX:function(a,c){this.Zj[a]=c},qS:function(){0===r.PE&&(r.log(""),r.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
r.log(""))},CS:function(){if(r.Cd!==r.kg){var a=r.X,c=this.Zj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Iq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Iq+=d[e]+" ";this.Cr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Cr;this.Ev=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Ev;this.as=this.qp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.as;this.$r=!1;c["gl.supports_NPOT"]=this.$r;this.bw=this.qp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.bw;this.cw=this.qp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.cw;this.dw=this.qp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.dw;r.yE()}},V8:function(a){var c=r.Gd.e(),d=c.re(a),c=c.Gw(d);if(null!=c)if(c=c.data)for(var e in c)this.Zj[e]=c[e];else r.log("Expected 'data' dict, but not found. Config file: "+a)}});r.Me.Ur=null;
r.Me.e=function(){r.Me.Ur||(r.Me.Ur=new r.Me,r.Me.Ur.r());return r.Me.Ur};r.Me.o$=function(){r.Me.Ur=null};r.ai=0;r.cM=0;r.ME=1;r.dM=3;r.eM=r.ME;r.oZ=0;r.mZ=1;r.pZ=2;r.nZ=3;r.lZ=2;r.sZ=r.Da.extend({wda:function(){}});r.QE=function(a){var c=new r.vh;r.pU(r.eu,c);var d=new r.vh;r.pU(r.du,d);r.sU(a,c,d)};
r.Z=r.Da.extend({b1:!1,Gr:!1,wm:!1,Rv:!1,Am:!1,$g:0,HA:0,Yk:0,fo:0,jm:1,br:!1,Ik:0,jv:0,Bk:null,Dk:null,Jk:null,Qb:null,Mj:null,Ii:null,Jv:null,gh:null,Pi:null,TA:null,md:null,ee:0,BB:0,hB:0,N0:null,Ag:null,Zg:null,af:null,CA:null,Mu:null,Er:null,a1:!1,ctor:function(){this.Mj=Date.now();if(!r.VC){var a=this;window.addEventListener("focus",function(){a.Mj=Date.now()},!1)}},LP:function(){this.Mj=Date.now()},r:function(){this.HA=this.$g=1/r.VR;this.Pi=[];this.Yk=r.eM;this.TA=null;this.jv=this.fo=0;this.br=
!1;this.BB=this.ee=0;this.Mj=Date.now();this.Rv=this.wm=!1;this.Qb=r.Dm();this.gh=null;this.jm=1;this.Ag=new r.hN;this.Zg=new r.OL;this.Ag.mK(this.Zg,r.hu,!1);r.ia&&(this.af=new r.ia,this.af.r());r.Un&&(this.CA=r.Un.e());r.uk&&(this.Mu=new r.uk);r.Zd&&(this.Er=new r.Zd,this.Er.r());return!0},pR:function(){var a=Date.now();this.Gr?(this.Ik=0,this.Gr=!1):this.Ik=(a-this.Mj)/1E3;0<r.At&&0.2<this.Ik&&(this.Ik=1/60);this.Mj=a},NR:function(a){var c=new r.vh;r.QE(c);var d=new r.vh;r.N8(d,c);var c=c.wh[14]/
c.wh[15],e=this.gh.zp();a=new r.Sp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new r.Sp;r.uU(c,a,d);return r.a(c.x,c.y)},PR:function(a){var c=new r.vh;r.QE(c);var d=new r.Sp;a=new r.Sp(a.x,a.y,0);r.uU(d,a,c);c=this.gh.zp();return r.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},nS:function(){this.pR();this.wm||this.Ag.update(this.Ik);this.WF();this.Ii&&this.fX();this.Cz&&this.Cz();this.md&&this.md.ra();this.Jv&&this.Jv.ra();this.br&&this.sQ();this.yz&&this.yz();this.BB++;this.br&&this.bO()},jO:function(){var a=
this.gh.cf;r.X.clearRect(-a.x,a.y,a.width,-a.height)},qO:function(){var a=r.X;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Cz:null,yz:null,XN:function(){r.Rp()},TN:function(){r.Qp()},end:function(){this.Rv=!0},o4:function(){return this.jm},u5:function(){return this.Jv},h7:function(){return this.Qb},uT:function(){return r.size(this.Qb.width*this.jm,this.Qb.height*this.jm)},Gs:function(){return this.gh?this.gh.Gs():this.Qb},JI:function(){return this.gh?this.gh.JI():r.WM},Is:function(){return this.Qb.height/
1.1566},pause:function(){this.wm||(this.HA=this.$g,this.ct(0.25),this.wm=!0)},i$:function(){if(!this.md)throw"running scene should not null";this.Pi.pop();var a=this.Pi.length;0==a?this.end():(this.Am=!0,this.Ii=this.Pi[a-1])},qD:function(){r.Jy.qD()},tV:function(){this.Df().ot();this.af&&this.af.OV();this.md&&(this.md.xh(),this.md.Qd(),this.md.Zf());this.Ii=this.md=null;this.Pi=[];this.nL();r.Jy.qD();r.Sl.uV();r.og.vV();r.ha.wV();r.yE()},xV:function(a){if(!a)throw"the scene should not null";this.Am=
!1;this.Pi.push(a);this.Ii=a},hK:function(a){if(!this.md)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Pi.length;0===c?(this.Am=!0,this.Pi[c]=a):(this.Am=!0,this.Pi[c-1]=a);this.Ii=a},jK:function(){this.wm&&(this.ct(this.HA),(this.Mj=Date.now())||r.log("cocos2d: Director: Error in gettimeofday"),this.wm=!1,this.Ik=0)},iW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.md)throw"_runningScene should be null";
this.xV(a);this.lL()},wW:function(a){a?r.ek(r.Le,r.Ke):r.ek(r.X.ONE,r.X.ZERO)},HW:function(a){a!=this.jm&&(this.jm=a,this.yo())},LW:function(a){if(r.Cd!==r.kg){var c=r.X;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},Caa:function(){},GK:function(){this.wW(!0);this.LW(!1);this.Jx(this.Yk);r.X.clearColor(0,0,0,1)},jba:function(a){this.Gr=a},fX:function(){var a=!1,c=!1;r.BF&&(a=this.md?this.md instanceof r.BF:!1,c=this.Ii?this.Ii instanceof r.BF:!1);if(!c){if(c=
this.md)c.xh(),c.Qd();this.Am&&c&&c.Zf()}this.md=this.Ii;this.Ii=null;a||null==this.md||(this.md.Ng(),this.md.gi())},kba:function(a){this.Jv=a},fc:function(){return this.TA},zh:function(a){this.TA=a},lX:function(a){this.Qb.$D(r.canvas.width);this.Qb.ND(r.canvas.height);this.gh=a||r.sa.e();r.Cd!==r.kg&&(a=r.Me.e(),a.CS(),a.qS(),this.yo(),this.GK(),this.af&&this.af.MW(!0))},$K:function(){if(this.gh){var a=this.Qb;this.gh.GX(0,0,a.width,a.height)}},Jx:function(a){var c=this.Qb;if(r.Cd===r.Ak){this.$K();
switch(a){case r.cM:r.dn(r.eu);r.bD();var d=new r.vh;r.tU(d,0,c.width,0,c.height,-1024,1024);r.cx(d);r.dn(r.du);r.bD();break;case r.ME:var e=this.Is(),f=new r.vh,d=new r.vh;r.dn(r.eu);r.bD();r.O8(f,60,c.width/c.height,0.1,2*e);r.cx(f);r.dn(r.du);r.bD();e=r.Os(null,c.width/2,c.height/2,e);c=r.Os(null,c.width/2,c.height/2,0);f=r.Os(null,0,1,0);r.rU(d,e,c,f);r.cx(d);break;case r.dM:break;default:r.log("cocos2d: Director: unrecognized projection")}this.Yk=a;r.Bba()}else this.Yk=a},sQ:function(){this.ee++;
this.fo+=this.Ik;this.Bk&&this.Dk&&this.Jk?(this.fo>r.bM&&(this.Dk.fa(this.hB.toFixed(3)),this.jv=this.ee/this.fo,this.fo=this.ee=0,this.Bk.fa(this.jv.toFixed(1)),this.Jk.fa((0|r.ai).toString())),this.Bk.ra(),this.Dk.ra(),this.Jk.ra()):this.yo();r.ai=0},s8:function(){return this.Am},m6:function(){return this.md},R3:function(){return this.$g},U7:function(){return this.br},Gaa:function(a){this.br=a},r6:function(){return this.hB},J5:function(){return this.gh},f8:function(){return this.Gr},j8:function(){return this.wm},
Q6:function(){return this.BB},Z5:function(){return this.Yk},j$:function(){this.jV(1)},jV:function(a){if(!this.md)throw"A running Scene is needed";var c=this.Pi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.We&&(e.xh(),e.Qd());e.Zf();d--}this.Ii=c[c.length-1];this.Am=!1}},Df:function(){return this.Ag},wX:function(a){this.Ag!=a&&(this.Ag=a)},Gg:function(){return this.Zg},uW:function(a){this.Zg!=a&&(this.Zg=a)},S6:function(){return this.af},gca:function(a){this.af!=a&&(this.af=
a)},Qw:function(){if(!r.Un)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.CA},Zaa:function(a){if(!r.Un)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.CA=a},yp:function(){if(!r.uk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Mu},jaa:function(a){if(!r.uk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Mu!=
a&&(this.Mu=a)},y4:function(){return this.Ik},Cf:function(){if(!r.Zd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Er},hba:function(a){if(!r.Zd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Er!=a&&(this.Er=a)},yo:null,tO:function(){if(!r.Iy)return this.ZF();if(null!=r.Z.eG&&!1!=r.Z.eG){var a=new r.ac;a.Ff(r.Z.iA);a.Ce();var c=r.sa.e().zp().height/320;0===c&&(c=this.Qb.height/320);var d=new r.Iy;d.kB(!0);
d.ol("00.0",a,12,32,".");d.pk(c);this.Bk=d;d=new r.Iy;d.kB(!0);d.ol("0.000",a,12,32,".");d.pk(c);this.Dk=d;d=new r.Iy;d.kB(!0);d.ol("000",a,12,32,".");d.pk(c);this.Jk=d;a=r.NE;this.Jk.m(r.eg(r.a(0,34*c),a));this.Dk.m(r.eg(r.a(0,17*c),a));this.Bk.m(a)}},ZF:function(){var a=0,a=this.Qb.width>this.Qb.height?0|this.Qb.height/320*24:0|this.Qb.width/320*24;this.Bk=r.S.create("000.0","Arial",a);this.Dk=r.S.create("0.000","Arial",a);this.Jk=r.S.create("0000","Arial",a);var a=r.NE,c=this.Jk.c();this.Jk.m(r.eg(r.a(c.width/
2,5*c.height/2),a));c=this.Dk.c();this.Dk.m(r.eg(r.a(c.width/2,3*c.height/2),a));c=this.Bk.c();this.Bk.m(r.eg(r.a(c.width/2,c.height/2),a))},bO:function(){this.hB=(Date.now()-this.Mj)/1E3}});r.Fa.Pc?(r.Z.prototype.WF=r.Z.prototype.qO,r.Z.prototype.Cz=r.Z.prototype.XN,r.Z.prototype.yz=r.Z.prototype.TN,r.Z.prototype.yo=r.Z.prototype.tO):(r.Z.prototype.WF=r.Z.prototype.jO,r.Z.prototype.yo=r.Z.prototype.ZF);
r.fM=r.Z.extend({ax:!1,lL:function(){this.Gr=!0;this.ax=!1;r.oj.e().ct(this.$g)},xJ:function(){this.Rv?(this.Rv=!1,this.tV()):this.ax||this.nS()},nL:function(){this.ax=!0},ct:function(a){this.$g=a;this.ax||(this.nL(),this.lL())}});r.yx=null;r.lI=!0;r.Z.e=function(){r.lI&&(r.lI=!1,r.yx=new r.fM,r.yx.r(),r.yx.lX(r.sa.e()));return r.yx};Object.defineProperties(r,{Lda:{get:function(){return r.fS.Qb},enumerable:!0}});r.E3=!0;r.VR=60;r.Z.iA=new Image;
r.Z.iA.addEventListener("load",function(){r.Z.eG=!0;this.removeEventListener("load",arguments.callee,!1)});r.Z.iA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";r.rq=r.Da.extend({lr:null,mr:null,nr:null,to:null,uo:null,vo:null,ks:null,ls:null,ms:null,Ia:null,Av:null,ctor:function(){this.Av=new r.vh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.to+","+this.uo+","+this.vo+")\x3e"},Og:function(a){this.Ia=a},iJ:function(){return this.Ia},restore:function(){this.lr=this.mr=0;this.nr=r.rq.Is();this.ks=this.to=this.uo=this.vo=0;this.ls=1;this.ms=0;r.M8(this.Av);this.Ia=!1},sJ:function(){if(this.Ia){var a=new r.Sp,c=new r.Sp,d=new r.Sp;
r.Os(a,this.lr,this.mr,this.nr);r.Os(c,this.to,this.uo,this.vo);r.Os(d,this.ks,this.ls,this.ms);r.rU(this.Av,a,c,d);this.Ia=!1}r.cx(this.Av)},Kaa:function(a,c,d){this.DK(a,c,d)},DK:function(a,c,d){this.lr=a;this.mr=c;this.nr=d;this.Ia=!0},taa:function(a,c,d){this.DW(a,c,d)},DW:function(a,c,d){this.to=a;this.uo=c;this.vo=d;this.Ia=!0},hca:function(a,c,d){this.FX(a,c,d)},FX:function(a,c,d){this.ks=a;this.ls=c;this.ms=d;this.Ia=!0},G4:function(){return{x:this.lr,y:this.mr,z:this.nr}},wI:function(){return{x:this.lr,
y:this.mr,z:this.nr}},f4:function(){return{x:this.to,y:this.uo,z:this.vo}},uI:function(){return{x:this.to,y:this.uo,z:this.vo}},W6:function(){return{x:this.ks,y:this.ls,z:this.ms}},sT:function(){return{x:this.ks,y:this.ls,z:this.ms}},x0:function(){}});r.rq.Is=function(){return r.Yt};r.hu=-2147483648;r.u_=r.hu+1;r.xt=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){r.log("element type is wrong!");break}};r.oq=function(a,c){a.splice(c,1)};r.Vd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};r.VY=function(a,c){for(var d=0,e=c.length;d<e;d++)r.Vd(a,c[d])};r.UY=function(a,c){return a.indexOf(c)};r.SY=function(a,c){a.push(c)};r.Tl=function(a,c,d){a.splice(d,0,c);return a};
r.TY=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};r.py=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};r.ny=function(a,c){return-1!=a.indexOf(c)};r.NZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};r.VE=function(a,c,d){this.next=null;this.target=a;this.UJ=c;this.paused=d;this.wl=!1};r.RE=function(a,c,d){this.list=a;this.$m=c;this.target=d;this.JC=null};
r.sM=function(a,c){this.hg=null;this.target=a;this.kq=0;this.us=this.ts=null;this.paused=c;this.JC=null};
r.yu=r.Da.extend({Lj:0,Tf:null,Q:null,dc:0,PG:!1,uw:!1,gp:0,aB:0,cv:0,ctor:function(){},b5:function(){return this.Lj},setInterval:function(){},s6:function(){return this.Tf},Jg:function(a,c,d,e,f){this.Q=a;this.Tf=c;this.dc=-1;this.Lj=d||0;this.cv=f||0;this.uw=0<this.cv;this.aB=null==e?r.Zl:e;this.PG=this.aB==r.Zl;return!0},Fz:function(){if("string"==typeof this.Tf)this.Q[this.Tf](this.dc);else this.Tf.call(this.Q,this.dc)},update:function(a){if(-1==this.dc)this.gp=this.dc=0;else{var c=this.Q,d=this.Tf;
this.PG&&!this.uw?(this.dc+=a,this.dc>=this.Lj&&(c&&d&&this.Fz(),this.dc=0)):(this.dc+=a,this.uw?this.dc>=this.cv&&(c&&d&&this.Fz(),this.dc-=this.cv,this.gp+=1,this.uw=!1):this.dc>=this.Lj&&(c&&d&&this.Fz(),this.dc=0,this.gp+=1),this.gp>this.aB&&r.Z.e().Df().yL(c,d))}}});r.yu.jda=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new r.yu;e.Jg(a,c,d||0,r.Zl,0);return e};r.k1=null;
r.hN=r.Da.extend({ds:1,ph:null,Vh:null,Cg:null,Ij:null,Ou:null,Hj:null,J0:null,rf:null,Bi:!1,rw:!1,ctor:function(){this.ds=1;this.ph=[];this.Vh=[];this.Cg=[];this.Ij={};this.Ou=[];this.Hj={};this.Ek=[];this.rf=null;this.rw=this.Bi=!1},$A:function(a){delete this.Hj[a.target.cc];r.Vd(this.Ek,a);a.yu=null;a.target=null},P0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Tv:function(a){if(a=this.Ij[a.target.cc])r.Vd(a.list,a.$m),delete this.Ij[a.target.cc],r.Vd(this.Ou,
a),a.$m=null,a.target=null},IG:function(a,c,d,e){e=new r.VE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].UJ){a=r.Tl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new r.RE(a,e,c);this.Ou.push(d);this.Ij[c.cc]=d;return a},WN:function(a,c,d){d=new r.VE(c,0,d);a.push(d);a=new r.RE(a,d,c);this.Ou.push(a);this.Ij[c.cc]=a},bca:function(a){this.ds=a},L6:function(){return this.ds},update:function(a){this.rw=!0;1!=this.ds&&(a*=this.ds);var c,d;for(d=0;d<this.ph.length;d++)c=this.ph[d],c.paused||
c.wl||c.target.update(a);for(d=0;d<this.Vh.length;d++)c=this.Vh[d],c.paused||c.wl||c.target.update(a);for(d=0;d<this.Cg.length;d++)c=this.Cg[d],c.paused||c.wl||c.target.update(a);for(d=0;d<this.Ek.length;d++){c=this.rf=this.Ek[d];this.Bi=!1;if(!this.rf.paused)for(c.kq=0;c.kq<c.hg.length;c.kq++)c.ts=c.hg[c.kq],c.us=!1,c.ts.update(a),c.ts=null;this.Bi&&0==this.rf.hg.length&&this.$A(this.rf)}for(d=0;d<this.ph.length;d++)this.ph[d].wl&&this.Tv(this.ph[d]);for(d=0;d<this.Vh.length;d++)this.Vh[d].wl&&this.Tv(this.Vh[d]);
for(d=0;d<this.Cg.length;d++)this.Cg[d].wl&&this.Tv(this.Cg[d]);this.rw=!1;this.rf=null},lW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?r.Zl:e;f=f||0;g=g||!1;var h=this.Hj[a.cc];h||(h=new r.sM(a,g),this.Ek.push(h),this.Hj[a.cc]=h);if(null==h.hg)h.hg=[];else for(var k=0;k<h.hg.length;k++)if(g=h.hg[k],c==g.Tf){r.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Lj.toFixed(4)+" to "+d.toFixed(4));g.Lj=d;return}g=new r.yu;g.Jg(a,c,d,e,f);h.hg.push(g)},mK:function(a,c,d){var e=this.Ij[a.cc];e?e.$m.wl=!1:0==c?this.WN(this.Vh,a,d):0>c?this.ph=this.IG(this.ph,a,c,d):this.Cg=this.IG(this.Cg,a,c,d)},yL:function(a,c){if(null!=a&&null!=c){var d=this.Hj[a.cc];if(null!=d)for(var e=0;e<d.hg.length;e++){var f=d.hg[e];if(c==f.Tf){f!=d.ts||d.us||(d.us=!0);r.oq(d.hg,e);d.kq>=e&&d.kq--;0==d.hg.length&&(this.rf==d?this.Bi=!0:this.$A(d));break}}}},lq:function(a){null!=a&&
(a=this.Ij[a.cc],null!=a&&(this.rw?a.$m.wl=!0:this.Tv(a.$m)))},xL:function(a){if(null!=a){var c=this.Hj[a.cc];c&&(!c.us&&r.ny(c.hg,c.ts)&&(c.us=!0),c.hg.length=0,this.rf==c?this.Bi=!0:this.$A(c));this.lq(a)}},ot:function(){this.pY(r.hu)},pY:function(a){var c;for(c=0;c<this.Ek.length;c++)this.xL(this.Ek[c].target);if(0>a)for(c=0;c<this.ph.length;c++)this.lq(this.ph[c].target);if(0>=a)for(c=0;c<this.Vh.length;c++)this.lq(this.Vh[c].target);for(c=0;c<this.Cg.length;c++)this.Cg[c].UJ>=a&&this.lq(this.Cg[c].target)},
f$:function(){return this.cV(r.hu)},cV:function(a){var c=[],d,e;for(d=0;d<this.Ek.length;d++)if(e=this.Ek[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.ph.length;d++)if(e=this.ph[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Vh.length;d++)if(e=this.Vh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Cg.length;d++)if(e=this.Cg[d])e.paused=!0,c.push(e.target);return c},eW:function(a){if(a)for(var c=0;c<a.length;c++)this.xn(a[c])},Xs:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Hj[a.cc];c&&(c.paused=!0);if(a=this.Ij[a.cc])a.$m.paused=!0},xn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Hj[a.cc];c&&(c.paused=!1);if(a=this.Ij[a.cc])a.$m.paused=!1},u8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Hj[a.cc])?a.paused:!1}});r.Ty={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
r.$b=r.Da.extend({zo:0,gs:0,Br:0,xm:null,$g:1/60,Lj:null,pG:!1,ctor:function(){this.xm=[]},Zw:function(a,c,d){if(a){c&&(this.Tf=c,this.Q=d);if(a!=this.xm||0==this.zo){this.Br=this.zo=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.xm=this.xm.concat(a[c]);else this.xm=a;this.gs=this.xm.length}this.PP()}else console.log("resources should not null")},yW:function(a){this.pG=a},nn:function(a){this.Br++;r.log("cocos2d:Failed loading resource: "+a)},hi:function(){this.Br++},Rw:function(){var a=0;return a=
0==this.gs?100:0|this.Br/this.gs*100},LV:function(a){if(a&&0<a.length)for(var c=r.ha.e(),d=r.Bh?r.Bh.e():null,e=r.xk.e(),f=r.Gd.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.hG(g);switch(k){case "IMAGE":c.XV(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.qda(g.src);break;case "XML":e.nY(g.src);break;case "BINARY":f.mY(g.src);break;case "TEXT":f.oY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},vP:function(){this.sw();
if(this.pG){var a=r.Z.e().jv;if(null!=a&&20>a){r.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.zo<this.gs&&(this.dP(),this.zo++)},dP:function(){var a=r.ha.e(),c=r.Bh?r.Bh.e():null,d=r.xk.e(),e=r.Gd.e(),f=this.xm[this.zo],g=this.hG(f);switch(g){case "IMAGE":a.qa(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.m$(f.src);break;case "XML":d.pV(f.src);break;case "BINARY":e.oV(f.src);break;case "TEXT":e.qV(f.src);break;case "FONT":this.xP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},PP:function(){var a=this;this.Lj=setInterval(function(){a.vP()},1E3*this.$g)},FQ:function(){clearInterval(this.Lj)},hG:function(a){if(null!=a.xs)return r.Ty.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in r.Ty)if(-1!=r.Ty[d].indexOf(a))return d;return a},sw:function(){100<=this.Rw()&&(this.FQ(),this.rO())},rO:function(){if(this.Q&&"string"==typeof this.Tf)this.Q[this.Tf](this);
else this.Q&&"function"==typeof this.Tf?this.Tf.call(this.Q,this):this.Tf(this);this.gs=this.Br=this.zo=0},xP:function(a){var c=a.src,d=r.Gd.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.xs+"; src:",g=0;g<c.length;g++)f+="url('"+d.re(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.xs;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}r.$b.e().hi()},q1:function(){}});r.$b.pD=function(a,c,d){this.Ib||(this.Ib=new r.$b);this.Ib.Zw(a,c,d);return this.Ib};r.$b.l$=function(a,c,d){this.Ib||(this.Ib=new r.$b);this.Ib.yW(!0);this.Ib.Zw(a,c,d);return this.Ib};r.$b.qD=function(a){this.Ib&&this.Ib.LV(a)};r.$b.e=function(){this.Ib||(this.Ib=new r.$b);return this.Ib};r.$b.Ib=null;
r.Ky=r.xq.extend({zv:null,Qo:null,hw:null,Oq:null,Oo:null,QB:null,ctor:function(){r.xq.prototype.ctor.call(this);this.QB=r.Z.e().Qb},r:function(){r.xq.prototype.r.call(this);var a=r.a(this.QB.width/2,this.QB.height/2);this.Qo=new Image;var c=this;this.Qo.addEventListener("load",function(){c.OO(a);this.removeEventListener("load",arguments.callee,!1)});this.Qo.src="";this.Qo.width=160;this.Qo.height=200;this.Oq=r.ca.create(r.$B(32,32,32,255));this.Oq.m(0,0);this.f(this.Oq,0);this.Oo=r.S.create("Loading... 0%",
"Arial",14);this.Oo.n(r.zw(180,180,180));this.Oo.m(r.eg(a,r.a(0,-110)));this.Oq.f(this.Oo,10)},OO:function(a){this.hw=new r.ac;this.hw.Ff(this.Qo);this.hw.Ce();this.zv=r.w.hb(this.hw);this.zv.pk(r.Fd());this.zv.m(a);this.Oq.f(this.zv,10)},Ng:function(){r.D.prototype.Ng.call(this);this.Zb(this.bH,0.3)},Qd:function(){r.D.prototype.Qd.call(this);this.Oo.fa("Loading... 0%")},Zw:function(a,c,d){this.bW=a;this.qW=c;this.target=d},bH:function(){this.Qc(this.bH);r.$b.pD(this.bW,this.qW,this.target);this.Zb(this.sw)},
sw:function(){var a=r.$b.e().Rw();this.Oo.fa("Loading... "+a+"%");100<=a&&this.Qc(this.sw)}});r.Ky.pD=function(a,c,d){this.Ib||(this.Ib=new r.Ky,this.Ib.r());this.Ib.Zw(a,c,d);a=r.Z.e();a.md?a.hK(this.Ib):a.iW(this.Ib);return this.Ib};r.zy=r.Da.extend({ub:null,Gba:function(a){this.ub=a},f6:function(){return this.ub},ctor:function(a){this.ub=a},mC:function(){r.log("DrawingPrimitive.drawPoint() not implement!")},eI:function(){r.log("DrawingPrimitive.drawPoints() not implement!")},Zh:function(){r.log("DrawingPrimitive.drawLine() not implement!")},gI:function(){r.log("DrawingPrimitive.drawRect() not implement!")},nC:function(){r.log("DrawingPrimitive.drawSolidRect() not implement!")},me:function(){r.log("DrawingPrimitive.drawPoly() not implement!")},
Iw:function(){r.log("DrawingPrimitive.drawSolidPoly() not implement!")},bI:function(){r.log("DrawingPrimitive.drawCircle() not implement!")},fI:function(){r.log("DrawingPrimitive.drawQuadBezier() not implement!")},cI:function(){r.log("DrawingPrimitive.drawCubicBezier() not implement!")},aI:function(){r.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Hw:function(){r.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
r.OE=r.zy.extend({mC:function(a,c){c||(c=1);var d=r.sa.e().wa,e=r.sa.e().Ba,e=r.a(a.x*d,a.y*e);this.ub.beginPath();this.ub.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.ub.closePath();this.ub.fill()},eI:function(a,c,d){if(null!=a){d||(d=1);c=this.ub;var e=r.sa.e().wa,f=r.sa.e().Ba;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},Zh:function(a,c){var d=this.ub,e=r.sa.e().wa,f=r.sa.e().Ba;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},gI:function(a,c){this.Zh(r.a(a.x,a.y),r.a(c.x,a.y));this.Zh(r.a(c.x,a.y),r.a(c.x,c.y));this.Zh(r.a(c.x,c.y),r.a(a.x,c.y));this.Zh(r.a(a.x,c.y),r.a(a.x,a.y))},nC:function(a,c,d){a=[a,r.a(c.x,a.y),c,r.a(a.x,c.y)];this.Iw(a,4,d)},me:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.ub;var g=r.sa.e().wa,h=r.sa.e().Ba;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Iw:function(a,c,d){this.CK(d.p,d.o,d.g,d.H);this.me(a,c,!0,!0)},bI:function(a,c,d,e,f){f=f||!1;e=this.ub;var g=r.sa.e().wa,h=r.sa.e().Ba;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},fI:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(r.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(r.a(d.x,d.y));this.me(f,e+1,!1,!1)},cI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(r.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(r.a(e.x,e.y));this.me(g,f+1,!1,!1)},aI:function(a,c){this.Hw(a,0.5,c)},Hw:function(a,c,d){r.X.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=r.ty(r.sh(a,f-1),r.sh(a,f-0),r.sh(a,f+1),r.sh(a,f+2),c,g),e.push(f);this.me(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.ub.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.ub.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.ub.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},b3:function(a,c,d){a=a||this.ub;c*=r.sa.e().wa;d instanceof r.Xd&&(d=new r.Ec(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+d.p+","+d.o+","+d.g;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,r.ZE,!1);a.closePath();a.fill()},Z2:function(a,c,d){a=a||this.ub;c*=r.sa.e().wa;d instanceof r.Xd&&(d=new r.Ec(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+
d.p+","+d.o+","+d.g;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,r.ZE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.ub.fillText(a,c,-d)},NW:function(a,c,d,e){this.ub.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.ub.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},CK:function(a,c,d,e){this.ub.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.ub.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},pX:function(){},ZW:function(a){this.ub.lineWidth=a*r.sa.e().wa}});
r.iM=r.zy.extend({wr:!1,Lb:null,zi:-1,ic:null,OA:-1,NA:-1,ctor:function(a){null==a&&(a=r.X);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";r.zy.prototype.ctor.call(this,a);this.ic=new r.Xd(1,1,1,1)},hk:function(){this.wr||(this.Lb=r.Fh.e().ii(r.U_),this.zi=this.ub.getUniformLocation(this.Lb.Sw(),"u_color"),this.OA=this.ub.getUniformLocation(this.Lb.Sw(),"u_pointSize"),this.wr=!0)},a3:function(){this.wr=!1},mC:function(a){this.hk();
this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,new Float32Array(this.ic.Pb,0,4),1);this.Lb.WK(this.OA,this.NA);var c=this.ub,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(r.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);r.Ch()},eI:function(a){if(a&&0!=a.length){this.hk();this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,new Float32Array(this.ic.Pb,0,4),1);this.Lb.WK(this.OA,
this.NA);var c=this.ub,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Ov(a),c.STATIC_DRAW);c.vertexAttribPointer(r.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);r.Ch()}},Ov:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},Zh:function(a,c){this.hk();this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,new Float32Array(this.ic.Pb,0,4),1);var d=this.ub,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Ov([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(r.Oe,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);r.Ch()},gI:function(a,c){this.Zh(r.a(a.x,a.y),r.a(c.x,a.y));this.Zh(r.a(c.x,a.y),r.a(c.x,c.y));this.Zh(r.a(c.x,c.y),r.a(a.x,c.y));this.Zh(r.a(a.x,c.y),r.a(a.x,a.y))},nC:function(a,c,d){a=[a,r.a(c.x,a.y),c,r.a(a.x,c.y)];this.Iw(a,4,d)},me:function(a,c,d){this.hk();this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,new Float32Array(this.ic.Pb,0,4),
1);c=this.ub;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Ov(a),c.STATIC_DRAW);c.vertexAttribPointer(r.Oe,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);r.Ch()},Iw:function(a,c,d){this.hk();d||(d=this.ic);this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,new Float32Array(d.Pb,0,4),1);c=this.ub;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Ov(a),c.STATIC_DRAW);
c.vertexAttribPointer(r.Oe,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);r.Ch()},bI:function(a,c,d,e,f){this.hk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,new Float32Array(this.ic.Pb,0,4),1);a=this.ub;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);r.Ch()}},fI:function(a,c,d,e){this.hk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,new Float32Array(this.ic.Pb,0,4),1);a=this.ub;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);r.Ch()},cI:function(a,c,d,e,f){this.hk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,new Float32Array(this.ic.Pb,0,4),1);a=this.ub;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);r.Ch()},aI:function(a,c){this.Hw(a,0.5,c)},Hw:function(a,c,d){this.hk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=r.ty(r.sh(a,f-1),r.sh(a,f),r.sh(a,f+1),r.sh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Lb.of();this.Lb.Qg();r.xe(r.Yg);this.Lb.Hl(this.zi,
new Float32Array(this.ic.Pb,0,4),1);a=this.ub;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);r.Ch()},NW:function(a,c,d,e){this.ic.p=a/255;this.ic.o=c/255;this.ic.g=d/255;this.ic.H=e/255},CK:function(a,c,d,e){this.ic.p=a;this.ic.o=c;this.ic.g=d;this.ic.H=e},pX:function(a){this.NA=a*r.Fd()},ZW:function(a){this.ub.lineWidth&&this.ub.lineWidth(a)}});r.ZE=2*Math.PI;r.rF={u0:0,ZZ:1,$Z:2,KY:3,SZ:4,RZ:5,XY:6,h_:7,CZ:8,LM:100,UM:101};r.n_=0;r.o_=1;r.l_=2;r.m_=3;r.kg=0;r.Ak=1;r.$f=null;r.X=null;r.canvas=null;r.AS=null;r.Cd=r.kg;r.XU=r.size(0,0);window.CD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});r.VC=!1;
r.Il=function(a,c,d){function e(){if(r.Bh){var a=r.Bh.e();document[k]?(a.bV(),a.dV()):(r.Z.e().LP(),a.cW(),a.dW())}}a=r.Nb(a)||r.Nb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=r.bk=r.tk("DIV"),h=g.style,f=r.canvas=a,f.parentNode.insertBefore(g,f),f.Wm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&r.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=r.canvas=r.tk("CANVAS"),f.AH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=r.bk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!r.qz){r.Fa.Pc&&(r.X=r.Kda=r.QH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!r.Fa.gk,alpha:!1}));r.X?(r.Cd=r.Ak,window.gl=r.X,r.$f=new r.iM(r.X),r.ha.e().VO()):(r.X=f.getContext("2d"),r.zU=r.X,
r.Cd=r.kg,r.X.translate(0,f.height),r.$f=r.OE?new r.OE(r.X):null);r.XU=r.size(f.width,f.height);r.AS=g;r.log(r.Dt);r.Me.e();r.JW();r.Fa.gk&&r.RN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(r.VC=!1,window.addEventListener("focus",function(){if(r.Bh){var a=r.Bh.e();a.cW();a.dW()}},!1),window.addEventListener("blur",function(){if(r.Bh){var a=r.Bh.e();a.bV();a.dV()}},!1)):(r.VC=!0,document.addEventListener(l,e,!1))}};r.RN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
r.qG=!1;r.JW=function(){r.qG=!1;r.canvas.oncontextmenu=r.qG?function(){}:function(){return!1}};r.oj=r.Da.extend({$g:null,ctor:function(){this.$g=0;if(r.oB)throw"Application has been initialized";r.oB=this},ct:function(a){this.$g=a},Hca:function(a){a&&r.rect(0,0,0,0)},H6:function(){return r.Fa.gk?r.rF.LM:r.rF.UM},gW:function(){if(!this.iR())return 0;var a,c=r.Z.e(),d=window;r.fS=c;d.CD&&this.$g==1/60?(a=function(){c.xJ();d.CD(a)},d.CD(a)):(a=function(){c.xJ()},setInterval(a,1E3*this.$g));return 0}});
r.oj.e=function(){return r.oB};r.oj.r4=function(){var a=r.zM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.zda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=r.yM;break;case "fr":a=r.AM;break;case "it":a=r.DM;break;case "de":a=r.BM;break;case "es":a=r.KM;break;case "ru":a=r.JM;break;case "ko":a=r.FM;break;case "ja":a=r.EM;break;case "hu":a=r.CM;break;case "pt":a=r.IM;break;case "ar":a=r.xM;break;case "no":a=r.GM;break;case "pl":a=r.HM}return a};r.oB=null;r.xk=r.Da.extend({Mda:null,GG:null,mp:null,AA:null,ctor:function(){this.mp={};window.DOMParser?(this.AA=!0,this.GG=new DOMParser):this.AA=!1},parse:function(a){var c=a;a=this.xI(a);a=this.HG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.KA(c)},kda:function(a,c){if(null==c||!1===c)a=this.xI(a);return this.HG(a)},HG:function(a,
c){var d;this.AA?d=this.GG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&r.log("cocos2d:xml "+c+" not found!");return d},KA:function(a){var c=null;switch(a.tagName){case "dict":c=this.sP(a);break;case "array":c=this.rP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},rP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.KA(f))}return c},sP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.KA(g))}return c},pV:function(a){a=r.Gd.e().re(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(r.$b.e().hi(),d.mp[a]=c.responseText,c=null):(r.$b.e().hi(),r.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},nY:function(a){this.mp.hasOwnProperty(a)&&delete this.mp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
F4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},xI:function(a){return null!=this.mp?this.mp[a]:null}});r.xk.e=function(){this.Ib||(this.Ib=new r.xk);return this.Ib};r.xk.Ib=null;r.my=r.Da.extend({eS:function(){r.oj.e().gW();return!0},T1:function(){r.Z.e().pause()},S1:function(){r.Z.e().jK()},hR:function(){r.oj.e().hR()},jR:function(){r.oj.e().jR()},U1:function(){}});r.my.OX=function(){null==r.Rx&&(r.Rx=new r.my);if(!r.Rx)throw"Application initialize failure";return r.Rx};r.Rx=null;r.S=r.w.extend({de:null,Nk:r.uj,fl:r.Gq,sf:null,Re:0,Bg:"",JA:null,Ko:!1,Ej:null,Rj:!1,Cm:null,Yo:0,Tr:0,Zv:null,bl:!1,Yr:null,cp:0,aw:null,dp:null,iv:null,yB:0,zB:0,hd:!1,vv:null,wv:null,ctor:function(){r.w.prototype.ctor.call(this);this.de=r.$l();this.Nk=r.Cq;this.fl=r.Gq;this.lc=!1;this.Ej="";this.sf="Arial";this.Rj=this.Ko=!1;this.Cm=r.$l();this.Tr=this.Yo=0;this.Zv="rgba(128, 128, 128, 0.5)";this.bl=!1;this.Yr=r.yb();this.cp=0;this.aw="";this.dp=r.yb();this.iv="rgba(255,255,255,1)";this.zB=this.yB=
0;this.hd=!1;this.Rh()},r:function(){return this.ol(" ",this.sf,this.Re)},hP:function(){this.pA().font=this.Ej},Dr:function(a){return this.pA().measureText(a).width},fO:function(a,c){var d=this.Dr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=r.S.gO,m=r.S.NP,n=r.S.eO,p=a.substr(e);k=l.exec(p);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Dr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;p=a.substr(h)}if(d)return g;
p=a.substr(0,e);for(g=e;k=m.exec(p);)if(g=k[1].length,p=k[1],f=this.Dr(p),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.sf+" FontSize \x3d "+this.Re.toFixed(1)+"\x3e"},n:null,Or:function(a){r.zb.prototype.n.call(this,a);this.QG()},Rh:null,QG:function(){this.hd=!0;var a=this.Ic,c=this.Yb,d=this.Yr,e=this.dp;this.Zv="rgba("+(0|0.5*a.p)+","+(0|0.5*a.o)+","+(0|0.5*a.g)+","+this.Yo+")";this.iv="rgba("+(0|a.p/255*e.p)+","+(0|a.o/255*e.o)+","+
(0|a.g/255*e.g)+", "+c/255+")";this.aw="rgba("+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+","+(0|a.g/255*d.g)+", "+c/255+")"},WP:function(){this.hd=!0;var a=this.Yr,c=this.dp;this.Zv="rgba(128,128,128,"+this.Yo+")";this.iv="rgba("+(0|c.p)+","+(0|c.o)+","+(0|c.g)+", 1)";this.aw="rgba("+(0|a.p)+","+(0|a.o)+","+(0|a.g)+", 1)"},cd:null,FB:function(a){r.zb.prototype.cd.call(this,a);this.Rh()},pa:null,Qr:function(a){this.Ki!==a&&(r.w.prototype.pa.call(this,a),this.Rh(),this.hd=!0)},dd:null,vda:function(a){r.zb.prototype.dd.call(this,
a);this.Rh()},AC:function(){return this.Bg},R4:function(){return this.Nk},b7:function(){return this.fl},A4:function(){return r.size(this.de.width,this.de.height)},L4:function(){return this.Re},K4:function(){return this.sf},ol:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||r.size(0,d);f=f||r.Cq;g=g||r.Hq;return r.w.prototype.r.call(this)?(this.lc=!1,this.de=r.size(e.width,e.height),this.sf=c||"Arial",this.Nk=f,this.fl=g,this.Re=d,this.Ej=this.Re+"px '"+c+"'",this.Dj=r.S.Ju(c,this.Re),this.fa(a),this.Rh(),
this.HB(),this.hd=!1,!0):!1},RC:null,RO:function(a,c){if(!r.w.prototype.r.call(this))return!1;this.IB(c,!1);this.fa(a);return!0},SO:function(a,c){if(!r.w.prototype.r.call(this))return!1;this.Pg(r.Fh.e().ii(r.S.BN));this.IB(c,!1);this.fa(a);return!0},Zba:function(a){a&&this.IB(a,!0)},I6:function(){return this.wP(!1)},sS:function(a,c,d){c=c||0.5;!1===this.Rj&&(this.Rj=!0);var e=this.Cm;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Yo!=c&&(this.Yo=c);this.Rh();this.Tr!=
d&&(this.Tr=d);this.hd=!0},U2:function(){this.Rj&&(this.Rj=!1,this.hd=!0)},tS:function(a,c){!1===this.bl&&(this.bl=!0);var d=this.Yr;if(d.p!==a.p||d.o!==a.o||d.g!==a.g)d.p=a.p,d.o=a.o,d.g=a.g,this.Rh();this.cp!==c&&(this.cp=c||0);this.hd=!0},V2:function(){this.bl&&(this.bl=!1,this.hd=!0)},MD:null,$P:function(a){var c=this.dp;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Rh(),this.hd=!0},aQ:function(a){var c=this.dp;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Rh(),this.hd=
!0},IB:function(a,c){a.ws?(this.de.width=a.ws.width,this.de.height=a.ws.height):(this.de.width=0,this.de.height=0);this.Nk=a.mI;this.fl=a.nI;this.sf=a.xs;this.Re=a.fontSize||12;this.Ej=this.Re+"px '"+this.sf+"'";this.Dj=r.S.Ju(this.sf,this.Re);a.eL&&this.sS(a.fL,a.gL,a.shadowBlur,!1);a.eE&&this.tS(a.strokeColor,a.qL,!1);this.MD(a.oI,!1);c&&this.HB()},wP:function(a){var c=new r.oM;a?(c.fontSize=this.Re,c.ws=r.Xy(this.de)):(c.fontSize=this.Re,c.ws=r.size(this.de.width,this.de.height));c.xs=this.sf;
c.mI=this.Nk;c.nI=this.fl;if(this.bl){c.eE=!0;var d=this.Yr;c.strokeColor=new r.Ec(d.p,d.o,d.g);c.qL=this.cp}else c.eE=!1;this.Rj?(c.eL=!0,c.shadowBlur=this.Tr,c.gL=this.Yo,c.fL=a?r.Xy(this.Cm):r.size(this.Cm.width,this.Cm.height)):c.Rj=!1;a=this.dp;c.oI=new r.Ec(a.p,a.o,a.g);return c},Dj:18,fa:function(a){a=String(a);this.JA!=a&&(this.JA=a+"",this.pH(),this.hd=!0)},pH:function(){this.Bg=this.JA},Raa:function(a){a!==this.Nk&&(this.Nk=a,this.hd=!0)},lca:function(a){a!=this.fl&&(this.fl=a,this.hd=!0)},
pc:function(a){if(a.width!=this.de.width||a.height!=this.de.height)this.de=a,this.pH(),this.hd=!0},EK:function(a){this.Re!==a&&(this.Re=a,this.Ej=a+"px '"+this.sf+"'",this.Dj=r.S.Ju(this.sf,a),this.hd=!0)},TW:function(a){this.sf&&this.sf!=a&&(this.sf=a,this.Ej=this.Re+"px '"+a+"'",this.Dj=r.S.Ju(a,this.Re),this.hd=!0)},wO:function(a){if(a){var c=this.yB,d=this.zB,e=this.va.ta-d,f=this.fl,g=this.Nk,h=this.Dj,k=this.cp;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Ej&&(a.font=this.Ej);a.fillStyle=
this.iv;var l=d=0,m=this.bl;m&&(a.lineWidth=2*k,a.strokeStyle=this.aw);this.Rj&&(k=this.Cm,a.shadowColor=this.Zv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Tr);a.textBaseline=r.S.zQ[f];a.textAlign=r.S.yQ[g];c=this.va.Ga-c;d=g===r.nN?d+c:g===r.uj?d+c/2:d+0;if(this.Ko)for(g=this.Tj.length,f===r.Gq?l=h+e-h*g:f===r.Fu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Tj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==r.Gq&&(l=f===r.Hq?l-e:l-0.5*e),m&&a.strokeText(this.Bg,
d,l),a.fillText(this.Bg,d,l)}},pA:function(){if(this.wv)return this.wv;if(!this.vv){var a=document.createElement("canvas"),c=new r.ac;c.Ff(a);this.ea(c);this.vv=a}return this.wv=this.vv.getContext("2d")},qH:function(){var a=this.de.width,c,d;this.uG=[];this.Ko=!1;this.hP();if(0!==a){var e=this.Bg;this.Tj=[];c=0;for(d=this.Bg.length;c<d;){var f=this.fO(e.substr(c),a);this.Tj.push(e.substr(c,f));c+=f}}else for(this.Tj=this.Bg.split("\n"),c=0,d=this.Tj.length;c<d;c++)this.uG.push(this.Dr(this.Tj[c]));
0<this.Tj.length&&(this.Ko=!0);d=c=0;this.bl&&(c=d=2*this.cp);this.Rj&&(e=this.Cm,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Ko?r.size(0|Math.max.apply(Math,this.uG)+c,0|this.Dj*this.Tj.length+d):r.size(0|this.Dr(this.Bg)+c,0|this.Dj+d):0===this.de.height?this.Ko?r.size(0|a+c,0|this.Dj*this.Tj.length+d):r.size(0|a+c,0|this.Dj+d):r.size(0|a+c,0|this.de.height+d);this.W(a);this.yB=c;this.zB=d;e=this.Gh;this.Id.F=0.5*c+(a.width-c)*e.F;this.Id.I=0.5*d+(a.height-d)*e.I},c:function(){this.hd&&
this.qH();return r.w.prototype.c.call(this)},HB:function(){var a=this.pA(),c=this.vv,d=this.va;if(0===this.Bg.length)return c.width=1,c.height=d.ta,this.Sb(r.rect(0,0,1,d.ta)),!0;a.font=this.Ej;this.qH();var e=d.Ga,d=d.ta,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.wO(a);this.Ea.Ce();this.Sb(r.rect(0,0,e,d));return!0},ra:function(a){this.Bg&&""!=this.Bg&&(this.hd&&(this.hd=!1,this.HB()),r.w.prototype.ra.call(this,a||r.X))},Va:null,tg:function(a){if(this.Bg&&""!=this.Bg){a=
a||r.X;var c=this.Ea;c&&c.rc&&(this.Kc.of(),this.Kc.Qg(),r.ek(this.ga.src,this.ga.Gb),r.Hg(c),r.xe(r.Eu),a.bindBuffer(a.ARRAY_BUFFER,this.Sv),this.wf&&(a.bufferData(a.ARRAY_BUFFER,this.Kb.VB,a.STATIC_DRAW),this.wf=!1),a.vertexAttribPointer(r.Oe,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(r.Fq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(r.Eq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===r.yk?(a=this.Kb,a=[r.a(a.Sa.s.x,a.Sa.s.y),r.a(a.Ja.s.x,a.Ja.s.y),r.a(a.Ua.s.x,a.Ua.s.y),r.a(a.Na.s.x,
a.Na.s.y)],r.$f.me(a,4,!0)):2===r.yk&&(a=this.BC().cb,c=this.ec,a=[r.a(c.x,c.y),r.a(c.x+a.width,c.y),r.a(c.x+a.width,c.y+a.height),r.a(c.x,c.y+a.height)],r.$f.me(a,4,!0));r.ai++}},nB:function(a,c,d){this.Xc=c||!1;d=d||a.cb;this.W(d);this.YD(a);c=this.fp;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.tt=!(0===c.width||0===c.height);a=this.Uh;this.jc&&(a.F=-a.F);this.kc&&(a.I=-a.I);this.ec.F=a.x+(this.va.Ga-this.za.width)/2;this.ec.I=a.y+(this.va.ta-this.za.height)/2;this.lb&&(this.Ia=!0)},TG:function(a){var c=
this.lb?this.Ra.aa():this.Ea;if(c){var d=c.Dp(),e=c.Cp(),f,g=this.Kb;this.Xc?(r.Xt?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.jc&&(e=f,f=a,a=e),this.kc&&(e=c,c=d,d=e),g.Ja.B.Pa=c,g.Ja.B.la=f,g.Ua.B.Pa=c,g.Ua.B.la=a,g.Sa.B.Pa=d,g.Sa.B.la=f,g.Na.B.Pa=d,g.Na.B.la=a):(r.Xt?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.jc&&(e=c,c=d,d=e),this.kc&&(e=f,f=a,a=e),g.Ja.B.Pa=c,g.Ja.B.la=a,g.Ua.B.Pa=d,g.Ua.B.la=a,g.Sa.B.Pa=c,g.Sa.B.la=f,g.Na.B.Pa=d,g.Na.B.la=f);this.wf=!0}}});
r.Fa.Pc?(b=r.S.prototype,b.n=r.w.prototype.n,b.Rh=r.S.prototype.WP,b.cd=r.w.prototype.cd,b.pa=r.w.prototype.pa,b.dd=r.w.prototype.dd,b.RC=r.S.prototype.SO,b.MD=r.S.prototype.aQ,b.Va=r.S.prototype.tg,b.Sb=r.w.prototype.UG):(b=r.S.prototype,b.n=r.S.prototype.Or,b.Rh=r.S.prototype.QG,b.cd=r.S.prototype.FB,b.pa=r.S.prototype.Qr,b.dd=r.S.prototype.mH,b.RC=r.S.prototype.RO,b.MD=r.S.prototype.$P,b.Va=r.w.prototype.Va,b.Sb=r.S.prototype.nB);r.S.yQ=["left","center","right"];r.S.zQ=["top","middle","bottom"];
r.S.gO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;r.S.NP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;r.S.eO=/[\s\-\/\\\:]/;r.S.create=function(a,c,d,e,f,g){var h=new r.S;return h.ol(a,c,d,e,f,g)?h:null};r.S.K2=function(a,c){var d=new r.S;return d&&d.RC(a,c)?d:null};r.S.BN=r.vN?r.Wy:r.R_;r.S.am=document.createElement("div");r.S.am.style.fontFamily="Arial";r.S.am.style.position="absolute";r.S.am.style.left="-100px";r.S.am.style.top="-100px";r.S.am.style.lineHeight="normal";
document.body.appendChild(r.S.am);r.S.Ju=function(a,c){var d=r.S.HF[a+"."+c];if(0<d)return d;var e=r.S.am;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;r.S.HF[a+"."+c]=d;e.innerHTML="";return d};r.S.HF={};r.rM=r.Da.extend({Mc:null,target:null,Um:0,rh:null,Zm:!1,paused:!1,JC:null,ctor:function(){this.Mc=[];this.Q=null;this.Um=0;this.rh=null;this.paused=this.Zm=!1;this.JC=null}});
r.OL=r.Da.extend({Jh:null,io:null,rf:null,Bi:!1,i1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Jh={};this.io=[];this.rf=null;this.Bi=!1},UQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Jh[c.cc];e||(e=new r.rM,e.paused=d,e.target=c,this.Jh[c.cc]=e,this.io.push(e));this.LN(e);e.Mc.push(a);a.$(c)},C$:function(){for(var a=this.io,
c=0;c<a.length;c++){var d=a[c];d&&this.eK(d.target,!0)}},eK:function(a,c){if(null!=a){var d=this.Jh[a.cc];d&&(-1===d.Mc.indexOf(d.rh)||d.Zm||(d.Zm=!0),d.Mc=[],this.rf!=d||c?this.Uz(d):this.Bi=!0)}},dK:function(a){if(null!=a){var c=this.Jh[a.vm.cc];if(c)for(var d=0;d<c.Mc.length;d++){if(c.Mc[d]==a){c.Mc.splice(d,1);break}}else r.log("cocos2d: removeAction: Target not found")}},MV:function(a,c){a==r.Pn&&r.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Jh[c.cc];if(d)for(var e=d.Mc.length,f=0;f<e;++f){var g=d.Mc[f];if(g&&g.nd===a&&g.vm==c){this.AP(f,d);break}}},tC:function(a,c){a==r.Pn&&r.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Jh[c.cc];if(d){if(null!=d.Mc)for(var e=0;e<d.Mc.length;++e){var f=d.Mc[e];if(f&&f.nd===a)return f}r.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},FU:function(a){return(a=this.Jh[a.cc])?a.Mc?a.Mc.length:0:0},Xs:function(a){if(a=this.Jh[a.cc])a.paused=!0},
xn:function(a){if(a=this.Jh[a.cc])a.paused=!1},e$:function(){for(var a=[],c=this.io,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},eW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.xn(a[c])},p$:function(){r.Z.e().Df().lq(this)},AP:function(a,c){c.Mc[a]!=c.rh||c.Zm||(c.Zm=!0);r.oq(c.Mc,a);c.Um>=a&&c.Um--;0==c.Mc.length&&(this.rf==c?this.Bi=!0:this.Uz(c))},Uz:function(a){a&&(delete this.Jh[a.target.cc],r.Vd(this.io,a),a.Mc=null,a.target=null)},LN:function(a){null==
a.Mc&&(a.Mc=[])},update:function(a){for(var c=this.io,d,e=0;e<c.length;e++){d=this.rf=c[e];if(!d.paused)for(d.Um=0;d.Um<d.Mc.length;d.Um++)if(d.rh=d.Mc[d.Um],d.rh){d.Zm=!1;d.rh.step(a);if(d.Zm)d.rh=null;else if(d.rh.di()){d.rh.stop();var f=d.rh;d.rh=null;this.dK(f)}d.rh=null}this.Bi&&0===d.Mc.length&&this.Uz(d)}}});r.qf=r.Da.extend({L:null,Qv:r.rj(),Of:0,ctor:function(a,c,d){this.L=r.a(a||0,c||0);this.Of=d||0},d5:function(){return this.L},aT:function(){return this.Qv},x4:function(){return r.Bd(this.L,this.Qv)},U4:function(){return this.Of},V4:function(){return this.Of},VD:function(a,c,d){this.Qv=this.L;this.L=r.a(c||0,d||0);this.Of=a},Uf:function(a,c){this.Qv=r.a(a||0,c||0)}});
r.AF=r.Da.extend({O0:null,jb:function(){return!1},qd:function(){},Gf:function(){},jk:function(){},HJ:function(){},KJ:function(){},JJ:function(){},IJ:function(){},oda:function(){},nda:function(){}});r.h0=r.AF.extend({jb:function(){return!1},qd:function(){},Gf:function(){},jk:function(){}});r.a0=r.AF.extend({HJ:function(){},KJ:function(){},JJ:function(){},IJ:function(){}});r.co=r.Da.extend({Xb:null,vf:0,Bo:0,fc:function(){return this.Xb},zh:function(a){this.Xb=a},bT:function(){return this.vf},ht:function(a){this.vf=a},JS:function(){return this.Bo},OW:function(a){this.Bo=a},fk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Xb=a;this.vf=c;this.Bo=0;return!0}});r.co.create=function(a,c){var d=new r.co;d&&d.fk(a,c);return d};r.az=r.co.extend({fk:function(a,c){return r.co.prototype.fk.call(this,a,c)}});
r.az.create=function(a,c){var d=new r.az;d&&d.fk(a,c);return d};r.xu=r.co.extend({ew:!1,wo:null,t8:function(){return this.ew},Wba:function(a){this.ew=a},i4:function(){return this.wo},fk:function(a,c,d){return r.co.prototype.fk.call(this,a,c)?(this.wo=[],this.ew=d,!0):!1}});r.xu.create=function(a,c,d){var e=new r.xu;e&&e.fk(a,c,d);return e};r.qN=1;r.tN=2;r.sN=4;r.rN=8;r.k0=r.qN|r.tN|r.sN|r.rN;r.ez=0;r.hz=1;r.gz=2;r.fz=3;r.j0=4;r.rJ=function(a,c){return a.vf>c.vf};r.Bu=function(a){this.type=a};
r.ia=r.Da.extend({Oj:!1,Ze:null,Ye:null,rm:!1,fs:!1,pw:!1,Ok:null,Gj:null,ow:!1,Bj:!1,KO:[new r.Bu(r.ez),new r.Bu(r.hz),new r.Bu(r.gz),new r.Bu(r.fz)],r:function(){this.Bj=!0;this.Ze=[];this.Ye=[];this.Ok=[];this.Gj=[];this.Oj=this.rm=this.ow=this.fs=this.pw=!1;r.ia.IV();return!0},Pr:function(a){this.Oj=a},FO:function(){return this.Oj},T7:function(){return this.Bj},MW:function(a){this.Bj=a},PN:function(a,c){var d=r.az.create(a,c||0);this.rm?-1!=this.Gj.indexOf(a)?r.Vd(this.Gj,a):(this.Ok.push(d),
this.fs=!0):this.Ye=this.vp(d,this.Ye)},QN:function(a,c,d){c=r.xu.create(a,c,d);this.rm?-1!=this.Gj.indexOf(a)?r.Vd(this.Gj,a):(this.Ok.push(c),this.fs=!0):this.Ze=this.vp(c,this.Ze)},vp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.vf<a.vf&&++d,e.fc()==a.fc())return r.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return r.Tl(c,a,d)},pI:function(){this.Ye.length=0;this.Ze.length=0},DP:function(a){if(null!=a)if(this.rm){var c=this.kI(this.Ok,a);c?r.Vd(this.Ok,
c):(this.Gj.push(a),this.pw=!0)}else this.qI(a)},OV:function(){this.rm?this.ow=!0:this.pI()},ht:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.kI(c);d?d.vf!=a&&(d.ht(a),this.YJ(this.Ze),this.YJ(this.Ye)):r.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.rm=!0;var e=this.Ze.length,f=this.Ye.length,g=e&&f,h=g?a.slice():a,k=this.KO[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],p=0;p<this.Ze.length;p++){l=this.Ze[p];if(!l)break;m=!1;if(d==r.ez)l.fc().jb&&(m=l.fc().jb(e,c))&&l.wo.push(e);else if(0<l.wo.length)switch(m=!0,k.type){case r.hz:r.Fa.gk?l.fc().qd&&l.fc().qd(e,c):this.Oj&&l.fc().qd&&l.fc().qd(e,c);break;case r.gz:l.fc().Gf&&l.fc().Gf(e,c);l.wo.length=0;break;case r.fz:l.fc().jk&&l.fc().jk(e,c),l.wo.length=0}if(m&&l.ew){g&&r.Vd(h,e);break}}if(0<f)for(n=0;n<this.Ye.length&&(l=this.Ye[n],l);n++);this.rm=!1;if(this.pw){this.pw=
!1;for(n=0;n<this.Gj.length;n++)this.qI(this.Gj[n]);this.Gj.length=0}if(this.fs){this.fs=!1;for(n=0;n<this.Ok.length;n++){l=this.Ok[n];if(!l)break;l instanceof r.xu?this.Ze=this.vp(l,this.Ze):this.Ye=this.vp(l,this.Ye)}this.Ok.length=0}this.ow&&(this.ow=!1,this.pI())},cy:function(a,c){this.Bj&&this.touches(a,c,r.ez)},dy:function(a,c){this.Bj&&this.touches(a,c,r.hz)},nt:function(a,c){this.Bj&&this.touches(a,c,r.gz)},gE:function(a,c){this.Bj&&this.touches(a,c,r.fz)},kI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Ze.length;d++)if(this.Ze[d].fc()==c)return this.Ze[d];for(d=0;d<this.Ye.length;d++)if(this.Ye[d].fc()==c)return this.Ye[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].fc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},qI:function(a){for(var c,d=0;d<this.Ye.length;d++)if((c=this.Ye[d])&&c.fc()==a){r.Vd(this.Ye,c);break}for(d=0;d<this.Ze.length;d++)if((c=this.Ze[d])&&c.fc()==a){r.Vd(this.Ze,c);break}},YJ:function(a){a.sort(r.rJ)}});r.ia.rb=r.a(0,0);r.ia.mJ=!1;
r.Ti=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
r.bN=function(a,c){var d=r.Ti(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=r.sa.e().ck(e,f,d);d=new r.qf(e.x,e.y);d.Uf(r.ia.rb.x,r.ia.rb.y);r.ia.rb.x=e.x;r.ia.rb.y=e.y;e=[];e.push(d);r.sa.e().nt(e,null)};
r.ia.IV=function(){var a=r.canvas;if(!r.ia.mJ){if(r.Fa.gk)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=r.Ti(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=r.sa.e().ck(k,l,e);e=new r.qf(k.x,k.y);e.Uf(r.ia.rb.x,r.ia.rb.y);r.ia.rb.x=k.x;r.ia.rb.y=k.y;r.Z.e().af[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=r.Ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.sa.e().ck(k,l,g),h.hasOwnProperty("identifier")?(h=new r.qf(k.x,k.y,h.identifier),l=r.ia.lv(h).L,h.Uf(l.x,l.y),r.ia.RG(h)):(h=new r.qf(k.x,k.y),h.Uf(r.ia.rb.x,r.ia.rb.y)),r.ia.rb.x=k.x,
r.ia.rb.y=k.y,d.push(h);r.sa.e().cy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=r.Ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.sa.e().ck(k,l,g),h.hasOwnProperty("identifier")?(h=new r.qf(k.x,k.y,h.identifier),l=r.ia.lv(h).L,h.Uf(l.x,l.y),r.ia.RG(h)):(h=new r.qf(k.x,k.y),h.Uf(r.ia.rb.x,r.ia.rb.y)),
r.ia.rb.x=k.x,r.ia.rb.y=k.y,d.push(h);r.sa.e().dy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=r.Ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.sa.e().ck(k,l,g),h.hasOwnProperty("identifier")?(h=new r.qf(k.x,k.y,h.identifier),l=r.ia.lv(h).L,h.Uf(l.x,l.y),r.ia.$F(h)):(h=new r.qf(k.x,k.y),h.Uf(r.ia.rb.x,
r.ia.rb.y)),r.ia.rb.x=k.x,r.ia.rb.y=k.y,d.push(h);r.sa.e().nt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=r.Ti(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.sa.e().ck(k,l,g),h.hasOwnProperty("identifier")?(h=new r.qf(k.x,k.y,h.identifier),l=r.ia.lv(h).L,h.Uf(l.x,l.y),r.ia.$F(h)):(h=new r.qf(k.x,
k.y),h.Uf(r.ia.rb.x,r.ia.rb.y)),r.ia.rb.x=k.x,r.ia.rb.y=k.y,d.push(h);r.sa.e().gE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){r.Z.e().af.Pr(!0)}),window.addEventListener("mouseup",function(c){r.Z.e().af.Pr(!1);var d=r.Ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);r.bb(new r.ng(d.left,d.top,d.width,d.height),r.a(g,c))||(g=r.sa.e().ck(g,c,d),d=new r.qf(g.x,
g.y),d.Uf(r.ia.rb.x,r.ia.rb.y),r.ia.rb.x=g.x,r.ia.rb.y=g.y,g=[],g.push(d),r.sa.e().nt(g,null))}),a.addEventListener("mousedown",function(c){var d=r.Ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=r.sa.e().ck(g,c,d);d=new r.qf(g.x,g.y);d.Uf(r.ia.rb.x,r.ia.rb.y);r.ia.rb.x=g.x;r.ia.rb.y=g.y;g=[];g.push(d);r.sa.e().cy(g,null)}),a.addEventListener("mouseup",function(c){r.bN(a,c)}),a.addEventListener("mousemove",function(c){var d=
r.Ti(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=r.sa.e().ck(g,c,d);d=new r.qf(g.x,g.y);d.Uf(r.ia.rb.x,r.ia.rb.y);r.ia.rb.x=g.x;r.ia.rb.y=g.y;g=[];g.push(d);r.sa.e().dy(g,null)});r.ia.mJ=!0}};r.ia.lv=function(a){for(var c=null,d=r.ia.RA,e=a.Of,f=d.length-1;0<=f;f--)if(d[f].Of==e){c=d[f];break}c||(c=a);return c};
r.ia.RG=function(a){for(var c=!1,d=r.ia.RA,e=a.Of,f=d.length-1;0<=f;f--)if(d[f].Of==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[r.ia.SA]=a,r.ia.SA=(r.ia.SA+1)%50))};r.ia.$F=function(a){var c,d=r.ia.RA;c=a.Of;for(a=d.length-1;0<=a;a--)if(d[a].Of==c){c=d.pop();a!=d.length&&(d[a]=c);break}};r.ia.RA=[];r.ia.SA=0;r.uD=function(a,c,d){r.Z.e().af.QN(d,a,c)};r.JV=function(a,c){r.Z.e().af.PN(a,c)};r.wL=function(a){r.Z.e().af.DP(a)};r.MM=1;r.WE=2;r.b_=4;r.QM=8;r.E_=16;r.F_=32;r.G_=64;r.q_=128;r.r_=256;r.s_=512;r.nF=1024;r.NM=2048;r.OM=4096;r.PM=0;r.c_=1;r.XE=2;r.f_=r.Da.extend({JU:function(){return!1},KU:function(){return!1},ej:function(){return!1},NU:function(){return!1},RU:function(){return!1},SU:function(){return!1},TU:function(){return!1},OU:function(){return!1},PU:function(){return!1},QU:function(){return!1},UU:function(){return!1},LU:function(){return!1},MU:function(){return!1}});
r.RM=r.qf.extend({tH:0,SF:r.PM,g7:function(){return this.tH},aL:function(a){this.tH=a},a4:function(){return this.SF},AW:function(a){this.SF=a}});r.Ly=r.Da.extend({Xb:null,vf:0,Bo:0,fc:function(){return this.Xb},zh:function(a){this.Xb=a},bT:function(){return this.vf},ht:function(a){this.vf=a},JS:function(){return this.Bo},OW:function(a){this.Bo=a},fk:function(a,c){this.Xb=a;this.vf=c}});r.Ly.create=function(a,c){var d=new r.Ly;d.fk(a,c);return d};
r.Zd=r.Da.extend({Oj:!1,Uv:!1,Pf:null,Bj:!1,r:function(){this.Bj=!0;this.Pf=[];this.Uv=this.Oj=!1;r.Zd.yP();return!0},Pr:function(a){this.Oj=a},FO:function(){return this.Oj},SG:function(a){this.Uv=a},V0:function(){return this.Uv},CH:function(a,c){var d=r.Ly.create(a,c);this.Pf=this.vp(d,this.Pf)},vp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.vf<a.vf&&++d,f.fc()==a.fc()))return r.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return r.Tl(c,a,d)},fK:function(a){if(null!=
a)for(var c=0;c<this.Pf.length;c++){var d=this.Pf[c];if(d&&d.fc()==a){r.Vd(this.Pf,d);break}}},DO:function(a){for(var c=0;c<this.Pf.length;c++)if(this.Pf[c]&&this.Pf[c].fc()==a)return this.Pf[c];return null},ht:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.DO(c);d?d.vf!=a&&(d.ht(a),this.Pf.sort(r.rJ)):r.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},F$:function(){this.Pf.length=0},hn:function(a,c,d){for(c=0;c<this.Pf.length;c++){var e=
this.Pf[c];switch(d){case r.WE:this.Oj||this.Uv||!e.fc().ej||e.fc().ej(a)}}}});r.Zd.Pv=r.a(0,0);r.Zd.aP=!1;
r.Zd.yP=function(){var a=r.canvas;function c(c){var e=r.Ti(a),f=c.pageX,g=c.pageY,h=r.sa.e(),f=(f-e.left)/h.wa,e=(e.height-(g-e.top))/h.Ba,g=new r.RM(f,e);g.Uf(r.Zd.Pv.x,r.Zd.Pv.y);g.AW(c.button);r.Zd.Pv.x=f;r.Zd.Pv.y=e;return g}r.Zd.aP||(window.addEventListener("mousedown",function(a){a.button==r.XE?r.Z.e().Cf().SG(!0):r.Z.e().Cf().Pr(!0)}),window.addEventListener("mouseup",function(a){a.button==r.XE?r.Z.e().Cf().SG(!1):r.Z.e().Cf().Pr(!1)}),a.addEventListener("mousedown",function(a){r.Z.e().Cf().hn(c(a),
a,r.MM)}),a.addEventListener("mouseup",function(a){r.Z.e().Cf().hn(c(a),a,r.QM)}),a.addEventListener("mousemove",function(a){r.Z.e().Cf().hn(c(a),a,r.WE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.aL(a.wheelDelta);r.Z.e().Cf().hn(e,a,r.nF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.aL(-120*a.detail);r.Z.e().Cf().hn(e,a,r.nF)}),a.addEventListener("mouseout",function(a){r.Z.e().Cf().hn(c(a),a,r.OM)},!1),a.addEventListener("mouseover",function(a){r.Z.e().Cf().hn(c(a),
a,r.NM)},!1))};r.Cda=function(){return{x:0,y:0}};r.Ol=function(a,c){return{x:a,y:c}};r.Rg=function(a,c){return r.Ol(a.x+c.x,a.y+c.y)};r.rd=function(a,c){return r.Ol(a.x-c.x,a.y-c.y)};r.jg=function(a,c){return r.Ol(a.x*c,a.y*c)};r.jy=function(a){return r.Ol(-a.y,a.x)};r.lj=function(a){return r.Ol(-a.x,-a.y)};r.tY=function(a,c){return a.x*c.x+a.y*c.y};r.Bda=function(a){return r.Ol(Math.cos(a),Math.sin(a))};r.mE=function(a){a=r.yh(r.a(a.x,a.y));return r.Ol(a.x,a.y)};r.ti=function(a){return r.Ol(a.x,a.y)};
r.Cb=function(a){return{Pa:a.x,la:a.y}};
r.gM=r.D.extend({eb:null,ga:null,zs:function(){return this.ga},Dl:function(a){this.ga=a},ctor:function(){r.D.prototype.ctor.call(this);this.eb=[];this.ga=new r.Vl(r.Le,r.Ke)},Va:function(a){a=a||r.X;var c=r.sa.e().wa;this.ga&&770==this.ga.src&&1==this.ga.Gb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.eb.length;d++){var e=this.eb[d];e.type===r.Ug.wF&&(a.fillStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.H+")",r.$f.mC(e.position,e.sD));e.type===
r.Ug.yF&&(a.strokeStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.H+")",a.lineWidth=2*e.sD*c,a.lineCap="round",r.$f.Zh(e.an,e.Nl));e.type===r.Ug.xF&&(a.fillStyle="rgba("+(0|255*e.fillColor.p)+","+(0|255*e.fillColor.o)+","+(0|255*e.fillColor.g)+","+e.fillColor.H+")",r.$f.me(e.oE,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.p)+","+(0|255*e.borderColor.o)+","+(0|255*e.borderColor.g)+","+e.borderColor.H+
")",r.$f.me(e.oE,e.count,!0,!1))}},kS:function(a,c,d){var e=new r.mz(r.Ug.wF);e.position=a;e.sD=c;e.color=d;this.eb.push(e)},oS:function(a,c,d,e){var f=new r.mz(r.Ug.yF);f.an=a;f.Nl=c;f.sD=d;f.color=e;this.eb.push(f)},me:function(a,c,d,e){var f=new r.mz(r.Ug.xF);f.oE=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.eb.push(f)},clear:function(){this.eb.length=0}});
r.hM=r.D.extend({no:0,eb:null,el:null,gH:null,fH:null,ga:null,Ia:!1,zs:function(){return this.ga},Dl:function(a){this.ga=a},ctor:function(){r.D.prototype.ctor.call(this);this.eb=[];this.ga=new r.Vl(r.Le,r.Ke)},r:function(){return r.D.prototype.r.call(this)?(this.Pg(r.Fh.e().ii(r.Q_)),this.gA(512),this.gH=r.X.createBuffer(),this.Ia=!0):!1},JP:function(){var a=r.X;r.xe(r.Eu);a.bindBuffer(a.ARRAY_BUFFER,this.gH);this.Ia&&(a.bufferData(a.ARRAY_BUFFER,this.el,a.STREAM_DRAW),this.Ia=!1);var c=r.Ub.BYTES_PER_ELEMENT;
a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(r.Eq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(r.Fq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.eb.length);r.Ch()},gA:function(a){if(this.eb.length+a>this.no){var c=r.Gc.BYTES_PER_ELEMENT;this.no+=Math.max(this.no,a);if(null==this.eb||0===this.eb.length)this.eb=[],this.el=new ArrayBuffer(c*this.no),this.fH=new Uint8Array(this.el);else{a=[];for(var d=new ArrayBuffer(c*this.no),e=0;e<this.eb.length;e++)a[e]=new r.Gc(this.eb[e].H,
this.eb[e].g,this.eb[e].Ca,d,e*c);this.fH=new Uint8Array(d);this.eb=a;this.el=d}}},Va:function(){r.ek(this.ga.src,this.ga.Gb);this.Kc.of();this.Kc.XK();this.JP()},kS:function(a,c,d){d={p:0|255*d.p,o:0|255*d.o,g:0|255*d.g,H:0|255*d.H};var e={s:{x:a.x-c,y:a.y-c},J:d,B:{Pa:-1,la:-1}},f={s:{x:a.x+c,y:a.y+c},J:d,B:{Pa:1,la:1}},g={s:{x:a.x+c,y:a.y-c},J:d,B:{Pa:1,la:-1}};this.eb.push(new r.Gc(e,{s:{x:a.x-c,y:a.y+c},J:d,B:{Pa:-1,la:1}},f,this.el,this.eb.length*r.Gc.BYTES_PER_ELEMENT));this.eb.push(new r.Gc(e,
f,g,this.el,this.eb.length*r.Gc.BYTES_PER_ELEMENT));this.Ia=!0},oS:function(a,c,d,e){this.gA(18);e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,H:0|255*e.H};var f=r.ti(a);c=r.ti(c);a=r.mE(r.jy(r.rd(c,f)));var g=r.jy(a),h=r.jg(a,d);d=r.jg(g,d);var k=r.Rg(c,r.rd(h,d)),l=r.rd(c,h),m=r.Rg(c,h),n=r.rd(f,h),p=r.Rg(f,h),q=r.rd(f,r.rd(h,d)),f=r.Rg(f,r.Rg(h,d)),u=r.Gc.BYTES_PER_ELEMENT,w=this.el;this.eb.push(new r.Gc({s:r.rd(c,r.Rg(h,d)),J:e,B:r.Cb(r.lj(r.Rg(a,g)))},{s:k,J:e,B:r.Cb(r.rd(a,g))},{s:l,J:e,B:r.Cb(r.lj(a))},
w,this.eb.length*u));this.eb.push(new r.Gc({s:m,J:e,B:r.Cb(a)},{s:k,J:e,B:r.Cb(r.rd(a,g))},{s:l,J:e,B:r.Cb(r.lj(a))},w,this.eb.length*u));this.eb.push(new r.Gc({s:m,J:e,B:r.Cb(a)},{s:n,J:e,B:r.Cb(r.lj(a))},{s:l,J:e,B:r.Cb(r.lj(a))},w,this.eb.length*u));this.eb.push(new r.Gc({s:m,J:e,B:r.Cb(a)},{s:n,J:e,B:r.Cb(r.lj(a))},{s:p,J:e,B:r.Cb(a)},w,this.eb.length*u));this.eb.push(new r.Gc({s:q,J:e,B:r.Cb(r.rd(g,a))},{s:n,J:e,B:r.Cb(r.lj(a))},{s:p,J:e,B:r.Cb(a)},w,this.eb.length*u));this.eb.push(new r.Gc({s:q,
J:e,B:r.Cb(r.rd(g,a))},{s:f,J:e,B:r.Cb(r.Rg(a,g))},{s:p,J:e,B:r.Cb(a)},w,this.eb.length*u));this.Ia=!0},me:function(a,c,d,e){c={p:0|255*c.p,o:0|255*c.o,g:0|255*c.g,H:0|255*c.H};e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,H:0|255*e.H};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=r.ti(a[(g-1+m)%m]);k=r.ti(a[g]);l=r.ti(a[(g+1)%m]);var n=r.mE(r.jy(r.rd(k,h)));k=r.mE(r.jy(r.rd(l,k)));f[g]={offset:r.jg(r.Rg(n,k),1/(r.tY(n,k)+1)),BJ:k}}n=0<d;this.gA(3*(3*m-2));var p=r.Gc.BYTES_PER_ELEMENT,q=this.el,u=this.eb,
w=!1==n?0.5:0;for(g=0;g<m-2;g++)h=r.rd(r.ti(a[0]),r.jg(f[0].offset,w)),k=r.rd(r.ti(a[g+1]),r.jg(f[g+1].offset,w)),l=r.rd(r.ti(a[g+2]),r.jg(f[g+2].offset,w)),u.push(new r.Gc({s:h,J:c,B:r.Cb({x:0,y:0})},{s:k,J:c,B:r.Cb({x:0,y:0})},{s:l,J:c,B:r.Cb({x:0,y:0})},q,u.length*p));for(g=0;g<m;g++){w=(g+1)%m;h=r.ti(a[g]);k=r.ti(a[w]);l=f[g].BJ;var y=f[g].offset,D=f[w].offset,w=n?r.rd(h,r.jg(y,d)):r.rd(h,r.jg(y,0.5)),B=n?r.rd(k,r.jg(D,d)):r.rd(k,r.jg(D,0.5));h=n?r.Rg(h,r.jg(y,d)):r.Rg(h,r.jg(y,0.5));k=n?r.Rg(k,
r.jg(D,d)):r.Rg(k,r.jg(D,0.5));n?(u.push(new r.Gc({s:w,J:e,B:r.Cb(r.lj(l))},{s:B,J:e,B:r.Cb(r.lj(l))},{s:k,J:e,B:r.Cb(l)},q,u.length*p)),u.push(new r.Gc({s:w,J:e,B:r.Cb(r.lj(l))},{s:h,J:e,B:r.Cb(l)},{s:k,J:e,B:r.Cb(l)},q,u.length*p))):(u.push(new r.Gc({s:w,J:c,B:r.Cb({x:0,y:0})},{s:B,J:c,B:r.Cb({x:0,y:0})},{s:k,J:c,B:r.Cb(l)},q,u.length*p)),u.push(new r.Gc({s:w,J:c,B:r.Cb({x:0,y:0})},{s:h,J:c,B:r.Cb(l)},{s:k,J:c,B:r.Cb(l)},q,u.length*p)))}this.Ia=!0},clear:function(){this.eb.length=0;this.Ia=!0}});
r.Ug=r.Fa.Pc?r.hM:r.gM;r.Ug.create=function(){var a=new r.Ug;return a&&a.r()?a:null};r.mz=function(a){this.type=a};r.Ug.wF=0;r.Ug.yF=1;r.Ug.xF=2;r.lt=-1;r.NK=function(a,c){a.Pg(c);var d=a.t;if(d)for(var e=0;e<d.length;e++)r.NK(d[e],c)};
r.nb=r.D.extend({mc:null,dm:0,Gi:!1,iG:!1,ctor:function(){r.D.prototype.ctor.call(this);this.mc=null;this.dm=0;this.Gi=!1},r:null,wA:function(a){this.mc=a;this.dm=1;this.Gi=!1;r.nb.zA=!0;r.nb.zA&&(r.lt=r.X.getParameter(r.X.STENCIL_BITS),0>=r.lt&&r.log("Stencil buffer is not enabled."),r.nb.zA=!1);return!0},vA:function(a){this.mc=a;this.dm=1;this.Gi=!1},Ng:function(){r.D.prototype.Ng.call(this);this.mc.Ng()},gi:function(){r.D.prototype.gi.call(this);this.mc.gi()},xh:function(){this.mc.xh();r.D.prototype.xh.call(this)},
Qd:function(){this.mc.Qd();r.D.prototype.Qd.call(this)},ra:null,Qm:function(a){var c=a||r.X;if(1>r.lt)r.D.prototype.ra.call(this,a);else if(this.mc&&this.mc.ja)if(r.nb.zr=-1,r.nb.zr+1==r.lt)r.nb.PB=!0,r.nb.PB&&(r.log("Nesting more than "+r.lt+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),r.nb.PB=!1),r.D.prototype.ra.call(this,a);else{r.nb.zr++;var d=1<<r.nb.zr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Gi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);r.$f.nC(r.rj(),r.YU(),r.Aw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Gi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.dm){var d=
r.Fh.e().ii(r.S_),u=c.getUniformLocation(d.Sw(),r.m0);r.n7(d.Sw());d.WK(u,this.dm);r.NK(this.mc,d)}r.Rp();this.transform();this.mc.ra();r.Qp();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);r.D.prototype.ra.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,p);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);r.nb.zr--}else this.Gi&&r.D.prototype.ra.call(this,a)},Pm:function(a){if(this.mc&&this.mc.ja){if(this.Gz()||this.mc instanceof r.w){a=a||r.X;var c=a.canvas,d=r.nb.IO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Gi?"destination-out":"destination-in";this.transform(a);this.mc.ra();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||r.X;var d=this.t,e;a.save();this.transform(a);this.mc.ra(a);a.clip();this.Gz(!0);var f=d.length;if(0<f){this.Sd();for(c=0;c<f;c++)if(e=d[c],0>e.fb)e.ra(a);else break;for(this.Va(a);c<
f;c++)d[c].ra(a)}else this.Va(a);this.Gz(!1)}a.restore()}else this.Gi&&r.D.prototype.ra.call(this,a)},E6:function(){return this.mc},SD:null,nQ:function(a){this.mc=a},mQ:function(a){this.mc=a;var c=r.sa.e().wa,d=r.sa.e().Ba,e=r.X;!(a instanceof r.w)&&a instanceof r.Ug&&(a.Va=function(){for(var f=0;f<a.eb.length;f++){var g=a.eb[f].oE,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},N3:function(){return this.dm},naa:function(a){this.dm=a},c8:function(){return this.Gi},
Yaa:function(a){this.Gi=a},Gz:function(a){if(!0===a||!1===a)r.nb.prototype.iG=a;return r.nb.prototype.iG}});r.Fa.Pc?(r.nb.prototype.r=r.nb.prototype.wA,r.nb.prototype.ra=r.nb.prototype.Qm,r.nb.prototype.SD=r.nb.prototype.nQ):(r.nb.prototype.r=r.nb.prototype.vA,r.nb.prototype.ra=r.nb.prototype.Pm,r.nb.prototype.SD=r.nb.prototype.mQ);r.nb.zA=null;r.nb.PB=null;r.nb.zr=null;r.nb.YG=null;r.nb.IO=function(){return r.nb.YG||(r.nb.YG=document.createElement("canvas"))};
r.nb.create=function(a){var c=new r.nb;c.r(a);return c};r.OZ=0;r.PZ=1;r.QZ=2;r.Vn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
r.Ab=r.D.extend({oo:null,po:null,hv:0,ar:0,Lv:0,Ea:null,cs:null,EQ:null,Sf:r.tj,ob:null,Vu:0,zj:null,Mz:0,Nz:0,Mq:!1,Lz:null,ctor:null,Hh:function(){r.D.prototype.ctor.call(this);this.zj=r.Aw(1,1,1,1);this.Lz="rgba(255,255,255,1)";this.oo=document.createElement("canvas");this.po=this.oo.getContext("2d");this.K(0,0)},Ih:function(){r.D.prototype.ctor.call(this);this.zj=r.Aw(0,0,0,0)},Zf:null,hO:function(){r.D.prototype.Qd.call(this);this.oo=this.po=null},iO:function(){r.D.prototype.Qd.call(this);this.cs=
null;var a=r.X;a.deleteFramebuffer(this.hv);this.ar&&a.deleteRenderbuffer(this.ar);this.EQ=null},mT:function(){return this.ob},it:function(a){this.ob=a},TC:null,TO:function(a,c){var d=this.oo,e=r.Fd();d.width=0|a*e;d.height=0|c*e;this.po.translate(0,d.height);e=new r.ac;e.Ff(d);e.Ce();this.ob=r.w.hb(e);return!0},UO:function(a,c,d,e){d==r.zq&&r.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=r.X,g=r.Fd();a=0|a*g;c=0|c*g;this.Lv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;r.Me.e().$r?(g=a,h=c):(g=r.Vn(a),h=r.Vn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Sf=d;this.Ea=new r.ac;if(!this.Ea)return!1;l=this.Ea;l.Xw(k,this.Sf,g,h,r.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(r.Me.e().qp("GL_QCOM")){this.cs=new r.ac;if(!this.cs)return!1;this.cs.Xw(k,this.Sf,g,h,r.size(a,c))}this.hv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.hv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Xh,0);0!=e&&(this.ar=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.ar),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.ar));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&r.log("Could not attach texture to the framebuffer");l.pK();a=this.ob=r.w.hb(l);a.Dn(-1);a.Dl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Lv);this.Mq=
!1;this.f(a);return!0},$j:null,YN:function(){r.X=this.po;r.sa.e().jQ()},ZN:function(){r.dn(r.eu);r.Rp();r.dn(r.du);r.Rp();var a=r.Z.e();a.Jx(a.Yk);var c=this.Ea.va,d=r.Z.e().uT(),a=d.width/c.width,d=d.height/c.height,e=r.X;e.viewport(0,0,c.width,c.height);c=new r.vh;r.tU(c,-1/a,1/a,-1/d,1/d,-1,1);r.cx(c);this.Lv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.hv);r.Me.e().qp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.cs.Xh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ea.Xh,0))},ZB:function(a,c,d,e,f,g){var h=r.X;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Dz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Dz:null,$N:function(a,c,d,e){this.$j();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.po,g=this.oo;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},aO:function(a,c,d,e,f,g,h){this.$j();var k=r.X,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,BO:function(){r.X=r.zU;r.sa.e().MP()},CO:function(){var a=r.X,c=r.Z.e();a.bindFramebuffer(a.FRAMEBUFFER,this.Lv);c.$K();r.dn(r.eu);r.Qp();r.dn(r.du);r.Qp()},clear:function(a,c,d,e){this.ZB(a,c,d,e);this.end()},clearRect:null,mO:function(a,c,d,e){this.po.clearRect(a,c,d,-e)},nO:function(){},clearDepth:null,kO:function(){r.log("clearDepth isn't supported on Cocos2d-Html5")},lO:function(a){this.$j();var c=r.X,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,oO:function(){r.log("clearDepth isn't supported on Cocos2d-Html5")},pO:function(a){var c=r.X,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ra:null,Pm:function(a){this.ja&&(a=a||r.X,a.save(),this.Va(a),this.transform(a),this.ob.ra(),a.restore(),this.Rf=0)},Qm:function(a){if(this.ja){r.Rp();var c=this.Mk;c&&c.Np()&&(c.YB(),this.ey());this.transform(a);this.ob.ra();this.Va(a);c&&c.Np()&&c.UB(this);
r.Qp();this.Rf=0}},Va:null,km:function(a){a=a||r.X;if(this.Mq){this.$j();if(this.Vu){var c=this.oo;a.save();a.fillStyle=this.Lz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Sd();a=this.t;for(var c=a.length,d=this.ob,e=0;e<c;e++){var f=a[e];f!=d&&f.ra()}this.end()}},tg:function(){var a=r.X;if(this.Mq){this.$j();var c=this.Vu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.zj.p,this.zj.o,this.zj.g,
this.zj.H));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Mz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Nz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Sd();a=this.t;for(c=0;c<a.length;c++)d=a[c],d!=this.ob&&d.ra();this.end()}},CJ:null,kP:function(){r.log("saveToFile isn't supported on Cocos2d-Html5");return null},
lP:function(){r.log("saveToFile isn't supported on Cocos2d-Html5");r.yt(this.Sf==r.tj,"only RGBA8888 can be saved as image");if(!this.Ea)return null;var a=this.Ea.va,c=a.width,a=a.height,d=new r.tM,e=r.X,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.$j();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.iP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.B7(f,c*a*4,r.IZ,c,a,8);return d},iP:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},daa:function(){r.log("saveToFile isn't supported on Cocos2d-Html5")},T8:function(){r.log("listenToBackground isn't supported on Cocos2d-Html5")},U8:function(){r.log("listenToForeground isn't supported on Cocos2d-Html5")},l4:function(){return this.Vu},vaa:function(a){this.Vu=a},j4:function(){return this.zj},wK:null,UP:function(a){var c=this.zj;c.p=a.p;c.o=a.o;c.g=a.g;c.H=a.H;this.Lz="rgba("+(0|255*a.p)+","+(0|255*a.o)+","+(0|255*a.g)+","+a.H+")"},VP:function(a){var c=this.zj;
c.p=a.p;c.o=a.o;c.g=a.g;c.H=a.H},k4:function(){return this.Mz},uaa:function(a){this.Mz=a},m4:function(){return this.Nz},waa:function(a){this.Nz=a},N7:function(){return this.Mq},paa:function(a){this.Mq=a}});
r.Fa.Pc?(b=r.Ab.prototype,b.ctor=r.Ab.prototype.Ih,b.Zf=r.Ab.prototype.iO,b.TC=r.Ab.prototype.UO,b.$j=r.Ab.prototype.ZN,b.Dz=r.Ab.prototype.aO,b.end=r.Ab.prototype.CO,b.clearRect=r.Ab.prototype.nO,b.clearDepth=r.Ab.prototype.lO,b.clearStencil=r.Ab.prototype.pO,b.ra=r.Ab.prototype.Qm,b.Va=r.Ab.prototype.tg,b.CJ=r.Ab.prototype.lP,b.wK=r.Ab.prototype.VP):(b=r.Ab.prototype,b.ctor=r.Ab.prototype.Hh,b.Zf=r.Ab.prototype.hO,b.TC=r.Ab.prototype.TO,b.$j=r.Ab.prototype.YN,b.Dz=r.Ab.prototype.$N,b.end=r.Ab.prototype.BO,
b.clearRect=r.Ab.prototype.mO,b.clearDepth=r.Ab.prototype.kO,b.clearStencil=r.Ab.prototype.oO,b.ra=r.Ab.prototype.Pm,b.Va=r.Ab.prototype.km,b.CJ=r.Ab.prototype.kP,b.wK=r.Ab.prototype.UP);r.Ab.create=function(a,c,d,e){d=d||r.tj;e=e||0;var f=new r.Ab;return f&&f.TC(a,c,d,e)?f:null};r.Pn=-1;
r.Ed=r.Da.extend({vm:null,Q:null,nd:r.Pn,ctor:function(){this.Q=this.vm=null;this.nd=r.Pn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.nd+"\x3e"},copy:function(){return r.G(this)},G:function(){var a=new r.Ed;a.vm=null;a.Q=null;a.nd=this.nd;return a},di:function(){return!0},$:function(a){this.Q=this.vm=a},stop:function(){this.Q=null},step:function(){r.log("[Action step]. override me")},update:function(){r.log("[Action update]. override me")},qT:function(){return this.Q},Xba:function(a){this.Q=a},
M5:function(){return this.vm},sba:function(a){this.vm=a},pT:function(){return this.nd},VK:function(a){this.nd=a},kK:function(){},xD:function(){}});r.Ed.create=function(){return new r.Ed};r.qj=r.Ed.extend({ya:0,ctor:function(){r.Ed.prototype.ctor.call(this);this.ya=0},Af:function(){return this.ya},Haa:function(a){this.ya=a},reverse:function(){r.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},G:function(){return new r.qj}});
r.uu=r.Ed.extend({Em:0,Db:null,ctor:function(){r.Ed.prototype.ctor.call(this);this.Em=0;this.Db=null},x6:function(){return this.Em},Qba:function(a){this.Em=a},oa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Db=a;this.Em=c;return!0},G:function(){var a=new r.uu;a.oa(this.Db.G(),this.Em);return a},$:function(a){r.Ed.prototype.$.call(this,a);this.Db.$(a)},stop:function(){this.Db.stop();r.Ed.prototype.stop.call(this)},step:function(a){this.Db.step(a*this.Em)},di:function(){return this.Db.di()},
reverse:function(){return r.uu.create(this.Db.reverse(),this.Em)},IK:function(a){this.Db!=a&&(this.Db=a)},vC:function(){return this.Db}});r.uu.create=function(a,c){var d=new r.uu;return d&&d.oa(a,c)?d:null};
r.Ey=r.Ed.extend({Fo:null,lo:!1,Qu:!1,nv:null,pr:null,en:0,yn:0,Jn:0,Xm:0,RB:null,ctor:function(){r.Ed.prototype.ctor.call(this);this.Fo=null;this.Qu=this.lo=!1;this.pr=this.nv=null;this.Xm=this.Jn=this.yn=this.en=0;this.RB=r.fd()},G:function(){var a=new r.Ey,c=this.RB,c=new r.ng(c.x,c.y,c.width,c.height);a.Jg(this.Fo,c);return a},P7:function(){return this.lo},raa:function(a){this.lo=a},Jg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||r.fd();this.Fo=a;this.RB=
c;this.lo=!r.Lr(c);this.Qu=!1;var d=r.Z.e().Qb;this.pr=r.a(d.width,d.height);this.nv=r.fj(this.pr,0.5);this.lo&&(this.en=-(c.x+c.width-this.pr.x),this.yn=-c.x,this.Jn=-c.y,this.Xm=-(c.y+c.height-this.pr.y),this.yn<this.en&&(this.yn=this.en=(this.en+this.yn)/2),this.Jn<this.Xm&&(this.Jn=this.Xm=(this.Jn+this.Xm)/2),this.Jn==this.Xm&&this.en==this.yn&&(this.Qu=!0));return!0},step:function(){var a=this.Fo.q.F,c=this.Fo.q.I,a=this.nv.x-a,c=this.nv.y-c;this.lo?this.Qu||this.Q.m(r.ss(a,this.en,this.yn),
r.ss(c,this.Xm,this.Jn)):this.Q.m(a,c)},di:function(){return!this.Fo.We},stop:function(){this.Q=null;r.Ed.prototype.stop.call(this)}});r.Ey.create=function(a,c){c=c||new r.fd;var d=new r.Ey;return null!=c&&d&&d.Jg(a,c)||d&&d.Jg(a)?d:null};r.P=r.qj.extend({dc:0,or:!1,ctor:function(){r.qj.prototype.ctor.call(this);this.dc=0;this.or=!1},C4:function(){return this.dc},M:function(a){this.ya=0===a?r.Yt:a;this.dc=0;return this.or=!0},di:function(){return this.dc>=this.ya},G:function(){var a=new r.P;a.M(this.ya);return a},step:function(a){this.or?(this.or=!1,this.dc=0):this.dc+=a;a=this.dc/(1.192092896E-7<this.ya?this.ya:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},$:function(a){r.Ed.prototype.$.call(this,a);this.dc=0;this.or=!0},reverse:function(){r.log("cc.IntervalAction: reverse not implemented.");
return null},oaa:function(){r.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},O3:function(){r.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});r.P.create=function(a){var c=new r.P;c.M(a);return c};
r.sj=r.P.extend({ui:null,pB:null,Po:0,ctor:function(){r.P.prototype.ctor.call(this);this.ui=[];this.pB=null;this.Po=0},Ls:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.M(a.Af()+c.Af());this.ui[0]=a;this.ui[1]=c;return!0},G:function(){var a=new r.sj;a.Ls(this.ui[0].G(),this.ui[1].G());return a},$:function(a){r.P.prototype.$.call(this,a);this.pB=this.ui[0].Af()/this.ya;this.Po=-1},stop:function(){-1!==this.Po&&this.ui[this.Po].stop();r.Ed.prototype.stop.call(this)},
update:function(a){var c=0,d=this.pB,e=this.ui,f=this.Po;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].$(this.Q),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].di()||(f!==c&&e[c].$(this.Q),e[c].update(a),this.Po=c)},reverse:function(){return r.sj.bm(this.ui[1].reverse(),this.ui[0].reverse())},copy:function(){return this.G()}});
r.sj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&r.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=r.sj.bm(d,c[e]));return d};r.sj.bm=function(a,c){var d=new r.sj;d.Ls(a,c);return d};
r.lu=r.P.extend({Vf:0,Uj:0,Iv:0,KF:!1,Db:null,ctor:function(){r.P.prototype.ctor.call(this);this.Iv=this.Uj=this.Vf=0;this.KF=!1;this.Db=null},oa:function(a,c){return this.M(a.Af()*c)?(this.Vf=c,this.Db=a,a instanceof r.ni&&(this.Vf-=1),this.Uj=0,!0):!1},G:function(){var a=new r.lu;a.oa(this.Db.G(),this.Vf);return a},$:function(a){this.Uj=0;this.Iv=this.Db.Af()/this.ya;r.P.prototype.$.call(this,a);this.Db.$(a)},stop:function(){this.Db.stop();r.Ed.prototype.stop.call(this)},update:function(a){var c=
this.Db,d=this.ya,e=this.Vf,f=this.Iv;if(a>=f){for(;a>f&&this.Uj<e;)c.update(1),this.Uj++,c.stop(),c.$(this.Q),this.Iv=f+=c.Af()/d;1<=a&&this.Uj<e&&this.Uj++;this.KF&&(this.Uj==e?(c.update(1),c.stop()):c.update(a-(f-c.Af()/d)))}else c.update(a*e%1)},di:function(){return this.Uj==this.Vf},reverse:function(){return r.lu.create(this.Db.reverse(),this.Vf)},IK:function(a){this.Db!=a&&(this.Db=a)},vC:function(){return this.Db}});r.lu.create=function(a,c){var d=new r.lu;d.oa(a,c);return d};
r.mu=r.P.extend({Db:null,ctor:function(){r.P.prototype.ctor.call(this);this.Db=null},oa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Db=a;return!0},G:function(){var a=new r.mu;a.oa(this.Db.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Db.$(a)},step:function(a){var c=this.Db;c.step(a);c.di()&&(c.$(this.Q),c.step(c.dc-c.Af()))},di:function(){return!1},reverse:function(){return r.mu.create(this.Db.reverse())},IK:function(a){this.Db!=a&&(this.Db=
a)},vC:function(){return this.Db}});r.mu.create=function(a){var c=new r.mu;return c&&c.oa(a)?c:null};
r.yq=r.P.extend({Pj:null,Yj:null,ctor:function(){r.P.prototype.ctor.call(this);this.Yj=this.Pj=null},Ls:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Af(),f=c.Af();this.M(Math.max(e,f))&&(this.Pj=a,this.Yj=c,e>f?this.Yj=r.sj.bm(c,r.Rn.create(e-f)):e<f&&(this.Pj=r.sj.bm(a,r.Rn.create(f-e))),d=!0);return d},G:function(){var a=new r.yq;a.Ls(this.Pj.G(),this.Yj.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Pj.$(a);this.Yj.$(a)},
stop:function(){this.Pj.stop();this.Yj.stop();r.Ed.prototype.stop.call(this)},update:function(a){this.Pj&&this.Pj.update(a);this.Yj&&this.Yj.update(a)},reverse:function(){return r.yq.bm(this.Pj.reverse(),this.Yj.reverse())}});r.yq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&r.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.bm(d,c[e]));return d};
r.yq.bm=function(a,c){var d=new r.yq;d.Ls(a,c);return d};
r.Vy=r.P.extend({dr:0,Fm:0,Yz:0,fv:0,al:0,Zz:0,ctor:function(){r.P.prototype.ctor.call(this);this.Zz=this.al=this.fv=this.Yz=this.Fm=this.dr=0},M:function(a,c,d){return r.P.prototype.M.call(this,a)?(this.dr=c||0,this.fv=d||this.dr,!0):!1},G:function(){var a=new r.Vy;a.M(this.ya,this.dr,this.fv);return a},$:function(a){r.P.prototype.$.call(this,a);var c=a.zg%360,d=this.dr-c;180<d&&(d-=360);-180>d&&(d+=360);this.Fm=c;this.Yz=d;this.al=a.Ph%360;a=this.fv-this.al;180<a&&(a-=360);-180>a&&(a+=360);this.Zz=
a},reverse:function(){r.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.Q&&(this.Q.Mx(this.Fm+this.Yz*a),this.Q.Nx(this.al+this.Zz*a))}});r.Vy.create=function(a,c,d){var e=new r.Vy;e.M(a,c,d);return e};
r.ou=r.P.extend({pg:0,Fm:0,Lq:0,al:0,ctor:function(){r.P.prototype.ctor.call(this);this.al=this.Lq=this.Fm=this.pg=0},M:function(a,c,d){return r.P.prototype.M.call(this,a)?(this.pg=c||0,this.Lq=d||this.pg,!0):!1},G:function(){var a=new r.ou;a.M(this.ya,this.pg,this.Lq);return a},$:function(a){r.P.prototype.$.call(this,a);this.Fm=a.zg;this.al=a.Ph},update:function(a){this.Q&&(this.Q.Mx(this.Fm+this.pg*a),this.Q.Nx(this.al+this.Lq*a))},reverse:function(){return r.ou.create(this.ya,-this.pg,-this.Lq)}});
r.ou.create=function(a,c,d){var e=new r.ou;e.M(a,c,d);return e};
r.vk=r.P.extend({Ni:null,Tc:null,Sc:null,ctor:function(){r.P.prototype.ctor.call(this);this.Ni=r.a(0,0);this.Tc=r.a(0,0);this.Sc=r.a(0,0)},M:function(a,c){return r.P.prototype.M.call(this,a)?(this.Ni.x=c.x,this.Ni.y=c.y,!0):!1},G:function(){var a=new r.vk;a.M(this.ya,this.Ni);return a},$:function(a){r.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.I;this.Sc.x=c;this.Sc.y=a;this.Tc.x=c;this.Tc.y=a},update:function(a){if(this.Q){var c=this.Ni.x*a;a*=this.Ni.y;var d=this.Tc;if(r.Ct){var e=this.Q.q.I,f=
this.Sc;d.x=d.x+this.Q.q.F-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.Q.m(c,a);f.x=c;f.y=a}else this.Q.m(d.x+c,d.y+a)}},reverse:function(){return r.vk.create(this.ya,r.a(-this.Ni.x,-this.Ni.y))}});r.vk.create=function(a,c){var d=new r.vk;d.M(a,c);return d};
r.gu=r.vk.extend({Eo:null,ctor:function(){r.vk.prototype.ctor.call(this);this.Eo=r.a(0,0)},M:function(a,c){return r.vk.prototype.M.call(this,a,c)?(this.Eo.x=c.x,this.Eo.y=c.y,!0):!1},G:function(){var a=new r.gu;a.M(this.ya,this.Eo);return a},$:function(a){r.vk.prototype.$.call(this,a);this.Ni.x=this.Eo.x-a.q.F;this.Ni.y=this.Eo.y-a.q.I}});r.gu.create=function(a,c){var d=new r.gu;d.M(a,c);return d};
r.ao=r.P.extend({je:0,ke:0,Wr:0,Xr:0,ir:0,jr:0,Pe:0,Qe:0,ctor:function(){r.P.prototype.ctor.call(this);this.Qe=this.Pe=this.jr=this.ir=this.Xr=this.Wr=this.ke=this.je=0},M:function(a,c,d){var e=!1;r.P.prototype.M.call(this,a)&&(this.ir=c,this.jr=d,e=!0);return e},G:function(){var a=new r.ao;a.M(this.ya,this.ir,this.jr);return a},$:function(a){r.P.prototype.$.call(this,a);this.Wr=a.je%180;this.Pe=this.ir-this.Wr;180<this.Pe&&(this.Pe-=360);-180>this.Pe&&(this.Pe+=360);this.Xr=a.ke%360;this.Qe=this.jr-
this.Xr;180<this.Qe&&(this.Qe-=360);-180>this.Qe&&(this.Qe+=360)},update:function(a){this.Q.Px(this.Wr+this.Pe*a);this.Q.Qx(this.Xr+this.Qe*a)}});r.ao.create=function(a,c,d){var e=new r.ao;e&&e.M(a,c,d);return e};
r.su=r.ao.extend({M:function(a,c,d){var e=!1;r.ao.prototype.M.call(this,a,c,d)&&(this.je=c,this.ke=d,e=!0);return e},G:function(){var a=new r.su;a.M(this.ya,this.je,this.ke);return a},$:function(a){r.ao.prototype.$.call(this,a);this.Pe=this.je;this.Qe=this.ke;this.ir=this.Wr+this.Pe;this.jr=this.Xr+this.Qe},reverse:function(){return r.su.create(this.ya,-this.je,-this.ke)}});r.su.create=function(a,c,d){var e=new r.su;e&&e.M(a,c,d);return e};
r.Tn=r.P.extend({Tc:null,sg:null,ta:0,Mo:0,Sc:null,ctor:function(){r.P.prototype.ctor.call(this);this.Tc=r.a(0,0);this.Sc=r.a(0,0);this.sg=r.a(0,0);this.Mo=this.ta=0},M:function(a,c,d,e){return r.P.prototype.M.call(this,a)?(this.sg.x=c.x,this.sg.y=c.y,this.ta=d,this.Mo=e,!0):!1},G:function(){var a=new r.Tn;a.M(this.ya,this.sg,this.ta,this.Mo);return a},$:function(a){r.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.I;this.Sc.x=c;this.Sc.y=a;this.Tc.x=c;this.Tc.y=a},update:function(a){if(this.Q){var c=
a*this.Mo%1,c=4*this.ta*c*(1-c),c=c+this.sg.y*a;a*=this.sg.x;var d=this.Tc;if(r.Ct){var e=this.Q.q.I,f=this.Sc;d.x=d.x+this.Q.q.F-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.Q.m(a,c);f.x=a;f.y=c}else this.Q.m(d.x+a,d.y+c)}},reverse:function(){return r.Tn.create(this.ya,r.a(-this.sg.x,-this.sg.y),this.ta,this.Mo)}});r.Tn.create=function(a,c,d,e){var f=new r.Tn;f.M(a,c,d,e);return f};
r.Hy=r.Tn.extend({$:function(a){r.Tn.prototype.$.call(this,a);this.sg.x-=this.Tc.x;this.sg.y-=this.Tc.y},G:function(){var a=new r.Hy;a.M(this.ya,this.sg,this.ta,this.Mo);return a}});r.Hy.create=function(a,c,d,e){var f=new r.Hy;f.M(a,c,d,e);return f};r.LH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
r.Ul=r.P.extend({im:null,Tc:null,Sc:null,ctor:function(){r.P.prototype.ctor.call(this);this.im=[];this.Tc=r.a(0,0);this.Sc=r.a(0,0)},M:function(a,c){return r.P.prototype.M.call(this,a)?(this.im=c,!0):!1},G:function(){for(var a=new r.Ul,c=[],d=0;d<this.im.length;d++){var e=this.im[d];c.push(r.a(e.x,e.y))}a.M(this.ya,c);return a},$:function(a){r.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.I;this.Sc.x=c;this.Sc.y=a;this.Tc.x=c;this.Tc.y=a},update:function(a){if(this.Q){var c=this.im,d=r.LH(c[0].x,c[1].x,
c[2].x,a);a=r.LH(c[0].y,c[1].y,c[2].y,a);c=this.Tc;if(r.Ct){var e=this.Q.q.I,f=this.Sc;c.x=c.x+this.Q.q.F-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.Q.m(d,a);f.x=d;f.y=a}else this.Q.m(c.x+d,c.y+a)}},reverse:function(){var a=this.im,a=[r.eg(a[1],r.mD(a[2])),r.eg(a[0],r.mD(a[2])),r.mD(a[2])];return r.Ul.create(this.ya,a)}});r.Ul.create=function(a,c){var d=new r.Ul;d.M(a,c);return d};
r.qy=r.Ul.extend({mw:null,ctor:function(){r.Ul.prototype.ctor.call(this);this.mw=[]},M:function(a,c){return r.P.prototype.M.call(this,a)?(this.mw=c,!0):!1},G:function(){var a=new r.qy;a.M(this.ya,this.mw);return a},$:function(a){r.Ul.prototype.$.call(this,a);a=this.Tc;var c=this.mw,d=this.im;d[0]=r.Bd(c[0],a);d[1]=r.Bd(c[1],a);d[2]=r.Bd(c[2],a)}});r.qy.create=function(a,c){var d=new r.qy;d.M(a,c);return d};
r.$n=r.P.extend({wa:1,Ba:1,ap:1,bp:1,lm:0,mm:0,Pe:0,Qe:0,ctor:function(){r.P.prototype.ctor.call(this);this.bp=this.ap=this.Ba=this.wa=1;this.Qe=this.Pe=this.mm=this.lm=0},M:function(a,c,d){return r.P.prototype.M.call(this,a)?(this.lm=c,this.mm=null!=d?d:c,!0):!1},G:function(){var a=new r.$n;a.M(this.ya,this.lm,this.mm);return a},$:function(a){r.P.prototype.$.call(this,a);this.ap=a.wa;this.bp=a.Ba;this.Pe=this.lm-this.ap;this.Qe=this.mm-this.bp},update:function(a){this.Q&&this.Q.pk(this.ap+this.Pe*
a,this.bp+this.Qe*a)}});r.$n.create=function(a,c,d){var e=new r.$n;e.M(a,c,d);return e};r.qu=r.$n.extend({$:function(a){r.$n.prototype.$.call(this,a);this.Pe=this.ap*this.lm-this.ap;this.Qe=this.bp*this.mm-this.bp},reverse:function(){return r.qu.create(this.ya,1/this.lm,1/this.mm)},G:function(){var a=new r.qu;a.M(this.ya,this.lm,this.mm);return a}});r.qu.create=function(a,c,d){var e=new r.qu;e.M(a,c,d);return e};
r.zt=r.P.extend({Vf:0,IA:!1,ctor:function(){r.P.prototype.ctor.call(this);this.Vf=0;this.IA=!1},M:function(a,c){return r.P.prototype.M.call(this,a)?(this.Vf=c,!0):!1},G:function(){var a=new r.zt;a.M(this.ya,this.Vf);return a},update:function(a){if(this.Q&&!this.di()){var c=1/this.Vf;this.Q.A(a%c>c/2)}},$:function(a){r.P.prototype.$.call(this,a);this.IA=a.ja},stop:function(){this.Q.A(this.IA);r.P.prototype.stop.call(this)},reverse:function(){return r.zt.create(this.ya,this.Vf)}});
r.zt.create=function(a,c){var d=new r.zt;d.M(a,c);return d};r.Zt=r.P.extend({update:function(a){this.Q.kb&&this.Q.pa(255*a)},reverse:function(){return r.$t.create(this.ya)},G:function(){var a=new r.Zt;a.M(this.ya);return a}});r.Zt.create=function(a){var c=new r.Zt;c.M(a);return c};r.$t=r.P.extend({update:function(a){this.Q.kb&&this.Q.pa(255*(1-a))},reverse:function(){return r.Zt.create(this.ya)},G:function(){var a=new r.$t;a.M(this.ya);return a}});r.$t.create=function(a){var c=new r.$t;c.M(a);return c};
r.Dy=r.P.extend({nw:null,kv:null,ctor:function(){r.P.prototype.ctor.call(this);this.kv=this.nw=0},M:function(a,c){return r.P.prototype.M.call(this,a)?(this.nw=c,!0):!1},G:function(){var a=new r.Dy;a.M(this.ya,this.nw);return a},update:function(a){this.Q.kb&&this.Q.pa(this.kv+(this.nw-this.kv)*a)},$:function(a){r.P.prototype.$.call(this,a);this.Q.kb&&(this.kv=a.Vi())}});r.Dy.create=function(a,c){var d=new r.Dy;d.M(a,c);return d};
r.jz=r.P.extend({yf:null,fe:null,ctor:function(){r.P.prototype.ctor.call(this);this.yf=r.k(0,0,0);this.fe=r.k(0,0,0)},M:function(a,c,d,e){return r.P.prototype.M.call(this,a)?(this.yf=r.k(c,d,e),!0):!1},G:function(){var a=new r.jz,c=this.yf;a.M(this.ya,c.p,c.o,c.g);return a},$:function(a){r.P.prototype.$.call(this,a);this.Q.kb&&(this.fe=this.Q.zd())},update:function(a){var c=this.fe,d=this.yf;this.Q.kb&&this.Q.n(r.k(c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a,c.g+(d.g-c.g)*a))}});
r.jz.create=function(a,c,d,e){var f=new r.jz;f.M(a,c,d,e);return f};
r.zu=r.P.extend({$q:0,Zq:0,Yq:0,mA:0,lA:0,kA:0,ctor:function(){r.P.prototype.ctor.call(this);this.kA=this.lA=this.mA=this.Yq=this.Zq=this.$q=0},M:function(a,c,d,e){return r.P.prototype.M.call(this,a)?(this.$q=c,this.Zq=d,this.Yq=e,!0):!1},G:function(){var a=new r.zu;a.M(this.ya,this.$q,this.Zq,this.Yq);return a},$:function(a){r.P.prototype.$.call(this,a);a.kb&&(a=a.zd(),this.mA=a.p,this.lA=a.o,this.kA=a.g)},update:function(a){this.Q.kb&&this.Q.n(r.k(this.mA+this.$q*a,this.lA+this.Zq*a,this.kA+this.Yq*
a))},reverse:function(){return r.zu.create(this.ya,-this.$q,-this.Zq,-this.Yq)}});r.zu.create=function(a,c,d,e){var f=new r.zu;f.M(a,c,d,e);return f};r.Rn=r.P.extend({update:function(){},reverse:function(){return r.Rn.create(this.ya)},G:function(){var a=new r.Rn;a.M(this.ya);return a}});r.Rn.create=function(a){var c=new r.Rn;c.M(a);return c};
r.nu=r.P.extend({Qj:null,ctor:function(){r.P.prototype.ctor.call(this);this.Qj=null},oa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Qj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return r.P.prototype.M.call(this,a.Af())?(this.Qj=a,!0):!1},G:function(){var a=new r.nu;a.oa(this.Qj.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Qj.$(a)},update:function(a){this.Qj&&this.Qj.update(1-a)},reverse:function(){return this.Qj.G()},
stop:function(){this.Qj.stop();r.Ed.prototype.stop.call(this)}});r.nu.create=function(a){var c=new r.nu;c.oa(a);return c};
r.wt=r.P.extend({wj:null,So:0,Mv:null,kr:0,qB:null,ctor:function(){r.P.prototype.ctor.call(this);this.wj=null;this.So=0;this.Mv=null;this.kr=0;this.qB=null},sI:function(){return this.wj},xW:function(a){this.wj=a},UI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Af();if(this.M(c*a.Nj)){this.So=0;this.xW(a);this.Mv=null;this.kr=0;var d=[],e=0,f=c/a.Lm;a=a.ee;r.xt(a,r.nj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].ce;d.push(h)}this.qB=d;return!0}return!1},
G:function(){var a=new r.wt;a.UI(this.wj.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.wj.ym&&(this.Mv=a.hS());this.kr=this.So=0},update:function(a){1>a&&(a*=this.wj.Nj,(0|a)>this.kr&&(this.So=0,this.kr++),a%=1);for(var c=this.wj.ee,d=c.length,e=this.qB,f=this.So;f<d;f++)if(e[f]<=a)this.Q.aq(c[f].th()),this.So=f+1;else break},reverse:function(){var a=this.wj,c=a.ee,d=[];r.xt(c,r.nj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.G())}c=r.mj.RH(d,a.ce,
a.Nj);c.Kx(a.ym);return r.wt.create(c)},stop:function(){this.wj.ym&&this.Q&&this.Q.aq(this.Mv);r.Ed.prototype.stop.call(this)}});r.wt.create=function(a){var c=new r.wt;c.UI(a);return c};
r.iz=r.P.extend({Nf:null,nm:null,ctor:function(){r.P.prototype.ctor.call(this);this.nm=this.Nf=null},Jg:function(a,c){return this.M(c.Af())?(this.nm=a,this.Nf=c,!0):!1},G:function(){var a=new r.iz;a.Jg(this.nm,this.Nf.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Nf.$(this.nm)},stop:function(){this.Nf.stop()},update:function(a){this.Nf.update(a)},M4:function(){return this.nm},Maa:function(a){this.nm!=a&&(this.nm=a)}});r.iz.create=function(a,c){var d=new r.iz;d.Jg(a,c);return d};r.ni=r.qj.extend({di:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.G()},G:function(){return new r.ni}});r.ru=r.ni.extend({update:function(){this.Q.A(!0)},reverse:function(){return r.cu.create()},G:function(){return new r.ru}});r.ru.create=function(){return new r.ru};r.cu=r.ni.extend({update:function(){this.Q.A(!1)},reverse:function(){return r.ru.create()},G:function(){return new r.cu}});r.cu.create=function(){return new r.cu};
r.Au=r.ni.extend({update:function(){this.Q.A(!this.Q.ja)},reverse:function(){return new r.Au},G:function(){return new r.Au}});r.Au.create=function(){return new r.Au};r.ku=r.ni.extend({xr:!0,ctor:function(){r.qj.prototype.ctor.call(this);this.xr=!0},update:function(){this.Q.N(this.xr)},r:function(a){this.xr=a;return!0},reverse:function(){return new r.ku(this.xr)},G:function(){return new r.ku(this.xr)}});r.ku.create=function(a){null==a&&(a=!0);var c=new r.ku;c&&c.r(a);return c};
r.au=r.ni.extend({jc:!1,ctor:function(){r.qj.prototype.ctor.call(this);this.jc=!1},WI:function(a){this.jc=a;return!0},update:function(){this.Q.QW(this.jc)},reverse:function(){return r.au.create(!this.jc)},G:function(){var a=new r.au;a.WI(this.jc);return a}});r.au.create=function(a){var c=new r.au;return c.WI(a)?c:null};
r.bu=r.ni.extend({kc:!1,ctor:function(){r.qj.prototype.ctor.call(this);this.kc=!1},XI:function(a){this.kc=a;return!0},update:function(){this.Q.RW(this.kc)},reverse:function(){return r.bu.create(!this.kc)},G:function(){var a=new r.bu;a.XI(this.kc);return a}});r.bu.create=function(a){var c=new r.bu;return c.XI(a)?c:null};
r.Qy=r.ni.extend({q:null,ctor:function(){r.qj.prototype.ctor.call(this);this.q=r.a(0,0)},ZI:function(a){this.q.x=a.x;this.q.y=a.y;return!0},update:function(){this.Q.m(this.q)},G:function(){var a=new r.Qy;a.ZI(this.q);return a}});r.Qy.create=function(a){var c=new r.Qy;c.ZI(a);return c};
r.qq=r.ni.extend({kh:null,hm:null,Lk:null,Wq:null,ctor:function(){r.qj.prototype.ctor.call(this);this.Wq=this.Lk=this.hm=this.kh=null},Jg:function(a,c,d){this.Wq=d;this.hm=a;this.kh=c;return!0},NC:function(a){this.Lk=a;return!0},execute:function(){null!=this.hm?this.hm.call(this.kh,this.Q,this.Wq):this.Lk&&this.Lk.call(null,this.Q)},update:function(){this.execute()},G6:function(){return this.kh},Yba:function(a){a!=this.kh&&(this.kh&&(this.kh=null),this.kh=a)},copy:function(){var a=new r.qq;this.kh?
a.Jg(this.hm,this.kh,this.Wq):this.Lk&&a.NC(this.Lk);return a},G:function(){var a=new r.qq;this.kh?a.Jg(this.hm,this.kh,this.Wq):this.Lk&&a.NC(this.Lk);return a}});r.qq.create=function(a,c,d){var e=new r.qq;if(1==arguments.length){if(e&&e.NC(a))return e}else if(e&&e.Jg(a,c,d))return e.hm=a,e;return null};r.ky=r.P.extend({Iz:0,Jz:0,Kz:0,aG:0,bG:0,cG:0,iH:0,jH:0,kH:0,ctor:function(){r.P.prototype.ctor.call(this);this.kH=this.jH=this.iH=this.cG=this.bG=this.aG=this.Kz=this.Jz=this.Iz=0},$:function(a){r.P.prototype.$.call(this,a);a=a.uC();var c=a.uI();this.Iz=c.x;this.Jz=c.y;this.Kz=c.z;c=a.wI();this.aG=c.x;this.bG=c.y;this.cG=c.z;a=a.sT();this.iH=a.x;this.jH=a.y;this.kH=a.z},G:function(){return new r.ky},reverse:function(){return r.nu.create(this)}});
r.Oy=r.ky.extend({Oi:0,dv:0,ho:0,Wz:0,pg:0,Vz:0,ZA:0,XA:0,YA:0,WA:0,ctor:function(){r.ky.prototype.ctor.call(this);this.WA=this.YA=this.XA=this.ZA=this.Vz=this.pg=this.Wz=this.ho=this.dv=this.Oi=0},M:function(a,c,d,e,f,g,h){return r.P.prototype.M.call(this,a)?(this.Oi=c,this.dv=d,this.ho=e,this.Wz=f,this.pg=g,this.Vz=h,this.XA=r.pj(f),this.WA=r.pj(h),!0):!1},bY:function(){var a=this.Q.uC(),c=a.wI(),d=a.uI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=r.Yt);0===d&&(d=r.Yt);return{EU:d/r.rq.Is(),zY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},$:function(a){r.P.prototype.$.call(this,a);a=this.bY();isNaN(this.Oi)&&(this.Oi=a.EU);isNaN(this.ho)&&(this.ho=r.Sy(a.zY));isNaN(this.pg)&&(this.pg=r.Sy(a.azimuth));this.ZA=r.pj(this.ho);this.YA=r.pj(this.pg)},G:function(){var a=new r.Oy;a.M(this.ya,this.Oi,this.dv,this.ho,this.Wz,this.pg,this.Vz);return a},update:function(a){var c=(this.Oi+this.dv*a)*r.rq.Is(),
d=this.ZA+this.XA*a,e=this.YA+this.WA*a;a=Math.sin(d)*Math.cos(e)*c+this.Iz;e=Math.sin(d)*Math.sin(e)*c+this.Jz;c=Math.cos(d)*c+this.Kz;this.Q.uC().DK(a,e,c)}});r.Oy.create=function(a,c,d,e,f,g,h){var k=new r.Oy;return k.M(a,c,d,e,f,g,h)?k:null};r.ed=r.P.extend({da:null,ctor:function(){r.P.prototype.ctor.call(this);this.da=null},oa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.M(a.Af())?(this.da=a,!0):!1},G:function(){var a=new r.ed;a.oa(this.da.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.da.$(this.Q)},stop:function(){this.da.stop();r.P.prototype.stop.call(this)},update:function(a){this.da.update(a)},reverse:function(){return r.ed.create(this.da.reverse())},vC:function(){return this.da}});
r.ed.create=function(a){var c=new r.ed;c&&c.oa(a);return c};r.Yl=r.ed.extend({Ue:0,ctor:function(){r.ed.prototype.ctor.call(this);this.Ue=0},Eba:function(a){this.Ue=a},e6:function(){return this.Ue},oa:function(a,c){return r.ed.prototype.oa.call(this,a)?(this.Ue=c,!0):!1},G:function(){var a=new r.Yl;a.oa(this.da.G(),this.Ue);return a},reverse:function(){return r.Yl.create(this.da.reverse(),1/this.Ue)}});r.Yl.create=function(a,c){var d=new r.Yl;d&&d.oa(a,c);return d};
r.Rt=r.Yl.extend({update:function(a){this.da.update(Math.pow(a,this.Ue))},reverse:function(){return r.Rt.create(this.da.reverse(),1/this.Ue)},G:function(){var a=new r.Rt;a.oa(this.da.G(),this.Ue);return a}});r.Rt.create=function(a,c){var d=new r.Rt;d&&d.oa(a,c);return d};r.Tt=r.Yl.extend({update:function(a){this.da.update(Math.pow(a,1/this.Ue))},reverse:function(){return r.Tt.create(this.da.reverse(),1/this.Ue)},G:function(){var a=new r.Tt;a.oa(this.da.G(),this.Ue);return a}});
r.Tt.create=function(a,c){var d=new r.Tt;d&&d.oa(a,c);return d};r.St=r.Yl.extend({update:function(a){a*=2;1>a?this.da.update(0.5*Math.pow(a,this.Ue)):this.da.update(1-0.5*Math.pow(2-a,this.Ue))},G:function(){var a=new r.St;a.oa(this.da.G(),this.Ue);return a},reverse:function(){return r.St.create(this.da.reverse(),this.Ue)}});r.St.create=function(a,c){var d=new r.St;d&&d.oa(a,c);return d};
r.Ot=r.ed.extend({update:function(a){this.da.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return r.Qt.create(this.da.reverse())},G:function(){var a=new r.Ot;a.oa(this.da.G());return a}});r.Ot.create=function(a){var c=new r.Ot;c&&c.oa(a);return c};r.Qt=r.ed.extend({update:function(a){this.da.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return r.Ot.create(this.da.reverse())},G:function(){var a=new r.Qt;a.oa(this.da.G());return a}});
r.Qt.create=function(a){var c=new r.Qt;c&&c.oa(a);return c};r.Pt=r.ed.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.da.update(a)},reverse:function(){return r.Pt.create(this.da.reverse())},G:function(){var a=new r.Pt;a.oa(this.da.G());return a}});r.Pt.create=function(a){var c=new r.Pt;c&&c.oa(a);return c};
r.Ut=r.ed.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.da.update(a)},reverse:function(){return r.Wt.create(this.da.reverse())},G:function(){var a=new r.Ut;a.oa(this.da.G());return a}});r.Ut.create=function(a){var c=new r.Ut;c&&c.oa(a);return c};r.Wt=r.ed.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.da.update(a)},reverse:function(){return r.Ut.create(this.da.reverse())},G:function(){var a=new r.Wt;a.oa(this.da.G());return a}});
r.Wt.create=function(a){var c=new r.Wt;c&&c.oa(a);return c};r.Vt=r.ed.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.da.update(a)},G:function(){var a=new r.Vt;a.oa(this.da.G());return a},reverse:function(){return r.Vt.create(this.da.reverse())}});r.Vt.create=function(a){var c=new r.Vt;c&&c.oa(a);return c};
r.Sn=r.ed.extend({ge:null,ctor:function(){r.ed.prototype.ctor.call(this);this.ge=0.3},O5:function(){return this.ge},tba:function(a){this.ge=a},oa:function(a,c){r.ed.prototype.oa.call(this,a);this.ge=null==c?0.3:c;return!0},reverse:function(){r.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},G:function(){var a=new r.Sn;a.oa(this.da.G(),this.ge);return a}});r.Sn.create=function(a,c){var d=new r.Sn;return d&&d.oa(a,c)?d:null};
r.Lt=r.Sn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.ge/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.ge));this.da.update(c)},reverse:function(){return r.Nt.create(this.da.reverse(),this.ge)},G:function(){var a=new r.Lt;a.oa(this.da.G(),this.ge);return a}});r.Lt.create=function(a,c){var d=new r.Lt;return d&&d.oa(a,c)?d:null};
r.Nt=r.Sn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.ge/4)*Math.PI*2/this.ge)+1;this.da.update(c)},reverse:function(){return r.Lt.create(this.da.reverse(),this.ge)},G:function(){var a=new r.Nt;a.oa(this.da.G(),this.ge);return a}});r.Nt.create=function(a,c){var d=new r.Nt;d&&d.oa(a,c);return d};
r.Mt=r.Sn.extend({update:function(a){var c=0,c=this.ge;if(0===a||1==a)c=a;else{c||(c=this.ge=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.da.update(c)},reverse:function(){return r.Mt.create(this.da.reverse(),this.ge)},G:function(){var a=new r.Mt;a.oa(this.da.G(),this.ge);return a}});r.Mt.create=function(a,c){var d=new r.Mt;d&&d.oa(a,c);return d};
r.Xl=r.ed.extend({yw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},G:function(){var a=new r.Xl;a.oa(this.da.G());return a},reverse:function(){return r.Xl.create(this.da.reverse())}});r.Xl.create=function(a){var c=new r.Xl;c&&c.oa(a);return c};
r.It=r.Xl.extend({update:function(a){this.da.update(1-this.yw(1-a))},reverse:function(){return r.Kt.create(this.da.reverse())},G:function(){var a=new r.It;a.oa(this.da.G());return a}});r.It.create=function(a){var c=new r.It;c&&c.oa(a);return c};r.Kt=r.Xl.extend({update:function(a){this.da.update(this.yw(a))},reverse:function(){return r.It.create(this.da.reverse())},G:function(){var a=new r.Kt;a.oa(this.da.G());return a}});r.Kt.create=function(a){var c=new r.Kt;c&&c.oa(a);return c};
r.Jt=r.Xl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.yw(1-2*a)):0.5*this.yw(2*a-1)+0.5;this.da.update(c)},G:function(){var a=new r.Jt;a.oa(this.da.G());return a},reverse:function(){return r.Jt.create(this.da.reverse())}});r.Jt.create=function(a){var c=new r.Jt;c&&c.oa(a);return c};r.Ft=r.ed.extend({update:function(a){this.da.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return r.Ht.create(this.da.reverse())},G:function(){var a=new r.Ft;a.oa(this.da.G());return a}});
r.Ft.create=function(a){var c=new r.Ft;c&&c.oa(a);return c};r.Ht=r.ed.extend({update:function(a){a-=1;this.da.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return r.Ft.create(this.da.reverse())},G:function(){var a=new r.Ht;a.oa(this.da.G());return a}});r.Ht.create=function(a){var c=new r.Ht;c&&c.oa(a);return c};
r.Gt=r.ed.extend({update:function(a){a*=2;1>a?this.da.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.da.update(a*a*(3.5949095*a+2.5949095)/2+1))},G:function(){var a=new r.Gt;a.oa(this.da.G());return a},reverse:function(){return r.Gt.create(this.da.reverse())}});r.Gt.create=function(a){var c=new r.Gt;c&&c.oa(a);return c};r.ty=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return r.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};r.lK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(r.a(a[d].x,a[d].y));return c};r.Dw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(r.a(a[d].x,a[d].y));return c};r.sh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
r.caa=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
r.pi=r.P.extend({Lh:null,Xz:0,Hm:0,Sc:null,tz:null,ctor:function(){r.P.prototype.ctor.call(this);this.Lh=[];this.Hm=this.Xz=0;this.tz=this.Sc=null},M:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return r.P.prototype.M.call(this,a)?(this.qX(c),this.Hm=d,!0):!1},G:function(){var a=new r.pi;a.M(this.ya,r.Dw(this.Lh),this.Hm);return a},$:function(a){r.P.prototype.$.call(this,a);this.Xz=1/(this.Lh.length-1);a=this.Q.q;this.Sc=r.a(a.x,a.y);this.tz=
r.a(0,0)},update:function(a){var c,d=this.Lh;if(1==a)c=d.length-1,a=1;else{var e=this.Xz;c=0|a/e;a=(a-e*c)/e}c=r.ty(r.sh(d,c-1),r.sh(d,c-0),r.sh(d,c+1),r.sh(d,c+2),this.Hm,a);r.Ct&&(d=this.Q.q.F-this.Sc.x,a=this.Q.q.I-this.Sc.y,0!=d||0!=a)&&(e=this.tz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.DL(c)},reverse:function(){var a=r.lK(this.Lh);return r.pi.create(this.ya,a,this.Hm)},DL:function(a){this.Q.m(a);this.Sc=a},T5:function(){return this.Lh},qX:function(a){this.Lh=a}});
r.pi.create=function(a,c,d){var e=new r.pi;return e.M(a,c,d)?e:null};
r.sq=r.pi.extend({Tc:null,ctor:function(){r.pi.prototype.ctor.call(this);this.Tc=r.a(0,0)},$:function(a){r.pi.prototype.$.call(this,a);a=a.q;this.Tc.x=a.x;this.Tc.y=a.y},reverse:function(){for(var a=this.Lh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=r.Bd(c,d),d=c;a=r.lK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return r.sq.create(this.ya,a,this.Hm)},DL:function(a){var c=this.Tc,d=a.x+c.x;a=a.y+c.y;this.Q.m(d,
a);this.Sc.x=d;this.Sc.y=a},G:function(){var a=new r.sq;a.M(this.ya,r.Dw(this.Lh),this.Hm);return a}});r.sq.create=function(a,c,d){var e=new r.sq;return e.M(a,c,d)?e:null};r.vy=r.pi.extend({M:function(a,c){return r.pi.prototype.M.call(this,a,c,0.5)},G:function(){var a=new r.vy;a.M(this.ya,r.Dw(this.Lh));return a}});r.vy.create=function(a,c){var d=new r.vy;return d.M(a,c)?d:null};
r.uy=r.sq.extend({M:function(a,c){return r.pi.prototype.M.call(this,a,c,0.5)},G:function(){var a=new r.uy;a.M(this.ya,r.Dw(this.Lh));return a}});r.uy.create=function(a,c){var d=new r.uy;return d.M(a,c)?d:null};r.LY=r.Da.extend({lE:function(){}});
r.Qn=r.P.extend({key:"",an:0,Nl:0,hC:0,ctor:function(){r.P.prototype.ctor.call(this);this.key="";this.hC=this.Nl=this.an=0},M:function(a,c,d,e){return r.P.prototype.M.call(this,a)?(this.key=c,this.Nl=e,this.an=d,!0):!1},$:function(a){if(!a||!a.lE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";r.P.prototype.$.call(this,a);this.hC=this.Nl-this.an},update:function(a){this.Q.lE(this.Nl-this.hC*(1-a),this.key)},reverse:function(){return r.Qn.create(this.duration,
this.key,this.Nl,this.an)},G:function(){var a=new r.Qn;a.M(this.ya,this.key,this.an,this.Nl);return a}});r.Qn.create=function(a,c,d,e){var f=new r.Qn;return f.M(a,c,d,e)?f:null};r.wk=0;r.Py=1;r.iF=4;r.YM=75;
r.Fc=r.zb.extend({zf:null,Li:0,ob:null,Kh:null,gm:null,Ld:!1,o5:function(){return r.a(this.Kh.x,this.Kh)},LK:function(a){this.Kh=r.LJ(a)},U3:function(){return r.a(this.gm.x,this.gm.y)},tK:function(a){this.gm=r.LJ(a)},nc:function(){return this.zf},Rw:function(){return this.Li},mT:function(){return this.ob},gt:function(a){this.Li!=a&&(this.Li=r.ss(a,0,100),this.GB())},Jf:function(){},ql:function(){return!1},o8:function(){return this.Ld},Ez:function(a){if(a<r.iF){var c=r.YM;return this.Ld?r.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):r.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return r.rj()},jd:null,xB:270,fA:270,Oi:0,Qz:!1,Bz:null,xd:0,Lc:null,Wf:null,sH:null,ps:!1,ctor:null,Hh:function(){r.zb.prototype.ctor.call(this);this.zf=r.wk;this.Li=0;this.Kh=r.a(0,0);this.gm=r.a(0,0);this.Ld=!1;this.ob=null;this.jd=r.rj();this.fA=this.xB=270;this.Oi=0;this.Qz=!1;this.Bz=r.fd()},Ih:function(){r.zb.prototype.ctor.call(this);this.zf=r.wk;this.Li=0;this.Kh=r.a(0,0);this.gm=r.a(0,0);this.Ld=!1;this.ob=null;this.sH=r.X.createBuffer();
this.xd=0;this.Wf=this.Lc=null;this.ps=!1},n:function(a){this.ob.n(a);this.wd()},pa:function(a){this.ob.pa(a);this.wd()},zd:function(){return this.ob.zd()},Vi:function(){return this.ob.Vi()},QK:null,hQ:function(a){this.Ld!==a&&(this.Ld=a)},iQ:function(a){this.Ld!==a&&(this.Ld=a,this.Wf=this.Lc=null,this.xd=0)},it:null,kQ:function(a){this.ob!=a&&(this.ob=a,this.W(this.ob.c()))},lQ:function(a){a&&this.ob!=a&&(this.ob=a,this.W(a.c()),this.Lc&&(this.Wf=this.Lc=null,this.xd=0))},ij:null,oQ:function(a){a!==
this.zf&&(this.zf=a)},pQ:function(a){a!==this.zf&&(this.Lc&&(this.Wf=this.Lc=null,this.xd=0),this.zf=a)},PK:null,fQ:function(a){this.Ld!==a&&(this.Ld=a)},gQ:function(a){this.Ld!==a&&(this.Ld=a,this.Wf=this.Lc=null,this.xd=0)},$e:function(a){var c=this.ob;if(!c)return{Pa:0,la:0};var d=c.Kb,e=r.a(d.Ja.B.Pa,d.Ja.B.la),d=r.a(d.Na.B.Pa,d.Na.B.la);c.Xc&&(c=a.x,a.x=a.y,a.y=c);return{Pa:e.x*(1-a.x)+d.x*a.x,la:e.y*(1-a.y)+d.y*a.y}},bf:function(a){if(!this.ob)return{x:0,y:0};var c=this.ob.Kb,d=r.a(c.Ja.s.x,
c.Ja.s.y),c=r.a(c.Na.s.x,c.Na.s.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},QC:null,PO:function(a){this.gt(0);this.K(0.5,0.5);this.zf=r.wk;this.Ld=!1;this.LK(r.a(0.5,0.5));this.tK(r.a(1,1));this.it(a);return!0},QO:function(a){this.gt(0);this.Wf=this.Lc=null;this.xd=0;this.K(0.5,0.5);this.zf=r.wk;this.Ld=!1;this.LK(r.a(0.5,0.5));this.tK(r.a(1,1));this.it(a);this.Pg(r.Fh.e().ii(r.Wy));return!0},Va:null,km:function(a){a=a||r.X;var c=this.ob;c.Jo&&(a.globalCompositeOperation="lighter");var d=
r.sa.e().wa,e=r.sa.e().Ba;a.globalAlpha=c.Yb/255;var f=c.za,g=c.va,h=c.ec,k=c.cA,l=0|h.x,m=-h.y-f.height,n=c.fp;k.width=f.width*d;k.height=f.height*e;a.save();c.jc&&(l=-h.x-f.width,a.scale(-1,1));c.kc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.zf==r.Py?(f=this.Bz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.zf==r.wk&&(f=this.jd.x*d,h=this.jd.y*e,a.beginPath(),a.arc(f,h,this.Oi*e,Math.PI/180*this.xB,Math.PI/180*this.fA,this.Qz),a.lineTo(f,h),a.clip(),a.closePath());
c.Ea&&n.tt?(d=c.Ea.Jc,this.Xu?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.zd(),a.fillStyle="rgba("+k.p+","+k.o+","+k.g+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();r.Ch()},tg:function(a){a=a||r.X;if(this.Lc&&this.ob){r.My(this);var c=this.ob.ga;r.ek(c.src,c.Gb);r.xe(r.Eu);this.ob.aa()?r.Hg(this.ob.aa()):r.Hg(null);a.bindBuffer(a.ARRAY_BUFFER,this.sH);this.ps&&(a.bufferData(a.ARRAY_BUFFER,this.Wf,
a.DYNAMIC_DRAW),this.ps=!1);c=r.Ub.BYTES_PER_ELEMENT;a.vertexAttribPointer(r.Oe,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(r.Eq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(r.Fq,2,a.FLOAT,!1,c,12);this.zf===r.wk?a.drawArrays(a.TRIANGLE_FAN,0,this.xd):this.zf==r.Py&&(this.Ld?(a.drawArrays(a.TRIANGLE_STRIP,0,this.xd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.xd/2),r.ai++):a.drawArrays(a.TRIANGLE_STRIP,0,this.xd));r.ai++}},RQ:function(){if(this.ob){var a,c=this.Kh;a=this.Li/100;var d=2*r.PI*(this.Ld?a:
1-a),e=r.a(c.x,1),f=r.$U(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=r.mM,h=r.iF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Ez(a%h),k=this.Ez(k);0==a?k=r.NJ(l,k,1-c.x):4==a&&(l=r.NJ(l,k,1-c.x));var m=r.a(0,0);r.kD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=r.eg(c,r.fj(r.Bd(f,c),g))}g=!0;this.xd!=d+3&&(g=!1,this.Wf=this.Lc=null,this.xd=0);if(!this.Lc){h=this.xd=d+3;l=r.Ub.BYTES_PER_ELEMENT;this.Wf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new r.Ub(null,
null,null,this.Wf,a*l);this.Lc=k;if(!this.Lc){r.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.wd();h=this.Lc;if(!g)for(h[0].B=this.$e(c),h[0].s=this.bf(c),h[1].B=this.$e(e),h[1].s=this.bf(e),a=0;a<d;a++)c=this.Ez(a),h[a+2].B=this.$e(c),h[a+2].s=this.bf(c);h[this.xd-1].B=this.$e(f);h[this.xd-1].s=this.bf(f)}},GQ:function(){if(this.ob){var a,c=this.Li/100,d=this.gm,d=r.fj(r.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=r.Bd(this.Kh,d),d=r.eg(this.Kh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Ld){if(!this.Lc){this.xd=8;var e=r.Ub.BYTES_PER_ELEMENT;this.Wf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new r.Ub(null,null,null,this.Wf,a*e);f[0].B=this.$e(r.a(0,1));f[0].s=this.bf(r.a(0,1));f[1].B=this.$e(r.a(0,0));f[1].s=this.bf(r.a(0,0));f[6].B=this.$e(r.a(1,1));f[6].s=this.bf(r.a(1,1));f[7].B=this.$e(r.a(1,0));f[7].s=this.bf(r.a(1,0));this.Lc=f}a=this.Lc;a[2].B=this.$e(r.a(c.x,d.y));a[2].s=this.bf(r.a(c.x,
d.y));a[3].B=this.$e(r.a(c.x,c.y));a[3].s=this.bf(r.a(c.x,c.y));a[4].B=this.$e(r.a(d.x,d.y));a[4].s=this.bf(r.a(d.x,d.y));a[5].B=this.$e(r.a(d.x,c.y));a[5].s=this.bf(r.a(d.x,c.y))}else{if(!this.Lc)for(this.xd=4,e=r.Ub.BYTES_PER_ELEMENT,this.Wf=new ArrayBuffer(4*e),this.Lc=[],a=0;4>a;a++)this.Lc[a]=new r.Ub(null,null,null,this.Wf,a*e);a=this.Lc;a[0].B=this.$e(r.a(c.x,d.y));a[0].s=this.bf(r.a(c.x,d.y));a[1].B=this.$e(r.a(c.x,c.y));a[1].s=this.bf(r.a(c.x,c.y));a[2].B=this.$e(r.a(d.x,d.y));a[2].s=this.bf(r.a(d.x,
d.y));a[3].B=this.$e(r.a(d.x,c.y));a[3].s=this.bf(r.a(d.x,c.y))}this.wd()}},wd:function(){if(this.ob&&this.Lc){for(var a=this.ob.Kb.Sa.J,c=this.Lc,d=0,e=this.xd;d<e;++d)c[d].J=a;this.ps=!0}},GB:null,NQ:function(){var a=this.ob,c=a.c(),d=this.Kh;if(this.zf==r.wk){this.Oi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.jd;g.x=c.width*d.x;g.y=-c.height*d.y;this.Ld?(e=270,d=270-3.6*this.Li):(d=-90,e=-90+3.6*this.Li);a.jc&&(g.x-=2*c.width*this.Kh.x,d=-d-180,e=-e-180,f=!f);a.kc&&
(g.y+=2*c.height*this.Kh.y,f=!f,d=-d,e=-e);this.xB=d;this.fA=e;this.Qz=f}else{e=this.gm;g=this.Li/100;f=this.Bz;e=r.size(c.width*(1-e.x),c.height*(1-e.y));var g=r.size((c.width-e.width)*g,(c.height-e.height)*g),g=r.size(e.width+g.width,e.height+g.height),h=r.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.jc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.kc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},OQ:function(){var a=this.zf;a===r.wk?this.RQ():a===r.Py&&this.GQ();this.ps=!0}});
r.Fa.Pc?(b=r.Fc.prototype,b.ctor=r.Fc.prototype.Ih,b.QK=r.Fc.prototype.iQ,b.it=r.Fc.prototype.lQ,b.ij=r.Fc.prototype.pQ,b.PK=r.Fc.prototype.gQ,b.QC=r.Fc.prototype.QO,b.Va=r.Fc.prototype.tg,b.GB=r.Fc.prototype.OQ):(b=r.Fc.prototype,b.ctor=r.Fc.prototype.Hh,b.QK=r.Fc.prototype.hQ,b.it=r.Fc.prototype.kQ,b.ij=r.Fc.prototype.oQ,b.PK=r.Fc.prototype.fQ,b.QC=r.Fc.prototype.PO,b.Va=r.Fc.prototype.km,b.GB=r.Fc.prototype.NQ);r.Fc.create=function(a){var c=new r.Fc;return c.QC(a)?c:null};r.Ry=r.P.extend({yf:0,fe:0,ctor:function(){r.P.prototype.ctor.call(this);this.fe=this.yf=0},M:function(a,c){return r.P.prototype.M.call(this,a)?(this.yf=c,!0):!1},G:function(){var a=new r.Ry;a.M(this.ya,this.yf);return a},reverse:function(){r.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},$:function(a){r.P.prototype.$.call(this,a);this.fe=a.Rw();100==this.fe&&(this.fe=0)},update:function(a){this.Q instanceof r.Fc&&this.Q.gt(this.fe+(this.yf-this.fe)*a)}});
r.Ry.create=function(a,c){var d=new r.Ry;d.M(a,c);return d};r.iu=r.P.extend({yf:0,fe:0,ctor:function(){r.P.prototype.ctor.call(this);this.fe=this.yf=0},M:function(a,c,d){return r.P.prototype.M.call(this,a)?(this.yf=d,this.fe=c,!0):!1},G:function(){var a=new r.iu;a.M(this.ya,this.fe,this.yf);return a},reverse:function(){return r.iu.create(this.ya,this.yf,this.fe)},$:function(a){r.P.prototype.$.call(this,a)},update:function(a){this.Q instanceof r.Fc&&this.Q.gt(this.fe+(this.yf-this.fe)*a)}});
r.iu.create=function(a,c,d){var e=new r.iu;e.M(a,c,d);return e};r.ry=9;r.RL=1;r.UL=2;r.VL=4;r.SL=8;r.TL=16;r.AE=32;r.WL=64;r.QL=128;r.oi=256;r.lg=1;r.CE=2;r.BE=4;r.cZ=8;r.bZ=8;
r.Tb=r.Dh.extend({rG:!1,Y0:!1,ql:function(){return this.rG},Jf:function(a){this.rG=a;for(var c=this.t,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.kb&&f.Jf(a)}},Qi:r.lg,D6:function(){return this.Qi},hr:!1,Xo:!1,Jj:!1,ev:null,If:function(a){this.Qi=(this.hr=a)?r.lg:r.BE;this.$c()},isEnabled:function(){return this.hr},eq:function(a){this.Xo=a;this.$c()},r8:function(){return this.Xo},Fl:function(a){this.Jj=a;this.$c()},a8:function(){return this.Jj},IT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ja)return!1;
return!0},ctor:function(){r.Dh.prototype.ctor.call(this);this.ev={};this.ic=r.yb()},r:function(){return r.Dh.prototype.r.call(this)?(this.Qi=r.lg,this.hr=!0,this.Jj=this.Xo=!1,this.gq(1),!0):!1},tx:function(){r.uD(this.dl,!0,this)},jf:function(a){for(var c=0,d=r.ry;c<d;c++)if(a&1<<c)for(var e=this.bA(1<<c),f=0,g=e.length;f<g;f++)e[f].gU(this)},GH:function(a,c,d){for(var e=0,f=r.ry;e<f;e++)d&1<<e&&this.MF(a,c,1<<e)},V$:function(a,c,d){for(var e=0,f=r.ry;e<f;e++)d&1<<e&&this.HP(a,c,1<<e)},Yi:function(a){return this.Ka(a.L)},
ei:function(a){a=a.L;a=this.getParent().Ka(a);return r.bb(this.Ya(),a)},$0:function(){return null},bA:function(a){a=a.toString();this.ev.hasOwnProperty(a)||(this.ev[a]=[]);return this.ev[a]},MF:function(a,c,d){a=new r.uM(a,c,d);this.bA(d).push(a)},HP:function(a,c,d){d=this.bA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.Q);c&&(g=g&&c==f.Nf);g?r.Vd(d,f):e++}else d.length=0},$c:function(){}});r.Tb.create=function(){var a=new r.Tb;return a&&a.r()?a:null};r.GE=3435855873;
r.Wl=r.Tb.extend({cr:!1,qs:!1,vg:null,yr:null,Vq:null,bv:null,Km:null,$d:null,Ki:0,Lo:!1,kw:null,es:null,lw:null,fm:null,FG:!1,Cv:0,Bv:0,ctor:function(){r.Tb.prototype.ctor.call(this);this.vg=new r.zk(0,0);this.yr=new r.Vg(0,0);this.Vq="";this.bv=r.yb();this.kw={};this.es={};this.lw={};this.fm={}},r:function(){return this.Yw(r.S.create("","Arial",12),r.pf.create())},$c:function(){if(this.FG){this.Km&&this.Km.A(!1);this.$d&&this.$d.A(!1);this.YW(this.yr);var a=this.Qi;this.Vq=this.CC(a);this.bv=this.rT(a);
var c=this.Km=this.Fs(a);c&&c.fa&&c.fa(this.Vq);c&&c.kb&&c.n(this.bv);var d=this.c();c&&c.m(d.width/2,d.height/2);(a=this.$d=this.ES(a))&&a.m(d.width/2,d.height/2);d=c?c.Ya().cb:r.size(0,0);if(this.cr)a&&a.W(d.width+2*this.Bv,d.height+2*this.Cv);else if(a){var e=a.vg,e=r.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.W(e)}d=c?c.Ya():r.rect(0,0,0,0);e=a?a.Ya():r.rect(0,0,0,0);d=r.sx(d,e);this.W(d.width,d.height);d=this.c();c&&(c.m(d.width/2,d.height/2),c.A(!0));
a&&(a.m(d.width/2,d.height/2),a.A(!0))}},Yw:function(a,c){if(!a||!a.kb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return r.Tb.prototype.r.call(this,!0)?(this.FG=!0,this.kw={},this.es={},this.lw={},this.fm={},this.Vb(!0),this.Lo=!1,this.qs=!0,this.Vq=null,this.vW(!0),this.ok(r.size(0,0)),this.qs=!0,this.Zi(!1),this.K(0.5,0.5),this.Km=a,this.$d=c,this.pa(255),
this.Jf(!0),this.EX(a.AC(),r.lg),this.DX(a.zd(),r.lg),this.UD(a,r.lg),this.Ex(c,r.lg),this.Qi=r.lg,this.Bv=24,this.Cv=12,this.yr=new r.Vg(0.5,0.5),this.ok(r.$l()),this.$c(),!0):!1},ZT:function(a,c,d){a=r.S.create(a,c,d);return this.Yw(a,r.pf.create())},VI:function(a){var c=r.S.create("","Arial",30);return this.Yw(c,a)},X2:function(){return this.cr},vW:function(a){this.cr=a;this.$c()},l7:function(){return this.qs},IX:function(a){return this.qs=a},$S:function(){return this.vg},ok:function(a){if(0===
a.width&&0===a.height)this.cr=!0;else{this.cr=!1;var c=this.fm,d;for(d in c)c[d].ok(a)}this.vg=a;this.$c()},c5:function(){return this.yr},YW:function(a){this.yr=a;this.Km&&this.Km.K(a)},R0:function(){return this.Vq},S0:function(){return this.bv},Vi:function(){return this.Ki},pa:function(a){r.Tb.prototype.pa.call(this,a);var c=this.fm,d;for(d in c)c[d].pa(a)},n:function(a){r.Tb.prototype.n.call(this,a);var c=this.fm,d;for(d in c)c[d].n(a)},zd:function(){return this.he},n8:function(){return this.Lo},
W0:function(){return this.Cv},U0:function(){return this.Bv},bba:function(a,c){this.Cv=c;this.Bv=a;this.$c()},If:function(a){r.Tb.prototype.If.call(this,a);this.$c()},eq:function(a){r.Tb.prototype.eq.call(this,a);this.$c()},Fl:function(a){this.Qi=a?r.CE:r.lg;r.Tb.prototype.Fl.call(this,a);(a=this.tC(r.GE))&&this.cY(a);this.$c();this.qs&&(a=r.$n.create(0.05,this.Jj&&this.isEnabled()&&!this.Xo?1.1:1),a.VK(r.GE),this.xx(a))},jb:function(a){if(!(this.ei(a)&&this.isEnabled()&&this.ja&&this.IT()))return!1;
this.Lo=!0;this.Fl(!0);this.jf(r.RL);return!0},qd:function(a){this.hr&&this.Lo&&!this.Xo?(a=this.ei(a))&&!this.Jj?(this.Fl(!0),this.jf(r.SL)):a&&this.Jj?this.jf(r.UL):!a&&this.Jj?(this.Fl(!1),this.jf(r.TL)):a||this.Jj||this.jf(r.VL):this.Jj&&this.Fl(!1)},Gf:function(a){this.Lo=!1;this.Fl(!1);this.ei(a)?this.jf(r.AE):this.jf(r.WL)},jk:function(){this.Lo=!1;this.Fl(!1);this.jf(r.QL)},CC:function(a){var c=this.kw;return c?c[a]?c[a]:c[r.lg]:""},EX:function(a,c){this.kw[c]=a||"";this.Qi==c&&this.$c()},
rT:function(a){return(a=this.es[a])?a:(a=this.es[r.lg])?a:r.yb()},DX:function(a,c){this.es[c]=a;this.Qi==c&&this.$c()},Fs:function(a){var c=this.lw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[r.lg]},UD:function(a,c){var d=this.lw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.A(!1);a.K(0.5,0.5);this.f(a,1);this.Qi==c&&this.$c()},dca:function(a,c){var d=this.CC(c);d||(d="");this.UD(r.S.create(d,a,12),c)},N6:function(a){a=this.Fs(a);return null!=a&&a instanceof r.S?a.sf:""},eca:function(a,
c){var d=this.Fs(c);null!=d&&d instanceof r.S&&d.EK(a)},O6:function(a){a=this.Fs(a);return null!=a&&a instanceof r.S?a.Re:0},cca:function(a,c){var d=this.CC(c);d||(d="");this.UD(r.Jy.create(d,a),c)},M6:function(a){a=this.Fs(a);return null!=a&&a instanceof r.Jy?a.J4():""},ES:function(a){var c=this.fm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[r.lg]},Ex:function(a,c){var d=this.fm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.A(!1);a.K(0.5,0.5);this.f(a);d=this.vg;0===d.width&&
0===d.height||a.ok(d);this.Qi===c&&this.$c()},qaa:function(a,c){var d=r.pf.SH(a);this.Ex(d,c)}});r.Wl.create=function(a,c){var d;if(0==arguments.length)return(d=new r.Wl)&&d.r()?d:null;1==arguments.length?(d=new r.Wl,d.VI(arguments[0])):2==arguments.length?(d=new r.Wl,d.Yw(a,c)):3==arguments.length&&(d=new r.Wl,d.ZT(arguments[0],arguments[1],arguments[2]));return d};r.RGBA=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.H=e};r.Fy=function(a,c,d){this.Be=a;this.ji=c;this.la=d};r.Yd={};r.Yd.Vm=function(a,c,d,e){a=r.w.TH(a);if(!a)return null;a.m(d);a.K(e);c.f(a);return a};r.Yd.qM=function(a){var c=new r.Fy,d,e;d=a.p<a.o?a.p:a.o;d=d<a.g?d:a.g;e=a.p>a.o?a.p:a.o;e=e>a.g?e:a.g;c.la=e;d=e-d;if(0<e)c.ji=d/e;else return c.ji=0,c.Be=-1,c;c.Be=a.p>=e?(a.o-a.g)/d:a.o>=e?2+(a.g-a.p)/d:4+(a.p-a.o)/d;c.Be*=60;0>c.Be&&(c.Be+=360);return c};
r.Yd.Uy=function(a){var c,d,e,f,g=new r.RGBA;g.H=1;if(0>=a.ji){if(!a.Be)return g.p=a.la,g.o=a.la,g.g=a.la,g;g.p=0;g.o=0;g.g=0;return g}c=a.Be;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.la*(1-a.ji);d=a.la*(1-a.ji*e);e=a.la*(1-a.ji*(1-e));switch(f){case 0:g.p=a.la;g.o=e;g.g=c;break;case 1:g.p=d;g.o=a.la;g.g=c;break;case 2:g.p=c;g.o=a.la;g.g=e;break;case 3:g.p=c;g.o=d;g.g=a.la;break;case 4:g.p=e;g.o=c;g.g=a.la;break;default:g.p=a.la,g.o=c,g.g=d}return g};r.Yd.xE=function(a,c){return r.sx(a,c)};r.uM=r.Da.extend({Nf:null,Q:null,av:null,ctor:function(a,c,d){this.Q=a;this.Nf=c;this.av=d},M3:function(){return this.Nf},qT:function(){return this.Q},q4:function(){return this.av},gU:function(a){if(this.Q&&this.Nf)if("string"==typeof this.Nf)this.Q[this.Nf](a,this.av);else this.Nf.call(this.Q,a,this.av)}});r.cF=0;r.fF=1;r.dF=2;r.eF=3;r.aF=4;r.hF=5;r.gF=6;r.XM=7;r.bF=8;
r.pf=r.zb.extend({kb:!0,Zo:null,VF:null,Wk:!1,xf:null,Th:null,Sh:null,mh:null,Hi:null,yj:null,Oh:null,wi:null,vi:null,xi:null,Aj:null,lc:!1,kd:null,vg:null,Ki:0,ic:null,ro:null,pv:0,rv:0,qv:0,ov:0,ZG:!1,sB:!1,pb:!1,Jd:null,uL:function(){return this.pb},Xf:function(a,c){this.Jd.push({dk:a,$h:c})},ae:function(){this.pb=!0;for(var a=this.Jd,c=0,d=a.length;c<d;c++){var e=a[c];e.dk.call(e.$h,this)}a.length=0},qw:function(){var a;a=this.pv;var c=this.rv,d=this.qv,e=this.Zo,f=this.ov;a=0===a&&0===c&&0===
d&&0===f?r.fd():this.sB?r.rect(f,a,e.width-d-a,e.height-c-f):r.rect(a,c,e.width-a-d,e.height-c-f);this.BW(a)},MQ:function(){if(this.Th&&this.mh&&this.xi&&this.wi&&this.yj){var a=this.va,c=this.Th,d=this.mh,e=this.xi,f=this.wi,g=this.yj,h=this.yj.c(),k=c.c(),l=f.c(),m=a.Ga-k.width-d.c().width,a=a.ta-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,p=l.width,l=l.height;if(!r.Fa.Pc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.dq(m);g.Dn(a);
var h=this.Hi,q=this.Oh,u=this.Sh,w=this.vi,y=r.a(0,0);f.K(y);e.K(y);c.K(y);d.K(y);h.K(y);q.K(y);u.K(y);w.K(y);g.K(y);f.m(0,0);e.m(p+k,0);c.m(0,l+n);d.m(p+k,l+n);h.m(0,l);h.Dn(a);q.m(p+k,l);q.Dn(a);w.m(p,0);w.dq(m);u.m(p,l+n);u.dq(m);g.m(p,l)}},ctor:function(){r.zb.prototype.ctor.call(this);this.Zo=r.fd();this.VF=r.fd();this.Aj=r.yb();this.kd=new r.zk(0,0);this.vg=new r.zk(0,0);this.ic=r.yb();this.Ki=255;this.ro=r.fd();this.Jd=[]},YS:function(){return this.kd},$S:function(){return this.vg},ok:function(a){this.W(a);
this.vg=a},Vi:function(){return this.Ki},pa:function(a){if(this.xf){this.Ki=a;for(var c=this.xf.t,d=0;d<c.length;d++){var e=c[d];e&&e.kb&&e.pa(a)}}},zd:function(){return this.ic},n:function(a){if(this.xf){this.ic=a;for(var c=this.xf.t,d=0;d<c.length;d++){var e=c[d];e&&e.kb&&e.n(a)}}},d4:function(){return this.ro},BW:function(a){if(this.xf){var c=this.va,d=c.Ga,c=c.ta;this.mq(this.xf,this.Zo,this.sB,a);this.W(d,c)}},Y4:function(){return this.pv},Vaa:function(a){this.pv=a;this.qw()},a5:function(){return this.rv},
Xaa:function(a){this.rv=a;this.qw()},Z4:function(){return this.qv},Waa:function(a){this.qv=a;this.qw()},X4:function(){return this.ov},Uaa:function(a){this.ov=a;this.qw()},W:function(a,c){2===arguments.length?r.D.prototype.W.call(this,a,c):r.D.prototype.W.call(this,a);this.Wk=!0},ra:function(a){this.Wk&&(this.MQ(),this.Wk=!1);r.zb.prototype.ra.call(this,a)},r:function(){return this.Ww(null,r.fd(),!1,r.fd())},Ww:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.mq(a,c,d,e);this.K(0.5,0.5);
return this.Wk=!0},$i:function(a,c,d){a instanceof r.ng?(d=a=c,c=r.fd()):(c=c||r.fd(),d=d||r.fd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=r.ha.e().ay(a);if(!e){var e=r.ha.e().qa(a),f=e.Kg();(this.pb=f)||e.Xf(function(a){var c=this.vg,c=r.size(c.width,c.height);a=a.c();this.mq(this.xf,r.rect(0,0,a.width,a.height),!1,this.ro);this.ok(c);this.Wk=!0;this.ae()},this)}a=r.tb.create(a,9);return this.Ww(a,c,!1,d)},De:function(a,c){if(!a||!a.aa())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||r.fd();var d=a.pb;(this.pb=d)||a.Xf(function(a){var c=this.vg,c=r.size(c.width,c.height);this.mq(this.xf,a.ve(),r.Fa.Pc?a.ld:!1,this.ro);this.ok(c);this.Wk=!0;this.ae()},this);d=r.tb.hb(a.aa(),9);return this.Ww(d,a.ve(),r.Fa.Pc?a.ld:!1,c)},$I:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||r.fd();var d=r.og.e().th(a);return null==d?(r.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.De(d,c)},Y$:function(a){var c=new r.pf;return c&&c.Ww(this.xf,this.Zo,!1,a)?c:null},Jf:function(a){if(this.xf){this.lc=a;var c=this.xf.t;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Jf(a)}},ql:function(){return this.lc},mq:function(a,c,d,e){var f=this.Vi(),g=this.zd();c=r.rect(c.x,c.y,c.width,c.height);this.oc(!0);this.xf!=a&&(this.xf=a);a=a.aa();var h=a.Kg();if(this.pb=h){a=this.xf;a.oc(!0);h=this.ro;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.sB=d;h=a.aa();r.Lr(c)&&(c=h.c(),c=r.rect(0,
0,c.width,c.height));var k=this.Zo=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.cb;this.kd.width=l.width;this.kd.height=l.height;k=this.vg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.VF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;r.Lr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,p=k.width,q=m-(n+p),u=k.y,w=k.height,y=e-(u+w),D=0,B=0;e=r.rect(D,B,n,u);var D=D+n,k=r.rect(D,B,p,u),m=r.rect(D+p,B,q,u),D=0,B=0+u,l=
r.rect(D,B,n,w),D=D+n,Z=r.rect(D,B,p,w),D=D+p,M=r.rect(D,B,q,w),D=0,B=0+u+w,u=r.rect(D,B,n,y),D=D+n,n=r.rect(D,B,p,y),D=D+p,p=r.rect(D,B,q,y),q={H:1,g:0,Ca:0,La:1,Za:0,$a:0};if(d){d=Z;var y=p,D=u,B=m,w=e,Q=M,R=l,pa=n,$=k,q=r.ly(q,c.height+c.x,c.y),q=r.PL(q),Z=r.Wg(Z,q),p=r.Wg(p,q),u=r.Wg(u,q),m=r.Wg(m,q);e=r.Wg(e,q);M=r.Wg(M,q);l=r.Wg(l,q);n=r.Wg(n,q);k=r.Wg(k,q);d.x=Z.x;d.y=Z.y;y.x=p.x;y.y=p.y;D.x=u.x;D.y=u.y;B.x=m.x;B.y=m.y;w.x=e.x;w.y=e.y;Q.x=M.x;Q.y=M.y;R.x=l.x;R.y=l.y;pa.x=n.x;pa.y=n.y;$.x=k.x;
$.y=k.y;this.yj=new r.w;this.yj.Ma(h,d,!0);a.f(this.yj,0,r.cF);this.Sh=new r.w;this.Sh.Ma(h,$,!0);a.f(this.Sh,1,r.fF);this.vi=new r.w;this.vi.Ma(h,pa,!0);a.f(this.vi,1,r.aF);this.Hi=new r.w;this.Hi.Ma(h,R,!0);a.f(this.Hi,1,r.dF);this.Oh=new r.w;this.Oh.Ma(h,Q,!0);a.f(this.Oh,1,r.eF);this.Th=new r.w;this.Th.Ma(h,w,!0);a.f(this.Th,2,r.gF);this.mh=new r.w;this.mh.Ma(h,B,!0);a.f(this.mh,2,r.hF);this.wi=new r.w;this.wi.Ma(h,D,!0);a.f(this.wi,2,r.bF);this.xi=new r.w;this.xi.Ma(h,y,!0)}else q=r.ly(q,c.x,
c.y),r.ri(Z,q),r.ri(p,q),r.ri(u,q),r.ri(m,q),r.ri(e,q),r.ri(M,q),r.ri(l,q),r.ri(n,q),r.ri(k,q),this.yj=new r.w,this.yj.Ma(h,Z),a.f(this.yj,0,r.cF),this.Sh=new r.w,this.Sh.Ma(h,k),a.f(this.Sh,1,r.fF),this.vi=new r.w,this.vi.Ma(h,n),a.f(this.vi,1,r.aF),this.Hi=new r.w,this.Hi.Ma(h,l),a.f(this.Hi,1,r.dF),this.Oh=new r.w,this.Oh.Ma(h,M),a.f(this.Oh,1,r.eF),this.Th=new r.w,this.Th.Ma(h,e),a.f(this.Th,2,r.gF),this.mh=new r.w,this.mh.Ma(h,m),a.f(this.mh,2,r.hF),this.wi=new r.w,this.wi.Ma(h,u),a.f(this.wi,
2,r.bF),this.xi=new r.w,this.xi.Ma(h,p);a.f(this.xi,2,r.XM);this.W(c.cb);this.f(a);this.ZG&&(this.pa(f),255===g.p&&255===g.o&&255===g.g||this.n(g));return this.ZG=!0}a.Xf(function(){this.Wk=!0;this.ae()},this)},Kf:function(a){var c=r.tb.hb(a.aa(),9),d=a.pb;(this.pb=d)||a.Xf(function(a){var c=this.vg,c=r.size(c.width,c.height);this.mq(this.xf,a.ve(),r.Fa.Pc?a.ld:!1,this.ro);this.ok(c);this.Wk=!0;this.ae()},this);this.mq(c,a.ve(),r.Fa.Pc?a.ld:!1,r.fd());this.ov=this.qv=this.rv=this.pv=0}});
r.pf.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new r.pf)&&e.$i(a,c))return e}else{if(a instanceof r.ng&&(e=new r.pf)&&e.$i(a,d))return e}else if(3===arguments.length){if((e=new r.pf)&&e.$i(a,c,d))return e}else if(1===arguments.length){if((e=new r.pf)&&e.$i(a))return e}else if(0===arguments.length&&(e=new r.pf)&&e.r())return e;return null};r.pf.SH=function(a,c){var d=new r.pf;return d&&d.De(a,c)?d:null};
r.pf.TH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new r.pf;return d&&d.$I(a,c)?d:null};r.tu=r.Rc.extend({});r.tu.Gda=function(a){var c=new r.tu;c.r();c.W(0,a);return c};r.tu.t7=function(a){var c=new r.tu;c.r();c.W(a,0);return c};
r.fu=r.Rc.extend({kb:!0,ic:null,Ki:0,ctor:function(){},zd:function(){return this.ic},n:function(a){this.ic=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].kb&&this.t[c].n(a)},Vi:function(){return this.Ki},pa:function(a){this.Ki=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].kb&&this.t[c].pa(a)},ST:function(a,c){if(this.r()){var d=r.Z.e().Qb;this.Zi(!0);this.K(0.5,0.5);this.W(d);this.m(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},O1:function(){this.eR(r.$L)},eR:function(a){var c=-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().height*this.t[d].Ba+a);var e=0,f=c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().width),this.t[d].m(0,f-this.t[d].c().height*this.t[d].Ba/2),f-=this.t[d].c().height*this.t[d].Ba+a);this.W(e,c)},L1:function(){this.dR(r.$L)},dR:function(a){var c=
-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().width*this.t[d].wa+a);var e=0,f=-c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().height),this.t[d].m(f+this.t[d].c().width*this.t[d].wa/2,0),f+=this.t[d].c().width*this.t[d].wa+a);this.W(c,e)},M1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&
(f>=c.length?r.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):r.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=r.Z.e().Qb,n=k=g=f=0,p=0,e=e/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(0==k&&(k=c[f],p=n=m.width/(1+k)),l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),this.t[d].m(p-m.width/2,e-this.t[d].c().height/2),p+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},N1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,p;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(k>=c.length?r.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(p=this.t[d].c().width,l=0|(l>=p||null==p?l:p),h+=0|this.t[d].c().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):r.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
r.Z.e().Qb;l=k=0;n=null;var g=-g/2,q=0;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(null==n&&(n=c[k],q=f[k]),p=this.t[d].c().width,l=0|(l>=p||null==p?l:p),this.t[d].m(g+e[k]/2,q-h.height/2),q-=this.t[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},Jf:function(){},ql:function(){return!1}});r.fu.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new r.fu)&&d.ST(a,c)?d:null};
r.fu.L2=function(a){return r.fu.create(a,null)};r.xy=r.Tb.extend({fB:0,Ru:0,Hc:null,pP:null,XG:null,lh:null,sc:null,rg:0,xj:0,n6:function(){return this.fB},Z3:function(){return this.Ru},tI:function(){return this.Hc},N5:function(){return this.Ru},t6:function(){return this.XG},lT:function(){return this.lh},nT:function(){return this.sc},SC:function(a,c){return r.Tb.prototype.r.call(this)?(this.Vb(!0),this.Hc=r.Yd.Vm("colourPickerBackground.png",a,c,r.a(0,0)),this.pP=r.Yd.Vm("colourPickerOverlay.png",a,c,r.a(0,0)),this.XG=r.Yd.Vm("colourPickerShadow.png",
a,c,r.a(0,0)),this.lh=r.Yd.Vm("colourPicker.png",a,c,r.a(0.5,0.5)),this.sc=c,this.rg=35,this.xj=this.Hc.c().width/2,!0):!1},If:function(a){r.Tb.prototype.If.call(this,a);this.lh&&this.lh.pa(a?255:128)},HL:function(a){var c=new r.Fy;c.ji=1;c.Be=a.Be;c.la=1;a=r.Yd.Uy(c);this.Hc.n(r.zw(0|255*a.p,0|255*a.o,0|255*a.g))},qY:function(a){a=r.a(this.sc.x+this.rg+this.xj*(1-a.ji),this.sc.y+this.rg+this.xj*a.la);this.tw(a)},tw:function(a){var c=this.sc.x+0.5*this.Hc.Ya().width,d=this.sc.y+0.5*this.Hc.Ya().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Hc.Ya().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.lh.m(a);a.x<this.sc.x+this.rg?a.x=this.sc.x+this.rg:a.x>this.sc.x+this.rg+this.xj-1&&(a.x=this.sc.x+this.rg+this.xj-1);a.y<this.sc.y+this.rg?a.y=this.sc.y+this.rg:a.y>this.sc.y+this.rg+this.xj&&(a.y=this.sc.y+this.rg+this.xj);this.fB=1-Math.abs((this.sc.x+this.rg-a.x)/this.xj);this.Ru=Math.abs((this.sc.y+this.rg-a.y)/this.xj)},Rq:function(a){var c=this.sc.x+0.5*this.Hc.Ya().width,
d=this.sc.y+0.5*this.Hc.Ya().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Hc.Ya().width?(this.tw(a),this.jf(r.oi),!0):!1},jb:function(a){if(!this.isEnabled()||!this.ja)return!1;a=this.Yi(a);return this.Rq(a)},qd:function(a){a=this.Yi(a);this.Rq(a)}});r.xy.create=function(a,c){var d=new r.xy;d.SC(a,c);return d};r.wy=r.Tb.extend({Ho:0,sr:0,Hc:null,lh:null,sc:null,S4:function(){return this.Ho},OD:function(a){this.Ho=a;this.UW(this.Ho/360)},T4:function(){return this.sr},UW:function(a){this.sr=a;this.Ho=360*this.sr;a=this.Hc.Ya();var c=0.5*a.width-15,d=r.pj(360*this.sr-180);this.lh.m(this.sc.x+0.5*a.width+c*Math.cos(d),this.sc.y+0.5*a.height+c*Math.sin(d))},If:function(a){r.Tb.prototype.If.call(this,a);this.lh&&this.lh.pa(a?255:128)},tI:function(){return this.Hc},lT:function(){return this.lh},nT:function(){return this.sc},
SC:function(a,c){return r.Tb.prototype.r.call(this)?(this.Vb(!0),this.Hc=r.Yd.Vm("huePickerBackground.png",a,c,r.a(0,0)),this.lh=r.Yd.Vm("colourPicker.png",a,c,r.a(0.5,0.5)),this.lh.m(c.x,c.y+0.5*this.Hc.Ya().height),this.sc=c,this.sr=this.Ho=0,!0):!1},tw:function(a){var c=this.Hc.Ya();this.OD(r.Sy(Math.atan2(a.y-(this.sc.y+0.5*c.height),a.x-(this.sc.x+0.5*c.width)))+180);this.jf(r.oi)},Rq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.tw(a),!0):!1},jb:function(a){if(!this.isEnabled()||
!this.ja)return!1;a=this.Yi(a);return this.Rq(a)},qd:function(a){a=this.Yi(a);this.Rq(a)}});r.wy.create=function(a,c){var d=new r.wy;d.SC(a,c);return d};r.HE=r.Tb.extend({ah:null,Hk:null,pm:null,Hc:null,PT:function(a){this.ah.Be=a.Ho;a=r.Yd.Uy(this.ah);r.Tb.prototype.n.call(this,r.zw(0|255*a.p,0|255*a.o,0|255*a.g));this.jf(r.oi);this.JQ()},ER:function(a){this.ah.ji=a.fB;this.ah.la=a.Ru;a=r.Yd.Uy(this.ah);r.Tb.prototype.n.call(this,r.zw(0|255*a.p,0|255*a.o,0|255*a.g));this.jf(r.oi)},n:function(a){r.Tb.prototype.n.call(this,a);var c=new r.RGBA;c.p=a.p/255;c.o=a.o/255;c.g=a.g/255;c.H=1;this.ah=r.Yd.qM(c);this.nH()},tI:function(){return this.Hc},r:function(){if(r.Tb.prototype.r.call(this)){this.Vb(!0);
r.og.e().FH(aa.vE);var a=r.tb.create(aa.wE);this.f(a);this.ah=new r.Fy(0,0,0);this.Hc=r.Yd.Vm("menuColourPanelBackground.png",a,r.rj(),r.a(0.5,0.5));var c=r.Bd(this.Hc.q,r.a(this.Hc.c().width/2,this.Hc.c().height/2));this.pm=r.wy.create(a,r.a(c.x+8,c.y+8));this.Hk=r.xy.create(a,r.a(c.x+28,c.y+28));this.pm.GH(this,this.PT,r.oi);this.Hk.GH(this,this.ER,r.oi);this.nH();this.f(this.pm);this.f(this.Hk);this.W(this.Hc.c());return!0}return!1},JQ:function(){this.pm.OD(this.ah.Be);this.Hk.HL(this.ah)},nH:function(){this.pm.OD(this.ah.Be);
this.Hk.HL(this.ah);this.Hk.qY(this.ah)},If:function(a){r.Tb.prototype.If.call(this,a);null!=this.pm&&this.pm.If(a);this.Hk&&this.Hk.If(a)},jb:function(){return!1}});r.HE.create=function(){var a=new r.HE;a.r();return a};aa=aa||{};aa.vE=aa.vE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.wE=aa.wE||"res/extensions/CCControlColourPickerSpriteSheet.png";r.oF=24;r.W_=8;
r.JE=r.Tb.extend({Uc:0,gb:0,Eb:0,Hv:0,Fv:0,Fb:null,Xk:null,$d:null,II:function(){return this.Uc},kf:function(a){a=Math.max(a,this.gb);this.Uc=a=Math.min(a,this.Eb);this.$c();this.jf(r.oi)},TS:function(){return this.gb},MK:function(a){this.Hv=this.gb=a;this.gb>=this.Eb&&(this.Eb=this.gb+1);this.kf(this.Uc)},SS:function(){return this.Eb},KK:function(a){this.Fv=this.Eb=a;this.Eb<=this.gb&&(this.gb=this.Eb-1);this.kf(this.Uc)},ei:function(a){a=a.L;a=this.getParent().Ka(a);var c=this.Ya();c.cb.width+=
this.Fb.c().width;c.jd.x-=this.Fb.c().width/2;return r.bb(c,a)},fn:function(a){a=a.L;a=this.Ka(a);0>a.x?a.x=0:a.x>this.$d.c().width&&(a.x=this.$d.c().width);return a},q5:function(){return this.Hv},gba:function(a){this.Hv=a},n5:function(){return this.Fv},fba:function(a){this.Fv=a},FI:function(){return this.Fb},X5:function(){return this.Xk},T3:function(){return this.$d},XT:function(a,c,d){return r.Tb.prototype.r.call(this)?(this.Zi(!1),this.Vb(!0),this.$d=a,this.Xk=c,this.Fb=d,a=r.Yd.xE(a.Ya(),d.Ya()),
this.W(a.width,a.height),this.$d.K(0.5,0.5),this.$d.m(a.width/2,a.height/2),this.f(this.$d),this.Xk.K(0,0.5),this.Xk.m(0,a.height/2),this.f(this.Xk),this.Fb.m(0,a.height/2),this.f(this.Fb),this.gb=0,this.Eb=1,this.kf(this.gb),!0):!1},If:function(a){r.Tb.prototype.If.call(this,a);this.Fb&&this.Fb.pa(a?255:128)},YX:function(a){this.eq(!0);this.Fb.n(r.Hp());this.kf(this.nE(a))},$X:function(a){this.kf(this.nE(a))},ZX:function(){this.Xo&&this.kf(this.nE(this.Fb.q));this.Fb.n(r.yb());this.eq(!1)},T6:function(a){a=
a.L;a=this.Ka(a);0>a.x?a.x=0:a.x>this.$d.c().width+r.oF&&(a.x=this.$d.c().width+r.oF);return a},jb:function(a){if(!this.ei(a)||!this.isEnabled()||!this.ja)return!1;a=this.fn(a);this.YX(a);return!0},qd:function(a){a=this.fn(a);this.$X(a)},Gf:function(){this.ZX(r.rj())},$c:function(){this.Fb.wb((this.Uc-this.gb)/(this.Eb-this.gb)*this.$d.c().width);var a=this.Xk.BC(),a=r.rect(a.x,a.y,this.Fb.q.F,a.height);this.Xk.Sb(a,this.Xk.Xc,a.cb)},nE:function(a){a=a.x/this.$d.c().width;return Math.max(Math.min(this.gb+
a*(this.Eb-this.gb),this.Fv),this.Hv)}});r.JE.create=function(a,c,d){"string"==typeof a&&(a=r.w.create(a),c=r.w.create(c),d=r.w.create(d));var e=new r.JE;e.XT(a,c,d);return e};r.LE=r.Tb.extend({Yc:null,lG:0,Fr:!1,To:!1,ctor:function(){r.Tb.prototype.ctor.call(this)},PC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.Vb(!0),this.To=!0,this.Yc=new r.ZL,
this.Yc.PC(a,c,d,e,f,g),this.Yc.m(this.Yc.c().width/2,this.Yc.c().height/2),this.f(this.Yc),this.Zi(!1),this.K(0.5,0.5),this.W(this.Yc.c()),!0):!1},Ix:function(a,c){var d=(this.To=a)?this.Yc.Tk:this.Yc.tm;c?this.Yc.xx(r.Qn.create(0.2,"sliderXPosition",this.Yc.Sj,d)):this.Yc.RD(d);this.jf(r.oi)},h8:function(){return this.To},q7:function(){return this.Fr},If:function(a){this.hr=a;this.Yc.pa(a?255:128)},fn:function(a){a=a.L;return a=this.Ka(a)},jb:function(a){if(!this.ei(a)||!this.isEnabled()||!this.ja)return!1;
this.Fr=!1;this.lG=this.fn(a).x-this.Yc.Sj;this.Yc.Fb.n(r.Hp());this.Yc.$c();return!0},qd:function(a){a=this.fn(a);a=r.a(a.x-this.lG,0);this.Fr=!0;this.Yc.RD(a.x)},Gf:function(a){a=this.fn(a);this.Yc.Fb.n(r.yb());this.Fr?this.Ix(!(a.x<this.Yc.c().width/2),!0):this.Ix(!this.To,!0)},jk:function(a){a=this.fn(a);this.Yc.Fb.n(r.yb());this.Fr?this.Ix(!(a.x<this.Yc.c().width/2),!0):this.Ix(!this.To,!0)}});r.LE.create=function(a,c,d,e,f,g){var h=new r.LE;return h&&h.PC(a,c,d,e,f,g)?h:null};
r.ZL=r.w.extend({Sj:0,Tk:0,tm:0,cH:0,DA:0,EA:null,fh:null,Ji:null,Fb:null,um:null,sm:null,xo:null,mc:null,Pu:null,ctor:function(){r.w.prototype.ctor.call(this);this.DA=this.tm=this.Tk=this.Sj=0;this.EA=r.size(0,0);this.sm=this.um=this.Fb=this.Ji=this.fh=null},PC:function(a,c,d,e,f,g){return r.w.prototype.Ma.call(this,a.aa())?(this.Tk=0,this.tm=-c.c().width+e.c().width/2,this.Sj=this.Tk,this.kX(c),this.iX(d),this.TD(e),this.jX(f),this.hX(g),this.mc=a,a=this.EA=this.mc.c(),this.mc.m(0,0),this.xo=r.nb.create(),
this.xo.K(0.5,0.5),this.xo.m(a.width/2,a.height/2),this.xo.SD(this.mc),this.Pu=r.Ab.create(a.width,a.height),this.xo.f(this.Pu.ob),this.f(this.xo),this.f(this.Fb),this.$c(),!0):!1},$c:function(){this.fh.m(this.fh.c().width/2+this.Sj,this.fh.c().height/2);this.Ji.m(this.fh.c().width+this.Ji.c().width/2+this.Sj,this.Ji.c().height/2);this.um&&this.um.m(this.fh.q.x-this.Fb.c().width/6,this.fh.c().height/2);this.sm&&this.sm.m(this.Ji.q.x+this.Fb.c().width/6,this.Ji.c().height/2);this.Fb.m(this.fh.c().width+
this.Sj,this.EA.height/2);this.Pu.$j();this.fh.ra();this.Ji.ra();this.um&&this.um.ra();this.sm&&this.sm.ra();this.Pu.end()},RD:function(a){a<=this.tm?a=this.tm:a>=this.Tk&&(a=this.Tk);this.Sj=a;this.$c()},w6:function(){return this.Sj},B9:function(){return this.fh.c().width},z9:function(){return this.Ji.c().height},lE:function(a,c){r.log("key \x3d "+c+", value \x3d "+a);this.RD(a)},pba:function(a){this.Tk=a},H5:function(){return this.Tk},mba:function(a){this.tm=a},B5:function(){return this.tm},dba:function(a){this.mc.ea(a)},
h5:function(){return this.mc.aa()},aca:function(a){this.cH=a},J6:function(){return this.cH},cba:function(a){this.DA=a},g5:function(){return this.DA},kX:function(a){this.fh=a},I5:function(){return this.fh},iX:function(a){this.Ji=a},C5:function(){return this.Ji},TD:function(a){this.Fb=a},FI:function(){return this.Fb},jX:function(a){this.um=a},G5:function(){return this.um},hX:function(a){this.sm=a},A5:function(){return this.sm}});r.EE=0;r.FE=1;r.Bt=2;r.pq=r.k(55,55,55);r.sy=r.k(147,147,147);r.DE="CourierNewPSMT";r.tE=0.15;r.NL=12;
r.KE=r.Tb.extend({Kd:null,uf:null,Sk:null,Vk:null,Uc:0,Uq:!1,jo:!1,Rm:!1,gb:0,Eb:0,Gm:0,hs:!1,Mm:r.Bt,Nq:0,ctor:function(){r.Tb.prototype.ctor.call(this);this.Vk=this.Sk=this.uf=this.Kd=null;this.Uc=0;this.Rm=this.jo=this.Uq=!1;this.Gm=this.Eb=this.gb=0;this.hs=!1;this.Mm=r.Bt;this.Nq=0},UT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.Vb(!0);this.Uq=this.jo=!0;this.gb=0;this.Eb=100;this.Uc=0;this.Gm=1;this.Rm=!1;this.Zi(!1);this.dX(a);this.Kd.m(a.c().width/2,a.c().height/2);this.f(this.Kd);this.cX(r.S.create("-",r.DE,40,r.size(40,40),r.uj,r.Fu));this.Sk.n(r.sy);this.Sk.m(this.Kd.c().width/2,this.Kd.c().height/2);this.Kd.f(this.Sk);this.oX(c);this.uf.m(a.c().width+c.c().width/2,a.c().height/2);this.f(this.uf);this.nX(r.S.create("+",r.DE,40,r.size(40,40),r.uj,r.Fu));this.Vk.n(r.pq);this.Vk.m(this.uf.c().width/2,
this.uf.c().height/2);this.uf.f(this.Vk);var d=r.Yd.xE(this.Kd.Ya(),this.uf.Ya());this.W(this.Kd.c().width+this.uf.c().height,d.cb.height);return!0}return!1},pca:function(a){if(this.Rm=a)this.Sk.n(r.pq),this.Vk.n(r.pq);this.kf(this.Uc)},MK:function(a){if(a>=this.Eb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.gb=a;this.kf(this.Uc)},KK:function(a){if(a<=this.gb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Eb=a;this.kf(this.Uc)},kf:function(a){this.XD(a,!0)},II:function(){return this.Uc},Uba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Gm=a},S7:function(){return this.Uq},XD:function(a,c){a<this.gb?a=this.Rm?this.Eb:this.gb:a>this.Eb&&(a=this.Rm?this.gb:this.Eb);this.Uc=a;this.Rm||(this.Sk.n(a==this.gb?r.sy:r.pq),this.Vk.n(a==this.Eb?r.sy:r.pq));c&&this.jf(r.oi)},mL:function(){this.Nq=-1;this.Zb(this.update,r.tE,r.Zl,3*r.tE)},
oL:function(){this.Qc(this.update)},update:function(){this.Nq++;this.Nq<r.NL&&0!=this.Nq%3||(this.Mm==r.EE?this.XD(this.Uc-this.Gm,this.Uq):this.Mm==r.FE&&this.XD(this.Uc+this.Gm,this.Uq))},zL:function(a){a.x<this.Kd.c().width&&this.Uc>this.gb?(this.Mm=r.EE,this.Kd.n(r.Hp()),this.uf.n(r.yb())):a.x>=this.Kd.c().width&&this.Uc<this.Eb?(this.Mm=r.FE,this.Kd.n(r.yb()),this.uf.n(r.Hp())):(this.Mm=r.Bt,this.Kd.n(r.yb()),this.uf.n(r.yb()))},jb:function(a){if(!this.ei(a)||!this.isEnabled()||!this.ja)return!1;
a=this.Yi(a);this.zL(a);this.hs=!0;this.jo&&this.mL();return!0},qd:function(a){this.ei(a)?(a=this.Yi(a),this.zL(a),this.hs||(this.hs=!0,this.jo&&this.mL())):(this.hs=!1,this.Mm=r.Bt,this.Kd.n(r.yb()),this.uf.n(r.yb()),this.jo&&this.oL())},Gf:function(a){this.Kd.n(r.yb());this.uf.n(r.yb());this.jo&&this.oL();this.ei(a)&&(a=this.Yi(a),this.kf(this.Uc+(a.x<this.Kd.c().width?0-this.Gm:this.Gm)))},dX:function(a){this.Kd=a},s5:function(){return this.Kd},oX:function(a){this.uf=a},S5:function(){return this.uf},
cX:function(a){this.Sk=a},r5:function(){return this.Sk},nX:function(a){this.Vk=a},R5:function(){return this.Vk}});r.KE.create=function(a,c){var d=new r.KE;return d&&d.UT(a,c)?d:null};r.IE=r.Tb.extend({Fb:null,Vo:null,Uo:null,Uc:0,gb:0,Eb:1,$T:function(a,c,d){return this.r()?(this.Vb(!0),this.sX(c),this.TD(d),this.Fb.m(c.q),this.f(d,2),this.f(c,1),this.f(a),this.W(a.c()),this.gb=0,this.Eb=1,this.kf(this.gb),!0):!1},If:function(a){this.If(a);this.Fb!=NULL&&this.Fb.pa(a?255:128)},kf:function(a){a<this.gb&&(a=this.gb);a>this.Eb&&(a=this.Eb);this.Uc=a;a=(a-this.gb)/(this.Eb-this.gb);this.Vo.gt(100*a);this.Fb.Lx(360*a);this.jf(r.oi)},II:function(){return this.Uc},MK:function(a){this.gb=
a;this.gb>=this.Eb&&(this.Eb=this.gb+1);this.kf(this.Eb)},TS:function(){return this.gb},KK:function(a){this.Eb=a;this.Eb<=this.gb&&(this.gb=this.Eb-1);this.kf(this.gb)},SS:function(){return this.Eb},ei:function(a){a=this.Yi(a);return this.iS(this.Vo.q,a)<Math.min(this.c().width/2,this.c().height/2)},jb:function(a){if(!this.ei(a)||!this.isEnabled()||!this.ja)return!1;this.Uo=this.Yi(a);this.lV(this.Uo);return!0},qd:function(a){a=this.Yi(a);this.nV(a)},Gf:function(){this.mV(r.a(0,0))},iS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},gR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},lV:function(){this.eq(!0);this.Fb.n(r.Hp())},nV:function(a){var c=this.gR(this.Vo.q,a,this.Vo.q,this.Uo);180<c?c-=360:-180>c&&(c+=360);this.kf(this.Uc+c/360*(this.Eb-this.gb));this.Uo=a},mV:function(){this.Fb.n(r.yb());this.eq(!1)},TD:function(a){this.Fb=a},FI:function(){return this.Fb},sX:function(a){this.Vo=a},Y5:function(){return this.Vo},Aba:function(a){this.Uo=
a},aT:function(){return this.Uo}});r.IE.create=function(a,c,d){var e=new r.IE;return e&&(a=r.w.create(a),d=r.w.create(d),c=r.Fc.create(r.w.create(c)),e.$T(a,c,d))?e:null};r.mF=-1;r.Zn=0;r.wq=1;r.pu=2;r.MR=function(a){var c=r.sa.e();return(c.wa+c.Ba)/2*a/160};r.iN=r.Da.extend({oW:function(){},pW:function(){}});
r.Eh=r.Rc.extend({u1:0,e1:0,c1:0,Xb:null,Ci:r.pu,Ei:!1,sO:null,Qa:null,nh:!1,Dv:null,Gv:null,Pq:!1,Sq:!1,Nr:null,ip:null,is:0,oh:null,Wh:null,AG:0,yG:0,Hr:null,gB:!1,dH:null,ctor:function(){r.Rc.prototype.ctor.call(this);this.sO=new r.Vg(0,0);this.Dv=new r.Vg(0,0);this.Gv=new r.Vg(0,0);this.Nr=new r.Vg(0,0);this.ip=new r.Vg(0,0);this.oh=[];this.Wh=new r.zk(0,0);this.Hr=new r.ng(0,0,0,0);this.dH=new r.ng(0,0,0,0)},r:function(){return this.Mp(r.size(200,200),null)},tx:function(){r.uD(this.dl,!1,this)},
Mp:function(a,c){var d=r.a(0,0);return r.Rc.prototype.r.call(this)?(this.Qa=c,this.Qa||(this.Qa=r.Rc.create(),this.Qa.Zi(!1),this.Qa.K(d)),this.ZK(a),this.Vb(!0),this.oh.length=0,this.Xb=null,this.Sq=this.Pq=!0,this.Ci=r.pu,this.Qa.m(d),this.is=0,this.f(this.Qa),this.AG=this.yG=1,!0):!1},El:function(a,c){if(c)this.GW(a,0.15);else{if(!this.Pq){var d=this.gn(),e=this.Ts();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Qa.m(a)}},vI:function(){var a=this.Qa.q;return r.a(a.x,
a.y)},GW:function(a,c){var d=r.gu.create(c,a),e=r.qq.create(this.xQ,this);this.Qa.xx(r.sj.create(d,e));this.Zb(this.LA)},dL:function(a,c){if(c)this.JX(a,0.15);else{var d=this.Qa;if(d.xC()!=a){var e,f;0==this.is?(f=this.Wh,f=r.a(0.5*f.width,0.5*f.height),f=this.il(f)):f=this.ip;e=d.Ka(f);d.pk(Math.max(this.AG,Math.min(this.yG,a)));e=d.il(e);f=r.Bd(f,e);this.El(r.eg(d.q,f))}}},KI:function(){return this.Qa.xC()},JX:function(a,c){if(0<c){var d=this.Qa.xC();d!=a&&(d=r.Qn.create(c,"zoomScale",d,a),this.xx(d))}else this.dL(a)},
gn:function(){var a=this.Qa,c=a.c(),d=this.Wh;return r.a(d.width-c.width*a.wa,d.height-c.height*a.Ba)},Ts:function(){return r.a(0,0)},g8:function(a){var c=this.vI(),d=this.Wh,e=this.KI(),c=r.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return r.zV(c,a.Ya())},pause:function(){this.Qa.lx();for(var a=this.Qa.t,c=0;c<a.length;c++)a[c].lx()},jK:function(){for(var a=this.Qa.t,c=0,d=a.length;c<d;c++)a[c].wx();this.Qa.wx()},V7:function(){return this.Ei},y8:function(){return this.nh},O7:function(){return this.Pq},
zW:function(a){this.Pq=a},f7:function(){return this.Wh},ZK:function(a){this.Wh=a;r.D.prototype.W.call(this,a)},n4:function(){return this.Qa},EW:function(a){a&&(this.oc(!0),this.Qa=a,a.Zi(!1),a.K(0,0),this.f(a),this.ZK(this.Wh))},B4:function(){return this.Ci},zK:function(a){this.Ci=a},fc:function(){return this.Xb},zh:function(a){this.Xb=a},jb:function(a){if(!this.ja)return!1;var c=this.sA(),d=this.Qa,e=d.il(d.Yh(a)),f=this.oh;if(2<f.length||this.nh||!r.bb(c,e))return!1;f.push(a);1===f.length?(this.ip=
this.Yh(a),this.nh=!1,this.Ei=!0,this.Nr.x=0,this.is=this.Nr.y=0):2==f.length&&(this.ip=r.lD(this.Yh(f[0]),this.Yh(f[1])),this.is=r.iD(d.Yh(f[0]),d.Yh(f[1])),this.Ei=!1);return!0},qd:function(a){if(this.ja)if(1===this.oh.length&&this.Ei){this.nh=!0;var c=this.sA(),d=this.Yh(a);a=r.Bd(d,this.ip);var e=0,f=this.Ci,e=f===r.wq?a.y:f===r.Zn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.nh||!(0.04375>Math.abs(r.MR(e))))if(this.nh||(a.x=0,a.y=0),this.ip=d,this.nh=!0,r.bb(c,this.il(d))){switch(f){case r.wq:a.x=
0;break;case r.Zn:a.y=0}d=this.Qa.q;c=d.x+a.x;d=d.y+a.y;this.Nr=a;this.El(r.a(c,d))}}else 2!==this.oh.length||this.Ei||(a=r.iD(this.Qa.Yh(this.oh[0]),this.Qa.Yh(this.oh[1])),this.dL(this.KI()*a/this.is))},Gf:function(){this.ja&&(1==this.oh.length&&this.nh&&this.Zb(this.Sz),this.oh.length=0,this.nh=this.Ei=!1)},jk:function(){this.ja&&(this.oh.length=0,this.nh=this.Ei=!1)},W:function(a,c){null!=this.Qa&&(2===arguments.length?this.Qa.W(a,c):this.Qa.W(a),this.rY())},c:function(){return this.Qa.c()},rY:function(){if(null!=
this.Qa){var a=this.Wh,c=this.Ts();this.Dv.x=c.x+0.2*a.width;this.Dv.y=c.y+0.2*a.height;c=this.gn();this.Gv.x=c.x-0.2*a.width;this.Gv.y=c.y-0.2*a.height}},Q7:function(){return this.Sq},xaa:function(a){this.Sq=a},ra:function(a){if(this.ja){a=a||r.X;var c,d=this.t,e,f;if(r.Cd===r.kg){a.save();this.transform(a);this.PF(a);if(d&&0<d.length){f=d.length;this.Sd();for(c=0;c<f;c++)if((e=d[c])&&0>e.fb)e.ra(a);else break;for(this.Va(a);c<f;c++)d[c].ra(a)}else this.Va(a);this.NF();a.restore()}else{r.Rp();var g=
this.Mk;g&&g.Np()&&(g.YB(),this.ey());this.transform(a);this.PF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.fb)e.ra();else break;for(this.Va(a);c<f;c++)d[c].ra()}else this.Va(a);this.NF(a);g&&g.Np()&&g.UB(this);r.Qp()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.fb;d=d||a.nd;a.Zi(!1);a.K(0,0);this.Qa!=a?this.Qa.f(a,c,d):r.Rc.prototype.f.call(this,a,c,d)},Vb:function(a){this._super(a);a||(this.nh=this.Ei=!1,this.oh.length=0)},Z0:function(){return null},
zP:function(a){var c=this.gn(),d=this.Ts(),e=this.Ci,f=this.Qa.q,g=f.x,h=f.y;if(e===r.pu||e===r.Zn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==r.pu||e==r.wq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.El(r.a(g,h),a)},Sz:function(){if(this.Ei)this.Qc(this.Sz);else{var a,c;a=this.Qa.q;var d=this.Nr;this.Qa.m(a.x+d.x,a.y+d.y);this.Pq?(a=this.Dv,c=this.Gv):(a=this.Ts(),c=this.gn());var e=this.Qa.q.F,f=this.Qa.q.I;d.x*=0.95;d.y*=0.95;this.El(r.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Qc(this.Sz),this.zP(!0)}},LA:function(){this.Ei&&this.Qc(this.LA)},xQ:function(){this.Qc(this.LA)},PF:function(a){if(this.Sq){this.gB=!1;var c=this.sA(),d=r.sa.e(),e=this.wa,f=this.Ba;a=a||r.X;if(r.Cd===r.kg)c=this.Wh.width*e*d.wa,d=this.Wh.height*f*d.Ba,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=r.sa.e(),d.kU()){if(this.gB=!0,this.Hr=d.hT(),r.yV(c,this.Hr)){var g=this.Hr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.QD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.QD(c.x,c.y,c.width,c.height)}},NF:function(a){this.Sq&&r.Cd===r.Ak&&(this.gB?(a=this.Hr,r.sa.e().QD(a.x,a.y,a.width,a.height)):(a=a||r.X,a.disable(a.SCISSOR_TEST)))},X0:function(){},sA:function(){for(var a=this.il(r.rj()),c=this.Wh,d=this.wa,e=this.Ba,f=this.V;null!=f;f=f.getParent())d*=f.wa,e*=f.Ba;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.dH;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});r.Eh.create=function(a,c){var d=new r.Eh;if(2==arguments.length){if(d&&d.Mp(a,c))return d}else if(d&&d.r())return d;return null};r.jN=r.Da.extend({Hx:function(){},bi:function(){return 0}});r.kN=r.jN.extend({GA:0,ctor:function(){this.GA=0},Hx:function(a){this.GA=a},bi:function(){return this.GA}});function fa(a,c){return a.bi()-c.bi()}
r.oy=r.Da.extend({jh:null,ctor:function(){this.jh=[]},cJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.cU(a,this.Lp(a))},WV:function(a){if(0!=this.count()){var c=this.Lp(a);c<this.count()&&c!=r.qi&&this.kn(c).bi()==a.bi()&&this.AD(c)}},lba:function(a,c){var d=this.Lp(c);if(d<this.count()&&d!=r.qi){var e=this.kn(d);e.bi()==c.bi()&&(this.AD(d),e.Hx(a),this.cJ(e))}},FJ:function(a){if(0==this.count())return null;var c=new r.kN;c.Hx(a);var d=
this.Lp(c);d<this.count()&&d!=r.qi&&(c=this.kn(d),c.bi()!=a&&(c=null));return c},z5:function(){return null},Lp:function(a){var c=0;if(a){var d=0;a=a.bi();for(var e=this.jh,f=0;f<e.length;f++){var g=e[f].bi();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=r.qi;return c},count:function(){return this.jh.length},Q8:function(){var a=this.jh;return 0==a.length?null:a[a.length-1]},kn:function(a){return this.jh[a]},EH:function(a){this.jh.push(a);this.jh.sort(fa)},AD:function(a){r.oq(this.jh,a);this.jh.sort(fa)},
cU:function(a,c){this.jh=r.Tl(this.jh,a,c);this.jh.sort(fa)}});r.qF=0;r.mN=1;r.e0=r.D.extend({Kj:0,W4:function(){return this.Kj},WW:function(a){this.Kj=a},reset:function(){this.Kj=r.qi},Hx:function(a){this.Kj=a},bi:function(){return this.Kj}});r.g0=r.iN.extend({Zca:function(){},Yca:function(){},$ca:function(){},ada:function(){}});r.f0=r.Da.extend({iY:function(a){return this.rR(a)},rR:function(){return r.fN},Xca:function(){return null},w9:function(){return 0}});
r.zF=r.Eh.extend({kp:null,ud:null,so:null,Rz:null,AB:null,Kv:null,Tu:null,Vj:null,ctor:function(){r.Eh.prototype.ctor.call(this);this.Kv=r.mF;this.Tu=[]},FN:function(a){var c=0,d=-1;switch(this.Ci){case r.Zn:a=a.x;break;default:a=a.y}for(var e=this.Tu;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},LO:function(a){a={x:a.x,y:a.y};this.kp===r.qF&&(a.y=this.Qa.c().height-a.y);a=this.FN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=r.qi));return a},IN:function(a){switch(this.Ci){case r.Zn:a=
r.a(this.Tu[a],0);break;default:a=r.a(0,this.Tu[a])}return a},oP:function(a){var c=this.IN(a);a=this.Rz.iY(this,a);this.kp===r.qF&&(c.y=this.Qa.c().height-c.y-a.height);return c},r1:function(){},EB:function(){var a=r.$l();this.W(a);this.Kv!=this.Ci&&(this.Ci==r.Zn?this.El(r.a(0,0)):this.El(r.a(0,this.gn().y)),this.Kv=this.Ci)},BG:function(a){this.so.EH(a);this.Gk.WV(a);r.Vd(this.ud,a.Kj);a.reset();a.getParent()==this.Qa&&this.Qa.removeChild(a,!0)},Vv:function(a,c){c.K(0,0);c.m(this.oP(a));c.WW(a)},
LF:function(a){a.getParent()!=this.Qa&&this.Qa.f(a);this.Gk.cJ(a);var c=this.ud;a=a.Kj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},t4:function(){return this.Rz},KW:function(a){this.Rz=a},fc:function(){return this.AB},zh:function(a){this.AB=a},mca:function(a){this.kp!=a&&(this.kp=a,0<this.Gk.count()&&this.zD())},c7:function(){return this.kp},Mp:function(a,c){return r.Eh.prototype.Mp.call(this,a,c)?(this.Gk=new r.oy,this.so=new r.oy,this.ud=[],this.AB=null,this.kp=r.mN,this.zK(r.wq),
r.Eh.prototype.zh.call(this,this),!0):!1},uda:function(a){if(!(a==r.qi||-1<a)){var c=this.aC(a);c&&this.BG(c);c=null;this.Vv(a,c);this.LF(c)}},E7:function(a){if(!(a==r.qi||-1<a)){var c,d=this.Gk;if(c=d.FJ(a))for(var e=c=d.Lp(c);e<d.count();e++)c=d.kn(e),this.Vv(c.Kj+1,c);c=null;this.Vv(a,c);this.LF(c);this.EB()}},J$:function(a){if(!(a==r.qi||-1<a)){var c=this.aC(a);if(c){var d=this.Gk,e=d.Lp(c);this.BG(c);r.Vd(this.ud,a);for(a=d.count()-1;a>e;a--)c=d.kn(a),this.Vv(c.Kj-1,c)}}},zD:function(){this.Kv=
r.mF;for(var a=this.Gk,c=this.so,d=this.Qa,e=0,f=a.count();e<f;e++){var g=a.kn(e);c.EH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.ud=[];this.Gk=new r.oy;this.EB()},S2:function(){if(0===this.so.count())return null;var a=this.so.kn(0);this.so.AD(0);return a},aC:function(a){return-1==this.ud.indexOf(a)?null:this.Gk.FJ(a)},oW:function(){},pW:function(){},Gf:function(a,c){if(this.ja){if(this.Vj){var d=this.Ya();d.jd=this.V.il(d.origin);this.Vj=null}r.Eh.prototype.Gf.call(this,a,c)}},jb:function(a,
c){if(!this.ja)return!1;var d=r.Eh.prototype.jb.call(this,a,c);if(1===this.oh.length){var e;e=this.Qa.Yh(a);e=this.LO(e);this.Vj=e===r.qi?null:this.aC(e)}else this.Vj&&(this.Vj=null);return d},qd:function(a,c){r.Eh.prototype.qd.call(this,a,c);this.Vj&&this.nh&&(this.Vj=null)},jk:function(a,c){r.Eh.prototype.jk.call(this,a,c);this.Vj&&(this.Vj=null)}});r.zF.create=function(a,c,d){var e=new r.zF;e.Mp(c,d);e.KW(a);e.EB();return e};r.hc={};r.hc.BH=function(a){for(var c in r.hc.dD)a[c]=r.hc.dD[c]};
r.hc.dD={m:function(a,c){2==arguments.length?(this.q.F=a,this.q.I=c):(this.q.F=a.x,this.q.I=a.y);this.Xa();this.ka.hE(this.q.F,-this.q.I)},ad:function(a){this.q.I=a;this.Xa();this.ka.hE(this.q.F,-this.q.I)},wb:function(a){this.q.F=a;this.Xa();this.ka.hE(this.q.F,-this.q.I)},pk:function(a,c){this.wa=a;this.Ba=c||a;this.Xa();this.ka.resize(this.wa,this.Ba)},dq:function(a){this.wa=a;this.Xa();this.ka.resize(this.wa,this.Ba)},Dn:function(a){this.Ba=a;this.Xa();this.ka.resize(this.wa,this.Ba)},K:function(a,
c){var d=this.Gh;if(2===arguments.length){if(a===d.F&&c===d.I)return;d.F=a;d.I=c}else{if(a.x===d.F&&a.y===d.I)return;d.F=a.x;d.I=a.y}var e=this.Id,f=this.va;e.F=f.Ga*d.F;e.I=f.ta*d.I;this.ka.style[r.Nb.Zp+"TransformOrigin"]=""+e.F+"px "+-e.I+"px";this.Pk?(this.ka.style.marginLeft=0,this.ka.style.marginBottom=0):(this.ka.style.marginLeft=this.w8?0:-e.F+"px",this.ka.style.marginBottom=-e.I+"px");this.Xa()},W:function(a,c){var d=this.va;if(2===arguments.length){if(a===d.Ga&&c===d.ta)return;d.Ga=a;d.ta=
c}else{if(a.width===d.Ga&&a.height===d.ta)return;d.Ga=a.width;d.ta=a.height}var e=this.Id,f=this.Gh;e.F=d.Ga*f.F;e.I=d.ta*f.I;this.ka.width=d.Ga;this.ka.height=d.ta;this.K(this.Gh);this.canvas&&(this.canvas.width=d.Ga,this.canvas.height=d.ta);this.Xa();this.AV()},Lx:function(a){this.OP!=a&&(this.zg=this.Ph=a,this.zm=Math.PI/180*this.zg,this.Mr=Math.PI/180*this.Ph,this.Xa(),this.ka.rotate(a))},Px:function(a){this.je=a;this.Xa();this.ka.TK(this.je,this.ke)},Qx:function(a){this.ke=a;this.Xa();this.ka.TK(this.je,
this.ke)},A:function(a){this.ja=a;this.Xa();this.ka&&(this.ka.style.display=a?"block":"none")},Yv:function(a){this.fb=a;this.Xa();this.ka&&(this.ka.zIndex=a)},ft:function(a){this.V=a;null!==a&&(a.K(a.Gh),this.Xa(),r.hc.kx(this))},wx:function(){this.Df().xn(this);this.Gg().xn(this);this.ka&&!this.ka.parentNode&&(this.getParent()?r.hc.kx(this):this.ka.Wm(r.bk));this.ka&&(this.ka.style.visibility="visible")},lx:function(){this.Df().Xs(this);this.Gg().Xs(this);this.ka&&(this.ka.style.visibility="hidden")},
Zf:function(){this.cE();this.ot();this.qg(this.t,r.D.Mf.Zf);this.ka&&this.ka.remove()},SV:function(){this.ka.remove()},pa:function(a){this.Ki=a;this.ka.style.opacity=a/255},AV:function(){if(this.ZC){var a=this.t;this.t=[];r.w.prototype.ra.call(this,this.sp);this.t=a}else r.w.prototype.ra.call(this,this.sp)}};
r.hc.KP=function(){var a=r.Nb("#EGLViewDiv");if(a){var c=r.sa.e(),d=c.zp(),e=c.cf,f=c.Pw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.cb.width;0===e.cb.width&&0===e.cb.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.wa,c.Ba);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
r.hc.kx=function(a){var c=a.getParent();if(c&&a.ka)if(c.ka||(r.hc.fV(c),c.ft=r.hc.dD.ft),a.ka.Wm(c.ka),c.K(c.Gh),c.getParent())r.hc.kx(c);else if(c.We)if(a=r.Nb("#EGLViewDiv"))c.ka.Wm(a);else{a=r.tk("div");a.id="EGLViewDiv";var d=r.sa.e(),e=d.zp(),f=d.cf,g=d.Pw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.cb.width;0===f.cb.width&&0===f.cb.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.wa,d.Ba);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.ka.Wm(a);a.Wm(r.bk)}};r.hc.setTransform=function(a){if(a.sp)if(a.sp.translate(a.Id.x,a.Id.y),a.ZC){var c=a.t;a.t=[];r.w.prototype.ra.call(a,a.sp);a.t=c}else r.w.prototype.ra.call(a,a.sp);a.ka&&(a.ka.position.x=a.q.x,a.ka.position.y=-a.q.y,a.ka.rotation=a.eT(),a.ka.scale={x:a.wa,y:a.Ba},a.ka.Jl={x:a.je,y:a.ke},a.K&&a.K(a.Gh),a.ka.Kn())};
r.hc.zS=function(a){a.ka=r.tk("div");a.canvas=r.tk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ka.style.position="absolute";a.ka.style.bottom=0;a.sp=a.canvas.getContext("2d");a.ka.appendChild(a.canvas);a.getParent()&&r.hc.kx(a);a.ZC=!0};
r.hc.fV=function(a){a.ka=r.tk("div");a.placeholder=!0;a.ka.style.position="absolute";a.ka.style.bottom=0;a.ka.style.width=(a.c().width||r.Z.e().Qb.width)+"px";a.ka.style.maxHeight=(a.c().height||r.Z.e().Qb.height)+"px";a.ka.style.margin=0;r.hc.setTransform(a);a.ka.Kn();r.hc.BH(a)};
r.hc.fC=function(a){if(1<arguments.length)r.hc.fC(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof r.w?c[d].ka||r.hc.zS(c[d]):r.log("DOM converter only supports sprite and menuitems yet"),r.hc.BH(c[d]),c[d].ra=function(){},c[d].transform=function(){},r.hc.setTransform(c[d]),c[d].A(c[d].ja);else r.hc.fC([arguments[0]])};r.wM=0;r.TZ=1;r.WZ=2;r.VZ=3;r.UZ=4;r.lM=0;r.xZ=1;r.yZ=2;r.zZ=3;r.BZ=4;r.wZ=5;r.AZ=6;r.jM=0;r.kM=1;r.vZ=2;r.uZ=3;r.tZ=4;r.EZ=r.Da.extend({Jw:function(){},Kw:function(){},Lw:function(){},g3:function(){}});
r.uq=r.Wl.extend({Di:null,Xb:null,AO:r.lM,zO:r.kM,bP:r.wM,n1:"",Mi:"",gw:null,Ir:null,wG:50,SN:18,ab:null,er:14,dA:"Arial",eA:!1,MA:"",Nv:14,o1:!1,ctor:function(a,c){r.Wl.prototype.ctor.call(this);this.eA=!1;this.gw=r.yb();this.Ir=r.Hp();this.W(a);this.Di=new r.w;this.Di.Va=function(){};this.f(this.Di);var d=this;c?(this.ab=document.createElement("textarea"),this.ab.style.resize="none",this.eA=!0):this.ab=document.createElement("input");this.ab.type="text";this.ab.style.fontSize=this.er+"px";this.ab.style.color=
"#000000";this.ab.style.border=0;this.ab.style.background="transparent";this.ab.style.width="100%";this.ab.style.height="100%";this.ab.style.v1=0;this.ab.style.outline="medium";this.ab.addEventListener("input",function(){d.Xb&&d.Xb.Lw&&d.Xb.Lw(d,this.value)});this.ab.addEventListener("keyup",function(a){a.keyCode===r.vM.uS&&!1==d.eA&&(a.stopPropagation(),a.preventDefault(),r.canvas.focus())});this.ab.addEventListener("focus",function(){this.value==d.Mi&&(this.value="",this.style.fontSize=d.er+"px",
this.style.color=r.hl(d.gw));d.Xb&&d.Xb.Jw&&d.Xb.Jw(d)});this.ab.addEventListener("blur",function(){""==this.value&&(this.value=d.Mi,this.style.fontSize=d.Nv+"px",this.style.color=r.hl(d.Ir));d.Xb&&d.Xb.Kw&&d.Xb.Kw(d)});r.hc.fC(this.Di);this.Di.ka.appendChild(this.ab);this.Di.ka.uca=!1;this.Di.ka.style.width=a.width-6+"px";this.Di.ka.style.height=a.height-6+"px";this.Di.canvas.remove()},Laa:function(a,c){this.er=c;this.dA=a;this.jB()},nca:function(){},TW:function(a){this.dA=a;this.jB()},EK:function(a){this.er=
a;this.jB()},jB:function(){this.ab.value!=this.Mi&&(this.ab.style.fontFamily=this.dA,this.ab.style.fontSize=this.er+"px")},Je:function(a){null!=a&&(""==a?(this.ab.value=this.Mi,this.ab.style.color=r.hl(this.Ir)):(this.ab.value=a,this.ab.style.color=r.hl(this.gw)))},SW:function(a){this.gw=a;this.ab.value!=this.Mi&&(this.ab.style.color=r.hl(a))},eba:function(a){!isNaN(a)&&0<a&&(this.wG=a,this.ab.maxLength=a)},i5:function(){return this.wG},uba:function(a){if(null!=a){var c=this.Mi;this.Mi=a;this.ab.value==
c&&(this.ab.value=a,this.ab.style.color=r.hl(this.Ir),this.Wv())}},vba:function(a,c){this.MA=a;this.Nv=c;this.Wv()},xba:function(a){this.MA=a;this.Wv()},yba:function(a){this.Nv=a;this.Wv()},Wv:function(){this.ab.value==this.Mi&&(this.ab.style.fontFamily=this.MA,this.ab.style.fontSize=this.Nv+"px")},wba:function(a){this.Ir=a;this.ab.value==this.Mi&&(this.ab.style.color=r.hl(a))},Fx:function(a){this.zO=a;this.ab.type=a==r.jM?"password":"text"},U:function(){return this.ab.value},WT:function(a,c){return this.VI(c)?
(this.Di.m(3,3),this.IX(!1),this.ok(a),this.m(0,0),this.MF(this,this.kY,r.AE),!0):!1},zh:function(a){this.Xb=a},Q5:function(){return this.Mi},Taa:function(a){this.AO=a},Mba:function(a){this.bP=a},K8:function(a){var c=r.uq.ve(this);c.y-=4;c.I7(a.end)?this.SN=a.end.m5()-c.p5():r.log("needn't to adjust view layout.")},I8:function(){},J8:function(){},H8:function(){},kY:function(){},eC:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},fW:function(a,c,d){return"#"+this.eC(a)+this.eC(c)+this.eC(d)},
sK:function(a){this.ab.style.background=this.fW(a.p,a.o,a.g)},z7:function(a,c){this.yO=a.width;this.ka.style.width=this.yO.toString()+"px";this.xO=a.height;this.ka.style.height=this.xO.toString()+"px";this.ka.style.backgroundColor=r.hl(c)}});r.uq.ve=function(a){var c=a.c(),c=r.rect(0,0,c.width,c.height);return r.Wg(c,a.Us())};r.uq.create=function(a,c,d,e,f){d=new r.uq(a,d);c instanceof r.Ec?d.sK(c):d.WT(a,c)&&(e&&d.Ex(e,r.CE),f&&d.Ex(f,r.BE));return d};var t=[],ha=new XMLHttpRequest;ha.open("GET","config.txt",!1);ha.send(null);var ka=ha.responseText,ma=ka.split("\n")[0],na=ka.split("\n")[1];na&&(ma+=":"+na);var oa=io.connect(ma,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});oa.on("connect",function(){v.yy();v.lN();console.log("Client has connected to the server!");if(x){var a=x.e().od;a?a.En(!0):t.push(JSON.stringify({connect:!0}))}else t.push(JSON.stringify({connect:!0}))});oa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&v.AL(a.mapdata,a.maptime),a.warpdata&&v.iy(a.warpdata,a.warptime),a.itemdata&&v.qt(a.itemdata,a.itemtime),a.skillsdata&&v.kE(a.skillsdata,a.skillstime),a.signsdata&&v.hy(a.signsdata,a.signstime),a.npcsdata&&v.BL(a.npcsdata,a.npcstime),a.questdata&&v.iE(a.questdata,a.queststime),a.settingsdata&&(v.jE(a.settingsdata,a.settingstime),z=ra(z,
a.settingsdata)),a.scriptsdata&&v.FL(a.scriptsdata,a.scriptstime),ta=!0;else if(c=x.e().od)if(a.connect?c.En(!0):a.disconnect&&c.En(!1),"Game"==c.Ac())if(a.newPlayer)A.$Q({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)A.ci(a.playerLeft).dg==A.v.ba.dg&&(MapMaster=!1),A.ZH(a.playerLeft);else if(a.setTo)if(!A.ci(a.id)||A.ci(a.id)&&!1==A.ci(a.id).Mg){for(c=0;c<t.length;c++)d=JSON.parse(t[c]),d.moveTo&&null!=d.moveTo&&d.id==a.id&&(t.splice(c,1),c--);A.kV({id:a.id,
location:{position:a.position,mapnumber:a.mapnumber}});A.ci(a.id).dg==A.v.ba.dg&&(MapMaster=!1);A.vR(a.id,a.mapnumber)}else t.push(JSON.stringify(a));else a.moveTo?!A.ci(a.id)||A.ci(a.id)&&!1==A.ci(a.id).Mg?A.DU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):t.push(JSON.stringify(a)):a.chatMessage?C.Mb(a.chatMessage):a.coinflip?C.Mb(a.coinflip):a.diceroll?C.Mb(a.diceroll):a.dance?C.Mb(a.dance):a.afk?A.wR(a.afk):a.savemap?(v.tR(a.savemap,a.mapdata,a.updatetime),F.MX(a.mapdata)):a.mapmaster?
MapMaster=!0:a.savewarps?(v.CR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.bn()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Nc=ObjectLists.bn(),Warpeditor.na())):a.savewarpswhole?(v.HV(a.savewarpswhole,a.updatetime),ObjectLists.HX(a.savewarpswhole)):a.savescripts?(v.yR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Wi()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.Nc=ObjectLists.Wi(),Scripteditor.na())):a.savescriptswhole?(v.EV(a.savescriptswhole,
a.updatetime),ObjectLists.xX(a.savescriptswhole)):a.savesettings?(v.jE(a.savesettings,a.updatetime),z=ra(z,a.savesettings),Settingseditor&&(Settingseditor.data=ua(z),Settingseditor.Hb())):a.savequests?(v.xR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Cs()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Nc=ObjectLists.Cs(),Questeditor.na())):a.savequestswhole?(v.DV(a.savequestswhole,a.updatetime),ObjectLists.tX(a.savequestswhole)):a.saveskills?(v.AR(parseInt(a.saveskills),
a.skillsdata,a.updatetime),ObjectLists.Xi()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Nc=ObjectLists.Xi(),Skillseditor.na()),G.update(),Skills&&Skills.Wb()):a.saveskillswhole?(v.GV(a.saveskillswhole,a.updatetime),ObjectLists.zX(a.saveskillswhole),G.update(),Skills&&Skills.Wb()):a.savesigns?(v.zR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.Es()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Nc=ObjectLists.Es(),Signeditor.na())):a.moveNPC?(a.npcID=
parseInt(a.npcID),!A.Bp(a.npcID)||A.Bp(a.npcID)&&!1==A.Bp(a.npcID).Mg?A.CU(a.npcID,a.moveNPC,a.mapnumber):t.push(JSON.stringify(a))):a.changeNPCPosition?A.Bp(a.npcID)&&(a.npcID=parseInt(a.npcID),A.Bp(a.npcID)&&!1==A.Bp(a.npcID).Mg?A.ZV(a.npcID,a.changeNPCPosition):t.push(JSON.stringify(a))):a.savesignswhole?(v.FV(a.savesignswhole,a.updatetime),ObjectLists.yX(a.savesignswhole)):a.savenpcs?(v.uR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.ml()[parseInt(a.savenpcs)]=a.npcsdata,F.Fp(F.pd(),
!0),NPCeditor&&(NPCeditor.Nc=ObjectLists.ml(),NPCeditor.na())):a.savenpcswhole?(v.CV(a.savenpcswhole,a.updatetime),ObjectLists.eX(a.savenpcswhole),F.Fp(F.pd(),!0),NPCeditor&&(NPCeditor.Nc=ObjectLists.ml(),NPCeditor.na())):a.saveitems?(v.sR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Bf()[parseInt(a.saveitems)].name,ObjectLists.Bf()[parseInt(a.saveitems)]=a.itemdata,F.Fp(F.pd()),Itemeditor&&(Itemeditor.Nc=ObjectLists.Bf(),Itemeditor.na()),Inventory&&Inventory.Wb(),A.v.ba.qt(c,a.itemdata)):
a.droppeditem?a.mapnumber==F.pd()&&!1==F.e().Lg?(c=F.GI(a.index),c.WQ(a.droppeditem),F.st()):t.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==F.pd()&&(c=F.GI(a.pickupitem),c.nD(),F.st()):a.saveitemswhole?(v.BV(a.saveitemswhole,a.updatetime),ObjectLists.XW(a.saveitemswhole)):a.savesuccess&&c.BS();else"Login"==c.Ac()&&(a.login_success?c.IU(a.login_success):a.login_fail?c.hx(a.login_fail):a.registrationsuccess?c.JR():a.registrationfailed&&c.wS(a.registrationfailed));else t.push(JSON.stringify(a))};
oa.on("disconnect",function(){console.log("The client has disconnected!");var a=x.e().od;a?a.En(!1):t.push(JSON.stringify({disconnect:!0}))});function H(a){oa.send(JSON.stringify(a))};var I=Object.freeze({se:{Q2:"C to popup/dismiss, enter for chat. Say /help for help.",J7:"Welcome to the Powder Engine! Enter /help for some help.",OT:"-------HELP------",NT:" - Press C to expand the chat, I for Inventory",MT:" - Space to grab Items and E for Equipment.",LT:" - Enter /commands for command list",KT:"-------------------",IR:"Commands:  /editskill, /editsign, /editnpc,",HR:" - /editmap, /editwarp, /edititem,",GR:" - /dance, /coinflip, /diceroll, /afk",FR:"--------------------",gV:" has joined the game!",
h$:" has left the game!",mx:"Picked up ",pS:"Dropped ",fJ:"Your inventory is full"}});var va={},Aa=r.Gd.e();r.oj.e();Aa.SK(["res/Graphics"]);ha=new XMLHttpRequest;ha.open("GET","res/Graphics/tile_graphics.txt",!1);ha.send(null);var ka=ha.responseText,Ba=ka.split(","),J=[],Ca;for(Ca in Ba)J.push({name:Ba[Ca],texture:r.ha.e().qa(Ba[Ca])});var ta=!1,ha=new XMLHttpRequest;ha.open("GET","res/Graphics/character_graphics.txt",!1);ha.send(null);var ka=ha.responseText,Ba=ka.split(","),K=[];for(Ca in Ba)K.push({name:Ba[Ca],texture:r.ha.e().qa(Ba[Ca])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();va[a.keyCode]=!0};window.onbeforeunload=function(){H({disconnect:!0})};window.onfocus=function(){for(var a=[],c=t.length-1;0<=c;c--){var d=JSON.parse(t[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,t[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&t.splice(c,1)}};var N=r.h(255,255,255,255),Fa=r.h(0,255,0,255),Ga=r.h(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){va[a.keyCode]=!1;if(null!=x.e().od){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.e().od.xl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var z={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function O(a,c){return(a.pJ&&a.ja||!a.pJ)&&r.bb(r.rect(a.q.F,a.q.I,a.c().width,a.c().height),c)}function ua(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?ua(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ha(a,c){var d=c?a:a.Bc();return Ia(d,"panels")}function Ja(){Na.Dc(function(){})}
function Ia(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.jU?d=Oa.yy(c.jY):"undefined"!=typeof c.C?(d=c.size?c.size:r.size(100,100),d=r.ca.create(c.C,d.width,d.height)):d="undefined"!=typeof c.ZC?r.w.create():"undefined"!=typeof c.Y?r.w.hb(r.ha.e().qa(c.Y)):"undefined"!=typeof c.label?r.S.create(c.label,c.font?c.H3:"Arial",c.fontSize?c.fontSize:14):r.D.create();"undefined"!=typeof c.size&&d.W(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.m(r.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.A(c.visible);"undefined"!=typeof c.d&&d.K(c.d);"undefined"!=typeof c.opacity&&d.pa(c.opacity);"undefined"!=typeof c.color&&(d.n||console.log(c),d.n(c.color));if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ia(a,e,c.children),d.f(d[e]);return d}r.size(960,640);var P=r.size(1600,1600),Pa=Math.floor(P.height/32),S=Math.floor(P.width/32);function T(a,c){return parseInt(S*(Pa-c))+parseInt(a)}
function ra(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Qa(a,c,d){Na.Dc(function(){var e=[],f=A.v.ba.items;c&&c.script&&(e=ObjectLists.Wi()[c.script].data);for(var g=0;g<e.length;g++)if(e[g].type==a)for(var h=e[g].responses,k=0;k<h.length;k++){switch(h[k].type){case "Is Panel Visibility":if(d&&d["Is Panel Visibility"])break;var l=1==h[k].data.visible?!0:!1;switch(h[k].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);if(Inventory&&!l)break;if(!Inventory&&l)break;break;case 1:null==Equipment||Equipment.V||(Equipment=null);if(Equipment&&
!l)break;if(!Equipment&&l)break;break;case 2:null==Skills||Skills.V||(Skills=null)}break;case "Is Player Inventory Space":if(d&&d["Is Player Inventory Space"])break;for(var m=h[k].data.space?h[k].data.space:0,n=0,p=0;40>p;p++)f.stored[p]||n++;if(n<m)break;break;case "Has Player Item":if(d&&d["Has Player Item"])break;if(h[k].data.item){var m=h[k].data.amount?h[k].data.amount:0,n=0,l=ObjectLists.Bf()[h[k].data.item].name,q;for(q in f.stored)f.stored[q]&&f.stored[q].name==l&&n++;if(n<m)break}break;case "Is Player Statistics":if(d&&
d["Is Player Statistics"])break;h[k].data.levelUpper||(h[k].data.levelUpper=0);h[k].data.levelLower||(h[k].data.levelLower=0);h[k].data.healthUpper||(h[k].data.healthUpper=0);h[k].data.healthLowe||(h[k].data.healthLower=0);h[k].data.xpUpper||(h[k].data.xpUpper=0);h[k].data.xpLower||(h[k].data.xpLower=0)}h=e[g].responses;for(k=0;k<h.length;k++)switch(h[k].type){case "Equip Item":if(d&&d["Equip Item"])break;l=h[k].data.equip;"bothArms"==l&&(l="lArm",f.equipped.rArm||(l="rArm"));m=null;f.equipped[l]&&
(m=ua(f.equipped[l]),Qa("On Dequip",m));f.equipped[l]=ua(c);c=m;Inventory&&Inventory.Wb();Equipment&&Equipment.Wb();break;case "Give /Take Item":if(d&&d["Give /Take Item"])break;if(!h[k].data.amount||null==h[k].data.item||"undefined"==h[k].data.item)break;l=ObjectLists.Bf()[h[k].data.item];if(0<h[k].data.amount){m=h[k].data.amount;if(!0==l.stackable){for(p=0;40>p;p++)f.stored[p]&&f.stored[p].name==l.name&&(m=0);0!=n&&(m=1)}else for(p=n=0;40>p;p++)f.stored[p]||n++;if(n<m)break;else if(!0==l.stackable){m=
!1;for(p=0;40>p;p++)if(f.stored[p]&&f.stored[p].name==l.name){f.stored[p].amount+=h[k].data.amount;Inventory&&Inventory.li(p,f.stored[p].amount);m=!0;break}if(!1==m)for(p=0;40>p;p++)if(!f.stored[p]){f.stored[p]=ua(l);f.stored[p].amount=h[k].data.amount;Inventory&&Inventory.li(p,f.stored[p].amount);break}}else for(m=0;m<h[k].data.amount;m++)for(p=0;40>p;p++)if(!f.stored[p]){f.stored[p]=ua(l);break}}else if(0>h[k].data.amount){m=Math.abs(h[k].data.amount);n=0;l=l.name;for(p in f.stored)f.stored[p]&&
f.stored[p].name==l&&n++;if(n<m)break;else for(m=0;m<Math.abs(h[k].data.amount);m++)for(p in f.stored)if(f.stored[p]&&f.stored[p].name==l){console.log("gettin rid"+m);user.stored[p]=null;break}}break;case "Modify Player Stats":if(d&&d["Modify Player Stats"])break;ObjectLists.Xi()[h[k].data.skill]&&(l=ObjectLists.Xi()[h[k].data.skill].name,G.zJ(l,h[k].data.level),G.yJ(l,h[k].data.health),G.AJ(l,h[k].data.xp));break;case "Warp Player":if(d&&d["Warp Player"])break;l=h[k].data.index%S;m=Math.floor(h[k].data.index/
S);A.v.ba.m(32*l,32*m);H({changemap:h[k].data.mapnum,setTo:h[k].data.index});F.Fp(h[k].data.mapnum);F.Gp(32*l,32*m);break;case "Read Item":if(d&&d["Read Item"])break;Na.PX(c.name,h[k].data.say);break;case "Open/Close Panel":if(d&&d["Open/Close Panel"])break;l=1==h[k].data.visible?!0:!1;switch(h[k].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);!0==l?Inventory?Inventory.Wb():(Inventory=new InventoryPanel,Inventory.r(),Inventory.na(),Na.f(Inventory)):Inventory&&(Inventory.xa(),Inventory.N(),
Inventory=null);break;case 1:null==Equipment||Equipment.V||(Equipment=null);!0==l?Equipment?Equipment.Wb():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.na(),Na.f(Equipment)):Equipment&&(Equipment.xa(),Equipment.N(),Equipment=null);break;case 2:null==Skills||Skills.V||(Skills=null),!0==l?Skills?Skills.Wb():(Skills=new SkillsPanel,Skills.r(),Skills.na(),Na.f(Skills)):Skills&&(Skills.xa(),Skills.N(),Skills=null)}break;case "Destroy":if(d&&d.Destroy)break;c=null;tile.Ds().temp?H({pickupitem:T(gp.x,
gp.y),mapnumber:F.pd(),temp:!0}):H({pickupitem:T(gp.x,gp.y),mapnumber:F.pd()});Inventory&&Inventory.Wb();k=h.length}}})}
function Ra(a){Na.Dc(function(){var c=[],d=A.v.ba.items;a&&a.Wa&&(c=ObjectLists.Wi()[a.Wa].data);for(var e=0;e<c.length;e++)if("Default Event"==c[e].type)for(var f=c[e].responses,g=0;g<f.length;g++){switch(f[g].type){case "Is Panel Visibility":var h=1==f[g].data.visible?!0:!1;switch(f[g].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);if(Inventory&&!h)break;if(!Inventory&&h)break;break;case 1:null==Equipment||Equipment.V||(Equipment=null);if(Equipment&&!h)break;if(!Equipment&&h)break;
break;case 2:null==Skills||Skills.V||(Skills=null)}break;case "Is Player Inventory Space":for(var k=f[g].data.space?f[g].data.space:0,l=0,m=0;40>m;m++)d.stored[m]||l++;if(l<k)break;break;case "Has Player Item":if(f[g].data.item){var k=f[g].data.amount?f[g].data.amount:0,l=0,h=ObjectLists.Bf()[f[g].data.item].name,n;for(n in d.stored)d.stored[n]&&d.stored[n].name==h&&l++;if(l<k)break}break;case "Is Player Statistics":f[g].data.levelUpper||(f[g].data.levelUpper=0),f[g].data.levelLower||(f[g].data.levelLower=
0),f[g].data.healthUpper||(f[g].data.healthUpper=0),f[g].data.healthLowe||(f[g].data.healthLower=0),f[g].data.xpUpper||(f[g].data.xpUpper=0),f[g].data.xpLower||(f[g].data.xpLower=0)}f=c[e].responses;for(g=0;g<f.length;g++)switch(f[g].type){case "Talk":Na.RX(a.name,f[g].data.say);break;case "Give /Take Item":if(!f[g].data.amount||null==f[g].data.item||"undefined"==f[g].data.item)break;h=ObjectLists.Bf()[f[g].data.item];if(0<f[g].data.amount){k=f[g].data.amount;if(!0==h.stackable){for(m=0;40>m;m++)d.stored[m]&&
d.stored[m].name==h.name&&(k=0);0!=l&&(k=1)}else for(m=l=0;40>m;m++)d.stored[m]||l++;if(l<k)break;else if(!0==h.stackable){k=!1;for(m=0;40>m;m++)if(d.stored[m]&&d.stored[m].name==h.name){d.stored[m].amount+=f[g].data.amount;Inventory&&Inventory.li(m,d.stored[m].amount);k=!0;break}if(!1==k)for(m=0;40>m;m++)if(!d.stored[m]){d.stored[m]=ua(h);d.stored[m].amount=f[g].data.amount;Inventory&&Inventory.li(m,d.stored[m].amount);break}}else for(k=0;k<f[g].data.amount;k++)for(m=0;40>m;m++)if(!d.stored[m]){d.stored[m]=
ua(h);break}}else if(0>f[g].data.amount){k=Math.abs(f[g].data.amount);l=0;h=h.name;for(m in d.stored)d.stored[m]&&d.stored[m].name==h&&l++;if(l<k)break;else for(k=0;k<Math.abs(f[g].data.amount);k++)for(m in d.stored)if(d.stored[m]&&d.stored[m].name==h){console.log("gettin rid"+k);user.stored[m]=null;break}}break;case "Modify Player Stats":ObjectLists.Xi()[f[g].data.skill]&&(h=ObjectLists.Xi()[f[g].data.skill].name,G.zJ(h,f[g].data.level),G.yJ(h,f[g].data.health),G.AJ(h,f[g].data.xp));break;case "Warp Player":h=
f[g].data.index%S;k=Math.floor(f[g].data.index/S);A.v.ba.m(32*h,32*k);H({changemap:f[g].data.mapnum,setTo:f[g].data.index});F.Fp(f[g].data.mapnum);F.Gp(32*h,32*k);break;case "Open/Close Panel":switch(h=1==f[g].data.visible?!0:!1,f[g].data.panel){case 0:null==Inventory||Inventory.V||(Inventory=null);!0==h?Inventory?Inventory.Wb():(Inventory=new InventoryPanel,Inventory.r(),Inventory.na(),Na.f(Inventory)):Inventory&&(Inventory.xa(),Inventory.N(),Inventory=null);break;case 1:null==Equipment||Equipment.V||
(Equipment=null);!0==h?Equipment?Equipment.Wb():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.na(),Na.f(Equipment)):Equipment&&(Equipment.xa(),Equipment.N(),Equipment=null);break;case 2:null==Skills||Skills.V||(Skills=null),!0==h?Skills?Skills.Wb():(Skills=new SkillsPanel,Skills.r(),Skills.na(),Na.f(Skills)):Skills&&(Skills.xa(),Skills.N(),Skills=null)}}}})};var v=r.Da.extend({v:null,vb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},mk:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),U=null;v.yy=function(){U||(U=new v);return U};v.e=function(){return U};v.mX=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};v.ZS=function(){return s.localStorage.getItem("panelStore")};
v.OS=function(a){if(U.vb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};v.AL=function(a,c){U.mk("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};v.tR=function(a,c,d){var e=U.vb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;v.AL(e,d)};v.ff=function(){if(U.vb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
v.FL=function(a,c){U.mk("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};v.yR=function(a,c,d){var e=U.vb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;v.FL(e,d)};v.EV=function(a,c){scriptarray=a;v.iy(scriptarray,c)};v.tT=function(){if(U.vb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
v.iy=function(a,c){U.mk("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};v.CR=function(a,c,d){var e=U.vb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;v.iy(e,d)};v.HV=function(a,c){warparray=a;v.iy(warparray,c)};v.MS=function(){if(U.vb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
v.qt=function(a,c){U.mk("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};v.sR=function(a,c,d){var e=U.vb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;v.qt(e,d)};v.BV=function(a,c){itemsarray=a;v.qt(itemsarray,c)};v.kT=function(){if(U.vb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
v.kE=function(a,c){U.mk("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};v.AR=function(a,c,d){var e=U.vb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;v.kE(e,d)};v.GV=function(a,c){skillarray=a;v.kE(skillarray,c)};v.iT=function(){if(U.vb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
v.hy=function(a,c){U.mk("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};v.zR=function(a,c,d){var e=U.vb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;v.hy(e,d)};v.FV=function(a,c){signarray=a;v.hy(signarray,c)};v.US=function(){if(U.vb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
v.BL=function(a,c){U.mk("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};v.uR=function(a,c,d){var e=U.vb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;v.BL(e,d)};v.CV=function(a,c){npcsarray=a;v.hy(npcsarray,c)};v.cT=function(){if(U.vb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
v.iE=function(a,c){U.mk("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};v.xR=function(a,c,d){var e=U.vb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;v.iE(e,d)};v.DV=function(a,c){questsarray=a;v.iE(questsarray,c)};v.yC=function(){if(U.vb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
v.jE=function(a,c){U.mk("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
v.dZ=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
v.lN=function(){H({sync:!0,mapupdate:null!=U.vb("maps")?U.vb("maps"):2,warpupdate:null!=U.vb("warps")?U.vb("warps"):2,itemupdate:null!=U.vb("items")?U.vb("items"):2,skillsupdate:null!=U.vb("skills")?U.vb("skills"):2,signsupdate:null!=U.vb("signs")?U.vb("signs"):2,npcsupdate:null!=U.vb("npcs")?U.vb("npcs"):2,questsupdate:null!=U.vb("quests")?U.vb("quests"):2,settingsupdate:null!=U.vb("settings")?U.vb("settings"):2,scriptsupdate:null!=U.vb("scripts")?U.vb("scripts"):2})};
v.$W=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};v.PS=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};v.vX=function(a,c){s.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};v.rK=function(a){s.localStorage.setItem("autologin",JSON.stringify(a))};v.hJ=function(){var a=s.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
v.nJ=function(){return s.localStorage.getItem("savedcredentials")?!0:!1};v.oT=function(){var a=s.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=r.Eh.extend({rl:null,l:null,Bw:null,gx:!1,ki:null,An:null,pL:null,zD:function(){if(this.l){this.An&&(this.An.N(),this.ki.N());var a=this.l.Nd();a.height<this.l.c().height&&(a=this.l.c(),this.gx=!0);this.rl=[];for(var c=0,d=0;d<this.l.Ad();d++){var e=this.l.we(d),c=c+e.height;this.rl[d]=r.D.create();this.rl[d].W(e);this.rl[d].m(r.a(0,a.height-c));this.rl[d].K(r.a(0,1));this.f(this.rl[d]);this.rl[d].f(this.l.ue(d))}this.gq(-300);this.WD(0);!1==this.gx&&(this.An=r.ca.create(r.h(0,0,0,255),1,
this.l.c().height),this.An.m(r.a(this.l.c().width+20,0)),this.ki=r.ca.create(r.h(90,90,255,255),20,this.l.c().height/5),this.ki.m(r.a(this.l.c().width+10,0)),this.l.f(this.An),this.l.f(this.ki),this.El(r.a(0,this.Ts().y),!1));this.l.m(this.pL)}},r:function(a){this.l=a;this.K(r.a(0,0));this.pL=r.a(a.q.F,a.q.I);this.Mp(this.l.c(),this.l);this.zK(r.wq);this.zW(!1);a=this.l.Nd();var c=r.D.create();c.W(a);this.EW(c)},Ie:function(a){this.Bw=a},FD:!1,Dx:null,Cc:function(a){if(!this.l.Ui)return!1;for(var c=
0;c<this.l.Ad();c++)this.l.Ui(c).n(r.h(255,255,255,255));this.l.Ui(a).n(r.h(255,0,0,255))},jb:function(a){for(var c=a.L,d=0;d<this.l.Ad();d++)for(var e in this.Bw[d]){var f=this.rl[d].Ka(c),g=this.l.Ka(c);g.x+=this.l.q.F;O(this.l,g);if(O(this.Bw[d][e],f))return this.l.wc(this.Bw[d][e].tc,d,a),this.FD=!0}if(!1==this.gx){a=this.l.Ka(c);if(O(this.ki,a))return this.Dx=a.y-this.ki.q.I,!0;console.log("TURNING OFF SCROLOL");this.Dx=null}},qd:function(a){if(!0==this.FD)return this.FD=!1;if(!1==this.gx){var c=
a.L;if(null!=this.Dx&&(c=this.l.Ka(c),c.y-=this.Dx,0<=c.y&&c.y+this.ki.c().height<=this.l.c().height))return a=c.y/(this.An.c().height-this.ki.c().height),this.El(r.a(0,this.gn().y*a),!1),this.ki.ad(c.y),!0;c=this._super(a);a=this.vI().y/this.gn().y;this.ki.ad((this.An.c().height-this.ki.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.zD();return c};var Oa=r.D.extend({ye:null,ze:null,Ae:null,Ee:null,Fe:null,Od:null,item:null,ne:null,oe:null,qe:null,pe:null,position:null,lf:null,type:null,Wa:null,ctor:function(){this._super()},r:function(){this._super();this.lf=r.S.create("","Arial",16);this.lf.K(0.5,0.5);this.lf.m(16,-16);this.lf.pa(0);this.lf.n(r.k(0,0,0));this.f(this.lf,900);this.item=[];this.Wa=[];this.ij(0)},WQ:function(a){this.nk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.Bf().length;c++)if(a.name==ObjectLists.Bf()[c].name){this.Ox({id:c,
data:{amount:a.amount}},!0);break}this.ij(4)},nD:function(){this.Wa[this.Wa.length-1].temp&&(this.item[this.item.length-1].N(),this.item.splice(this.item.length-1,1),this.iV())},nk:function(a,c,d){a=r.w.hb(r.ha.e().qa(a));a.Sb(r.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.n(r.h(255,255,255,255));a.K(0,1);switch(d){case "ground1":null!=this.ye&&this.ye.N();this.ye=a;this.f(this.ye);break;case "ground2":null!=this.ze&&this.ze.N();this.ze=a;this.f(this.ze,1);break;case "groundShadow":null!=
this.Ae&&this.Ae.N();this.Ae=a;this.f(this.Ae,2);break;case "mask1":null!=this.Ee&&this.Ee.N();this.Ee=a;this.f(this.Ee,3);break;case "mask2":null!=this.Fe&&this.Fe.N();this.Fe=a;this.f(this.Fe,4);break;case "mask3":null!=this.Od&&this.Od.N();this.Od=a;this.f(this.Od,5);break;case "item":this.item.push(a);this.f(this.item[this.item.length-1],6);break;case "fringe1":null!=this.ne&&this.ne.N();this.ne=a;this.f(this.ne,7);break;case "fringe2":null!=this.oe&&this.oe.N();this.oe=a;this.f(this.oe,8);break;
case "fringeShadow":null!=this.qe&&this.qe.N();this.qe=a;this.f(this.qe,9);break;case "fringe3":null!=this.pe&&this.pe.N(),this.pe=a,this.f(this.pe,10)}},Kg:function(){var a=!0;if(null!=this.ye&&this.ye.aa()&&!1==this.ye.aa().rc)a=!1;else if(null!=this.ze&&this.ze.aa()&&!1==this.ze.aa().rc)a=!1;else if(null!=this.Ae&&this.Ae.aa()&&!1==this.Ae.K6)a=!1;else if(null!=this.Ee&&this.Ee.aa()&&!1==this.Ee.aa().rc)a=!1;else if(null!=this.Fe&&this.Fe.aa()&&!1==this.Fe.aa().rc)a=!1;else if(null!=this.Od&&this.Od.aa()&&
!1==this.Od.aa().rc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].aa()&&!1==this.item[c].aa().rc&&(a=!1);else null!=this.ne&&this.ne.aa()&&!1==this.ne.aa().rc?a=!1:null!=this.oe&&this.oe.aa()&&!1==this.oe.aa().rc?a=!1:null!=this.qe&&this.qe.aa()&&!1==this.qe.aa().rc?a=!1:null!=this.pe&&this.pe.aa()&&!1==this.pe.aa().rc&&(a=!1);return a},yd:function(){null!=this.ye&&this.ye.N();this.ye=null;null!=this.ze&&this.ze.N();this.ze=null;null!=this.Ae&&this.Ae.N();this.Ae=null;null!=
this.Ee&&this.Ee.N();this.Ee=null;null!=this.Fe&&this.Fe.N();this.Fe=null;null!=this.Od&&this.Od.N();this.Od=null;for(var a=0;a<this.item.length;a++)this.item[a].N();this.item=[];this.Od=null;null!=this.ne&&this.ne.N();this.ne=null;null!=this.oe&&this.oe.N();this.oe=null;null!=this.qe&&this.qe.N();this.qe=null;null!=this.pe&&this.pe.N();this.pe=null;this.ij(0);this.Wa=[];this.item=[]},jC:function(a){switch(a){case "ground1":null!=this.ye&&this.ye.N();this.ye=null;break;case "ground2":null!=this.ze&&
this.ze.N();this.ze=null;break;case "groundShadow":null!=this.Ae&&this.Ae.N();this.Ae=null;break;case "mask1":null!=this.Ee&&this.Ee.N();this.Ee=null;break;case "mask2":null!=this.Fe&&this.Fe.N();this.Fe=null;break;case "mask3":null!=this.Od&&this.Od.N();this.Od=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].N(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.ne&&this.ne.N();this.ne=null;break;case "fringe2":null!=this.oe&&this.oe.N();this.oe=null;break;
case "fringeShadow":null!=this.qe&&this.qe.N();this.qe=null;break;case "fringe3":null!=this.pe&&this.pe.N(),this.pe=null}},ij:function(a){this.type=a;switch(this.type){case 0:this.lf.fa("");break;case 1:this.lf.fa("BLK");break;case 2:this.lf.fa("SPW");break;case 3:this.lf.fa("WRP");break;case 4:this.lf.fa("ITM");break;case 5:this.lf.fa("NPC");break;case 6:this.lf.fa("SKL");break;case 7:this.lf.fa("SGN")}},Ox:function(a,c){c||(c=!1);this.Wa.push({num:parseInt(a.id),data:a.data,temp:c})},iV:function(){this.Wa.splice(this.Wa.length-
1,1);0==this.Wa.length&&this.ij(0)},Ds:function(){return this.Wa[this.Wa.length-1]},Ep:function(){switch(this.type){case 3:return ObjectLists.bn()[this.Wa[this.Wa.length-1].num];case 4:var a=ObjectLists.Bf()[this.Wa[this.Wa.length-1].num];a.amount=parseInt(this.Wa[this.Wa.length-1].data.amount);return a;case 7:return ObjectLists.Es()[this.Wa[this.Wa.length-1].num];case 5:return ObjectLists.ml()[this.Wa[this.Wa.length-1].num]}},ff:function(){switch(this.type){case 3:return ObjectLists.bn()[this.Wa[this.Wa.length-
1].num]?ObjectLists.bn()[this.Wa[this.Wa.length-1].num]:null;case 4:return ObjectLists.Bf()[this.Wa[this.Wa.length-1].num]?ObjectLists.Bf()[this.Wa[this.Wa.length-1].num]:null;case 5:return ObjectLists.ml()[this.Wa[this.Wa.length-1].num]?ObjectLists.ml()[this.Wa[this.Wa.length-1].num]:null}},AX:function(a){this.lf.pa(!0==a?255:0)},nc:function(){return this.type}});Oa.yy=function(a,c){var d=new Oa;d.r();d.position=r.a(a,c);return d};StatsController=r.w.extend({data:null,dx:null,l:null,r:function(a,c){this.data=a;this.l=c;this.mW()},update:function(){for(var a in this.data)this.dx&&(0==this.data[a].value&&0<this.dx[a]&&this.l.Eca(a),this.data[a].Oc>this.dx[a].Oc&&this.l.Gca(a)),this.dx[a]=this.data[a]},C6:function(a){return this.data[a].value},B6:function(a){return this.data[a].Oc},h9:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].bg&&(this.data[a].value=this.data[a].bg);0>this.data[a].value&&(this.data[a].value=
0)},BR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].bg&&(this.data[a].value=this.data[a].bg);0>this.data[a].value&&(this.data[a].value=0)},g9:function(a,c){this.data[a].Oc+=c;this.data[a].Oc>this.data[a].ag&&(this.data[a].Oc=this.data[a].ag);0>this.data[a].Oc&&(this.data[a].Oc=0)},BR:function(a,c){this.data[a].Oc=c;this.data[a].Oc>this.data[a].ag&&(this.data[a].Oc=this.data[a].ag);0>this.data[a].Oc&&(this.data[a].Oc=0)},t2:function(a,c){this.data[a].ag=c},u2:function(a,c){this.data[a].bg=
c}});ObjectLists=r.Da.extend({sE:null,aD:null,bE:null,aE:null,eD:null,rD:null,ID:null});var V;ObjectLists.e=function(){V||(V=new ObjectLists,V.sE=v.tT(),V.aD=v.MS(),V.bE=v.kT(),V.aE=v.iT(),V.eD=v.US(),V.rD=v.cT(),V.ID=v.ff());return V};ObjectLists.bn=function(){return V.sE};ObjectLists.HX=function(a){V.sE=a};ObjectLists.Bf=function(){return V.aD};ObjectLists.XW=function(a){V.aD=a};ObjectLists.Xi=function(){return V.bE};ObjectLists.zX=function(a){V.bE=a};ObjectLists.Es=function(){return V.aE};
ObjectLists.yX=function(a){V.aE=a};ObjectLists.ml=function(){return V.eD};ObjectLists.eX=function(a){V.eD=a};ObjectLists.Cs=function(){return V.rD};ObjectLists.tX=function(a){V.rD=a};ObjectLists.Wi=function(){return V.ID};ObjectLists.xX=function(a){V.ID=a};gameMapInstance=null;
var F=r.Rc.extend({Td:null,u:null,Lg:!1,Ln:null,pn:null,oD:null,cn:null,vl:null,sl:null,tl:null,ul:null,O:r.a(0,0),Ri:1,rC:function(a,c){function d(a,c){return{aN:a,value:c.x+c.y*S,x:c.x,y:c.y,Nw:0,o:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.u["tile"+T(a,d)]&&1!=f.u["tile"+T(a,d)].nc()&&7!=f.u["tile"+T(a,d)].nc();myS=e<S&&f.u["tile"+T(a,e)]&&1!=f.u["tile"+T(a,e)].nc()&&7!=f.u["tile"+T(a,e)].nc();myE=g<S&&f.u["tile"+T(g,c)]&&1!=f.u["tile"+T(g,c)].nc()&&7!=f.u["tile"+T(g,c)].nc();myW=
-1<h&&f.u["tile"+T(h,c)]&&1!=f.u["tile"+T(h,c)].nc()&&7!=f.u["tile"+T(h,c)].nc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,p=[],q=[],u=[d(null,a)],w=Array(Pa*S);h=u.length;){k=Pa*S;l=-1;for(m=0;m<h;m++)u[m].Nw<k&&(k=u[m].Nw,l=m);k=u.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do p.push(r.a(l.x,l.y));while(l=l.aN);w=q=u=[];p.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),w[l.value]||(l.o=k.o+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Nw=l.o+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),u.push(l),w[l.value]=!0);q.push(k)}}return p},LX:function(a){this.Td={};this.Td.mapdata={};for(var c in this.u)"tile"==c.substring(0,4)&&(this.u[c].yd(),this.Td[c]={});if(a)for(c in this.Td=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.u[c].nk(a[c][d].texture,a[c][d].frame,d):(this.u[c].ij(a[c][d].type),a[c][d].script&&
this.u[c].Ox(a[c][d].script),4==a[c][d].type&&this.u[c].ff()&&this.u[c].nk(this.u[c].ff().sprite.texture,this.u[c].ff().sprite.position,"item"),5==a[c][d].type&&this.u[c].ff()&&A.DH(this.u[c].ff(),r.a(this.u[c].q.x/32,this.u[c].q.y/32),this.Ri));else"mapdata"==c&&(this.vl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.sl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.tl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.ul=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.Zb(this.tD)},Il:function(a){console.log("SETTING UP "+a);A.e().A(!1);a=v.OS(a);this.Td={};this.Td.mapdata={};for(var c in this.u)"tile"==c.substring(0,4)&&(this.u[c].yd(),this.Td[c]={});if(a)for(c in this.Td=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.u[c].nk(a[c][d].texture,a[c][d].frame,d):(this.u[c].ij(a[c][d].type),a[c][d].script&&
this.u[c].Ox(a[c][d].script),4==a[c][d].type&&this.u[c].ff()&&this.u[c].nk(this.u[c].ff().sprite.texture,this.u[c].ff().sprite.position,"item"),5==a[c][d].type&&this.u[c].ff()&&A.DH(this.u[c].ff(),r.a(this.u[c].q.x/32,this.u[c].q.y/32),this.Ri));else"mapdata"==c&&(this.vl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.sl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.tl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.ul=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.Zb(this.tD)},tD:function(){for(var a in this.u)if("tile"==a.substring(0,4)&&!1==this.u[a].Kg())return;A.e().A(!0);A.qk();this.Qc(this.tD);this.pn.A(!0);this.Ln.A(!0);this.Lg=!0},Bc:function(){for(var a={},c=0;c<S;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*S)]={size:r.size(32,32),d:r.a(0,0),position:r.a(32*c,32*(Pa-d)),jU:!0,jY:r.a(d,c),visible:!1};return{panels:{children:a}}},
r:function(){this.Vb(!0);this.WD(1)},jb:function(a){!this.cn||Mapeditor&&Mapeditor.V||(this.cn=Mapeditor=null);if(this.cn)for(var c in this.u)"tile"==c.substring(0,4)&&r.bb(this.u[c].Ya(),r.a(a.L.x-this.O.x,a.L.y+32-this.O.y))&&(this.cn.vL(this.u,c),F.st());else for(c in this.u)if("tile"==c.substring(0,4)&&r.bb(this.u[c].Ya(),r.a(a.L.x-this.O.x,a.L.y+32-this.O.y)))if(4==this.u[c].nc()){var d=z["Item Dropdown Pick Up"]+"",e=z["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.u[c].ff().name),
e=e.replace("\x3cITEM\x3e",this.u[c].ff().name);this.V.f(DropDownList.Md(this,this.mU,[d,e],a.L));this.Dg=c}else 7==this.u[c].nc()?(d=z["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.u[c].Ep().name),this.V.f(DropDownList.Md(this,this.VX,[d],a.L)),this.Dg=c):1!=this.u[c].nc()&&7!=this.u[c].nc()&&4!=this.u[c].nc()&&(d=A.v.ba.te(),A.v.ba.ZD(this.rC(r.a(Math.floor(d.x),Math.ceil(d.y)),r.a(this.u[c].q.x/32,this.u[c].q.y/32))));return!0},Dg:null,mU:function(a){if(null!=this.l.Dg){var c=A.v.ba.te(),
d=r.a(gameMapInstance.u[gameMapInstance.Dg].q.x/32,gameMapInstance.u[gameMapInstance.Dg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.v.ba.dJ(gameMapInstance.u[gameMapInstance.Dg]):(c=z["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.l.u[gameMapInstance.Dg].ff().name),C.Mb(c));break;case 1:A.v.ba.ZD(gameMapInstance.rC(r.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.l.Dg=null}}},VX:function(a){if(null!=this.l.Dg){var c=A.v.ba.te(),d=r.a(gameMapInstance.u[gameMapInstance.Dg].q.x/
32,gameMapInstance.u[gameMapInstance.Dg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.v.ba.dJ(gameMapInstance.u[gameMapInstance.Dg]):(c=z["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.l.u[gameMapInstance.Dg].Ep().name),C.Mb(c))}}},qd:function(a){if(this.cn){for(var c in this.u)"tile"==c.substring(0,4)&&r.bb(this.u[c].Ya(),r.a(a.L.x-this.O.x,a.L.y+32-this.O.y))&&(this.cn.vL(this.u,c,"moved"),F.st());return!0}for(c in this.u)if("tile"==
c.substring(0,4)&&1!=this.u[c].nc()&&7!=this.u[c].nc()&&4!=this.u[c].nc()&&r.bb(this.u[c].Ya(),r.a(a.L.x-this.O.x,a.L.y+32-this.O.y))){var d=A.v.ba.te();A.v.ba.ZD(this.rC(r.a(Math.floor(d.x),Math.ceil(d.y)),r.a(this.u[c].q.x/32,this.u[c].q.y/32)))}},ra:function(){this._super();if(!0==this.Lg){this.Ln.ZB(0,0,0,0);for(var a in this.u)"tile"==a.substring(0,4)&&(this.u[a].A(!0),null!=this.u[a].ne&&this.u[a].ne.A(!1),null!=this.u[a].oe&&this.u[a].oe.A(!1),null!=this.u[a].qe&&this.u[a].qe.A(!1),null!=this.u[a].pe&&
this.u[a].pe.A(!1),this.u[a].ra(),null!=this.u[a].ne&&this.u[a].ne.A(!0),null!=this.u[a].oe&&this.u[a].oe.A(!0),null!=this.u[a].qe&&this.u[a].qe.A(!0),null!=this.u[a].pe&&this.u[a].pe.A(!0),this.u[a].A(!1));this.Ln.end();this.pn.ZB(0,0,0,0);for(a in this.u)if("tile"==a.substring(0,4)){this.u[a].A(!0);null!=this.u[a].ye&&this.u[a].ye.A(!1);null!=this.u[a].ze&&this.u[a].ze.A(!1);null!=this.u[a].Ae&&this.u[a].Ae.A(!1);null!=this.u[a].Ee&&this.u[a].Ee.A(!1);null!=this.u[a].Fe&&this.u[a].Fe.A(!1);null!=
this.u[a].Od&&this.u[a].Od.A(!1);for(var c=0;c<this.u[a].item.length;c++)this.u[a].item[c].A(!1);this.u[a].ra();null!=this.u[a].ye&&this.u[a].ye.A(!0);null!=this.u[a].ze&&this.u[a].ze.A(!0);null!=this.u[a].Ae&&this.u[a].Ae.A(!0);null!=this.u[a].Ee&&this.u[a].Ee.A(!0);null!=this.u[a].Fe&&this.u[a].Fe.A(!0);null!=this.u[a].Od&&this.u[a].Od.A(!0);for(c=0;c<this.u[a].item.length;c++)this.u[a].item[c].A(!0);this.u[a].A(!1)}this.pn.end();this.Lg=!1}}});
F.fy=function(a,c){0<=gameMapInstance.O.x+(P.width-W.width/2)+a&&A.v.ba.q.x<P.width-W.width/2&&0>=gameMapInstance.O.x+a&&A.v.ba.q.x>W.width/2&&(gameMapInstance.O.x+=a);0<=gameMapInstance.O.y+(P.height-W.height/2)+c&&A.v.ba.q.y<P.height-W.height/2&&0>=gameMapInstance.O.y+c&&A.v.ba.q.y>W.height/2&&(gameMapInstance.O.y+=c);gameMapInstance.m(gameMapInstance.O.x,gameMapInstance.O.y)};
F.Gp=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Lg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.Zb(F.nK)):(gameMapInstance.O.x=a>P.width-W.width/2?-(P.width-W.width):a<W.width/2?0:-(a-W.width/2),gameMapInstance.O.y=c>P.height-W.height/2?-(P.height-W.height):c<W.height/2?0:-(c-W.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Qc(F.nK),gameMapInstance.m(gameMapInstance.O.x,
gameMapInstance.O.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.nK=function(){F.Gp(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.FC=function(){!0==gameMapInstance.Lg?gameMapInstance.Zb(F.FC):(gameMapInstance.Qc(F.FC),gameMapInstance.O.x=-(P.width-W.width),gameMapInstance.m(gameMapInstance.O.x,gameMapInstance.O.y))};
F.EC=function(){!0==gameMapInstance.Lg?gameMapInstance.Zb(F.EC):(gameMapInstance.Qc(F.EC),gameMapInstance.O.x=0,gameMapInstance.m(gameMapInstance.O.x,gameMapInstance.O.y))};F.DC=function(){!0==gameMapInstance.Lg?gameMapInstance.Zb(F.DC):(gameMapInstance.Qc(F.DC),gameMapInstance.O.y=-(P.height-W.height),gameMapInstance.m(gameMapInstance.O.x,gameMapInstance.O.y))};
F.GC=function(){!0==gameMapInstance.Lg?gameMapInstance.Zb(F.GC):(gameMapInstance.Qc(F.GC),gameMapInstance.O.y=0,gameMapInstance.m(gameMapInstance.O.x,gameMapInstance.O.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.u=Ha(gameMapInstance),gameMapInstance.f(gameMapInstance.u),gameMapInstance.Ln=r.Ab.create(P.width,P.height),gameMapInstance.Ln.m(r.a(Math.floor(P.width/2),Math.floor(P.height/2))),gameMapInstance.f(gameMapInstance.Ln),gameMapInstance.Ln.A(!1),gameMapInstance.oD=r.D.create(),gameMapInstance.f(gameMapInstance.oD),gameMapInstance.pn=r.Ab.create(P.width,P.height),gameMapInstance.pn.m(r.a(Math.floor(P.width/2),Math.floor(P.height/
2))),gameMapInstance.f(gameMapInstance.pn),gameMapInstance.pn.A(!1),gameMapInstance.gq(-15),gameMapInstance.r());return gameMapInstance};F.e=function(){return gameMapInstance};F.dt=function(){gameMapInstance.N();gameMapInstance=null};F.st=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.Lg=!0};F.MX=function(a){gameMapInstance.LX(a)};F.e=function(){return gameMapInstance};F.nk=function(a,c,d,e){gameMapInstance.u[a].nk(c,d,e);gameMapInstance.Td[a][e]={texture:c,frame:d}};
F.GL=function(){A.kC();H({savemap:gameMapInstance.Ri,mapdata:gameMapInstance.Td})};F.jC=function(a,c){gameMapInstance.Td[a][c]=null;gameMapInstance.u[a].jC(c)};F.hj=function(a,c,d,e){gameMapInstance.u[a].ij(c);null!=d&&"undefined"!==d?(gameMapInstance.u[a].Ox(d,e),gameMapInstance.Td[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Td[a].info={type:c}};
F.JK=function(a){gameMapInstance.Td.mapdata.mapConnectors=a;gameMapInstance.vl=a.up;gameMapInstance.sl=a.down;gameMapInstance.tl=a.left;gameMapInstance.ul=a.right};F.xS=function(a,c,d){for(var e in gameMapInstance.u)"tile"==e.substring(0,4)&&(gameMapInstance.u[e].nk(a,c,d),gameMapInstance.Td[e][d]={texture:a,frame:c})};F.UK=function(a){for(var c in gameMapInstance.u)"tile"==c.substring(0,4)&&gameMapInstance.u[c].AX(a);SkillBarsInstance.A(!a);X.A(!a);gameMapInstance.Lg=!0};
F.Vba=function(){for(var a in gameMapInstance.u)"tile"==a.substring(0,4)&&gameMapInstance.u[a].lf.fa(a.substring(4));gameMapInstance.Lg=!0};F.OI=function(){return null!=gameMapInstance.vl};F.MI=function(){return null!=gameMapInstance.sl};F.NI=function(){return null!=gameMapInstance.tl};F.IC=function(){return null!=gameMapInstance.ul};F.pd=function(){return gameMapInstance.Ri};F.AI=function(){return gameMapInstance.vl};F.yI=function(){return gameMapInstance.sl};F.zI=function(){return gameMapInstance.tl};
F.wC=function(){return gameMapInstance.ul};F.Fp=function(a,c){c||(MapMaster=!1);A.e().A(!1);A.kC();F.yd();gameMapInstance.Ri=a;A.v.ba.bq(a);A.qk();gameMapInstance.Il(a)};F.zT=function(a){A.kC();F.yd();gameMapInstance.Ri=a;gameMapInstance.Il(a)};F.yT=function(){A.e().A(!1);F.yd();gameMapInstance.Ri=gameMapInstance.vl;A.v.ba.bq(gameMapInstance.vl);A.qk();gameMapInstance.Il(gameMapInstance.vl)};
F.vT=function(){A.e().A(!1);F.yd();gameMapInstance.Ri=gameMapInstance.sl;A.v.ba.bq(gameMapInstance.sl);A.qk();gameMapInstance.Il(gameMapInstance.sl)};F.wT=function(){A.e().A(!1);F.yd();gameMapInstance.Ri=gameMapInstance.tl;A.v.ba.bq(gameMapInstance.tl);A.qk();gameMapInstance.Il(gameMapInstance.tl)};F.xT=function(){A.e().A(!1);F.yd();gameMapInstance.Ri=gameMapInstance.ul;A.v.ba.bq(gameMapInstance.ul);A.qk();gameMapInstance.Il(gameMapInstance.ul)};F.et=function(a){gameMapInstance.cn=a};
F.Tw=function(a,c){return a>S-1||0>a?void 0:gameMapInstance.u["tile"+(a+(Pa-c)*S)]};F.VS=function(a,c){for(var d in A.e().Pd){var e=A.e().Pd[d].te();if(e.x==a&&e.y==c)return A.e().Pd[d]}return null};F.GI=function(a){return gameMapInstance.u["tile"+a]};F.aR=function(){var a=A.e();gameMapInstance.oD.f(a);F.Gp(A.v.ba.q.F,A.v.ba.q.I)};
F.yd=function(){gameMapInstance.Td={};for(var a in gameMapInstance.u)"tile"==a.substring(0,4)&&(gameMapInstance.u[a].yd(),gameMapInstance.Td[a]={});gameMapInstance.Td.mapdata={};gameMapInstance.Lg=!0};var A=r.Rc.extend({v:null,gc:[],Pd:[],ba:null});A.e=function(){return this.v};A.dt=function(){this.v.N();this.v=null};A.create=function(a){this.v||(this.v=new A,this.v.ba=PlayerCharacter.create(a),this.v.f(this.v.ba));return this.v};A.SM=function(){var a=F.pd(),c=[],d;for(d in this.v.Pd)this.v.Pd[d].dg==a&&c.push(this.v.Pd[d]);return c};A.Bp=function(a){return this.v.Pd[a]};A.CU=function(a,c,d){this.v.Pd[a]&&"default"!=c&&this.v.ba.dg==d&&this.v.Pd[a].JL(c)};
A.ZV=function(a,c){this.v.Pd[a]&&"default"!=c&&this.v.Pd[a].m(r.a(c%S*32,32*Math.floor(c/S)))};A.kC=function(){for(var a in this.v.Pd)this.v.Pd[a].N();this.v.Pd=[]};A.DH=function(a,c,d){var e=parseInt(this.v.Pd.length);this.v.Pd.push(NonPlayerCharacter.create({name:a.name,Hn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:d,mt:"sprites1.png",kt:a.sprite.number,pl:e,Wa:a.script}));this.v.Pd[e].m(32*c.x,32*c.y);this.v.f(this.v.Pd[e])};A.j7=function(){return this.v.ba};
A.ci=function(a){return this.v.gc[a]};A.$Q=function(a){this.v.gc[a.id]=PlayerCharacter.create({name:a.id,Hn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,mt:"sprites1.png",kt:1});var c=a.location.position;this.v.gc[a.id].m(c%S*32,32*Math.floor(c/S));A.qk();this.v.f(this.v.gc[a.id]);c=z["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);C.Mb(c)};
A.ZH=function(a){if(this.v.gc[a]){this.v.gc[a].N();this.v.gc[a]=null;var c=z["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);C.Mb(c);for(c=0;c<t.length;c++){var d=JSON.parse(t[c]);d.id&&d.id==a&&(t.splice(c,1),c--)}}};
A.DU=function(a){console.log(a.location.position);if(this.v.gc[a.id])this.v.gc[a.id].JL(a.location.position);else{this.v.gc[id]=PlayerCharacter.create({name:a.id,Hn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,mt:"sprites1.png",kt:1});var c=a.location.position;this.v.gc[id].m(r.a(c%S*32,32*Math.floor(c/S)));A.qk();this.v.f(this.v.gc[a.id]);c=z["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);C.Mb(c)}};
A.kV=function(a){if(this.v.gc[a.id])this.v.gc[a.id].m(r.a(a.location.position%S*32,32*Math.floor(a.location.position/S)));else{this.v.gc[a.id]=PlayerCharacter.create({name:a.id,Hn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:a.location.mapnumber,mt:"sprites1.png",kt:1});var c=a.location.position;this.v.gc[a.id].m(r.a(c%S*32,32*Math.floor(c/S)));A.qk();this.v.f(this.v.gc[a.id]);C.Mb(a.id+I.se.gV)}};A.wR=function(a){this.v.gc[a]&&this.v.gc[a].updateStatus("AFK")};
A.qk=function(){var a=this.v.ba.dg,c;for(c in this.v.gc)null!=this.v.gc[c]&&this.v.gc[c].A(this.v.gc[c].dg==a)};A.yd=function(){for(var a in this.v.gc)null!=this.v.gc[a]&&A.ZH(a);this.v.ba.N();this.v.ba=null};A.vR=function(a,c){this.v.gc[a].bq(c);this.v.gc[a].A(this.v.ba.dg==c)};Character=r.w.extend({name:null,Hn:null,tL:null,R1:null,mf:null,Mg:!1,jn:null,Zx:null,aj:!1,pl:-1,status:null,dg:null,path:null,qC:"DOWN",r:function(a){this.CX(a.mt,a.kt);this.Hn=new StatsController(a.Fca,this);this.f(this.Hn);this.name=a.name;a.Wa&&(this.Wa=a.Wa);a.aj&&(this.aj=a.aj);a.map&&(this.dg=a.map);null!=a.pl&&"undefined"!==a.pl&&(console.log(this.pl),this.pl=a.pl);this.K(0,1);this.jn=r.S.create("","Arial",12);this.jn.K(0.5,0);this.jn.n(255,0,0);this.jn.m(Math.floor(this.c().width/2),this.c().width+
3);this.f(this.jn);this.CL()},H4:function(){return this.qC},bq:function(a){this.dg=a},f5:function(){return this.dg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.CL()},CL:function(){null!=this.status?this.jn.fa(this.name+"-"+this.status):this.jn.fa(this.name)},getName:function(){return this.name},Kf:function(a,c,d){this.Sb(r.rect(32*a,128*this.tL.id+32*c,32,32));this.Zx=r.a(a,c);this.qC=d},th:function(){return this.Zx},CX:function(a,c){this.tL={name:a,id:c};this.ea(r.ha.e().qa(a));
this.Kf(1,0)},te:function(){return r.a(this.q.x/32,this.q.y/32)},ww:0.24,uY:0.24,jl:2,wY:function(a){var c=a.position%S,d=Math.floor(a.position/S);this.m(32*c,32*d);H({changemap:a.mapTo,setTo:a.position});F.Fp(a.mapTo);F.Gp(32*c,32*d)},fU:function(){if(!this.Mg){var a=this.te(),a=F.Tw(a.x,a.y);switch(a.nc()){case 4:this.nD(a.Ep())}}},dJ:function(a){if(a&&!this.Mg)switch(a.nc()){case 4:this.eV(a.Ep(),a);break;case 7:Na.jL(a.Ep())}},eU:function(){if(!this.Mg){var a=this.te();switch(this.qC){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=F.VS(a.x,a.y);if(c)console.log(c),console.log("Handling npc script"),Ra(c);else if(a=F.Tw(a.x,a.y))switch(a.nc()){case 7:Na.jL(a.Ep())}}},ut:function(a){this.ww+=a;a=this.q;var c=this.th();this.ww>this.uY&&(this.ww=0,this.mf.x<a.x?this.Kf((c.x+1)%3,1,"LEFT"):this.mf.x>a.x?this.Kf((c.x+1)%3,2,"RIGHT"):this.mf.y<a.y?this.Kf((c.x+1)%3,0,"DOWN"):this.mf.y>a.y&&this.Kf((c.x+1)%3,3,"UP"));this.mf.x<a.x?(this.wb(a.x-this.jl),
this.aj&&F.fy(+this.jl,0)):this.mf.x>a.x?(this.wb(a.x+this.jl),this.aj&&F.fy(-this.jl,0)):this.mf.y<a.y?(this.ad(a.y-this.jl),this.aj&&F.fy(0,this.jl)):this.mf.y>a.y&&(this.ad(a.y+this.jl),this.aj&&F.fy(0,-this.jl));a.y==this.mf.y&&a.x==this.mf.x&&(this.Mg=!1,this.Qc(this.ut),null!=this.path&&this.KH())},nq:function(a,c){if(!1!=this.ja){var d=F.Tw(a,c),e=this.Zx,f=this.te();f.x>a?this.Kf(e.x,1,"LEFT"):f.x<a&&this.Kf(e.x,2,"RIGHT");f.y>c?this.Kf(e.x,0,"DOWN"):f.y<c&&this.Kf(e.x,3,"UP");if(!d)this.aj&&
null==Mapeditor&&(f.x<a&&F.IC()?(this.m(0,32*c),H({changemap:parseInt(F.wC()),setTo:0+c*S}),F.xT(),F.EC()):f.x>a&&F.NI()&&(this.m(32*(S-1),32*c),H({changemap:parseInt(F.zI()),setTo:S-1+c*S}),F.wT(),F.FC()),f.y<c&&F.OI()?(this.m(32*a,32),H({changemap:parseInt(F.AI()),setTo:a+1*S}),F.yT(),F.GC()):f.y>c&&F.MI()&&(H({changemap:parseInt(F.yI()),setTo:a+Pa*S}),F.vT(),this.m(32*a,32*Pa),F.DC()));else if(!1==this.Mg&&d){switch(d.nc()){case 1:case 7:return;case 3:this.wY(d.ff());return}this.mf=r.a(32*a,32*
c);this.Mg=!0;this.Zb(this.ut);this.ut(0);this.aj?H({moveTo:this.mf.x/32+this.mf.y/32*S}):-1<this.pl&&H({npcID:this.pl+"",mapnumber:this.dg,moveNPC:this.mf.x/32+this.mf.y/32*S})}}},KH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.nq(this.path[0].x,this.path[0].y))},ZD:function(a){if(null==this.path||0!=a.length)this.path=a,this.KH()},JL:function(a){if(!1!=this.ja){var c=a%S;a=Math.floor(a/S);if(!1==this.Mg){var d=this.Zx,e=this.te();4<
Math.abs(r.iD(r.a(c,a),e))?this.m(r.a(32*c,32*a)):(e.x>c?this.Kf(d.x,1,"LEFT"):e.x<c?this.Kf(d.x,2,"RIGHT"):e.y>a?this.Kf(d.x,0,"DOWN"):e.y<a&&this.Kf(d.x,3,"UP"),this.mf=r.a(32*c,32*a),this.Mg=!0,this.Zb(this.ut),this.ut(0))}}}});
PlayerCharacter=Character.extend({items:null,np:3,r:function(a){this._super(a);a.np&&(this.np=a.np);this.items={stored:[],equipped:{}};if(a.position){var c=a.position%S,d=Math.floor(a.position/S);this.m(32*c,32*d);F.zT(a.map);F.Gp(32*c,32*d);this.dg=a.map}a.eJ&&(this.items.stored=a.eJ);if(a.iI){this.items.equipped=a.iI;for(var e in this.items.equipped)Qa("Default Event",this.items.equipped[e],{"Equip Item":!0,"Give /Take Item":!0,"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}},
qt:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d]&&this.items.stored[d].name==a&&(this.items.stored[d]=c);console.log(this.items)},nD:function(a){var c=this.te(),d=F.Tw(c.x,c.y);Qa("On Pickup",a);if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.li(e,this.items.stored[e].amount));C.Mb(I.se.mx+a.name);d.Ds().temp?H({pickupitem:T(c.x,c.y),mapnumber:F.pd(),
temp:!0}):H({pickupitem:T(c.x,c.y),mapnumber:F.pd()});console.log(this.items);return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.li(e,this.items.stored[e].amount);C.Mb(I.se.mx+a.name);d.Ds().temp?H({pickupitem:T(c.x,c.y),mapnumber:F.pd(),temp:!0}):H({pickupitem:T(c.x,c.y),mapnumber:F.pd()});f=!0;break}!1==f&&C.Mb(I.se.fJ)}Inventory&&Inventory.Wb();Equipment&&Equipment.Wb()},eV:function(a,c){var d=r.a(c.q.F/32,c.q.I/32);Qa("On Pickup",c);
if(a){if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.li(e,this.items.stored[e].amount));C.Mb(I.se.mx+a.name);c.Ds().temp?H({pickupitem:T(d.x,d.y),mapnumber:F.pd(),temp:!0}):H({pickupitem:T(d.x,d.y),mapnumber:F.pd()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.li(e,this.items.stored[e].amount);C.Mb(I.se.mx+a.name);c.Ds().temp?
H({pickupitem:T(d.x,d.y),mapnumber:F.pd(),temp:!0}):H({pickupitem:T(d.x,d.y),mapnumber:F.pd()});f=!0;break}!1==f&&C.Mb(I.se.fJ)}Inventory&&Inventory.Wb();Equipment&&Equipment.Wb()},oC:function(a,c){var d=this.te();Qa("On Drop",this.items[c][a]);this.items[c][a]&&(C.Mb(I.se.pS+this.items[c][a].name),H({droppeditem:this.items[c][a],mapnumber:F.pd(),index:T(d.x,d.y)}),!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.li(a,0),this.items[c][a]=null);Inventory&&Inventory.Wb();Equipment&&
Equipment.Wb()},sY:function(a){Qa("Default Event",this.items.stored[a]);Inventory&&Inventory.Wb();Equipment&&Equipment.Wb()},bS:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=ua(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.Wb();Equipment&&Equipment.Wb();Qa("On Dequip",this.items.stored[c]);return}C.Mb("No space in inventory to dequip this item.")},ll:function(){return this.items.stored},Ap:function(){return this.items.equipped}});
PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};NonPlayerCharacter=Character.extend({b9:null,nx:!1,rX:function(a,c){this.nx=!0;this.Dc(function(){this.nq(a.x,a.y);this.nx=!1},c)},m8:function(){return this.nx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Sa=r.Rc.extend({HD:null,b:null,ctor:function(){this._super()},KL:function(){},En:function(){},ej:function(){},na:function(){this.b&&this.b.N();this.b=Ha(this);this.f(this.b)},xa:function(){},r:function(){this.WD(1);this.Gx(!0);this.Vb(!0);x.Cn(this);this._super()},hD:function(){r.log("Override onKeyDown in scene extended class to use keyboard")},xl:function(){r.log("Override onKeyUp in scene extended class to use keyboard")},VW:function(a){this.HD=a},Ac:function(){return this.HD}});DropDownList=Sa.extend({list:null,SR:null,selected:null,b:null,l:null,XH:null,TJ:null,jt:null,ctor:function(){this._super();this.list=[];this.SR=0},r:function(a,c,d,e){this._super();a&&(this.l=a,this.XH=c,d&&(this.list=d),e&&this.m(e),this.TJ=x.DS(),x.Cn(this),this.gq(-1001),this.Gx(!0))},jb:function(a){for(var c=this.b.control_menu.Ka(a.L),d=0;d<this.list.length;d++)this.jt&&!0!=this.jt[d].enabled||r.bb(r.rect(this.b.control_menu[d+""].q.F,this.b.control_menu[d+""].q.I,this.b.control_menu[d+""].c().width,
this.b.control_menu[d+""].c().height),c)&&this.XH(d,a);this.rV();return!0},rV:function(){x.Cn(this.TJ);this.N();Ja()},$V:function(){this.ad(this.q.I-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].OH(a+8);this.b.control_menu.OH(a+8)},Bc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:r.a(0,24*(this.list.length-1)-24*
c),size:r.size(96,24),d:r.a(0,0),C:r.h(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:r.k(0,0,0),d:r.a(0,0.5),position:r.a(4,12)}}};return{panels:{children:{control_menu:{position:r.a(0,0),C:r.h(200,200,200,0),size:r.size(96,48),children:a}}}}},ej:function(a){a=this.b.control_menu.Ka(a.L);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].n(r.h(200,200,200,200)),this.jt&&!0!=this.jt[c].enabled||r.bb(r.rect(this.b.control_menu[c+""].q.F,this.b.control_menu[c+""].q.I,
this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].n(r.h(255,0,0,255))}});DropDownList.Md=function(a,c,d,e,f){var g=new DropDownList;g.r(a,c,d,e);g.b=Ha(g.Bc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.n(r.h(127,127,127,200));g.jt=f}g.f(g.b);g.$V();return g};Popup=Sa.extend({Rd:null,Ef:!1,r:function(){this.HD=this.Ac();this._super();x.Cn(this);this.NX();this.gq(-50)},n3:function(){this.N()},jb:function(a){var c=a.L;x.Cn(this);c=this.b.control_panel.Ka(c);if(r.bb(r.rect(this.b.control_panel.exitBtn.q.F,this.b.control_panel.exitBtn.q.I,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.V.Dc(function(){!1==d.Ef&&d.xa();d.N();d=null});return!0}return r.bb(r.rect(this.b.q.x,this.b.q.y+this.b.control_panel.q.y,
this.b.control_panel.c().width,this.b.control_panel.c().height),a.L)?(this.Rd=this.b.Yh(a),!0):!1},qd:function(a){return this.Rd?(a=a.L,this.b.m(r.a(a.x-this.Rd.x,a.y-this.Rd.y)),!0):!1},N:function(){v.mX(this.Ac(),this.b.q);this._super()},NX:function(){r.log("Ovveride setupPopup")},Ac:function(){r.log("No id given... using default 'Popup'");return"Popup"},Gf:function(){},na:function(){this._super();var a=v.ZS();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Ac()])){a=r.a(a.x,a.y);if(a.x>W.width-10||
a.y>W.height)a=r.a(8,100);this.b.m(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,aV:null,Ac:function(){return"Book"},Bc:function(){return{panels:{position:r.a(100,20),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(512,138),Y:"GUI/npctalk.png"},control_panel:{d:r.a(0,0),position:r.a(0,138),size:r.size(512,32),children:{header:{label:"NPC TALKIN",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(488,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},r:function(){this._super()},na:function(){this._super()},jb:function(a){if(this._super(a))return!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,aV:null,Ac:function(){return"Book"},Bc:function(){return{panels:{position:r.a(100,20),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(512,138),Y:"GUI/npctalk.png",children:{chatText:{label:this.content,d:r.a(0,1),position:r.a(138,134),color:r.k(0,0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,138),size:r.size(512,32),children:{header:{label:this.name,fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(488,6),size:r.size(20,
20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},r:function(a,c){this._super();this.name=a;this.content=c},na:function(){this._super();this.b.main_panel.chatText.pc(r.size(350,0))},jb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Ac:function(){return"Equipment"},Bc:function(){var a={};a.head={Y:"GUI/defaultitem.png",position:r.a(88,162),size:r.size(32,32),d:r.a(0,1)};a.legs={Y:"GUI/defaultitem.png",position:r.a(88,82),size:r.size(32,32),d:r.a(0,1)};a.feet={Y:"GUI/defaultitem.png",position:r.a(88,40),size:r.size(32,32),d:r.a(0,1)};a.body={Y:"GUI/defaultitem.png",position:r.a(88,122),size:r.size(32,32),d:r.a(0,1)};a.lArm={Y:"GUI/defaultitem.png",position:r.a(48,122),size:r.size(32,32),d:r.a(0,1)};
a.rArm={Y:"GUI/defaultitem.png",position:r.a(128,122),size:r.size(32,32),d:r.a(0,1)};a.mod={Y:"GUI/defaultitem.png",position:r.a(8,162),size:r.size(32,32),d:r.a(0,1)};return{panels:{position:r.a(100,300),children:{main_panel:{d:r.a(0,0),size:r.size(168,168),Y:"GUI/equipment.png",children:a},control_panel:{d:r.a(0,0),position:r.a(0,168),size:r.size(168,32),children:{header:{label:z["Equipment Header"],fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(144,6),size:r.size(20,20),d:r.a(0,
0),Y:"GUI/close.png"}}},item_name:{position:r.a(0,0),C:r.h(200,200,200,200),size:r.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(32,8)}}}}}}},Wb:function(){var a=A.v.ba.Ap();this.b.main_panel.head.ea(r.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.body.ea(r.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.legs.ea(r.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.feet.ea(r.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.lArm.ea(r.ha.e().qa("GUI/defaultitem.png"));
this.b.main_panel.rArm.ea(r.ha.e().qa("GUI/defaultitem.png"));this.b.main_panel.mod.ea(r.ha.e().qa("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in J)if(J[d].name==a[c].sprite.texture)var e=J[d].texture;this.b.main_panel[c].K(0,1);this.b.main_panel[c].ea(e);this.b.main_panel[c].Sb(r.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},ex:function(a){switch(a){case 0:A.v.ba.bS(this.l.cj);break;case 1:A.v.ba.oC(this.l.cj,"equipped")}},jb:function(a){if(this._super(a))return!0;
this.Rd=null;var c=this.b.main_panel.Ka(a.L),d=A.v.ba.Ap(),e;for(e in d)if(d[e]&&O(this.b.main_panel[e],r.a(c.x,c.y+32)))return this.cj=e,this.b.item_name.A(!1),c=z["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",A.v.ba.Ap()[e].name),d=z["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",A.v.ba.Ap()[e].name),this.f(DropDownList.Md(this,this.ex,[c,d],a.L)),!0},ej:function(a){a=this.b.main_panel.Ka(a.L);this.b.item_name.A(!1);var c=A.v.ba.Ap(),d;for(d in c)if(c[d]&&O(this.b.main_panel[d],r.a(a.x,
a.y+32)))return this.b.item_name.content.fa(c[d].name),this.b.item_name.A(!0),this.b.item_name.W(this.b.item_name.content.c()),this.b.item_name.content.wb(this.b.item_name.content.c().width/2),this.b.item_name.m(r.a(this.b.main_panel[d].q.F-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].q.I)),!0},$s:function(){this.b.main_panel.head.aa()&&(this.Qc(this.$s),this.Wb())},na:function(){this._super();this.b.main_panel.head.aa()?this.Wb():this.Zb(this.$s)}});Inventory=null;
InventoryPanel=Popup.extend({cj:null,$C:!1,Ac:function(){return"Inventory"},Bc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:r.size(32,32),position:r.a(40*c+8,40*(7-d)+40),Y:"GUI/defaultitem.png",d:r.a(0,1),children:{stacklabelbg:{position:r.a(1,1),size:r.size(10,6),d:r.a(0,0),C:r.h(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:r.k(0,0,0),d:r.a(0,0),position:r.a(0,0)}}}}};return{panels:{position:r.a(300,200),children:{main_panel:{d:r.a(0,0),Y:"GUI/inventory.png",
size:r.size(208,328),children:a},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(208,32),children:{header:{label:z["Inventory Header"],fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(184,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}},item_name:{position:r.a(0,0),C:r.h(200,200,200,200),size:r.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(32,8)}}}}}}},li:function(a,c){this.b.main_panel[a+""].stacklabelbg.A(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.A(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.fa(c),this.b.main_panel[a+""].stacklabelbg.W(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},Wb:function(){for(var a=A.v.ba.ll(),c=0;40>c;c++)if(a[c]){for(var d in J)if(J[d].name==a[c].sprite.texture)var e=J[d].texture;this.b.main_panel[c+""].K(0,1);this.b.main_panel[c+""].ea(e);this.b.main_panel[c+""].Sb(r.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.li(c,a[c].amount)}else this.b.main_panel[c+
""].ea(r.ha.e().qa("GUI/defaultitem.png")),this.li(c,0)},$s:function(){this.b.main_panel[Ca+""].aa()&&(this.Qc(this.$s),this.Wb())},na:function(){this._super();this.b.main_panel[Ca+""].aa()?this.Wb():this.Zb(this.$s)},ex:function(a){switch(a){case 0:!0==this.l.$C?A.v.ba.sY(this.l.cj):A.v.ba.oC(this.l.cj,"stored");break;case 1:A.v.ba.oC(this.l.cj,"stored")}this.l.$C=!1},jb:function(a){if(this._super(a))return!0;this.Rd=null;for(var c=this.b.main_panel.Ka(a.L),d=0;40>d;d++)if(A.v.ba.ll()[d]&&O(this.b.main_panel[d+
""],r.a(c.x,c.y+32))){var e=A.v.ba.ll()[d],c=[];e.script&&(c=ObjectLists.Wi()[e.script].data);for(var e=null,f=0;f<c.length;f++)if("Default Event"==c[f].type)for(var e="Use Item",g=c[f].responses,h=0;h<g.length;h++)switch(console.log(g[h].type),g[h].type){case "Equip Item":e=z["Item Dropdown Equip"]+"";break;case "Read Item":e=z["Item Dropdown Read"]+""}c=z["Item Dropdown Drop"]+"";c=c.replace("\x3cITEM\x3e",A.v.ba.ll()[d].name);e?(this.$C=!0,e=e.replace("\x3cITEM\x3e",A.v.ba.ll()[d].name),this.f(DropDownList.Md(this,
this.ex,[e,c],a.L))):this.f(DropDownList.Md(this,this.ex,[c],a.L));this.cj=d;this.b.item_name.A(!1);return!0}},ej:function(a){a=this.b.main_panel.Ka(a.L);for(var c=0;40>c;c++)if(A.v.ba.ll()[c]&&O(this.b.main_panel[c+""],r.a(a.x,a.y+32)))return this.b.item_name.content.fa(A.v.ba.ll()[c].name),this.b.item_name.A(!0),this.b.item_name.W(this.b.item_name.content.c()),this.b.item_name.content.wb(this.b.item_name.content.c().width/2),this.b.item_name.m(r.a(this.b.main_panel[c+""].q.F-this.b.item_name.content.c().width/
2+16,this.b.main_panel[c+""].q.I)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Ac:function(){return"Sign"},Bc:function(){return{panels:{position:r.a(100,300),children:{control_panel:{d:r.a(0,0),size:r.size(128,96),Y:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:r.k(255,255,255),d:r.a(0,1),position:r.a(4,94)},exitBtn:{position:r.a(100,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},na:function(){this._super();this.b.control_panel.content.pc(r.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({R:null,Ac:function(){return"Skills"},Hb:function(){this.R&&this.R.oc();var a=[],c=[];r.ha.e();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=r.D.create();a[d].W(420,32);var g=r.ca.create(r.h(0,0,0,127),316,1);g.m(r.a(4,0));var h=r.S.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.n(r.k(0,0,0));h.K(r.a(0,0));h.m(r.a(4,4));var k=r.S.create(f,"Arial",15);k.n(r.k(0,0,0));k.K(r.a(0.5,0));k.m(r.a(h.c().width+65,
4));var l=r.ca.create(r.h(255,255,255,255),144,k.c().height),m=r.ca.create(r.h(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.K(r.a(0,0));m=r.S.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.K(r.a(0,0));m.n(r.k(0,0,0));l.f(m);m.ad(1);l.K(r.a(0,0));l.m(r.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].W(324,k.c().height+8);d++}this.R=this.b.main_panel.list;this.R.Nd=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return r.size(324,c)};this.R.Ad=function(){return a.length};this.R.we=function(c){return a[c].c()};this.R.ue=function(c){return a[c]};this.R.wc=function(){};this.R.ma=ListView.create(this.R);this.R.ma.Ie(c);this.R.f(this.R.ma);this.b.main_panel.character_level.fa("LEVEL: "+e);this.b.main_panel.character_level.wb(306);this.b.main_panel.character_level.K(r.a(1,0))},Bc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,
0),size:r.size(365,328),children:{character_level:{label:"",position:r.a(2,310),d:r.a(0,0),color:r.k(0,0,0)},list:{size:r.size(324,308),C:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Skills",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Wb:function(){},na:function(){this._super();this.Wb();this.data=G.jT();this.Hb()}});
var G=r.Rc.extend({xw:[],bd:null,rt:function(){var a=ObjectLists.Xi(),c;for(c in this.xw)this.xw[c].N();this.xw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.RR(a[c].name,a[c].healthbar,d);this.f(e);this.xw.push(e);d++}this.m(r.a(0,W.height-32*d))},RR:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=r.ca.create(r.h(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.bd[a].currenthealth?this.bd[a].currenthealth/this.bd[a].maxhealth*300:1,23);e.XB=r.w.hb(r.ha.e().qa("GUI/healthbar.png"));e.m(10,32*d- -5*d-10);e.K(r.a(0,0));e.XB.m(-5,-4);e.XB.K(r.a(0,0));e.f(e.XB);a=r.S.create(a,"Arial",16);a.m(10,11.5);a.K(r.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;G.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new G,SkillBarsInstance.bd=a,SkillBarsInstance.rt());return SkillBarsInstance};
G.yJ=function(a,c){SkillBarsInstance.bd[a].currenthealth+=c;0>SkillBarsInstance.bd[a].currenthealth&&(SkillBarsInstance.bd[a].currenthealth=0);SkillBarsInstance.bd[a].currenthealth>SkillBarsInstance.bd[a].maxhealth&&(SkillBarsInstance.bd[a].currenthealth=SkillBarsInstance.bd[a].maxhealth);SkillBarsInstance.rt();Skills&&Skills.Hb()};G.AJ=function(a,c){SkillBarsInstance.bd[a].experience+=c;0>SkillBarsInstance.bd[a].experience&&(SkillBarsInstance.bd[a].experience=0);SkillBarsInstance.rt();Skills&&Skills.Hb()};
G.zJ=function(a,c){SkillBarsInstance.bd[a].modifier+=c;0>SkillBarsInstance.bd[a].modifier&&(SkillBarsInstance.bd[a].modifier=0);SkillBarsInstance.rt();Skills&&Skills.Hb()};G.jT=function(){return SkillBarsInstance.bd};G.update=function(){SkillBarsInstance.rt()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,R:null,ib:null,dj:null,gf:null,hf:null,O2:null,l:null,Oa:null,kL:null,VH:null,Ha:null,i:null,jq:null,gj:function(a){H({savescripts:a+"",scriptsdata:this.data})},Si:function(a,c){H({savescriptswhole:c})},Ac:function(){return"Scripts"},xa:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Dc(function(){c.Zc(null)})}},r:function(a){this._super();this.data={data:[],name:null};this.Oa=null;a.data&&(this.data=a.data);this.l=a.l},na:function(){this._super();this.Oa=
new Y(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(255,255,255),r.k(0,0,0));this.Oa.sb(!0);this.Hb()},Hb:function(){this.R&&this.R.oc();for(var a in this.gf)this.gf[a].oc(),this.gf[a].N();for(a in this.hf)this.hf[a].oc(),this.hf[a].N();var c=[],d=[],e=[],f=[],g=[],h=[],k=r.ha.e();this.gf=[];this.hf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=r.D.create();c[a].W(758,100);var l=r.ca.create(r.h(0,0,0,127),750,1);l.m(r.a(4,0));var m=r.ca.create(r.h(0,0,0,127),1,92);m.m(r.a(152,4));var n=r.ca.create(r.h(0,0,0,127),1,92);n.m(r.a(451,4));var p=this.data.data[a].type;"On Event End"==p&&(p+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");p=r.S.create(a+": "+p,"Arial",15);p.n(r.k(0,0,0));p.K(r.a(0,1));p.m(r.a(4,96));p.pc(r.size(100,0));var q=r.ca.create(r.h(0,255,0,60),259,100);
q.W(r.size(259,100));q.wb(451);q.K(r.a(0,0));c[a].f(q);var u=r.ca.create(r.h(0,255,0,60),259,100);u.W(r.size(259,100));u.wb(152);u.K(r.a(0,0));c[a].f(u);var w=r.w.hb(k.qa("GUI/trash.png"));w.m(r.a(120,4));w.K(r.a(0,0));w.tc="Delete";c[a].f(w);var y=r.w.hb(k.qa("GUI/edit.png"));y.m(r.a(96,4));y.K(r.a(0,0));y.tc="Edit";c[a].f(y);f.push([w,y]);for(w=0;w<this.data.data[a].responses.length;w++){d[a].push(r.D.create());d[a][w].W(259,32);var y=!0,D=r.S.create(w+1+": "+this.data.data[a].responses[w].type,
"Arial",15);D.n(r.k(0,0,0));D.K(r.a(0,0));D.m(r.a(4,4));D.pc(r.size(180,0));d[a][w].W(259,D.c().height+8);d[a][w].f(D);D=r.w.hb(k.qa("GUI/trash.png"));D.m(r.a(229,0));D.K(r.a(0,0));D.tc="Delete";d[a][w].f(D);switch(this.data.data[a].responses[w].type){case "Destroy":case "Attack":case "Run Away":y=!1}y?(y=r.w.hb(k.qa("GUI/edit.png")),y.m(r.a(205,0)),y.K(r.a(0,0)),y.tc="Edit",d[a][w].f(y),g[a].push([D,y])):g[a].push([D])}w=r.ca.create(r.h(70,200,70,255),90,26);y=r.S.create("+","Arial",20);y.m(45,13);
y.K(r.a(0.5,0.5));w.m(r.a(84.5,0));w.tc="Add";w.f(y);g[a].push([w]);d[a].push(w);this.hf[a]=u;this.hf[a].identifier=a;var B=this;this.hf[a].Nd=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;return r.size(259,a)};this.hf[a].Ad=function(){return d[this.identifier].length};this.hf[a].we=function(a){return d[this.identifier][a].c()};this.hf[a].ue=function(a){return d[this.identifier][a]};this.hf[a].wc=function(a,c,d){B.Ka(d.L);if(null==B.i)switch(a){case "Delete":B.V.f(DropDownList.Md(B,
B.aS,["Cancel","Delete"],d.L));B.ib=c;B.dj=this.identifier;break;case "Edit":B.hI(this.identifier,"responses",c);break;case "Add":a="Talk;Give Talk Options;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<B.data.data[this.identifier].responses.length;e++)"Repeat Responses"==B.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(B.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}B.V.f(DropDownList.Md(B,B.cR,a,d.L,c));B.dj=this.identifier;break;case "Use":B.l.hq(c,B.Nc[c])}};this.hf[a].ma=ListView.create(this.hf[a]);this.hf[a].ma.Ie(g[a]);
this.hf[a].f(this.hf[a].ma);for(w=0;w<this.data.data[a].requirements.length;w++)e[a].push(r.D.create()),e[a][w].W(259,32),u=r.S.create(w+1+": "+this.data.data[a].requirements[w].type,"Arial",15),u.n(r.k(0,0,0)),u.K(r.a(0,0)),u.m(r.a(4,4)),u.pc(r.size(180,0)),e[a][w].W(259,u.c().height+8),e[a][w].f(u),D=r.w.hb(k.qa("GUI/trash.png")),D.m(r.a(229,0)),D.K(r.a(0,0)),D.tc="Delete",e[a][w].f(D),y=r.w.hb(k.qa("GUI/edit.png")),y.m(r.a(205,0)),y.K(r.a(0,0)),y.tc="Edit",e[a][w].f(y),h[a].push([D,y]);u=r.ca.create(r.h(70,
200,70,255),90,26);w=r.S.create("+","Arial",20);w.m(45,13);w.K(r.a(0.5,0.5));u.m(r.a(84.5,0));u.tc="Add";u.f(w);h[a].push([u]);e[a].push(u);this.gf[a]=q;this.gf[a].identifier=a;B=this;this.gf[a].Nd=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return r.size(259,a)};this.gf[a].Ad=function(){return e[this.identifier].length};this.gf[a].we=function(a){return e[this.identifier][a].c()};this.gf[a].ue=function(a){return e[this.identifier][a]};this.gf[a].wc=
function(a,c,d){B.Ka(d.L);if(null==B.i)switch(a){case "Delete":B.V.f(DropDownList.Md(B,B.$R,["Cancel","Delete"],d.L));B.ib=c;B.dj=this.identifier;break;case "Edit":B.hI(this.identifier,"requirements",c);break;case "Add":a=["Has Player Item","Is Player Statistics","Is Quest Point","Is Panel Visibility","Is Player Inventory Space"];switch(B.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}B.V.f(DropDownList.Md(B,B.bR,a,d.L));B.dj=
this.identifier;break;case "Use":B.l.hq(c,B.Nc[c])}};this.gf[a].ma=ListView.create(this.gf[a]);this.gf[a].ma.Ie(h[a]);this.gf[a].f(this.gf[a].ma);c[a].f(p);c[a].f(l);c[a].f(m);c[a].f(n)}a=r.ca.create(r.h(70,200,70,255),90,26);g=r.S.create("+","Arial",20);g.m(45,13);g.K(r.a(0.5,0.5));a.m(r.a(334,0));a.tc="Add";a.f(g);f.push([a]);c.push(a);this.R=this.b.main_panel.list;B=this;this.R.Nd=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return r.size(758,a)};this.R.Ad=function(){return c.length};
this.R.we=function(a){return c[a].c()};this.R.ue=function(a){return c[a]};this.R.wc=function(a,c,d){B.Ka(d.L);if(null==B.i)switch(a){case "Delete":a="Delete";B.FT(c)&&(a="Delete (Will destroy all child events)");B.V.f(DropDownList.Md(B,B.ZR,["Cancel",a],d.L));B.ib=c;break;case "Add":a=["Default Interaction","On Event End","On Examine","On Talk Option Selected"];var e=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1}];0==B.data.data.length&&(e[1].enabled=!1);B.vS()&&(e[3].enabled=!0);switch(B.data.specifier){case "Item":a.push("On Pickup",
"On Drop","On Dequip","On Trade");e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),e[0].enabled=!1}B.V.f(DropDownList.Md(B,B.YQ,a,d.L,e));B.ib=c;break;case "Use":B.l.hq(c,B.Nc[c])}};this.R.ma=ListView.create(this.R);this.R.ma.Ie(f);this.R.f(this.R.ma)},YH:function(a){for(var c=
0;c<this.data.data.length;c++)"On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.YH(c),this.data.data.splice(c,1))},FT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},vS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Give Talk Options"==this.data.data[a].responses[c].type)return!0;return!1},ZR:function(a){switch(a){case 1:null!=
this.l.ib&&(this.l.YH(this.l.ib),this.l.data.data.splice(this.l.ib,1),this.l.Hb(),this.l.ib=null)}},aS:function(a){switch(a){case 1:null!=this.l.ib&&(this.l.data.data[this.l.dj].responses.splice(this.l.ib,1),this.l.Hb(),this.l.ib=null,this.l.dj=null)}},$R:function(a){switch(a){case 1:null!=this.l.ib&&(this.l.data.data[this.l.dj].requirements.splice(this.l.ib,1),this.l.Hb(),this.l.ib=null,this.l.dj=null)}},XQ:function(a){this.l.data.data.push({type:"On Event End",responses:[],requirements:[],data:{attachedEvent:a}});
this.l.Hb()},YQ:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:for(var d=[],e=0;e<this.l.data.data.length;e++)d.push(e+": "+this.l.data.data[e].type);this.V.f(DropDownList.Md(this.l,this.l.XQ,d,c.L));return;case 2:d="On Examine";break;case 3:d="On Talk Option Selected"}if(""==d)switch(this.l.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;case "Tile":switch(a){case 4:d="Interact On";
break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.l.data.data.push({type:d,responses:[],requirements:[],data:{}});this.l.Hb()},cR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Give Talk Options";break;case 2:c="Destroy";break;case 3:c="Give /Take Item";break;case 4:c="Set Quest Point";break;case 5:c="Warp Player";break;case 6:c="Wait";break;case 7:c="Repeat Responses";
break;case 8:c="Open/Close Panel";break;case 9:c="Modify Player Stats"}if(""==c)switch(this.l.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic"}}this.l.data.data[this.l.dj].responses.push({type:c,data:{}});this.l.Hb()},bR:function(a){var c="";
switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space"}if(""==c)switch(this.l.data.specifier){case "Tile":switch(a){case 5:c="Is Event Fired By"}break;case "NPC":switch(a){case 5:c="Is NPC Statistics";break;case 6:c="Is NPC Actioning"}}this.l.data.data[this.l.dj].requirements.push({type:c,data:{}});this.l.Hb()},Bc:function(){return{panels:{position:r.a(0,60),children:{background_image:{Y:"GUI/event_panel.png",
d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(1E3,400),children:{list:{size:r.size(758,360),C:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)},okbtn:{position:r.a(4,364),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(46,364),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)},defaultsbtn:{position:r.a(542,364),size:r.size(64,32),C:r.h(0,255,0,255),d:r.a(0,0),children:{contents:{label:"Defaults",position:r.a(32,16),d:r.a(0.5,0.5),color:r.k(0,0,0)}}},specifier:{position:r.a(620,
364),size:r.size(128,32),C:r.h(0,255,0,255),d:r.a(0,0),children:{contents:{label:"Includes: None",position:r.a(64,16),d:r.a(0.5,0.5),color:r.k(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(110,368),color:r.k(0,0,0)},nameEntry:{position:r.a(180,364),size:r.size(340,32),C:r.h(255,255,255,255)}}},control_panel:{d:r.a(0,0),position:r.a(0,400),size:r.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(976,6),size:r.size(20,
20),d:r.a(0,0),Y:"GUI/close.png"}}},subEditorOver:{visible:!1,C:r.h(0,0,0,127),position:r.a(0,0),size:r.size(800,400)},mainEditorOver:{C:r.h(0,0,0,127),position:r.a(800,0),size:r.size(200,400)}}}}},hI:function(a,c,d){this.Ha={event:a,listtype:c,id:d};this.jq=this.data.data[a][c][d].type;this.TX()},baa:function(a){this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data=ua(a);this.Uw();this.Ha=null;this.Hb()},aaa:function(){this.Uw();this.Ha=null},defaultSelected:function(a,c){0<this.l.data.data.length?
(this.l.VH=a,this.V.f(DropDownList.Md(this.l,this.l.cS,["Cancel","Clear Script (Required)"],c.L))):this.l.yK(a)},W2:function(){},pE:null,qE:null,rE:null,Cx:null,XJ:null,GJ:null,bj:null,cj:null,Ux:null,Ll:null,Ml:null,Kl:null,Wx:null,Xx:null,Vx:null,OJ:null,On:0,EJ:null,wH:null,bx:null,zc:null,by:null,TX:function(){this.b.subEditorOver.A(!0);this.b.mainEditorOver.A(!1);var a={panels:{position:r.a(802,0),children:{}}},c=this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data;switch(this.jq){case "Warp Player":a.panels.children=
{mapNumberLabel:{label:"Map ID",d:r.a(0,0),position:r.a(12,374)},mapNumberText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)},mapXLabel:{label:"Map X",d:r.a(0,0),position:r.a(12,310)},mapXText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,276),size:r.size(80,32)},mapYLabel:{label:"Map Y",d:r.a(0,0),position:r.a(100,310)},mapYText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,276),size:r.size(80,32)}};break;case "Talk":case "Read Item":a.panels.children={sayLabel:{label:"Say:",
d:r.a(0,0),position:r.a(12,374)},sayText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,50),size:r.size(174,322)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",d:r.a(0,0),position:r.a(12,374)},questList:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},objectiveLabel:{label:"Objective:",d:r.a(0,0),position:r.a(12,189)},objectiveList:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,50),size:r.size(154,135)}};break;
case "Give /Take Item":case "Has Player Item":a.panels.children={itemsLabel:{label:"Item:",d:r.a(0,0),position:r.a(12,374)},itemList:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},amountLabel:{label:"Amount:",d:r.a(0,0),position:r.a(12,189)},amountText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,153),size:r.size(154,32)},amountNote:{label:"Has Player Item"==this.jq?"":"Use negative item amounts to take away. Use positive amounts to give.",d:r.a(0,1),position:r.a(12,
145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",d:r.a(0,0),position:r.a(12,374)},skillList:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},levelLabel:{label:"Level Modify",d:r.a(0,0),position:r.a(12,205)},levelText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,169),size:r.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",d:r.a(0,0),position:r.a(12,145)},expText:{C:r.h(255,255,255,255),d:r.a(0,0),
position:r.a(12,109),size:r.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",d:r.a(0,0),position:r.a(12,85)},healthText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,49),size:r.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",d:r.a(0,0),position:r.a(12,374)},panelList:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},visibleLabel:{label:"Visibility:",d:r.a(0,0),position:r.a(12,205)},
visibleButton:{C:r.h(255,0,0,255),d:r.a(0,0),position:r.a(12,169),size:r.size(154,32),children:{content:{position:r.a(77,16),d:r.a(0.5,0.5),label:"Invisible",color:r.k(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",d:r.a(0,0),position:r.a(12,374)},objectList:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",d:r.a(0,0),position:r.a(12,374)},
actionList:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",d:r.a(0,0),position:r.a(12,374)},spaceText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",d:r.a(0,0),position:r.a(12,374)},timeText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)}};break;
case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",d:r.a(0,0),position:r.a(12,374)},amountText:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",d:r.a(0,1),position:r.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",d:r.a(0,0),position:r.a(12,374)},skillList:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,
135)},levelLabel:{label:"Level Range",d:r.a(0,0),position:r.a(12,205)},levelDash:{label:"-",d:r.a(0,0),position:r.a(91,174)},levelTextLower:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,169),size:r.size(75,32)},levelTextUpper:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,169),size:r.size(75,32)},expLabel:{label:"XP Range: (% allowed)",d:r.a(0,0),position:r.a(12,145)},expDash:{label:"-",d:r.a(0,0),position:r.a(91,114)},expTextLower:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,109),
size:r.size(75,32)},expTextUpper:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,109),size:r.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",d:r.a(0,0),position:r.a(12,85)},healthDash:{label:"-",d:r.a(0,0),position:r.a(91,54)},healthTextLower:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,49),size:r.size(75,32)},healthTextUpper:{C:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,49),size:r.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",
d:r.a(0,0),position:r.a(12,374)},headButton:{C:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,320),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Head",color:r.k(0,0,0)}}},bodyButton:{C:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Body",color:r.k(0,0,0)}}},legButton:{C:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,240),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"Legs",color:r.k(0,0,0)}}},feetButton:{C:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,200),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Feet",color:r.k(0,0,0)}}},lArmButton:{C:r.h(255,0,0,255),d:r.a(0,0),position:r.a(10,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"L Arm",color:r.k(0,0,0)}}},rArmButton:{C:r.h(255,0,0,255),d:r.a(0,0),position:r.a(128,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"R Arm",color:r.k(0,0,0)}}},modButton:{C:r.h(255,0,0,255),d:r.a(0,0),position:r.a(10,160),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Mod",color:r.k(0,0,0)}}}}}a.panels.children.okbtn={position:r.a(62,8),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)};a.panels.children.cancelbtn={position:r.a(106,8),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)};this.i=Ha(a,!0);this.b.f(this.i);switch(this.jq){case "Warp Player":var d=a=1;c.index&&(a=c.index%
S,d=Math.floor(c.index/S));this.pE=new Y(this.i.mapNumberText,r.size(this.i.mapNumberText.c().width,this.i.mapNumberText.c().height),r.a(0,this.i.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",r.h(255,255,255),r.k(0,0,0));this.pE.sb(!0);this.qE=new Y(this.i.mapXText,r.size(this.i.mapXText.c().width,this.i.mapXText.c().height),r.a(0,this.i.mapXText.c().height),a,r.h(255,255,255),r.k(0,0,0));this.qE.sb(!0);this.rE=new Y(this.i.mapYText,r.size(this.i.mapYText.c().width,
this.i.mapYText.c().height),r.a(0,this.i.mapYText.c().height),d,r.h(255,255,255),r.k(0,0,0));this.rE.sb(!0);break;case "Talk":case "Read Item":this.Cx=new Y(this.i.sayText,r.size(this.i.sayText.c().width,this.i.sayText.c().height),r.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",r.h(255,255,255),r.k(0,0,0),!0);this.Cx.sb(!0);this.Cx.Dd(!1);break;case "Is Quest Point":case "Set Quest Point":for(var e=[],a=[],f=ObjectLists.Cs(),d=0;d<f.length;d++){e[d]=r.D.create();var g=r.ca.create(r.h(0,
0,0,127),154,1),h=r.S.create(f[d].name,"Arial",15);h.n(r.k(0,0,0));h.K(r.a(0,0));h.m(r.a(4,4));h.pc(r.size(126,0));var k=r.w.hb(r.ha.e().qa("GUI/use.png"));k.m(r.a(130,0));k.K(r.a(0,0));k.tc="Use";e[d].W(154,h.c().height+8);k.ad((h.c().height+8)/2-10);a.push([k]);var l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8);e[d].f(l);e[d].Cc=l;e[d].f(g);e[d].f(h);e[d].f(k)}var m=this;this.i.questList.Nd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.questList.Ad=
function(){return e.length};this.i.questList.we=function(a){return e[a].c()};this.i.questList.ue=function(a){return e[a]};this.i.questList.Ui=function(a){return e[a].Cc};this.i.questList.wc=function(a,c){if("Use"==a){m.i.objectiveList.ma&&m.i.objectiveList.ma.N();this.ma.Cc(c);m.XJ=c;for(var d=[],e=[],f=r.ha.e(),g=ObjectLists.Cs()[c].objectiveList,h=0;h<g.length;h++){d[h]=r.D.create();var k=r.ca.create(r.h(0,0,0,127),154,1);k.m(r.a(0,0));var l=r.S.create(g[h],"Arial",15);l.n(r.k(0,0,0));l.K(r.a(0,
0));l.m(r.a(4,4));l.pc(r.size(126,0));var M=r.w.hb(f.qa("GUI/use.png"));M.m(r.a(130,0));M.K(r.a(0,0));M.tc="Use";e.push([M]);d[h].W(126,l.c().height+8);M.ad((l.c().height+8)/2-10);var Q=r.ca.create(r.h(255,255,255,255),154,l.c().height+8);d[h].f(Q);d[h].Cc=Q;d[h].f(k);d[h].f(l);d[h].f(M)}m.i.objectiveList.Nd=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return r.size(154,a)};m.i.objectiveList.Ad=function(){return d.length};m.i.objectiveList.Ui=function(a){return d[a].Cc};m.i.objectiveList.we=
function(a){return d[a].c()};m.i.objectiveList.ue=function(a){return d[a]};m.i.objectiveList.wc=function(a,c){this.ma.Cc(c);m.GJ=c};m.i.objectiveList.ma=ListView.create(m.i.objectiveList);m.i.objectiveList.ma.Ie(e);m.i.objectiveList.f(m.i.objectiveList.ma)}};this.i.questList.ma=ListView.create(this.i.questList);this.i.questList.ma.Ie(a);this.i.questList.f(this.i.questList.ma);null!=c.quest&&"undefined"!==c.quest&&(this.i.questList.wc("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.i.objectiveList.wc("Use",
c.objective));break;case "Give /Take Item":case "Has Player Item":this.i.amountNote.pc(r.size(180,0));e=[];a=[];f=ObjectLists.Bf();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.S.create(f[d].name,"Arial",15),h.n(r.k(0,0,0)),h.K(r.a(0,0)),h.m(r.a(4,4)),h.pc(r.size(126,0)),k=r.w.hb(r.ha.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.K(r.a(0,0)),k.tc="Use",e[d].W(154,h.c().height+8),k.ad((h.c().height+8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+
8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.itemList.Nd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.itemList.Ad=function(){return e.length};this.i.itemList.we=function(a){return e[a].c()};this.i.itemList.ue=function(a){return e[a]};this.i.itemList.Ui=function(a){return e[a].Cc};this.i.itemList.wc=function(a,c){"Use"==a&&(this.ma.Cc(c),m.cj=c)};this.i.itemList.ma=ListView.create(this.i.itemList);this.i.itemList.ma.Ie(a);this.i.itemList.f(this.i.itemList.ma);
null!=c.item&&"undefined"!==c.item&&this.i.itemList.wc("Use",c.item);this.bj=new Y(this.i.amountText,r.size(this.i.amountText.c().width,this.i.amountText.c().height),r.a(0,this.i.amountText.c().height),c.amount?c.amount:"0",r.h(255,255,255),r.k(0,0,0));this.bj.sb(!0);this.bj.Dd(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.Xi();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.S.create(f[d].name,"Arial",15),h.n(r.k(0,0,0)),h.K(r.a(0,
0)),h.m(r.a(4,4)),h.pc(r.size(126,0)),k=r.w.hb(r.ha.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.K(r.a(0,0)),k.tc="Use",e[d].W(154,h.c().height+8),k.ad((h.c().height+8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.skillList.Nd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.skillList.Ad=function(){return e.length};this.i.skillList.we=function(a){return e[a].c()};this.i.skillList.ue=
function(a){return e[a]};this.i.skillList.Ui=function(a){return e[a].Cc};this.i.skillList.wc=function(a,c){"Use"==a&&(this.ma.Cc(c),m.Ux=c)};this.i.skillList.ma=ListView.create(this.i.skillList);this.i.skillList.ma.Ie(a);this.i.skillList.f(this.i.skillList.ma);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.wc("Use",c.skill);this.Ll=new Y(this.i.levelText,r.size(this.i.levelText.c().width,this.i.levelText.c().height),r.a(0,this.i.levelText.c().height),c.level?c.level:"0",r.h(255,255,255),r.k(0,
0,0));this.Ll.sb(!0);this.Ll.Dd(!1);this.Ml=new Y(this.i.expText,r.size(this.i.expText.c().width,this.i.expText.c().height),r.a(0,this.i.expText.c().height),c.xp?c.xp:"0",r.h(255,255,255),r.k(0,0,0));this.Ml.sb(!0);this.Ml.Dd(!1);this.Kl=new Y(this.i.healthText,r.size(this.i.healthText.c().width,this.i.healthText.c().height),r.a(0,this.i.healthText.c().height),c.health?c.health:"0",r.h(255,255,255),r.k(0,0,0));this.Kl.sb(!0);this.Kl.Dd(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=
[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.S.create(f[d],"Arial",15),h.n(r.k(0,0,0)),h.K(r.a(0,0)),h.m(r.a(4,4)),h.pc(r.size(126,0)),k=r.w.hb(r.ha.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.K(r.a(0,0)),k.tc="Use",e[d].W(154,h.c().height+8),k.ad((h.c().height+8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.panelList.Nd=
function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.panelList.Ad=function(){return e.length};this.i.panelList.we=function(a){return e[a].c()};this.i.panelList.ue=function(a){return e[a]};this.i.panelList.Ui=function(a){return e[a].Cc};this.i.panelList.wc=function(a,c){"Use"==a&&(this.ma.Cc(c),m.OJ=c)};this.i.panelList.ma=ListView.create(this.i.panelList);this.i.panelList.ma.Ie(a);this.i.panelList.f(this.i.panelList.ma);null!=c.panel&&"undefined"!==c.panel&&this.i.panelList.wc("Use",
c.panel);this.On=1==c.visible?1:0;1==this.On&&(this.i.visibleButton.n(r.h(0,255,0,255)),this.i.visibleButton.content.fa("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.S.create(f[d],"Arial",15),h.n(r.k(0,0,0)),h.K(r.a(0,0)),h.m(r.a(4,4)),h.pc(r.size(126,0)),k=r.w.hb(r.ha.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.K(r.a(0,0)),k.tc="Use",e[d].W(154,h.c().height+8),k.ad((h.c().height+8)/2-10),a.push([k]),
l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.objectList.Nd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.objectList.Ad=function(){return e.length};this.i.objectList.we=function(a){return e[a].c()};this.i.objectList.ue=function(a){return e[a]};this.i.objectList.Ui=function(a){return e[a].Cc};this.i.objectList.wc=function(a,c){"Use"==a&&(this.ma.Cc(c),m.EJ=c)};this.i.objectList.ma=ListView.create(this.i.objectList);
this.i.objectList.ma.Ie(a);this.i.objectList.f(this.i.objectList.ma);null!=c.object&&"undefined"!==c.object&&this.i.objectList.wc("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.S.create(f[d],"Arial",15),h.n(r.k(0,0,0)),h.K(r.a(0,0)),h.m(r.a(4,4)),h.pc(r.size(126,0)),k=r.w.hb(r.ha.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.K(r.a(0,0)),k.tc="Use",e[d].W(154,h.c().height+8),k.ad((h.c().height+
8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.actionList.Nd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.actionList.Ad=function(){return e.length};this.i.actionList.we=function(a){return e[a].c()};this.i.actionList.ue=function(a){return e[a]};this.i.actionList.Ui=function(a){return e[a].Cc};this.i.actionList.wc=function(a,c){"Use"==a&&(this.ma.Cc(c),m.wH=c)};this.i.actionList.ma=
ListView.create(this.i.actionList);this.i.actionList.ma.Ie(a);this.i.actionList.f(this.i.actionList.ma);null!=c.action&&"undefined"!==c.action&&this.i.actionList.wc("Use",c.action);break;case "Is Player Inventory Space":this.bx=new Y(this.i.spaceText,r.size(this.i.spaceText.c().width,this.i.spaceText.c().height),r.a(0,this.i.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",r.h(255,255,255),r.k(0,0,0));this.bx.sb(!0);this.bx.Dd(!1);break;case "Wait":this.by=new Y(this.i.timeText,
r.size(this.i.timeText.c().width,this.i.timeText.c().height),r.a(0,this.i.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",r.h(255,255,255),r.k(0,0,0));this.by.sb(!0);this.by.Dd(!1);break;case "Repeat Responses":this.i.amountNote.pc(r.size(180,0));this.BD=new Y(this.i.amountText,r.size(this.i.amountText.c().width,this.i.amountText.c().height),r.a(0,this.i.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",r.h(255,255,255),r.k(0,0,0));this.BD.sb(!0);this.BD.Dd(!1);
break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.Xi();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.S.create(f[d].name,"Arial",15),h.n(r.k(0,0,0)),h.K(r.a(0,0)),h.m(r.a(4,4)),h.pc(r.size(126,0)),k=r.w.hb(r.ha.e().qa("GUI/use.png")),k.m(r.a(130,0)),k.K(r.a(0,0)),k.tc="Use",e[d].W(154,h.c().height+8),k.ad((h.c().height+8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),
e[d].f(k);m=this;this.i.skillList.Nd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.skillList.Ad=function(){return e.length};this.i.skillList.we=function(a){return e[a].c()};this.i.skillList.ue=function(a){return e[a]};this.i.skillList.Ui=function(a){return e[a].Cc};this.i.skillList.wc=function(a,c){"Use"==a&&(this.ma.Cc(c),m.Ux=c)};this.i.skillList.ma=ListView.create(this.i.skillList);this.i.skillList.ma.Ie(a);this.i.skillList.f(this.i.skillList.ma);null!=
c.skill&&"undefined"!==c.skill&&this.i.skillList.wc("Use",c.skill);this.Ll=new Y(this.i.levelTextLower,r.size(this.i.levelTextLower.c().width,this.i.levelTextLower.c().height),r.a(0,this.i.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",r.h(255,255,255),r.k(0,0,0));this.Ll.sb(!0);this.Ll.Dd(!1);this.Ml=new Y(this.i.expTextLower,r.size(this.i.expTextLower.c().width,this.i.expTextLower.c().height),r.a(0,this.i.expTextLower.c().height),null!=
c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",r.h(255,255,255),r.k(0,0,0));this.Ml.sb(!0);this.Ml.Dd(!1);this.Kl=new Y(this.i.healthTextLower,r.size(this.i.healthTextLower.c().width,this.i.healthTextLower.c().height),r.a(0,this.i.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",r.h(255,255,255),r.k(0,0,0));this.Kl.sb(!0);this.Kl.Dd(!1);this.Wx=new Y(this.i.levelTextUpper,r.size(this.i.levelTextUpper.c().width,this.i.levelTextUpper.c().height),
r.a(0,this.i.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",r.h(255,255,255),r.k(0,0,0));this.Wx.sb(!0);this.Wx.Dd(!1);this.Xx=new Y(this.i.expTextUpper,r.size(this.i.expTextUpper.c().width,this.i.expTextUpper.c().height),r.a(0,this.i.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",r.h(255,255,255),r.k(0,0,0));this.Xx.sb(!0);this.Xx.Dd(!1);this.Vx=new Y(this.i.healthTextUpper,r.size(this.i.healthTextUpper.c().width,
this.i.healthTextUpper.c().height),r.a(0,this.i.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",r.h(255,255,255),r.k(0,0,0));this.Vx.sb(!0);this.Vx.Dd(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.zc="head",this.lk(c.equip)):this.lk("head")}},Uw:function(){this.b.subEditorOver.A(!1);this.b.mainEditorOver.A(!0);this.jq=null;this.i.N();this.i=null},yK:function(a){switch(a){case 0:this.Fn(1,!0);this.data.data=
[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.Fn(1,!0);this.data.data=[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.Fn(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.Fn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.Fn(1,
!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.Hb()},Fn:function(a,c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.fa("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.fa("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.fa("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.fa("Includes: None")}this.data.data=
[];c||this.Hb()},dS:function(a){1==a&&this.l.Fn(this.l.kL)},cS:function(a){1==a&&this.l.yK(this.l.VH)},lk:function(a){this.i.headButton.n(r.h(255,255,255,255));this.i.bodyButton.n(r.h(255,255,255,255));this.i.legButton.n(r.h(255,255,255,255));this.i.feetButton.n(r.h(255,255,255,255));this.i.lArmButton.n(r.h(255,255,255,255));this.i.rArmButton.n(r.h(255,255,255,255));this.i.modButton.n(r.h(255,255,255,255));switch(a){case "head":this.zc=a;this.i.headButton.n(r.h(255,0,0,255));return;case "body":this.zc=
a;this.i.bodyButton.n(r.h(255,0,0,255));return;case "legs":this.zc=a;this.i.legButton.n(r.h(255,0,0,255));return;case "feet":this.zc=a;this.i.feetButton.n(r.h(255,0,0,255));return;case "mod":this.zc=a;this.i.modButton.n(r.h(255,0,0,255));return;case "bothArms":this.zc=a;this.i.lArmButton.n(r.h(255,0,0,255));this.i.rArmButton.n(r.h(255,0,0,255));return}"bothArms"!=this.zc&&"lArm"!=this.zc&&"rArm"!=this.zc&&"lArm"==a?(this.i.lArmButton.n(r.h(255,0,0,255)),this.zc="lArm"):"bothArms"!=this.zc&&"lArm"!=
this.zc&&"rArm"!=this.zc&&"rArm"==a?(this.i.rArmButton.n(r.h(255,0,0,255)),this.zc="rArm"):"rArm"==this.zc&&"lArm"==a?(this.i.lArmButton.n(r.h(255,0,0,255)),this.i.rArmButton.n(r.h(255,0,0,255)),this.zc="bothArms"):"lArm"==this.zc&&"rArm"==a?(this.i.lArmButton.n(r.h(255,0,0,255)),this.i.rArmButton.n(r.h(255,0,0,255)),this.zc="bothArms"):"bothArms"==this.zc&&"rArm"==a?(this.i.lArmButton.n(r.h(255,0,0,255)),this.zc="lArm"):"bothArms"==this.zc&&"lArm"==a&&(this.i.rArmButton.n(r.h(255,0,0,255)),this.zc=
"rArm")},aY:function(a,c){if(0<this.l.data.data.length)return this.l.kL=a,this.V.f(DropDownList.Md(this.l,this.l.dS,["Cancel","Clear Script (Required)"],c.L)),!1;this.l.Fn(a)},jb:function(a){if(this._super(a))return!0;this.Rd=null;var c=a.L;if(this.i){c=this.i.Ka(c);if(O(this.i.okbtn,c)){switch(this.jq){case "Warp Player":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={mapnum:parseInt(this.pE.U()),index:T(parseInt(this.qE.U()),Pa-parseInt(this.rE.U()))};break;case "Talk":case "Read Item":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data=
{say:this.Cx.U()};break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={quest:this.XJ,objective:this.GJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={item:this.cj,amount:parseInt(this.bj.U())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={skill:this.Ux,level:parseInt(this.Ll.U()),xp:parseInt(this.Ml.U()),
health:parseInt(this.Kl.U())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={panel:this.OJ,visible:this.On};break;case "Is Event Fired By":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={object:this.EJ};break;case "Is NPC Actioning":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={action:this.wH};break;case "Is Player Inventory Space":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data=
{space:parseInt(this.bx.U())};break;case "Wait":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={time:parseInt(this.by.U())};break;case "Repeat Responses":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={amount:parseInt(this.BD.U())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={skill:this.Ux,levelLower:parseInt(this.Ll.U()),xpLower:parseInt(this.Ml.U()),healthLower:parseInt(this.Kl.U()),
levelUpper:parseInt(this.Wx.U()),xpUpper:parseInt(this.Xx.U()),healthUpper:parseInt(this.Vx.U())};break;case "Equip Item":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={equip:this.zc}}this.Uw();return!0}if(this.i.headButton&&O(this.i.headButton,c))return this.lk("head"),!0;if(this.i.bodyButton&&O(this.i.bodyButton,c))return this.lk("body"),!0;if(this.i.legButton&&O(this.i.legButton,c))return this.lk("legs"),!0;if(this.i.feetButton&&O(this.i.feetButton,c))return this.lk("feet"),
!0;if(this.i.lArmButton&&O(this.i.lArmButton,c))return this.lk("lArm"),!0;if(this.i.rArmButton&&O(this.i.rArmButton,c))return this.lk("rArm"),!0;if(this.i.modButton&&O(this.i.modButton,c))return this.lk("mod"),!0;if(this.i.visibleButton&&O(this.i.visibleButton,c))return this.On=0==this.On?1:0,this.i.visibleButton.n(0==this.On?r.h(255,0,0,255):r.h(0,255,0,255)),this.i.visibleButton.content.fa(0==this.On?"Invisible":"Visible"),!0;if(O(this.i.cancelbtn,c))return this.Uw(),!0}else{c=this.b.main_panel.Ka(c);
if(O(this.b.main_panel.defaultsbtn,c))return this.V.f(DropDownList.Md(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.L)),!0;if(O(this.b.main_panel.specifier,c))return this.V.f(DropDownList.Md(this,this.aY,["Item","Tile","NPC","None"],a.L)),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.data.name=this.Oa.U();this.Ef=!0;this.l.Zc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Ef=
!0;var d=this.l;this.l.Dc(function(){d.Zc(null)});return!0}return O(this.b.main_panel,c)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Rb:J[0].name,T:0,hq:function(a,c){Scripteditor&&(Scripteditor.xa(),Scripteditor.N(),this.Ud=a,this.Vb(!0),this.b.main_panel.scriptbtn.text.fa(c.name),this.b.main_panel.scriptbtn.n(r.h(0,255,0,255)))},PD:function(){this.b.main_panel.scriptbtn.text.fa("None");this.b.main_panel.scriptbtn.n(r.h(255,0,0,255))},Bc:function(){return{panels:{position:r.a(300,10),children:{background:{Y:"GUI/itemeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(4,292),color:r.k(0,0,0)},name_entry:{position:r.a(74,292),size:r.size(266,32),C:r.h(255,255,255,255)},tiles:{d:r.a(0,1),position:r.a(16,272),Y:J[0].name},textureleftbtn:{position:r.a(362,292),size:r.size(16,32),Y:"GUI/texture_change_left.png",d:r.a(0,0)},texturerightbtn:{position:r.a(471,292),size:r.size(16,32),Y:"GUI/texture_change_right.png",d:r.a(0,0)},textureName:{position:r.a(375,292),size:r.size(96,32),Y:"GUI/texture_change_middle.png",
d:r.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.k(0,0,0)}}},leftbtn:{position:r.a(0,16),size:r.size(16,256),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},rightbtn:{position:r.a(336,16),size:r.size(16,256),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},upbtn:{position:r.a(16,272),
size:r.size(320,16),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},downbtn:{position:r.a(16,0),size:r.size(320,16),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,d:r.a(0,0),position:r.a(360,206),color:r.k(0,0,0)},stackbtn:{position:r.a(360,176),size:r.size(128,26),C:Ga,d:r.a(0,0),children:{text:{label:"No",
fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,d:r.a(0,0),position:r.a(360,262),color:r.k(0,0,0)},scriptbtn:{position:r.a(360,232),size:r.size(128,26),C:Ga,d:r.a(0,0),children:{text:{label:"None",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),C:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),C:r.h(100,255,100,255)},okbtn:{position:r.a(434,
16),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(384,16),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,330),size:r.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(476,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Ac:function(){return"itemEditor"},Oa:null,l:null,data:null,Ud:null,r:function(a){this._super();this.data={sprite:{texture:J[0].name,
position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Rb=J[0].name;this.T=0;this.Ud=this.l=this.Oa=null;this.O=r.a(0,0);this.l=a.l;a&&a.data&&(this.data=a.data,this.data.script&&(this.Ud=this.data.script))},gj:function(a){H({saveitems:a+"",itemdata:this.data})},Si:function(a,c){H({saveitemswhole:c})},na:function(){this._super();this.b.main_panel.highlightnode.pa(0);this.b.main_panel.selectednode.pa(127);for(var a in J)J[a].name==this.data.sprite.texture&&(this.T=a,this.Rb=J[a].name);this.b.main_panel.textureName.text.fa(this.Rb);
this.b.main_panel.tiles.ea(J[this.T].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.n(r.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.fa(ObjectLists.Wi()[this.data.script].name),this.Ud=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=r.a(32*(this.data.sprite.position.x-this.O.x),32*(this.data.sprite.position.y-this.O.y));this.b.main_panel.selectednode.m(this.b.main_panel.tiles.q.x+a.x,this.b.main_panel.tiles.q.y-
(a.y+32));this.Oa=new Y(this.b.main_panel.name_entry,r.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),r.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",r.h(255,255,255),r.k(0,0,0));this.Oa.sb(!0);this.b.main_panel.stackbtn.n(Ga);this.b.main_panel.stackbtn.text.fa("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Fa),this.b.main_panel.stackbtn.text.fa("Yes"));this.mb()},xa:function(a){this._super();if(this.l){var c=this.l;
!0!=a&&this.l.Dc(function(){c.Zc(null)})}},ej:function(a){a=a.L;this.b.main_panel.highlightnode.pa(0);a=this.b.main_panel.tiles.Ka(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.pa(127),this.b.main_panel.highlightnode.m(a),!0},mb:function(){this.Zb(this.mb);this.b.main_panel.tiles.aa()&&!0==this.b.main_panel.tiles.aa().rc&&(this.Qc(this.mb),this.b.main_panel.tiles.Sb(r.rect(Math.floor(32*
this.O.x),Math.floor(32*this.O.y),320>J[this.T].texture.c().width?J[this.T].texture.c().width:320,256>J[this.T].texture.c().height?J[this.T].texture.c().height:256)))},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=a.L;var c=this.b.main_panel.Ka(r.a(a.x,a.y));if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.Ef=!0;this.data.name=this.Oa.U();this.data.script=this.Ud;this.l.Zc(this.data);return!0}O(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.xa(),
Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({l:this,Fg:new ScriptEditor,list:ObjectLists.Wi(),name:"Script List"}),Scripteditor.na(),this.f(Scripteditor)));if(O(this.b.main_panel.cancelbtn,c)){this.Ef=!0;var d=this.l;this.l.Dc(function(){d.Zc(null)});return!0}if(O(this.b.main_panel.leftbtn,c))return 264<J[this.T].texture.c().width&&0<this.O.x&&(this.O.x--,this.mb()),!0;if(O(this.b.main_panel.rightbtn,c))return 320<J[this.T].texture.c().width&&this.O.x<(J[this.T].texture.c().width-
320)/32&&(this.O.x++,this.mb()),!0;if(O(this.b.main_panel.upbtn,c))return 320<J[this.T].texture.c().height&&0<this.O.y&&(this.O.y--,this.mb()),!0;if(O(this.b.main_panel.downbtn,c))return 320<J[this.T].texture.c().height&&this.O.y<(J[this.T].texture.c().height-320)/32&&(this.O.y++,this.mb()),!0;if(O(this.b.main_panel.texturerightbtn,c))return this.Mn(),!0;if(O(this.b.main_panel.textureleftbtn,c))return this.Nn(),!0;if(O(this.b.main_panel.stackbtn,c))return this.rL(),!0;if(O(this.b.main_panel.scriptbtn,
c))return this.haa(),!0;c=this.b.main_panel.tiles.Ka(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.pa(0);if(this.b.main_panel.selectednode.q.F!=c.x||this.b.main_panel.selectednode.q.I!=c.y)this.b.main_panel.selectednode.pa(127),this.b.main_panel.selectednode.m(c);a=r.a((this.b.main_panel.selectednode.q.F-16)/32+this.O.x,8-(this.b.main_panel.selectednode.q.I-16)/32+this.O.y-1);
this.data.sprite.position=a;return!0}return!1},rL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.n(Ga);this.b.main_panel.stackbtn.text.fa("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Fa),this.b.main_panel.stackbtn.text.fa("Yes"))},Mn:function(){this.T>=J.length-1&&(this.T=-1);this.T++;this.b.main_panel.tiles.ea(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.textureName.text.fa(this.Rb);this.data.sprite.texture=this.Rb;this.O=r.a(0,0);this.mb()},
Nn:function(){0>=this.T&&(this.T=J.length);this.T--;this.b.main_panel.tiles.ea(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.textureName.text.fa(this.Rb);this.O=r.a(0,0);this.mb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,R:null,ib:null,Ac:function(){return"Settings Editor"},xa:function(){this._super()},r:function(){this._super();this.data=ua(z)},gj:function(a){H({savequests:a+"",questdata:this.data})},Si:function(a,c){H({savequestswhole:c})},na:function(){this._super();this.Hb()},Hb:function(){this.R&&this.R.oc();var a=[],c=[],d=r.ha.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=r.D.create();a[e].W(324,32);var g=r.S.create(f,"Arial",18);g.K(r.a(0,0));g.m(r.a(4,
0));g.pc(r.size(246,0));g.n(r.k(100,0,0));a[e].f(g);a[e].W(324,g.c().height+4);g=[];c.push(g);e++}a[e]=r.D.create();a[e].W(324,32);var h=r.ca.create(r.h(0,0,0,127),316,1);h.m(r.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=r.w.hb(d.qa("GUI/edit.png"));k.m(r.a(300,0));k.K(r.a(0,0))}if("ISSECTION"==this.data[f]){var l=r.S.create(f,"Arial",22);l.n(r.k(255,0,0))}else l=r.S.create(this.data[f],"Arial",15),l.n(r.k(0,0,0));l.K(r.a(0,0));l.m(r.a(4,4));l.pc(r.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.tc="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].W(324,l.c().height+12):a[e].W(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.ad((l.c().height+8)/2-10);e++}this.R=this.b.main_panel.list;var m=this;this.R.Nd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.R.Ad=function(){return a.length};this.R.we=
function(c){return a[c].c()};this.R.ue=function(c){return a[c]};this.R.wc=function(a,c,d){m.Ka(d.L);if(!0!=m.Gn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.ib=d;m.pC(d)}};this.R.ma=ListView.create(this.R);this.R.ma.Ie(c);this.R.f(this.R.ma)},Bc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{savebtn:{size:r.size(64,
32),C:r.h(0,255,0,255),position:r.a(241,292),d:r.a(0,0),children:{content:{label:"Save",color:r.k(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},list:{size:r.size(324,284),C:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},ef:null,Aa:null,pC:function(a){null!=this.Aa&&
(this.Aa.oc(),this.ef=null,this.Aa.N(),this.ib=this.Aa=null);this.Aa=r.ca.create(r.h(255,255,255,200),200,200);this.Aa.m(r.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.ef=new Y(this.Aa,r.size(190,150),r.a(0,this.Aa.c().height),this.data[a],r.h(100,100,100),r.k(255,255,255),!0);this.ef.sb(!0);this.ef.BK(!0);a=r.ca.create(r.h(0,200,255,255),64,32);a.m(r.a(14,9));var c=r.S.create("OK","Arial",16);c.n(r.k(0,0,0));c.m(32,16);c.K(r.a(0.5,0.5));a.f(c);c=r.ca.create(r.h(200,
0,0,255),64,32);c.m(r.a(120,9));var d=r.S.create("Cancel","Arial",16);d.n(r.k(0,0,0));d.m(32,16);d.K(r.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Aa);this.Aa.f(a);this.Aa.fD=a;this.Aa.f(c);this.Aa.cancel=c},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=a.L;if(null!=this.Aa){a=this.Aa.Ka(a);if(O(this.Aa.fD,a))return this.data[this.ib]=this.ef.U(),this.Aa.oc(),this.ef=null,this.Aa.N(),this.ib=this.Aa=null,this.Hb(),!0;O(this.Aa.cancel,a)&&(this.Aa.oc(),this.ef=null,this.Aa.N(),this.ib=this.Aa=
null);return!0}a=this.b.main_panel.Ka(a);return O(this.b.main_panel.savebtn,a)?(z=ua(this.data),console.log(z),console.log(this.data),H({savesettings:this.data}),v.jE(this.data,Date.now()),!0):O(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,R:null,l:null,ib:null,Ac:function(){return"Quest Editor"},xa:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Dc(function(){c.Zc(null)})}},r:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.l=a.l;a&&a.data&&(this.data=a.data)},gj:function(a){H({savequests:a+"",questdata:this.data})},
Si:function(a,c){H({savequestswhole:c})},na:function(){this._super();this.Hb();this.Oa=new Y(this.b.main_panel.nameBox,r.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),r.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",r.h(255,255,255,255),r.k(0,0,0));this.Oa.sb(!0)},Hb:function(){this.R&&this.R.oc();var a=[],c=[],d=r.ha.e();this.WH={};for(var e in this.data.objectiveList)if(a[e]=r.D.create(),a[e].W(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=r.ca.create(r.h(0,0,0,127),316,1);f.m(r.a(4,0));var g=r.w.hb(d.qa("GUI/edit.png"));g.m(r.a(272,0));g.K(r.a(0,0));var h=r.w.hb(d.qa("GUI/trash.png"));h.m(r.a(300,0));h.K(r.a(0,0));var k=r.S.create(this.data.objectiveList[e],"Arial",15);k.K(r.a(0,0));k.m(r.a(4,4));k.pc(r.size(246,0));k.n(r.k(0,0,0));g.tc="Edit";var l=[];l.push(g);0!=e&&(h.tc="Delete",l.push(h));c.push(l);a[e].f(f);a[e].f(g);0!=e&&a[e].f(h);a[e].f(k);a[e].W(324,k.c().height+8);g.ad((k.c().height+8)/2-10);h.ad((k.c().height+
8)/2-10)}d=r.ca.create(r.h(70,200,70,255),90,26);e=r.S.create("+","Arial",20);e.m(45,13);e.K(r.a(0.5,0.5));d.m(r.a(120,0));d.tc="Add";d.f(e);c.push([d]);a.push(d);this.R=this.b.main_panel.list;var m=this;this.R.Nd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.R.Ad=function(){return a.length};this.R.we=function(c){return a[c].c()};this.R.ue=function(c){return a[c]};this.R.wc=function(a,c,d){m.Ka(d.L);if(!0!=m.Gn)switch(a){case "Delete":null!=m.Aa&&(m.Aa.oc(),
m.ef=null,m.Aa.N(),m.Aa=null,m.ib=null);m.V.f(DropDownList.Md(m,m.gC,["Cancel","Delete"],d.L));m.ib=c;break;case "Edit":m.ib=c;m.pC(c);break;case "Add":m.ZQ()}};this.R.ma=ListView.create(this.R);this.R.ma.Ie(c);this.R.f(this.R.ma)},Bc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{nameLabel:{label:"Quest Name",color:r.k(0,0,0),position:r.a(8,312),d:r.a(0,0)},nameBox:{size:r.size(150,
32),C:r.h(255,255,255,255),position:r.a(8,277),d:r.a(0,0)},savebtn:{size:r.size(64,32),C:r.h(0,255,0,255),position:r.a(175,277),d:r.a(0,0),children:{content:{label:"Save",color:r.k(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},exitbtn:{size:r.size(64,32),C:r.h(255,0,0,255),position:r.a(253,277),d:r.a(0,0),children:{content:{label:"Exit",color:r.k(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:r.k(0,0,0),position:r.a(8,254),d:r.a(0,0)},list:{size:r.size(324,250),
C:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},gC:function(a){switch(a){case 1:this.l.ib&&(this.l.data.objectiveList.splice(this.l.ib,1),this.l.Hb(),this.l.ib=null)}},ZQ:function(){this.data.objectiveList.push("Blank Objective");this.Hb()},ef:null,Aa:null,pC:function(a){null!=
this.Aa&&(this.Aa.oc(),this.ef=null,this.Aa.N(),this.ib=this.Aa=null);this.Aa=r.ca.create(r.h(255,255,255,200),200,200);this.Aa.m(r.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.ef=new Y(this.Aa,r.size(190,150),r.a(0,this.Aa.c().height),this.data.objectiveList[a],r.h(100,100,100),r.k(255,255,255),!0);this.ef.sb(!0);this.ef.BK(!0);a=r.ca.create(r.h(0,200,255,255),64,32);a.m(r.a(14,9));var c=r.S.create("OK","Arial",16);c.n(r.k(0,0,0));c.m(32,16);c.K(r.a(0.5,0.5));
a.f(c);c=r.ca.create(r.h(200,0,0,255),64,32);c.m(r.a(120,9));var d=r.S.create("Cancel","Arial",16);d.n(r.k(0,0,0));d.m(32,16);d.K(r.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Aa);this.Aa.f(a);this.Aa.fD=a;this.Aa.f(c);this.Aa.cancel=c},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=a.L;if(null!=this.Aa){a=this.Aa.Ka(a);if(O(this.Aa.fD,a))return this.data.objectiveList[this.ib]=this.ef.U(),this.Aa.oc(),this.ef=null,this.Aa.N(),this.ib=this.Aa=null,this.Hb(),!0;O(this.Aa.cancel,a)&&(this.Aa.oc(),
this.ef=null,this.Aa.N(),this.ib=this.Aa=null);return!0}a=this.b.main_panel.Ka(a);if(O(this.b.main_panel.savebtn,a)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.Ef=!0;this.data.name=this.Oa.U();this.l.Zc(this.data);return!0}if(O(this.b.main_panel.exitbtn,a)){this.Ef=!0;var c=this.l;this.l.Dc(function(){c.Zc(null)});return!0}return O(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,O:r.a(0,0),yc:"tiles",qJ:null,Fw:"ground1",Rb:J[0].name,T:0,Bc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,380),C:r.h(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(16,336),Y:J[0].name},textureleftbtn:{position:r.a(360,344),size:r.size(16,32),C:N,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},texturerightbtn:{position:r.a(472,344),
size:r.size(16,32),C:N,d:r.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},textureName:{position:r.a(376,344),size:r.size(96,32),C:r.h(255,255,255,170),d:r.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.k(0,0,0)}}},deletebtn:{position:r.a(360,308),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Erase",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},leftbtn:{position:r.a(0,
16),size:r.size(16,320),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},rightbtn:{position:r.a(336,16),size:r.size(16,320),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},upbtn:{position:r.a(16,336),size:r.size(320,16),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,
255,255)}}},downbtn:{position:r.a(16,0),size:r.size(320,16),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},fillbtn:{position:r.a(428,308),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Fill",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},ground1btn:{position:r.a(360,278),size:r.size(128,26),C:Fa,d:r.a(0,0),children:{text:{label:"Ground 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,
0,0)}}},ground2btn:{position:r.a(360,248),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Ground 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},groundShadowbtn:{position:r.a(360,218),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},mask1btn:{position:r.a(360,188),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Mask 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),
color:r.k(0,0,0)}}},mask2btn:{position:r.a(360,158),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Mask 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},mask3btn:{position:r.a(360,128),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Mask 3",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},fringe1btn:{position:r.a(360,98),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,
0,0)}}},fringe2btn:{position:r.a(360,68),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},fringeShadowbtn:{position:r.a(360,38),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},fringe3btn:{position:r.a(360,8),size:r.size(128,26),C:N,d:r.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),
color:r.k(0,0,0)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),C:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),C:r.h(100,255,100,255)}}},tab2:{children:{blockbtn:{position:r.a(8,320),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Block",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},warpbtn:{position:r.a(8,280),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Warp",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,
16),color:r.k(0,0,0)}}},itembtn:{position:r.a(8,240),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Item",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},signbtn:{position:r.a(8,200),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Sign",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},npcbtn:{position:r.a(8,160),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"NPC",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,d:r.a(0,0),position:r.a(100,342)},amountLabel:{size:r.size(60,32),position:r.a(98,-1E6)}}},tab3:{children:{saveBack:{position:r.a(0,78),size:r.size(200,60),C:r.h(0,255,0,100),d:r.a(0,0)},deleteback:{position:r.a(0,138),size:r.size(200,60),C:r.h(255,0,0,100),d:r.a(0,0)},mapnumsback:{position:r.a(0,198),size:r.size(200,162),C:r.h(0,0,0,170),d:r.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,d:r.a(0.5,0),position:r.a(100,344)},mapUp_entry:{size:r.size(60,32),position:r.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,d:r.a(0.5,0),position:r.a(100,232)},mapDown_entry:{size:r.size(60,32),position:r.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,d:r.a(0.5,0),position:r.a(38,290)},mapLeft_entry:{size:r.size(60,32),position:r.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,d:r.a(0.5,0),position:r.a(162,290)},mapRight_entry:{size:r.size(60,32),position:r.a(132,258)},this_map:{position:r.a(70,248),size:r.size(60,60),C:N,d:r.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.pd(),fontSize:12,d:r.a(0.5,0.5),position:r.a(30,30),color:r.k(0,0,0)}}},clearbtn:{position:r.a(70,150),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Clear",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,d:r.a(0.5,0),position:r.a(100,182)},clearbtnNo:{position:r.a(10,150),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"NO",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},clearbtnYes:{position:r.a(130,
150),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"YES",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},savebtn:{position:r.a(70,90),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Save",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,d:r.a(0.5,0),position:r.a(100,122)},savebtnNo:{position:r.a(10,90),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"NO",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,
16),color:r.k(0,0,0)}}},savebtnYes:{position:r.a(130,90),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"YES",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},saveOnExit:{position:r.a(40,30),size:r.size(120,32),C:N,d:r.a(0.5,0),children:{content:{label:"",fontSize:14,d:r.a(0.5,0.5),position:r.a(60,15),color:r.k(0,0,0)}}}}},tab1Clickable:{position:r.a(0,360),size:r.size(60,20),C:N,d:r.a(0,0),children:{text:{label:"Editor",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,
0,0)}}},tab2Clickable:{position:r.a(64,360),size:r.size(60,20),C:N,d:r.a(0,0),children:{text:{label:"Scripts",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}},tab3Clickable:{position:r.a(128,360),size:r.size(60,20),C:N,d:r.a(0,0),children:{text:{label:"Settings",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,380),size:r.size(420,32),C:r.h(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.pd(),fontSize:20,d:r.a(0,
0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,26),d:r.a(0,0),C:r.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},Ac:function(){return"MapEditor"},O:null,Ss:null,Ps:null,Qs:null,Rs:null,bj:null,jj:null,le:0,Ud:null,r:function(a){this._super();this.map=a;this.O=r.a(0,0);this.jj=[null,496,200,200]},na:function(){this._super();this.b.main_panel.tab1.highlightnode.pa(0);this.b.main_panel.tab1.selectednode.pa(0);
this.Ss=new Y(this.b.main_panel.tab3.mapUp_entry,r.size(this.b.main_panel.tab3.mapUp_entry.c().width,this.b.main_panel.tab3.mapUp_entry.c().height),r.a(0,this.b.main_panel.tab3.mapUp_entry.c().height),F.OI()?F.AI():"",r.h(100,100,100),r.k(255,255,255));this.Ss.sb(!0);this.Ss.Dd(!0);this.Ps=new Y(this.b.main_panel.tab3.mapDown_entry,r.size(this.b.main_panel.tab3.mapDown_entry.c().width,this.b.main_panel.tab3.mapDown_entry.c().height),r.a(0,this.b.main_panel.tab3.mapDown_entry.c().height),F.MI()?F.yI():
"",r.h(100,100,100),r.k(255,255,255));this.Ps.sb(!0);this.Ps.Dd(!0);this.Qs=new Y(this.b.main_panel.tab3.mapLeft_entry,r.size(this.b.main_panel.tab3.mapLeft_entry.c().width,this.b.main_panel.tab3.mapLeft_entry.c().height),r.a(0,this.b.main_panel.tab3.mapLeft_entry.c().height),F.NI()?F.zI():"",r.h(100,100,100),r.k(255,255,255));this.Qs.sb(!0);this.Qs.Dd(!0);this.Rs=new Y(this.b.main_panel.tab3.mapRight_entry,r.size(this.b.main_panel.tab3.mapRight_entry.c().width,this.b.main_panel.tab3.mapRight_entry.c().height),
r.a(0,this.b.main_panel.tab3.mapRight_entry.c().height),F.IC()?F.wC():"",r.h(100,100,100),r.k(255,255,255));this.Rs.sb(!0);this.Rs.Dd(!0);this.bj=new Y(this.b.main_panel.tab2.amountLabel,r.size(this.b.main_panel.tab2.amountLabel.c().width,this.b.main_panel.tab2.amountLabel.c().height),r.a(0,this.b.main_panel.tab2.amountLabel.c().height),F.IC()?F.wC():"1",r.h(100,100,100),r.k(255,255,255));this.bj.sb(!0);this.bj.Dd(!0);this.Sx(!1);this.Tx(!1);this.Bx=v.PS();this.RK(this.Bx);this.Gl(1);this.mb();F.UK(!0)},
hq:function(a,c){Warpeditor&&(Warpeditor.xa(),this.Dc(function(){Warpeditor.N();Warpeditor=null}),this.Ud=a,this.Vb(!0));Signeditor&&(Signeditor.xa(),this.Dc(function(){Signeditor.N();Signeditor=null}),this.Ud=a,this.Vb(!0));Itemeditor&&(Itemeditor.xa(),this.Dc(function(){Itemeditor.N();Itemeditor=null}),this.Ud=a,this.Vb(!0),this.bj.vc.Je("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.A(!0),this.b.main_panel.tab2.amountLabel.m(98,308)));NPCeditor&&(NPCeditor.xa(),this.Dc(function(){NPCeditor.N();
NPCeditor=null}),this.Ud=a,this.Vb(!0))},xa:function(){this._super();!0==this.Bx&&(F.JK({up:this.Ss.U(),down:this.Ps.U(),left:this.Qs.U(),right:this.Rs.U()}),F.GL());F.UK(!1)},ej:function(a){a=a.L;if(1==this.le&&(this.b.main_panel.tab1.highlightnode.pa(0),a=this.b.main_panel.tab1.tiles.Ka(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.pa(127),this.b.main_panel.tab1.highlightnode.m(a),
!0},Gl:function(a){if(a!=this.le){this.b.main_panel.W(this.jj[a],this.b.main_panel.c().height);this.b.control_panel.W(this.jj[a],this.b.control_panel.c().height);if(3==this.le||0==this.le)this.b.main_panel.tab3.mapUp_entry.wb(this.b.main_panel.tab3.mapUp_entry.q.F-1E3),this.b.main_panel.tab3.mapLeft_entry.wb(this.b.main_panel.tab3.mapLeft_entry.q.F-1E3),this.b.main_panel.tab3.mapDown_entry.wb(this.b.main_panel.tab3.mapDown_entry.q.F-1E3),this.b.main_panel.tab3.mapRight_entry.wb(this.b.main_panel.tab3.mapRight_entry.q.F-
1E3);1!=this.le||"erasing"!=this.yc&&"tiles"!=this.yc||(this.yc="blocking");2==this.le&&"blocking"==this.yc&&(this.yc="tiles");this.le=a;this.b.main_panel.tab1.A(!1);this.b.main_panel.tab2.A(!1);this.b.main_panel.tab3.A(!1);this.b.main_panel.tab1Clickable.n(N);this.b.main_panel.tab2Clickable.n(N);this.b.main_panel.tab3Clickable.n(N);this.b.main_panel["tab"+a].A(!0);this.b.main_panel["tab"+a+"Clickable"].n(r.h(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.wb(this.b.main_panel.tab3.mapUp_entry.q.F+
1E3),this.b.main_panel.tab3.mapLeft_entry.wb(this.b.main_panel.tab3.mapLeft_entry.q.F+1E3),this.b.main_panel.tab3.mapDown_entry.wb(this.b.main_panel.tab3.mapDown_entry.q.F+1E3),this.b.main_panel.tab3.mapRight_entry.wb(this.b.main_panel.tab3.mapRight_entry.q.F+1E3));this.b.control_panel.exitBtn.wb(this.jj[a]-29)}},RK:function(a){v.$W(a);this.Bx=a;this.b.main_panel.tab3.saveOnExit.n(r.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.fa("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.n(r.k(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.fa("Save on exit: YES")},mb:function(){this.Zb(this.mb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().rc&&(this.Qc(this.mb),this.b.main_panel.tab1.tiles.Sb(r.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>J[this.T].texture.c().width?J[this.T].texture.c().width:320,320>J[this.T].texture.c().height?J[this.T].texture.c().height:320)))},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=a.L;var c=this.b.main_panel.Ka(a);
if(O(this.b.main_panel.tab1Clickable,c))return this.Gl(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Gl(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Gl(3),!0;if(1==this.le){if(O(this.b.main_panel.tab1.leftbtn,c))return 320<J[this.T].texture.c().width&&0<this.O.x&&(this.O.x--,this.mb()),!0;if(O(this.b.main_panel.tab1.rightbtn,c))return 320<J[this.T].texture.c().width&&this.O.x<(J[this.T].texture.c().width-320)/32&&(this.O.x++,this.mb()),!0;if(O(this.b.main_panel.tab1.upbtn,
c))return 320<J[this.T].texture.c().height&&0<this.O.y&&(this.O.y--,this.mb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<J[this.T].texture.c().height&&this.O.y<(J[this.T].texture.c().height-320)/32&&(this.O.y++,this.mb()),!0;if(O(this.b.main_panel.tab1.ground1btn,c))return this.kj("ground1"),!0;if(O(this.b.main_panel.tab1.ground2btn,c))return this.kj("ground2"),!0;if(O(this.b.main_panel.tab1.groundShadowbtn,c))return this.kj("groundShadow"),!0;if(O(this.b.main_panel.tab1.mask1btn,c))return this.kj("mask1"),
!0;if(O(this.b.main_panel.tab1.mask2btn,c))return this.kj("mask2"),!0;if(O(this.b.main_panel.tab1.mask3btn,c))return this.kj("mask3"),!0;if(O(this.b.main_panel.tab1.fringe1btn,c))return this.kj("fringe1"),!0;if(O(this.b.main_panel.tab1.fringe2btn,c))return this.kj("fringe2"),!0;if(O(this.b.main_panel.tab1.fringeShadowbtn,c))return this.kj("fringeShadow"),!0;if(O(this.b.main_panel.tab1.fringe3btn,c))return this.kj("fringe3"),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Mn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,
c))return this.Nn(),!0;if(O(this.b.main_panel.tab1.deletebtn,c))return this.yc="erasing"==this.yc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.n(N),"erasing"==this.yc&&this.b.main_panel.tab1.deletebtn.n(Ga),!0;if(O(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Vi()&&(F.xS(J[this.T].name,r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,9-(this.b.main_panel.tab1.selectednode.q.I-16)/32+this.O.y),this.Fw),F.st()),!0;c=this.b.main_panel.tab1.tiles.Ka(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.pa(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.I!=c.y)this.b.main_panel.tab1.selectednode.pa(127),this.b.main_panel.tab1.selectednode.m(c);return!0}}if(2==this.le){if(O(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.n(N),this.b.main_panel.tab2.signbtn.n(N),
this.b.main_panel.tab2.npcbtn.n(N),this.b.main_panel.tab2.itembtn.n(N),this.b.main_panel.tab2.blockbtn.n(N),this.yc="blocking"==this.yc?"tiles":"blocking","blocking"==this.yc&&(this.b.main_panel.tab2.blockbtn.n(Ga),this.b.main_panel.tab2.amountLabelHead.A(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E5)),!0;if(O(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.n(N),this.b.main_panel.tab2.signbtn.n(N),this.b.main_panel.tab2.npcbtn.n(N),this.b.main_panel.tab2.itembtn.n(N),this.b.main_panel.tab2.blockbtn.n(N),
this.b.main_panel.tab2.amountLabelHead.A(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.yc="warping"==this.yc?"tiles":"warping","warping"==this.yc&&(null==Warpeditor||Warpeditor.V||(Warpeditor=null),Warpeditor&&(Warpeditor.xa(),Warpeditor.N(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({l:this,Fg:new WarpEditor,list:ObjectLists.bn(),name:"Warp List"}),Warpeditor.na(),this.V.f(Warpeditor),this.Vb(!1),this.b.main_panel.tab2.warpbtn.n(Ga),this.b.main_panel.tab2.amountLabelHead.A(!1),
this.b.main_panel.tab2.amountLabel.m(68,-1E5)),!0;if(O(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.n(N),this.b.main_panel.tab2.warpbtn.n(N),this.b.main_panel.tab2.npcbtn.n(N),this.b.main_panel.tab2.itembtn.n(N),this.b.main_panel.tab2.blockbtn.n(N),this.b.main_panel.tab2.amountLabelHead.A(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.yc="signs"==this.yc?"tiles":"signs","signs"==this.yc&&(null==Signeditor||Signeditor.V||(Signeditor=null),Signeditor&&(Signeditor.xa(),
Signeditor.N(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({l:this,Fg:new SignEditor,list:ObjectLists.Es(),name:"Sign List"}),Signeditor.na(),this.V.f(Signeditor),this.Vb(!1),this.b.main_panel.tab2.signbtn.n(Ga)),!0;if(O(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.n(N),this.b.main_panel.tab2.warpbtn.n(N),this.b.main_panel.tab2.npcbtn.n(N),this.b.main_panel.tab2.itembtn.n(N),this.b.main_panel.tab2.blockbtn.n(N),this.b.main_panel.tab2.amountLabelHead.A(!1),this.b.main_panel.tab2.amountLabel.m(68,
-1E6),this.yc="npcs"==this.yc?"tiles":"npcs","npcs"==this.yc&&(null==NPCeditor||NPCeditor.V||(NPCeditor=null),NPCeditor&&(NPCeditor.xa(),NPCeditor.N(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({l:this,Fg:new NPCEditor,list:ObjectLists.ml(),name:"NPC List"}),NPCeditor.na(),this.V.f(NPCeditor),this.Vb(!1),this.b.main_panel.tab2.npcbtn.n(Ga)),!0;if(O(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.n(N),this.b.main_panel.tab2.itembtn.n(N),this.b.main_panel.tab2.npcbtn.n(N),
this.b.main_panel.tab2.blockbtn.n(N),this.b.main_panel.tab2.amountLabelHead.A(!1),this.b.main_panel.tab2.amountLabel.m(68,-1E6),this.yc="items"==this.yc?"tiles":"items","items"==this.yc&&(null==Itemeditor||Itemeditor.V||(Itemeditor=null),Itemeditor&&(Itemeditor.xa(),Itemeditor.N(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({l:this,Fg:new ItemEditor,list:ObjectLists.Bf(),name:"Item List"}),Itemeditor.na(),this.V.f(Itemeditor),this.Vb(!1),this.b.main_panel.tab2.itembtn.n(Ga)),!0}if(3==this.le){if(O(this.b.main_panel.tab3.clearbtn,
c))return this.Sx(!0),!0;if(O(this.b.main_panel.tab3.clearbtnNo,c))return this.Sx(!1),!0;if(O(this.b.main_panel.tab3.clearbtnYes,c))return F.yd(),this.Sx(!1),!0;if(O(this.b.main_panel.tab3.savebtn,c))return this.Tx(!0),!0;if(O(this.b.main_panel.tab3.savebtnNo,c))return this.Tx(!1),!0;if(O(this.b.main_panel.tab3.savebtnYes,c))return F.JK({up:this.Ss.U(),down:this.Ps.U(),left:this.Qs.U(),right:this.Rs.U()}),F.GL(),this.Tx(!1),!0;if(O(this.b.main_panel.tab3.saveOnExit,c))return this.RK(!this.Bx),!0}return!1},
kj:function(a){this.b.main_panel.tab1.ground1btn.n(N);this.b.main_panel.tab1.ground2btn.n(N);this.b.main_panel.tab1.groundShadowbtn.n(N);this.b.main_panel.tab1.mask1btn.n(N);this.b.main_panel.tab1.mask2btn.n(N);this.b.main_panel.tab1.mask3btn.n(N);this.b.main_panel.tab1.fringe1btn.n(N);this.b.main_panel.tab1.fringe2btn.n(N);this.b.main_panel.tab1.fringeShadowbtn.n(N);this.b.main_panel.tab1.fringe3btn.n(N);this.b.main_panel.tab1[a+"btn"].n(Fa);this.Fw=a},Mn:function(){this.T>=J.length-1&&(this.T=-1);
this.T++;this.b.main_panel.tab1.tiles.ea(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.tab1.textureName.text.fa(this.Rb);this.O=r.a(0,0);this.mb()},Nn:function(){0>=this.T&&(this.T=J.length);this.T--;this.b.main_panel.tab1.tiles.ea(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.tab1.textureName.text.fa(this.Rb);this.O=r.a(0,0);this.mb()},Sx:function(a){this.b.main_panel.tab3.clearbtnYes.A(a);this.b.main_panel.tab3.clearbtnNo.A(a);this.b.main_panel.tab3.clear_text.A(a);this.b.main_panel.tab3.clearbtn.A(!a)},
Tx:function(a){this.b.main_panel.tab3.savebtnYes.A(a);this.b.main_panel.tab3.savebtnNo.A(a);this.b.main_panel.tab3.save_text.A(a);this.b.main_panel.tab3.savebtn.A(!a)},vL:function(a,c,d){if(a[c]==this.qJ&&"moved"==d)return!1;this.qJ=a[c];switch(this.yc){case "tiles":0!=this.b.main_panel.tab1.selectednode.Vi()&&F.nk(c,J[this.T].name,r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,9-(this.b.main_panel.tab1.selectednode.q.I-16)/32+this.O.y),this.Fw);break;case "blocking":if(1!=a[c].nc()){F.hj(c,
1);break}F.hj(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.V){if(3!=a[c].nc()){F.hj(c,3,this.Ud);break}F.hj(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.V){if(7!=a[c].nc()){F.hj(c,7,this.Ud);break}F.hj(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.V){if(4!=a[c].nc()){F.hj(c,4,this.Ud,{amount:this.bj.U()});break}F.hj(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.V){if(5!=a[c].nc()){F.hj(c,5,this.Ud);break}F.hj(c,0,null)}break;case "erasing":F.jC(c,
this.Fw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Rb:K[0].name,T:0,hq:function(a,c){Scripteditor&&(Scripteditor.xa(),Scripteditor.N(),this.Ud=a,this.Vb(!0),this.b.main_panel.scriptbtn.text.fa(c.name),this.b.main_panel.scriptbtn.n(r.h(0,255,0,255)))},PD:function(){this.b.main_panel.scriptbtn.text.fa("None");this.b.main_panel.scriptbtn.n(r.h(255,0,0,255))},Bc:function(){return{panels:{position:r.a(300,10),children:{background:{Y:"GUI/itemeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(4,292),color:r.k(0,0,0)},name_entry:{position:r.a(74,292),size:r.size(266,32),C:r.h(255,255,255,255)},tiles:{d:r.a(0,1),position:r.a(374,232),Y:K[0].name},textureleftbtn:{position:r.a(362,292),size:r.size(16,32),Y:"GUI/texture_change_left.png",d:r.a(0,0)},texturerightbtn:{position:r.a(471,292),size:r.size(16,32),Y:"GUI/texture_change_right.png",d:r.a(0,0)},textureName:{position:r.a(375,292),size:r.size(96,32),Y:"GUI/texture_change_middle.png",
d:r.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.k(0,0,0)}}},upbtn:{position:r.a(374,236),size:r.size(96,16),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(48,8),color:r.k(255,255,255)}}},downbtn:{position:r.a(374,86),size:r.size(96,16),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(48,8),color:r.k(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
d:r.a(0,0),position:r.a(8,262),color:r.k(0,0,0)},scriptbtn:{position:r.a(8,232),size:r.size(128,26),C:Ga,d:r.a(0,0),children:{text:{label:"None",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},okbtn:{position:r.a(434,16),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(384,16),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,330),size:r.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:r.a(0,
0.5),position:r.a(8,16)},exitBtn:{position:r.a(476,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Ac:function(){return"npcEditor"},Oa:null,l:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Rb=K[0].name;this.T=0;this.l=this.Oa=null;this.O=r.a(0,0);this.l=a.l;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.O.y=this.data.sprite.number),this.data.script&&(this.Ud=this.data.script))},gj:function(a){H({savenpcs:a+"",
npcsdata:this.data})},Si:function(a,c){H({savenpcswhole:c})},na:function(){this._super();for(var a in K)K[a].name==this.data.sprite.texture&&(this.T=a,this.Rb=K[a].name);this.b.main_panel.textureName.text.fa(this.Rb);this.b.main_panel.tiles.ea(K[this.T].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.n(r.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.fa(ObjectLists.Wi()[this.data.script].name),this.Ud=this.data.script);this.Oa=new Y(this.b.main_panel.name_entry,r.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),r.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",r.h(100,100,100),r.k(255,255,255));this.Oa.sb(!0);this.mb()},xa:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Dc(function(){c.Zc(null)})}},mb:function(){this.Zb(this.mb);this.b.main_panel.tiles.aa()&&!0==this.b.main_panel.tiles.aa().rc&&(this.Qc(this.mb),this.b.main_panel.tiles.Sb(r.rect(Math.floor(96*this.O.x),Math.floor(128*this.O.y),96>K[this.T].texture.c().width?
K[this.T].texture.c().width:96,128>K[this.T].texture.c().height?K[this.T].texture.c().height:128)))},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=this.b.main_panel.Ka(a.L);if(O(this.b.main_panel.okbtn,a)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.Ef=!0;this.data.name=this.Oa.U();this.data.sprite.number=this.O.y;this.data.script=this.Ud;this.l.Zc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Ef=!0;var c=this.l;this.l.Dc(function(){c.Zc(null)});return!0}O(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.xa(),Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({l:this,Fg:new ScriptEditor,list:ObjectLists.Wi(),name:"Script List"}),Scripteditor.na(),this.f(Scripteditor)));return O(this.b.main_panel.upbtn,a)?(320<K[this.T].texture.c().height&&0<this.O.y&&(this.O.y--,this.mb()),!0):O(this.b.main_panel.downbtn,a)?(320<K[this.T].texture.c().height&&this.O.y<(K[this.T].texture.c().height-320)/32&&(this.O.y++,this.mb()),!0):O(this.b.main_panel.texturerightbtn,
a)?(this.Mn(),!0):O(this.b.main_panel.textureleftbtn,a)?(this.Nn(),!0):!1},rL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.n(Ga);this.b.main_panel.stackbtn.text.fa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Fa),this.b.main_panel.stackbtn.text.fa("IS STACKABLE"))},Mn:function(){this.T>=K.length-1&&(this.T=-1);this.T++;this.b.main_panel.tiles.ea(K[this.T].texture);this.Rb=K[this.T].name;this.b.main_panel.textureName.text.fa(this.Rb);this.data.sprite.texture=
this.Rb;this.O=r.a(0,0);this.mb()},Nn:function(){0>=this.T&&(this.T=K.length);this.T--;this.b.main_panel.tiles.ea(K[this.T].texture);this.Rb=K[this.T].name;this.b.main_panel.textureName.text.fa(this.Rb);this.O=r.a(0,0);this.mb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Rb:J[0].name,T:0,Bc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,396),C:r.h(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(16,320),Y:J[0].name},textureleftbtn:{position:r.a(208,340),size:r.size(16,32),C:N,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},texturerightbtn:{position:r.a(320,340),size:r.size(16,32),C:N,d:r.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},textureName:{position:r.a(224,340),size:r.size(96,32),C:r.h(255,255,255,170),d:r.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.k(0,0,0)}}},leftbtn:{position:r.a(0,64),size:r.size(16,252),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},rightbtn:{position:r.a(336,64),size:r.size(16,
252),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},upbtn:{position:r.a(16,320),size:r.size(320,16),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},downbtn:{position:r.a(16,48),size:r.size(320,16),C:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},highlightnode:{d:r.a(0,
0),position:r.a(0,0),size:r.size(32,32),C:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),C:r.h(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,d:r.a(0,0),position:r.a(8,344)},name_entry:{size:r.size(136,32),position:r.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,d:r.a(0,0),position:r.a(8,250)},healthcolor_entry:{size:r.size(136,32),position:r.a(4,210)},tile:{d:r.a(0,1),position:r.a(55,150),Y:J[0].name},healthbtn:{position:r.a(8,
265),size:r.size(128,26),C:Ga,d:r.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}}}},tab1Clickable:{position:r.a(0,376),size:r.size(60,20),C:N,d:r.a(0,0),children:{text:{label:"Icon",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}},tab2Clickable:{position:r.a(64,376),size:r.size(60,20),C:N,d:r.a(0,0),children:{text:{label:"Details",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}},okbtn:{position:r.a(76,
8),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"OK",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.k(0,0,0)}}},cancelbtn:{position:r.a(8,8),size:r.size(60,32),C:N,d:r.a(0,0),children:{text:{label:"Cancel",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.k(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,396),size:r.size(420,32),C:r.h(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,
26),d:r.a(0,0),C:r.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},Ac:function(){return"SkillsEditor"},Oa:null,Kp:null,jj:null,le:0,l:null,data:null,r:function(a){this._super();this.data={sprite:{texture:J[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Rb=J[0].name;this.T=0;this.jj=this.Oa=null;this.le=0;this.l=null;this.O=r.a(0,0);this.jj=[null,352,142];this.l=a.l;a&&a.data&&(this.data=a.data)},gj:function(a){H({saveskills:a+
"",skillsdata:this.data})},Si:function(a,c){H({saveskillswhole:c})},na:function(){this._super();this.b.main_panel.tab1.highlightnode.pa(0);this.b.main_panel.tab1.selectednode.pa(127);for(var a in J)J[a].name==this.data.sprite.texture&&(this.T=a,this.Rb=J[a].name);this.b.main_panel.tab1.textureName.text.fa(this.Rb);this.b.main_panel.tab1.tiles.ea(J[this.T].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=r.a(32*(this.data.sprite.position.x-
this.O.x),32*(this.data.sprite.position.y-this.O.y));this.b.main_panel.tab1.selectednode.m(this.b.main_panel.tab1.tiles.q.x+a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.ea(J[this.T].texture);this.b.main_panel.tab2.tile.Sb(r.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Oa=new Y(this.b.main_panel.tab2.name_entry,r.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),r.a(0,
this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",r.h(100,100,100),r.k(255,255,255));this.Oa.sb(!0);this.Kp=new Y(this.b.main_panel.tab2.healthcolor_entry,r.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),r.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",r.h(100,100,100),r.k(255,255,255));this.Kp.sb(!0);this.b.main_panel.tab2.healthbtn.n(Ga);this.b.main_panel.tab2.healthbtn.text.fa("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Fa),this.b.main_panel.tab2.healthbtn.text.fa("IS HEALTHBAR"));this.Gl(1);this.mb()},$ba:function(){},xa:function(a){this._super();if(this.l){var c=this.l;!0!=a&&this.l.Dc(function(){c.Zc(null)})}},ej:function(a){a=a.L;if(1==this.le&&(this.b.main_panel.tab1.highlightnode.pa(0),a=this.b.main_panel.tab1.tiles.Ka(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.pa(127),this.b.main_panel.tab1.highlightnode.m(a),!0},Gl:function(a){a!=this.le&&(this.b.main_panel.W(this.jj[a],this.b.main_panel.c().height),this.b.control_panel.W(this.jj[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.wb(this.b.main_panel.tab2.name_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_entry.wb(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_text.A(!1),this.le=
a,this.b.main_panel.tab1.A(!1),this.b.main_panel.tab2.A(!1),this.b.main_panel.tab1Clickable.n(N),this.b.main_panel.tab2Clickable.n(N),this.b.main_panel["tab"+a].A(!0),this.b.main_panel["tab"+a+"Clickable"].n(r.h(255,255,0,255)),this.b.control_panel.exitBtn.wb(this.jj[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.wb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.wb(4),this.b.main_panel.tab2.healthcolor_text.A(!0)))},mb:function(){this.Zb(this.mb);
this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().rc&&(this.Qc(this.mb),this.b.main_panel.tab1.tiles.Sb(r.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>J[this.T].texture.c().width?J[this.T].texture.c().width:320,256>J[this.T].texture.c().height?J[this.T].texture.c().height:256)))},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=a.L;var c=this.b.main_panel.Ka(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Gl(1),!0;if(O(this.b.main_panel.tab2Clickable,
c))return this.Gl(2),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.U()||""==this.Oa.U())return!0;this.Ef=!0;this.data.name=this.Oa.U();if(null!=this.Kp.U()||""!=this.Kp.U())this.data.healthbar=this.Kp.U();this.l.Zc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Ef=!0;var d=this.l;this.l.Dc(function(){d.Zc(null)});return!0}if(1==this.le){if(O(this.b.main_panel.tab1.leftbtn,c))return 264<J[this.T].texture.c().width&&0<this.O.x&&(this.O.x--,this.mb()),!0;if(O(this.b.main_panel.tab1.rightbtn,
c))return 320<J[this.T].texture.c().width&&this.O.x<(J[this.T].texture.c().width-320)/32&&(this.O.x++,this.mb()),!0;if(O(this.b.main_panel.tab1.upbtn,c))return 320<J[this.T].texture.c().height&&0<this.O.y&&(this.O.y--,this.mb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<J[this.T].texture.c().height&&this.O.y<(J[this.T].texture.c().height-320)/32&&(this.O.y++,this.mb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Mn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Nn(),
!0;c=this.b.main_panel.tab1.tiles.Ka(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.pa(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.I!=c.y)this.b.main_panel.tab1.selectednode.pa(127),this.b.main_panel.tab1.selectednode.m(c);a=r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,8-(this.b.main_panel.tab1.selectednode.q.I-
64)/32+this.O.y-1);this.b.main_panel.tab2.tile.Sb(r.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.le&&O(this.b.main_panel.tab2.healthbtn,c)?(this.eY(),!0):!1},eY:function(){this.b.main_panel.tab2.healthcolor_entry.wb(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3);this.b.main_panel.tab2.healthcolor_text.A(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Kp.Je("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.wb(4),
this.b.main_panel.tab2.healthcolor_text.A(!0));this.b.main_panel.tab2.healthbtn.n(Ga);this.b.main_panel.tab2.healthbtn.text.fa("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Fa),this.b.main_panel.tab2.healthbtn.text.fa("IS HEALTHBAR"))},Mn:function(){this.T>=J.length-1&&(this.T=-1);this.T++;this.b.main_panel.tab1.tiles.ea(J[this.T].texture);this.b.main_panel.tab2.tile.ea(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.tab1.textureName.text.fa(this.Rb);
this.data.sprite.texture=this.Rb;this.O=r.a(0,0);this.mb()},Nn:function(){0>=this.T&&(this.T=J.length);this.T--;this.b.main_panel.tab1.tiles.ea(J[this.T].texture);this.b.main_panel.tab2.tile.ea(J[this.T].texture);this.Rb=J[this.T].name;this.b.main_panel.tab1.textureName.text.fa(this.Rb);this.O=r.a(0,0);this.mb()}});PopupList=Popup.extend({Yf:null,Nc:[],cD:null,Gn:!1,Ax:-1,z8:0,WH:null,R:null,LI:!1,xa:function(){this._super();this.l&&(this.l.Vb(!0),!this.LI&&this.l.PD&&this.l.PD(null,null))},r:function(a){this._super();this.Yf=null;this.Nc=[];this.cD=null;this.Gn=!1;this.Ax=-1;this.Yf=a.Fg;a.list&&(this.Nc=a.list);this.cD=a.name;this.l=a.l},na:function(){this._super();this.Hb()},R:null,Hb:function(){this.R&&this.R.ma.N();var a=[],c=[],d=r.ha.e();this.WH={};for(var e in this.Nc)if(a[e]=r.D.create(),a[e].W(324,
32),null==this.Nc[e])this.Nc.splice(e,1);else{if(null!=this.l){var f=r.w.hb(d.qa("GUI/use.png"));f.m(r.a(244,6));f.K(r.a(0,0))}var g=r.ca.create(r.h(0,0,0,127),316,1);g.m(r.a(4,0));var h=r.S.create(this.Nc[e].name,"Arial",20);h.K(r.a(0,0.5));h.m(r.a(0,16));var k=r.w.hb(d.qa("GUI/edit.png"));k.m(r.a(272,6));k.K(r.a(0,0));var l=r.w.hb(d.qa("GUI/trash.png"));l.m(r.a(300,6));l.K(r.a(0,0));k.tc="Edit";var m=[];m.push(k);l.tc="Delete";m.push(l);null!=this.l&&(f.tc="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);
a[e].f(k);a[e].f(l);null!=this.l&&a[e].f(f)}d=r.ca.create(r.h(70,200,70,255),90,26);e=r.S.create("+","Arial",20);e.m(45,13);e.K(r.a(0.5,0.5));d.m(r.a(120,0));d.tc="Add";d.f(e);c.push([d]);a.push(d);this.R=this.b.main_panel.list;var n=this;this.R.Nd=function(){return r.size(324,32*a.length)};this.R.Ad=function(){return a.length};this.R.we=function(c){return a[c].c()};this.R.ue=function(c){return a[c]};this.R.wc=function(a,c,d){n.Ka(d.L);if(!0!=n.Gn)switch(a){case "Delete":n.V.f(DropDownList.Md(n,n.gC,
["Cancel","Delete"],d.L));n.ib=c;break;case "Edit":n.Yf.V&&n.Yf.N();n.Gn=!0;n.Yf.r({l:n,data:n.Nc[c]});n.V.f(n.Yf);n.Vb(!1);n.Yf.na();n.Ax=c+"";break;case "Add":n.HH=!0;n.Gn=!0;n.Ax=n.Nc.length;n.Yf.r({l:n,data:null});n.Vb(!1);n.V.f(n.Yf);n.Yf.na();break;case "Use":n.l.hq(c,n.Nc[c]),n.LI=!0}};this.R.ma=ListView.create(this.R);this.R.ma.Ie(c);this.R.f(this.R.ma)},Bc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),
size:r.size(365,328),children:{list:{size:r.size(324,328),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:this.cD,fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},ib:null,gC:function(a){switch(a){case 1:null!=this.l.ib&&(this.l.YR(this.l.ib),this.l.ib=null)}},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=this.b.main_panel.Ka(a.L);return O(this.b.main_panel,
a)?!0:!1},Zc:function(a){a&&(this.Yf.gj(this.Ax),this.HH&&(this.Nc.push(a),this.Hb()));this.Vb(!0);this.Gn=this.HH=!1;var c=this;this.Dc(function(){c.Yf.xa(!0);c.Yf.N()})},YR:function(a){this.Nc.splice(a,1);this.Yf.Si(a,this.Nc);this.Hb()}});Warpeditor=null;
WarpEditor=Popup.extend({Ac:function(){return"WarpEditor"},gj:function(a){H({savewarps:a+"",warpdata:this.data})},Si:function(a,c){H({savewarpswhole:c})},Bc:function(){return{panels:{position:r.a(300,200),children:{background:{Y:"GUI/warpeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(180,160),children:{okbtn:{position:r.a(114,16),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(34,16),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,d:r.a(0,0),position:r.a(20,140),color:r.k(0,0,0)},nameEntry:{position:r.a(16,110),size:r.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,d:r.a(0,0),position:r.a(20,90),color:r.k(0,0,0)},mapNumEntry:{position:r.a(16,60),size:r.size(40,30)},mapxlbl:{label:"x",fontSize:12,d:r.a(0,0),position:r.a(80,90),color:r.k(0,0,0)},mapXEntry:{position:r.a(76,60),size:r.size(36,30)},mapylbl:{label:"y",fontSize:12,d:r.a(0,0),position:r.a(130,90),color:r.k(0,0,0)},mapYEntry:{position:r.a(126,60),size:r.size(36,
30)}}},control_panel:{d:r.a(0,0),position:r.a(0,160),size:r.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(156,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Oa:null,Tp:null,Up:null,Vp:null,l:null,data:null,r:function(a){this._super();this.l=this.Vp=this.Up=this.Tp=this.Oa=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.l=a.l},na:function(){this._super();var a=this.data.position%S,c=Math.floor(this.data.position/
S);this.Oa=new Y(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(100,100,100),r.k(255,255,255));this.Oa.sb(!0);this.Tp=new Y(this.b.main_panel.mapNumEntry,r.size(this.b.main_panel.mapNumEntry.c().width,this.b.main_panel.mapNumEntry.c().height),r.a(0,this.b.main_panel.mapNumEntry.c().height),""+this.data.mapTo,r.h(100,100,100),r.k(255,255,255));this.Tp.sb(!0);this.Up=new Y(this.b.main_panel.mapXEntry,
r.size(this.b.main_panel.mapXEntry.c().width,this.b.main_panel.mapXEntry.c().height),r.a(0,this.b.main_panel.mapXEntry.c().height),""+a,r.h(100,100,100),r.k(255,255,255));this.Up.sb(!0);this.Vp=new Y(this.b.main_panel.mapYEntry,r.size(this.b.main_panel.mapYEntry.c().width,this.b.main_panel.mapYEntry.c().height),r.a(0,this.b.main_panel.mapYEntry.c().height),""+c,r.h(100,100,100),r.k(255,255,255));this.Vp.sb(!0)},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=this.b.main_panel.Ka(a.L);if(O(this.b.main_panel.okbtn,
a)){if(null==this.Oa.U()||""==this.Oa.U()||null==this.Tp.U()||""==this.Tp.U()||null==this.Up.U()||""==this.Up.U()||null==this.Vp.U()||""==this.Vp.U())return!0;this.Ef=!0;this.data.position=T(parseInt(this.Up.U()),Pa-parseInt(this.Vp.U()));this.data.mapTo=parseInt(this.Tp.U());this.data.name=this.Oa.U();this.l.Zc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Ef=!0;var c=this.l;this.l.Dc(function(){c.Zc(null)});return!0}},xa:function(a){this._super();var c=this.l;a||this.l.Dc(function(){c.Zc(null)})}});Signeditor=null;
SignEditor=Popup.extend({Ac:function(){return"SignEditor"},gj:function(a){H({savesigns:a+"",signsdata:this.data})},Si:function(a,c){H({savesignswhole:c})},Bc:function(){return{panels:{position:r.a(300,200),children:{background:{Y:"GUI/signeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(142,256),children:{okbtn:{position:r.a(88,16),size:r.size(32,32),Y:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(22,16),size:r.size(32,32),Y:"GUI/cross_icon.png",d:r.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,d:r.a(0,0),position:r.a(6,238),color:r.k(0,0,0)},nameEntry:{position:r.a(4,206),size:r.size(120,30)},signlbl:{label:"Contents",fontSize:12,d:r.a(0,0),position:r.a(6,190),color:r.k(0,0,0)},signEntry:{position:r.a(4,60),size:r.size(120,128)}}},control_panel:{d:r.a(0,0),position:r.a(0,256),size:r.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(118,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},Oa:null,iq:null,
l:null,data:null,r:function(a){this._super();this.l=this.iq=this.Oa=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.l=a.l},na:function(){this._super();this.Oa=new Y(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(100,100,100),r.k(255,255,255));this.Oa.sb(!0);this.iq=new Y(this.b.main_panel.signEntry,r.size(this.b.main_panel.signEntry.c().width,this.b.main_panel.signEntry.c().height),
r.a(0,this.b.main_panel.signEntry.c().height),""+this.data.label,r.h(100,100,100),r.k(255,255,255),!0);this.iq.sb(!0)},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=this.b.main_panel.Ka(a.L);if(O(this.b.main_panel.okbtn,a)){if(null==this.Oa.U()||""==this.Oa.U()||null==this.iq.U()||""==this.iq.U())return!0;this.Ef=!0;this.data.label=this.iq.U();this.data.name=this.Oa.U();this.l.Zc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Ef=!0;var c=this.l;this.l.Dc(function(){c.Zc(null)});
return!0}},xa:function(a){this._super();var c=this.l;a||this.l.Dc(function(){c.Zc(null)})}});var Na=Sa.extend({ctor:function(){this._super()},KL:function(){this._super()},na:function(){this._super()},xa:function(){this._super()},jb:function(a){r.bb(this.b.health_panel.Ya(),a.L)&&x.e().nl("Game")},r:function(){var a=r.S.create("ITS WOKKIN!","Arial",16);a.n(r.k(0,0,0));a.m(r.a(200,200));this.f(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,R:null,ib:null,Ac:function(){return"Credits"},xa:function(){this._super()},r:function(){this._super();this.data={"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.",
"Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).",
"Items can now influence player stats on equip, dequip, swapped and on read."],"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],
"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.","Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.",
"Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},gj:function(a){H({savequests:a+
"",questdata:this.data})},Si:function(a,c){H({savequestswhole:c})},na:function(){this._super();this.Hb()},Hb:function(){this.R&&this.R.oc();var a=[],c=[];r.ha.e();var d=0,e;for(e in this.data){a[d]=r.D.create();a[d].W(324,32);var f=r.S.create(e,"Arial",18);f.K(r.a(0,0));f.m(r.a(4,0));f.pc(r.size(246,0));f.n(r.k(100,0,0));a[d].f(f);a[d].W(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=r.D.create();a[d].W(324,32);var h=r.ca.create(r.h(0,0,0,127),316,1);h.m(r.a(4,0));var k=r.S.create(this.data[e][g],
"Arial",15);k.n(r.k(0,0,0));k.K(r.a(0,0));k.m(r.a(4,4));k.pc(r.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].W(324,k.c().height+8);d++}}this.R=this.b.main_panel.list;this.R.Nd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.R.Ad=function(){return a.length};this.R.we=function(c){return a[c].c()};this.R.ue=function(c){return a[c]};this.R.wc=function(){};this.R.ma=ListView.create(this.R);this.R.ma.Ie(c);this.R.f(this.R.ma)},Bc:function(){return{panels:{position:r.a(300,
200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{list:{size:r.size(324,328),C:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"News",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=this.b.main_panel.Ka(a.L);
return O(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,R:null,ib:null,Ac:function(){return"Credits"},xa:function(){this._super()},r:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
gj:function(a){H({savequests:a+"",questdata:this.data})},Si:function(a,c){H({savequestswhole:c})},na:function(){this._super();this.Hb()},Hb:function(){this.R&&this.R.oc();var a=[],c=[];r.ha.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=r.D.create();a[d].W(324,32);var f=r.S.create(e,"Arial",18);f.K(r.a(0,0));f.m(r.a(4,0));f.pc(r.size(246,0));f.n(r.k(100,0,0));a[d].f(f);a[d].W(324,f.c().height+4);f=[];c.push(f);d++}a[d]=r.D.create();a[d].W(324,32);var g=r.ca.create(r.h(0,0,0,
127),316,1);g.m(r.a(4,0));if("ISSECTION"==this.data[e]){var h=r.S.create(e,"Arial",22);h.n(r.k(255,0,0))}else h=r.S.create(this.data[e],"Arial",15),h.n(r.k(0,0,0));h.K(r.a(0,0));h.m(r.a(4,4));h.pc(r.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].W(324,h.c().height+12):a[d].W(324,h.c().height+8);d++}this.R=this.b.main_panel.list;this.R.Nd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.R.Ad=function(){return a.length};this.R.we=
function(c){return a[c].c()};this.R.ue=function(c){return a[c]};this.R.wc=function(){};this.R.ma=ListView.create(this.R);this.R.ma.Ie(c);this.R.f(this.R.ma)},Bc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{list:{size:r.size(324,328),C:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Credits",
fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Y:"GUI/close.png"}}}}}}},jb:function(a){if(this._super(a))return!0;this.Rd=null;a=this.b.main_panel.Ka(a.L);return O(this.b.main_panel,a)?!0:!1}});Login=Sa.extend({bt:!1,Ql:!1,r:function(a){z=ra(z,v.yC());this._super();x.Cn(this);this.Op=this.YC=!1;this.ik=new Y(this.b.name_entry,r.size(this.b.name_entry.c().width,this.b.name_entry.c().height),r.a(0,this.b.name_entry.c().height),"Username",r.h(100,100,100),r.k(255,255,255));this.yl=new Y(this.b.password_entry,r.size(this.b.password_entry.c().width,this.b.password_entry.c().height),r.a(0,this.b.password_entry.c().height),"Password",r.h(100,100,100),r.k(255,255,255));this.yl.Fx(0);this.wD=new Y(this.b.new_user_name,
r.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),r.a(0,this.b.new_user_name.c().height),"Username",r.h(100,100,100),r.k(255,255,255));this.ux=new Y(this.b.new_user_pass,r.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),r.a(0,this.b.new_user_pass.c().height),"Password",r.h(100,100,100),r.k(255,255,255));this.ux.Fx(0);this.vD=new Y(this.b.new_user_email,r.size(this.b.new_user_email.c().width,this.b.new_user_email.c().height),r.a(0,this.b.new_user_email.c().height),
"Email Address",r.h(100,100,100),r.k(255,255,255));this.JH=!1;a&&(a.vJ?(t=[],H({logout:!0})):this.JH=!0,this.En(a.JD));this.Zb(this.bC);this.IH=!1;this.Zb(this.dE);this.KC();this.b.rem_login_text.pc(r.size(80,0));this.b.auto_login_text.pc(r.size(80,0));this.b.server_message.pc(r.size(300,0));this.b.server_message2.pc(r.size(150,0))},xl:function(a){switch(a){case "ENTER":if(this.YC){a=this.wD.U();var c=this.ux.U(),d=this.vD.U();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?
this.gg("Please use a correct email address."):(this.Op=!0,this.gg("Registering please wait..."),this.cK({name:a,password:c,email:d})):this.gg("Please fill all fields.")}else!1==this.Ql&&this.bt?(a=this.ik.U(),c=this.yl.U(),""!=a&&null!=a&&""!=c&&null!=c?(this.Ql=!0,this.gg("Logging In"),H({login:!0,username:this.ik.U(),password:this.yl.U()})):this.gg("Please enter a User and Password")):this.hx("Server is offline!")}},En:function(a){this.bt=a;!0==a?(this.b.server_activity.fa("Server: Online"),this.b.server_activity.n(r.k(0,
255,0))):(this.b.server_activity.fa("Server: Offline"),this.b.server_activity.n(r.k(255,0,0)))},bC:function(){var a=v.oT();a&&!1==this.IH&&(this.ik.Je(a.user),this.IH=!0,this.yl.Je(a.pass));!0==this.JH&&autoLoginNextTime&&!1==this.Ql&&this.bt&&(!1==this.Ql&&this.bt?(this.Ql=!0,this.gg("Logging In"),H({login:!0,username:this.ik.U(),password:this.yl.U()})):this.hx("Server is offline!"))},dE:function(){if(0<t.length)for(var a=t.length-1;0<=a;a--)reactToSocketMessage(t[a]),t.splice(a,1);autoLoginNextTime?
(v.rK(!0),this.b.auto_login.ea(r.ha.e().qa("GUI/checkbox_checked.png"))):(v.rK(!1),this.b.auto_login.ea(r.ha.e().qa("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ea(r.ha.e().qa("GUI/checkbox_checked.png")):this.b.remember_login.ea(r.ha.e().qa("GUI/checkbox_uncheck.png"))},Bc:function(){return{panels:{children:{background:{Y:"GUI/splash.png",size:r.size(960,640),d:r.a(0,0),position:r.a(0,0)},name_entry:{size:r.size(300,30),position:r.a(325,325)},password_entry:{size:r.size(300,
30),position:r.a(325,290)},new_user_name:{size:r.size(300,30),position:r.a(325,360)},new_user_pass:{size:r.size(300,30),position:r.a(325,325)},new_user_email:{size:r.size(300,30),position:r.a(325,290)},remember_login:{size:r.size(20,20),position:r.a(630,295),Y:"GUI/checkbox_uncheck.png",d:r.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:r.k(255,255,255),d:r.a(0,1),position:r.a(665,315)},auto_login:{size:r.size(20,20),position:r.a(630,330),Y:"GUI/checkbox_uncheck.png",d:r.a(0,0)},
auto_login_text:{label:"Auto login next time.",fontSize:16,color:r.k(255,255,255),d:r.a(0,0),position:r.a(665,330)},go_button:{position:r.a(325,240),size:r.size(120,40),C:r.h(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},register_button:{position:r.a(505,240),size:r.size(120,40),C:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"Register",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},new_user_back:{position:r.a(325,
240),size:r.size(120,40),C:r.h(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},new_user_confirm:{position:r.a(505,240),size:r.size(120,40),C:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},credits_button:{position:r.a(30,400),size:r.size(120,40),C:r.h(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,
20)}}},news_button:{position:r.a(30,340),size:r.size(120,40),C:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"News",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},server_message:{label:"",fontSize:16,color:r.k(255,255,255),d:r.a(0,1),position:r.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:r.k(255,255,255),d:r.a(0,1),position:r.a(175,355)},version_number:{label:z["Version Number"],fontSize:34,color:r.k(255,255,255),d:r.a(1,
1),position:r.a(710,55)},server_activity:{position:r.a(910,630),size:r.size(100,20),d:r.a(0.5,0.5),label:"Server: Offline",color:r.k(255,0,0)}}}}},gY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ea(r.ha.e().qa("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ea(r.ha.e().qa("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ea(r.ha.e().qa("GUI/checkbox_checked.png")))},hY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,
this.b.remember_login.ea(r.ha.e().qa("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ea(r.ha.e().qa("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ea(r.ha.e().qa("GUI/checkbox_checked.png")))},jb:function(a){if(null!=this.ik.U()&&this.b.go_button.ja&&r.bb(r.rect(this.b.go_button.q.F,this.b.go_button.q.I,this.b.go_button.c().width,this.b.go_button.c().height),a.L)){if(!1==this.Ql&&this.bt){a=this.ik.U();var c=this.yl.U();""!=a&&null!=a&&""!=c&&null!=
c?(this.Ql=!0,this.gg("Logging In"),H({login:!0,username:this.ik.U(),password:this.yl.U()})):this.gg("Please enter a User and Password")}else this.hx("Server is offline!");return!0}this.b.credits_button.ja&&r.bb(r.rect(this.b.credits_button.q.F,this.b.credits_button.q.I,this.b.credits_button.c().width,this.b.credits_button.c().height),a.L)&&this.Hf("/openCredits");this.b.news_button.ja&&r.bb(r.rect(this.b.news_button.q.F,this.b.news_button.q.I,this.b.news_button.c().width,this.b.news_button.c().height),
a.L)&&this.Hf("/openNews");if(this.b.register_button.ja&&r.bb(r.rect(this.b.register_button.q.F,this.b.register_button.q.I,this.b.register_button.c().width,this.b.register_button.c().height),a.L))return this.SX(),!1;if(this.b.auto_login.ja&&r.bb(r.rect(this.b.auto_login.q.F,this.b.auto_login.q.I,this.b.auto_login.c().width,this.b.auto_login.c().height),a.L))return this.gY(),!1;if(this.b.remember_login.ja&&r.bb(r.rect(this.b.remember_login.q.F,this.b.remember_login.q.I,this.b.remember_login.c().width,
this.b.remember_login.c().height),a.L))return this.hY(),!1;if(this.b.new_user_back.ja&&!1==this.Op&&r.bb(r.rect(this.b.new_user_back.q.F,this.b.new_user_back.q.I,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.L))return this.KC(),this.gg(""),!1;if(this.b.new_user_confirm.ja&&!1==this.Op&&r.bb(r.rect(this.b.new_user_confirm.q.F,this.b.new_user_confirm.q.I,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.L)){a=this.wD.U();var c=this.ux.U(),d=this.vD.U();""!=
a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.gg("Please use a correct email address."):(this.Op=!0,this.gg("Registering please wait..."),this.cK({name:a,password:c,email:d})):this.gg("Please fill all fields.");return!1}},cK:function(a){a.newUser=1;H(a)},JR:function(){this.gg("Registration successful.");this.wD.Je("Username");this.ux.Je("Password");this.vD.Je("Email Address");this.Op=!1;this.KC()},wS:function(a){this.Op=!1;switch(a){case "UserTaken":this.gg("Registration failed, user already exists.")}},
SX:function(){this.b.new_user_name.A(!0);this.b.new_user_pass.A(!0);this.b.new_user_email.A(!0);this.b.new_user_confirm.A(!0);this.b.new_user_back.A(!0);this.b.register_button.A(!1);this.b.go_button.A(!1);this.b.name_entry.wb(-1E5);this.b.password_entry.wb(-1E5);this.b.new_user_name.wb(325);this.b.new_user_pass.wb(325);this.b.new_user_email.wb(325);this.b.rem_login_text.A(!1);this.b.auto_login_text.A(!1);this.b.auto_login.A(!1);this.b.remember_login.A(!1);this.YC=!0},KC:function(){this.b.new_user_name.A(!1);
this.b.new_user_pass.A(!1);this.b.new_user_email.A(!1);this.b.new_user_confirm.A(!1);this.b.new_user_back.A(!1);this.b.register_button.A(!0);this.b.go_button.A(!0);this.b.name_entry.wb(325);this.b.password_entry.wb(325);this.b.new_user_name.wb(-1E5);this.b.new_user_pass.wb(1E5);this.b.new_user_email.wb(1E5);this.b.rem_login_text.A(!0);this.b.auto_login_text.A(!0);this.b.auto_login.A(!0);this.b.remember_login.A(!0);this.YC=!1},Hf:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.V||
(CreditsPanel=null);CreditsPanel?(CreditsPanel.xa(),CreditsPanel.N(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.r(),CreditsPanel.na(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.V||(NewsPanel=null),NewsPanel?(NewsPanel.xa(),NewsPanel.N(),NewsPanel=null):(NewsPanel=new News,NewsPanel.r(),NewsPanel.na(),this.f(NewsPanel))}},IU:function(a){rememberLoginNextTime&&v.vX(this.ik.U(),this.yl.U());this.Qc(this.bC);x.e().nl("Game",{zl:a,map:1})},hx:function(a){this.Qc(this.bC);
this.b.server_message.fa(a);this.Ql=!1},gg:function(a){this.b.server_message.fa(a)},qd:function(){},Gf:function(){},Z8:function(){x.e().nl("Game",{Ada:this.ik.U()})}});Na=null;MapMaster=!1;
var Ta=Sa.extend({oJ:!1,ctor:function(){this._super()},Bc:function(){return{panels:{children:{saving_icon:{visible:!1,position:r.a(W.width-52,4),d:r.a(0,0),size:r.size(48,48),Y:"GUI/save_icon.png"},logout_button:{position:r.a(W.width-52,W.height-52),d:r.a(0,0),size:r.size(48,48),Y:"GUI/logout.png"},quicknav_button:{position:r.a(W.width-30,Math.floor(W.height/2)-24),d:r.a(0,0),size:r.size(48,48),Y:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:r.a(W.width-52,Math.floor(W.height/2)+60),
d:r.a(0,0),size:r.size(48,48),Y:"GUI/inventory_icon.png"},equipment_button:{position:r.a(W.width-82,Math.floor(W.height/2)+4),d:r.a(0,0),size:r.size(48,48),Y:"GUI/equipment_icon.png"},skill_button:{position:r.a(W.width-82,Math.floor(W.height/2)-52),d:r.a(0,0),size:r.size(48,48),Y:"GUI/skills_icon.png"},chat_button:{position:r.a(W.width-52,Math.floor(W.height/2)-108),d:r.a(0,0),size:r.size(48,48),Y:"GUI/chat_icon.png"},quickedit_button:{position:r.a(0,Math.floor(W.height/2)-24),d:r.a(0,0),size:r.size(48,
48),Y:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:r.a(4,Math.floor(W.height/2)+116),d:r.a(0,0),size:r.size(48,48),Y:"GUI/mapeditor_icon.png"},npcedit_button:{position:r.a(34,Math.floor(W.height/2)+60),d:r.a(0,0),size:r.size(48,48),Y:"GUI/npceditor_icon.png"},itemedit_button:{position:r.a(64,Math.floor(W.height/2)+4),d:r.a(0,0),size:r.size(48,48),Y:"GUI/itemeditor_icon.png"},skilledit_button:{position:r.a(64,Math.floor(W.height/2)-52),d:r.a(0,0),size:r.size(48,48),Y:"GUI/skilleditor_icon.png"},
signedit_button:{position:r.a(34,Math.floor(W.height/2)-108),d:r.a(0,0),size:r.size(48,48),Y:"GUI/signeditor_icon.png"},warpedit_button:{position:r.a(4,Math.floor(W.height/2)-164),d:r.a(0,0),size:r.size(48,48),Y:"GUI/warpeditor_icon.png"},scriptedit_button:{position:r.a(90,Math.floor(W.height/2)-108),d:r.a(0,0),size:r.size(48,48),Y:"GUI/scripteditor_icon.png"},settings_button:{position:r.a(4,Math.floor(W.height/2)-220),d:r.a(0,0),size:r.size(48,48),Y:"GUI/settings_icon.png"},bankedit_button:{position:r.a(90,
Math.floor(W.height/2)+60),d:r.a(0,0),size:r.size(48,48),Y:"GUI/bankeditor_icon.png"},shopedit_button:{position:r.a(120,Math.floor(W.height/2)+4),d:r.a(0,0),size:r.size(48,48),Y:"GUI/shopeditor_icon.png"},questedit_button:{position:r.a(120,Math.floor(W.height/2)-52),d:r.a(0,0),size:r.size(48,48),Y:"GUI/questeditor_icon.png"}}}}},lJ:!1,jJ:!1,En:function(a){!1==a&&(this.iC(),x.e().nl("Login",{JD:!1}))},iC:function(){F.yd();F.dt();null!=Equipment&&(Equipment.xa(),Equipment.N(),Equipment=null);null!=
Inventory&&(Inventory.xa(),Inventory.N(),Inventory=null);null!=Skills&&(Skills.xa(),Skills.N(),Skills=null);SkillBarsInstance.N();A.yd();A.dt();C.yd();C.dt()},jb:function(a){if(r.bb(r.rect(this.b.logout_button.q.F,this.b.logout_button.q.I,this.b.logout_button.c().width,this.b.logout_button.c().height),a.L))return this.iC(),x.e().nl("Login",{vJ:!0,JD:!0}),!0;x.Cn(this);if(r.bb(this.b.chat_button.Ya(),a.L)&&this.b.chat_button.ja)return this.xl("C"),!0;if(r.bb(this.b.inventory_button.Ya(),a.L)&&this.b.inventory_button.ja)return this.xl("I"),
!0;if(r.bb(this.b.equipment_button.Ya(),a.L)&&this.b.equipment_button.ja)return this.xl("E"),!0;if(r.bb(this.b.skill_button.Ya(),a.L)&&this.b.skill_button.ja)return this.xl("S"),!0;if(this.b.quickedit_button.ja&&r.bb(this.b.quickedit_button.Ya(),a.L)&&this.b.quickedit_button.ja)return this.hL(!this.jJ),!0;if(r.bb(this.b.quicknav_button.Ya(),a.L)&&this.b.quicknav_button.ja)return this.iL(!this.lJ),!0;if(r.bb(this.b.mapedit_button.Ya(),a.L)&&this.b.mapedit_button.ja)return this.Hf("/editmap"),!0;if(r.bb(this.b.npcedit_button.Ya(),
a.L)&&this.b.npcedit_button.ja)return this.Hf("/editnpc"),!0;if(r.bb(this.b.itemedit_button.Ya(),a.L)&&this.b.itemedit_button.ja)return this.Hf("/edititem"),!0;if(r.bb(this.b.skilledit_button.Ya(),a.L)&&this.b.skilledit_button.ja)return this.Hf("/editskill"),!0;if(r.bb(this.b.signedit_button.Ya(),a.L)&&this.b.signedit_button.ja)return this.Hf("/editsign"),!0;if(r.bb(this.b.scriptedit_button.Ya(),a.L)&&this.b.scriptedit_button.ja)return this.Hf("/editscript"),!0;if(r.bb(this.b.warpedit_button.Ya(),
a.L)&&this.b.warpedit_button.ja)return this.Hf("/editwarp"),!0;if(r.bb(this.b.settings_button.Ya(),a.L)&&this.b.settings_button.ja)return this.Hf("/editsettings"),!0;if(r.bb(this.b.shopedit_button.Ya(),a.L)&&this.b.shopedit_button.ja)return this.Hf("/editshop"),!0;if(r.bb(this.b.questedit_button.Ya(),a.L)&&this.b.questedit_button.ja)return this.Hf("/editquest"),!0;if(r.bb(this.b.bankedit_button.Ya(),a.L)&&this.b.bankedit_button.ja)return this.Hf("/editbank"),!0},jL:function(a){null==Sign||Sign.V||
(Sign=null);Sign?(Sign.xa(),Sign.N(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.na(),this.f(Sign))},PX:function(a,c){null==Book||Book.V||(Book=null);Book?(Book.xa(),Book.N(),Book=null):(Book=new BookPanel,Book.r(a,c),Book.na(),this.f(Book))},RX:function(a,c){null==NpcChat||NpcChat.V||(NpcChat=null);NpcChat?(NpcChat.xa(),NpcChat.N(),NpcChat=null):(NpcChat=new NpcChatPanel,NpcChat.r(a,c),NpcChat.na(),this.f(NpcChat))},Gf:function(){},xl:function(a){switch(a){case "C":C.lU()?C.SI():C.show();break;
case "ENTER":C.XC()||C.LD(!0);break;case "SPACE":A.v.ba.fU();Inventory&&Inventory.Wb();break;case "CTRL":A.v.ba.eU();break;case "ESC":this.iC();x.e().nl("Login",{vJ:!0,JD:!0});break;case "I":null==Inventory||Inventory.V||(Inventory=null);Inventory?(Inventory.xa(),Inventory.N(),Inventory=null):(Inventory=new InventoryPanel,Inventory.r(),Inventory.na(),this.f(Inventory));break;case "E":null==Equipment||Equipment.V||(Equipment=null);Equipment?(Equipment.xa(),Equipment.N(),Equipment=null):(Equipment=
new EquipmentPanel,Equipment.r(),Equipment.na(),this.f(Equipment));break;case "S":null==Skills||Skills.V||(Skills=null),Skills?(Skills.xa(),Skills.N(),Skills=null):(Skills=new SkillsPanel,Skills.r(),Skills.na(),this.f(Skills))}},hD:function(a){var c=A.v.ba.te();A.v.ba.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":A.v.ba.nq(c.x+1,c.y);break;case "LEFTARROW":A.v.ba.nq(c.x-1,c.y);break;case "UPARROW":A.v.ba.nq(c.x,c.y+1);break;case "DOWNARROW":A.v.ba.nq(c.x,c.y-1)}},iL:function(a){this.lJ=
a;this.b.chat_button.A(a);this.b.inventory_button.A(a);this.b.equipment_button.A(a);this.b.skill_button.A(a);this.b.quicknav_button.ea(r.ha.e().qa(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},hL:function(a){this.jJ=a;this.b.mapedit_button.A(a);this.b.npcedit_button.A(a);this.b.itemedit_button.A(a);this.b.skilledit_button.A(a);this.b.signedit_button.A(a);this.b.scriptedit_button.A(a);this.b.warpedit_button.A(a);this.b.settings_button.A(a);this.b.shopedit_button.A(a);this.b.bankedit_button.A(a);
this.b.questedit_button.A(a);this.b.quickedit_button.ea(r.ha.e().qa(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Hf:function(a){if(a){if(1<A.v.ba.np)switch(a){case "/editscript":null==Scripteditor||Scripteditor.V||(Scripteditor=null);Scripteditor?(Scripteditor.xa(),Scripteditor.N(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({l:null,Fg:new ScriptEditor,list:ObjectLists.Wi(),name:"Script List"}),Scripteditor.na(),this.f(Scripteditor));break;case "/editmap":null==
Mapeditor||Mapeditor.V||(Mapeditor=null);Mapeditor?(Mapeditor.xa(),Mapeditor.N(),Mapeditor=null,F.et(null)):(Mapeditor=new MapEditor,Mapeditor.r(),Mapeditor.na(),this.f(Mapeditor),F.et(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.V||(Settingseditor=null);Settingseditor?(Settingseditor.xa(),Settingseditor.N(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.r(),Settingseditor.na(),this.f(Settingseditor));break;case "/editwarp":null==Warpeditor||
Warpeditor.V||(Warpeditor=null);Warpeditor?(Warpeditor.xa(),Warpeditor.N(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({l:null,Fg:new WarpEditor,list:ObjectLists.bn(),name:"Warp List"}),Warpeditor.na(),this.f(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.V||(Signeditor=null);Signeditor?(Signeditor.xa(),Signeditor.N(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({l:null,Fg:new SignEditor,list:ObjectLists.Es(),name:"Sign List"}),Signeditor.na(),this.f(Signeditor));
break;case "/editskill":null==Skillseditor||Skillseditor.V||(Skillseditor=null);Skillseditor?(Skillseditor.xa(),Skillseditor.N(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.r({l:null,Fg:new SkillsEditor,list:ObjectLists.Xi(),name:"Skills List"}),Skillseditor.na(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.V||(Itemeditor=null);Itemeditor?(Itemeditor.xa(),Itemeditor.N(),Itemeditor=null,F.et(null)):(Itemeditor=new PopupList,Itemeditor.r({l:null,Fg:new ItemEditor,
list:ObjectLists.Bf(),name:"Item List"}),Itemeditor.na(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.V||(NPCeditor=null);NPCeditor?(NPCeditor.xa(),NPCeditor.N(),NPCeditor=null,F.et(null)):(NPCeditor=new PopupList,NPCeditor.r({l:null,Fg:new NPCEditor,list:ObjectLists.ml(),name:"NPC List"}),NPCeditor.na(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.V||(Questeditor=null),Questeditor?(Questeditor.xa(),Questeditor.N(),Questeditor=null,F.et(null)):
(Questeditor=new PopupList,Questeditor.r({l:null,Fg:new QuestEditor,list:ObjectLists.Cs(),name:"Quest List"}),Questeditor.na(),this.f(Questeditor))}switch(a){case "/help":C.showHelp();break;case "/commands":C.QX();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=z["/diceroll"],c=c.replace("\x3cPLAYER\x3e",A.v.ba.getName()),c=c.replace("\x3cVALUE\x3e",a);C.Mb(c);H({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=z["/coinflip"];c=c.replace("\x3cPLAYER\x3e",
A.v.ba.getName());c=c.replace("\x3cVALUE\x3e",a);C.Mb(c);H({coinflip:c});break;case "/dance":a=z["/dance"];a=a.replace("\x3cPLAYER\x3e",A.v.ba.getName());C.Mb(a);H({dance:a});break;case "/afk":A.v.ba.updateStatus("AFK"),H({afk:!0})}}},r:function(a){this._super();Na=this;this.f(F.create());ObjectLists.e();A.create({name:a.zl.name,aj:!0,Hn:{health:{Oc:1,value:100,bg:200,ag:900},mana:{Oc:1,value:100,bg:200,ag:99}},map:a.zl.location.mapnumber,position:a.zl.location.position,mt:"sprites1.png",kt:1,np:a.zl.rank,
eJ:a.zl.inventory,iI:a.zl.equipment});F.aR();this.b.N();this.gq(-20);H({moveTo:A.v.ba.te().x+A.v.ba.te().y*S});this.f(C.create());console.log(a.zl);this.f(G.create(a.zl.skills));this.iL(!1);this.hL(!1);this.KX();this.f(this.b);this.Zb(this.dE);this.Zb(this.rW);this.Zb(this.kW,120)},kW:function(){var a={saveUser:!0,name:A.v.ba.getName(),location:{mapnumber:F.pd(),position:A.v.ba.te().x+A.v.ba.te().y*S},inventory:A.v.ba.ll(),equipment:A.v.ba.Ap(),skills:[],clan:"",guilds:[],quests:[],friends:[],pets:[],
pmessages:[],lastchats:[],health:100};this.b.saving_icon.A(!0);this.oJ=!0;H(a);console.log("SAVING NOW!")},BS:function(){this.b.saving_icon.A(!1);this.oJ=!1},KX:function(){1==A.v.ba.np&&this.b.quickedit_button.A(!1)},dE:function(){if(0<t.length)for(var a=0;a<t.length;a++){var c=JSON.parse(t[a]);c.moveTo&&(!A.ci(c.id)||A.ci(c.id)&&!1==A.ci(c.id).Mg)?(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1))}},rW:function(){if(!0==MapMaster){var a=
A.SM(),c;for(c in a)if(!1==a[c].nx){var d=10*Math.random()+1,e=a[c].te();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].rX(e,d)}}}});var Ua=r.Da.extend({vc:null,G3:!1,LD:function(a){a?this.vc.ab.focus():this.vc.ab.blur()},XC:function(){return document.activeElement==this.vc.ab},fa:function(a){this.vc.Je(a)},AC:function(){return this.vc.U()},r:function(){r.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.vc=r.uq.create(r.size(c.width,c.height),r.pf.create(),h);this.vc.Je(e);this.vc.XR=e;this.vc.SW(r.k(g.p,g.o,g.g));this.vc.sK(r.k(f.p,f.o,f.g));this.vc.m(r.a(d.x,d.y));this.vc.K(0,1);this.vc.zh(this);
a.f(this.vc);this.r()}});var Va=Ua.extend({Jw:function(a){a.Je("")},Kw:function(a,c){c||("/"==a.U().substring(0,1)?this.hW(a.U()):0<a.U().length&&C.Mb(a.U(),!0));a.Je(z["Default ChatBar Message"])},hW:function(a){x.e().od.Hf(a)},Lw:function(a,c){a.Je(c);r.log("chatBox "+this.gG(a)+", TextChanged, text: "+c)},gG:function(){return"chatbox"}}),X=null,C=r.Rc.extend({ak:null,r:function(){this.ak=new Va(this.b.chat_panel,r.size(this.b.chat_panel.c().width-4,25),r.a(2,this.b.chat_panel.c().height-2),z["Default ChatBar Message"],
r.k(255,255,255),r.k(0,0,0));this.ak.vc.V.ad(this.ak.vc.q.I+59)},zH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].AC());this.b.chat_panel.label0.fa(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].fa(c[d-1])},Bc:function(){return{panels:{children:{chat_panel:{size:r.size(400,150),Y:"GUI/chat.png",d:r.a(0,0),opacity:200,position:r.a(0,-200),children:{label7:{label:"",position:r.a(5,0),d:r.a(0,0),color:r.k(0,0,0)},label6:{label:"",position:r.a(5,15),d:r.a(0,0),color:r.k(0,
0,0)},label5:{label:"",position:r.a(5,30),d:r.a(0,0),color:r.k(0,0,0)},label4:{label:"",position:r.a(5,45),d:r.a(0,0),color:r.k(0,0,0)},label3:{label:"",position:r.a(5,60),d:r.a(0,0),color:r.k(0,0,0)},label2:{label:"",position:r.a(5,75),d:r.a(0,0),color:r.k(0,0,0)},label1:{label:"",position:r.a(5,90),d:r.a(0,0),color:r.k(0,0,0)},label0:{label:"",position:r.a(5,105),d:r.a(0,0),color:r.k(0,0,0)}}}}}}}});C.create=function(){X||(X=new C,X.b=Ha(X),X.f(X.b),X.r(),C.SI(),C.UX());return X};C.e=function(){return X};
C.Mb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(H({chatMessage:a}),X.zH(A.v.ba.getName()+": "+a)):X.zH(a)};C.show=function(){X.ak.vc.V.ad(0)};C.SI=function(){X.ak.vc.V.ad(-X.ak.vc.q.I+59)};C.lU=function(){return 0!=X.ak.vc.V.q.I?!1:!0};C.LD=function(a){X.ak.LD(a)};C.XC=function(){return X.ak.XC()};C.showHelp=function(){C.Mb(I.se.KT);C.Mb(I.se.LT);C.Mb(I.se.MT);C.Mb(I.se.NT);C.Mb(I.se.OT)};C.QX=function(){C.Mb(I.se.FR);C.Mb(I.se.GR);C.Mb(I.se.HR);C.Mb(I.se.IR)};C.UX=function(){C.Mb(z["Welcome Message"])};
C.yd=function(){X.b.N();X.b=null};C.dt=function(){X.N();X=null};var Y=Ua.extend({Ip:!1,DJ:!1,$H:!1,WC:!1,Jw:function(a){!1==this.$H&&a.Je("");this.WC=!0},Fx:function(a){this.vc.Fx(a)},W7:function(){return this.WC},Kw:function(a){this.WC=!1;null==a.U()||""==a.U().length&&this.DJ?this.Ip=!0:0<!a.U().length?(a.Je(this.vc.XR),this.Ip=!1):this.Ip=!0},Lw:function(a,c){a.Je(c);this.Ip=!0},gG:function(){return"name_entry"},U:function(){return!0==this.Ip||!0==this.WR?this.vc.U():null},Je:function(a){this.vc.Je(a);this.Ip=!0},sb:function(a){this.WR=a},Dd:function(a){this.DJ=
a},BK:function(a){this.$H=a},r:function(){}});var x=r.Rc.extend({v:null,WB:null,od:null,xH:null,r:function(){var a=r.sa.e().Pw();this.WB=r.ca.create(r.h(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.WB.K(r.a(0,0));this.f(this.WB);v.e()&&ta?(z=ra(z,v.yC()),this.nl("Login",{}),this.Zb(this.NH),autoLoginNextTime=v.hJ(),rememberLoginNextTime=v.nJ()):this.Zb(this.TI)},TI:function(){v.e()&&ta&&(this.Qc(this.TI),z=ra(z,v.yC()),this.nl("Login",{}),this.Zb(this.NH),autoLoginNextTime=v.hJ(),rememberLoginNextTime=v.nJ())},NH:function(){for(var a in va)if(!0==
va[a]&&null!=this.od){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;
case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.od.hD(c)}},nl:function(a,c){null!=this.od&&(this.od.xa(),this.od.N(),this.od=null);switch(a){case "Login":this.od=new Login;break;case "Game":this.od=new Ta}this.od.KL();this.f(this.od,1);this.od.VW(a);this.od.na();this.od.r(c)},s4:function(){return this.od.Ac()}});x.e=function(){null==this.v&&(this.v=new x);return this.v};x.Cn=function(a){null==this.v&&(this.v=new x);this.v.xH=a};
x.DS=function(){null==this.v&&(this.v=new x);return this.v.xH};var W;
new (r.oj.extend({Cw:document.ccConfig,ctor:function(){this._super();r.At=this.Cw.COCOS2D_DEBUG;r.QT();r.Il(this.Cw.tag);r.my.OX().eS()},iR:function(){var a=this.Cw,c=r.Z.e(),d=r.sa.e();W=d.Pw();r.size(W.width,W.height);var e=r.size(W.width,W.height),f=r.Gd.e();r.oj.e();f.SK(["res/Graphics"]);r.Bh&&r.Bh.e().Hba("res/Audio");c.HW(1);d.KD(e.width,e.height,r.Xn.SHOW_ALL);c.ct(1/a.frameRate);a.test?r.test(a.test):(r.log("++++++++++++++++entry for game++++++++++++"),r.wU(function(a){r.Ky.pD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=x.e();r.Z.e().hK(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap