var b,ba={c2:"GUI/bankeditor_icon.png",e2:"GUI/book.png",h2:"GUI/btnDown.png",i2:"GUI/btnLeft.png",j2:"GUI/btnRight.png",k2:"GUI/btnUp.png",C2:"GUI/chat.png",B2:"GUI/chat_icon.png",D2:"GUI/close.png",O2:"GUI/cross_icon.png",T2:"GUI/defaultitem.png",j3:"GUI/edit.png",k3:"GUI/editor-tab.png",n3:"GUI/equipment.png",m3:"GUI/equipment_icon.png",o3:"GUI/event_panel.png",u7:"GUI/healthbar.png",N7:"GUI/inventory.png",M7:"GUI/inventory_icon.png",C8:"GUI/itemeditor_bg.png",D8:"GUI/itemeditor_icon.png",E8:"GUI/itemeditor_tab1_bg.png",
F8:"GUI/itemeditor_tab2_bg.png",G8:"GUI/itemeditor_tab3_bg.png",U8:"GUI/list_panel.png",c9:"GUI/logout.png",g9:"GUI/mapeditor_icon.png",m9:"GUI/npceditor_icon.png",s$:"GUI/questeditor_icon.png",t$:"GUI/quickedit_closed_icon.png",u$:"GUI/quickedit_opened_icon.png",v$:"GUI/quickmenu_closed_icon.png",w$:"GUI/quickmenu_opened_icon.png",faa:"GUI/scripteditor_icon.png",rca:"GUI/settings_icon.png",sca:"GUI/shopeditor_icon.png",vca:"GUI/signeditor_bg.png",wca:"GUI/signeditor_icon.png",xca:"GUI/signpost.png",
yca:"GUI/skilleditor_icon.png",Aca:"GUI/skills.png",zca:"GUI/skills_icon.png",Cca:"GUI/splash.png",cda:"GUI/texture_change_left.png",dda:"GUI/texture_change_middle.png",eda:"GUI/texture_change_right.png",fda:"GUI/tick_icon.png",oda:"GUI/trash.png",xda:"GUI/use.png",Gda:"GUI/warpeditor_bg.png",Hda:"GUI/warpeditor_icon.png",l2:"building1.png",A2:"character_graphics.txt",H8:"items1.png",Dca:"sprites1.png",gda:"tile_graphics.txt",hda:"tiles1.png"};var r=r||{},ca={};r.BU=function(a){var c=r.KD[ca.YJ.vF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ca={YJ:{vF:"_0"}};r.KD={};r.KD[ca.YJ.vF]=[];r.KD.rR=[];var io="undefined"===typeof module?{}:module.wc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,Hn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.cq(1<g.path.length?g.path:"")}})("object"===typeof module?module.wc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,u=g.length;h<u;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.wc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Mf||(this.Mf={});this.Mf[a]?d.util.isArray(this.Mf[a])?this.Mf[a].push(c):this.Mf[a]=[this.Mf[a],c]:this.Mf[a]=c;return this};e.prototype.$U=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.lx=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Mf&&this.Mf[a]){var e=this.Mf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].lx&&e[l].lx===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Mf[a]}else(e===c||e.lx&&e.lx===c)&&delete this.Mf[a]}return this};e.prototype.Cp=function(a){if(!this.Mf)return!1;var c=this.Mf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=p[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,p=m,R,U=c[a];U instanceof Date&&(U=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(U=q.call(c,a,U));switch(typeof U){case "string":return f(U);
case "number":return isFinite(U)?String(U):"null";case "boolean":case "null":return String(U);case "object":if(!U)return"null";m+=n;R=[];if("[object Array]"===Object.prototype.toString.apply(U)){l=U.length;for(d=0;d<l;d+=1)R[d]=g(d,U)||"null";k=0===R.length?"[]":m?"[\n"+m+R.join(",\n"+m)+"\n"+p+"]":"["+R.join(",")+"]";m=p;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,U))&&R.push(f(h)+(m?": ":":")+k));else for(h in U)Object.prototype.hasOwnProperty.call(U,
h)&&(k=g(h,U))&&R.push(f(h)+(m?": ":":")+k);k=0===R.length?"{}":m?"{\n"+m+R.join(",\n"+m)+"\n"+p+"}":"{"+R.join(",")+"}";m=p;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,p={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.wc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Rw||"",m=a.wp,z=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)z=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(z=a.data);break;case "event":z=
{name:a.name};a.cf&&a.cf.length&&(z.cf=a.cf);z=k.stringify(z);break;case "json":z=k.stringify(a.data);break;case "connect":a.ZJ&&(z=a.ZJ);break;case "ack":z=a.yp+(a.cf&&a.cf.length?"+"+k.stringify(a.cf):"")}c=[c,d+("data"==m?"+":""),e];null!==z&&void 0!==z&&c.push(z);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Rw:c[4]||""};d&&(e.id=d,e.wp=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.cf=l.cf}catch(z){}e.cf=e.cf||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.ZJ=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.yp=c[1],e.cf=[],c[3])try{e.cf=c[3]?k.parse(c[3]):
[]}catch(C){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d){function e(a,c){this.zb=a;this.xW=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.XI=function(){return!0};e.prototype.Zs=function(a){this.jC();
(this.zb.uh||this.zb.Hg||this.zb.yn)&&this.AK();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.$s(a[c])};e.prototype.$s=function(a){this.zb.KK();if("heartbeat"==a.type)return this.MU();"connect"==a.type&&""==a.Rw&&this.nD();"error"==a.type&&"reconnect"==a.advice&&(this.Qs=!1);this.zb.$s(a);return this};e.prototype.AK=function(){if(!this.Ap){var a=this;this.Ap=setTimeout(function(){a.sn()},this.zb.Ap)}};e.prototype.sn=function(){this.Qs&&this.close();this.kC();
this.zb.sn();return this};e.prototype.nD=function(){this.zb.nD();return this};e.prototype.jC=function(){this.Ap&&(clearTimeout(this.Ap),this.Ap=null)};e.prototype.kC=function(){this.jC();this.cW&&clearTimeout(this.cW)};e.prototype.gg=function(a){this.send(d.parser.encodePacket(a))};e.prototype.MU=function(){this.gg({type:"heartbeat"})};e.prototype.ox=function(){this.Qs=!0;this.jC();this.zb.ox()};e.prototype.ki=function(){this.Qs=!1;this.zb.ki();this.sn()};e.prototype.bt=function(){var a=this.zb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.Bx+"/"+d.protocol+"/"+this.name+"/"+this.xW};e.prototype.ux=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d,e){function f(a){this.options={port:80,Hn:!1,document:"document"in e?document:!1,Bx:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.yn=this.Hg=this.open=this.uh=!1;this.namespaces={};this.buffer=[];this.sC=!1;if(this.options["sync disconnect on unload"]&&(!this.Vp()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.kS()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.cq=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].gg({type:"connect"}));return this.namespaces[a]};f.prototype.El=function(){this.Cp.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.cq(c),a.wk.apply(a,arguments))};f.prototype.JT=function(a){function c(d){d instanceof Error?(e.Hg=!1,e.tn(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.Hn?"s":"")+":/",f.host+":"+f.port,f.Bx,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Vp()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],p=document.createElement("script");p.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(p,n);d.j.push(function(a){c(a);p.parentNode.removeChild(p)})}else{var q=d.util.request();q.open("GET",f,!0);this.Vp()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.tn(q.responseText):(e.Hg=!1,
!e.yn&&e.tn(q.responseText)))};q.send(null)}};f.prototype.NI=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].an(this)&&(!this.Vp()||d.Transport[e].At(this)))return new d.Transport[e](this,this.rK);return null};f.prototype.connect=function(a){if(this.Hg)return this;var c=this;c.Hg=!0;this.JT(function(e,f,g,p){function q(a){c.of&&c.of.kC();c.of=c.NI(a);c.of?c.of.ux(c,function(){c.Hg=!0;c.El("connecting",c.of.name);c.of.open();c.options["connect timeout"]&&
(c.PR=setTimeout(function(){if(!c.uh&&(c.Hg=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.of.name;);a.length?q(a):c.El("connect_failed")}},c.options["connect timeout"]))}):c.El("connect_failed")}c.rK=e;c.Ap=1E3*g;c.OT=1E3*f;c.transports||(c.transports=c.aV=p?d.util.intersect(p.split(","),c.options.transports):c.options.transports);c.KK();q(c.transports);c.$U(function(){clearTimeout(c.PR);a&&"function"==typeof a&&a()})});return this};f.prototype.KK=
function(){clearTimeout(this.WI);if(!this.of||this.of.XI()){var a=this;this.WI=setTimeout(function(){a.of.ki()},this.OT)}};f.prototype.gg=function(a){this.uh&&!this.sC?this.of.gg(a):this.buffer.push(a);return this};f.prototype.ok=function(a){this.sC=a;!a&&this.uh&&this.buffer.length&&(this.options.manualFlush||this.CS())};f.prototype.CS=function(){this.of.SJ(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.uh||this.Hg)this.open&&this.cq("").gg({type:"disconnect"}),this.sn("booted");
return this};f.prototype.kS=function(){var a=d.util.request();a.open("GET",["http"+(this.options.Hn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.Bx,d.protocol,"",this.rK].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.sn("booted")};f.prototype.Vp=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.nD=function(){this.uh||(this.uh=!0,this.Hg=!1,this.sC||this.ok(!1),this.Cp("connect"))};
f.prototype.ox=function(){this.open=!0};f.prototype.ki=function(){this.open=!1;clearTimeout(this.WI)};f.prototype.$s=function(a){this.cq(a.Rw).$s(a)};f.prototype.tn=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.uh||this.Hg)&&(this.disconnect(),this.options.vx&&this.vx());this.El("error",a&&a.reason?a.reason:a)};f.prototype.sn=function(a){var c=this.uh,d=this.Hg;this.open=this.Hg=this.uh=!1;if(c||d)this.of.close(),this.of.kC(),c&&(this.El("disconnect",a),"booted"!=a&&this.options.vx&&!this.yn&&
this.vx())};f.prototype.vx=function(){function a(){if(d.uh){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].gg({type:"connect"});d.El("reconnect",d.of.name,d.wx)}clearTimeout(d.xx);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.yn=!1;delete d.wx;delete d.zn;delete d.xx;delete d.dK;d.options["try multiple transports"]=f}function c(){if(d.yn){if(d.uh)return a();if(d.Hg&&d.yn)return d.xx=setTimeout(c,1E3);d.wx++>=e?d.dK?(d.El("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.aV,d.of=d.NI(),d.dK=!0,d.connect()):(d.zn<g&&(d.zn*=2),d.connect(),d.El("reconnecting",d.zn,d.wx),d.xx=setTimeout(c,d.zn))}}this.yn=!0;this.wx=0;this.zn=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.xx=setTimeout(c,this.zn);this.on("connect",c)}})("undefined"!=
typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc,this);(function(a,d){function e(a,c){this.zb=a;this.name=c||"";this.Uw={};this.sU=new f(this,"json");this.BH=0;this.ws={}}function f(a,c){this.bq=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.wk=d.EventEmitter.prototype.Cp;e.prototype.cq=function(){return this.zb.cq.apply(this.zb,arguments)};e.prototype.gg=function(a){a.Rw=this.name;this.zb.gg(a);this.Uw={};return this};e.prototype.send=function(a,c){var d=
{type:this.Uw.sU?"json":"message",data:a};"function"==typeof c&&(d.id=++this.BH,d.wp=!0,this.ws[d.id]=c);return this.gg(d)};e.prototype.Cp=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.BH,e.wp="data",this.ws[e.id]=d,c=c.slice(0,c.length-1));e.cf=c;return this.gg(e)};e.prototype.disconnect=function(){""===this.name?this.zb.disconnect():(this.gg({type:"disconnect"}),this.wk("disconnect"));return this};e.prototype.$s=
function(a){function c(){e.gg({type:"ack",cf:d.util.toArray(arguments),yp:a.id})}var e=this;switch(a.type){case "connect":this.wk("connect");break;case "disconnect":""===this.name?this.zb.sn(a.reason||"booted"):this.wk("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.wp?f.push(c):a.wp&&this.gg({type:"ack",yp:a.id});this.wk.apply(this,f);break;case "event":f=[a.name].concat(a.cf);"data"==a.wp&&f.push(c);this.wk.apply(this,f);break;case "ack":this.ws[a.yp]&&
(this.ws[a.yp].apply(this,a.cf),delete this.ws[a.yp]);break;case "error":a.advice?this.zb.tn(a):"unauthorized"==a.reason?this.wk("connect_failed",a.reason):this.wk("error",a.reason)}};f.prototype.send=function(){this.bq.Uw[this.name]=!0;this.bq.send.apply(this.bq,arguments)};f.prototype.Cp=function(){this.bq.Uw[this.name]=!0;this.bq.Cp.apply(this.bq,arguments)}})("undefined"!=typeof io?io:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Wg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.zb.options.query),c=this,f;f||(f=e.k_||e.EN);this.Wg=new f(this.bt()+a);this.Wg.onopen=function(){c.ox();c.zb.ok(!1)};this.Wg.onmessage=function(a){c.Zs(a.data)};this.Wg.onclose=function(){c.ki();c.zb.ok(!0)};this.Wg.onerror=function(a){c.tn(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Wg.send(a)},0);return this}:function(a){this.Wg.send(a);
return this};f.prototype.SJ=function(a){for(var c=0,d=a.length;c<d;c++)this.gg(a[c]);return this};f.prototype.close=function(){this.Wg.close();return this};f.prototype.tn=function(a){this.zb.tn(a)};f.prototype.scheme=function(){return this.zb.options.Hn?"wss":"ws"};f.an=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.At=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc,
this);(function(c,d){function e(){d.Transport.Wg.apply(this,arguments)}c.H3=e;d.util.inherit(e,d.Transport.Wg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Nu(function(){d.Transport.Wg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Nu(function(){d.Transport.Wg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Oq.length=0;d.Transport.Wg.prototype.close.call(this);return this};
e.prototype.ux=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.Hn?"s":"")+":/",d.host+":"+d.port,d.Bx,"static/flashsocket","WebSocketMain"+(a.Vp()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.AU("xmlsocket://"+d.host+":"+h),WebSocket.wz(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.an=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.OS().FU:!1};e.At=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc);if("undefined"!=typeof window)var a=function(){function c(){if(!la){try{var a=L.getElementsByTagName("body")[0].appendChild(L.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}la=!0;for(var a=va.length,d=0;d<a;d++)va[d]()}}function d(a){la?
a():va[va.length]=a}function e(a){if(typeof aa.addEventListener!=M)aa.addEventListener("load",a,!1);else if(typeof L.addEventListener!=M)L.addEventListener("load",a,!1);else if(typeof aa.attachEvent!=M)x(aa,a);else if("function"==typeof aa.onload){var c=aa.onload;aa.onload=function(){c();a()}}else aa.onload=a}function f(){var a=L.getElementsByTagName("body")[0],c=L.createElement(R);c.setAttribute("type",U);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=M){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),F.fq=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ia.length;if(0<a)for(var c=0;c<a;c++){var d=ia[c].id,e=ia[c].uR,f={Pn:!1,id:d};if(0<F.fq[0]){var g=u(d);if(g)if(!z(ia[c].jY)||F.vk&&312>F.vk)if(ia[c].pI&&k()){f={};f.data=ia[c].pI;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.Jca=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),p=g.length,q=0;q<p;q++)"movie"!=g[q].getAttribute("name").toLowerCase()&&(n[g[q].getAttribute("name")]=g[q].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else C(d,!0),e&&(f.Pn=!0,f.eK=h(d),e(f))}else C(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=M&&(f.Pn=!0,f.eK=d),e(f))}}function h(a){var c=null;(a=u(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=M?c=a:(a=a.getElementsByTagName(R)[0])&&
(c=a));return c}function k(){return!wa&&z("6.0.65")&&(F.Fh||F.CJ)&&!(F.vk&&312>F.vk)}function l(a,c,d,e){wa=!0;Ca=e||null;Ja={Pn:!1,id:d};var f=u(d);if(f){"OBJECT"==f.nodeName?(ra=n(f),xa=null):(ra=f,xa=d);a.id=oa;if(typeof a.width==M||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==M||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";L.title=L.title.slice(0,47)+" - Flash Player Installation";e=F.zh&&F.Fh?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
aa.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+L.title;c.As=typeof c.As!=M?c.As+("\x26"+e):e;F.zh&&F.Fh&&4!=f.readyState&&(e=L.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());p(a,c,d)}}function m(a){if(F.zh&&F.Fh&&4!=a.readyState){var c=L.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=L.createElement("div");if(F.Fh&&F.zh)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(R)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function p(a,c,d){var e,f=u(d);if(F.vk&&312>F.vk)return e;if(f)if(typeof a.id==
M&&(a.id=d),F.zh&&F.Fh){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.l9=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";ya[ya.length]=a.id;e=u(a.id)}else{k=L.createElement(R);k.setAttribute("type",
U);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=L.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=u(a);c&&"OBJECT"==c.nodeName&&(F.zh&&F.Fh?(c.style.display="none",function(){if(4==c.readyState){var d=u(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function u(a){var c=null;try{c=L.getElementById(a)}catch(d){}return c}function x(a,c){a.attachEvent("onload",c);pa[pa.length]=[a,"onload",c]}function z(a){var c=F.fq;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!F.zh||!F.CJ){var f=L.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Da=ga=null),ga&&Da==d||(e=L.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ga=f.appendChild(e),F.zh&&F.Fh&&typeof L.styleSheets!=M&&0<L.styleSheets.length&&(ga=L.styleSheets[L.styleSheets.length-1]),Da=d),F.zh&&F.Fh?ga&&typeof ga.addRule==R&&ga.addRule(a,c):ga&&typeof L.createTextNode!=M&&ga.appendChild(L.createTextNode(a+" {"+c+"}")))}}function C(a,c){if(Ka){var d=
c?"visible":"hidden";la&&u(a)?u(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function $(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=M?encodeURIComponent(a):a}var M="undefined",R="object",U="application/x-shockwave-flash",oa="SWFObjectExprInst",aa=window,L=document,ja=navigator,La=!1,va=[function(){La?f():g()}],ia=[],ya=[],pa=[],ra,xa,Ca,Ja,la=!1,wa=!1,ga,Da,Ka=!0,F=function(){var a=typeof L.getElementById!=M&&typeof L.getElementsByTagName!=M&&typeof L.createElement!=M,c=ja.userAgent.toLowerCase(),
d=ja.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ja.plugins!=M&&typeof ja.plugins["Shockwave Flash"]==R)!(h=ja.plugins["Shockwave Flash"].description)||typeof ja.mimeTypes!=M&&ja.mimeTypes[U]&&!ja.mimeTypes[U].enabledPlugin||(La=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof aa[["Active"].concat("Object").join("X")]!=M)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Sl:a,fq:g,vk:c,zh:f,Fh:e,CJ:d}}();(function(){F.Sl&&((typeof L.readyState!=M&&"complete"==L.readyState||typeof L.readyState==
M&&(L.getElementsByTagName("body")[0]||L.body))&&c(),la||(typeof L.addEventListener!=M&&L.addEventListener("DOMContentLoaded",c,!1),F.zh&&F.Fh&&(L.attachEvent("onreadystatechange",function(){"complete"==L.readyState&&(L.detachEvent("onreadystatechange",arguments.callee),c())}),aa==top&&function(){if(!la){try{L.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),F.vk&&function(){la||(/loaded|complete/.test(L.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){F.zh&&F.Fh&&window.attachEvent("onunload",function(){for(var c=pa.length,d=0;d<c;d++)pa[d][0].detachEvent(pa[d][1],pa[d][2]);c=ya.length;for(d=0;d<c;d++)q(ya[d]);for(var e in F)F[e]=null;F=null;for(var f in a)a[f]=null;a=null})})();return{C$:function(a,c,d,e){if(F.Sl&&a&&c){var f={};f.id=a;f.jY=c;f.pI=d;f.uR=e;ia[ia.length]=f;C(a,!1)}else e&&e({Pn:!1,id:a})},A5:function(a){if(F.Sl)return h(a)},vS:function(a,c,e,f,g,h,m,n,q,u){var x={Pn:!1,id:c};F.Sl&&!(F.vk&&312>F.vk)&&a&&c&&e&&f&&g?(C(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===R)for(var D in q)d[D]=q[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===R)for(var $ in n)D[$]=n[$];if(m&&typeof m===R)for(var F in m)D.As=typeof D.As!=M?D.As+("\x26"+F+"\x3d"+m[F]):F+"\x3d"+m[F];if(z(g))$=p(d,D,c),d.id==c&&C(c,!0),x.Pn=!0,x.eK=$;else{if(h&&k()){d.data=h;l(d,D,c,u);return}C(c,!0)}u&&u(x)})):u&&u(x)},Rca:function(){Ka=!1},ua:F,OS:function(){return{FU:F.fq[0],h9:F.fq[1],ED:F.fq[2]}},LT:z,L2:function(a,c,d){if(F.Sl)return p(a,
c,d)},tca:function(a,c,d,e){F.Sl&&k()&&l(a,c,d,e)},Q$:function(a){F.Sl&&q(a)},K2:function(a,c,d,e){F.Sl&&D(a,c,d,e)},C1:d,G1:e,f6:function(a){var c=L.location.search||L.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return $(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return $(c[d].substring(c[d].indexOf("\x3d")+1))}return""},r3:function(){if(wa){var a=u(oa);a&&ra&&(a.parentNode.replaceChild(ra,a),xa&&(C(xa,!0),F.zh&&F.Fh&&(ra.style.display=
"block")),Ca&&Ca(Ja));wa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.EN){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.LT("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Pu=WebSocket.LN++;WebSocket.OF[k.Pu]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.mo={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Nu(function(){WebSocket.xi.create(k.Pu,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.xi.send(this.Pu,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.FE&&
(this.readyState=WebSocket.FE,WebSocket.xi.close(this.Pu))},WebSocket.prototype.addEventListener=function(a,c){a in this.mo||(this.mo[a]=[]);this.mo[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.mo)for(var f=this.mo[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.mo[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.IN=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.MF(a.type);else if("close"==a.type)a=this.MF("close");else if("message"==a.type)a=this.GN(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.MF=function(a){if(document.createEvent&&window.JZ){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.GN=function(a){if(document.createEvent&&
window.i_&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.FE=2,WebSocket.CLOSED=3,WebSocket.xi=null,WebSocket.OF={},WebSocket.Oq=[],WebSocket.LN=0,WebSocket.AU=function(a){WebSocket.Nu(function(){WebSocket.xi.a9(a)})},WebSocket.wz=function(){if(!WebSocket.xi&&(WebSocket.NN&&(window.DN=WebSocket.NN),window.DN)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.KN()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.vS(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{t7:!0,Uca:!0,T1:"always"},null,function(a){a.Pn||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.K0=function(){setTimeout(function(){WebSocket.xi=
document.getElementById("webSocketFlash");WebSocket.xi.taa(location.href);WebSocket.xi.Baa(!!window.v0);for(var a=0;a<WebSocket.Oq.length;++a)WebSocket.Oq[a]();WebSocket.Oq=[]},0)},WebSocket.J0=function(){setTimeout(function(){try{for(var a=WebSocket.xi.x$(),e=0;e<a.length;++e)WebSocket.OF[a[e].Ida].IN(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.I0=function(a){c.log(decodeURIComponent(a))},WebSocket.H0=function(a){c.error(decodeURIComponent(a))},WebSocket.Nu=function(a){WebSocket.xi?a():WebSocket.Oq.push(a)},
WebSocket.KN=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.w0||(window.addEventListener?window.addEventListener("load",function(){WebSocket.wz()},!1):window.attachEvent("onload",function(){WebSocket.wz()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.zj=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.zb.ok(!1);this.ox();this.get();this.AK();return this};f.prototype.SJ=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.VJ(a);return this};f.prototype.VJ=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.l$=!1,200==this.status?f.zb.ok(!1):f.ki())}function d(){this.onload=
g;f.zb.ok(!1)}var f=this;this.zb.ok(!0);this.et=this.request("POST");e.XDomainRequest&&this.et instanceof XDomainRequest?this.et.onload=this.et.onerror=d:this.et.onreadystatechange=c;this.et.send(a)};f.prototype.close=function(){this.ki();return this};f.prototype.request=function(a){var c=d.util.request(this.zb.Vp()),e=d.util.query(this.zb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.bt()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.zb.options.Hn?"https":"http"};f.an=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.Hn?"https:":"http:",p=e.location&&n!=e.location.protocol;if(f&&(!g||!p))return!0}catch(q){}return!1};f.At=function(a){return f.an(a,!0)}})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc,this);(function(a,d){function e(a){d.Transport.zj.apply(this,
arguments)}a.w7=e;d.util.inherit(e,d.Transport.zj);e.prototype.name="htmlfile";e.prototype.get=function(){this.ol=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.ol.open();this.ol.write("\x3chtml\x3e\x3c/html\x3e");this.ol.close();this.ol.parentWindow.pi=this;var a=this.ol.createElement("div");a.className="socketio";this.ol.body.appendChild(a);this.Lg=this.ol.createElement("iframe");a.appendChild(this.Lg);var c=this,a=d.util.query(this.zb.options.query,"t\x3d"+ +new Date);this.Lg.src=
this.bt()+a;d.util.on(window,"unload",function(){c.Ad()})};e.prototype.JF=function(a,c){a=a.replace(/\\\//g,"/");this.Zs(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.Ad=function(){if(this.Lg){try{this.Lg.src="about:blank"}catch(a){}this.ol=null;this.Lg.parentNode.removeChild(this.Lg);this.Lg=null;CollectGarbage()}};e.prototype.close=function(){this.Ad();return d.Transport.zj.prototype.close.call(this)};e.an=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.zj.an(a)}catch(c){}return!1};e.At=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc);(function(a,d,e){function f(){d.Transport.zj.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.zj);d.util.merge(f,d.Transport.zj);f.prototype.name="xhr-polling";
f.prototype.XI=function(){return!1};f.prototype.open=function(){d.Transport.zj.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Zs(this.responseText),f.get()):f.ki())}function c(){this.onerror=this.onload=g;f.LD=1;f.Zs(this.responseText);f.get()}function d(){f.LD++;!f.LD||3<f.LD?f.ki():f.get()}if(this.Qs){var f=this;this.ri=this.request();e.XDomainRequest&&this.ri instanceof XDomainRequest?(this.ri.onload=
c,this.ri.onerror=d):this.ri.onreadystatechange=a;this.ri.send(null)}};f.prototype.ki=function(){d.Transport.zj.prototype.ki.call(this);if(this.ri){this.ri.onreadystatechange=this.ri.onload=this.ri.onerror=g;try{this.ri.abort()}catch(a){}this.ri=null}};f.prototype.ux=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=typeof io?io:module.parent.wc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.JF(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.VJ=function(a){function c(){e();f.zb.ok(!1)}function e(){f.Lg&&f.form.removeChild(f.Lg);try{x=document.createElement('\x3ciframe name\x3d"'+f.TC+'"\x3e')}catch(a){x=document.createElement("iframe"),x.name=f.TC}x.id=f.TC;f.form.appendChild(x);f.Lg=
x}var f=this,g=d.util.query(this.zb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var p=document.createElement("form"),q=document.createElement("textarea"),u=this.TC="socketio_iframe_"+this.index,x;p.className="socketio";p.style.position="absolute";p.style.top="0px";p.style.left="0px";p.style.display="none";p.target=u;p.method="POST";p.setAttribute("accept-charset","utf-8");q.name="d";p.appendChild(q);document.body.appendChild(p);this.form=p;this.oR=q}this.form.action=this.bt()+
g;e();this.oR.value=d.JSON.stringify(a);try{this.form.submit()}catch(z){}this.Lg.attachEvent?x.onreadystatechange=function(){"complete"==f.Lg.readyState&&c()}:this.Lg.onload=c;this.zb.ok(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.zb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.ob&&(this.ob.parentNode.removeChild(this.ob),this.ob=null);c.async=!0;c.src=this.bt()+e;c.onerror=function(){a.ki()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.ob=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.JF=function(a){this.Zs(a);this.Qs&&this.get();return this};f.prototype.ux=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.an=function(){return"document"in e};f.At=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.wc,"undefined"!=
typeof io?io:module.parent.wc,this);"function"===typeof define&&define.U1&&define([],function(){return io})})();r=r||{};function da(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}da.id=0|998*Math.random();da.iU=0|998*Math.random();
da.VH=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.aM(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};da.VH.aM=da;da.ZS=function(){return this.id++};da.$S=function(){return this.iU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");r.Ea=function(){};r.Ea.extend=function(d){function e(){this.dc=da.$S();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=da.ZS();da[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=da.VH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.dc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.y7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();r.A7=function(a,c){function d(){}d.prototype=c.prototype;a.gy=c.prototype;a.prototype=new d;a.prototype.constructor=a};
r.rR=function(a,c,d){var e=arguments.callee.caller;if(e.gy)return ret=e.gy.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.gy&&h.gy.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
r.G2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};r.Zg=function(a,c){this.x=a||0;this.y=c||0};r.KF=function(a,c){this.F=a||0;this.H=c||0;this.fL=function(a){this.F=a};this.gL=function(a){this.H=a}};r.xd=function(){return new r.KF(0,0)};
Object.defineProperties(r.KF.prototype,{x:{get:function(){return this.F},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.H},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});r.z_=function(a,c){r.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new r.Zg(a,c)};
r.a=function(a,c){return{x:a,y:c}};r.j1=r.a;r.vj=function(){return r.a(0,0)};r.TJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};r.Dk=function(a,c){this.width=a||0;this.height=c||0};r.LF=function(a,c){this.Ha=a||0;this.va=c||0;this.fE=function(a){this.Ha=a};this.UD=function(a){this.va=a}};r.Gm=function(){return new r.LF(0,0)};
Object.defineProperties(r.LF.prototype,{width:{get:function(){return this.Ha},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.va},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});r.d0=function(a,c){r.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return r.size(a,c)};
r.size=function(a,c){return{width:a,height:c}};r.cb=r.size;r.cm=function(){return r.size(0,0)};r.AH={mV:r.xd(),aY:r.Gm()};Object.defineProperties(r,{$M:{get:function(){return r.AH.mV}},jN:{get:function(){return r.AH.aY}},E_:{get:function(){return r.rect(0,0,0,0)}}});r.$X=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
r.qg=function(a,c,d,e){var f=arguments.length;if(4===f)this.md=new r.Zg(a||0,c||0),this.cb=new r.Dk(d||0,e||0);else if(1===f)this.md=new r.Zg(a.md.x,a.md.y),this.cb=new r.Dk(a.cb.width,a.cb.height);else if(0===f)this.md=new r.Zg(0,0),this.cb=new r.Dk(0,0);else if(2===f)this.md=new r.Zg(a.x,a.y),this.cb=new r.Dk(c.width,c.height);else throw"unknown argument type";};r.L_=function(a,c,d,e){r.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return r.rect(a,c,d,e)};
r.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new r.qg(0,0,0,0);if(1===f)return new r.qg(a.x,a.y,a.width,a.height);if(2===f)return new r.qg(a.x,a.y,c.width,c.height);if(4===f)return new r.qg(a,c,d,e);throw"unknown argument type";};r.za=r.rect;r.jd=function(){return r.rect(0,0,0,0)};r.cK=function(a,c){return a&&c?r.TJ(a.md,c.md)&&r.$X(a.cb,c.cb):!1};r.Qr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
r.y$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};r.An=function(a){return a.x+a.width};r.z$=function(a){return a.x+a.width/2};r.Fl=function(a){return a.x};r.Bn=function(a){return a.y+a.height};r.A$=function(a){return a.y+a.height/2};r.Gl=function(a){return a.y};r.bb=function(a,c){return c.x>=r.Fl(a)&&c.x<=r.An(a)&&c.y>=r.Gl(a)&&c.y<=r.Bn(a)};r.EV=function(a,c){return!(r.An(a)<r.Fl(c)||r.An(c)<r.Fl(a)||r.Bn(a)<r.Gl(c)||r.Bn(c)<r.Gl(a))};
r.B$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};r.yx=function(a,c){var d=r.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};r.DV=function(a,c){var d=r.rect(Math.max(r.Fl(a),r.Fl(c)),Math.max(r.Gl(a),r.Gl(c)),0,0);d.width=Math.min(r.An(a),r.An(c))-r.Fl(d);d.height=Math.min(r.Bn(a),r.Bn(c))-r.Gl(d);return d};b=r.qg.prototype;
b.fL=function(a){this.md.x=a};b.gL=function(a){this.md.y=a};b.Ls=function(){return this.cb.width};b.fE=function(a){this.cb.width=a};b.Gs=function(){return this.cb.height};b.UD=function(a){this.cb.height=a};
Object.defineProperties(r.qg.prototype,{x:{get:function(){return this.md.x},set:function(a){this.fL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.md.y},set:function(a){this.gL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Ls()},set:function(a){this.fE(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Gs()},set:function(a){this.UD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ea){"SECURITY_ERR"!==ea.name&&"QuotaExceededError"!==ea.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{s2:{get:function(){var a={canvas:!0};r.Ga.Sc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},G9:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return r.It},enumerable:!0,configurable:!0}});s.M3=function(){};
s.g3=function(){};s.aaa=function(){};r.It="Cocos2d-html5-v2.2.2";r.bu=0;r.TE=r.a(0,0);r.fM=0.5;r.eZ=1;r.kN=1;r.XM=0;r.BF=0;r.f0=0;r.g0=0;r.H_=1;r.G_="-hd";r.zN=1;r.Ck=0;r.a0=0;r.b_=0;r.a_=0;r.Ny=1;r.oZ=r.It+"-canvas";r.Hw={platform:s.platform};r.f3=function(){for(var a in s)r.log(a+" \x3d "+s[a])};r.Ht=1;r.VE=1;r.WH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};r.Ga={};r.Ga.BY=["baidubrowser","opera","firefox","chrome","safari"];
(function(){r.Ga.ua=navigator.userAgent.toLowerCase();r.Ga.platform=navigator.platform.toLowerCase();r.Ga.kk=-1!=r.Ga.ua.indexOf("mobile")||-1!=r.Ga.ua.indexOf("android");r.Ga.type=function(){var a=r.Ga.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||r.Ga.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();r.Ga.mode="ie"==r.Ga.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});r.RB=parseInt(document.ccConfig.renderMode)||0;var a=-1==r.Ga.BY.indexOf(r.Ga.type);1===r.RB||0===r.RB&&(r.Ga.kk||a)?r.Ga.Sc=!1:(r.Ga.Sc=null!=window.z0,a=document.createElement("Canvas"),a=r.WH(a,{stencil:!0,preserveDrawingBuffer:!0}),r.Ga.Sc=null!=a);2!==r.RB||r.Ga.Sc||(r.xz=!0);var a=r.Ga,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.Kca=c;r.Ga.D9=function(a){if(this.kk){var c=r.Y.e().Sb,d=c.width+"px",c=c.height+"px",h=r.xk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.EY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=r.xk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.EY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();r.M_=function(){return"undefined"===r.xz?!1:r.xz};
r.Pb=function(a){var c=this==r?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||r.Pb,a.OC=a.OC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.GH=a.GH||function(a){this.OC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.VV=a.VV||function(a){this.OC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Zm=a.Zm||
function(a){a.appendChild(this);return this},a.xV=a.xV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Rn=a.Rn||function(){this.style[r.Pb.pY]=r.Pb.translate(this.position)+r.Pb.rotate(this.rotation)+r.Pb.scale(this.scale)+r.Pb.Ml(this.Ml);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Ml=a.Ml||{x:0,y:0},a.nE=function(a,c){this.position.x=a;this.position.y=c;this.Rn()},a.rotate=function(a){this.rotation=
a;this.Rn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Rn();return this},a.XK=function(a,c){this.Ml.x=a;this.Ml.y=c;this.Rn()};return a};switch(r.Ga.type){case "firefox":r.Pb.eq="Moz";r.Pb.Pp=!0;break;case "chrome":case "safari":r.Pb.eq="webkit";r.Pb.Pp=!0;break;case "opera":r.Pb.eq="O";r.Pb.Pp=!1;break;case "ie":r.Pb.eq="ms";r.Pb.Pp=!1;break;default:r.Pb.eq="webkit",r.Pb.Pp=!0}r.Pb.pY=r.Pb.eq+"Transform";
r.Pb.translate=r.Pb.Pp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};r.Pb.rotate=r.Pb.Pp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};r.Pb.scale=function(a){return"scale("+a.x+", "+a.y+") "};r.Pb.Ml=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};r.xk=function(a){return r.Pb(document.createElement(a))};
r.Pb.F3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};r.G=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof r.D||e instanceof HTMLElement?e:r.G(e)}return c};r.Z1=function(){};r.YE=r.YE||!1;
r.jP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");r.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",r.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=r.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=r.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};r.log=function(a){r.YE?r.jP(a):console.log.apply(console,arguments)};r.h_=function(a){console.log(a)};r.Dt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};r.VT=function(){0==r.Ft?(r.log=function(){},r.AJ=function(){},r.zJ=function(){},r.Dt=function(){}):1==r.Ft?(r.AJ=r.log,r.zJ=function(){}):1<r.Ft&&(r.AJ=r.log,r.zJ=r.log)};r.DM=0;r.CM=1;r.EM=2;r.HM=3;r.FM=4;r.OM=5;r.NM=6;r.JM=7;r.IM=8;r.GM=9;
r.MM=10;r.BM=11;r.KM=12;r.LM=13;
r.zM={b2:8,Wca:9,yS:13,shift:16,P2:17,alt:18,pause:19,t2:20,escape:27,d$:33,c$:34,end:35,home:36,left:37,rda:38,right:39,a3:40,F7:45,vZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,I:65,g:66,Ca:67,La:68,h3:69,Tw:70,o:71,Ae:72,x7:73,j:74,I8:75,R8:76,e9:77,EJ:78,z9:79,a:80,r$:81,p:82,pi:83,Vca:84,Pa:85,oa:86,ML:87,x:88,y:89,z:90,n9:96,o9:97,p9:98,q9:99,r9:100,s9:101,t9:102,u9:103,v9:104,w9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,s3:112,w3:113,x3:114,y3:115,z3:116,A3:117,B3:118,C3:119,
D3:120,t3:121,u3:122,v3:123,y9:144,gaa:145,jaa:186,",":186,l3:187,"\x3d":187,";":188,F2:188,R2:189,".":190,h$:190,K3:191,q7:192,"[":219,E9:219,"]":221,E2:221,a2:220,quote:222,Bca:32};r.vi=-1;r.PI=Math.PI;r.qM=parseFloat("3.402823466e+38F");r.gN=r.PI/180;r.eM=180/r.PI;r.yN=4294967295;r.b0=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else r.log("cc.SWAP is being modified from original macro, please check usage")};r.T8=function(a,c,d){return a+(c-a)*d};r.D_=function(){return 2*(Math.random()-0.5)};r.C_=function(){return Math.random()};r.tj=function(a){return a*r.gN};r.Zy=function(a){return a*r.eM};
r.bm=Number.MAX_VALUE-1;r.Ke=r.XM?1:770;r.Je=771;r.Ty=function(a){a.Jc&&(a.Jc.pf(),a.Jc.Ug())};r.HZ=function(){};r.uZ=function(){};r.Hh=function(){r.fi+=1};r.cu=1.192092896E-7;r.Id=r.Ny?function(){return r.Y.e().mm}:function(){return 1};r.ZM=function(a){var c=r.Id();return r.a(a.x*c,a.y*c)};r.D0=function(a,c){var d=r.Id();c.F=a.x*d;c.H=a.y*d};r.dz=function(a){var c=r.Id();return r.size(a.width*c,a.height*c)};r.Z_=function(a){var c=r.Id();return r.size(a.width/c,a.height/c)};
r.uz=function(a,c){var d=r.Id();c.Ha=a.width/d;c.va=a.height/d};r.x_=function(a){var c=r.Id();return r.a(a.x/c,a.y/c)};r.Mu=function(a,c){var d=r.Id();c.F=a.x/d;c.H=a.y/d};r.Aq=r.Ny?function(a){var c=r.Id();return r.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};r.co=r.Ny?function(a){var c=r.Id();return r.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};r.EE=function(){if(r.Y$==r.Ek){var a=r.X.getError();a&&r.log("WebGL error "+a)}};r.R_=0;r.Q_=1;r.O_=2;r.P_=3;r.S_=4;r.T_=5;r.N_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var fa=document.createElement("script");fa.type="text/vbscript";fa.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(fa);
r.cG=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
r.Jd=r.Ea.extend({Gj:null,hl:null,zO:null,oA:null,cp:null,Vh:null,br:"",ctor:function(){this.Gj={};this.hl={};this.Vh=[];this.Vh.push(this.br);this.cp=[];this.cp.push("")},o$:function(){this.Vh=[]},d4:function(a){a=this.qe(a);return this.Gj.hasOwnProperty(a)?this.Gj[a]:this.gP(a)},rv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},qY:function(a){this.Gj.hasOwnProperty(a)&&delete this.Gj[a]},tV:function(a){a=this.qe(a);var c=this,d=this.rv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=r.cG(d.responseBody);e&&(c.Gj[a]=c.ew(e))}else r.ac.e().un(a);r.ac.e().ni()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Gj[a]=c.ew(e):r.ac.e().un(a);r.ac.e().ni()});d.send(null)},gP:function(a){var c=this.rv();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=r.cG(c.responseBody))d=this.ew(c),this.Gj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.ew(c.responseText);this.Gj[a]=d}return d},ew:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},sY:function(a){a=this.qe(a);this.hl.hasOwnProperty(a)&&delete this.hl[a]},vV:function(a){a=this.qe(a);var c=this,d=this.rv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.hl[a]=e)}else r.ac.e().un(a);r.ac.e().ni()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.hl[a]=d.responseText:r.ac.e().un(a);r.ac.e().ni()});d.send(null)},iP:function(a){var c=this.rv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.hl[a]=d);return d},II:function(a){a=this.qe(a);return this.hl.hasOwnProperty(a)?this.hl[a]:
this.iP(a)},K4:function(){},V$:function(){},UJ:!0,L3:function(a){return a},qe:function(a){var c=!1;a=this.KO(a);for(var d,e=0;e<this.Vh.length;e++){for(var f=this.Vh[e],g=0;g<this.cp.length;g++)if(d=this.LO(a,this.cp[g],f)){c=!0;break}if(c)break}return c?d:a},Y8:function(a){var c=this.qe(a);if(0<c.length){var c=r.Bk.e().parse(c),d=parseInt(c.metadata.version);1!=d?r.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.UW(c.filenames)}},UW:function(a){this.oA=
a},xI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Qba:function(a){this.cp=a},s6:function(){return this.cp},Pba:function(a){this.Vh=a},q6:function(){return this.Vh},j6:function(){return this.zO},Kba:function(){},V2:function(a){r.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.UR(a)},UR:function(a){return r.Bk.e().parse(a)},H6:function(a){return this.II(a)},
Lw:function(a){return r.Bk.e().parse(a)},k7:function(){return""},Aba:function(a){r.UJ=a},m8:function(){return r.UJ},kB:"",k6:function(){return this.kB},Lba:function(a){this.kB=a},KO:function(a){var c=null;(c=this.oA?this.oA[a]:null)&&0!==c.length?r.log("FOUND NEW FILE NAME: "+c):c=a;return c},LO:function(a,c,d){var e;e=this.kB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},X0:function(){},WK:function(a){var c=!1;this.Vh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.mJ(e)||(f=this.br);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.br||(c=!0);this.Vh.push(e)}c||this.Vh.push(this.br)},J1:function(a){var c;this.mJ(a)||(c=this.br);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Vh.push(a)},r6:function(){},
mJ:function(a){return"/"==a[0]}});r.ND=null;r.Jd.e=function(){null==r.ND&&(r.ND=new r.Jd);return r.ND};r.Dc=function(a,c,d){switch(arguments.length){case 0:this.g=this.o=this.p=0;break;case 1:a&&a instanceof r.Dc?(this.p=0|a.p||0,this.o=0|a.o||0,this.g=0|a.g||0):this.g=this.o=this.p=0;break;case 3:this.p=0|a||0;this.o=0|c||0;this.g=0|d||0;break;default:throw"unknown argument type";}};r.k=function(a,c,d){return new r.Dc(a,c,d)};r.J7=function(a){a=a||0;var c=new r.Dc;c.p=a&255;c.o=a>>8&255;c.g=a>>16&255;return c};r.Ew=r.k;r.m2=function(a,c){return a.p===c.p&&a.o===c.o&&a.g===c.g};
Object.defineProperties(r,{x0:{get:function(){return r.k(255,255,255)}},A0:{get:function(){return r.k(255,255,0)}},bZ:{get:function(){return r.k(0,0,255)}},QZ:{get:function(){return r.k(0,255,0)}},F_:{get:function(){return r.k(255,0,0)}},e_:{get:function(){return r.k(255,0,255)}},$Y:{get:function(){return r.k(0,0,0)}},o_:{get:function(){return r.k(255,127,0)}},PZ:{get:function(){return r.k(166,166,166)}}});r.Ab=function(){return new r.Dc(255,255,255)};r.Mda=function(){return new r.Dc(255,255,0)};
r.blue=function(){return new r.Dc(0,0,255)};r.green=function(){return new r.Dc(0,255,0)};r.red=function(){return new r.Dc(255,0,0)};r.f9=function(){return new r.Dc(255,0,255)};r.d2=function(){return new r.Dc(0,0,0)};r.F9=function(){return new r.Dc(255,127,0)};r.Np=function(){return new r.Dc(166,166,166)};r.Qb=function(a,c,d,e){this.p=0|a;this.o=0|c;this.g=0|d;this.I=0|e};r.h=function(a,c,d,e){return new r.Qb(a,c,d,e)};r.gC=r.h;r.Xd=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.I=e};
r.Fw=function(a,c,d,e){return new r.Xd(a,c,d,e)};r.p2=function(a){return new r.Xd(a.p/255,a.o/255,a.g/255,1)};r.q2=function(a){return new r.Xd(a.p/255,a.o/255,a.g/255,a.I/255)};r.n2=function(a){return new r.Qb(0|255*a.p,0|255*a.o,0|255*a.g,0|255*a.I)};r.o2=function(a,c){return a.p==c.p&&a.o==c.o&&a.g==c.g&&a.I==c.I};r.Db=function(a,c){this.x=a||0;this.y=c||0};r.Lu=function(a,c){return new r.Db(a,c)};r.Zc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
r.Dda=function(a,c,d){return new r.Zc(a,c,d)};r.zc=function(a,c){this.Pa=a||0;this.oa=c||0};r.bda=function(a,c){return new r.zc(a,c)};r.A_=function(a,c,d){a||new r.Db(0,0);this.color=c||new r.Qb(0,0,0,0);this.size=d||0};r.ou=function(a,c,d,e){this.Ta=a||new r.Db(0,0);this.Na=c||new r.Db(0,0);this.Ka=d||new r.Db(0,0);this.Va=e||new r.Db(0,0)};r.B_=function(a,c,d,e){this.Ka=a||new r.Zc(0,0,0);this.Va=c||new r.Zc(0,0,0);this.Ta=d||new r.Zc(0,0,0);this.Na=e||new r.Zc(0,0,0)};
r.tM=function(a,c){this.x=a;this.y=c};r.o=function(a,c){return new r.tM(a,c)};r.Wb=function(a,c,d){this.s=a||new r.Db(0,0);this.L=c||new r.Qb(0,0,0,0);this.C=d||new r.zc(0,0)};r.Iu=function(){this.s=new r.Db(0,0);this.L=new r.Xd(0,0,0,0);this.C=new r.zc(0,0)};r.sc=function(a,c,d){this.s=a||new r.Zc(0,0,0);this.L=c||new r.Qb(0,0,0,0);this.C=d||new r.zc(0,0)};r.Fc=function(a,c,d){this.I=a||new r.Wb;this.g=c||new r.Wb;this.Ca=d||new r.Wb};
r.AN=function(){var a=new r.Wb(new r.Db(0,0),new r.Qb(0,0,0,255),new r.zc(0,0)),c=new r.Wb(new r.Db(0,0),new r.Qb(0,0,0,255),new r.zc(0,0)),d=new r.Wb(new r.Db(0,0),new r.Qb(0,0,0,255),new r.zc(0,0)),e=new r.Wb(new r.Db(0,0),new r.Qb(0,0,0,255),new r.zc(0,0));this.Ka=a||new r.Wb;this.Va=c||new r.Wb;this.Ta=d||new r.Wb;this.Na=e||new r.Wb};r.s0=function(){return new r.AN};r.cc=function(a,c,d,e){this.Ta=a||new r.sc;this.Ka=c||new r.sc;this.Na=d||new r.sc;this.Va=e||new r.sc};
r.sz=function(){return new r.cc(new r.sc(new r.Zc(0,0,0),new r.Qb(0,0,0,255),new r.zc(0,0)),new r.sc(new r.Zc(0,0,0),new r.Qb(0,0,0,255),new r.zc(0,0)),new r.sc(new r.Zc(0,0,0),new r.Qb(0,0,0,255),new r.zc(0,0)),new r.sc(new r.Zc(0,0,0),new r.Qb(0,0,0,255),new r.zc(0,0)))};
r.rz=function(a){return a?new r.cc(new r.sc(new r.Zc(a.Ta.s.x,a.Ta.s.y,a.Ta.s.z),new r.Qb(a.Ta.L.p,a.Ta.L.o,a.Ta.L.g,a.Ta.L.I),new r.zc(a.Ta.C.Pa,a.Ta.C.oa)),new r.sc(new r.Zc(a.Ka.s.x,a.Ka.s.y,a.Ka.s.z),new r.Qb(a.Ka.L.p,a.Ka.L.o,a.Ka.L.g,a.Ka.L.I),new r.zc(a.Ka.C.Pa,a.Ka.C.oa)),new r.sc(new r.Zc(a.Na.s.x,a.Na.s.y,a.Na.s.z),new r.Qb(a.Na.L.p,a.Na.L.o,a.Na.L.g,a.Na.L.I),new r.zc(a.Na.C.Pa,a.Na.C.oa)),new r.sc(new r.Zc(a.Va.s.x,a.Va.s.y,a.Va.s.z),new r.Qb(a.Va.L.p,a.Va.L.o,a.Va.L.g,a.Va.L.I),new r.zc(a.Va.C.Pa,
a.Va.C.oa))):r.sz()};r.u0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(r.rz(a[d]));return c};r.t0=function(a,c,d,e){this.Ka=a||new r.Iu;this.Va=c||new r.Iu;this.Ta=d||new r.Iu;this.Na=e||new r.Iu};r.Yl=function(a,c){this.src=a;this.Ib=c};r.cZ=function(){return new r.Yl(1,0)};r.ll=function(a){var c=a.p.toString(16),d=a.o.toString(16),e=a.g.toString(16);return"#"+(16>a.p?"0"+c:c)+(16>a.o?"0"+d:d)+(16>a.g?"0"+e:e)};
r.Ga.Sc&&(r.Qb=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(r.Qb.BYTES_PER_ELEMENT);this.Lb=g||0;f=this.Rb;g=this.Lb;var h=Uint8Array.BYTES_PER_ELEMENT;this.bB=new Uint8Array(f,g,1);this.vA=new Uint8Array(f,g+h,1);this.Hz=new Uint8Array(f,g+2*h,1);this.zz=new Uint8Array(f,g+3*h,1);this.bB[0]=a||0;this.vA[0]=c||0;this.Hz[0]=d||0;this.zz[0]=e||0},r.Qb.BYTES_PER_ELEMENT=4,Object.defineProperties(r.Qb.prototype,{p:{get:function(){return this.bB[0]},set:function(a){this.bB[0]=a},enumerable:!0},o:{get:function(){return this.vA[0]},
set:function(a){this.vA[0]=a},enumerable:!0},g:{get:function(){return this.Hz[0]},set:function(a){this.Hz[0]=a},enumerable:!0},I:{get:function(){return this.zz[0]},set:function(a){this.zz[0]=a},enumerable:!0}}),r.Xd=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(r.Xd.BYTES_PER_ELEMENT);this.Lb=g||0;f=this.Rb;g=this.Lb;var h=Float32Array.BYTES_PER_ELEMENT;this.aB=new Float32Array(f,g,1);this.aB[0]=a||0;this.uA=new Float32Array(f,g+h,1);this.uA[0]=c||0;this.Gz=new Float32Array(f,g+2*h,1);this.Gz[0]=
d||0;this.yz=new Float32Array(f,g+3*h,1);this.yz[0]=e||0},r.Xd.BYTES_PER_ELEMENT=16,Object.defineProperties(r.Xd.prototype,{p:{get:function(){return this.aB[0]},set:function(a){this.aB[0]=a},enumerable:!0},o:{get:function(){return this.uA[0]},set:function(a){this.uA[0]=a},enumerable:!0},g:{get:function(){return this.Gz[0]},set:function(a){this.Gz[0]=a},enumerable:!0},I:{get:function(){return this.yz[0]},set:function(a){this.yz[0]=a},enumerable:!0}}),r.Db=function(a,c,d,e){this.Rb=d||new ArrayBuffer(r.Db.BYTES_PER_ELEMENT);
this.Lb=e||0;this.Vm=new Float32Array(this.Rb,this.Lb,1);this.Wm=new Float32Array(this.Rb,this.Lb+4,1);this.Vm[0]=a||0;this.Wm[0]=c||0},r.Db.BYTES_PER_ELEMENT=8,Object.defineProperties(r.Db.prototype,{x:{get:function(){return this.Vm[0]},set:function(a){this.Vm[0]=a},enumerable:!0},y:{get:function(){return this.Wm[0]},set:function(a){this.Wm[0]=a},enumerable:!0}}),r.Zc=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(r.Zc.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;this.Vm=new Float32Array(e,
f,1);this.Vm[0]=a||0;this.Wm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Wm[0]=c||0;this.ZB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.ZB[0]=d||0},r.Zc.BYTES_PER_ELEMENT=12,Object.defineProperties(r.Zc.prototype,{x:{get:function(){return this.Vm[0]},set:function(a){this.Vm[0]=a},enumerable:!0},y:{get:function(){return this.Wm[0]},set:function(a){this.Wm[0]=a},enumerable:!0},z:{get:function(){return this.ZB[0]},set:function(a){this.ZB[0]=a},enumerable:!0}}),r.zc=
function(a,c,d,e){this.Rb=d||new ArrayBuffer(r.zc.BYTES_PER_ELEMENT);this.Lb=e||0;this.KB=new Float32Array(this.Rb,this.Lb,1);this.SB=new Float32Array(this.Rb,this.Lb+4,1);this.KB[0]=a||0;this.SB[0]=c||0},r.zc.BYTES_PER_ELEMENT=8,Object.defineProperties(r.zc.prototype,{Pa:{get:function(){return this.KB[0]},set:function(a){this.KB[0]=a},enumerable:!0},oa:{get:function(){return this.SB[0]},set:function(a){this.SB[0]=a},enumerable:!0}}),r.ou=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(r.ou.BYTES_PER_ELEMENT);
this.Lb=g||0;f=this.Rb;g=r.Db.BYTES_PER_ELEMENT;this.op=a?new r.Db(a.x,a.y,f,0):new r.Db(0,0,f,0);this.qp=c?new r.Db(c.x,c.y,f,g):new r.Db(0,0,f,g);this.ro=d?new r.Db(d.x,d.y,f,2*g):new r.Db(0,0,f,2*g);this.to=e?new r.Db(e.x,e.y,f,3*g):new r.Db(0,0,f,3*g)},r.ou.BYTES_PER_ELEMENT=32,Object.defineProperties(r.ou.prototype,{Ta:{get:function(){return this.op},set:function(a){this.op.x=a.x;this.op.y=a.y},enumerable:!0},Na:{get:function(){return this.qp},set:function(a){this.qp.x=a.x;this.qp.y=a.y},enumerable:!0},
Ka:{get:function(){return this.ro},set:function(a){this.ro.x=a.x;this.ro.y=a.y},enumerable:!0},Va:{get:function(){return this.to},set:function(a){this.to.x=a.x;this.to.y=a.y},enumerable:!0}}),r.sc=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(r.sc.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=r.Zc.BYTES_PER_ELEMENT;this.sp=a?new r.Zc(a.x,a.y,a.z,e,f):new r.Zc(0,0,0,e,f);this.Yq=c?new r.Qb(c.p,c.o,c.g,c.I,e,f+g):new r.Qb(0,0,0,0,e,f+g);this.Lm=d?new r.zc(d.Pa,d.oa,e,f+g+r.Qb.BYTES_PER_ELEMENT):
new r.zc(0,0,e,f+g+r.Qb.BYTES_PER_ELEMENT)},r.sc.BYTES_PER_ELEMENT=24,Object.defineProperties(r.sc.prototype,{s:{get:function(){return this.sp},set:function(a){var c=this.sp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},L:{get:function(){return this.Yq},set:function(a){var c=this.Yq;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},enumerable:!0},C:{get:function(){return this.Lm},set:function(a){this.Lm.Pa=a.Pa;this.Lm.oa=a.oa},enumerable:!0}}),r.cc=function(a,c,d,e,f,g){this.Rb=f||new ArrayBuffer(r.cc.BYTES_PER_ELEMENT);
this.Lb=g||0;f=this.Rb;g=this.Lb;var h=r.sc.BYTES_PER_ELEMENT;this.op=a?new r.sc(a.s,a.L,a.C,f,g):new r.sc(null,null,null,f,g);this.ro=c?new r.sc(c.s,c.L,c.C,f,g+h):new r.sc(null,null,null,f,g+h);this.qp=d?new r.sc(d.s,d.L,d.C,f,g+2*h):new r.sc(null,null,null,f,g+2*h);this.to=e?new r.sc(e.s,e.L,e.C,f,g+3*h):new r.sc(null,null,null,f,g+3*h)},r.cc.BYTES_PER_ELEMENT=96,Object.defineProperties(r.cc.prototype,{Ta:{get:function(){return this.op},set:function(a){var c=this.op;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},
Ka:{get:function(){return this.ro},set:function(a){var c=this.ro;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},Na:{get:function(){return this.qp},set:function(a){var c=this.qp;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},Va:{get:function(){return this.to},set:function(a){var c=this.to;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},bC:{get:function(){return this.Rb},enumerable:!0}}),r.sz=function(){return new r.cc},r.rz=function(a){if(!a)return r.sz();var c=a.Ta,d=a.Ka,e=a.Na;a=a.Va;return{Ta:{s:{x:c.s.x,y:c.s.y,z:c.s.z},
L:{p:c.L.p,o:c.L.o,g:c.L.g,I:c.L.I},C:{Pa:c.C.Pa,oa:c.C.oa}},Ka:{s:{x:d.s.x,y:d.s.y,z:d.s.z},L:{p:d.L.p,o:d.L.o,g:d.L.g,I:d.L.I},C:{Pa:d.C.Pa,oa:d.C.oa}},Na:{s:{x:e.s.x,y:e.s.y,z:e.s.z},L:{p:e.L.p,o:e.L.o,g:e.L.g,I:e.L.I},C:{Pa:e.C.Pa,oa:e.C.oa}},Va:{s:{x:a.s.x,y:a.s.y,z:a.s.z},L:{p:a.L.p,o:a.L.o,g:a.L.g,I:a.L.I},C:{Pa:a.C.Pa,oa:a.C.oa}}}},r.Wb=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(r.Wb.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=r.Db.BYTES_PER_ELEMENT;this.sp=a?new r.Db(a.x,
a.y,e,f):new r.Db(0,0,e,f);this.Yq=c?new r.Qb(c.p,c.o,c.g,c.I,e,f+g):new r.Qb(0,0,0,0,e,f+g);this.Lm=d?new r.zc(d.Pa,d.oa,e,f+g+r.Qb.BYTES_PER_ELEMENT):new r.zc(0,0,e,f+g+r.Qb.BYTES_PER_ELEMENT)},r.Wb.BYTES_PER_ELEMENT=20,Object.defineProperties(r.Wb.prototype,{s:{get:function(){return this.sp},set:function(a){this.sp.x=a.x;this.sp.y=a.y},enumerable:!0},L:{get:function(){return this.Yq},set:function(a){var c=this.Yq;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},enumerable:!0},C:{get:function(){return this.Lm},
set:function(a){this.Lm.Pa=a.Pa;this.Lm.oa=a.oa},enumerable:!0}}),r.Fc=function(a,c,d,e,f){this.Rb=e||new ArrayBuffer(r.Fc.BYTES_PER_ELEMENT);this.Lb=f||0;e=this.Rb;f=this.Lb;var g=r.Wb.BYTES_PER_ELEMENT;this.PF=a?new r.Wb(a.s,a.L,a.C,e,f):new r.Wb(null,null,null,e,f);this.UF=c?new r.Wb(c.s,c.L,c.C,e,f+g):new r.Wb(null,null,null,e,f+g);this.ZF=d?new r.Wb(d.s,d.L,d.C,e,f+2*g):new r.Wb(null,null,null,e,f+2*g)},r.Fc.BYTES_PER_ELEMENT=60,Object.defineProperties(r.Fc.prototype,{I:{get:function(){return this.PF},
set:function(a){var c=this.PF;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},g:{get:function(){return this.UF},set:function(a){var c=this.UF;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0},Ca:{get:function(){return this.ZF},set:function(a){var c=this.ZF;c.s=a.s;c.L=a.L;c.C=a.C},enumerable:!0}}));r.H2=function(a){a=a.substr(1).split("");return new r.Dc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};r.Hq=0;r.yj=1;r.rN=2;r.Mq=0;r.Ku=1;r.Lq=2;
r.C0=r.Ea.extend({Uo:null,ts:null,vz:0,ctor:function(){this.Uo={};this.ts={};this.vz=2<<(0|10*Math.random())},HN:function(){this.vz++;return"key_"+this.vz},lX:function(a,c){if(null!=c){var d=this.HN();this.Uo[d]=c;this.ts[d]=a}},LU:function(a){if(null==a)return null;var c=this.Uo,d;for(d in c)if(c[d]===a)return this.ts[d];return null},Cda:function(a){return this.LU(a)},ZV:function(a){if(null!=a){var c=this.Uo,d;for(d in c)if(c[d]===a){delete this.ts[d];delete c[d];break}}},O$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.ZV(a[c])},jR:function(){var a=[],c=this.Uo,d;for(d in c)a.push(c[d]);return a},H$:function(){this.Uo={};this.ts={}},count:function(){return this.jR().length}});r.sM=function(){this.Cs="Arial";this.fontSize=12;this.sI=r.yj;this.tI=r.Mq;this.uI=r.Ab();this.Bs=r.size(0,0);this.kE=!1;this.strokeColor=r.Ab();this.uL=1;this.iL=!1;this.jL=r.size(0,0);this.shadowBlur=0;this.kL=1};r.eo={Hy:0,Uy:1,SHOW_ALL:2,Iy:3,Jy:4,r0:5};r.Hu=[];r.Iq={};
r.ta=r.Ea.extend({Xb:null,Re:null,Ho:null,Yk:null,bf:null,VB:null,UB:"",iB:null,xa:1,JG:1,Ba:1,KG:1,yr:0,FG:5,Sh:null,QG:null,UG:null,TG:null,RG:null,SG:null,Br:!1,O0:!1,x1:null,pG:null,qG:null,ON:null,p1:!1,Wz:null,h1:null,Jj:null,qA:1,Qu:!1,uG:!1,ctor:function(){this.Jj=r.fk.parentNode===document.body?document.documentElement:r.fk.parentNode;this.Re=r.size(0,0);this.EA();var a=r.canvas.width,c=r.canvas.height;this.Ho=r.size(a,c);this.Yk=r.size(a,c);this.bf=r.rect(0,0,a,c);this.VB=r.rect(0,0,a,c);
this.Xb=r.Y.e().$e;this.Wz={left:0,top:0};this.UB="Cocos2dHTML5";r.IF.r(this.Ho);this.QG=new r.fo(r.Xg.Jt,r.Me.Hy);this.UG=new r.fo(r.Xg.cN,r.Me.SHOW_ALL);this.TG=new r.fo(r.Xg.Jt,r.Me.Uy);this.RG=new r.fo(r.Xg.Jt,r.Me.Iy);this.SG=new r.fo(r.Xg.Jt,r.Me.Jy);this.pG=r.canvas;this.qG=r.X},jB:function(){var a=this.Yk.width,c=this.Yk.height;this.iB&&(this.EA(),this.iB.call());0<a&&this.RD(a,c,this.Sh)},$$:function(a){a?this.Qu||(this.Qu=!0,a=this.jB.bind(this),window.addEventListener("resize",a,!1)):this.Qu&&
(this.Qu=!0,a=this.jB.bind(this),window.removeEventListener("resize",a,!1))},Jba:function(a){if("function"==typeof a||null==a)this.iB=a},EA:function(){var a=this.Re;a.width=this.Jj.clientWidth;a.height=this.Jj.clientHeight},L0:function(){var a=this.Yk.width,c=this.Yk.height;0<a&&this.RD(a,c,this.Sh)},uQ:function(){if(this.uG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},nQ:function(){var a=r.Id();this.Ba=this.xa=a},QP:function(){this.xa=this.JG;this.Ba=this.KG},NO:function(){var a,c=this.yr;for(a=0;a<this.FG;a++){if(!(c&1))return this.yr|=1<<a,a;c>>=1}return-1},MP:function(a){0>a||a>=this.FG||(a=~(1<<a),this.yr&=a)},M0:function(){},fU:function(){this.Br=!0},O1:function(a){this.uG=a},end:function(){},k8:function(){return null!=
this.pG&&null!=this.qG},Paa:function(a){this.qA=a;r.Y.e().Px(r.Y.e().bl)},Qca:function(){},Taa:function(){},Aaa:function(a,c){this.Wz={left:a,top:c}},r4:function(){return this.Wz},Vw:function(){return r.size(this.Re.width,this.Re.height)},Oaa:function(a,c){this.Re.width=a;this.Re.height=c;this.Jj.style.width=a+"px";this.Jj.style.height=c+"px";this.jB();r.Y.e().Px(r.Y.e().bl)},v2:function(){},maa:function(a){this.ON=a},Ks:function(){return this.VB.cb},QI:function(){return this.VB.md},r2:function(){return!0},
i6:function(){return this.Sh},zX:function(a){if(a instanceof r.fo)this.Sh=a;else switch(a){case r.eo.Hy:this.Sh=this.QG;break;case r.eo.SHOW_ALL:this.Sh=this.UG;break;case r.eo.Uy:this.Sh=this.TG;break;case r.eo.Iy:this.Sh=this.RG;break;case r.eo.Jy:this.Sh=this.SG}},RD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)r.log("Resolution not valid");else if(this.zX(d),policy=this.Sh){policy.xn(this);var e=this.Re.width,f=this.Re.height;r.Ga.kk&&this.uQ(this.Re.width,this.Re.height);this.EA();if(d!=
this.Sh||a!=this.Yk.width||c!=this.Yk.height||e!=this.Re.width||f!=this.Re.height)this.Ho=r.size(a,c),this.Yk=r.size(a,c),a=policy.apply(this,this.Ho),a.scale&&2==a.scale.length&&(this.xa=a.scale[0],this.Ba=a.scale[1]),a.viewport instanceof r.qg&&(this.bf=a.viewport),a=r.Y.e(),a.Sb=this.Gp(),r.Fd==r.Ek&&(a.Fo(),a.JK()),this.JG=this.xa,this.KG=this.Ba,r.jc&&r.jc.OP(),r.IF.r(this.Ks()),policy.wn(this)}else r.log("should set resolutionPolicy")},Gp:function(){return r.size(this.Ho.width,this.Ho.height)},
fca:function(a){this.Xb=a},MX:function(a,c,d,e){var f=this.qA,g=this.xa,h=this.Ba;r.X.viewport(a*g*f+this.bf.x*f,c*h*f+this.bf.y*f,d*g*f,e*h*f)},WD:function(a,c,d,e){var f=this.qA,g=this.xa,h=this.Ba;r.X.scissor(a*g*f+this.bf.x*f,c*h*f+this.bf.y*f,d*g*f,e*h*f)},pU:function(){var a=r.X;return a.isEnabled(a.SCISSOR_TEST)},kT:function(){var a=r.X,c=this.xa,d=this.Ba,a=a.getParameter(a.SCISSOR_BOX);return r.rect((a[0]-this.bf.x)/c,(a[1]-this.bf.y)/d,a[2]/c,a[3]/d)},oca:function(a){null!=a&&0<a.length&&
(this.UB=a)},f7:function(){return this.UB},g7:function(){return this.bf},iT:function(){return this.xa},jT:function(){return this.Ba},gk:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},FT:function(a,c,d,e){for(var f=[],g=this.bf,h=this.xa,k=this.Ba,l=0;l<a;++l){var m=c[l],n=d[l],p=e[l],q=0;if(null==r.Iq[m])if(q=this.NO(),-1==q)r.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var u=r.Hu[q]=new r.rf;u.aE(q,(n-g.x)/h,(p-g.y)/k);r.Iq[m]=0|q;f.push(u)}}0!=f.length&&this.Xb.jy(f,
null)},IT:function(a,c,d,e){for(var f=[],g=this.xa,h=this.Ba,k=this.bf.x,l=this.bf.y,m=0;m<a;++m){var n=d[m],p=e[m],q=r.Iq[c[m]];if(null!=q){var u=r.Hu[q];if(u)u.aE(q,(n-k)/g,(p-l)/h),f.push(u);else return}}0!=f.length&&this.Xb.ky(f,null)},HT:function(a,c,d,e){var f=[];this.HI(f,a,c,d,e);this.Xb.st(f,null)},GT:function(a,c,d,e){var f=[];this.HI(f,a,c,d,e);this.Xb.mE(f,null)},HI:function(a,c,d,e,f){for(var g=this.xa,h=this.Ba,k=this.bf,l=0;l<c;++l){var m=d[l],n=e[l],p=f[l],q=r.Iq[m];if(null!=q){var u=
r.Hu[q];if(u)u.aE(q,(n-k.x)/g,(p-k.y)/h),a.push(u),r.Hu[q]=null,this.MP(q),delete r.Iq[m];else break}}},jy:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Pf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.FT(f,c,d,e)},ky:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Pf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.IT(f,c,d,e)},st:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Pf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.HT(f,c,d,e)},mE:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Pf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.GT(f,c,d,e)}});r.ta.e=function(){this.Kb||(this.Kb=new r.ta,this.Kb.fU());return this.Kb};
r.Xg=r.Ea.extend({xn:function(){},apply:function(){},wn:function(){},aH:function(a,c,d){r.Ga.kk&&a==document.documentElement&&r.fz.e().qR(r.canvas);a=r.canvas;var e=r.fk;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},jG:function(){document.body.insertBefore(r.fk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=r.fk.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
r.Me=r.Ea.extend({lB:{scale:[1,1],viewport:null},Vq:function(a,c,d,e,f,g){a=r.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);r.Fd==r.ng&&r.X.translate(a.x,a.y+e);this.lB.scale=[f,g];this.lB.viewport=a;return this.lB},xn:function(){},apply:function(){return{scale:[1,1]}},wn:function(){}});
(function(){var a=r.Xg.extend({apply:function(a){this.aH(a.Jj,a.Re.width,a.Re.height)}}),c=r.Xg.extend({apply:function(a,c){var d=a.Re.width,e=a.Re.height,f=r.fk.style,n=c.width,p=c.height,q=d/n,u=e/p,x,z;q<u?(x=d,z=p*q):(x=n*u,z=e);n=Math.floor((d-x)/2);z=Math.floor((e-z)/2);this.aH(a.Jj,d-2*n,e-2*z);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=z+"px";f.marginBottom=z+"px"}});a.extend({xn:function(a){a.Jj=document.documentElement},apply:function(a){this._super(a);this.jG()}});c.extend({xn:function(a){a.Jj=
document.documentElement},apply:function(a,c){this._super(a,c);this.jG()}});var d=r.Xg.extend({});r.Xg.Jt=new a;r.Xg.cN=new c;r.Xg.t_=new d;var a=r.Me.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height;return this.Vq(d,e,d,e,d/c.width,e/c.height)}}),c=r.Me.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=c.width,n=c.height,p=d/f,q=e/n,u,x,z;p<q?(u=p,x=d,z=n*u):(u=q,x=f*u,z=e);return this.Vq(d,e,x,z,u,u)}}),d=r.Me.extend({apply:function(a,c){var d=r.canvas.width,
e=r.canvas.height,f=c.width,n=c.height,p=d/f,q=e/n,u,x,z;p<q?(u=q,x=f*u,z=e):(u=p,x=d,z=n*u);return this.Vq(d,e,x,z,u,u)}}),e=r.Me.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=e/c.height;return this.Vq(d,e,d,e,f,f)},wn:function(a){r.Y.e().Sb=a.Ks()}}),f=r.Me.extend({apply:function(a,c){var d=r.canvas.width,e=r.canvas.height,f=d/c.width;return this.Vq(d,e,d,e,f,f)},wn:function(a){r.Y.e().Sb=a.Ks()}});r.Me.Hy=new a;r.Me.SHOW_ALL=new c;r.Me.Uy=new d;r.Me.Iy=new e;r.Me.Jy=new f})();
r.fo=r.Ea.extend({dv:null,ev:null,ctor:function(a,c){this.KW(a);this.NW(c)},xn:function(a){this.dv.xn(a);this.ev.xn(a)},apply:function(a,c){this.dv.apply(a,c);return this.ev.apply(a,c)},wn:function(a){this.dv.wn(a);this.ev.wn(a)},KW:function(a){a instanceof r.Xg&&(this.dv=a)},NW:function(a){a instanceof r.Me&&(this.ev=a)}});r.fz=r.Ea.extend({ds:!1,Jk:"",WA:null,XA:null,JB:"",r:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.ds=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.ds=!0;this.Jk=f;break}this.JB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.ds)switch(this.Jk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Jk+"FullScreen"]}return!1},lK:function(a,
c){if(this.ds&&!this.fullScreen()){if(c){var d=this.Jk+"fullscreenchange";this.WA&&this.XA&&this.WA.removeEventListener(d,this.XA);this.WA=a;this.XA=c;a.addEventListener(d,c,!1)}return""===this.Jk?a.requestFullScreen():a[this.Jk+"RequestFullScreen"]()}},q3:function(){if(this.ds&&this.fullScreen())return""===this.Jk?document.body.cancelFullScreen():document.body[this.Jk+"CancelFullScreen"]()},qR:function(a,c){function d(){e.lK(a,c);a.removeEventListener(e.JB,d)}var e=this;this.lK(a,c);a.addEventListener(this.JB,
d)}});r.fz.e=function(){if(!this.Kb){var a=new r.fz;a.r();this.Kb=a}return this.Kb};r.IF={Yh:r.xd(),qh:r.xd(),Xh:r.xd(),Bi:r.xd(),Ci:r.xd(),Ai:r.xd(),Oz:r.xd(),Mi:r.xd(),Th:r.xd(),Ha:0,va:0,r:function(a){this.Ha=a.width;this.va=a.height;a=this.Ha;var c=this.va;this.Yh.H=c;this.qh.F=a;this.qh.H=c;this.Xh.F=a/2;this.Xh.H=c;this.Ci.F=a;this.Ai.F=a/2;this.Oz.F=a/2;this.Oz.H=c/2;this.Mi.H=c/2;this.Th.F=a;this.Th.H=c/2},Ls:function(){return this.Ha},Gs:function(){return this.va},kda:function(){return this.Yh},lda:function(){return this.qh},top:function(){return this.Xh},f2:function(){return this.Bi},
g2:function(){return this.Ci},bottom:function(){return this.Ai},u2:function(){return this.Oz},left:function(){return this.Mi},right:function(){return this.Th}};r.ey=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
r.rF=function(a){var c=r.jd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=r.ey(a.substr(0,d)),c=r.ey(c),c=r.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};r.qF=function(a){var c=r.vj();try{if(""==a)return c;var d=r.ey(a),c=r.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
r.gz=function(a){var c=r.cm();try{if(""==a)return c;var d=r.ey(a),c=r.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};r.QY=function(a,c,d,e,f,g){this.I=a;this.g=c;this.Ca=d;this.La=e;this.Za=f;this.$a=g};r.E0=function(a,c,d,e,f,g){return{I:a,g:c,Ca:d,La:e,Za:f,$a:g}};r.TY=function(a,c,d,e,f,g){return{I:a,g:c,Ca:d,La:e,Za:f,$a:g}};r.F0=function(a,c){return{x:c.I*a.x+c.Ca*a.y+c.Za,y:c.g*a.x+c.La*a.y+c.$a}};r.pF=function(a,c){return{x:c.I*a.x+c.Ca*a.y+c.Za,y:c.g*a.x+c.La*a.y+c.$a}};r.Gk=function(a,c,d){return{x:d.I*a+d.Ca*c+d.Za,y:d.g*a+d.La*c+d.$a}};
r.G0=function(a,c){return{width:c.I*a.width+c.Ca*a.height,height:c.g*a.width+c.La*a.height}};r.c0=function(a,c){return{width:c.I*a.width+c.Ca*a.height,height:c.g*a.width+c.La*a.height}};r.UY=function(){return{I:1,g:0,Ca:0,La:1,Za:0,$a:0}};r.SY=function(){return{I:1,g:0,Ca:0,La:1,Za:0,$a:0}};
r.$g=function(a,c){var d=r.Gl(a),e=r.Fl(a),f=r.An(a),g=r.Bn(a),h=r.Gk(e,d,c),d=r.Gk(f,d,c),e=r.Gk(e,g,c),k=r.Gk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return r.rect(f,l,g-f,h-l)};
r.wi=function(a,c){var d=r.Gl(a),e=r.Fl(a),f=r.An(a),g=r.Bn(a),h=r.Gk(e,d,c),d=r.Gk(f,d,c),e=r.Gk(e,g,c),k=r.Gk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};r.sy=function(a,c,d){return{I:a.I,g:a.g,Ca:a.Ca,La:a.La,Za:a.Za+a.I*c+a.Ca*d,$a:a.$a+a.g*c+a.La*d}};r.VY=function(a,c,d){return{I:a.I*c,g:a.g*c,Ca:a.Ca*d,La:a.La*d,Za:a.Za,$a:a.$a}};
r.TL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{I:a.I*d+a.Ca*c,g:a.g*d+a.La*c,Ca:a.Ca*d-a.I*c,La:a.La*d-a.g*c,Za:a.Za,$a:a.$a}};r.Ul=function(a,c){return{I:a.I*c.I+a.g*c.Ca,g:a.I*c.g+a.g*c.La,Ca:a.Ca*c.I+a.La*c.Ca,La:a.Ca*c.g+a.La*c.La,Za:a.Za*c.I+a.$a*c.Ca+c.Za,$a:a.Za*c.g+a.$a*c.La+c.$a}};r.RY=function(a,c){return a.I===c.I&&a.g===c.g&&a.Ca===c.Ca&&a.La===c.La&&a.Za===c.Za&&a.$a===c.$a};
r.AE=function(a){var c=1/(a.I*a.La-a.g*a.Ca);return{I:c*a.La,g:-c*a.g,Ca:-c*a.Ca,La:c*a.I,Za:c*(a.Ca*a.$a-a.La*a.Za),$a:c*(a.g*a.Za-a.I*a.$a)}};r.fF=parseFloat("1.192092896e-07F");r.tD=function(a){return r.a(-a.x,-a.y)};r.fg=function(a,c){return r.a(a.x+c.x,a.y+c.y)};r.Dd=function(a,c){return r.a(a.x-c.x,a.y-c.y)};r.kj=function(a,c){return r.a(a.x*c,a.y*c)};r.sD=function(a,c){return r.kj(r.fg(a,c),0.5)};r.dq=function(a,c){return a.x*c.x+a.y*c.y};r.M9=function(a,c){return a.x*c.y-a.y*c.x};r.px=function(a){return r.a(-a.y,a.x)};r.U9=function(a){return r.a(a.y,-a.x)};r.T9=function(a,c){return r.kj(c,r.dq(a,c)/r.dq(c,c))};
r.V9=function(a,c){return r.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};r.a$=function(a,c){return r.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};r.PJ=function(a){return r.dq(a,a)};r.N9=function(a,c){return r.PJ(r.Dd(a,c))};r.qD=function(a){return Math.sqrt(r.PJ(a))};r.pD=function(a,c){return r.qD(r.Dd(a,c))};r.Dh=function(a){return r.kj(a,1/r.qD(a))};r.O9=function(a){return r.a(Math.cos(a),Math.sin(a))};r.Z9=function(a){return Math.atan2(a.y,a.x)};r.xs=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
r.OJ=function(a){var c=r.a(0,0),d=r.a(1,1);return r.a(r.xs(a.x,c.x,d.x),r.xs(a.y,c.y,d.y))};r.cV=function(){var a=r.Y.e().Sb;return r.a(a.width,a.height)};r.L9=function(a,c){return r.a(c(a.x),c(a.y))};r.QJ=function(a,c,d){return r.fg(r.kj(a,1-d),r.kj(c,d))};r.P9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};r.K9=function(a,c){return r.a(a.x*c.x,a.y*c.y)};r.J9=function(a,c){var d=r.Dh(a),e=r.Dh(c),d=Math.atan2(d.x*e.y-d.y*e.x,r.dq(d,e));return Math.abs(d)<r.fF?0:d};
r.I9=function(a,c){var d=Math.acos(r.dq(r.Dh(a),r.Dh(c)));return Math.abs(d)<r.fF?0:d};r.eV=function(a,c,d){a=r.Dd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};r.rD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
r.X9=function(a,c,d,e){var f=r.a(0,0);return r.rD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};r.R9=function(a,c,d,e){var f=r.a(0,0);return r.rD(a,c,d,e,f)?(d=r.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):r.vj()};r.W9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};r.b$=function(a){a.x=0;a.y=0};r.Q9=function(a,c){a.x=c.x;a.y=c.y};r.dV=function(a,c){a.x*=c;a.y*=c};r.Y9=function(a,c){a.x-=c.x;a.y-=c.y};r.H9=function(a,c){a.x+=c.x;a.y+=c.y};
r.S9=function(a){r.dV(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};r.Eda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=r.a(a[2*k],a[2*k+1]),m;if(0===k)m=r.px(r.Dh(r.Dd(l,r.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=r.px(r.Dh(r.Dd(r.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=r.a(a[2*(k-1)],a[2*(k-1)+1]);var n=r.a(a[2*(k+1)],a[2*(k+1)+1]),p=r.Dh(r.Dd(n,l)),q=r.Dh(r.Dd(m,l)),u=Math.acos(r.dq(p,q));m=u<r.tj(70)?r.px(r.Dh(r.sD(p,q))):u<r.tj(170)?r.Dh(r.sD(p,q)):r.px(r.Dh(r.Dd(n,m)))}m=r.kj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=r.Lu(d[2*g],d[2*g+1]),f=r.Lu(d[2*(g+1)],d[2*(g+1)+1]),g=r.Lu(d[2*a],d[2*a]),e=r.Lu(d[2*(a+1)],d[2*(a+1)+1]),c=!r.zY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Rs&&(0>c.value||1<c.value)&&(c.Rs=!0),c.Rs&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
r.zY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Rs:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Rs:!1,value:0}:{Rs:!0,value:(h+(f-h)*k/(k-g))/a}};r.dZ=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.I;c[4]=a.Ca;c[12]=a.Za;c[1]=a.g;c[5]=a.La;c[13]=a.$a};r.OZ=function(a,c){c.I=a[0];c.Ca=a[4];c.Za=a[12];c.g=a[1];c.La=a[5];c.$a=a[13]};r.dF=-1;r.m_=null;r.n_=null;r.oW=1;
r.D=r.Ea.extend({fb:0,Aw:0,Cg:0,Uh:0,xa:1,Ba:1,q:null,je:0,ke:0,t:null,ma:!0,Lh:null,Ld:null,wa:null,Ve:!1,Q:null,Tk:!1,qd:r.dF,xH:null,QB:null,ak:!0,xv:!0,$F:!0,t1:null,$j:null,tG:null,ie:!1,Jc:null,Sf:0,dh:null,Dg:null,sG:!1,Pq:!1,Su:null,Fi:null,IA:!1,Cm:0,Rr:0,FA:function(){this.Lh=r.xd();this.Ld=r.xd();this.wa=r.Gm();this.q=r.xd();this.t=[];this.$j={I:1,g:0,Ca:0,La:1,Za:0,$a:0};var a=r.Y.e();this.dh=a.Ig();this.Dg=a.Df();this.sG=!0;this.Su={I:1,g:0,Ca:0,La:1,Za:0,$a:0};r.bM&&(this.Fi=new r.bM(this))},
r:function(){!1===this.sG&&this.FA();return!0},tg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=r.D.Nf;switch(c){case d.Qg:for(d=0;d<e;d++)(f=a[d])&&f.Qg();break;case d.Sd:for(d=0;d<e;d++)(f=a[d])&&f.Sd();break;case d.li:for(d=0;d<e;d++)(f=a[d])&&f.li();break;case d.$f:for(d=0;d<e;d++)(f=a[d])&&f.$f();break;case d.lg:for(d=0;d<e;d++)(f=a[d])&&f.lg();break;case d.Ch:for(d=0;d<e;d++)(f=a[d])&&f.Ch();break;case d.Td:for(d=0;d<e;d++)(f=a[d])&&f.Td();break;default:throw"Unknown callback function";
}}},Xa:null,fQ:function(){this.Em();!1===this.ak&&(this.ak=this.xv=!0)},gQ:function(){!1===this.ak&&(this.ak=this.xv=!0)},w6:function(){return this.je},Vx:function(a){this.je=a;this.Xa()},x6:function(){return this.ke},Wx:function(a){this.ke=a;this.Xa()},m7:function(){return this.fb},cw:function(a){this.fb=a},qca:function(a){this.cw(a);this.Q&&this.Q.ct(this,a)},c7:function(){return this.Aw},bL:function(a){this.Aw=a},hT:function(){this.Cg!==this.Uh&&r.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Cg},Rx:function(a){this.Cg=this.Uh=a;this.Cm=0.017453292519943295*this.Cg;this.Rr=0.017453292519943295*this.Uh;this.Xa()},m6:function(){return this.Cg},Sx:function(a){this.Cg=a;this.Cm=0.017453292519943295*this.Cg;this.Xa()},n6:function(){return this.Uh},Tx:function(a){this.Uh=a;this.Rr=0.017453292519943295*this.Uh;this.Xa()},EC:function(){this.xa!==this.Ba&&r.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.xa},tk:function(a,c){this.xa=a;this.Ba=
c||0===c?c:a;this.Xa()},iT:function(){return this.xa},jq:function(a){this.xa=a;this.Xa()},jT:function(){return this.Ba},Jn:function(a){this.Ba=a;this.Xa()},n:function(a,c){var d=this.q;2==arguments.length?(d.F=a,d.H=c):1==arguments.length&&(d.F=a.x,d.H=a.y);this.Xa()},W5:function(){return this.q},X5:function(){return this.q.F},kb:function(a){this.q.F=a;this.Xa()},Y5:function(){return this.q.H},ed:function(a){this.q.H=a;this.Xa()},j4:function(){return this.t.length},i4:function(){return this.t},vJ:function(){return this.ma},
v:function(a){this.ma=a;this.Xa()},R3:function(){return this.Lh},M:function(a,c){var d=this.Lh;if(2===arguments.length){if(a===d.F&&c===d.H)return;d.F=a;d.H=c}else{if(a.x===d.F&&a.y===d.H)return;d.F=a.x;d.H=a.y}var e=this.Ld,f=this.wa;e.F=f.Ha*d.F;e.H=f.va*d.H;this.Xa()},S3:function(){return this.Ld},c:function(){return this.wa},W:function(a,c){var d=this.wa;if(2===arguments.length){if(a===d.Ha&&c===d.va)return;d.Ha=a;d.va=c}else{if(a.width===d.Ha&&a.height===d.va)return;d.Ha=a.width;d.va=a.height}var e=
this.Ld,f=this.Lh;e.F=d.Ha*f.F;e.H=d.va*f.H;this.Xa()},s8:function(){return this.Ve},getParent:function(){return this.Q},jt:function(a){this.Q=a},d8:function(){return this.Tk},ej:function(a){a!=this.Tk&&(this.Tk=a,this.Xa())},sT:function(){return this.qd},ZK:function(a){this.qd=a},getUserData:function(){return this.xH},setUserData:function(a){this.xH=a},a7:function(){return this.QB},jca:function(a){this.QB!=a&&(this.QB=a)},M5:function(){return this.Sf},iq:function(a){this.Sf=a},Ig:function(){this.dh||
(this.dh=r.Y.e().Ig());return this.dh},zW:function(a){this.dh!=a&&(this.iE(),this.dh=a)},Df:function(){this.Dg||(this.Dg=r.Y.e().Df());return this.Dg},BX:function(a){this.Dg!=a&&(this.tt(),this.Dg=a)},Ya:function(){var a=r.rect(0,0,this.wa.Ha,this.wa.va);return r.wi(a,this.dg())},$f:function(){this.iE();this.tt();this.tg(this.t,r.D.Nf.$f)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.qd+"\x3e"},JS:function(a){var c=this.t;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.qd==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?r.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.Q?r.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.fb,a.qd=null!=d?d:a.qd,this.$O(a,c),a.Q=this,this.Ve&&(a.Qg(),this.IA&&a.li()))},J:function(a){this.Q&&(null==a&&(a=!0),this.Q.removeChild(this,a))},XV:function(a){r.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.J(a)},removeChild:function(a,c){0!==this.t.length&&(null==c&&(c=!0),-1<this.t.indexOf(a)&&this.yO(a,c),this.Xa())},M$:function(a,c){a===r.dF&&r.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.JS(a);null==d?r.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},E$:function(a){r.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.rc(a)},rc:function(a){var c=this.t;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.Ve&&(e.Ch(),e.Sd()),a&&e.$f(),e.jt(null))}this.t.length=0}},yO:function(a,c){this.Ve&&(a.Ch(),a.Sd());c&&a.$f();a.jt(null);r.Vd(this.t,a)},$O:function(a,c){this.ie=!0;this.t.push(a);a.cw(c)},ct:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.ie=!0;a.iq(r.oW++);a.cw(c);this.Xa()},Td:function(){if(this.ie){var a=this.t,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.fb<f.fb||g.fb==f.fb&&g.Sf<f.Sf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.ie=!1}},Wa:function(){},ly:function(){null!=this.Q&&(this.Q.ly(),this.Q.transform())},Qg:function(){this.IA=!1;this.Ve=!0;this.tg(this.t,r.D.Nf.Qg);this.Cx()},li:function(){this.IA=!0;this.tg(this.t,r.D.Nf.li)},Ch:function(){this.tg(this.t,r.D.Nf.Ch)},Sd:function(){this.Ve=!1;this.rx();this.tg(this.t,r.D.Nf.Sd);this.Fi&&this.Fi.SV()},Dx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Ig().YQ(a,this,!this.Ve);return a},iE:function(){this.Ig().hK(this)},
gY:function(a){this.Ig().gK(a)},Ica:function(a){a===r.Wn?r.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Ig().RV(a,this)},AC:function(a){return a===r.Wn?(r.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Ig().AC(a,this)},y5:function(){return this.Ig().KU(this)},rW:function(){this.sW(0)},sW:function(a){this.Df().pK(this,a,!this.Ve)},qda:function(){this.Df().qq(this)},Zb:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?r.bm:d;e=e||0;this.Df().qW(this,a,c,d,e,!this.Ve)},Rc:function(a,c){this.Zb(a,0,0,c)},Tc:function(a){a&&this.Df().CL(this,a)},tt:function(){this.Df().BL(this)},Cx:function(){this.Df().Dn(this);this.Ig().Dn(this)},rx:function(){this.Df().at(this);this.Ig().at(this)},naa:function(a){this.Su=a;this.Pq=this.ak=!0},e$:function(){this.xv&&(this.tG=r.AE(this.dg()),this.xv=!1);return this.tG},Ys:function(){for(var a=this.dg(),c=this.Q;null!=
c;c=c.getParent())a=r.Ul(a,c.dg());return a},CY:function(){return r.AE(this.Ys())},Da:function(a){return r.pF(a,this.CY())},ml:function(a){return r.pF(a,this.Ys())},SR:function(a){return r.Dd(this.Da(a),this.Ld)},I2:function(a){a=r.fg(a,this.Ld);return this.ml(a)},P0:function(a){a=this.ml(a);return r.Y.e().TR(a)},ci:function(a){return this.Da(a.K)},J2:function(a){a=a.K;a=r.Y.e().RR(a);return this.SR(a)},update:function(a){this.Fi&&!this.Fi.Z7()&&this.Fi.sa(a)},lg:function(){this.tg(this.t,r.D.Nf.lg)},
nK:function(){},ED:function(){},KS:function(a){return this.Fi.KS(a)},B1:function(a){this.Fi.add(a)},N$:function(a){return this.Fi.remove(a)},F$:function(){this.Fi.SV()},kH:null,DB:null,AA:null,xo:null,Qk:null,ctor:null,Mh:function(){this.FA()},Nh:function(){this.FA();var a=new r.Ah;a.Bh[2]=a.Bh[3]=a.Bh[6]=a.Bh[7]=a.Bh[8]=a.Bh[9]=a.Bh[11]=a.Bh[14]=0;a.Bh[10]=a.Bh[15]=1;this.kH=a;this.AA=0;this.DB=new r.Ah},sa:null,Sm:function(a){if(this.ma){a=a||r.X;var c,d=this.t,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Td();for(c=0;c<f;c++)if(e=d[c],0>e.fb)e.sa(a);else break;for(this.Wa(a);c<f;c++)d[c].sa(a)}else this.Wa(a);this.Sf=0;a.restore()}},Tm:function(){if(this.ma){var a=r.X,c,d=r.XR;d.stack.push(d.top);r.N8(this.DB,d.top);d.top=this.DB;var e=this.Qk;e&&e.QN&&e.eC();this.transform();var f=this.t;if(f&&0<f.length){var g=f.length;this.Td();for(c=0;c<g;c++)if(f[c]&&0>f[c].fb)f[c].sa();else break;for(this.Wa(a);c<g;c++)f[c]&&f[c].sa()}else this.Wa(a);this.Sf=0;e&&e.QN&&e.aC(this);d.top=
d.stack.pop()}},transform:null,GQ:function(a){a=a||r.X;var c=r.ta.e(),d=this.dg();a.transform(d.I,d.Ca,d.g,d.La,d.Za*c.xa,-d.$a*c.Ba)},HQ:function(){var a=this.kH,c=r.XR.top,d=this.dg(),e=a.Bh;e[0]=d.I;e[4]=d.Ca;e[12]=d.Za;e[1]=d.g;e[5]=d.La;e[13]=d.$a;e[14]=this.Aw;r.xU(c,c,a);null==this.xo||null!=this.Qk&&this.Qk.Tp()||(a=this.Ld.F,c=this.Ld.H,0!==a||0!==c?(r.vU(r.pg(a),r.pg(c),0),this.xo.yJ(),r.vU(r.pg(-a),r.pg(-c),0)):this.xo.yJ())},dg:null,qP:function(){this.$j||(this.$j={I:1,g:0,Ca:0,La:1,Za:0,
$a:0});if(this.ak){var a=this.$j;a.Za=this.q.F;a.$a=this.q.H;var c=1,d=0;this.Cg&&(c=Math.cos(this.Cm),d=Math.sin(this.Cm));a.I=a.La=c;a.g=-d;a.Ca=d;var e=this.xa,f=this.Ba,g=this.Ld.F,h=this.Ld.H,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.je||this.ke){var m=Math.tan(-this.je*Math.PI/180),n=Math.tan(-this.ke*Math.PI/180),p=h*m*k,q=g*n*l;a.I=c+-d*n;a.g=c*m+-d;a.Ca=d+c*n;a.La=d*m+c;a.Za+=c*p+-d*q;a.$a+=d*p+c*q}if(1!==e||1!==f)a.I*=k,a.Ca*=k,a.g*=l,a.La*=l;a.Za+=c*-g*k+-d*h*l;a.$a-=d*
-g*k+c*h*l;this.Tk&&(a.Za+=g,a.$a+=h);this.Pq&&(this.$j=r.Ul(this.$j,this.Su),this.Pq=!1);this.ak=!1}return this.$j},rP:function(){if(this.ak){var a=this.q.F,c=this.q.H,d=this.Ld.F,e=-d,f=this.Ld.H,g=-f,h=this.xa,k=this.Ba;this.Tk&&(a+=d,c+=f);var l=1,m=0,n=1,p=0;if(0!==this.Cg||0!==this.Uh)l=Math.cos(-this.Cm),m=Math.sin(-this.Cm),n=Math.cos(-this.Rr),p=Math.sin(-this.Rr);var q=this.je||this.ke;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=p*e*h+l*g*k);a={I:n*h,g:p*h,Ca:-m*k,La:l*k,Za:a,$a:c};q&&(a=r.Ul({I:1,
g:Math.tan(r.tj(this.ke)),Ca:Math.tan(r.tj(this.je)),La:1,Za:0,$a:0},a),0!==d||0!==f)&&(a=r.sy(a,e,g));this.Pq&&(a=r.Ul(a,this.Su),this.Pq=!1);this.$j=a;this.ak=!1}return this.$j},Em:function(){this.$F=!0;this.Q&&this.Q.Em()},BC:function(){this.xo||(this.xo=new r.wq);return this.xo},S4:function(){return this.Qk},Raa:function(a){this.Qk=a},GC:function(){return this.Jc},Sg:function(a){this.Jc=a},R4:function(){return this.AA},Qaa:function(a){this.AA=a},a4:function(){var a=r.rect(0,0,this.wa.Ha,this.wa.va),
c=this.Ys(),a=r.$g(a,this.Ys());if(!this.t)return a;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.ma&&(f=f.lG(c))&&(a=r.yx(a,f))}return a},lG:function(a){var c=r.rect(0,0,this.wa.Ha,this.wa.va);a=null==a?this.dg():r.Ul(this.dg(),a);c=r.$g(c,a);if(!this.t)return c;for(var d=this.t,e=0;e<d.length;e++){var f=d[e];f&&f.ma&&(f=f.lG(a))&&(c=r.yx(c,f))}return c}});
r.Ga.Sc?(b=r.D.prototype,b.ctor=r.D.prototype.Nh,b.Xa=r.D.prototype.gQ,b.sa=r.D.prototype.Tm,b.transform=r.D.prototype.HQ,b.dg=r.D.prototype.rP):(b=r.D.prototype,b.ctor=r.D.prototype.Mh,b.Xa=r.D.prototype.fQ,b.sa=r.D.prototype.Sm,b.transform=r.D.prototype.GQ,b.dg=r.D.prototype.qP);r.D.create=function(){return new r.D};r.D.Nf={Qg:1,Sd:2,$f:3,li:4,lg:5,Ch:6,Td:7};
r.Bb=r.D.extend({lb:!0,Yb:255,Bg:255,Hc:null,he:null,ud:!1,be:!1,ctor:function(){r.D.prototype.ctor.call(this);this.Bg=this.Yb=255;this.Hc=r.Ab();this.he=r.Ab();this.be=this.ud=!1},aj:function(){return this.Bg},MS:function(){return this.Yb},ja:function(a){this.Yb=this.Bg=a;a=255;var c=this.Q;c&&c.lb&&c.be&&(a=c.Yb);this.gd(a)},gd:function(a){this.Yb=this.Bg*a/255;if(this.be){a=this.t;for(var c=0;c<a.length;c++){var d=a[c];d&&d.lb&&d.gd(this.Yb)}}},nU:function(){return this.be},yK:function(a){this.be!==
a&&((this.be=a)?this.lr():this.hA())},lr:function(){var a=255,c=this.Q;c&&c.lb&&c.be&&(a=c.Yb);this.gd(a)},hA:function(){this.Yb=this.Bg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.lb&&d.gd(255)}},Bd:function(){var a=this.he;return new r.Dc(a.p,a.o,a.g)},Fs:function(){return this.Hc},l:function(a){var c=this.Hc,d=this.he;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.Q)&&a.lb&&a.ud?a.Fs():r.Ab();this.fd(a)},fd:function(a){var c=this.Hc,d=this.he;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*
a.g/255;if(this.ud)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.lb&&e.fd(c)}},mU:function(){return this.ud},xK:function(a){this.ud!==a&&((this.ud=a)?this.kr():this.gA())},kr:function(){var a;a=(a=this.Q)&&a.lb&&a.ud?a.Fs():r.Ab();this.fd(a)},gA:function(){var a=this.Hc,c=this.he;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.t,c=r.Ab(),d=0;d<a.length;d++){var e=a[d];e&&e.lb&&e.fd(c)}},f:function(a,c,d){r.D.prototype.f.call(this,a,c,d);this.ud&&this.kr();this.be&&this.lr()},Kf:function(){},ul:function(){return!1}});
r.Bb.create=function(){var a=new r.Bb;a.r();return a};r.Wd=r.Bb.extend({lb:!0,zG:0,yG:0,zv:0,yv:0,Ej:null,Sa:null,nc:!1,ha:null,Or:0,BA:!1,ctor:function(){r.Bb.prototype.ctor.call(this);this.Ej=r.Ab();this.ha={src:r.Ke,Ib:r.Je};this.BA=!1},sda:function(){r.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Bd:function(){return this.nc?this.Ej:r.Bb.prototype.Bd.call(this)},Kf:function(a){var c=this.Bd();this.nc=a;this.l(c)},ul:function(){return this.nc},Es:function(){return this.ha},Hl:function(a,c){this.ha=1==arguments.length?
a:{src:a,Ib:c}},lq:function(a){this.Sa=a},JI:function(){return this.Sa},e6:function(){return this.Or},Eba:function(a){this.Or=a},Mm:null,xg:null,nH:null,av:null,cU:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=r.ia.e().ra(a);return this.Ma(a,c,d,e)},Ma:null,zr:function(a,c,d,e){this.zv=c;this.yv=d;this.nc=!0;this.xg=a;if(!this.xg)return r.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Mm=this.xg;this.Xu();this.Or=e;return!0},
Ar:function(a,c,d,e){this.zv=c;this.yv=d;this.Ej=r.Ab();this.nc=!0;this.ha.src=r.Ke;this.ha.Ib=r.Je;c=this.he;this.av=new Float32Array([c.p/255,c.o/255,c.g/255,this.Bg/255]);this.Sa=new r.ko;this.Sa.Ma(a,e);if(!this.Sa)return r.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Rm();this.uH();this.Xu();this.Or=e;this.Sg(r.Kh.e().oi(r.X_));this.nH=r.X.getUniformLocation(this.GC().Yw(),"u_color");return!0},Wa:null,wg:function(a){a=a||r.X;r.Ty(this);r.ik(this.ha.src,this.ha.Ib);
a.uniform4fv(this.nH,this.av);this.Sa.jI(this.Or,0)},l:null,Tr:function(a){var c=this.he;if(c.p!=a.p||c.o!=a.o||c.g!=a.g){c=new r.Dc(a.p,a.o,a.g);this.Ej=a;if(this.nc){var d=this.Yb;c.p=c.p*d/255;c.o=c.o*d/255;c.g=c.g*d/255}r.Bb.prototype.l.call(this,a);this.aa()&&(a=this.xg.Ic)&&(c=r.ia.e().KI(a))&&(d=r.rect(0,0,a.width,a.height),a=r.zC(a,c,this.he,d),c=new r.bc,c.Ff(a),c.Be(),this.ga(c))}},pB:function(a){var c=r.Dc(a.p,a.o,a.g);this.Ej=a;var d=this.Yb;this.nc&&(c.p=c.p*d/255,c.o=c.o*d/255,c.g=c.g*
d/255);r.Bb.prototype.l.call(this,a);a=this.Hc;this.av=new Float32Array([a.p/255,a.o/255,a.g/255,d/255])},ja:null,Vr:function(a){r.Bb.prototype.ja.call(this,a);this.nc&&this.l(this.Ej)},sB:function(a){r.Bb.prototype.ja.call(this,a);this.nc?this.l(this.Ej):(a=this.Hc,this.av=new Float32Array([a.p/255,a.o/255,a.g/255,this.Yb/255]))},aa:null,xA:function(){return this.Mm},yA:function(){return this.Sa.aa()},ga:null,Wr:function(a){this.Mm=a},Xr:function(a){this.Sa.ga(a);this.Rm();this.uH()},Xu:null,gO:function(){var a=
this.aa().c();this.yG=0|a.height/this.yv;this.zG=0|a.width/this.zv},hO:function(){var a=this.aa(),c=a.c();this.BA&&(c=a.wa);this.yG=0|c.height/this.yv;this.zG=0|c.width/this.zv},Rm:function(){this.Sa.aa().Ns()||(this.ha.src=770,this.ha.Ib=771)},uH:function(){this.nc=this.Sa.aa().Ns()},rB:function(a){this.BA=a}});
r.Ga.Sc?(b=r.Wd.prototype,b.Ma=r.Wd.prototype.Ar,b.Wa=r.Wd.prototype.wg,b.l=r.Wd.prototype.pB,b.ja=r.Wd.prototype.sB,b.aa=r.Wd.prototype.yA,b.ga=r.Wd.prototype.Xr,b.Xu=r.Wd.prototype.hO):(b=r.Wd.prototype,b.Ma=r.Wd.prototype.zr,b.Wa=r.D.prototype.Wa,b.l=r.Wd.prototype.Tr,b.ja=r.Wd.prototype.Vr,b.aa=r.Wd.prototype.xA,b.ga=r.Wd.prototype.Wr,b.Xu=r.Wd.prototype.gO);r.Wd.create=function(a,c,d,e){var f=new r.Wd;return f.cU(a,c,d,e)?f:null};r.xj=0;r.Gq=1;r.Fq=2;r.Eq=3;r.jz=4;r.iz=5;r.Bu=6;r.Au=7;r.AF=8;r.zF=9;r.yF=r.xj;r.$z=r.yF;r.dN=!1;r.q1=function(a,c,d,e){this.GU=a||0;this.DU=c||0;this.PL=d||0;this.QL=e||0};
r.tN=r.Ea.extend({uP:null,Tf:null,mh:null,lh:null,MA:null,wa:null,hh:null,ih:null,No:null,rm:!1,Jc:null,tc:!1,Ic:null,bi:null,Md:null,ctor:function(){this.lh=this.mh=0;this.MA="";this.ih=this.hh=0;this.No=!1;this.wa=r.Gm();this.rm=!1;this.uP=!0;this.Tf=r.bc.YR();this.Jc=null;this.tc=!1;this.bi=this.Ic=null;this.Md=[]},FD:function(){this.bi&&r.X.deleteTexture(this.bi)},R5:function(){return this.Tf},Kp:function(){return this.mh},Jp:function(){return this.lh},getName:function(){return this.bi},c:function(){return r.size(this.wa.width/
r.Id(),this.wa.height/r.Id())},LS:function(){return this.wa},US:function(){return this.hh},fX:function(a){this.hh=a},VS:function(){return this.ih},gX:function(a){this.ih=a},GC:function(){return this.Jc},Sg:function(a){this.Jc=a},Ns:function(){return this.No},MT:function(){return this.rm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.MA+" | Dimensions \x3d "+this.mh+" x "+this.lh+" | Coordinates \x3d ("+this.hh+", "+this.ih+")\x3e"},PV:function(){},tU:function(a){return a},cx:function(a,
c,d,e,f){var g=r.X,h=0,h=c===r.xj?24:this.SH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.bi=g.createTexture();r.Kg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case r.xj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case r.Gq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case r.Bu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case r.Au:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case r.Fq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case r.iz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case r.Eq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case r.jz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.wa.Ha=f.width;this.wa.va=f.height;this.mh=d;this.lh=e;this.Tf=c;this.hh=f.width/d;this.ih=f.height/e;this.rm=this.No=!1;this.Sg(r.Kh.e().oi(r.iN));return this.tc=!0},nS:function(a){var c=[0,this.ih,this.hh,this.ih,0,0,this.hh,
0],d=this.mh*this.hh,e=this.lh*this.ih;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];r.we(r.bh|r.CN);this.Jc.pf();this.Jc.aL();r.Kg(this);d=r.X;d.vertexAttribPointer(r.Ne,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(r.Kq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},pS:function(a){var c=[0,this.ih,this.hh,this.ih,0,0,this.hh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];r.we(r.bh|r.CN);this.Jc.pf();this.Jc.aL();r.Kg(this);var d=r.X;d.vertexAttribPointer(r.Ne,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(r.Kq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},VC:function(a){if(null==a)return r.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Ls(),d=a.Gs(),e=r.Le.e().Hr;if(c>e||d>e)return r.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.tc=!0;return this.RO(a,c,d)},Ff:function(a){a&&(this.bi=r.X.createTexture(),this.Ic=a)},PS:function(){return this.Ic},Ng:function(){return this.tc},
Be:function(){this.tc=!0;var a=r.X;r.Kg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Ic);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Sg(r.Kh.e().oi(r.iN));r.Kg(null);a=this.Ic.height;this.mh=this.wa.Ha=this.Ic.width;this.lh=this.wa.va=
a;this.Tf=r.xj;this.ih=this.hh=1;this.rm=this.No=!1;this.ae()},sl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=r.size(0,0),f=r.yj,g=r.Mq);var h=new r.xM,k;if(r.Mq===g)k=r.yj===f?r.LY:r.Hq===f?r.MY:r.NY;else if(r.Ku===g)k=r.yj===f?r.IY:r.Hq===f?r.JY:r.KY;else if(r.Lq===g)k=r.yj===f?r.FY:r.Hq===f?r.GY:r.HY;else return r.log("Not supported alignment format!"),!1;return h.sl(a,e.width,e.height,k,c,d)?this.VC(h):!1},WT:function(){return!1},dJ:function(a){var c=!1,d=new r.m0;
(c=d.C7(a))?(d.Mba(!0),this.MA=d.getName(),this.ih=this.hh=1,this.mh=d.Ls(),this.lh=d.Gs(),this.wa.Ha=this.mh,this.wa.va=this.lh,this.No=r.dN,this.Tf=d.P4(),this.tK()):r.log("cocos2d: Couldn't load PVR image "+a);return c},$T:function(){return r.Le.e().fs?!0:(r.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},GX:function(a){var c=r.X;r.Dt(this.mh==r.bo(this.mh)&&this.lh==r.bo(this.lh)||a.PL==c.CLAMP_TO_EDGE&&a.QL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
r.Kg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.GU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.DU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.PL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.QL)},tK:function(){var a=r.X;r.Kg(this);this.rm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},sK:function(){var a=r.X;r.Kg(this);
this.rm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){r.Dt(this.mh==r.bo(this.mh)&&this.lh==r.bo(this.lh),"Mimpap texture only works in POT textures");r.Kg(this);r.X.generateMipmap(r.X.TEXTURE_2D);this.rm=!0},hY:function(){switch(this.Tf){case r.xj:return"RGBA8888";case r.Gq:return"RGB888";case r.Fq:return"RGB565";case r.Bu:return"RGBA4444";
case r.Au:return"RGB5A1";case r.iz:return"AI88";case r.Eq:return"A8";case r.jz:return"I8";case r.AF:return"PVRTC4";case r.zF:return"PVRTC2";default:r.log("stringForFormat: "+this.Tf+", cannot give useful result, it's a unrecognized pixel format")}return""},SH:function(a){a=a||this.Tf;switch(a){case r.xj:return 32;case r.Gq:return 32;case r.Fq:return 16;case r.Eq:return 8;case r.Bu:return 16;case r.Au:return 16;case r.AF:return 4;case r.zF:return 2;case r.jz:return 8;case r.iz:return 16;default:return r.log("bitsPerPixelForFormat: "+
this.Tf+", cannot give useful result, it's a illegal pixel format"),-1}},RO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.r7(),h=r.size(a.Ls(),a.Gs()),k=r.yF,l=a.Y3();g||(8<=l?k=r.Gq:(r.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=r.Fq));var m=c*d;if(k==r.Fq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==r.Bu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==r.Au)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==r.Eq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==r.Gq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.cx(e,k,c,d,h);a.getData();this.No=a.n8();return!0},Yf:function(a,c){this.Md.push({hk:a,ei:c})},YV:function(a){for(var c=this.Md,d=0;d<c.length;d++)c[d].ei==a&&c.splice(d,1)},ae:function(){for(var a=this.Md,c=0,d=a.length;c<d;c++){var e=a[c];e.hk.call(e.ei,this)}a.length=0}});
r.sN=r.Ea.extend({wa:null,tc:!1,Ic:null,Md:null,ctor:function(){this.wa=r.Gm();this.tc=!1;this.Ic=null;this.Md=[]},Kp:function(){return this.wa.Ha},Jp:function(){return this.wa.va},c:function(){var a=r.Id();return r.size(this.wa.Ha/a,this.wa.va/a)},LS:function(){return this.wa},Ff:function(a){a&&(this.Ic=a)},PS:function(){return this.Ic},Ng:function(){return this.tc},Be:function(){this.tc=!0;var a=this.Ic;this.wa.Ha=a.width;this.wa.va=a.height;this.ae()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.wa.Ha+" height "+this.wa.va+"\x3e"},cx:function(){return!1},VC:function(){return!1},sl:function(){return!1},FD:function(){},getName:function(){return null},US:function(){return 1},fX:function(){},VS:function(){return 1},gX:function(){},GC:function(){return null},Sg:function(){},Ns:function(){return!1},MT:function(){return!1},PV:function(){},tU:function(a){return a},nS:function(){},pS:function(){},WT:function(){return!1},dJ:function(){return!1},$T:function(){return!0},GX:function(){},tK:function(){},
sK:function(){},generateMipmap:function(){},hY:function(){return""},SH:function(){return-1},Yf:function(a,c){this.Md.push({hk:a,ei:c})},YV:function(a){for(var c=this.Md,d=0;d<c.length;d++)c[d].ei==a&&c.splice(d,1)},ae:function(){for(var a=this.Md,c=0,d=a.length;c<d;c++){var e=a[c];e.hk.call(e.ei,this)}a.length=0}});r.bc=r.Ga.Sc?r.tN:r.sN;r.bc.Caa=function(a){r.$z=a};r.bc.YR=function(){return r.$z};r.bc.w4=function(){return r.$z};r.Ds=null;r.Z8=function(a){if(r.OR(a)==r.rM)r.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){r.ia.e().sR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};r.OR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?r.KZ:0<a.toLowerCase().indexOf(".png")?r.LZ:0<a.toLowerCase().indexOf(".webp")?r.NZ:r.rM};
r.ia=r.Ea.extend({tb:null,gs:null,nw:null,PG:!1,Cv:null,Dv:null,ctor:function(){if(r.Ds)throw"Attempted to allocate a second instance of a singleton.";this.nw+=0|1E3*Math.random();this.tb={};this.gs={};r.Fd===r.Ek&&(this.Cv={},this.Dv={})},Dz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},ZO:function(){this.PG=!0;var a,c=this.Cv,d=this.tb;for(a in c){var e=c[a],f=new r.bc;f.Ff(e);f.Be();d[a]=f}this.Cv={}},I1:function(){r.log("TextureCache:addPVRTCImage does not support on HTML5")},
D1:function(){r.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.tb.length+"\x3e"},hy:function(a){a=r.Jd.e().qe(a);return this.tb.hasOwnProperty(a)?this.tb[a]:null},RS:function(a){for(var c in this.tb)if(this.tb[c]==a)return c;return null},IO:function(){this.nw++;return"_textureKey_"+this.nw},KI:function(a){var c=this.RS(a);c||(c=a instanceof HTMLImageElement?a.src:this.IO());this.gs.hasOwnProperty(c)||(this.gs[c]=
r.Ep(a));return this.gs[c]},H1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=r.Jd.e().qe(a);if(null!=this.tb[a])return this.tb[a];var c=new r.bc;c.dJ(a)?this.tb[a]=c:r.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},I$:function(){var a=this.tb,c;for(c in a)a[c]&&a[c].FD();this.tb={}},X$:function(a){if(a){var c=this.tb,d;for(d in c)c[d]==a&&(c[d].FD(),delete c[d])}},bW:function(a){null!=a&&(a=r.Jd.e().qe(a),this.tb[a]&&delete this.tb[a])},E1:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=r.Jd.e().qe(a);var e=this.tb[a],f,g;if(e)e.Ng()?this.Dz(c,d):(g=this,f=e.Ic,f.addEventListener("load",function(){e.Be();g.Dz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.tb.hasOwnProperty(a)&&g.tb[a].Be();g.Dz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){r.ac.e().un(a);g.tb.hasOwnProperty(a)&&delete g.tb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new r.bc;h.Ff(f);this.tb[a]=h}return this.tb[a]},SN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){r.ac.e().ni();d.Cv[a]=c;delete d.Dv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){r.ac.e().un(a);
delete d.Dv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Dv[a]=c},ra:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(r.Fd===r.Ek&&!this.PG)return this.SN(a);a=r.Jd.e().qe(a);var c=this.tb[a],d;if(c)c.Ng()?r.ac.e().ni():(d=c.Ic,d.addEventListener("load",function(){c.Be();r.ac.e().ni();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){r.ac.e().ni();e.tb.hasOwnProperty(a)&&
e.tb[a].Be();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){r.ac.e().un(a);e.tb.hasOwnProperty(a)&&delete e.tb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new r.bc;f.Ff(d);this.tb[a]=f}return this.tb[a]},sR:function(a,c){if(c instanceof r.bc)this.tb[a]=c;else{var d=new r.bc;d.Ff(c);d.Be();this.tb[a]=d}},N1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.tb.hasOwnProperty(c)&&this.tb[c])return this.tb[c];var d=new r.bc;d.VC(a);null!=c&&null!=d?this.tb[c]=d:r.log("cocos2d: Couldn't add UIImage in TextureCache");return d},e3:function(){var a=0,c=0,d=this.tb,e;for(e in d){var f=d[e];a++;f.Ic instanceof HTMLImageElement?r.log("cocos2d: '"+e+"' id\x3d"+f.Ic.src+" "+f.Kp()+" x "+f.Jp()):r.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Kp()+" x "+f.Jp());c+=f.Kp()*f.Jp()*4}d=this.gs;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;r.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}r.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});r.ia.e=function(){r.Ds||(r.Ds=new r.ia);return r.Ds};r.ia.BV=function(){r.Ds=null};r.ko=r.Ea.extend({wd:null,Di:null,Ja:!1,kd:0,Fa:null,Se:null,zg:null,Pr:null,Ag:null,ctor:function(){this.Di=[]},T6:function(){return this.Ua},g4:function(){return this.kd},aa:function(){return this.Fa},ga:function(a){this.Fa=a},Rg:function(a){this.Ja=a},oJ:function(){return this.Ja},d6:function(){return this.Se},Dba:function(a){this.Se=a},Q0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.bw(a[d],c+d)},bw:function(a,c){var d=this.Se;d[c]?(d[c].Ka=a.Ka,d[c].Va=a.Va,d[c].Ta=a.Ta,d[c].Na=a.Na):d[c]=
new r.cc(a.Ta,a.Ka,a.Na,a.Va,this.zg,c*r.cc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ua+"\x3e"},bH:function(){if(0!==this.kd)for(var a=this.wd,c=this.kd,d=0;d<c;d++)r.BF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},vQ:function(){var a=r.X;this.Di[0]=a.createBuffer();this.Di[1]=a.createBuffer();this.Pr=a.createBuffer();
this.BG()},BG:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.Pr);a.bufferData(a.ARRAY_BUFFER,this.zg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Di[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.wd,a.STATIC_DRAW)},fj:function(a,c){var d=r.ia.e().ra(a);if(d)return this.Ma(d,c);r.log("cocos2d: Could not open file: "+a);return!1},Ma:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.kd=c|=0;this.Ua=0;this.Fa=a;this.Se=[];this.wd=new Uint16Array(6*
c);var d=r.cc.BYTES_PER_ELEMENT;this.zg=new ArrayBuffer(d*c);this.Ag=new Uint8Array(this.zg);if((!this.Se||!this.wd)&&0<c)return!1;for(var e=this.Se,f=0;f<c;f++)e[f]=new r.cc(null,null,null,null,this.zg,f*d);this.bH();this.vQ();return this.Ja=!0},ny:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.kd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ua=Math.max(c+1,this.Ua);this.bw(a,c);this.Ja=!0},aD:function(a,c){if(c>=this.kd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ua++;if(this.Ua>this.kd)r.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=r.cc.BYTES_PER_ELEMENT,e=c*d,f=(this.Ua-1-c)*d;this.Se[this.Ua-1]=new r.cc(null,null,null,null,this.zg,(this.Ua-1)*d);this.Ag.set(this.Ag.subarray(e,e+f),e+d);this.bw(a,c);this.Ja=!0}},I7:function(a,c,d){d=d||a.length;if(c+d>this.kd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=r.cc.BYTES_PER_ELEMENT;this.Ua+=d;if(this.Ua>this.kd)r.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ua-1-c-d)*e,h=this.Ua-1-d,k;for(k=0;k<d;k++)this.Se[h+k]=new r.cc(null,null,null,null,this.zg,(this.Ua-1)*e);this.Ag.set(this.Ag.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.bw(a[k],c+k);this.Ja=!0}},H7:function(a,c){if(a!==c){if(0>c&&c>=this.Ua)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ua)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=r.cc.BYTES_PER_ELEMENT,e=this.Ag,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ja=!0}},$V:function(a){if(a>=this.Ua)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=r.cc.BYTES_PER_ELEMENT;this.Ua--;this.Se.length=this.Ua;if(a!==this.Ua){var d=(a+1)*c;this.Ag.set(this.Ag.subarray(d,d+(this.Ua-a)*c),d-c)}this.Ja=!0},P$:function(a,c){if(a+c>this.Ua)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ua-=c;if(a!==this.Ua){var d=r.cc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Ag.set(this.Ag.subarray(e,e+(this.Ua-a)*d),a*d)}this.Ja=!0},UV:function(){this.Ua=this.Se.length=0},n1:function(a){this.Ja=a},fW:function(a){if(a==this.kd)return!0;var c=r.cc.BYTES_PER_ELEMENT,d=this.kd;this.Ua=Math.min(this.Ua,a);var e=this.kd=0|a,f=this.Ua;if(null==this.Se)for(this.Se=[],this.zg=new ArrayBuffer(c*e),this.Ag=new Uint8Array(this.zg),a=0;a<e;a++)this.Se=new r.cc(null,null,null,null,this.zg,a*c);else{var g,h,k=this.Se;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new r.cc(k[a].Ta,k[a].Ka,k[a].Na,k[a].Va,h,a*c);for(;a<e;a++)g[a]=new r.cc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new r.cc(k[a].Ta,k[a].Ka,k[a].Na,k[a].Va,h,a*c);this.Ag=new Uint8Array(h);this.Se=g;this.zg=h}null==this.wd?this.wd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.wd,0),this.wd=c):this.wd=this.wd.subarray(0,6*e);this.bH();this.BG();return this.Ja=!0},z7:function(a){this.Ua+=a},k9:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ua-a;if(d+(this.Ua-a)>this.kd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ua)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ua)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=r.cc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Ag,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ja=!0},E3:function(a,
c){for(var d=c*r.cc.BYTES_PER_ELEMENT,e=new Uint8Array(this.zg,a*r.cc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},jI:function(a,c){c=c||0;if(0!==a&&this.Fa&&this.Fa.Ng()){var d=r.X;r.Kg(this.Fa);r.we(r.Ju);d.bindBuffer(d.ARRAY_BUFFER,this.Pr);this.Ja&&d.bufferData(d.ARRAY_BUFFER,this.zg,d.DYNAMIC_DRAW);d.vertexAttribPointer(r.Ne,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(r.Jq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(r.Kq,2,d.FLOAT,!1,24,16);this.Ja&&(this.Ja=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Di[1]);r.BF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.wd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.wd.BYTES_PER_ELEMENT);r.fi++}},qS:function(){this.jI(this.Ua,0)},k1:function(){var a=r.X;this.Di&&(this.Di[0]&&a.deleteBuffer(this.Di[0]),this.Di[1]&&a.deleteBuffer(this.Di[1]));this.Pr&&a.deleteBuffer(this.Pr)}});r.ko.create=function(a,c){var d=new r.ko;return d&&d.fj(a,c)?d:null};r.ko.ib=function(a,c){var d=new r.ko;return d&&d.Ma(a,c)?d:null};r.Cq=r.D.extend({ctor:function(){r.D.prototype.ctor.call(this);this.Tk=!0;this.M(0.5,0.5);this.W(r.Y.e().Sb)}});r.Cq.create=function(){return new r.Cq};r.kz=0;r.h0=1;
r.Uc=r.D.extend({Vk:!1,Uk:!1,Po:!1,il:0,os:r.kz,tm:!1,Yo:0,ctor:function(){r.D.prototype.ctor.call(this);this.Po=this.Uk=this.Vk=!1;this.il=0;this.os=r.kz;this.tm=!1;this.Yo=0},QO:function(){this.M(0.5,0.5);this.Tk=!0;var a=r.Y.e();this.W(a.Sb)},r:function(){r.D.prototype.r.call(this);this.QO();return!0},zx:function(){this.os===r.kz?r.OV(this,this.il):r.BD(this.il,!0,this)},g8:function(){return this.tm},Mx:function(a){if(!r.Zd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.tm!=
a&&(this.tm=a,this.Ve&&(a?r.Y.e().Cf().IH(this,this.Yo):r.Y.e().Cf().iK(this)))},jba:function(a){if(!r.Zd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Yo!==a&&(this.Yo=a,this.tm&&(this.Mx(!1),this.Mx(!0)))},v5:function(){return this.Yo},z8:function(){return this.Vk},$b:function(a){this.Vk!==a&&(this.Vk=a,this.Ve&&(a?this.zx():r.AL(this)))},X6:function(){return this.il},mq:function(a){this.il!==a&&(this.il=a,this.Vk&&(this.$b(!1),this.$b(!0)))},W6:function(){return this.os},
bE:function(a){this.os!==a&&(this.os=a,this.Vk&&(this.$b(!1),this.$b(!0)))},O7:function(){return this.Uk},laa:function(a){if(!r.yk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Uk&&(this.Uk=a,this.Ve)){var c=r.Y.e();a?c.Fp().Eh(this):c.Fp().Eh(null)}},yW:function(a){this.Uk&&r.yk&&r.Y.e().Fp().yW(a)},B9:function(){r.log("onAccelerometer event should be handled.")},f8:function(){return this.Po},aba:function(a){if(!r.ao)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Po&&(this.Po=a,this.Ve)){var c=r.Y.e();a?c.Ww().ZQ(this):c.Ww().WV(this)}},Qg:function(){var a=r.Y.e();this.Vk&&this.zx();r.D.prototype.Qg.call(this);this.Uk&&r.yk&&a.Fp().Eh(this);this.Po&&r.ao&&a.Ww().ZQ(this);this.tm&&r.Zd&&a.Cf().IH(this,this.Yo)},Sd:function(){var a=r.Y.e();this.Vk&&r.AL(this);this.Uk&&r.yk&&a.Fp().Eh(null);this.Po&&r.ao&&a.Ww().WV(this);this.tm&&r.Zd&&a.Cf().iK(this);r.D.prototype.Sd.call(this)},li:function(){this.Uk&&r.yk&&r.Y.e().Fp().Eh(this);r.D.prototype.li.call(this)},
nb:function(){r.log("onTouchBegan event should be handled.");return!0},sd:function(){},Hf:function(){},nk:function(){},KJ:function(){},NJ:function(){},MJ:function(){},LJ:function(){},OU:function(){return!1},PU:function(){return!1},mi:function(){return!1},SU:function(){return!1},WU:function(){return!1},XU:function(){return!1},YU:function(){return!1},TU:function(){return!1},UU:function(){return!1},VU:function(){return!1},ZU:function(){return!1},QU:function(){return!1},RU:function(){return!1},oD:function(){},
Bl:function(){}});r.Uc.create=function(){var a=new r.Uc;return a&&a.r()?a:null};
r.Ih=r.Uc.extend({lb:!0,Yb:0,Bg:0,Hc:null,he:null,be:!1,ud:!1,ctor:function(){r.Uc.prototype.ctor.call(this);this.lb=!0;this.Bg=this.Yb=255;this.Hc=r.Ab();this.he=r.Ab();this.ud=this.be=!1},r:function(){return r.Uc.prototype.r.call(this)?(this.yK(!1),this.xK(!1),!0):!1},aj:function(){return this.Bg},MS:function(){return this.Yb},ja:function(a){this.Yb=this.Bg=a;a=255;var c=this.Q;c&&c.lb&&c.be&&(a=c.Yb);this.gd(a)},gd:function(a){this.Yb=0|this.Bg*a/255;if(this.be){a=this.t;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.lb&&d.gd(this.Yb)}}},nU:function(){return this.be},yK:function(a){this.be!==a&&((this.be=a)?this.lr():this.hA())},lr:function(){var a=255,c=this.Q;c&&c.lb&&c.be&&(a=c.Yb);this.gd(a)},hA:function(){this.Yb=this.Bg;for(var a=this.t,c=0;c<a.length;c++){var d=a[c];d&&d.lb&&d.gd(255)}},Bd:function(){var a=this.he;return r.k(a.p,a.o,a.g)},Fs:function(){var a=this.Hc;return r.k(a.p,a.o,a.g)},l:function(a){var c=this.Hc,d=this.he;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.Q)&&a.lb&&a.ud?a.Fs():
r.Ab();this.fd(a)},fd:function(a){var c=this.Hc,d=this.he;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*a.g/255;if(this.ud)for(a=this.t,d=0;d<a.length;d++){var e=a[d];e&&e.lb&&e.fd(c)}},mU:function(){return this.ud},xK:function(a){this.ud!==a&&((this.ud=a)?this.kr():this.gA())},kr:function(){var a;a=(a=this.Q)&&a.lb&&a.ud?a.Fs():r.Ab();this.fd(a)},gA:function(){var a=this.Hc,c=this.he;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.t,c=r.Ab(),d=0;d<a.length;d++){var e=a[d];e&&e.lb&&e.fd(c)}},f:function(a,
c,d){r.D.prototype.f.call(this,a,c,d);this.ud&&this.kr();this.be&&this.lr()},Kf:function(){},ul:function(){return!1}});
r.ca=r.Ih.extend({ha:null,Es:function(){return this.ha},z2:function(a,c){this.W(a,c)},UH:function(a){this.W(a,this.wa.va)},w2:function(a){this.W(this.wa.Ha,a)},Kf:function(){},ul:function(){return!1},l:function(a){r.Ih.prototype.l.call(this,a);this.yd()},ja:function(a){r.Ih.prototype.ja.call(this,a);this.yd()},Qo:!1,fH:null,AB:null,TB:null,Vz:null,CB:null,BB:null,Mh:function(){r.Ih.prototype.ctor.call(this);this.ha=new r.Yl(r.Ke,r.Je)},Nh:function(){r.Ih.prototype.ctor.call(this);this.ha=new r.Yl(r.Ke,
r.Je);this.CB=new ArrayBuffer(32);this.BB=new ArrayBuffer(64);var a=this.CB,c=this.BB,d=r.Db.BYTES_PER_ELEMENT,e=r.Xd.BYTES_PER_ELEMENT;this.fH=[new r.Db(0,0,a,0),new r.Db(0,0,a,d),new r.Db(0,0,a,2*d),new r.Db(0,0,a,3*d)];this.AB=[new r.Xd(0,0,0,1,c,0),new r.Xd(0,0,0,1,c,e),new r.Xd(0,0,0,1,c,2*e),new r.Xd(0,0,0,1,c,3*e)];this.TB=r.X.createBuffer();this.Vz=r.X.createBuffer()},Hl:function(a,c){this.ha=1==arguments.length?a:{src:a,Ib:c};r.Fd===r.ng&&(this.Qo=this.ha&&1==this.ha.src&&771==this.ha.Ib)},
r:function(a,c,d){if(!r.Uc.prototype.r.call(this))return!1;r.Fd!==r.ng&&this.Sg(r.Kh.e().oi(r.hN));var e=r.Y.e().Sb;a=a||new r.Qb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Hc;e.p=a.p;e.o=a.o;e.g=a.g;e=this.he;e.p=a.p;e.o=a.o;e.g=a.g;this.Bg=this.Yb=a.I;this.W(c,d);this.yd();return!0},W:null,aQ:function(a,c){var d=this.fH;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.XF(),r.Uc.prototype.W.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.XF(),r.Uc.prototype.W.call(this,
a))},yd:null,LQ:function(){},MQ:function(){for(var a=this.Hc,c=this.Yb,d=this.AB,e=0;4>e;e++)d[e].p=a.p/255,d[e].o=a.o/255,d[e].g=a.g/255,d[e].I=c/255;this.WF()},fd:function(a){r.Ih.prototype.fd.call(this,a);this.yd()},gd:function(a){r.Ih.prototype.gd.call(this,a);this.yd()},XF:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.TB);a.bufferData(a.ARRAY_BUFFER,this.CB,a.STATIC_DRAW)},WF:function(){var a=r.X;a.bindBuffer(a.ARRAY_BUFFER,this.Vz);a.bufferData(a.ARRAY_BUFFER,this.BB,a.STATIC_DRAW)},
Wa:null,nm:function(a){a=a||r.X;var c=this.c(),d=r.ta.e(),e=this.Hc;a.fillStyle="rgba("+(0|e.p)+","+(0|e.o)+","+(0|e.g)+","+this.Yb/255+")";a.fillRect(0,0,c.width*d.xa,-c.height*d.Ba);r.fi++},wg:function(a){a=a||r.X;r.Ty(this);r.we(r.bh|r.BN);a.bindBuffer(a.ARRAY_BUFFER,this.TB);a.vertexAttribPointer(r.Ne,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Vz);a.vertexAttribPointer(r.Jq,4,a.FLOAT,!1,0,0);r.ik(this.ha.src,this.ha.Ib);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
r.Ga.Sc?(r.ca.prototype.ctor=r.ca.prototype.Nh,r.ca.prototype.W=r.ca.prototype.aQ,r.ca.prototype.yd=r.ca.prototype.MQ,r.ca.prototype.Wa=r.ca.prototype.wg):(r.ca.prototype.ctor=r.ca.prototype.Mh,r.ca.prototype.W=r.Ih.prototype.W,r.ca.prototype.yd=r.ca.prototype.LQ,r.ca.prototype.Wa=r.ca.prototype.nm);r.ca.create=function(a,c,d){var e=new r.ca;switch(arguments.length){case 0:e.r();break;case 1:e.r(a);break;case 3:e.r(a,c,d);break;default:e.r()}return e};
r.ZE=r.ca.extend({gH:null,Jo:null,gp:null,Ko:null,fm:null,cv:!1,wr:null,vr:null,ctor:function(){r.ca.prototype.ctor.call(this);this.gH=new r.Dc(0,0,0);this.Jo=new r.Dc(0,0,0);this.fm=r.a(0,-1);this.Ko=this.gp=255;this.wr=r.a(0,0);this.vr=r.a(0,0)},W:function(a,c){2===arguments.length?r.ca.prototype.W.call(this,a,c):r.ca.prototype.W.call(this,a);this.yd()},B6:function(){return this.he},Tba:function(a){this.l(a)},Jaa:function(a){this.Jo=a;this.yd()},F4:function(){return this.Jo},Uba:function(a){this.gp=
a;this.yd()},C6:function(){return this.gp},Kaa:function(a){this.Ko=a;this.yd()},G4:function(){return this.Ko},kca:function(a){this.fm.x=a.x;this.fm.y=a.y;this.yd()},b7:function(){return r.a(this.fm.x,this.fm.y)},T7:function(){return this.cv},zaa:function(a){this.cv=a;this.yd()},r:function(a,c,d){a=a||r.gC(0,0,0,255);c=c||r.gC(0,0,0,255);d=d||r.a(0,-1);var e=this.gH,f=this.Jo;e.p=a.p;e.o=a.o;e.g=a.g;this.gp=a.I;f.p=c.p;f.o=c.o;f.g=c.g;this.Ko=c.I;this.fm=d;this.cv=!0;r.ca.prototype.r.call(this,r.h(a.p,
a.o,a.g,255));return!0},Wa:function(a){if(r.Fd===r.Ek)r.ca.prototype.Wa.call(this,a);else{a=a||r.X;this.Qo&&(a.globalCompositeOperation="lighter");a.save();var c=r.ta.e(),d=this.Yb/255,e=this.c().width*c.xa,c=this.c().height*c.Ba,f=a.createLinearGradient(this.wr.x,this.wr.y,this.vr.x,this.vr.y),g=this.Hc,h=this.Jo;f.addColorStop(0,"rgba("+Math.round(g.p)+","+Math.round(g.o)+","+Math.round(g.g)+","+(this.gp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.p)+","+Math.round(h.o)+","+Math.round(h.g)+
","+(this.Ko/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.SP&&a.rotate(this.l1);a.restore()}},yd:function(){var a=this.fm;if(r.Fd===r.ng){var c=0.5*this.c().width,d=0.5*this.c().height;this.wr.x=c*-a.x+c;this.wr.y=d*a.y-d;this.vr.x=c*a.x+c;this.vr.y=d*-a.y-d}else if(d=r.qD(a),0!==d){c=Math.sqrt(2);a=r.a(a.x/d,a.y/d);this.cv&&(a=r.kj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Yb/255,f=this.Hc,g=this.Jo,d=f.p/255,h=f.o/255,f=f.g/255,k=this.gp*e/255,l=g.p/255,m=g.o/255,g=g.g/
255,e=this.Ko*e/255,n=this.AB,p=n[0],q=n[1],u=n[2],n=n[3];p.p=l+(c+a.x+a.y)/(2*c)*(d-l);p.o=m+(c+a.x+a.y)/(2*c)*(h-m);p.g=g+(c+a.x+a.y)/(2*c)*(f-g);p.I=e+(c+a.x+a.y)/(2*c)*(k-e);q.p=l+(c-a.x+a.y)/(2*c)*(d-l);q.o=m+(c-a.x+a.y)/(2*c)*(h-m);q.g=g+(c-a.x+a.y)/(2*c)*(f-g);q.I=e+(c-a.x+a.y)/(2*c)*(k-e);u.p=l+(c+a.x-a.y)/(2*c)*(d-l);u.o=m+(c+a.x-a.y)/(2*c)*(h-m);u.g=g+(c+a.x-a.y)/(2*c)*(f-g);u.I=e+(c+a.x-a.y)/(2*c)*(k-e);n.p=l+(c-a.x-a.y)/(2*c)*(d-l);n.o=m+(c-a.x-a.y)/(2*c)*(h-m);n.g=g+(c-a.x-a.y)/(2*c)*
(f-g);n.I=e+(c-a.x-a.y)/(2*c)*(k-e);this.WF()}}});r.ZE.create=function(a,c,d){var e=new r.ZE;switch(arguments.length){case 2:if(e&&e.r(a,c))return e;break;case 3:if(e&&e.r(a,c,d))return e;break;case 0:if(e&&e.r())return e;break;default:throw"Arguments error ";}return null};
r.$E=r.Uc.extend({Ok:0,gh:null,E7:function(a){this.gh=[];this.gh.push(a);this.Ok=0;this.f(a);return!0},YT:function(a){this.gh=a;this.Ok=0;this.f(this.gh[this.Ok]);return!0},Sca:function(a){a>=this.gh.length?r.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.gh[this.Ok],!0),this.Ok=a,this.f(this.gh[a]))},Tca:function(a){a>=this.gh.length?r.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.gh[this.Ok],
!0),this.gh[this.Ok]=null,this.Ok=a,this.f(this.gh[a]))},F1:function(a){a?this.gh.push(a):r.log("cc.Layer.addLayer(): layer should be non-null")}});r.$E.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&r.log("parameters should not be ending with null in Javascript");var a=new r.$E;return a.YT(arguments)?a:null};r.ez=-1;
r.Ep=function(a){function c(){var c=r.Ep,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.lE.width=e;c.lE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.wL.drawImage(a,0,0);for(var n=c.wL.getImageData(0,0,e,h),p=n.data,q=0;q<k.length;q+=4)p[q]=0===l?k[q]:0,p[q+
1]=1===l?k[q+1]:0,p[q+2]=2===l?k[q+2]:0,p[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.HR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.HR=d};r.Ep.canvas=document.createElement("canvas");r.Ep.lE=document.createElement("canvas");r.Ep.wL=r.Ep.lE.getContext("2d");
r.N3=function(a,c,d){d||(d=r.rect(0,0,a.width,a.height),d=r.Aq(d));c=c instanceof r.Xd?r.h(255*c.p,255*c.o,255*c.g,255*c.I):r.h(c.p,c.o,c.g,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.I/255;f.fillStyle="rgb("+c.p+","+c.o+","+c.g+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
r.zC=function(a,c,d,e,f){e||(e=r.rect(0,0,a.width,a.height));a=null==d.I?r.Fw(d.p/255,d.o/255,d.g/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.p+a.o+a.g&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};r.$H=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
r.p0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Ml=e;this.visible=g};r.pg=function(a){return 0|a};r.kN&&(r.pg=function(a){return a});
r.A=r.Bb.extend({lb:!0,Sa:null,$c:0,mb:null,Ja:!1,Rh:null,Ki:null,cl:!1,Qm:null,ha:null,Fa:null,za:null,ad:!1,fc:null,Zh:null,nc:!1,lc:!1,mc:!1,sb:!1,Md:null,IG:null,yL:function(){return this.sb},Yf:function(a,c){this.Md.push({hk:a,ei:c})},ae:function(){for(var a=this.Md,c=0,d=a.length;c<d;c++){var e=a[c];e.hk.call(e.ei,this)}a.length=0},oJ:function(){return this.Ja},Rg:function(a){this.Ja=a},x8:function(){return this.ad},U3:function(){return this.$c},Fe:function(a){this.$c=a},IC:function(){return r.rect(this.za.x,
this.za.y,this.za.width,this.za.height)},JI:function(){return this.Sa},lq:function(a){this.Sa=a},A6:function(){return this.mb},Sba:function(a){this.mb=a},H5:function(){return this.fc},Es:function(){return this.ha},Ce:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.sb||(this.sb=!1,a.Yf(this.yB,this));var c=this.Ma(a.aa(),a.ue());this.gq(a);return c},yB:null,AQ:function(a){this.Xa();this.Ub(a.ue(),a.od,a.nd);this.ae()},zQ:function(a){this.Xa();this.Ub(a.ue(),
a.od,a.nd);a=this.Bd();255===a.p&&255===a.o&&255===a.g||this.Zu();this.ae()},fJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=r.rg.e().yh(a);return this.Ce(a)},wda:function(a){this.Sa=a.Sa;this.mb=a},dE:function(a){this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height},Td:function(){if(this.ie){for(var a,c,d=this.t,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.fb<e.fb||c.fb==e.fb&&c.Sf<e.Sf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.mb&&this.tg(d,r.D.Nf.Td);this.ie=!1}},ct:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.t.indexOf(a)?r.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.fb&&(this.mb&&!this.ie&&(this.tB(),this.mb.jK(!0)),r.D.prototype.ct.call(this,a,c))},removeChild:function(a,c){this.mb&&this.mb.Cn(a);r.D.prototype.removeChild.call(this,a,c)},rc:function(a){var c=this.t,d=this.mb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Cn(c[e]);r.D.prototype.rc.call(this,
a);this.Ki=!1},DK:function(a){this.Rh=a;this.Rg(a);a=this.t;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof r.A&&a[c].DK(!0)},ah:function(){this.mb&&!this.Rh&&(this.Ja=this.Rh=!0,this.Ki&&this.DK(!0))},n:function(a,c){2<=arguments.length?r.D.prototype.n.call(this,a,arguments[1]):r.D.prototype.n.call(this,a);this.ah()},Rx:function(a){r.D.prototype.Rx.call(this,a);this.ah()},Sx:function(a){r.D.prototype.Sx.call(this,a);this.ah()},Tx:function(a){r.D.prototype.Tx.call(this,a);this.ah()},Vx:function(a){r.D.prototype.Vx.call(this,
a);this.ah()},Wx:function(a){r.D.prototype.Wx.call(this,a);this.ah()},jq:function(a){r.D.prototype.jq.call(this,a);this.ah()},Jn:function(a){r.D.prototype.Jn.call(this,a);this.ah()},tk:function(a,c){r.D.prototype.tk.call(this,a,c);this.ah()},bL:function(a){r.D.prototype.bL.call(this,a);this.ah()},M:function(a,c){2===arguments.length?r.D.prototype.M.call(this,a,c):r.D.prototype.M.call(this,a);this.ah()},v:function(a){r.D.prototype.v.call(this,a);this.ah()},ej:function(a){this.mb?r.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
r.D.prototype.ej.call(this,a)},VW:function(a){this.lc!=a&&(this.lc=a,this.Ub(this.za,this.ad,this.wa),this.Xa())},WW:function(a){this.mc!=a&&(this.mc=a,this.Ub(this.za,this.ad,this.wa),this.Xa())},a8:function(){return this.lc},b8:function(){return this.mc},Kf:null,iQ:function(a){this.nc!==a&&(this.nc=a,this.ut())},hQ:function(a){this.nc!==a&&(this.nc=a,this.Xa())},ul:function(){return this.nc},gd:null,PQ:function(a){r.Bb.prototype.gd.call(this,a);this.ut()},sH:function(a){r.Bb.prototype.gd.call(this,
a);this.Em()},Gaa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=r.Vl.e().yI(a);d?(d=d.ee[c])?this.gq(d.yh()):r.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):r.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},X3:function(){return this.mb},tB:function(){if(!this.ie){this.ie=!0;for(var a=this.Q;a&&a!=this.mb;)a.tB(),a=a.getParent()}},aa:function(){return this.Fa},Mb:null,Xv:null,xf:!1,bv:!1,
Qo:!1,xg:null,mp:null,jA:null,ctor:null,Nh:function(a){r.Bb.prototype.ctor.call(this);this.cl=!1;this.fc=r.xd();this.Zh=r.xd();this.ha={src:r.Ke,Ib:r.Je};this.za=r.rect(0,0,0,0);this.Mb=new r.cc;this.Xv=r.X.createBuffer();this.sb=this.xf=!0;this.Md=[];if(a)if("string"===typeof a)a=r.rg.e().yh(a),this.Ce(a);else if("object"===typeof a)if(a instanceof r.Kd)this.Ce(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new r.bc;c.Ff(a);c.Be();this.Ma(c)}else a instanceof r.bc&&
this.Ma(a)},Mh:function(a){r.Bb.prototype.ctor.call(this);this.cl=!1;this.fc=r.xd();this.Zh=r.xd();this.ha={src:r.Ke,Ib:r.Je};this.za=r.rect(0,0,0,0);this.IG=!1;this.sb=!0;this.Md=[];this.mp={x:0,y:0,width:0,height:0,yt:!1};this.jA=r.size(0,0);if(a)if("string"===typeof a)a=r.rg.e().yh(a),this.Ce(a);else if("object"===typeof a)if(a instanceof r.Kd)this.Ce(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new r.bc;c.Ff(a);c.Be();this.Ma(c)}else a instanceof r.bc&&this.Ma(a)},
c6:function(){return this.Mb},Hl:null,XP:function(a,c){var d=this.ha;1===arguments.length?(d.src=a.src,d.Ib=a.Ib):(d.src=a,d.Ib=c)},WP:function(a,c){var d=this.ha;1===arguments.length?(d.src=a.src,d.Ib=a.Ib):(d.src=a,d.Ib=c);this.Qo=d&&(770==d.src&&1==d.Ib||1==d.src&&1==d.Ib)},r:null,DA:function(){if(0<arguments.length)return this.fj(arguments[0],arguments[1]);r.Bb.prototype.r.call(this);this.Ja=this.Rh=!1;this.nc=!0;this.ha.src=r.Ke;this.ha.Ib=r.Je;this.ga(null);this.sb=!0;this.lc=this.mc=!1;this.M(0.5,
0.5);this.fc.F=0;this.fc.H=0;this.Ki=!1;var a={p:255,o:255,g:255,I:255};this.Mb.Ka.L=a;this.Mb.Va.L=a;this.Mb.Ta.L=a;this.Mb.Na.L=a;this.xf=!0;this.Ub(r.jd(),!1,r.cm());return!0},CA:function(){if(0<arguments.length)return this.fj(arguments[0],arguments[1]);r.Bb.prototype.r.call(this);this.Ja=this.Rh=!1;this.nc=!0;this.ha.src=r.Ke;this.ha.Ib=r.Je;this.ga(null);this.sb=!0;this.lc=this.mc=!1;this.M(0.5,0.5);this.fc.F=0;this.fc.H=0;this.Ki=!1;this.Ub(r.jd(),!1,r.cm());return!0},fj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=r.ia.e().hy(a);if(!d)d=r.ia.e().ra(a);else if(!c){var e=d.c();c=r.rect(0,0,e.width,e.height)}return this.Ma(d,c)},Ma:null,Ar:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!r.Bb.prototype.r.call(this))return!1;this.mb=null;this.Ja=this.Rh=!1;this.nc=!0;this.ha.src=r.Ke;this.ha.Ib=r.Je;this.lc=this.mc=!1;this.M(0.5,0.5);this.fc.F=0;this.fc.H=0;this.Ki=!1;var e=new r.Qb(255,255,255,255),f=this.Mb;f.Ka.L=e;f.Va.L=e;f.Ta.L=e;f.Na.L=e;
this.sb=e=a.Ng();if(!e)return this.ad=d||!1,c&&(e=this.za,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Yf(this.ow,this),!0;c||(e=a.c(),c=r.rect(0,0,e.width,e.height));this.ga(a);this.Ub(c,d,c.cb);this.Ge(null);return this.xf=!0},zr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!r.Bb.prototype.r.call(this))return!1;this.mb=null;this.Ja=this.Rh=!1;this.nc=!0;this.ha.src=r.Ke;this.ha.Ib=r.Je;this.lc=this.mc=!1;this.M(0.5,0.5);this.fc.F=
0;this.fc.H=0;this.Ki=!1;var e=a.Ng();this.sb=e;if(!e)return this.ad=d||!1,c&&(this.za.x=c.x,this.za.y=c.y,this.za.width=c.width,this.za.height=c.height),a.Yf(this.ow,this),!0;c||(e=a.c(),c=r.rect(0,0,e.width,e.height));this.xg=a;this.ga(a);this.Ub(c,d,c.cb);this.Ge(null);return!0},ow:null,FQ:function(a){if(!this.sb){this.sb=!0;var c=this.za;if(!c)c=a.c(),c=r.rect(0,0,c.width,c.height);else if(r.Qr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ga(a);this.Ub(c,this.ad,c.cb);this.Ge(null);
this.xf=!0;this.ae()}},EQ:function(a){if(!this.sb){this.sb=!0;var c=this.za;if(!c)c=a.c(),c=r.rect(0,0,c.width,c.height);else if(r.Qr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.xg=a;this.ga(a);this.Ub(c,this.ad,c.cb);this.Ge(null);this.ae()}},Ub:null,$G:function(a,c,d){this.ad=c||!1;d=d||a.cb;this.W(d);this.dE(a);this.ZG(a);a=this.Zh;this.lc&&(a.F=-a.F);this.mc&&(a.H=-a.H);var e=this.za;this.fc.F=a.F+(this.wa.Ha-e.width)/2;this.fc.H=a.H+(this.wa.va-e.height)/2;if(this.mb)this.Ja=!0;else{a=
0+this.fc.F;c=0+this.fc.H;d=a+e.width;var e=c+e.height,f=this.Mb;f.Ka.s={x:a,y:c,z:0};f.Va.s={x:d,y:c,z:0};f.Ta.s={x:a,y:e,z:0};f.Na.s={x:d,y:e,z:0};this.xf=!0}},uB:function(a,c,d){this.ad=c||!1;d=d||a.cb;this.W(d);this.dE(a);c=this.mp;d=r.Id();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.yt=!(0===c.width||0===c.height);a=this.Zh;this.lc&&(a.F=-a.F);this.mc&&(a.H=-a.H);this.fc.F=a.F+(this.wa.Ha-this.za.width)/2;this.fc.H=a.H+(this.wa.va-this.za.height)/2;this.mb&&(this.Ja=!0)},
lg:null,XQ:function(){if(this.Ja){var a=this.Mb,c=this.Q;if(!this.ma||c&&c!=this.mb&&c.cl)a.Va.s={x:0,y:0,z:0},a.Ta.s={x:0,y:0,z:0},a.Na.s={x:0,y:0,z:0},a.Ka.s={x:0,y:0,z:0},this.cl=!0;else{this.cl=!1;var d=this.Qm=c&&c!=this.mb?r.Ul(this.dg(),c.Qm):this.dg(),e=this.za.cb,c=this.fc.F,f=this.fc.H,g=c+e.width,e=f+e.height,h=d.Za,k=d.$a,l=d.I,m=d.g,n=d.La,d=-d.Ca,p=this.Aw;a.Ka.s={x:r.pg(c*l-f*d+h),y:r.pg(c*m+f*n+k),z:p};a.Va.s={x:r.pg(g*l-f*d+h),y:r.pg(g*m+f*n+k),z:p};a.Ta.s={x:r.pg(c*l-e*d+h),y:r.pg(c*
m+e*n+k),z:p};a.Na.s={x:r.pg(g*l-e*d+h),y:r.pg(g*m+e*n+k),z:p}}this.Sa.ny(a,this.$c);this.Rh=!1;this.Rg(!1)}this.Ki&&this.tg(this.t,r.D.Nf.lg);r.Ck&&(a=[r.a(this.Mb.Ka.s.x,this.Mb.Ka.s.y),r.a(this.Mb.Va.s.x,this.Mb.Va.s.y),r.a(this.Mb.Na.s.x,this.Mb.Na.s.y),r.a(this.Mb.Ta.s.x,this.Mb.Ta.s.y)],r.ag.le(a,4,!0))},WQ:function(){if(this.Ja){var a=this.Q;!this.ma||a&&a!=this.mb&&a.cl?this.cl=!0:(this.cl=!1,this.Qm=a&&a!=this.mb?r.Ul(this.dg(),a.Qm):this.dg());this.Ja=this.Rh=!1}this.Ki&&this.tg(this.t,
r.D.Nf.lg)},f:null,Cz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.fb);null==d&&(d=a.qd);if(this.mb){if(!(a instanceof r.A)){r.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.aa().bi!==this.Sa.aa().bi&&r.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.mb.appendChild(a);this.ie||this.tB()}r.D.prototype.f.call(this,
a,c,d);this.Ki=!0},Bz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.fb);null==d&&(d=a.qd);r.D.prototype.f.call(this,a,c,d);this.Ki=!0},ut:function(){var a=this.Hc,c=this.Yb,a={p:a.p,o:a.o,g:a.g,I:c};this.nc&&(a.p*=c/255,a.o*=c/255,a.g*=c/255);c=this.Mb;c.Ka.L=a;c.Va.L=a;c.Ta.L=a;c.Na.L=a;this.mb&&(this.$c!=r.ez?this.Sa.ny(c,this.$c):this.Ja=!0);this.xf=!0},ja:null,sB:function(a){r.Bb.prototype.ja.call(this,a);this.ut()},Vr:function(a){r.Bb.prototype.ja.call(this,
a);this.Em()},l:null,pB:function(a){r.Bb.prototype.l.call(this,a);this.ut()},Tr:function(a){var c=this.Bd();if(c.p!==a.p||c.o!==a.o||c.g!==a.g)r.Bb.prototype.l.call(this,a),this.Zu(),this.Em()},fd:null,OQ:function(a){r.Bb.prototype.fd.call(this,a);this.ut()},MB:function(a){var c=this.Bd();r.Bb.prototype.fd.call(this,a);a=this.Hc;if(c.p!==a.p||c.o!==a.o||c.g!==a.g)this.Zu(),this.Em()},gq:null,cQ:function(a){this.Xa();var c=a.Lb;this.Zh.F=c.x;this.Zh.H=c.y;c=a.aa();a.sb||(this.sb=!1,a.Yf(function(a){this.sb=
!0;var c=a.aa();c!=this.Fa&&this.ga(c);this.Ub(a.ue(),a.od,a.nd);this.ae()},this));c!=this.Fa&&this.ga(c);this.ad=a.od;this.Ub(a.ue(),this.ad,a.nd)},bQ:function(a){this.Xa();var c=a.Lb;this.Zh.F=c.x;this.Zh.H=c.y;this.ad=a.od;var c=a.aa(),d=a.sb;d||(this.sb=!1,a.Yf(function(a){this.sb=!0;var c=a.aa();c!=this.Fa&&this.ga(c);this.Ub(a.ue(),a.od,a.nd);this.ae()},this));c!=this.Fa&&this.ga(c);this.ad&&(this.xg=c);this.Ub(a.ue(),this.ad,a.nd);this.bv=!1;d&&(a=this.Bd(),255===a.p&&255===a.o&&255===a.g||
this.Zu())},qJ:null,dP:function(a){return r.cK(a.ue(),this.za)&&a.aa().getName()==this.Fa.getName()&&r.TJ(a.Lb,this.Zh)},cP:function(a){return a.aa()!=this.Fa?!1:r.cK(a.ue(),this.za)},lS:function(){return r.Kd.ib(this.Fa,r.co(this.za),this.ad,r.ZM(this.Zh),r.dz(this.wa))},Ge:null,VP:function(a){if(this.mb=a)this.Qm={I:1,g:0,Ca:0,La:1,Za:0,$a:0},this.lq(this.mb.Sa);else{this.$c=r.ez;this.lq(null);this.Rh=!1;this.Rg(!1);a=this.fc.F;var c=this.fc.H,d=a+this.za.width,e=c+this.za.height,f=this.Mb;f.Ka.s=
{x:a,y:c,z:0};f.Va.s={x:d,y:c,z:0};f.Ta.s={x:a,y:e,z:0};f.Na.s={x:d,y:e,z:0};this.xf=!0}},UP:function(a){(this.mb=a)?(this.Qm={I:1,g:0,Ca:0,La:1,Za:0,$a:0},this.lq(this.mb.Sa)):(this.$c=r.ez,this.lq(null),this.Rh=!1,this.Rg(!1))},ga:null,Xr:function(a){if(a&&!(a instanceof r.bc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.mb&&this.mb.aa()!=a?r.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Sg(r.Kh.e().oi(r.cz)):
this.Sg(r.Kh.e().oi(r.hN)),this.mb||this.Fa==a||(this.Fa=a,this.Rm()))},Wr:function(a){if(a&&!(a instanceof r.bc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Fa!=a&&(a&&a.Ic instanceof HTMLImageElement&&(this.xg=a),this.Fa=a)},Rm:function(){this.mb?r.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Fa&&this.Fa.Ns()?(this.ha.src=r.Ke,this.ha.Ib=r.Je,this.Kf(!0)):(this.ha.src=770,
this.ha.Ib=771,this.Kf(!1))},Zu:function(){var a,c=this.Fa,d=this.mp;c&&d.yt&&this.xg&&(a=c.Ic)&&(c=r.ia.e().KI(this.xg.Ic))&&(this.bv=!0,a instanceof HTMLCanvasElement&&!this.ad&&!this.IG?r.zC(a,c,this.Hc,d,a):(a=r.zC(a,c,this.Hc,d),c=new r.bc,c.Ff(a),c.Be(),this.ga(c)))},ZG:function(a){a=r.co(a);var c=this.mb?this.Sa.aa():this.Fa;if(c){var d=c.Kp(),e=c.Jp(),f,g=this.Mb;this.ad?(r.bu?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/
d,f=a.y/e,a=(a.y+a.width)/e),this.lc&&(e=f,f=a,a=e),this.mc&&(e=c,c=d,d=e),g.Ka.C.Pa=c,g.Ka.C.oa=f,g.Va.C.Pa=c,g.Va.C.oa=a,g.Ta.C.Pa=d,g.Ta.C.oa=f,g.Na.C.Pa=d,g.Na.C.oa=a):(r.bu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.lc&&(e=c,c=d,d=e),this.mc&&(e=f,f=a,a=e),g.Ka.C.Pa=c,g.Ka.C.oa=a,g.Va.C.Pa=d,g.Va.C.oa=a,g.Ta.C.Pa=c,g.Ta.C.oa=f,g.Na.C.Pa=d,g.Na.C.oa=f);this.xf=!0}},Wa:null,wg:function(){if(this.sb){var a=
r.X,c=this.Fa;c?c.tc&&(this.Jc.pf(),this.Jc.Ug(),r.ik(this.ha.src,this.ha.Ib),r.o7(0,c),r.we(r.Ju),a.bindBuffer(a.ARRAY_BUFFER,this.Xv),this.xf&&(a.bufferData(a.ARRAY_BUFFER,this.Mb.bC,a.DYNAMIC_DRAW),this.xf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Jc.pf(),this.Jc.Ug(),r.ik(this.ha.src,this.ha.Ib),r.Kg(null),r.we(r.bh|r.BN),a.bindBuffer(a.ARRAY_BUFFER,this.Xv),
this.xf&&(r.X.bufferData(r.X.ARRAY_BUFFER,this.Mb.bC,r.X.STATIC_DRAW),this.xf=!1),a.vertexAttribPointer(r.Ne,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(r.Jq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));r.fi++;0!==r.Ck&&(1===r.Ck?(a=this.Mb,a=[r.a(a.Ta.s.x,a.Ta.s.y),r.a(a.Ka.s.x,a.Ka.s.y),r.a(a.Va.s.x,a.Va.s.y),r.a(a.Na.s.x,a.Na.s.y)],r.ag.le(a,4,!0)):2===r.Ck&&(a=this.IC().cb,c=this.fc,a=[r.a(c.x,c.y),r.a(c.x+a.width,c.y),r.a(c.x+a.width,c.y+a.height),r.a(c.x,c.y+a.height)],r.ag.le(a,
4,!0)))}},nm:function(a){if(this.sb){a=a||r.X;this.Qo&&(a.globalCompositeOperation="lighter");var c=r.ta.e().xa,d=r.ta.e().Ba;a.globalAlpha=this.Yb/255;var e=this.za,f=this.wa,g=this.fc,h=this.jA,k=0|g.F,l=-g.H-e.height,m=this.mp;h.width=e.width*c;h.height=e.height*d;if(this.lc||this.mc)a.save(),this.lc&&(k=-g.F-e.width,a.scale(-1,1)),this.mc&&(l=g.H,a.scale(1,-1));k*=c;l*=d;this.Fa&&m.yt?(f=this.Fa.Ic,this.bv?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,
m.height,k,l,h.width,h.height)):0!==f.Ha&&(h=this.Bd(),a.fillStyle="rgba("+h.p+","+h.o+","+h.g+",1)",a.fillRect(k,l,f.Ha*c,f.va*d));1===r.Ck?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[r.a(k,l),r.a(k+e.width,l),r.a(k+e.width,l-e.height),r.a(k,l-e.height)],r.ag.le(k,4,!0)):2===r.Ck&&(a.strokeStyle="rgba(0,255,0,1)",c=this.za.cb,l=-l,k=[r.a(k,l),r.a(k+c.width,l),r.a(k+c.width,l-c.height),r.a(k,l-c.height)],r.ag.le(k,4,!0));(this.lc||this.mc)&&a.restore();r.fi++}}});
r.Ga.Sc?(b=r.A.prototype,b.yB=r.A.prototype.AQ,b.Kf=r.A.prototype.iQ,b.gd=r.A.prototype.PQ,b.ctor=r.A.prototype.Nh,b.Hl=r.A.prototype.XP,b.r=r.A.prototype.DA,b.Ma=r.A.prototype.Ar,b.ow=r.A.prototype.FQ,b.Ub=r.A.prototype.$G,b.lg=r.A.prototype.XQ,b.f=r.A.prototype.Cz,b.ja=r.A.prototype.sB,b.l=r.A.prototype.pB,b.fd=r.A.prototype.OQ,b.gq=r.A.prototype.cQ,b.qJ=r.A.prototype.dP,b.Ge=r.A.prototype.VP,b.ga=r.A.prototype.Xr,b.Wa=r.A.prototype.wg):(b=r.A.prototype,b.yB=r.A.prototype.zQ,b.Kf=r.A.prototype.hQ,
b.gd=r.A.prototype.sH,b.ctor=r.A.prototype.Mh,b.Hl=r.A.prototype.WP,b.r=r.A.prototype.CA,b.Ma=r.A.prototype.zr,b.ow=r.A.prototype.EQ,b.Ub=r.A.prototype.uB,b.lg=r.A.prototype.WQ,b.f=r.A.prototype.Bz,b.ja=r.A.prototype.Vr,b.l=r.A.prototype.Tr,b.fd=r.A.prototype.MB,b.gq=r.A.prototype.bQ,b.qJ=r.A.prototype.cP,b.Ge=r.A.prototype.UP,b.ga=r.A.prototype.Wr,b.Wa=r.A.prototype.nm);
r.A.ib=function(a,c){var d=arguments.length,e=new r.A;switch(d){case 1:return e&&e.Ma(a)?e:null;case 2:return e&&e.Ma(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};r.A.create=function(a,c){var d=arguments.length,e=new r.A;if(0===d){if(e.r())return e}else if(e&&e.r(a,c))return e;return null};
r.A.ZH=function(a){var c=null;if("string"==typeof a){if(c=r.rg.e().yh(a),!c)return r.log("Invalid spriteFrameName: "+a),null}else return r.log("Invalid argument. Expecting string."),null;return(a=new r.A)&&a.Ce(c)?a:null};r.A.YH=function(a){var c=new r.A;return c&&c.Ce(a)?c:null};r.rj=r.Ea.extend({$r:null,ce:0,ss:null,ctor:function(){this.ce=0},G:function(){var a=new r.rj;a.Ce(this.$r.G(),this.ce,this.ss);return a},Jw:function(){return r.G(this)},copy:function(){var a=new r.rj;a.Ce(this.$r.G(),this.ce,this.ss);return a},Ce:function(a,c,d){this.$r=a;this.ce=c;this.ss=d;return!0},yh:function(){return this.$r},Lf:function(a){this.$r=a},y4:function(){return this.ce},Faa:function(a){this.ce=a},Z6:function(){return this.ss},ica:function(a){this.ss=a}});
r.qj=r.Ea.extend({ee:null,Rj:0,Bm:!1,ya:0,ce:0,Om:0,ctor:function(){this.ee=[]},Q4:function(){return this.ee},IK:function(a){this.ee=a},$B:function(a){var c=new r.rj;c.Ce(a,1,null);this.ee.push(c);this.Om++},K1:function(a){a=r.ia.e().ra(a);var c=r.jd();c.cb=a.c();a=r.Kd.ib(a,c);this.$B(a)},L1:function(a,c){var d=r.Kd.ib(a,c);this.$B(d)},Os:function(a,c,d){r.Ct(a,r.rj);this.ce=c;this.Rj=d;this.IK([]);for(c=0;c<a.length;c++)d=a[c],this.ee.push(d),this.Om+=d.ce;return!0},G:function(){var a=new r.qj;
a.Os(this.dG(),this.ce,this.Rj);a.Qx(this.Bm);return a},Jw:function(){var a=new r.qj;a.Os(this.dG(),this.ce,this.Rj);a.Qx(this.Bm);return a},dG:function(){for(var a=[],c=0;c<this.ee.length;c++)a.push(this.ee[c].G());return a},copy:function(){return this.Jw(null)},g5:function(){return this.Rj},bba:function(a){this.Rj=a},Qx:function(a){this.Bm=a},l6:function(){return this.Bm},Bf:function(){return this.Om*this.ce},x4:function(){return this.ce},Eaa:function(a){this.ce=a},R6:function(){return this.Om},
gJ:function(a,c){r.Ct(a,r.Kd);this.Rj=1;this.ce=c||0;this.IK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new r.rj;f.Ce(e,1,null);this.ee.push(f);this.Om++}return!0},nK:function(){},ED:function(){}});r.qj.create=function(a,c,d){var e=arguments.length,f=new r.qj;0==e?f.gJ(null,0):2==e?f.gJ(a,c||0):3==e&&f.Os(a,c,d);return f};r.qj.XH=function(a,c,d){var e=new r.qj;e.Os(a,c,d);return e};r.Vl=r.Ea.extend({EH:function(a,c){this.hm[c]=a},J$:function(a){a&&this.hm.hasOwnProperty(a)&&delete this.hm[a]},yI:function(a){return this.hm.hasOwnProperty(a)?this.hm[a]:null},RN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=r.rg.e(),h=r.Jd.e(),k,l=0;l<f.length;l++)k=h.xI(f[l],c),g.LH(k);switch(e){case 1:this.xP(d);break;case 2:this.yP(d);break;default:r.log("cc.AnimationCache. Invalid animation format")}}else r.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
A1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=r.Jd.e(),d=c.qe(a);(c=c.Lw(d))?this.RN(c,a):r.log("cc.AnimationCache.addAnimations(): File could not be found")},xP:function(a){var c=r.rg.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.yh(f[h]);if(k){var l=new r.rj;l.Ce(k,1,null);g.push(l)}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?r.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&r.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=r.qj.XH(g,e,1),r.Vl.e().EH(g,d))}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
yP:function(a){var c=r.rg.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?r.bm:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,p=c.yh(n);if(p){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new r.rj;q.Ce(p,n,m);k.push(q)}else r.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new r.qj;h.Os(k,e,f);h.Qx(g);r.Vl.e().EH(h,d)}else r.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},r:function(){this.hm={};return!0},hm:null});r.Vl.zV=function(){r.Fn&&(r.Fn.hm=null,r.Fn=null)};r.Vl.e=function(){null===r.Fn&&(r.Fn=new r.Vl,r.Fn.r());return r.Fn};r.Fn=null;r.Kd=r.Ea.extend({Lb:null,nd:null,Ue:null,od:!1,za:null,Rf:null,uf:null,Fa:null,lp:"",sb:!1,lv:null,ctor:function(){this.Lb=r.xd();this.Rf=r.xd();this.nd=r.Gm();this.od=!1;this.uf=r.Gm();this.lp="";this.Fa=null;this.sb=!1},yL:function(){return this.sb},Yf:function(a,c){null==this.lv&&(this.lv=[]);this.lv.push({hk:a,ei:c})},ae:function(){var a=this.lv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.hk.call(e.ei,this)}a.length=0}},gT:function(){var a=this.Ue;return r.rect(a.x,a.y,a.width,a.height)},
Gba:function(a){this.Ue||(this.Ue=r.rect(0,0,0,0));this.Ue.x=a.x;this.Ue.y=a.y;this.Ue.width=a.width;this.Ue.height=a.height;this.za=r.Aq(a)},r8:function(){return this.od},Oba:function(a){this.od=a},ue:function(){var a=this.za;return r.rect(a.x,a.y,a.width,a.height)},SK:function(a){this.za||(this.za=r.rect(0,0,0,0));this.za.x=a.x;this.za.y=a.y;this.za.width=a.width;this.za.height=a.height;this.Ue=r.co(this.za)},G5:function(){return this.Rf},pba:function(a){this.Rf.F=a.x;this.Rf.H=a.y;r.Mu(this.Rf,
this.Lb)},N5:function(){return this.uf},sba:function(a){this.uf.Ha=a.width;this.uf.va=a.height},aT:function(){return this.nd},rba:function(a){this.nd.Ha=a.width;this.nd.va=a.height},aa:function(){if(this.Fa)return this.Fa;if(""!==this.lp){var a=r.ia.e().ra(this.lp);a&&(this.sb=a.Ng());return a}return null},ga:function(a){if(this.Fa!=a){var c=a.Ng();this.sb=c;this.Fa=a;c||a.Yf(function(a){this.sb=!0;if(this.od&&r.Fd===r.ng){var c=a.Ic,c=r.$H(c,this.ue()),f=new r.bc;f.Ff(c);f.Be();this.ga(f);c=this.ue();
this.SK(r.rect(0,0,c.width,c.height))}c=this.za;0===c.width&&0===c.height&&(a=a.c(),this.za.width=a.width,this.za.height=a.height,this.Ue=r.co(this.za),this.uf.Ha=this.Ue.width,this.uf.va=this.Ue.height,this.nd.Ha=a.width,this.nd.va=a.height);this.ae()},this)}},F5:function(){return this.Lb},oba:function(a){this.Lb.F=a.x;this.Lb.H=a.y},G:function(){var a=new r.Kd;a.fx(this.lp,this.Ue,this.od,this.Rf,this.uf);a.ga(this.Fa);return a},Jw:function(){var a=new r.Kd;a.fx(this.lp,this.Ue,this.od,this.Rf,
this.uf);a.ga(this.Fa);return a},copy:function(){return this.Jw()},Ma:function(a,c,d,e,f){2===arguments.length&&(c=r.co(c));e=e||r.a(0,0);f=f||c.cb;this.ga(a);this.Ue=c;this.za=r.Aq(c);this.Rf.F=e.x;this.Rf.H=e.y;r.Mu(e,this.Lb);this.uf.Ha=f.width;this.uf.va=f.height;r.uz(f,this.nd);this.od=d||!1;return!0},fx:function(a,c,d,e,f){2===arguments.length&&(c=r.co(c));e=e||r.a(0,0);f=f||c.cb;this.Fa=null;this.lp=a;this.Ue=c;this.za=r.Aq(c);this.od=d||!1;this.Rf.F=e.x;this.Rf.H=e.y;r.Mu(e,this.Lb);this.uf.Ha=
f.width;this.uf.va=f.height;r.uz(f,this.nd);return!0}});r.Kd.create=function(a,c,d,e,f){var g=new r.Kd;switch(arguments.length){case 2:g.fx(a,c);break;case 5:g.fx(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};r.Kd.ib=function(a,c,d,e,f){var g=new r.Kd;switch(arguments.length){case 2:g.Ma(a,c);break;case 5:g.Ma(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
r.Kd.U0=function(a,c,d,e,f){var g=new r.Kd;g.Fa=a;g.Ue=c;g.za=r.Aq(c);g.Rf.F=e.x;g.Rf.H=e.y;r.Mu(g.Rf,g.Lb);g.uf.Ha=f.width;g.uf.va=f.height;r.uz(g.uf,g.nd);g.od=d;return g};r.rg=r.Ea.extend({We:null,dl:null,Fr:null,ctor:function(){this.We={};this.dl={};this.Fr=[]},Ez:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)r.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.We[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),p=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||r.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=r.Kd.ib(c,r.rect(h,k,l,m),!1,r.a(n,p),r.size(q,d))}else if(1==f||2==f)h=r.rF(d.frame),k=!1,2==f&&(k=d.rotated),l=r.qF(d.offset),d=r.gz(d.sourceSize),h=r.Kd.ib(c,h,k,l,d);else if(3==f){var h=r.gz(d.spriteSize),k=r.qF(d.spriteOffset),l=r.gz(d.spriteSourceSize),m=r.rF(d.textureRect),n=d.textureRotated,
p=d.aliases,q=g.toString(),u;for(u in p)this.dl.hasOwnProperty(p[u])&&r.log("cocos2d: WARNING: an alias with name "+u+" already exists"),this.dl[p[u]]=q;d.hasOwnProperty("spriteSize")&&(m=r.rect(m.x,m.y,h.width,h.height));h=r.Kd.ib(c,m,n,k,l)}else var x=d.filename,k=d.frame,h=d.sourceSize,k=r.rect(k.x,k.y,k.ML,k.Ae),d=d.rotated,l=r.a(0,0),h=r.size(h.ML,h.Ae),h=r.Kd.ib(c,k,d,l,h);r.Fd===r.ng&&h.od&&h.aa().Ng()&&(d=h.aa().Ic,d=r.$H(d,h.gT()),k=new r.bc,k.Ff(d),k.Be(),h.ga(k),d=h.za,h.SK(r.rect(0,0,
d.width,d.height)));this.We[null!=x?x:g]=h}}},LH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=r.Jd.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.qe(a),e=d.Lw(e)):e=JSON.parse(d.II(a));switch(arguments.length){case 1:if(!r.uy(this.Fr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.xI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=r.ia.e().ra(f))?this.Ez(e,d):r.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof r.bc)this.Ez(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=r.ia.e().ra(c))?this.Ez(e,d):r.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},$B:function(a,c){this.We[c]=a},S$:function(){this.We=[];this.dl=[];this.Fr={}},R$:function(a){a&&(this.dl.hasOwnProperty(a)&&delete this.dl[a],this.We.hasOwnProperty(a)&&delete this.We[a],this.Fr={})},T$:function(a){var c=
r.Jd.e(),d=c.qe(a),c=c.Lw(d);this.IP(c);r.uy(this.Fr,a)&&r.Vd(a)},IP:function(a){a=a.frames;for(var c in a)this.We.hasOwnProperty(c)&&delete this.We[c]},U$:function(a){for(var c in this.We){var d=this.We[c];d&&d.aa()==a&&delete this.We[c]}},yh:function(a){var c;this.We.hasOwnProperty(a)&&(c=this.We[a]);if(!c){var d;this.dl.hasOwnProperty(a)&&(d=this.dl[a]);d&&(this.We.hasOwnProperty(d.toString())&&(c=this.We[d.toString()]),c||r.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
r.Fx=null;r.rg.e=function(){r.Fx||(r.Fx=new r.rg);return r.Fx};r.rg.AV=function(){r.Fx=null};r.yq=29;
r.wb=r.D.extend({Sa:null,ha:null,vd:null,M1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof r.A))return r.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Fe(c);var e=0,f=this.vd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.$c>=c&&++e}this.vd=r.Wl(f,a,e);r.D.prototype.f.call(this,a,c,d);this.jK(!1);return this},JI:function(){return this.Sa},lq:function(a){a!=this.Sa&&
(this.Sa=a)},B4:function(){return this.vd},fj:function(a,c){var d=r.ia.e().hy(a);d||(d=r.ia.e().ra(a));return this.Ma(d,c)},Em:function(){this.$F=!0},r:function(a,c){var d=r.ia.e().hy(a);d||(d=r.ia.e().ra(a));return this.Ma(d,c)},ax:function(){var a=this.Sa.kd,c=Math.floor(4*(a+1)/3);r.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Sa.fW(c)||r.log("cocos2d: WARNING: Not enough memory to resize the atlas")},L$:function(a,c){this.removeChild(this.t[a],c)},
bK:function(a,c){var d=a.t;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.fb&&(c=this.bK(f,c))}!a==this&&(a.Fe(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.fb&&(c=this.bK(f,c));return c},SC:function(a){var c=a.t;return c&&0!=c.length?this.SC(c[c.length-1]):a.$c},CU:function(a){var c=a.t;return c&&0!=c.length?this.CU(c[c.length-1]):a.$c},pR:function(a,c){var d=a.getParent().t,e=r.wy(d,a),f=a.getParent()==this,g=null;0<e&&e<r.yN&&(g=d[e-1]);if(f)return 0==e?0:this.SC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.$c:d.$c+1;if(0>g.fb&&0>c||0<=g.fb&&0<=c)return this.SC(g)+1;d=a.getParent();return d.$c+1},jK:function(a){this.ie=a},Hl:function(a,c){this.ha=1==arguments.length?a:{src:a,Ib:c}},Es:function(){return this.ha},ct:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.t.indexOf(a)?r.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.fb&&(r.D.prototype.ct.call(this,a,c),this.Xa())},removeChild:function(a,
c){null!=a&&(-1===this.t.indexOf(a)?r.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Cn(a),r.D.prototype.removeChild.call(this,a,c)))},nP:null,Mm:null,w1:!1,xg:null,ctor:null,Mh:function(a){r.D.prototype.ctor.call(this);a&&this.r(a,r.yq)},Nh:function(a){r.D.prototype.ctor.call(this);this.nP=new r.Ah;a&&this.r(a,r.yq)},IL:null,TQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof r.A?(a.Ge(this),a.Fe(c),
a.Rg(!0),a.lg()):r.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},UQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof r.A){for(var d=this.Sa.kd;c>=d||d==this.Sa.Ua;)this.ax();a.Ge(this);a.Fe(c);a.Rg(!0);a.lg()}else r.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},kw:function(a,c){var d=this.vd,e=this.Sa,f=e.Se,g=d[a],
h=r.rz(f[a]);d[c].Fe(a);d[a]=d[c];e.ny(f[c],a);d[c]=g;e.ny(h,c)},hJ:null,aP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof r.A?(a.Ge(this),a.Fe(c),a.Rg(!0),a.lg(),this.t=r.Wl(this.t,a,c)):r.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},bP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof r.A){for(var d=this.Sa;c>=d.kd||
d.kd===d.Ua;)this.ax();a.Ge(this);a.Fe(c);d.aD(a.Mb,c);a.Rg(!0);a.lg()}else r.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},rH:function(a,c){var d=0,e=a.t;e&&(d=e.length);var f=0;if(0===d)f=a.$c,a.Fe(c),a.iq(0),f!=c&&this.kw(f,c),c++;else{f=!0;0<=e[0].fb&&(f=a.$c,a.Fe(c),a.iq(0),f!=c&&this.kw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.fb&&(f=a.$c,a.Fe(c),a.iq(0),f!=c&&this.kw(f,c),c++,f=!1);c=this.rH(g,c)}f&&(f=a.$c,a.Fe(c),
a.iq(0),f!=c&&this.kw(f,c),c++)}return c},Rm:function(){this.Sa.aa().Ns()||(this.ha.src=770,this.ha.Ib=771)},Ma:null,zr:function(a){this.t=[];this.vd=[];this.ha=new r.Yl(r.Ke,r.Je);this.Mm=this.xg=a;return!0},Ar:function(a,c){this.t=[];this.vd=[];this.ha=new r.Yl(r.Ke,r.Je);c=c||r.yq;this.Sa=new r.ko;this.Sa.Ma(a,c);this.Rm();this.Sg(r.Kh.e().oi(r.cz));return!0},gU:function(a,c){a.Ge(this);a.Fe(c);a.Rg(!0);var d=this.Sa;d.Ua>=d.kd&&this.ax();d.aD(a.Mb,c);this.vd=r.Wl(this.vd,a,c);var d=c+1,e=this.vd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Fe(e[d].$c+1);if((e=a.t)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.pR(e[d],e[d].fb);this.gU(e[d],f)}},appendChild:null,YN:function(a){this.ie=!0;a.Ge(this);a.Rg(!0);this.vd.push(a);a.Fe(this.vd.length-1);a=a.t;for(var c=0;c<a.length;c++)this.appendChild(a[c])},ZN:function(a){this.ie=!0;a.Ge(this);a.Rg(!0);this.vd.push(a);var c=this.vd.length-1;a.Fe(c);var d=this.Sa;d.Ua==d.kd&&this.ax();d.aD(a.Mb,c);a=a.t;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Cn:null,JP:function(a){a.Ge(null);var c=this.vd,d=r.wy(c,a);if(-1!=d){r.tq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Fe(f.$c-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Cn(a[c])},KP:function(a){this.Sa.$V(a.$c);a.Ge(null);var c=this.vd,d=r.wy(c,a);if(-1!=d){r.tq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Fe(f.$c-1)}}if((a=a.t)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Cn(a[c])},aa:null,xA:function(){return this.Mm},yA:function(){return this.Sa.aa()},ga:null,Wr:function(a){this.Mm=
a;for(var c=this.t,d=0;d<c.length;d++)c[d].ga(a)},Xr:function(a){this.Sa.ga(a);this.Rm()},sa:null,Sm:function(a){var c=a||r.X;if(this.ma){c.save();this.transform(a);var d=this.t;if(d)for(this.Td(),a=0;a<d.length;a++)d[a]&&d[a].sa(c);c.restore()}},Tm:function(a){a=a||r.X;if(this.ma){r.Xp();var c=this.Qk;c&&c.Tp()&&(c.eC(),this.ly());this.Td();this.transform(a);this.Wa(a);c&&c.Tp()&&c.aC(this);r.Wp();this.iq(0)}},f:null,Bz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof r.A?(c=null==c?a.fb:c,d=null==d?a.qd:d,r.D.prototype.f.call(this,a,c,d),this.appendChild(a),this.Xa()):r.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Cz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof r.A?a.aa()!=this.Sa.aa()?r.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.fb:c,d=null==d?a.qd:d,r.D.prototype.f.call(this,a,c,d),this.appendChild(a),
this.Xa()):r.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},rc:null,FP:function(a){var c=this.vd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ge(null);r.D.prototype.rc.call(this,a);this.vd=[]},GP:function(a){var c=this.vd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ge(null);r.D.prototype.rc.call(this,a);this.vd=[];this.Sa.UV()},Td:null,xQ:function(){if(this.ie){var a,c=0,d=this.t,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.fb<f.fb||g.fb==f.fb&&g.Sf<f.Sf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.tg(d,r.D.Nf.Td);this.ie=!1}},yQ:function(){if(this.ie){var a=this.t,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.fb<f.fb||g.fb==f.fb&&g.Sf<f.Sf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.tg(a,r.D.Nf.Td),c=d=0;c<a.length;c++)d=this.rH(a[c],d);this.ie=!1}},Wa:null,wg:function(){0!==this.Sa.Ua&&(this.Jc.pf(),this.Jc.Ug(),this.tg(this.t,r.D.Nf.lg),r.ik(this.ha.src,
this.ha.Ib),this.Sa.qS())}});
r.Ga.Sc?(b=r.wb.prototype,b.ctor=r.wb.prototype.Nh,b.IL=r.wb.prototype.UQ,b.hJ=r.wb.prototype.bP,b.Ma=r.wb.prototype.Ar,b.appendChild=r.wb.prototype.ZN,b.Cn=r.wb.prototype.KP,b.aa=r.wb.prototype.yA,b.ga=r.wb.prototype.Xr,b.sa=r.wb.prototype.Tm,b.f=r.wb.prototype.Cz,b.rc=r.wb.prototype.GP,b.Td=r.wb.prototype.yQ,b.Wa=r.wb.prototype.wg):(b=r.wb.prototype,b.ctor=r.wb.prototype.Mh,b.IL=r.wb.prototype.TQ,b.hJ=r.wb.prototype.aP,b.Ma=r.wb.prototype.zr,b.appendChild=r.wb.prototype.YN,b.Cn=r.wb.prototype.JP,
b.aa=r.wb.prototype.xA,b.ga=r.wb.prototype.Wr,b.sa=r.wb.prototype.Sm,b.rc=r.wb.prototype.FP,b.f=r.wb.prototype.Bz,b.Td=r.wb.prototype.xQ,b.Wa=r.D.prototype.Wa);r.wb.create=function(a,c){c=c||r.yq;var d=new r.wb;d.r(a,c);return d};r.wb.ib=function(a,c){c=c||r.yq;var d=new r.wb;d.Ma(a,c);return d};r.nZ={kZ:0,mZ:1,lZ:2,jZ:3,iZ:4};
r.Le=r.Ea.extend({Hr:0,DG:0,fs:!1,es:!1,gw:!1,hw:!1,iw:!1,kP:0,Jv:0,Nq:"",ck:null,ctor:function(){this.DG=this.Hr=0;this.iw=this.hw=this.gw=this.es=this.fs=!1;this.Jv=this.kP=0;this.Nq="";this.ck={}},m5:function(){return this.Hr},l5:function(){return this.DG},n5:function(){return this.Jv},Nca:function(){return this.es},Oca:function(){return this.fs},Lca:function(){return this.gw},Mca:function(){return this.hw},Pca:function(){return this.iw},zp:function(a){return-1<this.Nq.indexOf(a)},r:function(){var a=
this.ck;a["cocos2d.x.version"]=r.It;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=r.VE;return!0},e4:function(a,c){var d=this.ck;return d.hasOwnProperty(a)?d[a]:c},Z3:function(a,c){null==c&&(c=!1);var d=this.ck;return d.hasOwnProperty(a)?d[a]:c},x5:function(a,c){null==c&&(c=0);var d=this.ck;return d.hasOwnProperty(a)?d[a]:c},z5:function(a){var c=this.ck;return c.hasOwnProperty(a)?c[a]:null},lX:function(a,c){this.ck[a]=c},uS:function(){0===r.VE&&(r.log(""),r.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
r.log(""))},GS:function(){if(r.Fd!==r.ng){var a=r.X,c=this.ck;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Nq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Nq+=d[e]+" ";this.Hr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Hr;this.Jv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Jv;this.fs=this.zp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.fs;this.es=!1;c["gl.supports_NPOT"]=this.es;this.gw=this.zp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.gw;this.hw=this.zp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.hw;this.iw=this.zp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.iw;r.EE()}},X8:function(a){var c=r.Jd.e(),d=c.qe(a),c=c.Lw(d);if(null!=c)if(c=c.data)for(var e in c)this.ck[e]=c[e];else r.log("Expected 'data' dict, but not found. Config file: "+a)}});r.Le.Zr=null;
r.Le.e=function(){r.Le.Zr||(r.Le.Zr=new r.Le,r.Le.Zr.r());return r.Le.Zr};r.Le.p$=function(){r.Le.Zr=null};r.fi=0;r.gM=0;r.SE=1;r.hM=3;r.iM=r.SE;r.sZ=0;r.qZ=1;r.tZ=2;r.rZ=3;r.pZ=2;r.wZ=r.Ea.extend({vda:function(){}});r.WE=function(a){var c=new r.Ah;r.uU(r.ju,c);var d=new r.Ah;r.uU(r.iu,d);r.xU(a,c,d)};
r.Y=r.Ea.extend({f1:!1,Lr:!1,zm:!1,Wv:!1,Dm:!1,eh:0,OA:0,bl:0,no:0,mm:1,gr:!1,Mk:0,ov:0,Fk:null,Hk:null,Nk:null,Sb:null,Qj:null,Ni:null,Ov:null,kh:null,Ui:null,$A:null,pd:null,ee:0,IB:0,oB:0,R0:null,Dg:null,dh:null,$e:null,JA:null,Ru:null,Jr:null,e1:!1,ctor:function(){this.Qj=Date.now();if(!r.bD){var a=this;window.addEventListener("focus",function(){a.Qj=Date.now()},!1)}},PP:function(){this.Qj=Date.now()},r:function(){this.OA=this.eh=1/r.ZR;this.Ui=[];this.bl=r.iM;this.$A=null;this.ov=this.no=0;this.gr=
!1;this.IB=this.ee=0;this.Qj=Date.now();this.Wv=this.zm=!1;this.Sb=r.Gm();this.kh=null;this.mm=1;this.Dg=new r.lN;this.dh=new r.SL;this.Dg.pK(this.dh,r.mu,!1);r.ka&&(this.$e=new r.ka,this.$e.r());r.ao&&(this.JA=r.ao.e());r.yk&&(this.Ru=new r.yk);r.Zd&&(this.Jr=new r.Zd,this.Jr.r());return!0},tR:function(){var a=Date.now();this.Lr?(this.Mk=0,this.Lr=!1):this.Mk=(a-this.Qj)/1E3;0<r.Ft&&0.2<this.Mk&&(this.Mk=1/60);this.Qj=a},RR:function(a){var c=new r.Ah;r.WE(c);var d=new r.Ah;r.P8(d,c);var c=c.Bh[14]/
c.Bh[15],e=this.kh.Gp();a=new r.Yp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new r.Yp;r.zU(c,a,d);return r.a(c.x,c.y)},TR:function(a){var c=new r.Ah;r.WE(c);var d=new r.Yp;a=new r.Yp(a.x,a.y,0);r.zU(d,a,c);c=this.kh.Gp();return r.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},rS:function(){this.tR();this.zm||this.Dg.update(this.Mk);this.bG();this.Ni&&this.kX();this.Jz&&this.Jz();this.pd&&this.pd.sa();this.Ov&&this.Ov.sa();this.gr&&this.wQ();this.Fz&&this.Fz();this.IB++;this.gr&&this.fO()},nO:function(){var a=
this.kh.bf;r.X.clearRect(-a.x,a.y,a.width,-a.height)},uO:function(){var a=r.X;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Jz:null,Fz:null,aO:function(){r.Xp()},XN:function(){r.Wp()},end:function(){this.Wv=!0},q4:function(){return this.mm},w5:function(){return this.Ov},j7:function(){return this.Sb},xT:function(){return r.size(this.Sb.width*this.mm,this.Sb.height*this.mm)},Ks:function(){return this.kh?this.kh.Ks():this.Sb},QI:function(){return this.kh?this.kh.QI():r.$M},Ms:function(){return this.Sb.height/
1.1566},pause:function(){this.zm||(this.OA=this.eh,this.gt(0.25),this.zm=!0)},j$:function(){if(!this.pd)throw"running scene should not null";this.Ui.pop();var a=this.Ui.length;0==a?this.end():(this.Dm=!0,this.Ni=this.Ui[a-1])},xD:function(){r.Qy.xD()},yV:function(){this.Df().tt();this.$e&&this.$e.TV();this.pd&&(this.pd.Ch(),this.pd.Sd(),this.pd.$f());this.Ni=this.pd=null;this.Ui=[];this.rL();r.Qy.xD();r.Vl.zV();r.rg.AV();r.ia.BV();r.EE()},CV:function(a){if(!a)throw"the scene should not null";this.Dm=
!1;this.Ui.push(a);this.Ni=a},kK:function(a){if(!this.pd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Ui.length;0===c?(this.Dm=!0,this.Ui[c]=a):(this.Dm=!0,this.Ui[c-1]=a);this.Ni=a},mK:function(){this.zm&&(this.gt(this.OA),(this.Qj=Date.now())||r.log("cocos2d: Director: Error in gettimeofday"),this.zm=!1,this.Mk=0)},nW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.pd)throw"_runningScene should be null";
this.CV(a);this.pL()},BW:function(a){a?r.ik(r.Ke,r.Je):r.ik(r.X.ONE,r.X.ZERO)},MW:function(a){a!=this.mm&&(this.mm=a,this.Fo())},QW:function(a){if(r.Fd!==r.ng){var c=r.X;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},Daa:function(){},JK:function(){this.BW(!0);this.QW(!1);this.Px(this.bl);r.X.clearColor(0,0,0,1)},kba:function(a){this.Lr=a},kX:function(){var a=!1,c=!1;r.HF&&(a=this.pd?this.pd instanceof r.HF:!1,c=this.Ni?this.Ni instanceof r.HF:!1);if(!c){if(c=
this.pd)c.Ch(),c.Sd();this.Dm&&c&&c.$f()}this.pd=this.Ni;this.Ni=null;a||null==this.pd||(this.pd.Qg(),this.pd.li())},lba:function(a){this.Ov=a},gc:function(){return this.$A},Eh:function(a){this.$A=a},qX:function(a){this.Sb.fE(r.canvas.width);this.Sb.UD(r.canvas.height);this.kh=a||r.ta.e();r.Fd!==r.ng&&(a=r.Le.e(),a.GS(),a.uS(),this.Fo(),this.JK(),this.$e&&this.$e.RW(!0))},dL:function(){if(this.kh){var a=this.Sb;this.kh.MX(0,0,a.width,a.height)}},Px:function(a){var c=this.Sb;if(r.Fd===r.Ek){this.dL();
switch(a){case r.gM:r.gn(r.ju);r.iD();var d=new r.Ah;r.yU(d,0,c.width,0,c.height,-1024,1024);r.ix(d);r.gn(r.iu);r.iD();break;case r.SE:var e=this.Ms(),f=new r.Ah,d=new r.Ah;r.gn(r.ju);r.iD();r.Q8(f,60,c.width/c.height,0.1,2*e);r.ix(f);r.gn(r.iu);r.iD();e=r.Ss(null,c.width/2,c.height/2,e);c=r.Ss(null,c.width/2,c.height/2,0);f=r.Ss(null,0,1,0);r.wU(d,e,c,f);r.ix(d);break;case r.hM:break;default:r.log("cocos2d: Director: unrecognized projection")}this.bl=a;r.Cba()}else this.bl=a},wQ:function(){this.ee++;
this.no+=this.Mk;this.Fk&&this.Hk&&this.Nk?(this.no>r.fM&&(this.Hk.fa(this.oB.toFixed(3)),this.ov=this.ee/this.no,this.no=this.ee=0,this.Fk.fa(this.ov.toFixed(1)),this.Nk.fa((0|r.fi).toString())),this.Fk.sa(),this.Hk.sa(),this.Nk.sa()):this.Fo();r.fi=0},u8:function(){return this.Dm},o6:function(){return this.pd},T3:function(){return this.eh},W7:function(){return this.gr},Haa:function(a){this.gr=a},t6:function(){return this.oB},L5:function(){return this.kh},h8:function(){return this.Lr},l8:function(){return this.zm},
S6:function(){return this.IB},b6:function(){return this.bl},k$:function(){this.oV(1)},oV:function(a){if(!this.pd)throw"A running Scene is needed";var c=this.Ui,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.Ve&&(e.Ch(),e.Sd());e.$f();d--}this.Ni=c[c.length-1];this.Dm=!1}},Df:function(){return this.Dg},BX:function(a){this.Dg!=a&&(this.Dg=a)},Ig:function(){return this.dh},zW:function(a){this.dh!=a&&(this.dh=a)},U6:function(){return this.$e},gca:function(a){this.$e!=a&&(this.$e=
a)},Ww:function(){if(!r.ao)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.JA},$aa:function(a){if(!r.ao)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.JA=a},Fp:function(){if(!r.yk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Ru},kaa:function(a){if(!r.yk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Ru!=
a&&(this.Ru=a)},A4:function(){return this.Mk},Cf:function(){if(!r.Zd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Jr},iba:function(a){if(!r.Zd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Jr!=a&&(this.Jr=a)},Fo:null,xO:function(){if(!r.Py)return this.eG();if(null!=r.Y.kG&&!1!=r.Y.kG){var a=new r.bc;a.Ff(r.Y.pA);a.Be();var c=r.ta.e().Gp().height/320;0===c&&(c=this.Sb.height/320);var d=new r.Py;d.rB(!0);
d.sl("00.0",a,12,32,".");d.tk(c);this.Fk=d;d=new r.Py;d.rB(!0);d.sl("0.000",a,12,32,".");d.tk(c);this.Hk=d;d=new r.Py;d.rB(!0);d.sl("000",a,12,32,".");d.tk(c);this.Nk=d;a=r.TE;this.Nk.n(r.fg(r.a(0,34*c),a));this.Hk.n(r.fg(r.a(0,17*c),a));this.Fk.n(a)}},eG:function(){var a=0,a=this.Sb.width>this.Sb.height?0|this.Sb.height/320*24:0|this.Sb.width/320*24;this.Fk=r.T.create("000.0","Arial",a);this.Hk=r.T.create("0.000","Arial",a);this.Nk=r.T.create("0000","Arial",a);var a=r.TE,c=this.Nk.c();this.Nk.n(r.fg(r.a(c.width/
2,5*c.height/2),a));c=this.Hk.c();this.Hk.n(r.fg(r.a(c.width/2,3*c.height/2),a));c=this.Fk.c();this.Fk.n(r.fg(r.a(c.width/2,c.height/2),a))},fO:function(){this.oB=(Date.now()-this.Qj)/1E3}});r.Ga.Sc?(r.Y.prototype.bG=r.Y.prototype.uO,r.Y.prototype.Jz=r.Y.prototype.aO,r.Y.prototype.Fz=r.Y.prototype.XN,r.Y.prototype.Fo=r.Y.prototype.xO):(r.Y.prototype.bG=r.Y.prototype.nO,r.Y.prototype.Fo=r.Y.prototype.eG);
r.jM=r.Y.extend({gx:!1,pL:function(){this.Lr=!0;this.gx=!1;r.sj.e().gt(this.eh)},DJ:function(){this.Wv?(this.Wv=!1,this.yV()):this.gx||this.rS()},rL:function(){this.gx=!0},gt:function(a){this.eh=a;this.gx||(this.rL(),this.pL())}});r.Ex=null;r.rI=!0;r.Y.e=function(){r.rI&&(r.rI=!1,r.Ex=new r.jM,r.Ex.r(),r.Ex.qX(r.ta.e()));return r.Ex};Object.defineProperties(r,{Kda:{get:function(){return r.jS.Sb},enumerable:!0}});r.G3=!0;r.ZR=60;r.Y.pA=new Image;
r.Y.pA.addEventListener("load",function(){r.Y.kG=!0;this.removeEventListener("load",arguments.callee,!1)});r.Y.pA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";r.wq=r.Ea.extend({qr:null,rr:null,sr:null,Ao:null,Bo:null,Co:null,ps:null,qs:null,rs:null,Ja:null,Fv:null,ctor:function(){this.Fv=new r.Ah;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.Ao+","+this.Bo+","+this.Co+")\x3e"},Rg:function(a){this.Ja=a},oJ:function(){return this.Ja},restore:function(){this.qr=this.rr=0;this.sr=r.wq.Ms();this.ps=this.Ao=this.Bo=this.Co=0;this.qs=1;this.rs=0;r.O8(this.Fv);this.Ja=!1},yJ:function(){if(this.Ja){var a=new r.Yp,c=new r.Yp,d=new r.Yp;
r.Ss(a,this.qr,this.rr,this.sr);r.Ss(c,this.Ao,this.Bo,this.Co);r.Ss(d,this.ps,this.qs,this.rs);r.wU(this.Fv,a,c,d);this.Ja=!1}r.ix(this.Fv)},Laa:function(a,c,d){this.GK(a,c,d)},GK:function(a,c,d){this.qr=a;this.rr=c;this.sr=d;this.Ja=!0},uaa:function(a,c,d){this.IW(a,c,d)},IW:function(a,c,d){this.Ao=a;this.Bo=c;this.Co=d;this.Ja=!0},hca:function(a,c,d){this.LX(a,c,d)},LX:function(a,c,d){this.ps=a;this.qs=c;this.rs=d;this.Ja=!0},I4:function(){return{x:this.qr,y:this.rr,z:this.sr}},CI:function(){return{x:this.qr,
y:this.rr,z:this.sr}},h4:function(){return{x:this.Ao,y:this.Bo,z:this.Co}},AI:function(){return{x:this.Ao,y:this.Bo,z:this.Co}},Y6:function(){return{x:this.ps,y:this.qs,z:this.rs}},vT:function(){return{x:this.ps,y:this.qs,z:this.rs}},B0:function(){}});r.wq.Ms=function(){return r.cu};r.mu=-2147483648;r.y_=r.mu+1;r.Ct=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){r.log("element type is wrong!");break}};r.tq=function(a,c){a.splice(c,1)};r.Vd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};r.ZY=function(a,c){for(var d=0,e=c.length;d<e;d++)r.Vd(a,c[d])};r.YY=function(a,c){return a.indexOf(c)};r.WY=function(a,c){a.push(c)};r.Wl=function(a,c,d){a.splice(d,0,c);return a};
r.XY=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};r.wy=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};r.uy=function(a,c){return-1!=a.indexOf(c)};r.RZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};r.aF=function(a,c,d){this.next=null;this.target=a;this.XJ=c;this.paused=d;this.Al=!1};r.XE=function(a,c,d){this.list=a;this.cn=c;this.target=d;this.QC=null};
r.wM=function(a,c){this.jg=null;this.target=a;this.pq=0;this.zs=this.ys=null;this.paused=c;this.QC=null};
r.Du=r.Ea.extend({Pj:0,Uf:null,R:null,ec:0,VG:!1,zw:!1,np:0,hB:0,hv:0,ctor:function(){},d5:function(){return this.Pj},setInterval:function(){},u6:function(){return this.Uf},Mg:function(a,c,d,e,f){this.R=a;this.Uf=c;this.ec=-1;this.Pj=d||0;this.hv=f||0;this.zw=0<this.hv;this.hB=null==e?r.bm:e;this.VG=this.hB==r.bm;return!0},Mz:function(){if("string"==typeof this.Uf)this.R[this.Uf](this.ec);else this.Uf.call(this.R,this.ec)},update:function(a){if(-1==this.ec)this.np=this.ec=0;else{var c=this.R,d=this.Uf;
this.VG&&!this.zw?(this.ec+=a,this.ec>=this.Pj&&(c&&d&&this.Mz(),this.ec=0)):(this.ec+=a,this.zw?this.ec>=this.hv&&(c&&d&&this.Mz(),this.ec-=this.hv,this.np+=1,this.zw=!1):this.ec>=this.Pj&&(c&&d&&this.Mz(),this.ec=0,this.np+=1),this.np>this.hB&&r.Y.e().Df().CL(c,d))}}});r.Du.ida=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new r.Du;e.Mg(a,c,d||0,r.bm,0);return e};r.o1=null;
r.lN=r.Ea.extend({is:1,th:null,$h:null,Fg:null,Mj:null,Tu:null,Lj:null,N0:null,sf:null,Gi:!1,ww:!1,ctor:function(){this.is=1;this.th=[];this.$h=[];this.Fg=[];this.Mj={};this.Tu=[];this.Lj={};this.Ik=[];this.sf=null;this.ww=this.Gi=!1},gB:function(a){delete this.Lj[a.target.dc];r.Vd(this.Ik,a);a.Du=null;a.target=null},T0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Yv:function(a){if(a=this.Mj[a.target.dc])r.Vd(a.list,a.cn),delete this.Mj[a.target.dc],r.Vd(this.Tu,
a),a.cn=null,a.target=null},OG:function(a,c,d,e){e=new r.aF(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].XJ){a=r.Wl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new r.XE(a,e,c);this.Tu.push(d);this.Mj[c.dc]=d;return a},$N:function(a,c,d){d=new r.aF(c,0,d);a.push(d);a=new r.XE(a,d,c);this.Tu.push(a);this.Mj[c.dc]=a},bca:function(a){this.is=a},N6:function(){return this.is},update:function(a){this.ww=!0;1!=this.is&&(a*=this.is);var c,d;for(d=0;d<this.th.length;d++)c=this.th[d],c.paused||
c.Al||c.target.update(a);for(d=0;d<this.$h.length;d++)c=this.$h[d],c.paused||c.Al||c.target.update(a);for(d=0;d<this.Fg.length;d++)c=this.Fg[d],c.paused||c.Al||c.target.update(a);for(d=0;d<this.Ik.length;d++){c=this.sf=this.Ik[d];this.Gi=!1;if(!this.sf.paused)for(c.pq=0;c.pq<c.jg.length;c.pq++)c.ys=c.jg[c.pq],c.zs=!1,c.ys.update(a),c.ys=null;this.Gi&&0==this.sf.jg.length&&this.gB(this.sf)}for(d=0;d<this.th.length;d++)this.th[d].Al&&this.Yv(this.th[d]);for(d=0;d<this.$h.length;d++)this.$h[d].Al&&this.Yv(this.$h[d]);
for(d=0;d<this.Fg.length;d++)this.Fg[d].Al&&this.Yv(this.Fg[d]);this.ww=!1;this.sf=null},qW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?r.bm:e;f=f||0;g=g||!1;var h=this.Lj[a.dc];h||(h=new r.wM(a,g),this.Ik.push(h),this.Lj[a.dc]=h);if(null==h.jg)h.jg=[];else for(var k=0;k<h.jg.length;k++)if(g=h.jg[k],c==g.Uf){r.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Pj.toFixed(4)+" to "+d.toFixed(4));g.Pj=d;return}g=new r.Du;g.Mg(a,c,d,e,f);h.jg.push(g)},pK:function(a,c,d){var e=this.Mj[a.dc];e?e.cn.Al=!1:0==c?this.$N(this.$h,a,d):0>c?this.th=this.OG(this.th,a,c,d):this.Fg=this.OG(this.Fg,a,c,d)},CL:function(a,c){if(null!=a&&null!=c){var d=this.Lj[a.dc];if(null!=d)for(var e=0;e<d.jg.length;e++){var f=d.jg[e];if(c==f.Uf){f!=d.ys||d.zs||(d.zs=!0);r.tq(d.jg,e);d.pq>=e&&d.pq--;0==d.jg.length&&(this.sf==d?this.Gi=!0:this.gB(d));break}}}},qq:function(a){null!=a&&
(a=this.Mj[a.dc],null!=a&&(this.ww?a.cn.Al=!0:this.Yv(a.cn)))},BL:function(a){if(null!=a){var c=this.Lj[a.dc];c&&(!c.zs&&r.uy(c.jg,c.ys)&&(c.zs=!0),c.jg.length=0,this.sf==c?this.Gi=!0:this.gB(c));this.qq(a)}},tt:function(){this.tY(r.mu)},tY:function(a){var c;for(c=0;c<this.Ik.length;c++)this.BL(this.Ik[c].target);if(0>a)for(c=0;c<this.th.length;c++)this.qq(this.th[c].target);if(0>=a)for(c=0;c<this.$h.length;c++)this.qq(this.$h[c].target);for(c=0;c<this.Fg.length;c++)this.Fg[c].XJ>=a&&this.qq(this.Fg[c].target)},
g$:function(){return this.hV(r.mu)},hV:function(a){var c=[],d,e;for(d=0;d<this.Ik.length;d++)if(e=this.Ik[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.th.length;d++)if(e=this.th[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.$h.length;d++)if(e=this.$h[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Fg.length;d++)if(e=this.Fg[d])e.paused=!0,c.push(e.target);return c},jW:function(a){if(a)for(var c=0;c<a.length;c++)this.Dn(a[c])},at:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Lj[a.dc];c&&(c.paused=!0);if(a=this.Mj[a.dc])a.cn.paused=!0},Dn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Lj[a.dc];c&&(c.paused=!1);if(a=this.Mj[a.dc])a.cn.paused=!1},w8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Lj[a.dc])?a.paused:!1}});r.$y={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
r.ac=r.Ea.extend({Go:0,ls:0,Gr:0,Am:null,eh:1/60,Pj:null,vG:!1,ctor:function(){this.Am=[]},ex:function(a,c,d){if(a){c&&(this.Uf=c,this.R=d);if(a!=this.Am||0==this.Go){this.Gr=this.Go=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Am=this.Am.concat(a[c]);else this.Am=a;this.ls=this.Am.length}this.TP()}else console.log("resources should not null")},EW:function(a){this.vG=a},un:function(a){this.Gr++;r.log("cocos2d:Failed loading resource: "+a)},ni:function(){this.Gr++},Xw:function(){var a=0;return a=
0==this.ls?100:0|this.Gr/this.ls*100},QV:function(a){if(a&&0<a.length)for(var c=r.ia.e(),d=r.Gh?r.Gh.e():null,e=r.Bk.e(),f=r.Jd.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.nG(g);switch(k){case "IMAGE":c.bW(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.pda(g.src);break;case "XML":e.rY(g.src);break;case "BINARY":f.qY(g.src);break;case "TEXT":f.sY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},zP:function(){this.xw();
if(this.vG){var a=r.Y.e().ov;if(null!=a&&20>a){r.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Go<this.ls&&(this.hP(),this.Go++)},hP:function(){var a=r.ia.e(),c=r.Gh?r.Gh.e():null,d=r.Bk.e(),e=r.Jd.e(),f=this.Am[this.Go],g=this.nG(f);switch(g){case "IMAGE":a.ra(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.n$(f.src);break;case "XML":d.uV(f.src);break;case "BINARY":e.tV(f.src);break;case "TEXT":e.vV(f.src);break;case "FONT":this.BP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},TP:function(){var a=this;this.Pj=setInterval(function(){a.zP()},1E3*this.eh)},JQ:function(){clearInterval(this.Pj)},nG:function(a){if(null!=a.Cs)return r.$y.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in r.$y)if(-1!=r.$y[d].indexOf(a))return d;return a},xw:function(){100<=this.Xw()&&(this.JQ(),this.vO())},vO:function(){if(this.R&&"string"==typeof this.Uf)this.R[this.Uf](this);
else this.R&&"function"==typeof this.Uf?this.Uf.call(this.R,this):this.Uf(this);this.ls=this.Gr=this.Go=0},BP:function(a){var c=a.src,d=r.Jd.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Cs+"; src:",g=0;g<c.length;g++)f+="url('"+d.qe(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Cs;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}r.ac.e().ni()},u1:function(){}});r.ac.wD=function(a,c,d){this.Kb||(this.Kb=new r.ac);this.Kb.ex(a,c,d);return this.Kb};r.ac.m$=function(a,c,d){this.Kb||(this.Kb=new r.ac);this.Kb.EW(!0);this.Kb.ex(a,c,d);return this.Kb};r.ac.xD=function(a){this.Kb&&this.Kb.QV(a)};r.ac.e=function(){this.Kb||(this.Kb=new r.ac);return this.Kb};r.ac.Kb=null;
r.Ry=r.Cq.extend({Ev:null,Xo:null,mw:null,Tq:null,Vo:null,XB:null,ctor:function(){r.Cq.prototype.ctor.call(this);this.XB=r.Y.e().Sb},r:function(){r.Cq.prototype.r.call(this);var a=r.a(this.XB.width/2,this.XB.height/2);this.Xo=new Image;var c=this;this.Xo.addEventListener("load",function(){c.SO(a);this.removeEventListener("load",arguments.callee,!1)});this.Xo.src="";this.Xo.width=160;this.Xo.height=200;this.Tq=r.ca.create(r.gC(32,32,32,255));this.Tq.n(0,0);this.f(this.Tq,0);this.Vo=r.T.create("Loading... 0%",
"Arial",14);this.Vo.l(r.Ew(180,180,180));this.Vo.n(r.fg(a,r.a(0,-110)));this.Tq.f(this.Vo,10)},SO:function(a){this.mw=new r.bc;this.mw.Ff(this.Xo);this.mw.Be();this.Ev=r.A.ib(this.mw);this.Ev.tk(r.Id());this.Ev.n(a);this.Tq.f(this.Ev,10)},Qg:function(){r.D.prototype.Qg.call(this);this.Zb(this.hH,0.3)},Sd:function(){r.D.prototype.Sd.call(this);this.Vo.fa("Loading... 0%")},ex:function(a,c,d){this.gW=a;this.vW=c;this.target=d},hH:function(){this.Tc(this.hH);r.ac.wD(this.gW,this.vW,this.target);this.Zb(this.xw)},
xw:function(){var a=r.ac.e().Xw();this.Vo.fa("Loading... "+a+"%");100<=a&&this.Tc(this.xw)}});r.Ry.wD=function(a,c,d){this.Kb||(this.Kb=new r.Ry,this.Kb.r());this.Kb.ex(a,c,d);a=r.Y.e();a.pd?a.kK(this.Kb):a.nW(this.Kb);return this.Kb};r.Gy=r.Ea.extend({xb:null,Hba:function(a){this.xb=a},h6:function(){return this.xb},ctor:function(a){this.xb=a},tC:function(){r.log("DrawingPrimitive.drawPoint() not implement!")},kI:function(){r.log("DrawingPrimitive.drawPoints() not implement!")},di:function(){r.log("DrawingPrimitive.drawLine() not implement!")},mI:function(){r.log("DrawingPrimitive.drawRect() not implement!")},uC:function(){r.log("DrawingPrimitive.drawSolidRect() not implement!")},le:function(){r.log("DrawingPrimitive.drawPoly() not implement!")},
Nw:function(){r.log("DrawingPrimitive.drawSolidPoly() not implement!")},hI:function(){r.log("DrawingPrimitive.drawCircle() not implement!")},lI:function(){r.log("DrawingPrimitive.drawQuadBezier() not implement!")},iI:function(){r.log("DrawingPrimitive.drawCubicBezier() not implement!")},gI:function(){r.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Mw:function(){r.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
r.UE=r.Gy.extend({tC:function(a,c){c||(c=1);var d=r.ta.e().xa,e=r.ta.e().Ba,e=r.a(a.x*d,a.y*e);this.xb.beginPath();this.xb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.xb.closePath();this.xb.fill()},kI:function(a,c,d){if(null!=a){d||(d=1);c=this.xb;var e=r.ta.e().xa,f=r.ta.e().Ba;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},di:function(a,c){var d=this.xb,e=r.ta.e().xa,f=r.ta.e().Ba;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},mI:function(a,c){this.di(r.a(a.x,a.y),r.a(c.x,a.y));this.di(r.a(c.x,a.y),r.a(c.x,c.y));this.di(r.a(c.x,c.y),r.a(a.x,c.y));this.di(r.a(a.x,c.y),r.a(a.x,a.y))},uC:function(a,c,d){a=[a,r.a(c.x,a.y),c,r.a(a.x,c.y)];this.Nw(a,4,d)},le:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.xb;var g=r.ta.e().xa,h=r.ta.e().Ba;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Nw:function(a,c,d){this.FK(d.p,d.o,d.g,d.I);this.le(a,c,!0,!0)},hI:function(a,c,d,e,f){f=f||!1;e=this.xb;var g=r.ta.e().xa,h=r.ta.e().Ba;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},lI:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(r.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(r.a(d.x,d.y));this.le(f,e+1,!1,!1)},iI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(r.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(r.a(e.x,e.y));this.le(g,f+1,!1,!1)},gI:function(a,c){this.Mw(a,0.5,c)},Mw:function(a,c,d){r.X.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=r.Ay(r.xh(a,f-1),r.xh(a,f-0),r.xh(a,f+1),r.xh(a,f+2),c,g),e.push(f);this.le(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.xb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.xb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.xb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},d3:function(a,c,d){a=a||this.xb;c*=r.ta.e().xa;d instanceof r.Xd&&(d=new r.Dc(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+d.p+","+d.o+","+d.g;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,r.eF,!1);a.closePath();a.fill()},b3:function(a,c,d){a=a||this.xb;c*=r.ta.e().xa;d instanceof r.Xd&&(d=new r.Dc(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+
d.p+","+d.o+","+d.g;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,r.eF,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.xb.fillText(a,c,-d)},SW:function(a,c,d,e){this.xb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.xb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},FK:function(a,c,d,e){this.xb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.xb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},uX:function(){},dX:function(a){this.xb.lineWidth=a*r.ta.e().xa}});
r.mM=r.Gy.extend({Br:!1,Nb:null,Ei:-1,kc:null,VA:-1,UA:-1,ctor:function(a){null==a&&(a=r.X);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";r.Gy.prototype.ctor.call(this,a);this.kc=new r.Xd(1,1,1,1)},lk:function(){this.Br||(this.Nb=r.Kh.e().oi(r.Y_),this.Ei=this.xb.getUniformLocation(this.Nb.Yw(),"u_color"),this.VA=this.xb.getUniformLocation(this.Nb.Yw(),"u_pointSize"),this.Br=!0)},c3:function(){this.Br=!1},tC:function(a){this.lk();
this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,new Float32Array(this.kc.Rb,0,4),1);this.Nb.$K(this.VA,this.UA);var c=this.xb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(r.Ne,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);r.Hh()},kI:function(a){if(a&&0!=a.length){this.lk();this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,new Float32Array(this.kc.Rb,0,4),1);this.Nb.$K(this.VA,
this.UA);var c=this.xb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Tv(a),c.STATIC_DRAW);c.vertexAttribPointer(r.Ne,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);r.Hh()}},Tv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},di:function(a,c){this.lk();this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,new Float32Array(this.kc.Rb,0,4),1);var d=this.xb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Tv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(r.Ne,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);r.Hh()},mI:function(a,c){this.di(r.a(a.x,a.y),r.a(c.x,a.y));this.di(r.a(c.x,a.y),r.a(c.x,c.y));this.di(r.a(c.x,c.y),r.a(a.x,c.y));this.di(r.a(a.x,c.y),r.a(a.x,a.y))},uC:function(a,c,d){a=[a,r.a(c.x,a.y),c,r.a(a.x,c.y)];this.Nw(a,4,d)},le:function(a,c,d){this.lk();this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,new Float32Array(this.kc.Rb,0,4),
1);c=this.xb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Tv(a),c.STATIC_DRAW);c.vertexAttribPointer(r.Ne,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);r.Hh()},Nw:function(a,c,d){this.lk();d||(d=this.kc);this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,new Float32Array(d.Rb,0,4),1);c=this.xb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Tv(a),c.STATIC_DRAW);
c.vertexAttribPointer(r.Ne,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);r.Hh()},hI:function(a,c,d,e,f){this.lk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,new Float32Array(this.kc.Rb,0,4),1);a=this.xb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(r.Ne,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);r.Hh()}},lI:function(a,c,d,e){this.lk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,new Float32Array(this.kc.Rb,0,4),1);a=this.xb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(r.Ne,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);r.Hh()},iI:function(a,c,d,e,f){this.lk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,new Float32Array(this.kc.Rb,0,4),1);a=this.xb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(r.Ne,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);r.Hh()},gI:function(a,c){this.Mw(a,0.5,c)},Mw:function(a,c,d){this.lk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=r.Ay(r.xh(a,f-1),r.xh(a,f),r.xh(a,f+1),r.xh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Nb.pf();this.Nb.Ug();r.we(r.bh);this.Nb.Kl(this.Ei,
new Float32Array(this.kc.Rb,0,4),1);a=this.xb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(r.Ne,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);r.Hh()},SW:function(a,c,d,e){this.kc.p=a/255;this.kc.o=c/255;this.kc.g=d/255;this.kc.I=e/255},FK:function(a,c,d,e){this.kc.p=a;this.kc.o=c;this.kc.g=d;this.kc.I=e},uX:function(a){this.UA=a*r.Id()},dX:function(a){this.xb.lineWidth&&this.xb.lineWidth(a)}});r.eF=2*Math.PI;r.xF={y0:0,c_:1,d_:2,OY:3,WZ:4,VZ:5,aZ:6,l_:7,GZ:8,PM:100,YM:101};r.r_=0;r.s_=1;r.p_=2;r.q_=3;r.ng=0;r.Ek=1;r.ag=null;r.X=null;r.canvas=null;r.ES=null;r.Fd=r.ng;r.bV=r.size(0,0);window.JD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});r.bD=!1;
r.Ll=function(a,c,d){function e(){if(r.Gh){var a=r.Gh.e();document[k]?(a.gV(),a.iV()):(r.Y.e().PP(),a.hW(),a.iW())}}a=r.Pb(a)||r.Pb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=r.fk=r.xk("DIV"),h=g.style,f=r.canvas=a,f.parentNode.insertBefore(g,f),f.Zm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&r.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=r.canvas=r.xk("CANVAS"),f.GH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=r.fk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!r.xz){r.Ga.Sc&&(r.X=r.Jda=r.WH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!r.Ga.kk,alpha:!1}));r.X?(r.Fd=r.Ek,window.gl=r.X,r.ag=new r.mM(r.X),r.ia.e().ZO()):(r.X=f.getContext("2d"),r.EU=r.X,
r.Fd=r.ng,r.X.translate(0,f.height),r.ag=r.UE?new r.UE(r.X):null);r.bV=r.size(f.width,f.height);r.ES=g;r.log(r.It);r.Le.e();r.OW();r.Ga.kk&&r.VN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(r.bD=!1,window.addEventListener("focus",function(){if(r.Gh){var a=r.Gh.e();a.hW();a.iW()}},!1),window.addEventListener("blur",function(){if(r.Gh){var a=r.Gh.e();a.gV();a.iV()}},!1)):(r.bD=!0,document.addEventListener(l,e,!1))}};r.VN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
r.wG=!1;r.OW=function(){r.wG=!1;r.canvas.oncontextmenu=r.wG?function(){}:function(){return!1}};r.sj=r.Ea.extend({eh:null,ctor:function(){this.eh=0;if(r.vB)throw"Application has been initialized";r.vB=this},gt:function(a){this.eh=a},Hca:function(a){a&&r.rect(0,0,0,0)},J6:function(){return r.Ga.kk?r.xF.PM:r.xF.YM},lW:function(){if(!this.mR())return 0;var a,c=r.Y.e(),d=window;r.jS=c;d.JD&&this.eh==1/60?(a=function(){c.DJ();d.JD(a)},d.JD(a)):(a=function(){c.DJ()},setInterval(a,1E3*this.eh));return 0}});
r.sj.e=function(){return r.vB};r.sj.t4=function(){var a=r.DM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.yda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=r.CM;break;case "fr":a=r.EM;break;case "it":a=r.HM;break;case "de":a=r.FM;break;case "es":a=r.OM;break;case "ru":a=r.NM;break;case "ko":a=r.JM;break;case "ja":a=r.IM;break;case "hu":a=r.GM;break;case "pt":a=r.MM;break;case "ar":a=r.BM;break;case "no":a=r.KM;break;case "pl":a=r.LM}return a};r.vB=null;r.Bk=r.Ea.extend({Lda:null,MG:null,tp:null,HA:null,ctor:function(){this.tp={};window.DOMParser?(this.HA=!0,this.MG=new DOMParser):this.HA=!1},parse:function(a){var c=a;a=this.DI(a);a=this.NG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.RA(c)},jda:function(a,c){if(null==c||!1===c)a=this.DI(a);return this.NG(a)},NG:function(a,
c){var d;this.HA?d=this.MG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&r.log("cocos2d:xml "+c+" not found!");return d},RA:function(a){var c=null;switch(a.tagName){case "dict":c=this.wP(a);break;case "array":c=this.vP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},vP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.RA(f))}return c},wP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.RA(g))}return c},uV:function(a){a=r.Jd.e().qe(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(r.ac.e().ni(),d.tp[a]=c.responseText,c=null):(r.ac.e().ni(),r.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},rY:function(a){this.tp.hasOwnProperty(a)&&delete this.tp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
H4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},DI:function(a){return null!=this.tp?this.tp[a]:null}});r.Bk.e=function(){this.Kb||(this.Kb=new r.Bk);return this.Kb};r.Bk.Kb=null;r.ty=r.Ea.extend({iS:function(){r.sj.e().lW();return!0},X1:function(){r.Y.e().pause()},W1:function(){r.Y.e().mK()},lR:function(){r.sj.e().lR()},nR:function(){r.sj.e().nR()},Y1:function(){}});r.ty.UX=function(){null==r.Xx&&(r.Xx=new r.ty);if(!r.Xx)throw"Application initialize failure";return r.Xx};r.Xx=null;r.T=r.A.extend({de:null,Rk:r.yj,kl:r.Lq,tf:null,Qe:0,Eg:"",QA:null,Ro:!1,Ij:null,Vj:!1,Fm:null,ep:0,Yr:0,dw:null,fl:!1,cs:null,jp:0,fw:null,kp:null,nv:null,FB:0,GB:0,ld:!1,Av:null,Bv:null,ctor:function(){r.A.prototype.ctor.call(this);this.de=r.cm();this.Rk=r.Hq;this.kl=r.Lq;this.nc=!1;this.Ij="";this.tf="Arial";this.Vj=this.Ro=!1;this.Fm=r.cm();this.Yr=this.ep=0;this.dw="rgba(128, 128, 128, 0.5)";this.fl=!1;this.cs=r.Ab();this.jp=0;this.fw="";this.kp=r.Ab();this.nv="rgba(255,255,255,1)";this.GB=this.FB=
0;this.ld=!1;this.Wh()},r:function(){return this.sl(" ",this.tf,this.Qe)},lP:function(){this.wA().font=this.Ij},Ir:function(a){return this.wA().measureText(a).width},jO:function(a,c){var d=this.Ir(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=r.T.kO,m=r.T.RP,n=r.T.iO,p=a.substr(e);k=l.exec(p);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Ir(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;p=a.substr(h)}if(d)return g;
p=a.substr(0,e);for(g=e;k=m.exec(p);)if(g=k[1].length,p=k[1],f=this.Ir(p),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.tf+" FontSize \x3d "+this.Qe.toFixed(1)+"\x3e"},l:null,Tr:function(a){r.Bb.prototype.l.call(this,a);this.WG()},Wh:null,WG:function(){this.ld=!0;var a=this.Hc,c=this.Yb,d=this.cs,e=this.kp;this.dw="rgba("+(0|0.5*a.p)+","+(0|0.5*a.o)+","+(0|0.5*a.g)+","+this.ep+")";this.nv="rgba("+(0|a.p/255*e.p)+","+(0|a.o/255*e.o)+","+
(0|a.g/255*e.g)+", "+c/255+")";this.fw="rgba("+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+","+(0|a.g/255*d.g)+", "+c/255+")"},$P:function(){this.ld=!0;var a=this.cs,c=this.kp;this.dw="rgba(128,128,128,"+this.ep+")";this.nv="rgba("+(0|c.p)+","+(0|c.o)+","+(0|c.g)+", 1)";this.fw="rgba("+(0|a.p)+","+(0|a.o)+","+(0|a.g)+", 1)"},fd:null,MB:function(a){r.Bb.prototype.fd.call(this,a);this.Wh()},ja:null,Vr:function(a){this.Pi!==a&&(r.A.prototype.ja.call(this,a),this.Wh(),this.ld=!0)},gd:null,uda:function(a){r.Bb.prototype.gd.call(this,
a);this.Wh()},HC:function(){return this.Eg},T4:function(){return this.Rk},d7:function(){return this.kl},C4:function(){return r.size(this.de.width,this.de.height)},N4:function(){return this.Qe},M4:function(){return this.tf},sl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||r.size(0,d);f=f||r.Hq;g=g||r.Mq;return r.A.prototype.r.call(this)?(this.nc=!1,this.de=r.size(e.width,e.height),this.tf=c||"Arial",this.Rk=f,this.kl=g,this.Qe=d,this.Ij=this.Qe+"px '"+c+"'",this.Hj=r.T.Ou(c,this.Qe),this.fa(a),this.Wh(),
this.OB(),this.ld=!1,!0):!1},YC:null,VO:function(a,c){if(!r.A.prototype.r.call(this))return!1;this.PB(c,!1);this.fa(a);return!0},WO:function(a,c){if(!r.A.prototype.r.call(this))return!1;this.Sg(r.Kh.e().oi(r.T.FN));this.PB(c,!1);this.fa(a);return!0},$ba:function(a){a&&this.PB(a,!0)},K6:function(){return this.AP(!1)},wS:function(a,c,d){c=c||0.5;!1===this.Vj&&(this.Vj=!0);var e=this.Fm;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.ep!=c&&(this.ep=c);this.Wh();this.Yr!=
d&&(this.Yr=d);this.ld=!0},W2:function(){this.Vj&&(this.Vj=!1,this.ld=!0)},xS:function(a,c){!1===this.fl&&(this.fl=!0);var d=this.cs;if(d.p!==a.p||d.o!==a.o||d.g!==a.g)d.p=a.p,d.o=a.o,d.g=a.g,this.Wh();this.jp!==c&&(this.jp=c||0);this.ld=!0},X2:function(){this.fl&&(this.fl=!1,this.ld=!0)},TD:null,dQ:function(a){var c=this.kp;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Wh(),this.ld=!0},eQ:function(a){var c=this.kp;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Wh(),this.ld=
!0},PB:function(a,c){a.Bs?(this.de.width=a.Bs.width,this.de.height=a.Bs.height):(this.de.width=0,this.de.height=0);this.Rk=a.sI;this.kl=a.tI;this.tf=a.Cs;this.Qe=a.fontSize||12;this.Ij=this.Qe+"px '"+this.tf+"'";this.Hj=r.T.Ou(this.tf,this.Qe);a.iL&&this.wS(a.jL,a.kL,a.shadowBlur,!1);a.kE&&this.xS(a.strokeColor,a.uL,!1);this.TD(a.uI,!1);c&&this.OB()},AP:function(a){var c=new r.sM;a?(c.fontSize=this.Qe,c.Bs=r.dz(this.de)):(c.fontSize=this.Qe,c.Bs=r.size(this.de.width,this.de.height));c.Cs=this.tf;
c.sI=this.Rk;c.tI=this.kl;if(this.fl){c.kE=!0;var d=this.cs;c.strokeColor=new r.Dc(d.p,d.o,d.g);c.uL=this.jp}else c.kE=!1;this.Vj?(c.iL=!0,c.shadowBlur=this.Yr,c.kL=this.ep,c.jL=a?r.dz(this.Fm):r.size(this.Fm.width,this.Fm.height)):c.Vj=!1;a=this.kp;c.uI=new r.Dc(a.p,a.o,a.g);return c},Hj:18,fa:function(a){a=String(a);this.QA!=a&&(this.QA=a+"",this.vH(),this.ld=!0)},vH:function(){this.Eg=this.QA},Saa:function(a){a!==this.Rk&&(this.Rk=a,this.ld=!0)},lca:function(a){a!=this.kl&&(this.kl=a,this.ld=!0)},
ic:function(a){if(a.width!=this.de.width||a.height!=this.de.height)this.de=a,this.vH(),this.ld=!0},HK:function(a){this.Qe!==a&&(this.Qe=a,this.Ij=a+"px '"+this.tf+"'",this.Hj=r.T.Ou(this.tf,a),this.ld=!0)},YW:function(a){this.tf&&this.tf!=a&&(this.tf=a,this.Ij=this.Qe+"px '"+a+"'",this.Hj=r.T.Ou(a,this.Qe),this.ld=!0)},AO:function(a){if(a){var c=this.FB,d=this.GB,e=this.wa.va-d,f=this.kl,g=this.Rk,h=this.Hj,k=this.jp;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Ij&&(a.font=this.Ij);a.fillStyle=
this.nv;var l=d=0,m=this.fl;m&&(a.lineWidth=2*k,a.strokeStyle=this.fw);this.Vj&&(k=this.Fm,a.shadowColor=this.dw,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Yr);a.textBaseline=r.T.DQ[f];a.textAlign=r.T.CQ[g];c=this.wa.Ha-c;d=g===r.rN?d+c:g===r.yj?d+c/2:d+0;if(this.Ro)for(g=this.Xj.length,f===r.Lq?l=h+e-h*g:f===r.Ku&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Xj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==r.Lq&&(l=f===r.Mq?l-e:l-0.5*e),m&&a.strokeText(this.Eg,
d,l),a.fillText(this.Eg,d,l)}},wA:function(){if(this.Bv)return this.Bv;if(!this.Av){var a=document.createElement("canvas"),c=new r.bc;c.Ff(a);this.ga(c);this.Av=a}return this.Bv=this.Av.getContext("2d")},wH:function(){var a=this.de.width,c,d;this.AG=[];this.Ro=!1;this.lP();if(0!==a){var e=this.Eg;this.Xj=[];c=0;for(d=this.Eg.length;c<d;){var f=this.jO(e.substr(c),a);this.Xj.push(e.substr(c,f));c+=f}}else for(this.Xj=this.Eg.split("\n"),c=0,d=this.Xj.length;c<d;c++)this.AG.push(this.Ir(this.Xj[c]));
0<this.Xj.length&&(this.Ro=!0);d=c=0;this.fl&&(c=d=2*this.jp);this.Vj&&(e=this.Fm,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Ro?r.size(0|Math.max.apply(Math,this.AG)+c,0|this.Hj*this.Xj.length+d):r.size(0|this.Ir(this.Eg)+c,0|this.Hj+d):0===this.de.height?this.Ro?r.size(0|a+c,0|this.Hj*this.Xj.length+d):r.size(0|a+c,0|this.Hj+d):r.size(0|a+c,0|this.de.height+d);this.W(a);this.FB=c;this.GB=d;e=this.Lh;this.Ld.F=0.5*c+(a.width-c)*e.F;this.Ld.H=0.5*d+(a.height-d)*e.H},c:function(){this.ld&&
this.wH();return r.A.prototype.c.call(this)},OB:function(){var a=this.wA(),c=this.Av,d=this.wa;if(0===this.Eg.length)return c.width=1,c.height=d.va,this.Ub(r.rect(0,0,1,d.va)),!0;a.font=this.Ij;this.wH();var e=d.Ha,d=d.va,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.AO(a);this.Fa.Be();this.Ub(r.rect(0,0,e,d));return!0},sa:function(a){this.Eg&&""!=this.Eg&&(this.ld&&(this.ld=!1,this.OB()),r.A.prototype.sa.call(this,a||r.X))},Wa:null,wg:function(a){if(this.Eg&&""!=this.Eg){a=
a||r.X;var c=this.Fa;c&&c.tc&&(this.Jc.pf(),this.Jc.Ug(),r.ik(this.ha.src,this.ha.Ib),r.Kg(c),r.we(r.Ju),a.bindBuffer(a.ARRAY_BUFFER,this.Xv),this.xf&&(a.bufferData(a.ARRAY_BUFFER,this.Mb.bC,a.STATIC_DRAW),this.xf=!1),a.vertexAttribPointer(r.Ne,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(r.Kq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(r.Jq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===r.Ck?(a=this.Mb,a=[r.a(a.Ta.s.x,a.Ta.s.y),r.a(a.Ka.s.x,a.Ka.s.y),r.a(a.Va.s.x,a.Va.s.y),r.a(a.Na.s.x,
a.Na.s.y)],r.ag.le(a,4,!0)):2===r.Ck&&(a=this.IC().cb,c=this.fc,a=[r.a(c.x,c.y),r.a(c.x+a.width,c.y),r.a(c.x+a.width,c.y+a.height),r.a(c.x,c.y+a.height)],r.ag.le(a,4,!0));r.fi++}},uB:function(a,c,d){this.ad=c||!1;d=d||a.cb;this.W(d);this.dE(a);c=this.mp;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.yt=!(0===c.width||0===c.height);a=this.Zh;this.lc&&(a.F=-a.F);this.mc&&(a.H=-a.H);this.fc.F=a.x+(this.wa.Ha-this.za.width)/2;this.fc.H=a.y+(this.wa.va-this.za.height)/2;this.mb&&(this.Ja=!0)},ZG:function(a){var c=
this.mb?this.Sa.aa():this.Fa;if(c){var d=c.Kp(),e=c.Jp(),f,g=this.Mb;this.ad?(r.bu?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.lc&&(e=f,f=a,a=e),this.mc&&(e=c,c=d,d=e),g.Ka.C.Pa=c,g.Ka.C.oa=f,g.Va.C.Pa=c,g.Va.C.oa=a,g.Ta.C.Pa=d,g.Ta.C.oa=f,g.Na.C.Pa=d,g.Na.C.oa=a):(r.bu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.lc&&(e=c,c=d,d=e),this.mc&&(e=f,f=a,a=e),g.Ka.C.Pa=c,g.Ka.C.oa=a,g.Va.C.Pa=d,g.Va.C.oa=a,g.Ta.C.Pa=c,g.Ta.C.oa=f,g.Na.C.Pa=d,g.Na.C.oa=f);this.xf=!0}}});
r.Ga.Sc?(b=r.T.prototype,b.l=r.A.prototype.l,b.Wh=r.T.prototype.$P,b.fd=r.A.prototype.fd,b.ja=r.A.prototype.ja,b.gd=r.A.prototype.gd,b.YC=r.T.prototype.WO,b.TD=r.T.prototype.eQ,b.Wa=r.T.prototype.wg,b.Ub=r.A.prototype.$G):(b=r.T.prototype,b.l=r.T.prototype.Tr,b.Wh=r.T.prototype.WG,b.fd=r.T.prototype.MB,b.ja=r.T.prototype.Vr,b.gd=r.T.prototype.sH,b.YC=r.T.prototype.VO,b.TD=r.T.prototype.dQ,b.Wa=r.A.prototype.Wa,b.Ub=r.T.prototype.uB);r.T.CQ=["left","center","right"];r.T.DQ=["top","middle","bottom"];
r.T.kO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;r.T.RP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;r.T.iO=/[\s\-\/\\\:]/;r.T.create=function(a,c,d,e,f,g){var h=new r.T;return h.sl(a,c,d,e,f,g)?h:null};r.T.M2=function(a,c){var d=new r.T;return d&&d.YC(a,c)?d:null};r.T.FN=r.zN?r.cz:r.V_;r.T.dm=document.createElement("div");r.T.dm.style.fontFamily="Arial";r.T.dm.style.position="absolute";r.T.dm.style.left="-100px";r.T.dm.style.top="-100px";r.T.dm.style.lineHeight="normal";
document.body.appendChild(r.T.dm);r.T.Ou=function(a,c){var d=r.T.NF[a+"."+c];if(0<d)return d;var e=r.T.dm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;r.T.NF[a+"."+c]=d;e.innerHTML="";return d};r.T.NF={};r.vM=r.Ea.extend({Lc:null,target:null,Xm:0,vh:null,bn:!1,paused:!1,QC:null,ctor:function(){this.Lc=[];this.R=null;this.Xm=0;this.vh=null;this.paused=this.bn=!1;this.QC=null}});
r.SL=r.Ea.extend({Oh:null,po:null,sf:null,Gi:!1,m1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Oh={};this.po=[];this.sf=null;this.Gi=!1},YQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Oh[c.dc];e||(e=new r.vM,e.paused=d,e.target=c,this.Oh[c.dc]=e,this.po.push(e));this.PN(e);e.Lc.push(a);a.$(c)},D$:function(){for(var a=this.po,
c=0;c<a.length;c++){var d=a[c];d&&this.hK(d.target,!0)}},hK:function(a,c){if(null!=a){var d=this.Oh[a.dc];d&&(-1===d.Lc.indexOf(d.vh)||d.bn||(d.bn=!0),d.Lc=[],this.sf!=d||c?this.aA(d):this.Gi=!0)}},gK:function(a){if(null!=a){var c=this.Oh[a.ym.dc];if(c)for(var d=0;d<c.Lc.length;d++){if(c.Lc[d]==a){c.Lc.splice(d,1);break}}else r.log("cocos2d: removeAction: Target not found")}},RV:function(a,c){a==r.Wn&&r.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Oh[c.dc];if(d)for(var e=d.Lc.length,f=0;f<e;++f){var g=d.Lc[f];if(g&&g.qd===a&&g.ym==c){this.EP(f,d);break}}},AC:function(a,c){a==r.Wn&&r.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Oh[c.dc];if(d){if(null!=d.Lc)for(var e=0;e<d.Lc.length;++e){var f=d.Lc[e];if(f&&f.qd===a)return f}r.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},KU:function(a){return(a=this.Oh[a.dc])?a.Lc?a.Lc.length:0:0},at:function(a){if(a=this.Oh[a.dc])a.paused=!0},
Dn:function(a){if(a=this.Oh[a.dc])a.paused=!1},f$:function(){for(var a=[],c=this.po,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},jW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Dn(a[c])},q$:function(){r.Y.e().Df().qq(this)},EP:function(a,c){c.Lc[a]!=c.vh||c.bn||(c.bn=!0);r.tq(c.Lc,a);c.Xm>=a&&c.Xm--;0==c.Lc.length&&(this.sf==c?this.Gi=!0:this.aA(c))},aA:function(a){a&&(delete this.Oh[a.target.dc],r.Vd(this.po,a),a.Lc=null,a.target=null)},PN:function(a){null==
a.Lc&&(a.Lc=[])},update:function(a){for(var c=this.po,d,e=0;e<c.length;e++){d=this.sf=c[e];if(!d.paused)for(d.Xm=0;d.Xm<d.Lc.length;d.Xm++)if(d.vh=d.Lc[d.Xm],d.vh){d.bn=!1;d.vh.step(a);if(d.bn)d.vh=null;else if(d.vh.ii()){d.vh.stop();var f=d.vh;d.vh=null;this.gK(f)}d.vh=null}this.Gi&&0===d.Lc.length&&this.aA(d)}}});r.rf=r.Ea.extend({K:null,Vv:r.vj(),Pf:0,ctor:function(a,c,d){this.K=r.a(a||0,c||0);this.Pf=d||0},f5:function(){return this.K},dT:function(){return this.Vv},z4:function(){return r.Dd(this.K,this.Vv)},W4:function(){return this.Pf},X4:function(){return this.Pf},aE:function(a,c,d){this.Vv=this.K;this.K=r.a(c||0,d||0);this.Pf=a},Vf:function(a,c){this.Vv=r.a(a||0,c||0)}});
r.GF=r.Ea.extend({S0:null,nb:function(){return!1},sd:function(){},Hf:function(){},nk:function(){},KJ:function(){},NJ:function(){},MJ:function(){},LJ:function(){},nda:function(){},mda:function(){}});r.l0=r.GF.extend({nb:function(){return!1},sd:function(){},Hf:function(){},nk:function(){}});r.e0=r.GF.extend({KJ:function(){},NJ:function(){},MJ:function(){},LJ:function(){}});r.lo=r.Ea.extend({Xb:null,wf:0,Io:0,gc:function(){return this.Xb},Eh:function(a){this.Xb=a},eT:function(){return this.wf},lt:function(a){this.wf=a},NS:function(){return this.Io},TW:function(a){this.Io=a},jk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Xb=a;this.wf=c;this.Io=0;return!0}});r.lo.create=function(a,c){var d=new r.lo;d&&d.jk(a,c);return d};r.hz=r.lo.extend({jk:function(a,c){return r.lo.prototype.jk.call(this,a,c)}});
r.hz.create=function(a,c){var d=new r.hz;d&&d.jk(a,c);return d};r.Cu=r.lo.extend({jw:!1,Do:null,v8:function(){return this.jw},Xba:function(a){this.jw=a},k4:function(){return this.Do},jk:function(a,c,d){return r.lo.prototype.jk.call(this,a,c)?(this.Do=[],this.jw=d,!0):!1}});r.Cu.create=function(a,c,d){var e=new r.Cu;e&&e.jk(a,c,d);return e};r.uN=1;r.xN=2;r.wN=4;r.vN=8;r.o0=r.uN|r.xN|r.wN|r.vN;r.lz=0;r.oz=1;r.nz=2;r.mz=3;r.n0=4;r.xJ=function(a,c){return a.wf>c.wf};r.Gu=function(a){this.type=a};
r.ka=r.Ea.extend({Sj:!1,Ye:null,Xe:null,um:!1,ks:!1,uw:!1,Sk:null,Kj:null,tw:!1,Fj:!1,OO:[new r.Gu(r.lz),new r.Gu(r.oz),new r.Gu(r.nz),new r.Gu(r.mz)],r:function(){this.Fj=!0;this.Ye=[];this.Xe=[];this.Sk=[];this.Kj=[];this.Sj=this.um=this.tw=this.ks=this.uw=!1;r.ka.NV();return!0},Ur:function(a){this.Sj=a},JO:function(){return this.Sj},V7:function(){return this.Fj},RW:function(a){this.Fj=a},TN:function(a,c){var d=r.hz.create(a,c||0);this.um?-1!=this.Kj.indexOf(a)?r.Vd(this.Kj,a):(this.Sk.push(d),
this.ks=!0):this.Xe=this.Dp(d,this.Xe)},UN:function(a,c,d){c=r.Cu.create(a,c,d);this.um?-1!=this.Kj.indexOf(a)?r.Vd(this.Kj,a):(this.Sk.push(c),this.ks=!0):this.Ye=this.Dp(c,this.Ye)},Dp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.wf<a.wf&&++d,e.gc()==a.gc())return r.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return r.Wl(c,a,d)},vI:function(){this.Xe.length=0;this.Ye.length=0},HP:function(a){if(null!=a)if(this.um){var c=this.qI(this.Sk,a);c?r.Vd(this.Sk,
c):(this.Kj.push(a),this.uw=!0)}else this.wI(a)},TV:function(){this.um?this.tw=!0:this.vI()},lt:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.qI(c);d?d.wf!=a&&(d.lt(a),this.aK(this.Ye),this.aK(this.Xe)):r.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.um=!0;var e=this.Ye.length,f=this.Xe.length,g=e&&f,h=g?a.slice():a,k=this.OO[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],p=0;p<this.Ye.length;p++){l=this.Ye[p];if(!l)break;m=!1;if(d==r.lz)l.gc().nb&&(m=l.gc().nb(e,c))&&l.Do.push(e);else if(0<l.Do.length)switch(m=!0,k.type){case r.oz:r.Ga.kk?l.gc().sd&&l.gc().sd(e,c):this.Sj&&l.gc().sd&&l.gc().sd(e,c);break;case r.nz:l.gc().Hf&&l.gc().Hf(e,c);l.Do.length=0;break;case r.mz:l.gc().nk&&l.gc().nk(e,c),l.Do.length=0}if(m&&l.jw){g&&r.Vd(h,e);break}}if(0<f)for(n=0;n<this.Xe.length&&(l=this.Xe[n],l);n++);this.um=!1;if(this.uw){this.uw=
!1;for(n=0;n<this.Kj.length;n++)this.wI(this.Kj[n]);this.Kj.length=0}if(this.ks){this.ks=!1;for(n=0;n<this.Sk.length;n++){l=this.Sk[n];if(!l)break;l instanceof r.Cu?this.Ye=this.Dp(l,this.Ye):this.Xe=this.Dp(l,this.Xe)}this.Sk.length=0}this.tw&&(this.tw=!1,this.vI())},jy:function(a,c){this.Fj&&this.touches(a,c,r.lz)},ky:function(a,c){this.Fj&&this.touches(a,c,r.oz)},st:function(a,c){this.Fj&&this.touches(a,c,r.nz)},mE:function(a,c){this.Fj&&this.touches(a,c,r.mz)},qI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Ye.length;d++)if(this.Ye[d].gc()==c)return this.Ye[d];for(d=0;d<this.Xe.length;d++)if(this.Xe[d].gc()==c)return this.Xe[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].gc()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},wI:function(a){for(var c,d=0;d<this.Xe.length;d++)if((c=this.Xe[d])&&c.gc()==a){r.Vd(this.Xe,c);break}for(d=0;d<this.Ye.length;d++)if((c=this.Ye[d])&&c.gc()==a){r.Vd(this.Ye,c);break}},aK:function(a){a.sort(r.xJ)}});r.ka.ub=r.a(0,0);r.ka.sJ=!1;
r.Zi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
r.fN=function(a,c){var d=r.Zi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=r.ta.e().gk(e,f,d);d=new r.rf(e.x,e.y);d.Vf(r.ka.ub.x,r.ka.ub.y);r.ka.ub.x=e.x;r.ka.ub.y=e.y;e=[];e.push(d);r.ta.e().st(e,null)};
r.ka.NV=function(){var a=r.canvas;if(!r.ka.sJ){if(r.Ga.kk)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=r.Zi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=r.ta.e().gk(k,l,e);e=new r.rf(k.x,k.y);e.Vf(r.ka.ub.x,r.ka.ub.y);r.ka.ub.x=k.x;r.ka.ub.y=k.y;r.Y.e().$e[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=r.Zi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.ta.e().gk(k,l,g),h.hasOwnProperty("identifier")?(h=new r.rf(k.x,k.y,h.identifier),l=r.ka.qv(h).K,h.Vf(l.x,l.y),r.ka.XG(h)):(h=new r.rf(k.x,k.y),h.Vf(r.ka.ub.x,r.ka.ub.y)),r.ka.ub.x=k.x,
r.ka.ub.y=k.y,d.push(h);r.ta.e().jy(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=r.Zi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.ta.e().gk(k,l,g),h.hasOwnProperty("identifier")?(h=new r.rf(k.x,k.y,h.identifier),l=r.ka.qv(h).K,h.Vf(l.x,l.y),r.ka.XG(h)):(h=new r.rf(k.x,k.y),h.Vf(r.ka.ub.x,r.ka.ub.y)),
r.ka.ub.x=k.x,r.ka.ub.y=k.y,d.push(h);r.ta.e().ky(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=r.Zi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.ta.e().gk(k,l,g),h.hasOwnProperty("identifier")?(h=new r.rf(k.x,k.y,h.identifier),l=r.ka.qv(h).K,h.Vf(l.x,l.y),r.ka.fG(h)):(h=new r.rf(k.x,k.y),h.Vf(r.ka.ub.x,
r.ka.ub.y)),r.ka.ub.x=k.x,r.ka.ub.y=k.y,d.push(h);r.ta.e().st(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=r.Zi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=r.ta.e().gk(k,l,g),h.hasOwnProperty("identifier")?(h=new r.rf(k.x,k.y,h.identifier),l=r.ka.qv(h).K,h.Vf(l.x,l.y),r.ka.fG(h)):(h=new r.rf(k.x,
k.y),h.Vf(r.ka.ub.x,r.ka.ub.y)),r.ka.ub.x=k.x,r.ka.ub.y=k.y,d.push(h);r.ta.e().mE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){r.Y.e().$e.Ur(!0)}),window.addEventListener("mouseup",function(c){r.Y.e().$e.Ur(!1);var d=r.Zi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);r.bb(new r.qg(d.left,d.top,d.width,d.height),r.a(g,c))||(g=r.ta.e().gk(g,c,d),d=new r.rf(g.x,
g.y),d.Vf(r.ka.ub.x,r.ka.ub.y),r.ka.ub.x=g.x,r.ka.ub.y=g.y,g=[],g.push(d),r.ta.e().st(g,null))}),a.addEventListener("mousedown",function(c){var d=r.Zi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=r.ta.e().gk(g,c,d);d=new r.rf(g.x,g.y);d.Vf(r.ka.ub.x,r.ka.ub.y);r.ka.ub.x=g.x;r.ka.ub.y=g.y;g=[];g.push(d);r.ta.e().jy(g,null)}),a.addEventListener("mouseup",function(c){r.fN(a,c)}),a.addEventListener("mousemove",function(c){var d=
r.Zi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=r.ta.e().gk(g,c,d);d=new r.rf(g.x,g.y);d.Vf(r.ka.ub.x,r.ka.ub.y);r.ka.ub.x=g.x;r.ka.ub.y=g.y;g=[];g.push(d);r.ta.e().ky(g,null)});r.ka.sJ=!0}};r.ka.qv=function(a){for(var c=null,d=r.ka.YA,e=a.Pf,f=d.length-1;0<=f;f--)if(d[f].Pf==e){c=d[f];break}c||(c=a);return c};
r.ka.XG=function(a){for(var c=!1,d=r.ka.YA,e=a.Pf,f=d.length-1;0<=f;f--)if(d[f].Pf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[r.ka.ZA]=a,r.ka.ZA=(r.ka.ZA+1)%50))};r.ka.fG=function(a){var c,d=r.ka.YA;c=a.Pf;for(a=d.length-1;0<=a;a--)if(d[a].Pf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};r.ka.YA=[];r.ka.ZA=0;r.BD=function(a,c,d){r.Y.e().$e.UN(d,a,c)};r.OV=function(a,c){r.Y.e().$e.TN(a,c)};r.AL=function(a){r.Y.e().$e.HP(a)};r.QM=1;r.bF=2;r.f_=4;r.UM=8;r.I_=16;r.J_=32;r.K_=64;r.u_=128;r.v_=256;r.w_=512;r.tF=1024;r.RM=2048;r.SM=4096;r.TM=0;r.g_=1;r.cF=2;r.j_=r.Ea.extend({OU:function(){return!1},PU:function(){return!1},mi:function(){return!1},SU:function(){return!1},WU:function(){return!1},XU:function(){return!1},YU:function(){return!1},TU:function(){return!1},UU:function(){return!1},VU:function(){return!1},ZU:function(){return!1},QU:function(){return!1},RU:function(){return!1}});
r.VM=r.rf.extend({zH:0,YF:r.TM,i7:function(){return this.zH},eL:function(a){this.zH=a},c4:function(){return this.YF},GW:function(a){this.YF=a}});r.Sy=r.Ea.extend({Xb:null,wf:0,Io:0,gc:function(){return this.Xb},Eh:function(a){this.Xb=a},eT:function(){return this.wf},lt:function(a){this.wf=a},NS:function(){return this.Io},TW:function(a){this.Io=a},jk:function(a,c){this.Xb=a;this.wf=c}});r.Sy.create=function(a,c){var d=new r.Sy;d.jk(a,c);return d};
r.Zd=r.Ea.extend({Sj:!1,Zv:!1,Qf:null,Fj:!1,r:function(){this.Fj=!0;this.Qf=[];this.Zv=this.Sj=!1;r.Zd.CP();return!0},Ur:function(a){this.Sj=a},JO:function(){return this.Sj},YG:function(a){this.Zv=a},Z0:function(){return this.Zv},IH:function(a,c){var d=r.Sy.create(a,c);this.Qf=this.Dp(d,this.Qf)},Dp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.wf<a.wf&&++d,f.gc()==a.gc()))return r.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return r.Wl(c,a,d)},iK:function(a){if(null!=
a)for(var c=0;c<this.Qf.length;c++){var d=this.Qf[c];if(d&&d.gc()==a){r.Vd(this.Qf,d);break}}},HO:function(a){for(var c=0;c<this.Qf.length;c++)if(this.Qf[c]&&this.Qf[c].gc()==a)return this.Qf[c];return null},lt:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.HO(c);d?d.wf!=a&&(d.lt(a),this.Qf.sort(r.xJ)):r.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},G$:function(){this.Qf.length=0},pn:function(a,c,d){for(c=0;c<this.Qf.length;c++){var e=
this.Qf[c];switch(d){case r.bF:this.Sj||this.Zv||!e.gc().mi||e.gc().mi(a)}}}});r.Zd.Uv=r.a(0,0);r.Zd.eP=!1;
r.Zd.CP=function(){var a=r.canvas;function c(c){var e=r.Zi(a),f=c.pageX,g=c.pageY,h=r.ta.e(),f=(f-e.left)/h.xa,e=(e.height-(g-e.top))/h.Ba,g=new r.VM(f,e);g.Vf(r.Zd.Uv.x,r.Zd.Uv.y);g.GW(c.button);r.Zd.Uv.x=f;r.Zd.Uv.y=e;return g}r.Zd.eP||(window.addEventListener("mousedown",function(a){a.button==r.cF?r.Y.e().Cf().YG(!0):r.Y.e().Cf().Ur(!0)}),window.addEventListener("mouseup",function(a){a.button==r.cF?r.Y.e().Cf().YG(!1):r.Y.e().Cf().Ur(!1)}),a.addEventListener("mousedown",function(a){r.Y.e().Cf().pn(c(a),
a,r.QM)}),a.addEventListener("mouseup",function(a){r.Y.e().Cf().pn(c(a),a,r.UM)}),a.addEventListener("mousemove",function(a){r.Y.e().Cf().pn(c(a),a,r.bF)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.eL(a.wheelDelta);r.Y.e().Cf().pn(e,a,r.tF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.eL(-120*a.detail);r.Y.e().Cf().pn(e,a,r.tF)}),a.addEventListener("mouseout",function(a){r.Y.e().Cf().pn(c(a),a,r.SM)},!1),a.addEventListener("mouseover",function(a){r.Y.e().Cf().pn(c(a),
a,r.RM)},!1))};r.Bda=function(){return{x:0,y:0}};r.Rl=function(a,c){return{x:a,y:c}};r.Vg=function(a,c){return r.Rl(a.x+c.x,a.y+c.y)};r.td=function(a,c){return r.Rl(a.x-c.x,a.y-c.y)};r.mg=function(a,c){return r.Rl(a.x*c,a.y*c)};r.qy=function(a){return r.Rl(-a.y,a.x)};r.pj=function(a){return r.Rl(-a.x,-a.y)};r.xY=function(a,c){return a.x*c.x+a.y*c.y};r.Ada=function(a){return r.Rl(Math.cos(a),Math.sin(a))};r.sE=function(a){a=r.Dh(r.a(a.x,a.y));return r.Rl(a.x,a.y)};r.yi=function(a){return r.Rl(a.x,a.y)};
r.Eb=function(a){return{Pa:a.x,oa:a.y}};
r.kM=r.D.extend({eb:null,ha:null,Es:function(){return this.ha},Hl:function(a){this.ha=a},ctor:function(){r.D.prototype.ctor.call(this);this.eb=[];this.ha=new r.Yl(r.Ke,r.Je)},Wa:function(a){a=a||r.X;var c=r.ta.e().xa;this.ha&&770==this.ha.src&&1==this.ha.Ib&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.eb.length;d++){var e=this.eb[d];e.type===r.Yg.CF&&(a.fillStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.I+")",r.ag.tC(e.position,e.zD));e.type===
r.Yg.EF&&(a.strokeStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.I+")",a.lineWidth=2*e.zD*c,a.lineCap="round",r.ag.di(e.dn,e.Ql));e.type===r.Yg.DF&&(a.fillStyle="rgba("+(0|255*e.fillColor.p)+","+(0|255*e.fillColor.o)+","+(0|255*e.fillColor.g)+","+e.fillColor.I+")",r.ag.le(e.uE,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.p)+","+(0|255*e.borderColor.o)+","+(0|255*e.borderColor.g)+","+e.borderColor.I+
")",r.ag.le(e.uE,e.count,!0,!1))}},oS:function(a,c,d){var e=new r.tz(r.Yg.CF);e.position=a;e.zD=c;e.color=d;this.eb.push(e)},sS:function(a,c,d,e){var f=new r.tz(r.Yg.EF);f.dn=a;f.Ql=c;f.zD=d;f.color=e;this.eb.push(f)},le:function(a,c,d,e){var f=new r.tz(r.Yg.DF);f.uE=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.eb.push(f)},clear:function(){this.eb.length=0}});
r.lM=r.D.extend({uo:0,eb:null,jl:null,mH:null,lH:null,ha:null,Ja:!1,Es:function(){return this.ha},Hl:function(a){this.ha=a},ctor:function(){r.D.prototype.ctor.call(this);this.eb=[];this.ha=new r.Yl(r.Ke,r.Je)},r:function(){return r.D.prototype.r.call(this)?(this.Sg(r.Kh.e().oi(r.U_)),this.nA(512),this.mH=r.X.createBuffer(),this.Ja=!0):!1},NP:function(){var a=r.X;r.we(r.Ju);a.bindBuffer(a.ARRAY_BUFFER,this.mH);this.Ja&&(a.bufferData(a.ARRAY_BUFFER,this.jl,a.STREAM_DRAW),this.Ja=!1);var c=r.Wb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(r.Ne,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(r.Jq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(r.Kq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.eb.length);r.Hh()},nA:function(a){if(this.eb.length+a>this.uo){var c=r.Fc.BYTES_PER_ELEMENT;this.uo+=Math.max(this.uo,a);if(null==this.eb||0===this.eb.length)this.eb=[],this.jl=new ArrayBuffer(c*this.uo),this.lH=new Uint8Array(this.jl);else{a=[];for(var d=new ArrayBuffer(c*this.uo),e=0;e<this.eb.length;e++)a[e]=new r.Fc(this.eb[e].I,
this.eb[e].g,this.eb[e].Ca,d,e*c);this.lH=new Uint8Array(d);this.eb=a;this.jl=d}}},Wa:function(){r.ik(this.ha.src,this.ha.Ib);this.Jc.pf();this.Jc.aL();this.NP()},oS:function(a,c,d){d={p:0|255*d.p,o:0|255*d.o,g:0|255*d.g,I:0|255*d.I};var e={s:{x:a.x-c,y:a.y-c},L:d,C:{Pa:-1,oa:-1}},f={s:{x:a.x+c,y:a.y+c},L:d,C:{Pa:1,oa:1}},g={s:{x:a.x+c,y:a.y-c},L:d,C:{Pa:1,oa:-1}};this.eb.push(new r.Fc(e,{s:{x:a.x-c,y:a.y+c},L:d,C:{Pa:-1,oa:1}},f,this.jl,this.eb.length*r.Fc.BYTES_PER_ELEMENT));this.eb.push(new r.Fc(e,
f,g,this.jl,this.eb.length*r.Fc.BYTES_PER_ELEMENT));this.Ja=!0},sS:function(a,c,d,e){this.nA(18);e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,I:0|255*e.I};var f=r.yi(a);c=r.yi(c);a=r.sE(r.qy(r.td(c,f)));var g=r.qy(a),h=r.mg(a,d);d=r.mg(g,d);var k=r.Vg(c,r.td(h,d)),l=r.td(c,h),m=r.Vg(c,h),n=r.td(f,h),p=r.Vg(f,h),q=r.td(f,r.td(h,d)),f=r.Vg(f,r.Vg(h,d)),u=r.Fc.BYTES_PER_ELEMENT,x=this.jl;this.eb.push(new r.Fc({s:r.td(c,r.Vg(h,d)),L:e,C:r.Eb(r.pj(r.Vg(a,g)))},{s:k,L:e,C:r.Eb(r.td(a,g))},{s:l,L:e,C:r.Eb(r.pj(a))},
x,this.eb.length*u));this.eb.push(new r.Fc({s:m,L:e,C:r.Eb(a)},{s:k,L:e,C:r.Eb(r.td(a,g))},{s:l,L:e,C:r.Eb(r.pj(a))},x,this.eb.length*u));this.eb.push(new r.Fc({s:m,L:e,C:r.Eb(a)},{s:n,L:e,C:r.Eb(r.pj(a))},{s:l,L:e,C:r.Eb(r.pj(a))},x,this.eb.length*u));this.eb.push(new r.Fc({s:m,L:e,C:r.Eb(a)},{s:n,L:e,C:r.Eb(r.pj(a))},{s:p,L:e,C:r.Eb(a)},x,this.eb.length*u));this.eb.push(new r.Fc({s:q,L:e,C:r.Eb(r.td(g,a))},{s:n,L:e,C:r.Eb(r.pj(a))},{s:p,L:e,C:r.Eb(a)},x,this.eb.length*u));this.eb.push(new r.Fc({s:q,
L:e,C:r.Eb(r.td(g,a))},{s:f,L:e,C:r.Eb(r.Vg(a,g))},{s:p,L:e,C:r.Eb(a)},x,this.eb.length*u));this.Ja=!0},le:function(a,c,d,e){c={p:0|255*c.p,o:0|255*c.o,g:0|255*c.g,I:0|255*c.I};e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,I:0|255*e.I};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=r.yi(a[(g-1+m)%m]);k=r.yi(a[g]);l=r.yi(a[(g+1)%m]);var n=r.sE(r.qy(r.td(k,h)));k=r.sE(r.qy(r.td(l,k)));f[g]={offset:r.mg(r.Vg(n,k),1/(r.xY(n,k)+1)),EJ:k}}n=0<d;this.nA(3*(3*m-2));var p=r.Fc.BYTES_PER_ELEMENT,q=this.jl,u=this.eb,
x=!1==n?0.5:0;for(g=0;g<m-2;g++)h=r.td(r.yi(a[0]),r.mg(f[0].offset,x)),k=r.td(r.yi(a[g+1]),r.mg(f[g+1].offset,x)),l=r.td(r.yi(a[g+2]),r.mg(f[g+2].offset,x)),u.push(new r.Fc({s:h,L:c,C:r.Eb({x:0,y:0})},{s:k,L:c,C:r.Eb({x:0,y:0})},{s:l,L:c,C:r.Eb({x:0,y:0})},q,u.length*p));for(g=0;g<m;g++){x=(g+1)%m;h=r.yi(a[g]);k=r.yi(a[x]);l=f[g].EJ;var z=f[g].offset,D=f[x].offset,x=n?r.td(h,r.mg(z,d)):r.td(h,r.mg(z,0.5)),C=n?r.td(k,r.mg(D,d)):r.td(k,r.mg(D,0.5));h=n?r.Vg(h,r.mg(z,d)):r.Vg(h,r.mg(z,0.5));k=n?r.Vg(k,
r.mg(D,d)):r.Vg(k,r.mg(D,0.5));n?(u.push(new r.Fc({s:x,L:e,C:r.Eb(r.pj(l))},{s:C,L:e,C:r.Eb(r.pj(l))},{s:k,L:e,C:r.Eb(l)},q,u.length*p)),u.push(new r.Fc({s:x,L:e,C:r.Eb(r.pj(l))},{s:h,L:e,C:r.Eb(l)},{s:k,L:e,C:r.Eb(l)},q,u.length*p))):(u.push(new r.Fc({s:x,L:c,C:r.Eb({x:0,y:0})},{s:C,L:c,C:r.Eb({x:0,y:0})},{s:k,L:c,C:r.Eb(l)},q,u.length*p)),u.push(new r.Fc({s:x,L:c,C:r.Eb({x:0,y:0})},{s:h,L:c,C:r.Eb(l)},{s:k,L:c,C:r.Eb(l)},q,u.length*p)))}this.Ja=!0},clear:function(){this.eb.length=0;this.Ja=!0}});
r.Yg=r.Ga.Sc?r.lM:r.kM;r.Yg.create=function(){var a=new r.Yg;return a&&a.r()?a:null};r.tz=function(a){this.type=a};r.Yg.CF=0;r.Yg.EF=1;r.Yg.DF=2;r.qt=-1;r.RK=function(a,c){a.Sg(c);var d=a.t;if(d)for(var e=0;e<d.length;e++)r.RK(d[e],c)};
r.qb=r.D.extend({oc:null,gm:0,Li:!1,oG:!1,ctor:function(){r.D.prototype.ctor.call(this);this.oc=null;this.gm=0;this.Li=!1},r:null,DA:function(a){this.oc=a;this.gm=1;this.Li=!1;r.qb.GA=!0;r.qb.GA&&(r.qt=r.X.getParameter(r.X.STENCIL_BITS),0>=r.qt&&r.log("Stencil buffer is not enabled."),r.qb.GA=!1);return!0},CA:function(a){this.oc=a;this.gm=1;this.Li=!1},Qg:function(){r.D.prototype.Qg.call(this);this.oc.Qg()},li:function(){r.D.prototype.li.call(this);this.oc.li()},Ch:function(){this.oc.Ch();r.D.prototype.Ch.call(this)},
Sd:function(){this.oc.Sd();r.D.prototype.Sd.call(this)},sa:null,Tm:function(a){var c=a||r.X;if(1>r.qt)r.D.prototype.sa.call(this,a);else if(this.oc&&this.oc.ma)if(r.qb.Er=-1,r.qb.Er+1==r.qt)r.qb.WB=!0,r.qb.WB&&(r.log("Nesting more than "+r.qt+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),r.qb.WB=!1),r.D.prototype.sa.call(this,a);else{r.qb.Er++;var d=1<<r.qb.Er,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Li?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);r.ag.uC(r.vj(),r.cV(),r.Fw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Li?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.gm){var d=
r.Kh.e().oi(r.W_),u=c.getUniformLocation(d.Yw(),r.q0);r.p7(d.Yw());d.$K(u,this.gm);r.RK(this.oc,d)}r.Xp();this.transform();this.oc.sa();r.Wp();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);r.D.prototype.sa.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,p);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);r.qb.Er--}else this.Li&&r.D.prototype.sa.call(this,a)},Sm:function(a){if(this.oc&&this.oc.ma){if(this.Nz()||this.oc instanceof r.A){a=a||r.X;var c=a.canvas,d=r.qb.MO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Li?"destination-out":"destination-in";this.transform(a);this.oc.sa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||r.X;var d=this.t,e;a.save();this.transform(a);this.oc.sa(a);a.clip();this.Nz(!0);var f=d.length;if(0<f){this.Td();for(c=0;c<f;c++)if(e=d[c],0>e.fb)e.sa(a);else break;for(this.Wa(a);c<
f;c++)d[c].sa(a)}else this.Wa(a);this.Nz(!1)}a.restore()}else this.Li&&r.D.prototype.sa.call(this,a)},G6:function(){return this.oc},YD:null,rQ:function(a){this.oc=a},qQ:function(a){this.oc=a;var c=r.ta.e().xa,d=r.ta.e().Ba,e=r.X;!(a instanceof r.A)&&a instanceof r.Yg&&(a.Wa=function(){for(var f=0;f<a.eb.length;f++){var g=a.eb[f].uE,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},P3:function(){return this.gm},oaa:function(a){this.gm=a},e8:function(){return this.Li},
Zaa:function(a){this.Li=a},Nz:function(a){if(!0===a||!1===a)r.qb.prototype.oG=a;return r.qb.prototype.oG}});r.Ga.Sc?(r.qb.prototype.r=r.qb.prototype.DA,r.qb.prototype.sa=r.qb.prototype.Tm,r.qb.prototype.YD=r.qb.prototype.rQ):(r.qb.prototype.r=r.qb.prototype.CA,r.qb.prototype.sa=r.qb.prototype.Sm,r.qb.prototype.YD=r.qb.prototype.qQ);r.qb.GA=null;r.qb.WB=null;r.qb.Er=null;r.qb.dH=null;r.qb.MO=function(){return r.qb.dH||(r.qb.dH=document.createElement("canvas"))};
r.qb.create=function(a){var c=new r.qb;c.r(a);return c};r.SZ=0;r.TZ=1;r.UZ=2;r.bo=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
r.Cb=r.D.extend({vo:null,wo:null,mv:0,fr:0,Qv:0,Fa:null,hs:null,IQ:null,Tf:r.xj,rb:null,$u:0,Dj:null,Tz:0,Uz:0,Rq:!1,Sz:null,ctor:null,Mh:function(){r.D.prototype.ctor.call(this);this.Dj=r.Fw(1,1,1,1);this.Sz="rgba(255,255,255,1)";this.vo=document.createElement("canvas");this.wo=this.vo.getContext("2d");this.M(0,0)},Nh:function(){r.D.prototype.ctor.call(this);this.Dj=r.Fw(0,0,0,0)},$f:null,lO:function(){r.D.prototype.Sd.call(this);this.vo=this.wo=null},mO:function(){r.D.prototype.Sd.call(this);this.hs=
null;var a=r.X;a.deleteFramebuffer(this.mv);this.fr&&a.deleteRenderbuffer(this.fr);this.IQ=null},pT:function(){return this.rb},mt:function(a){this.rb=a},$C:null,XO:function(a,c){var d=this.vo,e=r.Id();d.width=0|a*e;d.height=0|c*e;this.wo.translate(0,d.height);e=new r.bc;e.Ff(d);e.Be();this.rb=r.A.ib(e);return!0},YO:function(a,c,d,e){d==r.Eq&&r.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=r.X,g=r.Id();a=0|a*g;c=0|c*g;this.Qv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;r.Le.e().es?(g=a,h=c):(g=r.bo(a),h=r.bo(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Tf=d;this.Fa=new r.bc;if(!this.Fa)return!1;l=this.Fa;l.cx(k,this.Tf,g,h,r.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(r.Le.e().zp("GL_QCOM")){this.hs=new r.bc;if(!this.hs)return!1;this.hs.cx(k,this.Tf,g,h,r.size(a,c))}this.mv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.mv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.bi,0);0!=e&&(this.fr=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.fr),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.fr));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&r.log("Could not attach texture to the framebuffer");l.sK();a=this.rb=r.A.ib(l);a.Jn(-1);a.Hl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Qv);this.Rq=
!1;this.f(a);return!0},dk:null,bO:function(){r.X=this.wo;r.ta.e().nQ()},cO:function(){r.gn(r.ju);r.Xp();r.gn(r.iu);r.Xp();var a=r.Y.e();a.Px(a.bl);var c=this.Fa.wa,d=r.Y.e().xT(),a=d.width/c.width,d=d.height/c.height,e=r.X;e.viewport(0,0,c.width,c.height);c=new r.Ah;r.yU(c,-1/a,1/a,-1/d,1/d,-1,1);r.ix(c);this.Qv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.mv);r.Le.e().zp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.hs.bi,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Fa.bi,0))},fC:function(a,c,d,e,f,g){var h=r.X;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Kz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Kz:null,dO:function(a,c,d,e){this.dk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.wo,g=this.vo;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},eO:function(a,c,d,e,f,g,h){this.dk();var k=r.X,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,FO:function(){r.X=r.EU;r.ta.e().QP()},GO:function(){var a=r.X,c=r.Y.e();a.bindFramebuffer(a.FRAMEBUFFER,this.Qv);c.dL();r.gn(r.ju);r.Wp();r.gn(r.iu);r.Wp()},clear:function(a,c,d,e){this.fC(a,c,d,e);this.end()},clearRect:null,qO:function(a,c,d,e){this.wo.clearRect(a,c,d,-e)},rO:function(){},clearDepth:null,oO:function(){r.log("clearDepth isn't supported on Cocos2d-Html5")},pO:function(a){this.dk();var c=r.X,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,sO:function(){r.log("clearDepth isn't supported on Cocos2d-Html5")},tO:function(a){var c=r.X,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},sa:null,Sm:function(a){this.ma&&(a=a||r.X,a.save(),this.Wa(a),this.transform(a),this.rb.sa(),a.restore(),this.Sf=0)},Tm:function(a){if(this.ma){r.Xp();var c=this.Qk;c&&c.Tp()&&(c.eC(),this.ly());this.transform(a);this.rb.sa();this.Wa(a);c&&c.Tp()&&c.aC(this);
r.Wp();this.Sf=0}},Wa:null,nm:function(a){a=a||r.X;if(this.Rq){this.dk();if(this.$u){var c=this.vo;a.save();a.fillStyle=this.Sz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Td();a=this.t;for(var c=a.length,d=this.rb,e=0;e<c;e++){var f=a[e];f!=d&&f.sa()}this.end()}},wg:function(){var a=r.X;if(this.Rq){this.dk();var c=this.$u;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Dj.p,this.Dj.o,this.Dj.g,
this.Dj.I));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Tz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Uz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Td();a=this.t;for(c=0;c<a.length;c++)d=a[c],d!=this.rb&&d.sa();this.end()}},FJ:null,oP:function(){r.log("saveToFile isn't supported on Cocos2d-Html5");return null},
pP:function(){r.log("saveToFile isn't supported on Cocos2d-Html5");r.Dt(this.Tf==r.xj,"only RGBA8888 can be saved as image");if(!this.Fa)return null;var a=this.Fa.wa,c=a.width,a=a.height,d=new r.xM,e=r.X,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.dk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.mP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.D7(f,c*a*4,r.MZ,c,a,8);return d},mP:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},eaa:function(){r.log("saveToFile isn't supported on Cocos2d-Html5")},V8:function(){r.log("listenToBackground isn't supported on Cocos2d-Html5")},W8:function(){r.log("listenToForeground isn't supported on Cocos2d-Html5")},n4:function(){return this.$u},waa:function(a){this.$u=a},l4:function(){return this.Dj},zK:null,YP:function(a){var c=this.Dj;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I;this.Sz="rgba("+(0|255*a.p)+","+(0|255*a.o)+","+(0|255*a.g)+","+a.I+")"},ZP:function(a){var c=this.Dj;
c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},m4:function(){return this.Tz},vaa:function(a){this.Tz=a},o4:function(){return this.Uz},xaa:function(a){this.Uz=a},P7:function(){return this.Rq},qaa:function(a){this.Rq=a}});
r.Ga.Sc?(b=r.Cb.prototype,b.ctor=r.Cb.prototype.Nh,b.$f=r.Cb.prototype.mO,b.$C=r.Cb.prototype.YO,b.dk=r.Cb.prototype.cO,b.Kz=r.Cb.prototype.eO,b.end=r.Cb.prototype.GO,b.clearRect=r.Cb.prototype.rO,b.clearDepth=r.Cb.prototype.pO,b.clearStencil=r.Cb.prototype.tO,b.sa=r.Cb.prototype.Tm,b.Wa=r.Cb.prototype.wg,b.FJ=r.Cb.prototype.pP,b.zK=r.Cb.prototype.ZP):(b=r.Cb.prototype,b.ctor=r.Cb.prototype.Mh,b.$f=r.Cb.prototype.lO,b.$C=r.Cb.prototype.XO,b.dk=r.Cb.prototype.bO,b.Kz=r.Cb.prototype.dO,b.end=r.Cb.prototype.FO,
b.clearRect=r.Cb.prototype.qO,b.clearDepth=r.Cb.prototype.oO,b.clearStencil=r.Cb.prototype.sO,b.sa=r.Cb.prototype.Sm,b.Wa=r.Cb.prototype.nm,b.FJ=r.Cb.prototype.oP,b.zK=r.Cb.prototype.YP);r.Cb.create=function(a,c,d,e){d=d||r.xj;e=e||0;var f=new r.Cb;return f&&f.$C(a,c,d,e)?f:null};r.Wn=-1;
r.Hd=r.Ea.extend({ym:null,R:null,qd:r.Wn,ctor:function(){this.R=this.ym=null;this.qd=r.Wn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.qd+"\x3e"},copy:function(){return r.G(this)},G:function(){var a=new r.Hd;a.ym=null;a.R=null;a.qd=this.qd;return a},ii:function(){return!0},$:function(a){this.R=this.ym=a},stop:function(){this.R=null},step:function(){r.log("[Action step]. override me")},update:function(){r.log("[Action update]. override me")},tT:function(){return this.R},Yba:function(a){this.R=a},
O5:function(){return this.ym},tba:function(a){this.ym=a},sT:function(){return this.qd},ZK:function(a){this.qd=a},nK:function(){},ED:function(){}});r.Hd.create=function(){return new r.Hd};r.uj=r.Hd.extend({ya:0,ctor:function(){r.Hd.prototype.ctor.call(this);this.ya=0},Bf:function(){return this.ya},Iaa:function(a){this.ya=a},reverse:function(){r.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},G:function(){return new r.uj}});
r.zu=r.Hd.extend({Hm:0,Fb:null,ctor:function(){r.Hd.prototype.ctor.call(this);this.Hm=0;this.Fb=null},z6:function(){return this.Hm},Rba:function(a){this.Hm=a},qa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Fb=a;this.Hm=c;return!0},G:function(){var a=new r.zu;a.qa(this.Fb.G(),this.Hm);return a},$:function(a){r.Hd.prototype.$.call(this,a);this.Fb.$(a)},stop:function(){this.Fb.stop();r.Hd.prototype.stop.call(this)},step:function(a){this.Fb.step(a*this.Hm)},ii:function(){return this.Fb.ii()},
reverse:function(){return r.zu.create(this.Fb.reverse(),this.Hm)},LK:function(a){this.Fb!=a&&(this.Fb=a)},CC:function(){return this.Fb}});r.zu.create=function(a,c){var d=new r.zu;return d&&d.qa(a,c)?d:null};
r.Ly=r.Hd.extend({Mo:null,so:!1,Vu:!1,sv:null,ur:null,hn:0,En:0,Qn:0,$m:0,YB:null,ctor:function(){r.Hd.prototype.ctor.call(this);this.Mo=null;this.Vu=this.so=!1;this.ur=this.sv=null;this.$m=this.Qn=this.En=this.hn=0;this.YB=r.jd()},G:function(){var a=new r.Ly,c=this.YB,c=new r.qg(c.x,c.y,c.width,c.height);a.Mg(this.Mo,c);return a},R7:function(){return this.so},saa:function(a){this.so=a},Mg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||r.jd();this.Mo=a;this.YB=
c;this.so=!r.Qr(c);this.Vu=!1;var d=r.Y.e().Sb;this.ur=r.a(d.width,d.height);this.sv=r.kj(this.ur,0.5);this.so&&(this.hn=-(c.x+c.width-this.ur.x),this.En=-c.x,this.Qn=-c.y,this.$m=-(c.y+c.height-this.ur.y),this.En<this.hn&&(this.En=this.hn=(this.hn+this.En)/2),this.Qn<this.$m&&(this.Qn=this.$m=(this.Qn+this.$m)/2),this.Qn==this.$m&&this.hn==this.En&&(this.Vu=!0));return!0},step:function(){var a=this.Mo.q.F,c=this.Mo.q.H,a=this.sv.x-a,c=this.sv.y-c;this.so?this.Vu||this.R.n(r.xs(a,this.hn,this.En),
r.xs(c,this.$m,this.Qn)):this.R.n(a,c)},ii:function(){return!this.Mo.Ve},stop:function(){this.R=null;r.Hd.prototype.stop.call(this)}});r.Ly.create=function(a,c){c=c||new r.jd;var d=new r.Ly;return null!=c&&d&&d.Mg(a,c)||d&&d.Mg(a)?d:null};r.P=r.uj.extend({ec:0,tr:!1,ctor:function(){r.uj.prototype.ctor.call(this);this.ec=0;this.tr=!1},E4:function(){return this.ec},N:function(a){this.ya=0===a?r.cu:a;this.ec=0;return this.tr=!0},ii:function(){return this.ec>=this.ya},G:function(){var a=new r.P;a.N(this.ya);return a},step:function(a){this.tr?(this.tr=!1,this.ec=0):this.ec+=a;a=this.ec/(1.192092896E-7<this.ya?this.ya:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},$:function(a){r.Hd.prototype.$.call(this,a);this.ec=0;this.tr=!0},reverse:function(){r.log("cc.IntervalAction: reverse not implemented.");
return null},paa:function(){r.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},Q3:function(){r.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});r.P.create=function(a){var c=new r.P;c.N(a);return c};
r.wj=r.P.extend({zi:null,wB:null,Wo:0,ctor:function(){r.P.prototype.ctor.call(this);this.zi=[];this.wB=null;this.Wo=0},Ps:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.N(a.Bf()+c.Bf());this.zi[0]=a;this.zi[1]=c;return!0},G:function(){var a=new r.wj;a.Ps(this.zi[0].G(),this.zi[1].G());return a},$:function(a){r.P.prototype.$.call(this,a);this.wB=this.zi[0].Bf()/this.ya;this.Wo=-1},stop:function(){-1!==this.Wo&&this.zi[this.Wo].stop();r.Hd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.wB,e=this.zi,f=this.Wo;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].$(this.R),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].ii()||(f!==c&&e[c].$(this.R),e[c].update(a),this.Wo=c)},reverse:function(){return r.wj.em(this.zi[1].reverse(),this.zi[0].reverse())},copy:function(){return this.G()}});
r.wj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&r.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=r.wj.em(d,c[e]));return d};r.wj.em=function(a,c){var d=new r.wj;d.Ps(a,c);return d};
r.qu=r.P.extend({Wf:0,Yj:0,Nv:0,QF:!1,Fb:null,ctor:function(){r.P.prototype.ctor.call(this);this.Nv=this.Yj=this.Wf=0;this.QF=!1;this.Fb=null},qa:function(a,c){return this.N(a.Bf()*c)?(this.Wf=c,this.Fb=a,a instanceof r.si&&(this.Wf-=1),this.Yj=0,!0):!1},G:function(){var a=new r.qu;a.qa(this.Fb.G(),this.Wf);return a},$:function(a){this.Yj=0;this.Nv=this.Fb.Bf()/this.ya;r.P.prototype.$.call(this,a);this.Fb.$(a)},stop:function(){this.Fb.stop();r.Hd.prototype.stop.call(this)},update:function(a){var c=
this.Fb,d=this.ya,e=this.Wf,f=this.Nv;if(a>=f){for(;a>f&&this.Yj<e;)c.update(1),this.Yj++,c.stop(),c.$(this.R),this.Nv=f+=c.Bf()/d;1<=a&&this.Yj<e&&this.Yj++;this.QF&&(this.Yj==e?(c.update(1),c.stop()):c.update(a-(f-c.Bf()/d)))}else c.update(a*e%1)},ii:function(){return this.Yj==this.Wf},reverse:function(){return r.qu.create(this.Fb.reverse(),this.Wf)},LK:function(a){this.Fb!=a&&(this.Fb=a)},CC:function(){return this.Fb}});r.qu.create=function(a,c){var d=new r.qu;d.qa(a,c);return d};
r.ru=r.P.extend({Fb:null,ctor:function(){r.P.prototype.ctor.call(this);this.Fb=null},qa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Fb=a;return!0},G:function(){var a=new r.ru;a.qa(this.Fb.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Fb.$(a)},step:function(a){var c=this.Fb;c.step(a);c.ii()&&(c.$(this.R),c.step(c.ec-c.Bf()))},ii:function(){return!1},reverse:function(){return r.ru.create(this.Fb.reverse())},LK:function(a){this.Fb!=a&&(this.Fb=
a)},CC:function(){return this.Fb}});r.ru.create=function(a){var c=new r.ru;return c&&c.qa(a)?c:null};
r.Dq=r.P.extend({Tj:null,bk:null,ctor:function(){r.P.prototype.ctor.call(this);this.bk=this.Tj=null},Ps:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Bf(),f=c.Bf();this.N(Math.max(e,f))&&(this.Tj=a,this.bk=c,e>f?this.bk=r.wj.em(c,r.Yn.create(e-f)):e<f&&(this.Tj=r.wj.em(a,r.Yn.create(f-e))),d=!0);return d},G:function(){var a=new r.Dq;a.Ps(this.Tj.G(),this.bk.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Tj.$(a);this.bk.$(a)},
stop:function(){this.Tj.stop();this.bk.stop();r.Hd.prototype.stop.call(this)},update:function(a){this.Tj&&this.Tj.update(a);this.bk&&this.bk.update(a)},reverse:function(){return r.Dq.em(this.Tj.reverse(),this.bk.reverse())}});r.Dq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&r.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.em(d,c[e]));return d};
r.Dq.em=function(a,c){var d=new r.Dq;d.Ps(a,c);return d};
r.bz=r.P.extend({ir:0,Im:0,eA:0,kv:0,el:0,fA:0,ctor:function(){r.P.prototype.ctor.call(this);this.fA=this.el=this.kv=this.eA=this.Im=this.ir=0},N:function(a,c,d){return r.P.prototype.N.call(this,a)?(this.ir=c||0,this.kv=d||this.ir,!0):!1},G:function(){var a=new r.bz;a.N(this.ya,this.ir,this.kv);return a},$:function(a){r.P.prototype.$.call(this,a);var c=a.Cg%360,d=this.ir-c;180<d&&(d-=360);-180>d&&(d+=360);this.Im=c;this.eA=d;this.el=a.Uh%360;a=this.kv-this.el;180<a&&(a-=360);-180>a&&(a+=360);this.fA=
a},reverse:function(){r.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.R&&(this.R.Sx(this.Im+this.eA*a),this.R.Tx(this.el+this.fA*a))}});r.bz.create=function(a,c,d){var e=new r.bz;e.N(a,c,d);return e};
r.tu=r.P.extend({sg:0,Im:0,Qq:0,el:0,ctor:function(){r.P.prototype.ctor.call(this);this.el=this.Qq=this.Im=this.sg=0},N:function(a,c,d){return r.P.prototype.N.call(this,a)?(this.sg=c||0,this.Qq=d||this.sg,!0):!1},G:function(){var a=new r.tu;a.N(this.ya,this.sg,this.Qq);return a},$:function(a){r.P.prototype.$.call(this,a);this.Im=a.Cg;this.el=a.Uh},update:function(a){this.R&&(this.R.Sx(this.Im+this.sg*a),this.R.Tx(this.el+this.Qq*a))},reverse:function(){return r.tu.create(this.ya,-this.sg,-this.Qq)}});
r.tu.create=function(a,c,d){var e=new r.tu;e.N(a,c,d);return e};
r.zk=r.P.extend({Si:null,Wc:null,Vc:null,ctor:function(){r.P.prototype.ctor.call(this);this.Si=r.a(0,0);this.Wc=r.a(0,0);this.Vc=r.a(0,0)},N:function(a,c){return r.P.prototype.N.call(this,a)?(this.Si.x=c.x,this.Si.y=c.y,!0):!1},G:function(){var a=new r.zk;a.N(this.ya,this.Si);return a},$:function(a){r.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.H;this.Vc.x=c;this.Vc.y=a;this.Wc.x=c;this.Wc.y=a},update:function(a){if(this.R){var c=this.Si.x*a;a*=this.Si.y;var d=this.Wc;if(r.Ht){var e=this.R.q.H,f=
this.Vc;d.x=d.x+this.R.q.F-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.R.n(c,a);f.x=c;f.y=a}else this.R.n(d.x+c,d.y+a)}},reverse:function(){return r.zk.create(this.ya,r.a(-this.Si.x,-this.Si.y))}});r.zk.create=function(a,c){var d=new r.zk;d.N(a,c);return d};
r.lu=r.zk.extend({Lo:null,ctor:function(){r.zk.prototype.ctor.call(this);this.Lo=r.a(0,0)},N:function(a,c){return r.zk.prototype.N.call(this,a,c)?(this.Lo.x=c.x,this.Lo.y=c.y,!0):!1},G:function(){var a=new r.lu;a.N(this.ya,this.Lo);return a},$:function(a){r.zk.prototype.$.call(this,a);this.Si.x=this.Lo.x-a.q.F;this.Si.y=this.Lo.y-a.q.H}});r.lu.create=function(a,c){var d=new r.lu;d.N(a,c);return d};
r.jo=r.P.extend({je:0,ke:0,as:0,bs:0,nr:0,or:0,Oe:0,Pe:0,ctor:function(){r.P.prototype.ctor.call(this);this.Pe=this.Oe=this.or=this.nr=this.bs=this.as=this.ke=this.je=0},N:function(a,c,d){var e=!1;r.P.prototype.N.call(this,a)&&(this.nr=c,this.or=d,e=!0);return e},G:function(){var a=new r.jo;a.N(this.ya,this.nr,this.or);return a},$:function(a){r.P.prototype.$.call(this,a);this.as=a.je%180;this.Oe=this.nr-this.as;180<this.Oe&&(this.Oe-=360);-180>this.Oe&&(this.Oe+=360);this.bs=a.ke%360;this.Pe=this.or-
this.bs;180<this.Pe&&(this.Pe-=360);-180>this.Pe&&(this.Pe+=360)},update:function(a){this.R.Vx(this.as+this.Oe*a);this.R.Wx(this.bs+this.Pe*a)}});r.jo.create=function(a,c,d){var e=new r.jo;e&&e.N(a,c,d);return e};
r.xu=r.jo.extend({N:function(a,c,d){var e=!1;r.jo.prototype.N.call(this,a,c,d)&&(this.je=c,this.ke=d,e=!0);return e},G:function(){var a=new r.xu;a.N(this.ya,this.je,this.ke);return a},$:function(a){r.jo.prototype.$.call(this,a);this.Oe=this.je;this.Pe=this.ke;this.nr=this.as+this.Oe;this.or=this.bs+this.Pe},reverse:function(){return r.xu.create(this.ya,-this.je,-this.ke)}});r.xu.create=function(a,c,d){var e=new r.xu;e&&e.N(a,c,d);return e};
r.$n=r.P.extend({Wc:null,vg:null,va:0,To:0,Vc:null,ctor:function(){r.P.prototype.ctor.call(this);this.Wc=r.a(0,0);this.Vc=r.a(0,0);this.vg=r.a(0,0);this.To=this.va=0},N:function(a,c,d,e){return r.P.prototype.N.call(this,a)?(this.vg.x=c.x,this.vg.y=c.y,this.va=d,this.To=e,!0):!1},G:function(){var a=new r.$n;a.N(this.ya,this.vg,this.va,this.To);return a},$:function(a){r.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.H;this.Vc.x=c;this.Vc.y=a;this.Wc.x=c;this.Wc.y=a},update:function(a){if(this.R){var c=
a*this.To%1,c=4*this.va*c*(1-c),c=c+this.vg.y*a;a*=this.vg.x;var d=this.Wc;if(r.Ht){var e=this.R.q.H,f=this.Vc;d.x=d.x+this.R.q.F-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.R.n(a,c);f.x=a;f.y=c}else this.R.n(d.x+a,d.y+c)}},reverse:function(){return r.$n.create(this.ya,r.a(-this.vg.x,-this.vg.y),this.va,this.To)}});r.$n.create=function(a,c,d,e){var f=new r.$n;f.N(a,c,d,e);return f};
r.Oy=r.$n.extend({$:function(a){r.$n.prototype.$.call(this,a);this.vg.x-=this.Wc.x;this.vg.y-=this.Wc.y},G:function(){var a=new r.Oy;a.N(this.ya,this.vg,this.va,this.To);return a}});r.Oy.create=function(a,c,d,e){var f=new r.Oy;f.N(a,c,d,e);return f};r.RH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
r.Xl=r.P.extend({lm:null,Wc:null,Vc:null,ctor:function(){r.P.prototype.ctor.call(this);this.lm=[];this.Wc=r.a(0,0);this.Vc=r.a(0,0)},N:function(a,c){return r.P.prototype.N.call(this,a)?(this.lm=c,!0):!1},G:function(){for(var a=new r.Xl,c=[],d=0;d<this.lm.length;d++){var e=this.lm[d];c.push(r.a(e.x,e.y))}a.N(this.ya,c);return a},$:function(a){r.P.prototype.$.call(this,a);var c=a.q.F;a=a.q.H;this.Vc.x=c;this.Vc.y=a;this.Wc.x=c;this.Wc.y=a},update:function(a){if(this.R){var c=this.lm,d=r.RH(c[0].x,c[1].x,
c[2].x,a);a=r.RH(c[0].y,c[1].y,c[2].y,a);c=this.Wc;if(r.Ht){var e=this.R.q.H,f=this.Vc;c.x=c.x+this.R.q.F-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.R.n(d,a);f.x=d;f.y=a}else this.R.n(c.x+d,c.y+a)}},reverse:function(){var a=this.lm,a=[r.fg(a[1],r.tD(a[2])),r.fg(a[0],r.tD(a[2])),r.tD(a[2])];return r.Xl.create(this.ya,a)}});r.Xl.create=function(a,c){var d=new r.Xl;d.N(a,c);return d};
r.xy=r.Xl.extend({rw:null,ctor:function(){r.Xl.prototype.ctor.call(this);this.rw=[]},N:function(a,c){return r.P.prototype.N.call(this,a)?(this.rw=c,!0):!1},G:function(){var a=new r.xy;a.N(this.ya,this.rw);return a},$:function(a){r.Xl.prototype.$.call(this,a);a=this.Wc;var c=this.rw,d=this.lm;d[0]=r.Dd(c[0],a);d[1]=r.Dd(c[1],a);d[2]=r.Dd(c[2],a)}});r.xy.create=function(a,c){var d=new r.xy;d.N(a,c);return d};
r.io=r.P.extend({xa:1,Ba:1,hp:1,ip:1,om:0,pm:0,Oe:0,Pe:0,ctor:function(){r.P.prototype.ctor.call(this);this.ip=this.hp=this.Ba=this.xa=1;this.Pe=this.Oe=this.pm=this.om=0},N:function(a,c,d){return r.P.prototype.N.call(this,a)?(this.om=c,this.pm=null!=d?d:c,!0):!1},G:function(){var a=new r.io;a.N(this.ya,this.om,this.pm);return a},$:function(a){r.P.prototype.$.call(this,a);this.hp=a.xa;this.ip=a.Ba;this.Oe=this.om-this.hp;this.Pe=this.pm-this.ip},update:function(a){this.R&&this.R.tk(this.hp+this.Oe*
a,this.ip+this.Pe*a)}});r.io.create=function(a,c,d){var e=new r.io;e.N(a,c,d);return e};r.vu=r.io.extend({$:function(a){r.io.prototype.$.call(this,a);this.Oe=this.hp*this.om-this.hp;this.Pe=this.ip*this.pm-this.ip},reverse:function(){return r.vu.create(this.ya,1/this.om,1/this.pm)},G:function(){var a=new r.vu;a.N(this.ya,this.om,this.pm);return a}});r.vu.create=function(a,c,d){var e=new r.vu;e.N(a,c,d);return e};
r.Et=r.P.extend({Wf:0,PA:!1,ctor:function(){r.P.prototype.ctor.call(this);this.Wf=0;this.PA=!1},N:function(a,c){return r.P.prototype.N.call(this,a)?(this.Wf=c,!0):!1},G:function(){var a=new r.Et;a.N(this.ya,this.Wf);return a},update:function(a){if(this.R&&!this.ii()){var c=1/this.Wf;this.R.v(a%c>c/2)}},$:function(a){r.P.prototype.$.call(this,a);this.PA=a.ma},stop:function(){this.R.v(this.PA);r.P.prototype.stop.call(this)},reverse:function(){return r.Et.create(this.ya,this.Wf)}});
r.Et.create=function(a,c){var d=new r.Et;d.N(a,c);return d};r.du=r.P.extend({update:function(a){this.R.lb&&this.R.ja(255*a)},reverse:function(){return r.eu.create(this.ya)},G:function(){var a=new r.du;a.N(this.ya);return a}});r.du.create=function(a){var c=new r.du;c.N(a);return c};r.eu=r.P.extend({update:function(a){this.R.lb&&this.R.ja(255*(1-a))},reverse:function(){return r.du.create(this.ya)},G:function(){var a=new r.eu;a.N(this.ya);return a}});r.eu.create=function(a){var c=new r.eu;c.N(a);return c};
r.Ky=r.P.extend({sw:null,pv:null,ctor:function(){r.P.prototype.ctor.call(this);this.pv=this.sw=0},N:function(a,c){return r.P.prototype.N.call(this,a)?(this.sw=c,!0):!1},G:function(){var a=new r.Ky;a.N(this.ya,this.sw);return a},update:function(a){this.R.lb&&this.R.ja(this.pv+(this.sw-this.pv)*a)},$:function(a){r.P.prototype.$.call(this,a);this.R.lb&&(this.pv=a.aj())}});r.Ky.create=function(a,c){var d=new r.Ky;d.N(a,c);return d};
r.qz=r.P.extend({zf:null,fe:null,ctor:function(){r.P.prototype.ctor.call(this);this.zf=r.k(0,0,0);this.fe=r.k(0,0,0)},N:function(a,c,d,e){return r.P.prototype.N.call(this,a)?(this.zf=r.k(c,d,e),!0):!1},G:function(){var a=new r.qz,c=this.zf;a.N(this.ya,c.p,c.o,c.g);return a},$:function(a){r.P.prototype.$.call(this,a);this.R.lb&&(this.fe=this.R.Bd())},update:function(a){var c=this.fe,d=this.zf;this.R.lb&&this.R.l(r.k(c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a,c.g+(d.g-c.g)*a))}});
r.qz.create=function(a,c,d,e){var f=new r.qz;f.N(a,c,d,e);return f};
r.Eu=r.P.extend({er:0,dr:0,cr:0,tA:0,sA:0,rA:0,ctor:function(){r.P.prototype.ctor.call(this);this.rA=this.sA=this.tA=this.cr=this.dr=this.er=0},N:function(a,c,d,e){return r.P.prototype.N.call(this,a)?(this.er=c,this.dr=d,this.cr=e,!0):!1},G:function(){var a=new r.Eu;a.N(this.ya,this.er,this.dr,this.cr);return a},$:function(a){r.P.prototype.$.call(this,a);a.lb&&(a=a.Bd(),this.tA=a.p,this.sA=a.o,this.rA=a.g)},update:function(a){this.R.lb&&this.R.l(r.k(this.tA+this.er*a,this.sA+this.dr*a,this.rA+this.cr*
a))},reverse:function(){return r.Eu.create(this.ya,-this.er,-this.dr,-this.cr)}});r.Eu.create=function(a,c,d,e){var f=new r.Eu;f.N(a,c,d,e);return f};r.Yn=r.P.extend({update:function(){},reverse:function(){return r.Yn.create(this.ya)},G:function(){var a=new r.Yn;a.N(this.ya);return a}});r.Yn.create=function(a){var c=new r.Yn;c.N(a);return c};
r.su=r.P.extend({Uj:null,ctor:function(){r.P.prototype.ctor.call(this);this.Uj=null},qa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Uj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return r.P.prototype.N.call(this,a.Bf())?(this.Uj=a,!0):!1},G:function(){var a=new r.su;a.qa(this.Uj.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Uj.$(a)},update:function(a){this.Uj&&this.Uj.update(1-a)},reverse:function(){return this.Uj.G()},
stop:function(){this.Uj.stop();r.Hd.prototype.stop.call(this)}});r.su.create=function(a){var c=new r.su;c.qa(a);return c};
r.Bt=r.P.extend({Aj:null,Zo:0,Rv:null,pr:0,xB:null,ctor:function(){r.P.prototype.ctor.call(this);this.Aj=null;this.Zo=0;this.Rv=null;this.pr=0;this.xB=null},yI:function(){return this.Aj},DW:function(a){this.Aj=a},$I:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Bf();if(this.N(c*a.Rj)){this.Zo=0;this.DW(a);this.Rv=null;this.pr=0;var d=[],e=0,f=c/a.Om;a=a.ee;r.Ct(a,r.rj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].ce;d.push(h)}this.xB=d;return!0}return!1},
G:function(){var a=new r.Bt;a.$I(this.Aj.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Aj.Bm&&(this.Rv=a.lS());this.pr=this.Zo=0},update:function(a){1>a&&(a*=this.Aj.Rj,(0|a)>this.pr&&(this.Zo=0,this.pr++),a%=1);for(var c=this.Aj.ee,d=c.length,e=this.xB,f=this.Zo;f<d;f++)if(e[f]<=a)this.R.gq(c[f].yh()),this.Zo=f+1;else break},reverse:function(){var a=this.Aj,c=a.ee,d=[];r.Ct(c,r.rj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.G())}c=r.qj.XH(d,a.ce,
a.Rj);c.Qx(a.Bm);return r.Bt.create(c)},stop:function(){this.Aj.Bm&&this.R&&this.R.gq(this.Rv);r.Hd.prototype.stop.call(this)}});r.Bt.create=function(a){var c=new r.Bt;c.$I(a);return c};
r.pz=r.P.extend({Of:null,qm:null,ctor:function(){r.P.prototype.ctor.call(this);this.qm=this.Of=null},Mg:function(a,c){return this.N(c.Bf())?(this.qm=a,this.Of=c,!0):!1},G:function(){var a=new r.pz;a.Mg(this.qm,this.Of.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.Of.$(this.qm)},stop:function(){this.Of.stop()},update:function(a){this.Of.update(a)},O4:function(){return this.qm},Naa:function(a){this.qm!=a&&(this.qm=a)}});r.pz.create=function(a,c){var d=new r.pz;d.Mg(a,c);return d};r.si=r.uj.extend({ii:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.G()},G:function(){return new r.si}});r.wu=r.si.extend({update:function(){this.R.v(!0)},reverse:function(){return r.hu.create()},G:function(){return new r.wu}});r.wu.create=function(){return new r.wu};r.hu=r.si.extend({update:function(){this.R.v(!1)},reverse:function(){return r.wu.create()},G:function(){return new r.hu}});r.hu.create=function(){return new r.hu};
r.Fu=r.si.extend({update:function(){this.R.v(!this.R.ma)},reverse:function(){return new r.Fu},G:function(){return new r.Fu}});r.Fu.create=function(){return new r.Fu};r.pu=r.si.extend({Cr:!0,ctor:function(){r.uj.prototype.ctor.call(this);this.Cr=!0},update:function(){this.R.J(this.Cr)},r:function(a){this.Cr=a;return!0},reverse:function(){return new r.pu(this.Cr)},G:function(){return new r.pu(this.Cr)}});r.pu.create=function(a){null==a&&(a=!0);var c=new r.pu;c&&c.r(a);return c};
r.fu=r.si.extend({lc:!1,ctor:function(){r.uj.prototype.ctor.call(this);this.lc=!1},bJ:function(a){this.lc=a;return!0},update:function(){this.R.VW(this.lc)},reverse:function(){return r.fu.create(!this.lc)},G:function(){var a=new r.fu;a.bJ(this.lc);return a}});r.fu.create=function(a){var c=new r.fu;return c.bJ(a)?c:null};
r.gu=r.si.extend({mc:!1,ctor:function(){r.uj.prototype.ctor.call(this);this.mc=!1},cJ:function(a){this.mc=a;return!0},update:function(){this.R.WW(this.mc)},reverse:function(){return r.gu.create(!this.mc)},G:function(){var a=new r.gu;a.cJ(this.mc);return a}});r.gu.create=function(a){var c=new r.gu;return c.cJ(a)?c:null};
r.Xy=r.si.extend({q:null,ctor:function(){r.uj.prototype.ctor.call(this);this.q=r.a(0,0)},eJ:function(a){this.q.x=a.x;this.q.y=a.y;return!0},update:function(){this.R.n(this.q)},G:function(){var a=new r.Xy;a.eJ(this.q);return a}});r.Xy.create=function(a){var c=new r.Xy;c.eJ(a);return c};
r.vq=r.si.extend({oh:null,km:null,Pk:null,ar:null,ctor:function(){r.uj.prototype.ctor.call(this);this.ar=this.Pk=this.km=this.oh=null},Mg:function(a,c,d){this.ar=d;this.km=a;this.oh=c;return!0},UC:function(a){this.Pk=a;return!0},execute:function(){null!=this.km?this.km.call(this.oh,this.R,this.ar):this.Pk&&this.Pk.call(null,this.R)},update:function(){this.execute()},I6:function(){return this.oh},Zba:function(a){a!=this.oh&&(this.oh&&(this.oh=null),this.oh=a)},copy:function(){var a=new r.vq;this.oh?
a.Mg(this.km,this.oh,this.ar):this.Pk&&a.UC(this.Pk);return a},G:function(){var a=new r.vq;this.oh?a.Mg(this.km,this.oh,this.ar):this.Pk&&a.UC(this.Pk);return a}});r.vq.create=function(a,c,d){var e=new r.vq;if(1==arguments.length){if(e&&e.UC(a))return e}else if(e&&e.Mg(a,c,d))return e.km=a,e;return null};r.ry=r.P.extend({Pz:0,Qz:0,Rz:0,gG:0,hG:0,iG:0,oH:0,pH:0,qH:0,ctor:function(){r.P.prototype.ctor.call(this);this.qH=this.pH=this.oH=this.iG=this.hG=this.gG=this.Rz=this.Qz=this.Pz=0},$:function(a){r.P.prototype.$.call(this,a);a=a.BC();var c=a.AI();this.Pz=c.x;this.Qz=c.y;this.Rz=c.z;c=a.CI();this.gG=c.x;this.hG=c.y;this.iG=c.z;a=a.vT();this.oH=a.x;this.pH=a.y;this.qH=a.z},G:function(){return new r.ry},reverse:function(){return r.su.create(this)}});
r.Vy=r.ry.extend({Ti:0,iv:0,oo:0,cA:0,sg:0,bA:0,fB:0,dB:0,eB:0,cB:0,ctor:function(){r.ry.prototype.ctor.call(this);this.cB=this.eB=this.dB=this.fB=this.bA=this.sg=this.cA=this.oo=this.iv=this.Ti=0},N:function(a,c,d,e,f,g,h){return r.P.prototype.N.call(this,a)?(this.Ti=c,this.iv=d,this.oo=e,this.cA=f,this.sg=g,this.bA=h,this.dB=r.tj(f),this.cB=r.tj(h),!0):!1},fY:function(){var a=this.R.BC(),c=a.CI(),d=a.AI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=r.cu);0===d&&(d=r.cu);return{JU:d/r.wq.Ms(),DY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},$:function(a){r.P.prototype.$.call(this,a);a=this.fY();isNaN(this.Ti)&&(this.Ti=a.JU);isNaN(this.oo)&&(this.oo=r.Zy(a.DY));isNaN(this.sg)&&(this.sg=r.Zy(a.azimuth));this.fB=r.tj(this.oo);this.eB=r.tj(this.sg)},G:function(){var a=new r.Vy;a.N(this.ya,this.Ti,this.iv,this.oo,this.cA,this.sg,this.bA);return a},update:function(a){var c=(this.Ti+this.iv*a)*r.wq.Ms(),
d=this.fB+this.dB*a,e=this.eB+this.cB*a;a=Math.sin(d)*Math.cos(e)*c+this.Pz;e=Math.sin(d)*Math.sin(e)*c+this.Qz;c=Math.cos(d)*c+this.Rz;this.R.BC().GK(a,e,c)}});r.Vy.create=function(a,c,d,e,f,g,h){var k=new r.Vy;return k.N(a,c,d,e,f,g,h)?k:null};r.hd=r.P.extend({da:null,ctor:function(){r.P.prototype.ctor.call(this);this.da=null},qa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.N(a.Bf())?(this.da=a,!0):!1},G:function(){var a=new r.hd;a.qa(this.da.G());return a},$:function(a){r.P.prototype.$.call(this,a);this.da.$(this.R)},stop:function(){this.da.stop();r.P.prototype.stop.call(this)},update:function(a){this.da.update(a)},reverse:function(){return r.hd.create(this.da.reverse())},CC:function(){return this.da}});
r.hd.create=function(a){var c=new r.hd;c&&c.qa(a);return c};r.am=r.hd.extend({Te:0,ctor:function(){r.hd.prototype.ctor.call(this);this.Te=0},Fba:function(a){this.Te=a},g6:function(){return this.Te},qa:function(a,c){return r.hd.prototype.qa.call(this,a)?(this.Te=c,!0):!1},G:function(){var a=new r.am;a.qa(this.da.G(),this.Te);return a},reverse:function(){return r.am.create(this.da.reverse(),1/this.Te)}});r.am.create=function(a,c){var d=new r.am;d&&d.qa(a,c);return d};
r.Wt=r.am.extend({update:function(a){this.da.update(Math.pow(a,this.Te))},reverse:function(){return r.Wt.create(this.da.reverse(),1/this.Te)},G:function(){var a=new r.Wt;a.qa(this.da.G(),this.Te);return a}});r.Wt.create=function(a,c){var d=new r.Wt;d&&d.qa(a,c);return d};r.Yt=r.am.extend({update:function(a){this.da.update(Math.pow(a,1/this.Te))},reverse:function(){return r.Yt.create(this.da.reverse(),1/this.Te)},G:function(){var a=new r.Yt;a.qa(this.da.G(),this.Te);return a}});
r.Yt.create=function(a,c){var d=new r.Yt;d&&d.qa(a,c);return d};r.Xt=r.am.extend({update:function(a){a*=2;1>a?this.da.update(0.5*Math.pow(a,this.Te)):this.da.update(1-0.5*Math.pow(2-a,this.Te))},G:function(){var a=new r.Xt;a.qa(this.da.G(),this.Te);return a},reverse:function(){return r.Xt.create(this.da.reverse(),this.Te)}});r.Xt.create=function(a,c){var d=new r.Xt;d&&d.qa(a,c);return d};
r.Tt=r.hd.extend({update:function(a){this.da.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return r.Vt.create(this.da.reverse())},G:function(){var a=new r.Tt;a.qa(this.da.G());return a}});r.Tt.create=function(a){var c=new r.Tt;c&&c.qa(a);return c};r.Vt=r.hd.extend({update:function(a){this.da.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return r.Tt.create(this.da.reverse())},G:function(){var a=new r.Vt;a.qa(this.da.G());return a}});
r.Vt.create=function(a){var c=new r.Vt;c&&c.qa(a);return c};r.Ut=r.hd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.da.update(a)},reverse:function(){return r.Ut.create(this.da.reverse())},G:function(){var a=new r.Ut;a.qa(this.da.G());return a}});r.Ut.create=function(a){var c=new r.Ut;c&&c.qa(a);return c};
r.Zt=r.hd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.da.update(a)},reverse:function(){return r.au.create(this.da.reverse())},G:function(){var a=new r.Zt;a.qa(this.da.G());return a}});r.Zt.create=function(a){var c=new r.Zt;c&&c.qa(a);return c};r.au=r.hd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.da.update(a)},reverse:function(){return r.Zt.create(this.da.reverse())},G:function(){var a=new r.au;a.qa(this.da.G());return a}});
r.au.create=function(a){var c=new r.au;c&&c.qa(a);return c};r.$t=r.hd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.da.update(a)},G:function(){var a=new r.$t;a.qa(this.da.G());return a},reverse:function(){return r.$t.create(this.da.reverse())}});r.$t.create=function(a){var c=new r.$t;c&&c.qa(a);return c};
r.Zn=r.hd.extend({ge:null,ctor:function(){r.hd.prototype.ctor.call(this);this.ge=0.3},Q5:function(){return this.ge},uba:function(a){this.ge=a},qa:function(a,c){r.hd.prototype.qa.call(this,a);this.ge=null==c?0.3:c;return!0},reverse:function(){r.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},G:function(){var a=new r.Zn;a.qa(this.da.G(),this.ge);return a}});r.Zn.create=function(a,c){var d=new r.Zn;return d&&d.qa(a,c)?d:null};
r.Qt=r.Zn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.ge/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.ge));this.da.update(c)},reverse:function(){return r.St.create(this.da.reverse(),this.ge)},G:function(){var a=new r.Qt;a.qa(this.da.G(),this.ge);return a}});r.Qt.create=function(a,c){var d=new r.Qt;return d&&d.qa(a,c)?d:null};
r.St=r.Zn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.ge/4)*Math.PI*2/this.ge)+1;this.da.update(c)},reverse:function(){return r.Qt.create(this.da.reverse(),this.ge)},G:function(){var a=new r.St;a.qa(this.da.G(),this.ge);return a}});r.St.create=function(a,c){var d=new r.St;d&&d.qa(a,c);return d};
r.Rt=r.Zn.extend({update:function(a){var c=0,c=this.ge;if(0===a||1==a)c=a;else{c||(c=this.ge=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.da.update(c)},reverse:function(){return r.Rt.create(this.da.reverse(),this.ge)},G:function(){var a=new r.Rt;a.qa(this.da.G(),this.ge);return a}});r.Rt.create=function(a,c){var d=new r.Rt;d&&d.qa(a,c);return d};
r.$l=r.hd.extend({Dw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},G:function(){var a=new r.$l;a.qa(this.da.G());return a},reverse:function(){return r.$l.create(this.da.reverse())}});r.$l.create=function(a){var c=new r.$l;c&&c.qa(a);return c};
r.Nt=r.$l.extend({update:function(a){this.da.update(1-this.Dw(1-a))},reverse:function(){return r.Pt.create(this.da.reverse())},G:function(){var a=new r.Nt;a.qa(this.da.G());return a}});r.Nt.create=function(a){var c=new r.Nt;c&&c.qa(a);return c};r.Pt=r.$l.extend({update:function(a){this.da.update(this.Dw(a))},reverse:function(){return r.Nt.create(this.da.reverse())},G:function(){var a=new r.Pt;a.qa(this.da.G());return a}});r.Pt.create=function(a){var c=new r.Pt;c&&c.qa(a);return c};
r.Ot=r.$l.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Dw(1-2*a)):0.5*this.Dw(2*a-1)+0.5;this.da.update(c)},G:function(){var a=new r.Ot;a.qa(this.da.G());return a},reverse:function(){return r.Ot.create(this.da.reverse())}});r.Ot.create=function(a){var c=new r.Ot;c&&c.qa(a);return c};r.Kt=r.hd.extend({update:function(a){this.da.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return r.Mt.create(this.da.reverse())},G:function(){var a=new r.Kt;a.qa(this.da.G());return a}});
r.Kt.create=function(a){var c=new r.Kt;c&&c.qa(a);return c};r.Mt=r.hd.extend({update:function(a){a-=1;this.da.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return r.Kt.create(this.da.reverse())},G:function(){var a=new r.Mt;a.qa(this.da.G());return a}});r.Mt.create=function(a){var c=new r.Mt;c&&c.qa(a);return c};
r.Lt=r.hd.extend({update:function(a){a*=2;1>a?this.da.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.da.update(a*a*(3.5949095*a+2.5949095)/2+1))},G:function(){var a=new r.Lt;a.qa(this.da.G());return a},reverse:function(){return r.Lt.create(this.da.reverse())}});r.Lt.create=function(a){var c=new r.Lt;c&&c.qa(a);return c};r.Ay=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return r.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};r.oK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(r.a(a[d].x,a[d].y));return c};r.Iw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(r.a(a[d].x,a[d].y));return c};r.xh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
r.daa=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
r.ui=r.P.extend({Qh:null,dA:0,Km:0,Vc:null,Az:null,ctor:function(){r.P.prototype.ctor.call(this);this.Qh=[];this.Km=this.dA=0;this.Az=this.Vc=null},N:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return r.P.prototype.N.call(this,a)?(this.vX(c),this.Km=d,!0):!1},G:function(){var a=new r.ui;a.N(this.ya,r.Iw(this.Qh),this.Km);return a},$:function(a){r.P.prototype.$.call(this,a);this.dA=1/(this.Qh.length-1);a=this.R.q;this.Vc=r.a(a.x,a.y);this.Az=
r.a(0,0)},update:function(a){var c,d=this.Qh;if(1==a)c=d.length-1,a=1;else{var e=this.dA;c=0|a/e;a=(a-e*c)/e}c=r.Ay(r.xh(d,c-1),r.xh(d,c-0),r.xh(d,c+1),r.xh(d,c+2),this.Km,a);r.Ht&&(d=this.R.q.F-this.Vc.x,a=this.R.q.H-this.Vc.y,0!=d||0!=a)&&(e=this.Az,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.HL(c)},reverse:function(){var a=r.oK(this.Qh);return r.ui.create(this.ya,a,this.Km)},HL:function(a){this.R.n(a);this.Vc=a},V5:function(){return this.Qh},vX:function(a){this.Qh=a}});
r.ui.create=function(a,c,d){var e=new r.ui;return e.N(a,c,d)?e:null};
r.xq=r.ui.extend({Wc:null,ctor:function(){r.ui.prototype.ctor.call(this);this.Wc=r.a(0,0)},$:function(a){r.ui.prototype.$.call(this,a);a=a.q;this.Wc.x=a.x;this.Wc.y=a.y},reverse:function(){for(var a=this.Qh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=r.Dd(c,d),d=c;a=r.oK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return r.xq.create(this.ya,a,this.Km)},HL:function(a){var c=this.Wc,d=a.x+c.x;a=a.y+c.y;this.R.n(d,
a);this.Vc.x=d;this.Vc.y=a},G:function(){var a=new r.xq;a.N(this.ya,r.Iw(this.Qh),this.Km);return a}});r.xq.create=function(a,c,d){var e=new r.xq;return e.N(a,c,d)?e:null};r.Cy=r.ui.extend({N:function(a,c){return r.ui.prototype.N.call(this,a,c,0.5)},G:function(){var a=new r.Cy;a.N(this.ya,r.Iw(this.Qh));return a}});r.Cy.create=function(a,c){var d=new r.Cy;return d.N(a,c)?d:null};
r.By=r.xq.extend({N:function(a,c){return r.ui.prototype.N.call(this,a,c,0.5)},G:function(){var a=new r.By;a.N(this.ya,r.Iw(this.Qh));return a}});r.By.create=function(a,c){var d=new r.By;return d.N(a,c)?d:null};r.PY=r.Ea.extend({rE:function(){}});
r.Xn=r.P.extend({key:"",dn:0,Ql:0,oC:0,ctor:function(){r.P.prototype.ctor.call(this);this.key="";this.oC=this.Ql=this.dn=0},N:function(a,c,d,e){return r.P.prototype.N.call(this,a)?(this.key=c,this.Ql=e,this.dn=d,!0):!1},$:function(a){if(!a||!a.rE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";r.P.prototype.$.call(this,a);this.oC=this.Ql-this.dn},update:function(a){this.R.rE(this.Ql-this.oC*(1-a),this.key)},reverse:function(){return r.Xn.create(this.duration,
this.key,this.Ql,this.dn)},G:function(){var a=new r.Xn;a.N(this.ya,this.key,this.dn,this.Ql);return a}});r.Xn.create=function(a,c,d,e){var f=new r.Xn;return f.N(a,c,d,e)?f:null};r.Ak=0;r.Wy=1;r.oF=4;r.bN=75;
r.Ec=r.Bb.extend({Af:null,Qi:0,rb:null,Ph:null,jm:null,Od:!1,q5:function(){return r.a(this.Ph.x,this.Ph)},OK:function(a){this.Ph=r.OJ(a)},W3:function(){return r.a(this.jm.x,this.jm.y)},wK:function(a){this.jm=r.OJ(a)},qc:function(){return this.Af},Xw:function(){return this.Qi},pT:function(){return this.rb},kt:function(a){this.Qi!=a&&(this.Qi=r.xs(a,0,100),this.NB())},Kf:function(){},ul:function(){return!1},q8:function(){return this.Od},Lz:function(a){if(a<r.oF){var c=r.bN;return this.Od?r.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):r.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return r.vj()},md:null,EB:270,mA:270,Ti:0,Xz:!1,Iz:null,zd:0,Kc:null,Xf:null,yH:null,us:!1,ctor:null,Mh:function(){r.Bb.prototype.ctor.call(this);this.Af=r.Ak;this.Qi=0;this.Ph=r.a(0,0);this.jm=r.a(0,0);this.Od=!1;this.rb=null;this.md=r.vj();this.mA=this.EB=270;this.Ti=0;this.Xz=!1;this.Iz=r.jd()},Nh:function(){r.Bb.prototype.ctor.call(this);this.Af=r.Ak;this.Qi=0;this.Ph=r.a(0,0);this.jm=r.a(0,0);this.Od=!1;this.rb=null;this.yH=r.X.createBuffer();
this.zd=0;this.Xf=this.Kc=null;this.us=!1},l:function(a){this.rb.l(a);this.yd()},ja:function(a){this.rb.ja(a);this.yd()},Bd:function(){return this.rb.Bd()},aj:function(){return this.rb.aj()},UK:null,lQ:function(a){this.Od!==a&&(this.Od=a)},mQ:function(a){this.Od!==a&&(this.Od=a,this.Xf=this.Kc=null,this.zd=0)},mt:null,oQ:function(a){this.rb!=a&&(this.rb=a,this.W(this.rb.c()))},pQ:function(a){a&&this.rb!=a&&(this.rb=a,this.W(a.c()),this.Kc&&(this.Xf=this.Kc=null,this.zd=0))},nj:null,sQ:function(a){a!==
this.Af&&(this.Af=a)},tQ:function(a){a!==this.Af&&(this.Kc&&(this.Xf=this.Kc=null,this.zd=0),this.Af=a)},TK:null,jQ:function(a){this.Od!==a&&(this.Od=a)},kQ:function(a){this.Od!==a&&(this.Od=a,this.Xf=this.Kc=null,this.zd=0)},Ze:function(a){var c=this.rb;if(!c)return{Pa:0,oa:0};var d=c.Mb,e=r.a(d.Ka.C.Pa,d.Ka.C.oa),d=r.a(d.Na.C.Pa,d.Na.C.oa);c.ad&&(c=a.x,a.x=a.y,a.y=c);return{Pa:e.x*(1-a.x)+d.x*a.x,oa:e.y*(1-a.y)+d.y*a.y}},af:function(a){if(!this.rb)return{x:0,y:0};var c=this.rb.Mb,d=r.a(c.Ka.s.x,
c.Ka.s.y),c=r.a(c.Na.s.x,c.Na.s.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},XC:null,TO:function(a){this.kt(0);this.M(0.5,0.5);this.Af=r.Ak;this.Od=!1;this.OK(r.a(0.5,0.5));this.wK(r.a(1,1));this.mt(a);return!0},UO:function(a){this.kt(0);this.Xf=this.Kc=null;this.zd=0;this.M(0.5,0.5);this.Af=r.Ak;this.Od=!1;this.OK(r.a(0.5,0.5));this.wK(r.a(1,1));this.mt(a);this.Sg(r.Kh.e().oi(r.cz));return!0},Wa:null,nm:function(a){a=a||r.X;var c=this.rb;c.Qo&&(a.globalCompositeOperation="lighter");var d=
r.ta.e().xa,e=r.ta.e().Ba;a.globalAlpha=c.Yb/255;var f=c.za,g=c.wa,h=c.fc,k=c.jA,l=0|h.x,m=-h.y-f.height,n=c.mp;k.width=f.width*d;k.height=f.height*e;a.save();c.lc&&(l=-h.x-f.width,a.scale(-1,1));c.mc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Af==r.Wy?(f=this.Iz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Af==r.Ak&&(f=this.md.x*d,h=this.md.y*e,a.beginPath(),a.arc(f,h,this.Ti*e,Math.PI/180*this.EB,Math.PI/180*this.mA,this.Xz),a.lineTo(f,h),a.clip(),a.closePath());
c.Fa&&n.yt?(d=c.Fa.Ic,this.bv?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Bd(),a.fillStyle="rgba("+k.p+","+k.o+","+k.g+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();r.Hh()},wg:function(a){a=a||r.X;if(this.Kc&&this.rb){r.Ty(this);var c=this.rb.ha;r.ik(c.src,c.Ib);r.we(r.Ju);this.rb.aa()?r.Kg(this.rb.aa()):r.Kg(null);a.bindBuffer(a.ARRAY_BUFFER,this.yH);this.us&&(a.bufferData(a.ARRAY_BUFFER,this.Xf,
a.DYNAMIC_DRAW),this.us=!1);c=r.Wb.BYTES_PER_ELEMENT;a.vertexAttribPointer(r.Ne,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(r.Jq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(r.Kq,2,a.FLOAT,!1,c,12);this.Af===r.Ak?a.drawArrays(a.TRIANGLE_FAN,0,this.zd):this.Af==r.Wy&&(this.Od?(a.drawArrays(a.TRIANGLE_STRIP,0,this.zd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.zd/2),r.fi++):a.drawArrays(a.TRIANGLE_STRIP,0,this.zd));r.fi++}},VQ:function(){if(this.rb){var a,c=this.Ph;a=this.Qi/100;var d=2*r.PI*(this.Od?a:
1-a),e=r.a(c.x,1),f=r.eV(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=r.qM,h=r.oF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Lz(a%h),k=this.Lz(k);0==a?k=r.QJ(l,k,1-c.x):4==a&&(l=r.QJ(l,k,1-c.x));var m=r.a(0,0);r.rD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=r.fg(c,r.kj(r.Dd(f,c),g))}g=!0;this.zd!=d+3&&(g=!1,this.Xf=this.Kc=null,this.zd=0);if(!this.Kc){h=this.zd=d+3;l=r.Wb.BYTES_PER_ELEMENT;this.Xf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new r.Wb(null,
null,null,this.Xf,a*l);this.Kc=k;if(!this.Kc){r.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.yd();h=this.Kc;if(!g)for(h[0].C=this.Ze(c),h[0].s=this.af(c),h[1].C=this.Ze(e),h[1].s=this.af(e),a=0;a<d;a++)c=this.Lz(a),h[a+2].C=this.Ze(c),h[a+2].s=this.af(c);h[this.zd-1].C=this.Ze(f);h[this.zd-1].s=this.af(f)}},KQ:function(){if(this.rb){var a,c=this.Qi/100,d=this.jm,d=r.kj(r.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=r.Dd(this.Ph,d),d=r.fg(this.Ph,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Od){if(!this.Kc){this.zd=8;var e=r.Wb.BYTES_PER_ELEMENT;this.Xf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new r.Wb(null,null,null,this.Xf,a*e);f[0].C=this.Ze(r.a(0,1));f[0].s=this.af(r.a(0,1));f[1].C=this.Ze(r.a(0,0));f[1].s=this.af(r.a(0,0));f[6].C=this.Ze(r.a(1,1));f[6].s=this.af(r.a(1,1));f[7].C=this.Ze(r.a(1,0));f[7].s=this.af(r.a(1,0));this.Kc=f}a=this.Kc;a[2].C=this.Ze(r.a(c.x,d.y));a[2].s=this.af(r.a(c.x,
d.y));a[3].C=this.Ze(r.a(c.x,c.y));a[3].s=this.af(r.a(c.x,c.y));a[4].C=this.Ze(r.a(d.x,d.y));a[4].s=this.af(r.a(d.x,d.y));a[5].C=this.Ze(r.a(d.x,c.y));a[5].s=this.af(r.a(d.x,c.y))}else{if(!this.Kc)for(this.zd=4,e=r.Wb.BYTES_PER_ELEMENT,this.Xf=new ArrayBuffer(4*e),this.Kc=[],a=0;4>a;a++)this.Kc[a]=new r.Wb(null,null,null,this.Xf,a*e);a=this.Kc;a[0].C=this.Ze(r.a(c.x,d.y));a[0].s=this.af(r.a(c.x,d.y));a[1].C=this.Ze(r.a(c.x,c.y));a[1].s=this.af(r.a(c.x,c.y));a[2].C=this.Ze(r.a(d.x,d.y));a[2].s=this.af(r.a(d.x,
d.y));a[3].C=this.Ze(r.a(d.x,c.y));a[3].s=this.af(r.a(d.x,c.y))}this.yd()}},yd:function(){if(this.rb&&this.Kc){for(var a=this.rb.Mb.Ta.L,c=this.Kc,d=0,e=this.zd;d<e;++d)c[d].L=a;this.us=!0}},NB:null,RQ:function(){var a=this.rb,c=a.c(),d=this.Ph;if(this.Af==r.Ak){this.Ti=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.md;g.x=c.width*d.x;g.y=-c.height*d.y;this.Od?(e=270,d=270-3.6*this.Qi):(d=-90,e=-90+3.6*this.Qi);a.lc&&(g.x-=2*c.width*this.Ph.x,d=-d-180,e=-e-180,f=!f);a.mc&&
(g.y+=2*c.height*this.Ph.y,f=!f,d=-d,e=-e);this.EB=d;this.mA=e;this.Xz=f}else{e=this.jm;g=this.Qi/100;f=this.Iz;e=r.size(c.width*(1-e.x),c.height*(1-e.y));var g=r.size((c.width-e.width)*g,(c.height-e.height)*g),g=r.size(e.width+g.width,e.height+g.height),h=r.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.lc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.mc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},SQ:function(){var a=this.Af;a===r.Ak?this.VQ():a===r.Wy&&this.KQ();this.us=!0}});
r.Ga.Sc?(b=r.Ec.prototype,b.ctor=r.Ec.prototype.Nh,b.UK=r.Ec.prototype.mQ,b.mt=r.Ec.prototype.pQ,b.nj=r.Ec.prototype.tQ,b.TK=r.Ec.prototype.kQ,b.XC=r.Ec.prototype.UO,b.Wa=r.Ec.prototype.wg,b.NB=r.Ec.prototype.SQ):(b=r.Ec.prototype,b.ctor=r.Ec.prototype.Mh,b.UK=r.Ec.prototype.lQ,b.mt=r.Ec.prototype.oQ,b.nj=r.Ec.prototype.sQ,b.TK=r.Ec.prototype.jQ,b.XC=r.Ec.prototype.TO,b.Wa=r.Ec.prototype.nm,b.NB=r.Ec.prototype.RQ);r.Ec.create=function(a){var c=new r.Ec;return c.XC(a)?c:null};r.Yy=r.P.extend({zf:0,fe:0,ctor:function(){r.P.prototype.ctor.call(this);this.fe=this.zf=0},N:function(a,c){return r.P.prototype.N.call(this,a)?(this.zf=c,!0):!1},G:function(){var a=new r.Yy;a.N(this.ya,this.zf);return a},reverse:function(){r.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},$:function(a){r.P.prototype.$.call(this,a);this.fe=a.Xw();100==this.fe&&(this.fe=0)},update:function(a){this.R instanceof r.Ec&&this.R.kt(this.fe+(this.zf-this.fe)*a)}});
r.Yy.create=function(a,c){var d=new r.Yy;d.N(a,c);return d};r.nu=r.P.extend({zf:0,fe:0,ctor:function(){r.P.prototype.ctor.call(this);this.fe=this.zf=0},N:function(a,c,d){return r.P.prototype.N.call(this,a)?(this.zf=d,this.fe=c,!0):!1},G:function(){var a=new r.nu;a.N(this.ya,this.fe,this.zf);return a},reverse:function(){return r.nu.create(this.ya,this.zf,this.fe)},$:function(a){r.P.prototype.$.call(this,a)},update:function(a){this.R instanceof r.Ec&&this.R.kt(this.fe+(this.zf-this.fe)*a)}});
r.nu.create=function(a,c,d){var e=new r.nu;e.N(a,c,d);return e};r.yy=9;r.VL=1;r.YL=2;r.ZL=4;r.WL=8;r.XL=16;r.GE=32;r.$L=64;r.UL=128;r.ti=256;r.og=1;r.IE=2;r.HE=4;r.gZ=8;r.fZ=8;
r.Vb=r.Ih.extend({xG:!1,b1:!1,ul:function(){return this.xG},Kf:function(a){this.xG=a;for(var c=this.t,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.lb&&f.Kf(a)}},Vi:r.og,F6:function(){return this.Vi},mr:!1,dp:!1,Nj:!1,jv:null,Jf:function(a){this.Vi=(this.mr=a)?r.og:r.HE;this.dd()},isEnabled:function(){return this.mr},kq:function(a){this.dp=a;this.dd()},t8:function(){return this.dp},Jl:function(a){this.Nj=a;this.dd()},c8:function(){return this.Nj},NT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ma)return!1;
return!0},ctor:function(){r.Ih.prototype.ctor.call(this);this.jv={};this.kc=r.Ab()},r:function(){return r.Ih.prototype.r.call(this)?(this.Vi=r.og,this.mr=!0,this.Nj=this.dp=!1,this.mq(1),!0):!1},zx:function(){r.BD(this.il,!0,this)},jf:function(a){for(var c=0,d=r.yy;c<d;c++)if(a&1<<c)for(var e=this.iA(1<<c),f=0,g=e.length;f<g;f++)e[f].lU(this)},MH:function(a,c,d){for(var e=0,f=r.yy;e<f;e++)d&1<<e&&this.SF(a,c,1<<e)},W$:function(a,c,d){for(var e=0,f=r.yy;e<f;e++)d&1<<e&&this.LP(a,c,1<<e)},bj:function(a){return this.Da(a.K)},
ji:function(a){a=a.K;a=this.getParent().Da(a);return r.bb(this.Ya(),a)},d1:function(){return null},iA:function(a){a=a.toString();this.jv.hasOwnProperty(a)||(this.jv[a]=[]);return this.jv[a]},SF:function(a,c,d){a=new r.yM(a,c,d);this.iA(d).push(a)},LP:function(a,c,d){d=this.iA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.R);c&&(g=g&&c==f.Of);g?r.Vd(d,f):e++}else d.length=0},dd:function(){}});r.Vb.create=function(){var a=new r.Vb;return a&&a.r()?a:null};r.ME=3435855873;
r.Zl=r.Vb.extend({hr:!1,vs:!1,yg:null,Dr:null,$q:null,gv:null,Nm:null,$d:null,Pi:0,So:!1,pw:null,js:null,qw:null,im:null,LG:!1,Hv:0,Gv:0,ctor:function(){r.Vb.prototype.ctor.call(this);this.yg=new r.Dk(0,0);this.Dr=new r.Zg(0,0);this.$q="";this.gv=r.Ab();this.pw={};this.js={};this.qw={};this.im={}},r:function(){return this.dx(r.T.create("","Arial",12),r.qf.create())},dd:function(){if(this.LG){this.Nm&&this.Nm.v(!1);this.$d&&this.$d.v(!1);this.cX(this.Dr);var a=this.Vi;this.$q=this.JC(a);this.gv=this.uT(a);
var c=this.Nm=this.Js(a);c&&c.fa&&c.fa(this.$q);c&&c.lb&&c.l(this.gv);var d=this.c();c&&c.n(d.width/2,d.height/2);(a=this.$d=this.IS(a))&&a.n(d.width/2,d.height/2);d=c?c.Ya().cb:r.size(0,0);if(this.hr)a&&a.W(d.width+2*this.Gv,d.height+2*this.Hv);else if(a){var e=a.yg,e=r.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.W(e)}d=c?c.Ya():r.rect(0,0,0,0);e=a?a.Ya():r.rect(0,0,0,0);d=r.yx(d,e);this.W(d.width,d.height);d=this.c();c&&(c.n(d.width/2,d.height/2),c.v(!0));
a&&(a.n(d.width/2,d.height/2),a.v(!0))}},dx:function(a,c){if(!a||!a.lb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return r.Vb.prototype.r.call(this,!0)?(this.LG=!0,this.pw={},this.js={},this.qw={},this.im={},this.$b(!0),this.So=!1,this.vs=!0,this.$q=null,this.AW(!0),this.sk(r.size(0,0)),this.vs=!0,this.ej(!1),this.M(0.5,0.5),this.Nm=a,this.$d=c,this.ja(255),
this.Kf(!0),this.KX(a.HC(),r.og),this.JX(a.Bd(),r.og),this.$D(a,r.og),this.Kx(c,r.og),this.Vi=r.og,this.Gv=24,this.Hv=12,this.Dr=new r.Zg(0.5,0.5),this.sk(r.cm()),this.dd(),!0):!1},dU:function(a,c,d){a=r.T.create(a,c,d);return this.dx(a,r.qf.create())},aJ:function(a){var c=r.T.create("","Arial",30);return this.dx(c,a)},Z2:function(){return this.hr},AW:function(a){this.hr=a;this.dd()},n7:function(){return this.vs},OX:function(a){return this.vs=a},cT:function(){return this.yg},sk:function(a){if(0===
a.width&&0===a.height)this.hr=!0;else{this.hr=!1;var c=this.im,d;for(d in c)c[d].sk(a)}this.yg=a;this.dd()},e5:function(){return this.Dr},cX:function(a){this.Dr=a;this.Nm&&this.Nm.M(a)},V0:function(){return this.$q},W0:function(){return this.gv},aj:function(){return this.Pi},ja:function(a){r.Vb.prototype.ja.call(this,a);var c=this.im,d;for(d in c)c[d].ja(a)},l:function(a){r.Vb.prototype.l.call(this,a);var c=this.im,d;for(d in c)c[d].l(a)},Bd:function(){return this.he},p8:function(){return this.So},
$0:function(){return this.Hv},Y0:function(){return this.Gv},cba:function(a,c){this.Hv=c;this.Gv=a;this.dd()},Jf:function(a){r.Vb.prototype.Jf.call(this,a);this.dd()},kq:function(a){r.Vb.prototype.kq.call(this,a);this.dd()},Jl:function(a){this.Vi=a?r.IE:r.og;r.Vb.prototype.Jl.call(this,a);(a=this.AC(r.ME))&&this.gY(a);this.dd();this.vs&&(a=r.io.create(0.05,this.Nj&&this.isEnabled()&&!this.dp?1.1:1),a.ZK(r.ME),this.Dx(a))},nb:function(a){if(!(this.ji(a)&&this.isEnabled()&&this.ma&&this.NT()))return!1;
this.So=!0;this.Jl(!0);this.jf(r.VL);return!0},sd:function(a){this.mr&&this.So&&!this.dp?(a=this.ji(a))&&!this.Nj?(this.Jl(!0),this.jf(r.WL)):a&&this.Nj?this.jf(r.YL):!a&&this.Nj?(this.Jl(!1),this.jf(r.XL)):a||this.Nj||this.jf(r.ZL):this.Nj&&this.Jl(!1)},Hf:function(a){this.So=!1;this.Jl(!1);this.ji(a)?this.jf(r.GE):this.jf(r.$L)},nk:function(){this.So=!1;this.Jl(!1);this.jf(r.UL)},JC:function(a){var c=this.pw;return c?c[a]?c[a]:c[r.og]:""},KX:function(a,c){this.pw[c]=a||"";this.Vi==c&&this.dd()},
uT:function(a){return(a=this.js[a])?a:(a=this.js[r.og])?a:r.Ab()},JX:function(a,c){this.js[c]=a;this.Vi==c&&this.dd()},Js:function(a){var c=this.qw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[r.og]},$D:function(a,c){var d=this.qw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.M(0.5,0.5);this.f(a,1);this.Vi==c&&this.dd()},dca:function(a,c){var d=this.JC(c);d||(d="");this.$D(r.T.create(d,a,12),c)},P6:function(a){a=this.Js(a);return null!=a&&a instanceof r.T?a.tf:""},eca:function(a,
c){var d=this.Js(c);null!=d&&d instanceof r.T&&d.HK(a)},Q6:function(a){a=this.Js(a);return null!=a&&a instanceof r.T?a.Qe:0},cca:function(a,c){var d=this.JC(c);d||(d="");this.$D(r.Qy.create(d,a),c)},O6:function(a){a=this.Js(a);return null!=a&&a instanceof r.Qy?a.L4():""},IS:function(a){var c=this.im;return c.hasOwnProperty(a)&&c[a]?c[a]:c[r.og]},Kx:function(a,c){var d=this.im;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.M(0.5,0.5);this.f(a);d=this.yg;0===d.width&&
0===d.height||a.sk(d);this.Vi===c&&this.dd()},raa:function(a,c){var d=r.qf.YH(a);this.Kx(d,c)}});r.Zl.create=function(a,c){var d;if(0==arguments.length)return(d=new r.Zl)&&d.r()?d:null;1==arguments.length?(d=new r.Zl,d.aJ(arguments[0])):2==arguments.length?(d=new r.Zl,d.dx(a,c)):3==arguments.length&&(d=new r.Zl,d.dU(arguments[0],arguments[1],arguments[2]));return d};r.RGBA=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.I=e};r.My=function(a,c,d){this.Ae=a;this.pi=c;this.oa=d};r.Yd={};r.Yd.Ym=function(a,c,d,e){a=r.A.ZH(a);if(!a)return null;a.n(d);a.M(e);c.f(a);return a};r.Yd.uM=function(a){var c=new r.My,d,e;d=a.p<a.o?a.p:a.o;d=d<a.g?d:a.g;e=a.p>a.o?a.p:a.o;e=e>a.g?e:a.g;c.oa=e;d=e-d;if(0<e)c.pi=d/e;else return c.pi=0,c.Ae=-1,c;c.Ae=a.p>=e?(a.o-a.g)/d:a.o>=e?2+(a.g-a.p)/d:4+(a.p-a.o)/d;c.Ae*=60;0>c.Ae&&(c.Ae+=360);return c};
r.Yd.az=function(a){var c,d,e,f,g=new r.RGBA;g.I=1;if(0>=a.pi){if(!a.Ae)return g.p=a.oa,g.o=a.oa,g.g=a.oa,g;g.p=0;g.o=0;g.g=0;return g}c=a.Ae;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.oa*(1-a.pi);d=a.oa*(1-a.pi*e);e=a.oa*(1-a.pi*(1-e));switch(f){case 0:g.p=a.oa;g.o=e;g.g=c;break;case 1:g.p=d;g.o=a.oa;g.g=c;break;case 2:g.p=c;g.o=a.oa;g.g=e;break;case 3:g.p=c;g.o=d;g.g=a.oa;break;case 4:g.p=e;g.o=c;g.g=a.oa;break;default:g.p=a.oa,g.o=c,g.g=d}return g};r.Yd.DE=function(a,c){return r.yx(a,c)};r.yM=r.Ea.extend({Of:null,R:null,fv:null,ctor:function(a,c,d){this.R=a;this.Of=c;this.fv=d},O3:function(){return this.Of},tT:function(){return this.R},s4:function(){return this.fv},lU:function(a){if(this.R&&this.Of)if("string"==typeof this.Of)this.R[this.Of](a,this.fv);else this.Of.call(this.R,a,this.fv)}});r.iF=0;r.lF=1;r.jF=2;r.kF=3;r.gF=4;r.nF=5;r.mF=6;r.aN=7;r.hF=8;
r.qf=r.Bb.extend({lb:!0,fp:null,aG:null,$k:!1,yf:null,Yh:null,Xh:null,qh:null,Mi:null,Cj:null,Th:null,Bi:null,Ai:null,Ci:null,Ej:null,nc:!1,nd:null,yg:null,Pi:0,kc:null,yo:null,uv:0,wv:0,vv:0,tv:0,eH:!1,zB:!1,sb:!1,Md:null,yL:function(){return this.sb},Yf:function(a,c){this.Md.push({hk:a,ei:c})},ae:function(){this.sb=!0;for(var a=this.Md,c=0,d=a.length;c<d;c++){var e=a[c];e.hk.call(e.ei,this)}a.length=0},vw:function(){var a;a=this.uv;var c=this.wv,d=this.vv,e=this.fp,f=this.tv;a=0===a&&0===c&&0===
d&&0===f?r.jd():this.zB?r.rect(f,a,e.width-d-a,e.height-c-f):r.rect(a,c,e.width-a-d,e.height-c-f);this.HW(a)},QQ:function(){if(this.Yh&&this.qh&&this.Ci&&this.Bi&&this.Cj){var a=this.wa,c=this.Yh,d=this.qh,e=this.Ci,f=this.Bi,g=this.Cj,h=this.Cj.c(),k=c.c(),l=f.c(),m=a.Ha-k.width-d.c().width,a=a.va-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,p=l.width,l=l.height;if(!r.Ga.Sc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.jq(m);g.Jn(a);
var h=this.Mi,q=this.Th,u=this.Xh,x=this.Ai,z=r.a(0,0);f.M(z);e.M(z);c.M(z);d.M(z);h.M(z);q.M(z);u.M(z);x.M(z);g.M(z);f.n(0,0);e.n(p+k,0);c.n(0,l+n);d.n(p+k,l+n);h.n(0,l);h.Jn(a);q.n(p+k,l);q.Jn(a);x.n(p,0);x.jq(m);u.n(p,l+n);u.jq(m);g.n(p,l)}},ctor:function(){r.Bb.prototype.ctor.call(this);this.fp=r.jd();this.aG=r.jd();this.Ej=r.Ab();this.nd=new r.Dk(0,0);this.yg=new r.Dk(0,0);this.kc=r.Ab();this.Pi=255;this.yo=r.jd();this.Md=[]},aT:function(){return this.nd},cT:function(){return this.yg},sk:function(a){this.W(a);
this.yg=a},aj:function(){return this.Pi},ja:function(a){if(this.yf){this.Pi=a;for(var c=this.yf.t,d=0;d<c.length;d++){var e=c[d];e&&e.lb&&e.ja(a)}}},Bd:function(){return this.kc},l:function(a){if(this.yf){this.kc=a;for(var c=this.yf.t,d=0;d<c.length;d++){var e=c[d];e&&e.lb&&e.l(a)}}},f4:function(){return this.yo},HW:function(a){if(this.yf){var c=this.wa,d=c.Ha,c=c.va;this.rq(this.yf,this.fp,this.zB,a);this.W(d,c)}},a5:function(){return this.uv},Waa:function(a){this.uv=a;this.vw()},c5:function(){return this.wv},
Yaa:function(a){this.wv=a;this.vw()},b5:function(){return this.vv},Xaa:function(a){this.vv=a;this.vw()},Z4:function(){return this.tv},Vaa:function(a){this.tv=a;this.vw()},W:function(a,c){2===arguments.length?r.D.prototype.W.call(this,a,c):r.D.prototype.W.call(this,a);this.$k=!0},sa:function(a){this.$k&&(this.QQ(),this.$k=!1);r.Bb.prototype.sa.call(this,a)},r:function(){return this.bx(null,r.jd(),!1,r.jd())},bx:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.rq(a,c,d,e);this.M(0.5,0.5);
return this.$k=!0},fj:function(a,c,d){a instanceof r.qg?(d=a=c,c=r.jd()):(c=c||r.jd(),d=d||r.jd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=r.ia.e().hy(a);if(!e){var e=r.ia.e().ra(a),f=e.Ng();(this.sb=f)||e.Yf(function(a){var c=this.yg,c=r.size(c.width,c.height);a=a.c();this.rq(this.yf,r.rect(0,0,a.width,a.height),!1,this.yo);this.sk(c);this.$k=!0;this.ae()},this)}a=r.wb.create(a,9);return this.bx(a,c,!1,d)},Ce:function(a,c){if(!a||!a.aa())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||r.jd();var d=a.sb;(this.sb=d)||a.Yf(function(a){var c=this.yg,c=r.size(c.width,c.height);this.rq(this.yf,a.ue(),r.Ga.Sc?a.od:!1,this.yo);this.sk(c);this.$k=!0;this.ae()},this);d=r.wb.ib(a.aa(),9);return this.bx(d,a.ue(),r.Ga.Sc?a.od:!1,c)},fJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||r.jd();var d=r.rg.e().yh(a);return null==d?(r.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Ce(d,c)},Z$:function(a){var c=new r.qf;return c&&c.bx(this.yf,this.fp,!1,a)?c:null},Kf:function(a){if(this.yf){this.nc=a;var c=this.yf.t;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Kf(a)}},ul:function(){return this.nc},rq:function(a,c,d,e){var f=this.aj(),g=this.Bd();c=r.rect(c.x,c.y,c.width,c.height);this.rc(!0);this.yf!=a&&(this.yf=a);a=a.aa();var h=a.Ng();if(this.sb=h){a=this.yf;a.rc(!0);h=this.yo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.zB=d;h=a.aa();r.Qr(c)&&(c=h.c(),c=r.rect(0,
0,c.width,c.height));var k=this.fp=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.cb;this.nd.width=l.width;this.nd.height=l.height;k=this.yg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.aG;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;r.Qr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,p=k.width,q=m-(n+p),u=k.y,x=k.height,z=e-(u+x),D=0,C=0;e=r.rect(D,C,n,u);var D=D+n,k=r.rect(D,C,p,u),m=r.rect(D+p,C,q,u),D=0,C=0+u,l=
r.rect(D,C,n,x),D=D+n,$=r.rect(D,C,p,x),D=D+p,M=r.rect(D,C,q,x),D=0,C=0+u+x,u=r.rect(D,C,n,z),D=D+n,n=r.rect(D,C,p,z),D=D+p,p=r.rect(D,C,q,z),q={I:1,g:0,Ca:0,La:1,Za:0,$a:0};if(d){d=$;var z=p,D=u,C=m,x=e,R=M,U=l,oa=n,aa=k,q=r.sy(q,c.height+c.x,c.y),q=r.TL(q),$=r.$g($,q),p=r.$g(p,q),u=r.$g(u,q),m=r.$g(m,q);e=r.$g(e,q);M=r.$g(M,q);l=r.$g(l,q);n=r.$g(n,q);k=r.$g(k,q);d.x=$.x;d.y=$.y;z.x=p.x;z.y=p.y;D.x=u.x;D.y=u.y;C.x=m.x;C.y=m.y;x.x=e.x;x.y=e.y;R.x=M.x;R.y=M.y;U.x=l.x;U.y=l.y;oa.x=n.x;oa.y=n.y;aa.x=
k.x;aa.y=k.y;this.Cj=new r.A;this.Cj.Ma(h,d,!0);a.f(this.Cj,0,r.iF);this.Xh=new r.A;this.Xh.Ma(h,aa,!0);a.f(this.Xh,1,r.lF);this.Ai=new r.A;this.Ai.Ma(h,oa,!0);a.f(this.Ai,1,r.gF);this.Mi=new r.A;this.Mi.Ma(h,U,!0);a.f(this.Mi,1,r.jF);this.Th=new r.A;this.Th.Ma(h,R,!0);a.f(this.Th,1,r.kF);this.Yh=new r.A;this.Yh.Ma(h,x,!0);a.f(this.Yh,2,r.mF);this.qh=new r.A;this.qh.Ma(h,C,!0);a.f(this.qh,2,r.nF);this.Bi=new r.A;this.Bi.Ma(h,D,!0);a.f(this.Bi,2,r.hF);this.Ci=new r.A;this.Ci.Ma(h,z,!0)}else q=r.sy(q,
c.x,c.y),r.wi($,q),r.wi(p,q),r.wi(u,q),r.wi(m,q),r.wi(e,q),r.wi(M,q),r.wi(l,q),r.wi(n,q),r.wi(k,q),this.Cj=new r.A,this.Cj.Ma(h,$),a.f(this.Cj,0,r.iF),this.Xh=new r.A,this.Xh.Ma(h,k),a.f(this.Xh,1,r.lF),this.Ai=new r.A,this.Ai.Ma(h,n),a.f(this.Ai,1,r.gF),this.Mi=new r.A,this.Mi.Ma(h,l),a.f(this.Mi,1,r.jF),this.Th=new r.A,this.Th.Ma(h,M),a.f(this.Th,1,r.kF),this.Yh=new r.A,this.Yh.Ma(h,e),a.f(this.Yh,2,r.mF),this.qh=new r.A,this.qh.Ma(h,m),a.f(this.qh,2,r.nF),this.Bi=new r.A,this.Bi.Ma(h,u),a.f(this.Bi,
2,r.hF),this.Ci=new r.A,this.Ci.Ma(h,p);a.f(this.Ci,2,r.aN);this.W(c.cb);this.f(a);this.eH&&(this.ja(f),255===g.p&&255===g.o&&255===g.g||this.l(g));return this.eH=!0}a.Yf(function(){this.$k=!0;this.ae()},this)},Lf:function(a){var c=r.wb.ib(a.aa(),9),d=a.sb;(this.sb=d)||a.Yf(function(a){var c=this.yg,c=r.size(c.width,c.height);this.rq(this.yf,a.ue(),r.Ga.Sc?a.od:!1,this.yo);this.sk(c);this.$k=!0;this.ae()},this);this.rq(c,a.ue(),r.Ga.Sc?a.od:!1,r.jd());this.tv=this.vv=this.wv=this.uv=0}});
r.qf.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new r.qf)&&e.fj(a,c))return e}else{if(a instanceof r.qg&&(e=new r.qf)&&e.fj(a,d))return e}else if(3===arguments.length){if((e=new r.qf)&&e.fj(a,c,d))return e}else if(1===arguments.length){if((e=new r.qf)&&e.fj(a))return e}else if(0===arguments.length&&(e=new r.qf)&&e.r())return e;return null};r.qf.YH=function(a,c){var d=new r.qf;return d&&d.Ce(a,c)?d:null};
r.qf.ZH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new r.qf;return d&&d.fJ(a,c)?d:null};r.yu=r.Uc.extend({});r.yu.Fda=function(a){var c=new r.yu;c.r();c.W(0,a);return c};r.yu.v7=function(a){var c=new r.yu;c.r();c.W(a,0);return c};
r.ku=r.Uc.extend({lb:!0,kc:null,Pi:0,ctor:function(){},Bd:function(){return this.kc},l:function(a){this.kc=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].lb&&this.t[c].l(a)},aj:function(){return this.Pi},ja:function(a){this.Pi=a;if(this.t&&0<this.t.length)for(var c=0;c<this.t.length;c++)this.t[c]&&this.t[c].lb&&this.t[c].ja(a)},XT:function(a,c){if(this.r()){var d=r.Y.e().Sb;this.ej(!0);this.M(0.5,0.5);this.W(d);this.n(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},S1:function(){this.iR(r.dM)},iR:function(a){var c=-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().height*this.t[d].Ba+a);var e=0,f=c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().width),this.t[d].n(0,f-this.t[d].c().height*this.t[d].Ba/2),f-=this.t[d].c().height*this.t[d].Ba+a);this.W(e,c)},P1:function(){this.hR(r.dM)},hR:function(a){var c=
-a,d;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(c+=this.t[d].c().width*this.t[d].xa+a);var e=0,f=-c/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(e=Math.max(e,this.t[d].c().height),this.t[d].n(f+this.t[d].c().width*this.t[d].xa/2,0),f+=this.t[d].c().width*this.t[d].xa+a);this.W(c,e)},Q1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&
(f>=c.length?r.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):r.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=r.Y.e().Sb,n=k=g=f=0,p=0,e=e/2;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(0==k&&(k=c[f],p=n=m.width/(1+k)),l=this.t[d].c().height,g=0|(g>=l||null==l?g:l),this.t[d].n(p-m.width/2,e-this.t[d].c().height/2),p+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},R1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,p;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(k>=c.length?r.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(p=this.t[d].c().width,l=0|(l>=p||null==p?l:p),h+=0|this.t[d].c().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):r.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
r.Y.e().Sb;l=k=0;n=null;var g=-g/2,q=0;if(this.t&&0<this.t.length)for(d=0;d<this.t.length;d++)this.t[d]&&(null==n&&(n=c[k],q=f[k]),p=this.t[d].c().width,l=0|(l>=p||null==p?l:p),this.t[d].n(g+e[k]/2,q-h.height/2),q-=this.t[d].c().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},Kf:function(){},ul:function(){return!1}});r.ku.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new r.ku)&&d.XT(a,c)?d:null};
r.ku.N2=function(a){return r.ku.create(a,null)};r.Ey=r.Vb.extend({mB:0,Wu:0,Gc:null,tP:null,cH:null,ph:null,uc:null,ug:0,Bj:0,p6:function(){return this.mB},b4:function(){return this.Wu},zI:function(){return this.Gc},P5:function(){return this.Wu},v6:function(){return this.cH},oT:function(){return this.ph},qT:function(){return this.uc},ZC:function(a,c){return r.Vb.prototype.r.call(this)?(this.$b(!0),this.Gc=r.Yd.Ym("colourPickerBackground.png",a,c,r.a(0,0)),this.tP=r.Yd.Ym("colourPickerOverlay.png",a,c,r.a(0,0)),this.cH=r.Yd.Ym("colourPickerShadow.png",
a,c,r.a(0,0)),this.ph=r.Yd.Ym("colourPicker.png",a,c,r.a(0.5,0.5)),this.uc=c,this.ug=35,this.Bj=this.Gc.c().width/2,!0):!1},Jf:function(a){r.Vb.prototype.Jf.call(this,a);this.ph&&this.ph.ja(a?255:128)},LL:function(a){var c=new r.My;c.pi=1;c.Ae=a.Ae;c.oa=1;a=r.Yd.az(c);this.Gc.l(r.Ew(0|255*a.p,0|255*a.o,0|255*a.g))},uY:function(a){a=r.a(this.uc.x+this.ug+this.Bj*(1-a.pi),this.uc.y+this.ug+this.Bj*a.oa);this.yw(a)},yw:function(a){var c=this.uc.x+0.5*this.Gc.Ya().width,d=this.uc.y+0.5*this.Gc.Ya().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Gc.Ya().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.ph.n(a);a.x<this.uc.x+this.ug?a.x=this.uc.x+this.ug:a.x>this.uc.x+this.ug+this.Bj-1&&(a.x=this.uc.x+this.ug+this.Bj-1);a.y<this.uc.y+this.ug?a.y=this.uc.y+this.ug:a.y>this.uc.y+this.ug+this.Bj&&(a.y=this.uc.y+this.ug+this.Bj);this.mB=1-Math.abs((this.uc.x+this.ug-a.x)/this.Bj);this.Wu=Math.abs((this.uc.y+this.ug-a.y)/this.Bj)},Wq:function(a){var c=this.uc.x+0.5*this.Gc.Ya().width,
d=this.uc.y+0.5*this.Gc.Ya().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Gc.Ya().width?(this.yw(a),this.jf(r.ti),!0):!1},nb:function(a){if(!this.isEnabled()||!this.ma)return!1;a=this.bj(a);return this.Wq(a)},sd:function(a){a=this.bj(a);this.Wq(a)}});r.Ey.create=function(a,c){var d=new r.Ey;d.ZC(a,c);return d};r.Dy=r.Vb.extend({Oo:0,xr:0,Gc:null,ph:null,uc:null,U4:function(){return this.Oo},VD:function(a){this.Oo=a;this.ZW(this.Oo/360)},V4:function(){return this.xr},ZW:function(a){this.xr=a;this.Oo=360*this.xr;a=this.Gc.Ya();var c=0.5*a.width-15,d=r.tj(360*this.xr-180);this.ph.n(this.uc.x+0.5*a.width+c*Math.cos(d),this.uc.y+0.5*a.height+c*Math.sin(d))},Jf:function(a){r.Vb.prototype.Jf.call(this,a);this.ph&&this.ph.ja(a?255:128)},zI:function(){return this.Gc},oT:function(){return this.ph},qT:function(){return this.uc},
ZC:function(a,c){return r.Vb.prototype.r.call(this)?(this.$b(!0),this.Gc=r.Yd.Ym("huePickerBackground.png",a,c,r.a(0,0)),this.ph=r.Yd.Ym("colourPicker.png",a,c,r.a(0.5,0.5)),this.ph.n(c.x,c.y+0.5*this.Gc.Ya().height),this.uc=c,this.xr=this.Oo=0,!0):!1},yw:function(a){var c=this.Gc.Ya();this.VD(r.Zy(Math.atan2(a.y-(this.uc.y+0.5*c.height),a.x-(this.uc.x+0.5*c.width)))+180);this.jf(r.ti)},Wq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.yw(a),!0):!1},nb:function(a){if(!this.isEnabled()||
!this.ma)return!1;a=this.bj(a);return this.Wq(a)},sd:function(a){a=this.bj(a);this.Wq(a)}});r.Dy.create=function(a,c){var d=new r.Dy;d.ZC(a,c);return d};r.NE=r.Vb.extend({fh:null,Lk:null,sm:null,Gc:null,UT:function(a){this.fh.Ae=a.Oo;a=r.Yd.az(this.fh);r.Vb.prototype.l.call(this,r.Ew(0|255*a.p,0|255*a.o,0|255*a.g));this.jf(r.ti);this.NQ()},IR:function(a){this.fh.pi=a.mB;this.fh.oa=a.Wu;a=r.Yd.az(this.fh);r.Vb.prototype.l.call(this,r.Ew(0|255*a.p,0|255*a.o,0|255*a.g));this.jf(r.ti)},l:function(a){r.Vb.prototype.l.call(this,a);var c=new r.RGBA;c.p=a.p/255;c.o=a.o/255;c.g=a.g/255;c.I=1;this.fh=r.Yd.uM(c);this.tH()},zI:function(){return this.Gc},r:function(){if(r.Vb.prototype.r.call(this)){this.$b(!0);
r.rg.e().LH(ba.BE);var a=r.wb.create(ba.CE);this.f(a);this.fh=new r.My(0,0,0);this.Gc=r.Yd.Ym("menuColourPanelBackground.png",a,r.vj(),r.a(0.5,0.5));var c=r.Dd(this.Gc.q,r.a(this.Gc.c().width/2,this.Gc.c().height/2));this.sm=r.Dy.create(a,r.a(c.x+8,c.y+8));this.Lk=r.Ey.create(a,r.a(c.x+28,c.y+28));this.sm.MH(this,this.UT,r.ti);this.Lk.MH(this,this.IR,r.ti);this.tH();this.f(this.sm);this.f(this.Lk);this.W(this.Gc.c());return!0}return!1},NQ:function(){this.sm.VD(this.fh.Ae);this.Lk.LL(this.fh)},tH:function(){this.sm.VD(this.fh.Ae);
this.Lk.LL(this.fh);this.Lk.uY(this.fh)},Jf:function(a){r.Vb.prototype.Jf.call(this,a);null!=this.sm&&this.sm.Jf(a);this.Lk&&this.Lk.Jf(a)},nb:function(){return!1}});r.NE.create=function(){var a=new r.NE;a.r();return a};ba=ba||{};ba.BE=ba.BE||"res/extensions/CCControlColourPickerSpriteSheet.plist";ba.CE=ba.CE||"res/extensions/CCControlColourPickerSpriteSheet.png";r.uF=24;r.$_=8;
r.PE=r.Vb.extend({Xc:0,hb:0,Gb:0,Mv:0,Kv:0,Hb:null,al:null,$d:null,OI:function(){return this.Xc},kf:function(a){a=Math.max(a,this.hb);this.Xc=a=Math.min(a,this.Gb);this.dd();this.jf(r.ti)},XS:function(){return this.hb},PK:function(a){this.Mv=this.hb=a;this.hb>=this.Gb&&(this.Gb=this.hb+1);this.kf(this.Xc)},WS:function(){return this.Gb},NK:function(a){this.Kv=this.Gb=a;this.Gb<=this.hb&&(this.hb=this.Gb-1);this.kf(this.Xc)},ji:function(a){a=a.K;a=this.getParent().Da(a);var c=this.Ya();c.cb.width+=
this.Hb.c().width;c.md.x-=this.Hb.c().width/2;return r.bb(c,a)},jn:function(a){a=a.K;a=this.Da(a);0>a.x?a.x=0:a.x>this.$d.c().width&&(a.x=this.$d.c().width);return a},s5:function(){return this.Mv},hba:function(a){this.Mv=a},p5:function(){return this.Kv},gba:function(a){this.Kv=a},LI:function(){return this.Hb},Z5:function(){return this.al},V3:function(){return this.$d},bU:function(a,c,d){return r.Vb.prototype.r.call(this)?(this.ej(!1),this.$b(!0),this.$d=a,this.al=c,this.Hb=d,a=r.Yd.DE(a.Ya(),d.Ya()),
this.W(a.width,a.height),this.$d.M(0.5,0.5),this.$d.n(a.width/2,a.height/2),this.f(this.$d),this.al.M(0,0.5),this.al.n(0,a.height/2),this.f(this.al),this.Hb.n(0,a.height/2),this.f(this.Hb),this.hb=0,this.Gb=1,this.kf(this.hb),!0):!1},Jf:function(a){r.Vb.prototype.Jf.call(this,a);this.Hb&&this.Hb.ja(a?255:128)},bY:function(a){this.kq(!0);this.Hb.l(r.Np());this.kf(this.tE(a))},dY:function(a){this.kf(this.tE(a))},cY:function(){this.dp&&this.kf(this.tE(this.Hb.q));this.Hb.l(r.Ab());this.kq(!1)},V6:function(a){a=
a.K;a=this.Da(a);0>a.x?a.x=0:a.x>this.$d.c().width+r.uF&&(a.x=this.$d.c().width+r.uF);return a},nb:function(a){if(!this.ji(a)||!this.isEnabled()||!this.ma)return!1;a=this.jn(a);this.bY(a);return!0},sd:function(a){a=this.jn(a);this.dY(a)},Hf:function(){this.cY(r.vj())},dd:function(){this.Hb.kb((this.Xc-this.hb)/(this.Gb-this.hb)*this.$d.c().width);var a=this.al.IC(),a=r.rect(a.x,a.y,this.Hb.q.F,a.height);this.al.Ub(a,this.al.ad,a.cb)},tE:function(a){a=a.x/this.$d.c().width;return Math.max(Math.min(this.hb+
a*(this.Gb-this.hb),this.Kv),this.Mv)}});r.PE.create=function(a,c,d){"string"==typeof a&&(a=r.A.create(a),c=r.A.create(c),d=r.A.create(d));var e=new r.PE;e.bU(a,c,d);return e};r.RE=r.Vb.extend({bd:null,rG:0,Kr:!1,$o:!1,ctor:function(){r.Vb.prototype.ctor.call(this)},WC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.r()?(this.$b(!0),this.$o=!0,this.bd=new r.cM,
this.bd.WC(a,c,d,e,f,g),this.bd.n(this.bd.c().width/2,this.bd.c().height/2),this.f(this.bd),this.ej(!1),this.M(0.5,0.5),this.W(this.bd.c()),!0):!1},Ox:function(a,c){var d=(this.$o=a)?this.bd.Xk:this.bd.wm;c?this.bd.Dx(r.Xn.create(0.2,"sliderXPosition",this.bd.Wj,d)):this.bd.XD(d);this.jf(r.ti)},j8:function(){return this.$o},s7:function(){return this.Kr},Jf:function(a){this.mr=a;this.bd.ja(a?255:128)},jn:function(a){a=a.K;return a=this.Da(a)},nb:function(a){if(!this.ji(a)||!this.isEnabled()||!this.ma)return!1;
this.Kr=!1;this.rG=this.jn(a).x-this.bd.Wj;this.bd.Hb.l(r.Np());this.bd.dd();return!0},sd:function(a){a=this.jn(a);a=r.a(a.x-this.rG,0);this.Kr=!0;this.bd.XD(a.x)},Hf:function(a){a=this.jn(a);this.bd.Hb.l(r.Ab());this.Kr?this.Ox(!(a.x<this.bd.c().width/2),!0):this.Ox(!this.$o,!0)},nk:function(a){a=this.jn(a);this.bd.Hb.l(r.Ab());this.Kr?this.Ox(!(a.x<this.bd.c().width/2),!0):this.Ox(!this.$o,!0)}});r.RE.create=function(a,c,d,e,f,g){var h=new r.RE;return h&&h.WC(a,c,d,e,f,g)?h:null};
r.cM=r.A.extend({Wj:0,Xk:0,wm:0,iH:0,KA:0,LA:null,jh:null,Oi:null,Hb:null,xm:null,vm:null,Eo:null,oc:null,Uu:null,ctor:function(){r.A.prototype.ctor.call(this);this.KA=this.wm=this.Xk=this.Wj=0;this.LA=r.size(0,0);this.vm=this.xm=this.Hb=this.Oi=this.jh=null},WC:function(a,c,d,e,f,g){return r.A.prototype.Ma.call(this,a.aa())?(this.Xk=0,this.wm=-c.c().width+e.c().width/2,this.Wj=this.Xk,this.pX(c),this.nX(d),this.ZD(e),this.oX(f),this.mX(g),this.oc=a,a=this.LA=this.oc.c(),this.oc.n(0,0),this.Eo=r.qb.create(),
this.Eo.M(0.5,0.5),this.Eo.n(a.width/2,a.height/2),this.Eo.YD(this.oc),this.Uu=r.Cb.create(a.width,a.height),this.Eo.f(this.Uu.rb),this.f(this.Eo),this.f(this.Hb),this.dd(),!0):!1},dd:function(){this.jh.n(this.jh.c().width/2+this.Wj,this.jh.c().height/2);this.Oi.n(this.jh.c().width+this.Oi.c().width/2+this.Wj,this.Oi.c().height/2);this.xm&&this.xm.n(this.jh.q.x-this.Hb.c().width/6,this.jh.c().height/2);this.vm&&this.vm.n(this.Oi.q.x+this.Hb.c().width/6,this.Oi.c().height/2);this.Hb.n(this.jh.c().width+
this.Wj,this.LA.height/2);this.Uu.dk();this.jh.sa();this.Oi.sa();this.xm&&this.xm.sa();this.vm&&this.vm.sa();this.Uu.end()},XD:function(a){a<=this.wm?a=this.wm:a>=this.Xk&&(a=this.Xk);this.Wj=a;this.dd()},y6:function(){return this.Wj},C9:function(){return this.jh.c().width},A9:function(){return this.Oi.c().height},rE:function(a,c){r.log("key \x3d "+c+", value \x3d "+a);this.XD(a)},qba:function(a){this.Xk=a},J5:function(){return this.Xk},nba:function(a){this.wm=a},D5:function(){return this.wm},eba:function(a){this.oc.ga(a)},
j5:function(){return this.oc.aa()},aca:function(a){this.iH=a},L6:function(){return this.iH},dba:function(a){this.KA=a},i5:function(){return this.KA},pX:function(a){this.jh=a},K5:function(){return this.jh},nX:function(a){this.Oi=a},E5:function(){return this.Oi},ZD:function(a){this.Hb=a},LI:function(){return this.Hb},oX:function(a){this.xm=a},I5:function(){return this.xm},mX:function(a){this.vm=a},C5:function(){return this.vm}});r.KE=0;r.LE=1;r.Gt=2;r.uq=r.k(55,55,55);r.zy=r.k(147,147,147);r.JE="CourierNewPSMT";r.zE=0.15;r.RL=12;
r.QE=r.Vb.extend({Nd:null,vf:null,Wk:null,Zk:null,Xc:0,Zq:!1,qo:!1,Um:!1,hb:0,Gb:0,Jm:0,ms:!1,Pm:r.Gt,Sq:0,ctor:function(){r.Vb.prototype.ctor.call(this);this.Zk=this.Wk=this.vf=this.Nd=null;this.Xc=0;this.Um=this.qo=this.Zq=!1;this.Jm=this.Gb=this.hb=0;this.ms=!1;this.Pm=r.Gt;this.Sq=0},ZT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.r()){this.$b(!0);this.Zq=this.qo=!0;this.hb=0;this.Gb=100;this.Xc=0;this.Jm=1;this.Um=!1;this.ej(!1);this.iX(a);this.Nd.n(a.c().width/2,a.c().height/2);this.f(this.Nd);this.hX(r.T.create("-",r.JE,40,r.size(40,40),r.yj,r.Ku));this.Wk.l(r.zy);this.Wk.n(this.Nd.c().width/2,this.Nd.c().height/2);this.Nd.f(this.Wk);this.tX(c);this.vf.n(a.c().width+c.c().width/2,a.c().height/2);this.f(this.vf);this.sX(r.T.create("+",r.JE,40,r.size(40,40),r.yj,r.Ku));this.Zk.l(r.uq);this.Zk.n(this.vf.c().width/2,
this.vf.c().height/2);this.vf.f(this.Zk);var d=r.Yd.DE(this.Nd.Ya(),this.vf.Ya());this.W(this.Nd.c().width+this.vf.c().height,d.cb.height);return!0}return!1},pca:function(a){if(this.Um=a)this.Wk.l(r.uq),this.Zk.l(r.uq);this.kf(this.Xc)},PK:function(a){if(a>=this.Gb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.hb=a;this.kf(this.Xc)},NK:function(a){if(a<=this.hb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Gb=a;this.kf(this.Xc)},kf:function(a){this.cE(a,!0)},OI:function(){return this.Xc},Vba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Jm=a},U7:function(){return this.Zq},cE:function(a,c){a<this.hb?a=this.Um?this.Gb:this.hb:a>this.Gb&&(a=this.Um?this.hb:this.Gb);this.Xc=a;this.Um||(this.Wk.l(a==this.hb?r.zy:r.uq),this.Zk.l(a==this.Gb?r.zy:r.uq));c&&this.jf(r.ti)},qL:function(){this.Sq=-1;this.Zb(this.update,r.zE,r.bm,3*r.zE)},
sL:function(){this.Tc(this.update)},update:function(){this.Sq++;this.Sq<r.RL&&0!=this.Sq%3||(this.Pm==r.KE?this.cE(this.Xc-this.Jm,this.Zq):this.Pm==r.LE&&this.cE(this.Xc+this.Jm,this.Zq))},DL:function(a){a.x<this.Nd.c().width&&this.Xc>this.hb?(this.Pm=r.KE,this.Nd.l(r.Np()),this.vf.l(r.Ab())):a.x>=this.Nd.c().width&&this.Xc<this.Gb?(this.Pm=r.LE,this.Nd.l(r.Ab()),this.vf.l(r.Np())):(this.Pm=r.Gt,this.Nd.l(r.Ab()),this.vf.l(r.Ab()))},nb:function(a){if(!this.ji(a)||!this.isEnabled()||!this.ma)return!1;
a=this.bj(a);this.DL(a);this.ms=!0;this.qo&&this.qL();return!0},sd:function(a){this.ji(a)?(a=this.bj(a),this.DL(a),this.ms||(this.ms=!0,this.qo&&this.qL())):(this.ms=!1,this.Pm=r.Gt,this.Nd.l(r.Ab()),this.vf.l(r.Ab()),this.qo&&this.sL())},Hf:function(a){this.Nd.l(r.Ab());this.vf.l(r.Ab());this.qo&&this.sL();this.ji(a)&&(a=this.bj(a),this.kf(this.Xc+(a.x<this.Nd.c().width?0-this.Jm:this.Jm)))},iX:function(a){this.Nd=a},u5:function(){return this.Nd},tX:function(a){this.vf=a},U5:function(){return this.vf},
hX:function(a){this.Wk=a},t5:function(){return this.Wk},sX:function(a){this.Zk=a},T5:function(){return this.Zk}});r.QE.create=function(a,c){var d=new r.QE;return d&&d.ZT(a,c)?d:null};r.OE=r.Vb.extend({Hb:null,bp:null,ap:null,Xc:0,hb:0,Gb:1,eU:function(a,c,d){return this.r()?(this.$b(!0),this.xX(c),this.ZD(d),this.Hb.n(c.q),this.f(d,2),this.f(c,1),this.f(a),this.W(a.c()),this.hb=0,this.Gb=1,this.kf(this.hb),!0):!1},Jf:function(a){this.Jf(a);this.Hb!=NULL&&this.Hb.ja(a?255:128)},kf:function(a){a<this.hb&&(a=this.hb);a>this.Gb&&(a=this.Gb);this.Xc=a;a=(a-this.hb)/(this.Gb-this.hb);this.bp.kt(100*a);this.Hb.Rx(360*a);this.jf(r.ti)},OI:function(){return this.Xc},PK:function(a){this.hb=
a;this.hb>=this.Gb&&(this.Gb=this.hb+1);this.kf(this.Gb)},XS:function(){return this.hb},NK:function(a){this.Gb=a;this.Gb<=this.hb&&(this.hb=this.Gb-1);this.kf(this.hb)},WS:function(){return this.Gb},ji:function(a){a=this.bj(a);return this.mS(this.bp.q,a)<Math.min(this.c().width/2,this.c().height/2)},nb:function(a){if(!this.ji(a)||!this.isEnabled()||!this.ma)return!1;this.ap=this.bj(a);this.qV(this.ap);return!0},sd:function(a){a=this.bj(a);this.sV(a)},Hf:function(){this.rV(r.a(0,0))},mS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},kR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},qV:function(){this.kq(!0);this.Hb.l(r.Np())},sV:function(a){var c=this.kR(this.bp.q,a,this.bp.q,this.ap);180<c?c-=360:-180>c&&(c+=360);this.kf(this.Xc+c/360*(this.Gb-this.hb));this.ap=a},rV:function(){this.Hb.l(r.Ab());this.kq(!1)},ZD:function(a){this.Hb=a},LI:function(){return this.Hb},xX:function(a){this.bp=a},a6:function(){return this.bp},Bba:function(a){this.ap=
a},dT:function(){return this.ap}});r.OE.create=function(a,c,d){var e=new r.OE;return e&&(a=r.A.create(a),d=r.A.create(d),c=r.Ec.create(r.A.create(c)),e.eU(a,c,d))?e:null};r.sF=-1;r.ho=0;r.Bq=1;r.uu=2;r.QR=function(a){var c=r.ta.e();return(c.xa+c.Ba)/2*a/160};r.mN=r.Ea.extend({tW:function(){},uW:function(){}});
r.Jh=r.Uc.extend({y1:0,i1:0,g1:0,Xb:null,Hi:r.uu,Ji:!1,wO:null,Ra:null,rh:!1,Iv:null,Lv:null,Uq:!1,Xq:!1,Sr:null,pp:null,ns:0,sh:null,ai:null,GG:0,EG:0,Mr:null,nB:!1,jH:null,ctor:function(){r.Uc.prototype.ctor.call(this);this.wO=new r.Zg(0,0);this.Iv=new r.Zg(0,0);this.Lv=new r.Zg(0,0);this.Sr=new r.Zg(0,0);this.pp=new r.Zg(0,0);this.sh=[];this.ai=new r.Dk(0,0);this.Mr=new r.qg(0,0,0,0);this.jH=new r.qg(0,0,0,0)},r:function(){return this.Sp(r.size(200,200),null)},zx:function(){r.BD(this.il,!1,this)},
Sp:function(a,c){var d=r.a(0,0);return r.Uc.prototype.r.call(this)?(this.Ra=c,this.Ra||(this.Ra=r.Uc.create(),this.Ra.ej(!1),this.Ra.M(d)),this.cL(a),this.$b(!0),this.sh.length=0,this.Xb=null,this.Xq=this.Uq=!0,this.Hi=r.uu,this.Ra.n(d),this.ns=0,this.f(this.Ra),this.GG=this.EG=1,!0):!1},Il:function(a,c){if(c)this.LW(a,0.15);else{if(!this.Uq){var d=this.kn(),e=this.Xs();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ra.n(a)}},BI:function(){var a=this.Ra.q;return r.a(a.x,
a.y)},LW:function(a,c){var d=r.lu.create(c,a),e=r.vq.create(this.BQ,this);this.Ra.Dx(r.wj.create(d,e));this.Zb(this.SA)},hL:function(a,c){if(c)this.PX(a,0.15);else{var d=this.Ra;if(d.EC()!=a){var e,f;0==this.ns?(f=this.ai,f=r.a(0.5*f.width,0.5*f.height),f=this.ml(f)):f=this.pp;e=d.Da(f);d.tk(Math.max(this.GG,Math.min(this.EG,a)));e=d.ml(e);f=r.Dd(f,e);this.Il(r.fg(d.q,f))}}},RI:function(){return this.Ra.EC()},PX:function(a,c){if(0<c){var d=this.Ra.EC();d!=a&&(d=r.Xn.create(c,"zoomScale",d,a),this.Dx(d))}else this.hL(a)},
kn:function(){var a=this.Ra,c=a.c(),d=this.ai;return r.a(d.width-c.width*a.xa,d.height-c.height*a.Ba)},Xs:function(){return r.a(0,0)},i8:function(a){var c=this.BI(),d=this.ai,e=this.RI(),c=r.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return r.EV(c,a.Ya())},pause:function(){this.Ra.rx();for(var a=this.Ra.t,c=0;c<a.length;c++)a[c].rx()},mK:function(){for(var a=this.Ra.t,c=0,d=a.length;c<d;c++)a[c].Cx();this.Ra.Cx()},X7:function(){return this.Ji},A8:function(){return this.rh},Q7:function(){return this.Uq},
FW:function(a){this.Uq=a},h7:function(){return this.ai},cL:function(a){this.ai=a;r.D.prototype.W.call(this,a)},p4:function(){return this.Ra},JW:function(a){a&&(this.rc(!0),this.Ra=a,a.ej(!1),a.M(0,0),this.f(a),this.cL(this.ai))},D4:function(){return this.Hi},CK:function(a){this.Hi=a},gc:function(){return this.Xb},Eh:function(a){this.Xb=a},nb:function(a){if(!this.ma)return!1;var c=this.zA(),d=this.Ra,e=d.ml(d.ci(a)),f=this.sh;if(2<f.length||this.rh||!r.bb(c,e))return!1;f.push(a);1===f.length?(this.pp=
this.ci(a),this.rh=!1,this.Ji=!0,this.Sr.x=0,this.ns=this.Sr.y=0):2==f.length&&(this.pp=r.sD(this.ci(f[0]),this.ci(f[1])),this.ns=r.pD(d.ci(f[0]),d.ci(f[1])),this.Ji=!1);return!0},sd:function(a){if(this.ma)if(1===this.sh.length&&this.Ji){this.rh=!0;var c=this.zA(),d=this.ci(a);a=r.Dd(d,this.pp);var e=0,f=this.Hi,e=f===r.Bq?a.y:f===r.ho?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.rh||!(0.04375>Math.abs(r.QR(e))))if(this.rh||(a.x=0,a.y=0),this.pp=d,this.rh=!0,r.bb(c,this.ml(d))){switch(f){case r.Bq:a.x=
0;break;case r.ho:a.y=0}d=this.Ra.q;c=d.x+a.x;d=d.y+a.y;this.Sr=a;this.Il(r.a(c,d))}}else 2!==this.sh.length||this.Ji||(a=r.pD(this.Ra.ci(this.sh[0]),this.Ra.ci(this.sh[1])),this.hL(this.RI()*a/this.ns))},Hf:function(){this.ma&&(1==this.sh.length&&this.rh&&this.Zb(this.Zz),this.sh.length=0,this.rh=this.Ji=!1)},nk:function(){this.ma&&(this.sh.length=0,this.rh=this.Ji=!1)},W:function(a,c){null!=this.Ra&&(2===arguments.length?this.Ra.W(a,c):this.Ra.W(a),this.vY())},c:function(){return this.Ra.c()},vY:function(){if(null!=
this.Ra){var a=this.ai,c=this.Xs();this.Iv.x=c.x+0.2*a.width;this.Iv.y=c.y+0.2*a.height;c=this.kn();this.Lv.x=c.x-0.2*a.width;this.Lv.y=c.y-0.2*a.height}},S7:function(){return this.Xq},yaa:function(a){this.Xq=a},sa:function(a){if(this.ma){a=a||r.X;var c,d=this.t,e,f;if(r.Fd===r.ng){a.save();this.transform(a);this.VF(a);if(d&&0<d.length){f=d.length;this.Td();for(c=0;c<f;c++)if((e=d[c])&&0>e.fb)e.sa(a);else break;for(this.Wa(a);c<f;c++)d[c].sa(a)}else this.Wa(a);this.TF();a.restore()}else{r.Xp();var g=
this.Qk;g&&g.Tp()&&(g.eC(),this.ly());this.transform(a);this.VF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.fb)e.sa();else break;for(this.Wa(a);c<f;c++)d[c].sa()}else this.Wa(a);this.TF(a);g&&g.Tp()&&g.aC(this);r.Wp()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.fb;d=d||a.qd;a.ej(!1);a.M(0,0);this.Ra!=a?this.Ra.f(a,c,d):r.Uc.prototype.f.call(this,a,c,d)},$b:function(a){this._super(a);a||(this.rh=this.Ji=!1,this.sh.length=0)},c1:function(){return null},
DP:function(a){var c=this.kn(),d=this.Xs(),e=this.Hi,f=this.Ra.q,g=f.x,h=f.y;if(e===r.uu||e===r.ho)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==r.uu||e==r.Bq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Il(r.a(g,h),a)},Zz:function(){if(this.Ji)this.Tc(this.Zz);else{var a,c;a=this.Ra.q;var d=this.Sr;this.Ra.n(a.x+d.x,a.y+d.y);this.Uq?(a=this.Iv,c=this.Lv):(a=this.Xs(),c=this.kn());var e=this.Ra.q.F,f=this.Ra.q.H;d.x*=0.95;d.y*=0.95;this.Il(r.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Tc(this.Zz),this.DP(!0)}},SA:function(){this.Ji&&this.Tc(this.SA)},BQ:function(){this.Tc(this.SA)},VF:function(a){if(this.Xq){this.nB=!1;var c=this.zA(),d=r.ta.e(),e=this.xa,f=this.Ba;a=a||r.X;if(r.Fd===r.ng)c=this.ai.width*e*d.xa,d=this.ai.height*f*d.Ba,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=r.ta.e(),d.pU()){if(this.nB=!0,this.Mr=d.kT(),r.DV(c,this.Mr)){var g=this.Mr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.WD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.WD(c.x,c.y,c.width,c.height)}},TF:function(a){this.Xq&&r.Fd===r.Ek&&(this.nB?(a=this.Mr,r.ta.e().WD(a.x,a.y,a.width,a.height)):(a=a||r.X,a.disable(a.SCISSOR_TEST)))},a1:function(){},zA:function(){for(var a=this.ml(r.vj()),c=this.ai,d=this.xa,e=this.Ba,f=this.Q;null!=f;f=f.getParent())d*=f.xa,e*=f.Ba;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.jH;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});r.Jh.create=function(a,c){var d=new r.Jh;if(2==arguments.length){if(d&&d.Sp(a,c))return d}else if(d&&d.r())return d;return null};r.nN=r.Ea.extend({Nx:function(){},gi:function(){return 0}});r.oN=r.nN.extend({NA:0,ctor:function(){this.NA=0},Nx:function(a){this.NA=a},gi:function(){return this.NA}});function ha(a,c){return a.gi()-c.gi()}
r.vy=r.Ea.extend({nh:null,ctor:function(){this.nh=[]},iJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.hU(a,this.Rp(a))},aW:function(a){if(0!=this.count()){var c=this.Rp(a);c<this.count()&&c!=r.vi&&this.rn(c).gi()==a.gi()&&this.HD(c)}},mba:function(a,c){var d=this.Rp(c);if(d<this.count()&&d!=r.vi){var e=this.rn(d);e.gi()==c.gi()&&(this.HD(d),e.Nx(a),this.iJ(e))}},IJ:function(a){if(0==this.count())return null;var c=new r.oN;c.Nx(a);var d=
this.Rp(c);d<this.count()&&d!=r.vi&&(c=this.rn(d),c.gi()!=a&&(c=null));return c},B5:function(){return null},Rp:function(a){var c=0;if(a){var d=0;a=a.gi();for(var e=this.nh,f=0;f<e.length;f++){var g=e[f].gi();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=r.vi;return c},count:function(){return this.nh.length},S8:function(){var a=this.nh;return 0==a.length?null:a[a.length-1]},rn:function(a){return this.nh[a]},KH:function(a){this.nh.push(a);this.nh.sort(ha)},HD:function(a){r.tq(this.nh,a);this.nh.sort(ha)},
hU:function(a,c){this.nh=r.Wl(this.nh,a,c);this.nh.sort(ha)}});r.wF=0;r.qN=1;r.i0=r.D.extend({Oj:0,Y4:function(){return this.Oj},aX:function(a){this.Oj=a},reset:function(){this.Oj=r.vi},Nx:function(a){this.Oj=a},gi:function(){return this.Oj}});r.k0=r.mN.extend({Zca:function(){},Yca:function(){},$ca:function(){},ada:function(){}});r.j0=r.Ea.extend({mY:function(a){return this.vR(a)},vR:function(){return r.jN},Xca:function(){return null},x9:function(){return 0}});
r.FF=r.Jh.extend({rp:null,wd:null,zo:null,Yz:null,HB:null,Pv:null,Yu:null,Zj:null,ctor:function(){r.Jh.prototype.ctor.call(this);this.Pv=r.sF;this.Yu=[]},JN:function(a){var c=0,d=-1;switch(this.Hi){case r.ho:a=a.x;break;default:a=a.y}for(var e=this.Yu;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},PO:function(a){a={x:a.x,y:a.y};this.rp===r.wF&&(a.y=this.Ra.c().height-a.y);a=this.JN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=r.vi));return a},MN:function(a){switch(this.Hi){case r.ho:a=
r.a(this.Yu[a],0);break;default:a=r.a(0,this.Yu[a])}return a},sP:function(a){var c=this.MN(a);a=this.Yz.mY(this,a);this.rp===r.wF&&(c.y=this.Ra.c().height-c.y-a.height);return c},v1:function(){},LB:function(){var a=r.cm();this.W(a);this.Pv!=this.Hi&&(this.Hi==r.ho?this.Il(r.a(0,0)):this.Il(r.a(0,this.kn().y)),this.Pv=this.Hi)},HG:function(a){this.zo.KH(a);this.Kk.aW(a);r.Vd(this.wd,a.Oj);a.reset();a.getParent()==this.Ra&&this.Ra.removeChild(a,!0)},$v:function(a,c){c.M(0,0);c.n(this.sP(a));c.aX(a)},
RF:function(a){a.getParent()!=this.Ra&&this.Ra.f(a);this.Kk.iJ(a);var c=this.wd;a=a.Oj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},v4:function(){return this.Yz},PW:function(a){this.Yz=a},gc:function(){return this.HB},Eh:function(a){this.HB=a},mca:function(a){this.rp!=a&&(this.rp=a,0<this.Kk.count()&&this.GD())},e7:function(){return this.rp},Sp:function(a,c){return r.Jh.prototype.Sp.call(this,a,c)?(this.Kk=new r.vy,this.zo=new r.vy,this.wd=[],this.HB=null,this.rp=r.qN,this.CK(r.Bq),
r.Jh.prototype.Eh.call(this,this),!0):!1},tda:function(a){if(!(a==r.vi||-1<a)){var c=this.hC(a);c&&this.HG(c);c=null;this.$v(a,c);this.RF(c)}},G7:function(a){if(!(a==r.vi||-1<a)){var c,d=this.Kk;if(c=d.IJ(a))for(var e=c=d.Rp(c);e<d.count();e++)c=d.rn(e),this.$v(c.Oj+1,c);c=null;this.$v(a,c);this.RF(c);this.LB()}},K$:function(a){if(!(a==r.vi||-1<a)){var c=this.hC(a);if(c){var d=this.Kk,e=d.Rp(c);this.HG(c);r.Vd(this.wd,a);for(a=d.count()-1;a>e;a--)c=d.rn(a),this.$v(c.Oj-1,c)}}},GD:function(){this.Pv=
r.sF;for(var a=this.Kk,c=this.zo,d=this.Ra,e=0,f=a.count();e<f;e++){var g=a.rn(e);c.KH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.wd=[];this.Kk=new r.vy;this.LB()},U2:function(){if(0===this.zo.count())return null;var a=this.zo.rn(0);this.zo.HD(0);return a},hC:function(a){return-1==this.wd.indexOf(a)?null:this.Kk.IJ(a)},tW:function(){},uW:function(){},Hf:function(a,c){if(this.ma){if(this.Zj){var d=this.Ya();d.md=this.Q.ml(d.origin);this.Zj=null}r.Jh.prototype.Hf.call(this,a,c)}},nb:function(a,
c){if(!this.ma)return!1;var d=r.Jh.prototype.nb.call(this,a,c);if(1===this.sh.length){var e;e=this.Ra.ci(a);e=this.PO(e);this.Zj=e===r.vi?null:this.hC(e)}else this.Zj&&(this.Zj=null);return d},sd:function(a,c){r.Jh.prototype.sd.call(this,a,c);this.Zj&&this.rh&&(this.Zj=null)},nk:function(a,c){r.Jh.prototype.nk.call(this,a,c);this.Zj&&(this.Zj=null)}});r.FF.create=function(a,c,d){var e=new r.FF;e.Sp(c,d);e.PW(a);e.LB();return e};r.jc={};r.jc.HH=function(a){for(var c in r.jc.kD)a[c]=r.jc.kD[c]};
r.jc.kD={n:function(a,c){2==arguments.length?(this.q.F=a,this.q.H=c):(this.q.F=a.x,this.q.H=a.y);this.Xa();this.na.nE(this.q.F,-this.q.H)},ed:function(a){this.q.H=a;this.Xa();this.na.nE(this.q.F,-this.q.H)},kb:function(a){this.q.F=a;this.Xa();this.na.nE(this.q.F,-this.q.H)},tk:function(a,c){this.xa=a;this.Ba=c||a;this.Xa();this.na.resize(this.xa,this.Ba)},jq:function(a){this.xa=a;this.Xa();this.na.resize(this.xa,this.Ba)},Jn:function(a){this.Ba=a;this.Xa();this.na.resize(this.xa,this.Ba)},M:function(a,
c){var d=this.Lh;if(2===arguments.length){if(a===d.F&&c===d.H)return;d.F=a;d.H=c}else{if(a.x===d.F&&a.y===d.H)return;d.F=a.x;d.H=a.y}var e=this.Ld,f=this.wa;e.F=f.Ha*d.F;e.H=f.va*d.H;this.na.style[r.Pb.eq+"TransformOrigin"]=""+e.F+"px "+-e.H+"px";this.Tk?(this.na.style.marginLeft=0,this.na.style.marginBottom=0):(this.na.style.marginLeft=this.y8?0:-e.F+"px",this.na.style.marginBottom=-e.H+"px");this.Xa()},W:function(a,c){var d=this.wa;if(2===arguments.length){if(a===d.Ha&&c===d.va)return;d.Ha=a;d.va=
c}else{if(a.width===d.Ha&&a.height===d.va)return;d.Ha=a.width;d.va=a.height}var e=this.Ld,f=this.Lh;e.F=d.Ha*f.F;e.H=d.va*f.H;this.na.width=d.Ha;this.na.height=d.va;this.M(this.Lh);this.canvas&&(this.canvas.width=d.Ha,this.canvas.height=d.va);this.Xa();this.FV()},Rx:function(a){this.SP!=a&&(this.Cg=this.Uh=a,this.Cm=Math.PI/180*this.Cg,this.Rr=Math.PI/180*this.Uh,this.Xa(),this.na.rotate(a))},Vx:function(a){this.je=a;this.Xa();this.na.XK(this.je,this.ke)},Wx:function(a){this.ke=a;this.Xa();this.na.XK(this.je,
this.ke)},v:function(a){this.ma=a;this.Xa();this.na&&(this.na.style.display=a?"block":"none")},cw:function(a){this.fb=a;this.Xa();this.na&&(this.na.zIndex=a)},jt:function(a){this.Q=a;null!==a&&(a.M(a.Lh),this.Xa(),r.jc.qx(this))},Cx:function(){this.Df().Dn(this);this.Ig().Dn(this);this.na&&!this.na.parentNode&&(this.getParent()?r.jc.qx(this):this.na.Zm(r.fk));this.na&&(this.na.style.visibility="visible")},rx:function(){this.Df().at(this);this.Ig().at(this);this.na&&(this.na.style.visibility="hidden")},
$f:function(){this.iE();this.tt();this.tg(this.t,r.D.Nf.$f);this.na&&this.na.remove()},XV:function(){this.na.remove()},ja:function(a){this.Pi=a;this.na.style.opacity=a/255},FV:function(){if(this.fD){var a=this.t;this.t=[];r.A.prototype.sa.call(this,this.Bp);this.t=a}else r.A.prototype.sa.call(this,this.Bp)}};
r.jc.OP=function(){var a=r.Pb("#EGLViewDiv");if(a){var c=r.ta.e(),d=c.Gp(),e=c.bf,f=c.Vw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.cb.width;0===e.cb.width&&0===e.cb.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.xa,c.Ba);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
r.jc.qx=function(a){var c=a.getParent();if(c&&a.na)if(c.na||(r.jc.kV(c),c.jt=r.jc.kD.jt),a.na.Zm(c.na),c.M(c.Lh),c.getParent())r.jc.qx(c);else if(c.Ve)if(a=r.Pb("#EGLViewDiv"))c.na.Zm(a);else{a=r.xk("div");a.id="EGLViewDiv";var d=r.ta.e(),e=d.Gp(),f=d.bf,g=d.Vw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.cb.width;0===f.cb.width&&0===f.cb.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.xa,d.Ba);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.na.Zm(a);a.Zm(r.fk)}};r.jc.setTransform=function(a){if(a.Bp)if(a.Bp.translate(a.Ld.x,a.Ld.y),a.fD){var c=a.t;a.t=[];r.A.prototype.sa.call(a,a.Bp);a.t=c}else r.A.prototype.sa.call(a,a.Bp);a.na&&(a.na.position.x=a.q.x,a.na.position.y=-a.q.y,a.na.rotation=a.hT(),a.na.scale={x:a.xa,y:a.Ba},a.na.Ml={x:a.je,y:a.ke},a.M&&a.M(a.Lh),a.na.Rn())};
r.jc.DS=function(a){a.na=r.xk("div");a.canvas=r.xk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.na.style.position="absolute";a.na.style.bottom=0;a.Bp=a.canvas.getContext("2d");a.na.appendChild(a.canvas);a.getParent()&&r.jc.qx(a);a.fD=!0};
r.jc.kV=function(a){a.na=r.xk("div");a.placeholder=!0;a.na.style.position="absolute";a.na.style.bottom=0;a.na.style.width=(a.c().width||r.Y.e().Sb.width)+"px";a.na.style.maxHeight=(a.c().height||r.Y.e().Sb.height)+"px";a.na.style.margin=0;r.jc.setTransform(a);a.na.Rn();r.jc.HH(a)};
r.jc.mC=function(a){if(1<arguments.length)r.jc.mC(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof r.A?c[d].na||r.jc.DS(c[d]):r.log("DOM converter only supports sprite and menuitems yet"),r.jc.HH(c[d]),c[d].sa=function(){},c[d].transform=function(){},r.jc.setTransform(c[d]),c[d].v(c[d].ma);else r.jc.mC([arguments[0]])};r.AM=0;r.XZ=1;r.$Z=2;r.ZZ=3;r.YZ=4;r.pM=0;r.BZ=1;r.CZ=2;r.DZ=3;r.FZ=4;r.AZ=5;r.EZ=6;r.nM=0;r.oM=1;r.zZ=2;r.yZ=3;r.xZ=4;r.IZ=r.Ea.extend({Ow:function(){},Pw:function(){},Qw:function(){},i3:function(){}});
r.zq=r.Zl.extend({Ii:null,Xb:null,EO:r.pM,DO:r.oM,fP:r.AM,r1:"",Ri:"",lw:null,Nr:null,CG:50,WN:18,ab:null,jr:14,kA:"Arial",lA:!1,TA:"",Sv:14,s1:!1,ctor:function(a,c){r.Zl.prototype.ctor.call(this);this.lA=!1;this.lw=r.Ab();this.Nr=r.Np();this.W(a);this.Ii=new r.A;this.Ii.Wa=function(){};this.f(this.Ii);var d=this;c?(this.ab=document.createElement("textarea"),this.ab.style.resize="none",this.lA=!0):this.ab=document.createElement("input");this.ab.type="text";this.ab.style.fontSize=this.jr+"px";this.ab.style.color=
"#000000";this.ab.style.border=0;this.ab.style.background="transparent";this.ab.style.width="100%";this.ab.style.height="100%";this.ab.style.z1=0;this.ab.style.outline="medium";this.ab.addEventListener("input",function(){d.Xb&&d.Xb.Qw&&d.Xb.Qw(d,this.value)});this.ab.addEventListener("keyup",function(a){a.keyCode===r.zM.yS&&!1==d.lA&&(a.stopPropagation(),a.preventDefault(),r.canvas.focus())});this.ab.addEventListener("focus",function(){this.value==d.Ri&&(this.value="",this.style.fontSize=d.jr+"px",
this.style.color=r.ll(d.lw));d.Xb&&d.Xb.Ow&&d.Xb.Ow(d)});this.ab.addEventListener("blur",function(){""==this.value&&(this.value=d.Ri,this.style.fontSize=d.Sv+"px",this.style.color=r.ll(d.Nr));d.Xb&&d.Xb.Pw&&d.Xb.Pw(d)});r.jc.mC(this.Ii);this.Ii.na.appendChild(this.ab);this.Ii.na.uca=!1;this.Ii.na.style.width=a.width-6+"px";this.Ii.na.style.height=a.height-6+"px";this.Ii.canvas.remove()},Maa:function(a,c){this.jr=c;this.kA=a;this.qB()},nca:function(){},YW:function(a){this.kA=a;this.qB()},HK:function(a){this.jr=
a;this.qB()},qB:function(){this.ab.value!=this.Ri&&(this.ab.style.fontFamily=this.kA,this.ab.style.fontSize=this.jr+"px")},Ie:function(a){null!=a&&(""==a?(this.ab.value=this.Ri,this.ab.style.color=r.ll(this.Nr)):(this.ab.value=a,this.ab.style.color=r.ll(this.lw)))},XW:function(a){this.lw=a;this.ab.value!=this.Ri&&(this.ab.style.color=r.ll(a))},fba:function(a){!isNaN(a)&&0<a&&(this.CG=a,this.ab.maxLength=a)},k5:function(){return this.CG},vba:function(a){if(null!=a){var c=this.Ri;this.Ri=a;this.ab.value==
c&&(this.ab.value=a,this.ab.style.color=r.ll(this.Nr),this.aw())}},wba:function(a,c){this.TA=a;this.Sv=c;this.aw()},yba:function(a){this.TA=a;this.aw()},zba:function(a){this.Sv=a;this.aw()},aw:function(){this.ab.value==this.Ri&&(this.ab.style.fontFamily=this.TA,this.ab.style.fontSize=this.Sv+"px")},xba:function(a){this.Nr=a;this.ab.value==this.Ri&&(this.ab.style.color=r.ll(a))},Lx:function(a){this.DO=a;this.ab.type=a==r.nM?"password":"text"},V:function(){return this.ab.value},aU:function(a,c){return this.aJ(c)?
(this.Ii.n(3,3),this.OX(!1),this.sk(a),this.n(0,0),this.SF(this,this.oY,r.GE),!0):!1},Eh:function(a){this.Xb=a},S5:function(){return this.Ri},Uaa:function(a){this.EO=a},Nba:function(a){this.fP=a},M8:function(a){var c=r.zq.ue(this);c.y-=4;c.K7(a.end)?this.WN=a.end.o5()-c.r5():r.log("needn't to adjust view layout.")},K8:function(){},L8:function(){},J8:function(){},oY:function(){},lC:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},kW:function(a,c,d){return"#"+this.lC(a)+this.lC(c)+this.lC(d)},
vK:function(a){this.ab.style.background=this.kW(a.p,a.o,a.g)},B7:function(a,c){this.CO=a.width;this.na.style.width=this.CO.toString()+"px";this.BO=a.height;this.na.style.height=this.BO.toString()+"px";this.na.style.backgroundColor=r.ll(c)}});r.zq.ue=function(a){var c=a.c(),c=r.rect(0,0,c.width,c.height);return r.$g(c,a.Ys())};r.zq.create=function(a,c,d,e,f){d=new r.zq(a,d);c instanceof r.Dc?d.vK(c):d.aU(a,c)&&(e&&d.Kx(e,r.IE),f&&d.Kx(f,r.HE));return d};var t=[],ka=new XMLHttpRequest;ka.open("GET","config.txt",!1);ka.send(null);var ma=ka.responseText,na=ma.split("\n")[0],qa=ma.split("\n")[1];qa&&(na+=":"+qa);var sa=io.connect(na,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});sa.on("connect",function(){v.Fy();v.pN();console.log("Client has connected to the server!");if(w){var a=w.e().rd;a?a.Kn(!0):t.push(JSON.stringify({connect:!0}))}else t.push(JSON.stringify({connect:!0}))});sa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&v.EL(a.mapdata,a.maptime),a.warpdata&&v.py(a.warpdata,a.warptime),a.itemdata&&v.vt(a.itemdata,a.itemtime),a.skillsdata&&v.qE(a.skillsdata,a.skillstime),a.signsdata&&v.oy(a.signsdata,a.signstime),a.npcsdata&&v.FL(a.npcsdata,a.npcstime),a.questdata&&v.oE(a.questdata,a.queststime),a.settingsdata&&(v.pE(a.settingsdata,a.settingstime),y=ta(y,
a.settingsdata)),a.scriptsdata&&v.JL(a.scriptsdata,a.scriptstime),ua=!0;else if(c=w.e().rd)if(a.connect?c.Kn(!0):a.disconnect&&c.Kn(!1),"Game"==c.Oc())if(a.newPlayer)A.dR({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)A.hi(a.playerLeft).eg==A.B.ba.eg&&(MapMaster=!1),A.eI(a.playerLeft);else if(a.setTo)if(!A.hi(a.id)||A.hi(a.id)&&!1==A.hi(a.id).Pg){for(c=0;c<t.length;c++)d=JSON.parse(t[c]),d.moveTo&&null!=d.moveTo&&d.id==a.id&&(t.splice(c,1),c--);A.pV({id:a.id,
location:{position:a.position,mapnumber:a.mapnumber}});A.hi(a.id).eg==A.B.ba.eg&&(MapMaster=!1);A.zR(a.id,a.mapnumber)}else t.push(JSON.stringify(a));else a.moveTo?!A.hi(a.id)||A.hi(a.id)&&!1==A.hi(a.id).Pg?A.IU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):t.push(JSON.stringify(a)):a.chatMessage?B.Ob(a.chatMessage):a.coinflip?B.Ob(a.coinflip):a.diceroll?B.Ob(a.diceroll):a.dance?B.Ob(a.dance):a.afk?A.AR(a.afk):a.savemap?(v.xR(a.savemap,a.mapdata,a.updatetime),E.SX(a.mapdata)):a.mapmaster?
MapMaster=!0:a.savewarps?(v.GR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.en()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.Nc=ObjectLists.en(),Warpeditor.ea())):a.savewarpswhole?(v.MV(a.savewarpswhole,a.updatetime),ObjectLists.NX(a.savewarpswhole)):a.savescripts?(v.CR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Jg()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.Nc=ObjectLists.Jg(),Scripteditor.ea())):a.savescriptswhole?(v.JV(a.savescriptswhole,
a.updatetime),ObjectLists.CX(a.savescriptswhole)):a.savesettings?(v.pE(a.savesettings,a.updatetime),y=ta(y,a.savesettings),Settingseditor&&(Settingseditor.data=za(y),Settingseditor.Jb())):a.savequests?(v.BR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Hs()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Nc=ObjectLists.Hs(),Questeditor.ea())):a.savequestswhole?(v.IV(a.savequestswhole,a.updatetime),ObjectLists.yX(a.savequestswhole)):a.saveskills?(v.ER(parseInt(a.saveskills),
a.skillsdata,a.updatetime),ObjectLists.pc()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Nc=ObjectLists.pc(),Skillseditor.ea()),G.update(),Skills&&Skills.Qa()):a.saveskillswhole?(v.LV(a.saveskillswhole,a.updatetime),ObjectLists.EX(a.saveskillswhole),G.update(),Skills&&Skills.Qa()):a.savesigns?(v.DR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.Is()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Nc=ObjectLists.Is(),Signeditor.ea())):a.moveNPC?(a.npcID=
parseInt(a.npcID),!A.Ip(a.npcID)||A.Ip(a.npcID)&&!1==A.Ip(a.npcID).Pg?A.HU(a.npcID,a.moveNPC,a.mapnumber):t.push(JSON.stringify(a))):a.changeNPCPosition?A.Ip(a.npcID)&&(a.npcID=parseInt(a.npcID),A.Ip(a.npcID)&&!1==A.Ip(a.npcID).Pg?A.dW(a.npcID,a.changeNPCPosition):t.push(JSON.stringify(a))):a.savesignswhole?(v.KV(a.savesignswhole,a.updatetime),ObjectLists.DX(a.savesignswhole)):a.savenpcs?(v.yR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.ql()[parseInt(a.savenpcs)]=a.npcsdata,E.cj(E.Yc(),
!0),NPCeditor&&(NPCeditor.Nc=ObjectLists.ql(),NPCeditor.ea())):a.savenpcswhole?(v.HV(a.savenpcswhole,a.updatetime),ObjectLists.jX(a.savenpcswhole),E.cj(E.Yc(),!0),NPCeditor&&(NPCeditor.Nc=ObjectLists.ql(),NPCeditor.ea())):a.saveitems?(v.wR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.se()[parseInt(a.saveitems)].name,ObjectLists.se()[parseInt(a.saveitems)]=a.itemdata,E.cj(E.Yc()),Itemeditor&&(Itemeditor.Nc=ObjectLists.se(),Itemeditor.ea()),Inventory&&Inventory.Qa(),A.B.ba.vt(c,a.itemdata)):
a.droppeditem?a.mapnumber==E.Yc()&&!1==E.e().Og?(c=E.MI(a.index),c.$Q(a.droppeditem),E.xt()):t.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==E.Yc()&&(c=E.MI(a.pickupitem),c.uD(),E.xt()):a.saveitemswhole?(v.GV(a.saveitemswhole,a.updatetime),ObjectLists.bX(a.saveitemswhole)):a.savesuccess&&c.FS();else"Login"==c.Oc()&&(a.login_success?c.NU(a.login_success):a.login_fail?c.nx(a.login_fail):a.registrationsuccess?c.NR():a.registrationfailed&&c.AS(a.registrationfailed));else t.push(JSON.stringify(a))};
sa.on("disconnect",function(){console.log("The client has disconnected!");var a=w.e().rd;a?a.Kn(!1):t.push(JSON.stringify({disconnect:!0}))});function H(a){sa.send(JSON.stringify(a))};var I=Object.freeze({re:{S2:"C to popup/dismiss, enter for chat. Say /help for help.",L7:"Welcome to the Powder Engine! Enter /help for some help.",TT:"-------HELP------",ST:" - Press C to expand the chat, I for Inventory",RT:" - Space to grab Items and E for Equipment.",QT:" - Enter /commands for command list",PT:"-------------------",MR:"Commands:  /editskill, /editsign, /editnpc,",LR:" - /editmap, /editwarp, /edititem,",KR:" - /dance, /coinflip, /diceroll, /afk",JR:"--------------------",lV:" has joined the game!",
i$:" has left the game!",sx:"Picked up ",tS:"Dropped ",lJ:"Your inventory is full"}});var Aa={},Ba=r.Jd.e();r.sj.e();Ba.WK(["res/Graphics"]);ka=new XMLHttpRequest;ka.open("GET","res/Graphics/tile_graphics.txt",!1);ka.send(null);var ma=ka.responseText,Ea=ma.split(","),J=[],Fa;for(Fa in Ea)J.push({name:Ea[Fa],texture:r.ia.e().ra(Ea[Fa])});var ua=!1,ka=new XMLHttpRequest;ka.open("GET","res/Graphics/character_graphics.txt",!1);ka.send(null);var ma=ka.responseText,Ea=ma.split(","),K=[];for(Fa in Ea)K.push({name:Ea[Fa],texture:r.ia.e().ra(Ea[Fa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();Aa[a.keyCode]=!0};window.onbeforeunload=function(){H({disconnect:!0})};window.onfocus=function(){for(var a=[],c=t.length-1;0<=c;c--){var d=JSON.parse(t[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,t[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&t.splice(c,1)}};var N=r.h(255,255,255,255),Ga=r.h(0,255,0,255),Ha=r.h(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){Aa[a.keyCode]=!1;if(null!=w.e().rd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&w.e().rd.Bl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var y={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function O(a,c){return(a.vJ&&a.ma||!a.vJ)&&r.bb(r.rect(a.q.F,a.q.H,a.c().width,a.c().height),c)}function za(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?za(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ia(a,c){var d=c?a:a.Pc();return Ma(d,"panels")}function Na(){P.Rc(function(){})}
function Ma(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.oU?d=Oa.Fy(c.nY):"undefined"!=typeof c.u?(d=c.size?c.size:r.size(100,100),d=r.ca.create(c.u,d.width,d.height)):d="undefined"!=typeof c.fD?r.A.create():"undefined"!=typeof c.Z?r.A.ib(r.ia.e().ra(c.Z)):"undefined"!=typeof c.label?r.T.create(c.label,c.font?c.J3:"Arial",c.fontSize?c.fontSize:14):r.D.create();"undefined"!=typeof c.size&&d.W(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.n(r.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.v(c.visible);"undefined"!=typeof c.d&&d.M(c.d);"undefined"!=typeof c.opacity&&d.ja(c.opacity);"undefined"!=typeof c.color&&(d.l||console.log(c),d.l(c.color));if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ma(a,e,c.children),d.f(d[e]);return d}r.size(960,640);var Q=r.size(1600,1600),Pa=Math.floor(Q.height/32),S=Math.floor(Q.width/32);function T(a,c){return parseInt(S*(Pa-c))+parseInt(a)}
function ta(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d};var v=r.Ea.extend({B:null,yb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},qk:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),V=null;v.Fy=function(){V||(V=new v);return V};v.e=function(){return V};v.rX=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};v.bT=function(){return s.localStorage.getItem("panelStore")};
v.SS=function(a){if(V.yb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};v.EL=function(a,c){V.qk("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};v.xR=function(a,c,d){var e=V.yb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;v.EL(e,d)};v.ff=function(){if(V.yb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
v.JL=function(a,c){V.qk("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};v.CR=function(a,c,d){var e=V.yb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;v.JL(e,d)};v.JV=function(a,c){scriptarray=a;v.py(scriptarray,c)};v.wT=function(){if(V.yb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
v.py=function(a,c){V.qk("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};v.GR=function(a,c,d){var e=V.yb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;v.py(e,d)};v.MV=function(a,c){warparray=a;v.py(warparray,c)};v.QS=function(){if(V.yb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
v.vt=function(a,c){V.qk("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};v.wR=function(a,c,d){var e=V.yb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;v.vt(e,d)};v.GV=function(a,c){itemsarray=a;v.vt(itemsarray,c)};v.nT=function(){if(V.yb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
v.qE=function(a,c){V.qk("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};v.ER=function(a,c,d){var e=V.yb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;v.qE(e,d)};v.LV=function(a,c){skillarray=a;v.qE(skillarray,c)};v.lT=function(){if(V.yb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
v.oy=function(a,c){V.qk("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};v.DR=function(a,c,d){var e=V.yb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;v.oy(e,d)};v.KV=function(a,c){signarray=a;v.oy(signarray,c)};v.YS=function(){if(V.yb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
v.FL=function(a,c){V.qk("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};v.yR=function(a,c,d){var e=V.yb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;v.FL(e,d)};v.HV=function(a,c){npcsarray=a;v.oy(npcsarray,c)};v.fT=function(){if(V.yb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
v.oE=function(a,c){V.qk("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};v.BR=function(a,c,d){var e=V.yb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;v.oE(e,d)};v.IV=function(a,c){questsarray=a;v.oE(questsarray,c)};v.FC=function(){if(V.yb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
v.pE=function(a,c){V.qk("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
v.hZ=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
v.pN=function(){H({sync:!0,mapupdate:null!=V.yb("maps")?V.yb("maps"):2,warpupdate:null!=V.yb("warps")?V.yb("warps"):2,itemupdate:null!=V.yb("items")?V.yb("items"):2,skillsupdate:null!=V.yb("skills")?V.yb("skills"):2,signsupdate:null!=V.yb("signs")?V.yb("signs"):2,npcsupdate:null!=V.yb("npcs")?V.yb("npcs"):2,questsupdate:null!=V.yb("quests")?V.yb("quests"):2,settingsupdate:null!=V.yb("settings")?V.yb("settings"):2,scriptsupdate:null!=V.yb("scripts")?V.yb("scripts"):2})};
v.eX=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};v.TS=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};v.AX=function(a,c){s.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};v.uK=function(a){s.localStorage.setItem("autologin",JSON.stringify(a))};v.nJ=function(){var a=s.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
v.tJ=function(){return s.localStorage.getItem("savedcredentials")?!0:!1};v.rT=function(){var a=s.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=r.Jh.extend({vl:null,m:null,Gw:null,mx:!1,qi:null,Gn:null,tL:null,GD:function(){if(this.m){this.Gn&&(this.Gn.J(),this.qi.J());var a=this.m.Qd();a.height<this.m.c().height&&(a=this.m.c(),this.mx=!0);this.vl=[];for(var c=0,d=0;d<this.m.Cd();d++){var e=this.m.ve(d),c=c+e.height;this.vl[d]=r.D.create();this.vl[d].W(e);this.vl[d].n(r.a(0,a.height-c));this.vl[d].M(r.a(0,1));this.f(this.vl[d]);this.vl[d].f(this.m.te(d))}this.mq(-300);this.bE(0);!1==this.mx&&(this.Gn=r.ca.create(r.h(0,0,0,255),1,
this.m.c().height),this.Gn.n(r.a(this.m.c().width+20,0)),this.qi=r.ca.create(r.h(90,90,255,255),20,this.m.c().height/5),this.qi.n(r.a(this.m.c().width+10,0)),this.m.f(this.Gn),this.m.f(this.qi),this.Il(r.a(0,this.Xs().y),!1));this.m.n(this.tL)}},r:function(a){this.m=a;this.M(r.a(0,0));this.tL=r.a(a.q.F,a.q.H);this.Sp(this.m.c(),this.m);this.CK(r.Bq);this.FW(!1);a=this.m.Qd();var c=r.D.create();c.W(a);this.JW(c)},He:function(a){this.Gw=a},MD:!1,Jx:null,Cc:function(a){if(!this.m.$i)return!1;for(var c=
0;c<this.m.Cd();c++)this.m.$i(c).l(r.h(255,255,255,255));this.m.$i(a).l(r.h(255,0,0,255))},nb:function(a){for(var c=a.K,d=0;d<this.m.Cd();d++)for(var e in this.Gw[d]){var f=this.vl[d].Da(c),g=this.m.Da(c);g.x+=this.m.q.F;O(this.m,g);if(O(this.Gw[d][e],f))return this.m.yc(this.Gw[d][e].vc,d,a),this.MD=!0}if(!1==this.mx){a=this.m.Da(c);if(O(this.qi,a))return this.Jx=a.y-this.qi.q.H,!0;console.log("TURNING OFF SCROLOL");this.Jx=null}},sd:function(a){if(!0==this.MD)return this.MD=!1;if(!1==this.mx){var c=
a.K;if(null!=this.Jx&&(c=this.m.Da(c),c.y-=this.Jx,0<=c.y&&c.y+this.qi.c().height<=this.m.c().height))return a=c.y/(this.Gn.c().height-this.qi.c().height),this.Il(r.a(0,this.kn().y*a),!1),this.qi.ed(c.y),!0;c=this._super(a);a=this.BI().y/this.kn().y;this.qi.ed((this.Gn.c().height-this.qi.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.r(a);c.GD();return c};var Oa=r.D.extend({xe:null,ye:null,ze:null,De:null,Ee:null,Rd:null,item:null,me:null,ne:null,pe:null,oe:null,position:null,lf:null,type:null,ob:null,ctor:function(){this._super()},r:function(){this._super();this.lf=r.T.create("","Arial",16);this.lf.M(0.5,0.5);this.lf.n(16,-16);this.lf.ja(0);this.lf.l(r.k(0,0,0));this.f(this.lf,900);this.item=[];this.ob=[];this.nj(0)},$Q:function(a){this.rk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.se().length;c++)if(a.name==ObjectLists.se()[c].name){this.Ux({id:c,
data:{amount:a.amount}},!0);break}this.nj(4)},uD:function(){this.ob[this.ob.length-1].temp&&(this.item[this.item.length-1].J(),this.item.splice(this.item.length-1,1),this.nV())},rk:function(a,c,d){a=r.A.ib(r.ia.e().ra(a));a.Ub(r.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.l(r.h(255,255,255,255));a.M(0,1);switch(d){case "ground1":null!=this.xe&&this.xe.J();this.xe=a;this.f(this.xe);break;case "ground2":null!=this.ye&&this.ye.J();this.ye=a;this.f(this.ye,1);break;case "groundShadow":null!=
this.ze&&this.ze.J();this.ze=a;this.f(this.ze,2);break;case "mask1":null!=this.De&&this.De.J();this.De=a;this.f(this.De,3);break;case "mask2":null!=this.Ee&&this.Ee.J();this.Ee=a;this.f(this.Ee,4);break;case "mask3":null!=this.Rd&&this.Rd.J();this.Rd=a;this.f(this.Rd,5);break;case "item":this.item.push(a);this.f(this.item[this.item.length-1],6);break;case "fringe1":null!=this.me&&this.me.J();this.me=a;this.f(this.me,7);break;case "fringe2":null!=this.ne&&this.ne.J();this.ne=a;this.f(this.ne,8);break;
case "fringeShadow":null!=this.pe&&this.pe.J();this.pe=a;this.f(this.pe,9);break;case "fringe3":null!=this.oe&&this.oe.J(),this.oe=a,this.f(this.oe,10)}},Ng:function(){var a=!0;if(null!=this.xe&&this.xe.aa()&&!1==this.xe.aa().tc)a=!1;else if(null!=this.ye&&this.ye.aa()&&!1==this.ye.aa().tc)a=!1;else if(null!=this.ze&&this.ze.aa()&&!1==this.ze.M6)a=!1;else if(null!=this.De&&this.De.aa()&&!1==this.De.aa().tc)a=!1;else if(null!=this.Ee&&this.Ee.aa()&&!1==this.Ee.aa().tc)a=!1;else if(null!=this.Rd&&this.Rd.aa()&&
!1==this.Rd.aa().tc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].aa()&&!1==this.item[c].aa().tc&&(a=!1);else null!=this.me&&this.me.aa()&&!1==this.me.aa().tc?a=!1:null!=this.ne&&this.ne.aa()&&!1==this.ne.aa().tc?a=!1:null!=this.pe&&this.pe.aa()&&!1==this.pe.aa().tc?a=!1:null!=this.oe&&this.oe.aa()&&!1==this.oe.aa().tc&&(a=!1);return a},Ad:function(){null!=this.xe&&this.xe.J();this.xe=null;null!=this.ye&&this.ye.J();this.ye=null;null!=this.ze&&this.ze.J();this.ze=null;null!=
this.De&&this.De.J();this.De=null;null!=this.Ee&&this.Ee.J();this.Ee=null;null!=this.Rd&&this.Rd.J();this.Rd=null;for(var a=0;a<this.item.length;a++)this.item[a].J();this.item=[];this.Rd=null;null!=this.me&&this.me.J();this.me=null;null!=this.ne&&this.ne.J();this.ne=null;null!=this.pe&&this.pe.J();this.pe=null;null!=this.oe&&this.oe.J();this.oe=null;this.nj(0);this.ob=[];this.item=[]},qC:function(a){switch(a){case "ground1":null!=this.xe&&this.xe.J();this.xe=null;break;case "ground2":null!=this.ye&&
this.ye.J();this.ye=null;break;case "groundShadow":null!=this.ze&&this.ze.J();this.ze=null;break;case "mask1":null!=this.De&&this.De.J();this.De=null;break;case "mask2":null!=this.Ee&&this.Ee.J();this.Ee=null;break;case "mask3":null!=this.Rd&&this.Rd.J();this.Rd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].J(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.me&&this.me.J();this.me=null;break;case "fringe2":null!=this.ne&&this.ne.J();this.ne=null;break;
case "fringeShadow":null!=this.pe&&this.pe.J();this.pe=null;break;case "fringe3":null!=this.oe&&this.oe.J(),this.oe=null}},nj:function(a){this.type=a;switch(this.type){case 0:this.lf.fa("");break;case 1:this.lf.fa("BLK");break;case 2:this.lf.fa("SPW");break;case 3:this.lf.fa("WRP");break;case 4:this.lf.fa("ITM");break;case 5:this.lf.fa("NPC");break;case 6:this.lf.fa("SKL");break;case 7:this.lf.fa("SGN")}},Ux:function(a,c){c||(c=!1);this.ob.push({num:parseInt(a.id),data:a.data,temp:c})},nV:function(){this.ob.splice(this.ob.length-
1,1);0==this.ob.length&&this.nj(0)},Mp:function(){return this.ob[this.ob.length-1]},Lp:function(){switch(this.type){case 3:return ObjectLists.en()[this.ob[this.ob.length-1].num];case 4:var a=ObjectLists.se()[this.ob[this.ob.length-1].num];a.amount=parseInt(this.ob[this.ob.length-1].data.amount);return a;case 7:return ObjectLists.Is()[this.ob[this.ob.length-1].num];case 5:return ObjectLists.ql()[this.ob[this.ob.length-1].num]}},ff:function(){switch(this.type){case 3:return ObjectLists.en()[this.ob[this.ob.length-
1].num]?ObjectLists.en()[this.ob[this.ob.length-1].num]:null;case 4:return ObjectLists.se()[this.ob[this.ob.length-1].num]?ObjectLists.se()[this.ob[this.ob.length-1].num]:null;case 5:return ObjectLists.ql()[this.ob[this.ob.length-1].num]?ObjectLists.ql()[this.ob[this.ob.length-1].num]:null}},FX:function(a){this.lf.ja(!0==a?255:0)},qc:function(){return this.type}});Oa.Fy=function(a,c){var d=new Oa;d.r();d.position=r.a(a,c);return d};StatsController=r.A.extend({data:null,jx:null,m:null,r:function(a,c){this.data=a;this.m=c;this.rW()},update:function(){for(var a in this.data)this.jx&&(0==this.data[a].value&&0<this.jx[a]&&this.m.Eca(a),this.data[a].Qc>this.jx[a].Qc&&this.m.Gca(a)),this.jx[a]=this.data[a]},E6:function(a){return this.data[a].value},D6:function(a){return this.data[a].Qc},j9:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].cg&&(this.data[a].value=this.data[a].cg);0>this.data[a].value&&(this.data[a].value=
0)},FR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].cg&&(this.data[a].value=this.data[a].cg);0>this.data[a].value&&(this.data[a].value=0)},i9:function(a,c){this.data[a].Qc+=c;this.data[a].Qc>this.data[a].bg&&(this.data[a].Qc=this.data[a].bg);0>this.data[a].Qc&&(this.data[a].Qc=0)},FR:function(a,c){this.data[a].Qc=c;this.data[a].Qc>this.data[a].bg&&(this.data[a].Qc=this.data[a].bg);0>this.data[a].Qc&&(this.data[a].Qc=0)},x2:function(a,c){this.data[a].bg=c},y2:function(a,c){this.data[a].cg=
c}});ObjectLists=r.Ea.extend({yE:null,hD:null,hE:null,gE:null,lD:null,yD:null,PD:null});var W;ObjectLists.e=function(){W||(W=new ObjectLists,W.yE=v.wT(),W.hD=v.QS(),W.hE=v.nT(),W.gE=v.lT(),W.lD=v.YS(),W.yD=v.fT(),W.PD=v.ff());return W};ObjectLists.en=function(){return W.yE};ObjectLists.NX=function(a){W.yE=a};ObjectLists.se=function(){return W.hD};ObjectLists.bX=function(a){W.hD=a};ObjectLists.pc=function(){return W.hE};ObjectLists.EX=function(a){W.hE=a};ObjectLists.Is=function(){return W.gE};
ObjectLists.DX=function(a){W.gE=a};ObjectLists.ql=function(){return W.lD};ObjectLists.jX=function(a){W.lD=a};ObjectLists.Hs=function(){return W.yD};ObjectLists.yX=function(a){W.yD=a};ObjectLists.Jg=function(){return W.PD};ObjectLists.CX=function(a){W.PD=a};gameMapInstance=null;
var E=r.Uc.extend({Ud:null,w:null,Og:!1,Sn:null,vn:null,vD:null,fn:null,zl:null,wl:null,xl:null,yl:null,O:r.a(0,0),Wi:1,yC:function(a,c){function d(a,c){return{eN:a,value:c.x+c.y*S,x:c.x,y:c.y,Tw:0,o:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.w["tile"+T(a,d)]&&1!=f.w["tile"+T(a,d)].qc()&&7!=f.w["tile"+T(a,d)].qc();myS=e<S&&f.w["tile"+T(a,e)]&&1!=f.w["tile"+T(a,e)].qc()&&7!=f.w["tile"+T(a,e)].qc();myE=g<S&&f.w["tile"+T(g,c)]&&1!=f.w["tile"+T(g,c)].qc()&&7!=f.w["tile"+T(g,c)].qc();myW=
-1<h&&f.w["tile"+T(h,c)]&&1!=f.w["tile"+T(h,c)].qc()&&7!=f.w["tile"+T(h,c)].qc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,p=[],q=[],u=[d(null,a)],x=Array(Pa*S);h=u.length;){k=Pa*S;l=-1;for(m=0;m<h;m++)u[m].Tw<k&&(k=u[m].Tw,l=m);k=u.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do p.push(r.a(l.x,l.y));while(l=l.eN);x=q=u=[];p.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),x[l.value]||(l.o=k.o+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Tw=l.o+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),u.push(l),x[l.value]=!0);q.push(k)}}return p},RX:function(a){this.Ud={};this.Ud.mapdata={};for(var c in this.w)"tile"==c.substring(0,4)&&(this.w[c].Ad(),this.Ud[c]={});if(a)for(c in this.Ud=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.w[c].rk(a[c][d].texture,a[c][d].frame,d):(this.w[c].nj(a[c][d].type),a[c][d].script&&
this.w[c].Ux(a[c][d].script),4==a[c][d].type&&this.w[c].ff()&&this.w[c].rk(this.w[c].ff().sprite.texture,this.w[c].ff().sprite.position,"item"),5==a[c][d].type&&this.w[c].ff()&&A.JH(this.w[c].ff(),r.a(this.w[c].q.x/32,this.w[c].q.y/32),this.Wi));else"mapdata"==c&&(this.zl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.wl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.xl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.yl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.Zb(this.AD)},Ll:function(a){console.log("SETTING UP "+a);A.e().v(!1);a=v.SS(a);this.Ud={};this.Ud.mapdata={};for(var c in this.w)"tile"==c.substring(0,4)&&(this.w[c].Ad(),this.Ud[c]={});if(a)for(c in this.Ud=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.w[c].rk(a[c][d].texture,a[c][d].frame,d):(this.w[c].nj(a[c][d].type),a[c][d].script&&
this.w[c].Ux(a[c][d].script),4==a[c][d].type&&this.w[c].ff()&&this.w[c].rk(this.w[c].ff().sprite.texture,this.w[c].ff().sprite.position,"item"),5==a[c][d].type&&this.w[c].ff()&&A.JH(this.w[c].ff(),r.a(this.w[c].q.x/32,this.w[c].q.y/32),this.Wi));else"mapdata"==c&&(this.zl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.wl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.xl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.yl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.Zb(this.AD)},AD:function(){for(var a in this.w)if("tile"==a.substring(0,4)&&!1==this.w[a].Ng())return;A.e().v(!0);A.uk();this.Tc(this.AD);this.vn.v(!0);this.Sn.v(!0);this.Og=!0},Pc:function(){for(var a={},c=0;c<S;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*S)]={size:r.size(32,32),d:r.a(0,0),position:r.a(32*c,32*(Pa-d)),oU:!0,nY:r.a(d,c),visible:!1};return{panels:{children:a}}},
r:function(){this.$b(!0);this.bE(1)},nb:function(a){!this.fn||Mapeditor&&Mapeditor.Q||(this.fn=Mapeditor=null);if(this.fn)for(var c in this.w)"tile"==c.substring(0,4)&&r.bb(this.w[c].Ya(),r.a(a.K.x-this.O.x,a.K.y+32-this.O.y))&&(this.fn.zL(this.w,c),E.xt());else for(c in this.w)if("tile"==c.substring(0,4)&&r.bb(this.w[c].Ya(),r.a(a.K.x-this.O.x,a.K.y+32-this.O.y)))if(4==this.w[c].qc()){var d=y["Item Dropdown Pick Up"]+"",e=y["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.w[c].ff().name),
e=e.replace("\x3cITEM\x3e",this.w[c].ff().name);this.Q.f(DropDownList.Pd(this,this.rU,[d,e],a.K));this.Gg=c}else 7==this.w[c].qc()?(d=y["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.w[c].Lp().name),this.Q.f(DropDownList.Pd(this,this.ZX,[d],a.K)),this.Gg=c):1!=this.w[c].qc()&&7!=this.w[c].qc()&&4!=this.w[c].qc()&&(d=A.B.ba.ef(),A.B.ba.eE(this.yC(r.a(Math.floor(d.x),Math.ceil(d.y)),r.a(this.w[c].q.x/32,this.w[c].q.y/32))));return!0},Gg:null,rU:function(a){if(null!=this.m.Gg){var c=A.B.ba.ef(),
d=r.a(gameMapInstance.w[gameMapInstance.Gg].q.x/32,gameMapInstance.w[gameMapInstance.Gg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.B.ba.jJ(gameMapInstance.w[gameMapInstance.Gg]):(c=y["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.m.w[gameMapInstance.Gg].ff().name),B.Ob(c));break;case 1:A.B.ba.eE(gameMapInstance.yC(r.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.m.Gg=null}}},ZX:function(a){if(null!=this.m.Gg){var c=A.B.ba.ef(),d=r.a(gameMapInstance.w[gameMapInstance.Gg].q.x/
32,gameMapInstance.w[gameMapInstance.Gg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.B.ba.jJ(gameMapInstance.w[gameMapInstance.Gg]):(c=y["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.m.w[gameMapInstance.Gg].Lp().name),B.Ob(c))}}},sd:function(a){if(this.fn){for(var c in this.w)"tile"==c.substring(0,4)&&r.bb(this.w[c].Ya(),r.a(a.K.x-this.O.x,a.K.y+32-this.O.y))&&(this.fn.zL(this.w,c,"moved"),E.xt());return!0}for(c in this.w)if("tile"==
c.substring(0,4)&&1!=this.w[c].qc()&&7!=this.w[c].qc()&&4!=this.w[c].qc()&&r.bb(this.w[c].Ya(),r.a(a.K.x-this.O.x,a.K.y+32-this.O.y))){var d=A.B.ba.ef();A.B.ba.eE(this.yC(r.a(Math.floor(d.x),Math.ceil(d.y)),r.a(this.w[c].q.x/32,this.w[c].q.y/32)))}},sa:function(){this._super();if(!0==this.Og){this.Sn.fC(0,0,0,0);for(var a in this.w)"tile"==a.substring(0,4)&&(this.w[a].v(!0),null!=this.w[a].me&&this.w[a].me.v(!1),null!=this.w[a].ne&&this.w[a].ne.v(!1),null!=this.w[a].pe&&this.w[a].pe.v(!1),null!=this.w[a].oe&&
this.w[a].oe.v(!1),this.w[a].sa(),null!=this.w[a].me&&this.w[a].me.v(!0),null!=this.w[a].ne&&this.w[a].ne.v(!0),null!=this.w[a].pe&&this.w[a].pe.v(!0),null!=this.w[a].oe&&this.w[a].oe.v(!0),this.w[a].v(!1));this.Sn.end();this.vn.fC(0,0,0,0);for(a in this.w)if("tile"==a.substring(0,4)){this.w[a].v(!0);null!=this.w[a].xe&&this.w[a].xe.v(!1);null!=this.w[a].ye&&this.w[a].ye.v(!1);null!=this.w[a].ze&&this.w[a].ze.v(!1);null!=this.w[a].De&&this.w[a].De.v(!1);null!=this.w[a].Ee&&this.w[a].Ee.v(!1);null!=
this.w[a].Rd&&this.w[a].Rd.v(!1);for(var c=0;c<this.w[a].item.length;c++)this.w[a].item[c].v(!1);this.w[a].sa();null!=this.w[a].xe&&this.w[a].xe.v(!0);null!=this.w[a].ye&&this.w[a].ye.v(!0);null!=this.w[a].ze&&this.w[a].ze.v(!0);null!=this.w[a].De&&this.w[a].De.v(!0);null!=this.w[a].Ee&&this.w[a].Ee.v(!0);null!=this.w[a].Rd&&this.w[a].Rd.v(!0);for(c=0;c<this.w[a].item.length;c++)this.w[a].item[c].v(!0);this.w[a].v(!1)}this.vn.end();this.Og=!1}}});
E.my=function(a,c){0<=gameMapInstance.O.x+(Q.width-X.width/2)+a&&A.B.ba.q.x<Q.width-X.width/2&&0>=gameMapInstance.O.x+a&&A.B.ba.q.x>X.width/2&&(gameMapInstance.O.x+=a);0<=gameMapInstance.O.y+(Q.height-X.height/2)+c&&A.B.ba.q.y<Q.height-X.height/2&&0>=gameMapInstance.O.y+c&&A.B.ba.q.y>X.height/2&&(gameMapInstance.O.y+=c);gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y)};
E.dj=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Og?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.Zb(E.qK)):(gameMapInstance.O.x=a>Q.width-X.width/2?-(Q.width-X.width):a<X.width/2?0:-(a-X.width/2),gameMapInstance.O.y=c>Q.height-X.height/2?-(Q.height-X.height):c<X.height/2?0:-(c-X.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Tc(E.qK),gameMapInstance.n(gameMapInstance.O.x,
gameMapInstance.O.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;E.qK=function(){E.dj(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};E.MC=function(){!0==gameMapInstance.Og?gameMapInstance.Zb(E.MC):(gameMapInstance.Tc(E.MC),gameMapInstance.O.x=-(Q.width-X.width),gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y))};
E.LC=function(){!0==gameMapInstance.Og?gameMapInstance.Zb(E.LC):(gameMapInstance.Tc(E.LC),gameMapInstance.O.x=0,gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y))};E.KC=function(){!0==gameMapInstance.Og?gameMapInstance.Zb(E.KC):(gameMapInstance.Tc(E.KC),gameMapInstance.O.y=-(Q.height-X.height),gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y))};
E.NC=function(){!0==gameMapInstance.Og?gameMapInstance.Zb(E.NC):(gameMapInstance.Tc(E.NC),gameMapInstance.O.y=0,gameMapInstance.n(gameMapInstance.O.x,gameMapInstance.O.y))};
E.create=function(){gameMapInstance||(gameMapInstance=new E,gameMapInstance.w=Ia(gameMapInstance),gameMapInstance.f(gameMapInstance.w),gameMapInstance.Sn=r.Cb.create(Q.width,Q.height),gameMapInstance.Sn.n(r.a(Math.floor(Q.width/2),Math.floor(Q.height/2))),gameMapInstance.f(gameMapInstance.Sn),gameMapInstance.Sn.v(!1),gameMapInstance.vD=r.D.create(),gameMapInstance.f(gameMapInstance.vD),gameMapInstance.vn=r.Cb.create(Q.width,Q.height),gameMapInstance.vn.n(r.a(Math.floor(Q.width/2),Math.floor(Q.height/
2))),gameMapInstance.f(gameMapInstance.vn),gameMapInstance.vn.v(!1),gameMapInstance.mq(-15),gameMapInstance.r());return gameMapInstance};E.e=function(){return gameMapInstance};E.ht=function(){gameMapInstance.J();gameMapInstance=null};E.xt=function(){gameMapInstance||(gameMapInstance=E.create());gameMapInstance.Og=!0};E.SX=function(a){gameMapInstance.RX(a)};E.e=function(){return gameMapInstance};E.rk=function(a,c,d,e){gameMapInstance.w[a].rk(c,d,e);gameMapInstance.Ud[a][e]={texture:c,frame:d}};
E.KL=function(){A.rC();H({savemap:gameMapInstance.Wi,mapdata:gameMapInstance.Ud})};E.qC=function(a,c){gameMapInstance.Ud[a][c]=null;gameMapInstance.w[a].qC(c)};E.mj=function(a,c,d,e){gameMapInstance.w[a].nj(c);null!=d&&"undefined"!==d?(gameMapInstance.w[a].Ux(d,e),gameMapInstance.Ud[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Ud[a].info={type:c}};
E.MK=function(a){gameMapInstance.Ud.mapdata.mapConnectors=a;gameMapInstance.zl=a.up;gameMapInstance.wl=a.down;gameMapInstance.xl=a.left;gameMapInstance.yl=a.right};E.BS=function(a,c,d){for(var e in gameMapInstance.w)"tile"==e.substring(0,4)&&(gameMapInstance.w[e].rk(a,c,d),gameMapInstance.Ud[e][d]={texture:a,frame:c})};E.YK=function(a){for(var c in gameMapInstance.w)"tile"==c.substring(0,4)&&gameMapInstance.w[c].FX(a);SkillBarsInstance.v(!a);Y.v(!a);gameMapInstance.Og=!0};
E.Wba=function(){for(var a in gameMapInstance.w)"tile"==a.substring(0,4)&&gameMapInstance.w[a].lf.fa(a.substring(4));gameMapInstance.Og=!0};E.VI=function(){return null!=gameMapInstance.zl};E.TI=function(){return null!=gameMapInstance.wl};E.UI=function(){return null!=gameMapInstance.xl};E.PC=function(){return null!=gameMapInstance.yl};E.Yc=function(){return gameMapInstance.Wi};E.GI=function(){return gameMapInstance.zl};E.EI=function(){return gameMapInstance.wl};E.FI=function(){return gameMapInstance.xl};
E.DC=function(){return gameMapInstance.yl};E.cj=function(a,c){c||(MapMaster=!1);A.e().v(!1);A.rC();E.Ad();gameMapInstance.Wi=a;A.B.ba.hq(a);A.uk();gameMapInstance.Ll(a)};E.CT=function(a){A.rC();E.Ad();gameMapInstance.Wi=a;gameMapInstance.Ll(a)};E.BT=function(){A.e().v(!1);E.Ad();gameMapInstance.Wi=gameMapInstance.zl;A.B.ba.hq(gameMapInstance.zl);A.uk();gameMapInstance.Ll(gameMapInstance.zl)};
E.yT=function(){A.e().v(!1);E.Ad();gameMapInstance.Wi=gameMapInstance.wl;A.B.ba.hq(gameMapInstance.wl);A.uk();gameMapInstance.Ll(gameMapInstance.wl)};E.zT=function(){A.e().v(!1);E.Ad();gameMapInstance.Wi=gameMapInstance.xl;A.B.ba.hq(gameMapInstance.xl);A.uk();gameMapInstance.Ll(gameMapInstance.xl)};E.AT=function(){A.e().v(!1);E.Ad();gameMapInstance.Wi=gameMapInstance.yl;A.B.ba.hq(gameMapInstance.yl);A.uk();gameMapInstance.Ll(gameMapInstance.yl)};E.it=function(a){gameMapInstance.fn=a};
E.Zw=function(a,c){return a>S-1||0>a?void 0:gameMapInstance.w["tile"+(a+(Pa-c)*S)]};E.MI=function(a){return gameMapInstance.w["tile"+a]};E.eR=function(){var a=A.e();gameMapInstance.vD.f(a);E.dj(A.B.ba.q.F,A.B.ba.q.H)};E.Ad=function(){gameMapInstance.Ud={};for(var a in gameMapInstance.w)"tile"==a.substring(0,4)&&(gameMapInstance.w[a].Ad(),gameMapInstance.Ud[a]={});gameMapInstance.Ud.mapdata={};gameMapInstance.Og=!0};var A=r.Uc.extend({B:null,hc:[],Gf:[],ba:null});A.e=function(){return this.B};A.ht=function(){this.B.J();this.B=null};A.create=function(a){this.B||(this.B=new A,this.B.ba=PlayerCharacter.create(a),this.B.f(this.B.ba));return this.B};A.WM=function(){var a=E.Yc(),c=[],d;for(d in this.B.Gf)this.B.Gf[d].eg==a&&c.push(this.B.Gf[d]);return c};A.Ip=function(a){return this.B.Gf[a]};A.HU=function(a,c,d){this.B.Gf[a]&&"default"!=c&&this.B.ba.eg==d&&this.B.Gf[a].NL(c)};
A.dW=function(a,c){this.B.Gf[a]&&"default"!=c&&this.B.Gf[a].n(r.a(c%S*32,32*Math.floor(c/S)))};A.rC=function(){for(var a in this.B.Gf)this.B.Gf[a].J();this.B.Gf=[]};A.JH=function(a,c,d){var e=parseInt(this.B.Gf.length);this.B.Gf.push(NonPlayerCharacter.create({name:a.name,On:{health:{Qc:1,value:100,cg:200,bg:900},mana:{Qc:1,value:100,cg:200,bg:99}},map:d,rt:"sprites1.png",pt:2,tl:e}));this.B.Gf[e].n(32*c.x,32*c.y);this.B.f(this.B.Gf[e])};A.l7=function(){return this.B.ba};A.hi=function(a){return this.B.hc[a]};
A.dR=function(a){this.B.hc[a.id]=PlayerCharacter.create({name:a.id,On:{health:{Qc:1,value:100,cg:200,bg:900},mana:{Qc:1,value:100,cg:200,bg:99}},map:a.location.mapnumber,rt:"sprites1.png",pt:1});var c=a.location.position;this.B.hc[a.id].n(c%S*32,32*Math.floor(c/S));A.uk();this.B.f(this.B.hc[a.id]);c=y["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);B.Ob(c)};
A.eI=function(a){if(this.B.hc[a]){this.B.hc[a].J();this.B.hc[a]=null;var c=y["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);B.Ob(c);for(c=0;c<t.length;c++){var d=JSON.parse(t[c]);d.id&&d.id==a&&(t.splice(c,1),c--)}}};
A.IU=function(a){console.log(a.location.position);if(this.B.hc[a.id])this.B.hc[a.id].NL(a.location.position);else{this.B.hc[id]=PlayerCharacter.create({name:a.id,On:{health:{Qc:1,value:100,cg:200,bg:900},mana:{Qc:1,value:100,cg:200,bg:99}},map:a.location.mapnumber,rt:"sprites1.png",pt:1});var c=a.location.position;this.B.hc[id].n(r.a(c%S*32,32*Math.floor(c/S)));A.uk();this.B.f(this.B.hc[a.id]);c=y["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);B.Ob(c)}};
A.pV=function(a){if(this.B.hc[a.id])this.B.hc[a.id].n(r.a(a.location.position%S*32,32*Math.floor(a.location.position/S)));else{this.B.hc[a.id]=PlayerCharacter.create({name:a.id,On:{health:{Qc:1,value:100,cg:200,bg:900},mana:{Qc:1,value:100,cg:200,bg:99}},map:a.location.mapnumber,rt:"sprites1.png",pt:1});var c=a.location.position;this.B.hc[a.id].n(r.a(c%S*32,32*Math.floor(c/S)));A.uk();this.B.f(this.B.hc[a.id]);B.Ob(a.id+I.re.lV)}};A.AR=function(a){this.B.hc[a]&&this.B.hc[a].updateStatus("AFK")};
A.uk=function(){var a=this.B.ba.eg,c;for(c in this.B.hc)null!=this.B.hc[c]&&this.B.hc[c].v(this.B.hc[c].eg==a)};A.Ad=function(){for(var a in this.B.hc)null!=this.B.hc[a]&&A.eI(a);this.B.ba.J();this.B.ba=null};A.zR=function(a,c){this.B.hc[a].hq(c);this.B.hc[a].v(this.B.ba.eg==c)};Character=r.A.extend({name:null,On:null,xL:null,V1:null,nf:null,Pg:!1,qn:null,fy:null,gj:!1,tl:-1,status:null,eg:null,path:null,xC:"DOWN",r:function(a){this.HX(a.rt,a.pt);this.On=new StatsController(a.Fca,this);this.f(this.On);this.name=a.name;a.gj&&(this.gj=a.gj);a.map&&(this.eg=a.map);null!=a.tl&&"undefined"!==a.tl&&(console.log(this.tl),this.tl=a.tl);this.M(0,1);this.qn=r.T.create("","Arial",12);this.qn.M(0.5,0);this.qn.l(255,0,0);this.qn.n(Math.floor(this.c().width/2),this.c().width+3);this.f(this.qn);
this.GL()},J4:function(){return this.xC},hq:function(a){this.eg=a},h5:function(){return this.eg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.GL()},GL:function(){null!=this.status?this.qn.fa(this.name+"-"+this.status):this.qn.fa(this.name)},getName:function(){return this.name},Lf:function(a,c,d){this.Ub(r.rect(32*a,128*this.xL.id+32*c,32,32));this.fy=r.a(a,c);this.xC=d},yh:function(){return this.fy},HX:function(a,c){this.xL={name:a,id:c};this.ga(r.ia.e().ra(a));this.Lf(1,0)},
ef:function(){return r.a(this.q.x/32,this.q.y/32)},Bw:0.24,yY:0.24,nl:2,AY:function(a){var c=a.position%S,d=Math.floor(a.position/S);this.n(32*c,32*d);H({changemap:a.mapTo,setTo:a.position});E.cj(a.mapTo);E.dj(32*c,32*d)},kU:function(){if(!this.Pg){var a=this.ef(),a=E.Zw(a.x,a.y);switch(a.qc()){case 4:this.uD(a.Lp())}}},jJ:function(a){if(a&&!this.Pg)switch(a.qc()){case 4:this.jV(a.Lp(),a);break;case 7:P.nL(a.Lp())}},jU:function(){if(!this.Pg){var a=this.ef();switch(this.xC){case "RIGHT":a.x+=1;break;
case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=E.Zw(a.x,a.y))switch(a.qc()){case 7:P.nL(a.Lp())}}},zt:function(a){this.Bw+=a;a=this.q;var c=this.yh();this.Bw>this.yY&&(this.Bw=0,this.nf.x<a.x?this.Lf((c.x+1)%3,1,"LEFT"):this.nf.x>a.x?this.Lf((c.x+1)%3,2,"RIGHT"):this.nf.y<a.y?this.Lf((c.x+1)%3,0,"DOWN"):this.nf.y>a.y&&this.Lf((c.x+1)%3,3,"UP"));this.nf.x<a.x?(this.kb(a.x-this.nl),this.gj&&E.my(+this.nl,0)):this.nf.x>a.x?(this.kb(a.x+this.nl),this.gj&&E.my(-this.nl,0)):this.nf.y<
a.y?(this.ed(a.y-this.nl),this.gj&&E.my(0,this.nl)):this.nf.y>a.y&&(this.ed(a.y+this.nl),this.gj&&E.my(0,-this.nl));a.y==this.nf.y&&a.x==this.nf.x&&(this.Pg=!1,this.Tc(this.zt),null!=this.path&&this.QH())},sq:function(a,c){if(!1!=this.ma){var d=E.Zw(a,c),e=this.fy,f=this.ef();f.x>a?this.Lf(e.x,1,"LEFT"):f.x<a&&this.Lf(e.x,2,"RIGHT");f.y>c?this.Lf(e.x,0,"DOWN"):f.y<c&&this.Lf(e.x,3,"UP");if(!d)this.gj&&null==Mapeditor&&(f.x<a&&E.PC()?(this.n(0,32*c),H({changemap:parseInt(E.DC()),setTo:0+c*S}),E.AT(),
E.LC()):f.x>a&&E.UI()&&(this.n(32*(S-1),32*c),H({changemap:parseInt(E.FI()),setTo:S-1+c*S}),E.zT(),E.MC()),f.y<c&&E.VI()?(this.n(32*a,32),H({changemap:parseInt(E.GI()),setTo:a+1*S}),E.BT(),E.NC()):f.y>c&&E.TI()&&(H({changemap:parseInt(E.EI()),setTo:a+Pa*S}),E.yT(),this.n(32*a,32*Pa),E.KC()));else if(!1==this.Pg&&d){switch(d.qc()){case 1:case 7:return;case 3:this.AY(d.ff());return}this.nf=r.a(32*a,32*c);this.Pg=!0;this.Zb(this.zt);this.zt(0);this.gj?H({moveTo:this.nf.x/32+this.nf.y/32*S}):-1<this.tl&&
H({npcID:this.tl+"",mapnumber:this.eg,moveNPC:this.nf.x/32+this.nf.y/32*S})}}},QH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.sq(this.path[0].x,this.path[0].y))},eE:function(a){if(null==this.path||0!=a.length)this.path=a,this.QH()},NL:function(a){if(!1!=this.ma){var c=a%S;a=Math.floor(a/S);if(!1==this.Pg){var d=this.fy,e=this.ef();4<Math.abs(r.pD(r.a(c,a),e))?this.n(r.a(32*c,32*a)):(e.x>c?this.Lf(d.x,1,"LEFT"):e.x<c?this.Lf(d.x,2,"RIGHT"):
e.y>a?this.Lf(d.x,0,"DOWN"):e.y<a&&this.Lf(d.x,3,"UP"),this.nf=r.a(32*c,32*a),this.Pg=!0,this.Zb(this.zt),this.zt(0))}}}});
PlayerCharacter=Character.extend({items:null,vp:3,r:function(a){this._super(a);a.vp&&(this.vp=a.vp);this.items={stored:[],equipped:{}};if(a.position){var c=a.position%S,d=Math.floor(a.position/S);this.n(32*c,32*d);E.CT(a.map);E.dj(32*c,32*d);this.eg=a.map}a.kJ&&(this.items.stored=a.kJ);a.oI&&(this.items.equipped=a.oI,this.Rc(function(){for(var a in this.items.equipped){var c=this.items.equipped[a],d=[];c&&c.script&&(d=ObjectLists.Jg()[c.script].data);for(c=0;c<d.length;c++)if("Default Event"==d[c].type)for(var h=
d[c].responses,k=0;k<h.length;k++)switch(h[k].type){case "Modify Player Stats":if(ObjectLists.pc()[h[k].data.skill]){var l=ObjectLists.pc()[h[k].data.skill].name;console.log("modifying stat: "+l);G.mn(l,h[k].data.level);G.ln(l,h[k].data.health);G.nn(l,h[k].data.xp)}}}}))},vt:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d]&&this.items.stored[d].name==a&&(this.items.stored[d]=c);console.log(this.items)},uD:function(a){var c=this.ef(),d=E.Zw(c.x,c.y),e=[];a.script&&(e=ObjectLists.Jg()[a.script].data);
for(var f=0;f<e.length;f++)if("On Pickup"==e[f].type){for(var g=e[f].requirements,h=!0,k=0;k<g.length;k++)switch(g[k].type){case "Has Player Item":if(g[k].data.item){var l=g[k].data.amount?g[k].data.amount:1,m=0,n=ObjectLists.se()[g[k].data.item].name,p;for(p in this.items.stored)this.items.stored[p]&&this.items.stored[p].name==n&&m++;if(m<l){h=!1;break}}break;case "Is Player Statistics":l=ObjectLists.pc()[g[k].data.skill].name;g[k].data.levelUpper||(g[k].data.levelUpper=0);g[k].data.levelLower||
(g[k].data.levelLower=0);g[k].data.healthUpper||(g[k].data.healthUpper=0);g[k].data.healthLowe||(g[k].data.healthLower=0);g[k].data.xpUpper||(g[k].data.xpUpper=0);g[k].data.xpLower||(g[k].data.xpLower=0);if(0!=g[k].data.levelUpper||0!=g[k].data.levelLower)if(m=SkillBarsInstance.gb[l].level+1,m>g[k].data.levelUpper||m<g[k].data.levelLower){h=!1;break}if(0!=g[k].data.healthUpper||0!=g[k].data.healthLower)if(m=SkillBarsInstance.gb[l].currenthealth,m>g[k].data.healthUpper||m<g[k].data.healthLower){h=
!1;break}if(0!=g[k].data.xpUpper||0!=g[k].data.xpLower)if(m=SkillBarsInstance.gb[l].experience,console.log(m),console.log(g[k].data),m>g[k].data.xpUpper||m<g[k].data.xpLower)h=!1}if(!0==h)for(g=e[f].responses,k=0;k<g.length;k++)switch(g[k].type){case "Equip Item":this.Sw(itemnumber,g[k].data.equip);break;case "Modify Player Stats":ObjectLists.pc()[g[k].data.skill]&&(h=ObjectLists.pc()[g[k].data.skill].name,console.log("modifying stat: "+h),G.mn(h,g[k].data.level),G.ln(h,g[k].data.health),G.nn(h,g[k].data.xp));
break;case "Warp Player":h=g[k].data.index%S;l=Math.floor(g[k].data.index/S);this.n(32*h,32*l);H({changemap:g[k].data.mapnum,setTo:g[k].data.index});E.cj(g[k].data.mapnum);E.dj(32*h,32*l);break;case "Read Item":P.$x(a.name,g[k].data.say);break;case "Open/Close Panel":h=1==g[k].data.visible?!0:!1;switch(g[k].data.panel){case 0:null==Inventory||Inventory.Q||(Inventory=null);!0==h?Inventory?Inventory.Qa():(Inventory=new InventoryPanel,Inventory.r(),Inventory.ea(),P.f(Inventory)):Inventory&&(Inventory.la(),
Inventory.J(),Inventory=null);break;case 1:null==Equipment||Equipment.Q||(Equipment=null);!0==h?Equipment?Equipment.Qa():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ea(),P.f(Equipment)):Equipment&&(Equipment.la(),Equipment.J(),Equipment=null);break;case 2:null==Skills||Skills.Q||(Skills=null),!0==h?Skills?Skills.Qa():(Skills=new SkillsPanel,Skills.r(),Skills.ea(),P.f(Skills)):Skills&&(Skills.la(),Skills.J(),Skills=null)}break;case "Destroy":a=null,d.Mp().temp?H({pickupitem:T(c.x,c.y),mapnumber:E.Yc(),
temp:!0}):H({pickupitem:T(c.x,c.y),mapnumber:E.Yc()}),Inventory&&Inventory.Qa(),k=g.length}}if(a){if(!0==a.stackable)for(p=0;40>p;p++)if(this.items.stored[p]&&this.items.stored[p].name==a.name){Inventory&&(this.items.stored[p].amount+=a.amount,Inventory.Mn(p,this.items.stored[p].amount));B.Ob(I.re.sx+a.name);d.Mp().temp?H({pickupitem:T(c.x,c.y),mapnumber:E.Yc(),temp:!0}):H({pickupitem:T(c.x,c.y),mapnumber:E.Yc()});console.log(this.items);return}e=!1;for(p=0;40>p;p++)if(null==this.items.stored[p]){this.items.stored[p]=
za(a);Inventory&&Inventory.Mn(p,this.items.stored[p].amount);B.Ob(I.re.sx+a.name);d.Mp().temp?H({pickupitem:T(c.x,c.y),mapnumber:E.Yc(),temp:!0}):H({pickupitem:T(c.x,c.y),mapnumber:E.Yc()});e=!0;break}!1==e&&B.Ob(I.re.lJ)}Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()},jV:function(a,c){var d=r.a(c.q.F/32,c.q.H/32),e=[];a.script&&(e=ObjectLists.Jg()[a.script].data);for(var f=0;f<e.length;f++)if("On Pickup"==e[f].type){for(var g=e[f].requirements,h=!0,k=0;k<g.length;k++)switch(g[k].type){case "Has Player Item":if(g[k].data.item){var l=
g[k].data.amount?g[k].data.amount:1,m=0,n=ObjectLists.se()[g[k].data.item].name,p;for(p in this.items.stored)this.items.stored[p]&&this.items.stored[p].name==n&&m++;if(m<l){h=!1;break}}break;case "Is Player Statistics":l=ObjectLists.pc()[g[k].data.skill].name;g[k].data.levelUpper||(g[k].data.levelUpper=0);g[k].data.levelLower||(g[k].data.levelLower=0);g[k].data.healthUpper||(g[k].data.healthUpper=0);g[k].data.healthLowe||(g[k].data.healthLower=0);g[k].data.xpUpper||(g[k].data.xpUpper=0);g[k].data.xpLower||
(g[k].data.xpLower=0);if(0!=g[k].data.levelUpper||0!=g[k].data.levelLower)if(m=SkillBarsInstance.gb[l].level+1,m>g[k].data.levelUpper||m<g[k].data.levelLower){h=!1;break}if(0!=g[k].data.healthUpper||0!=g[k].data.healthLower)if(m=SkillBarsInstance.gb[l].currenthealth,m>g[k].data.healthUpper||m<g[k].data.healthLower){h=!1;break}if(0!=g[k].data.xpUpper||0!=g[k].data.xpLower)if(m=SkillBarsInstance.gb[l].experience,console.log(m),console.log(g[k].data),m>g[k].data.xpUpper||m<g[k].data.xpLower)h=!1}if(!0==
h)for(g=e[f].responses,k=0;k<g.length;k++)switch(g[k].type){case "Equip Item":this.Sw(itemnumber,g[k].data.equip);break;case "Modify Player Stats":ObjectLists.pc()[g[k].data.skill]&&(h=ObjectLists.pc()[g[k].data.skill].name,console.log("modifying stat: "+h),G.mn(h,g[k].data.level),G.ln(h,g[k].data.health),G.nn(h,g[k].data.xp));break;case "Warp Player":h=g[k].data.index%S;l=Math.floor(g[k].data.index/S);this.n(32*h,32*l);H({changemap:g[k].data.mapnum,setTo:g[k].data.index});E.cj(g[k].data.mapnum);
E.dj(32*h,32*l);break;case "Read Item":P.$x(a.name,g[k].data.say);break;case "Open/Close Panel":h=1==g[k].data.visible?!0:!1;switch(g[k].data.panel){case 0:null==Inventory||Inventory.Q||(Inventory=null);!0==h?Inventory?Inventory.Qa():(Inventory=new InventoryPanel,Inventory.r(),Inventory.ea(),P.f(Inventory)):Inventory&&(Inventory.la(),Inventory.J(),Inventory=null);break;case 1:null==Equipment||Equipment.Q||(Equipment=null);!0==h?Equipment?Equipment.Qa():(Equipment=new EquipmentPanel,Equipment.r(),
Equipment.ea(),P.f(Equipment)):Equipment&&(Equipment.la(),Equipment.J(),Equipment=null);break;case 2:null==Skills||Skills.Q||(Skills=null),!0==h?Skills?Skills.Qa():(Skills=new SkillsPanel,Skills.r(),Skills.ea(),P.f(Skills)):Skills&&(Skills.la(),Skills.J(),Skills=null)}break;case "Destroy":a=null,c.Mp().temp?H({pickupitem:T(d.x,d.y),mapnumber:E.Yc(),temp:!0}):H({pickupitem:T(d.x,d.y),mapnumber:E.Yc()}),Inventory&&Inventory.Qa(),k=g.length}}if(a){if(!0==a.stackable)for(p=0;40>p;p++)if(this.items.stored[p]&&
this.items.stored[p].name==a.name){Inventory&&(this.items.stored[p].amount+=a.amount,Inventory.Mn(p,this.items.stored[p].amount));B.Ob(I.re.sx+a.name);c.Mp().temp?H({pickupitem:T(d.x,d.y),mapnumber:E.Yc(),temp:!0}):H({pickupitem:T(d.x,d.y),mapnumber:E.Yc()});return}e=!1;for(p=0;40>p;p++)if(null==this.items.stored[p]){this.items.stored[p]=za(a);Inventory&&Inventory.Mn(p,this.items.stored[p].amount);B.Ob(I.re.sx+a.name);c.Mp().temp?H({pickupitem:T(d.x,d.y),mapnumber:E.Yc(),temp:!0}):H({pickupitem:T(d.x,
d.y),mapnumber:E.Yc()});e=!0;break}!1==e&&B.Ob(I.re.lJ)}Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()},vC:function(a,c){var d=this.ef(),e=this.items[c][a],f=[];e.script&&(f=ObjectLists.Jg()[e.script].data);for(var g=0;g<f.length;g++)if("On Drop"==f[g].type){for(var h=f[g].requirements,k=!0,l=0;l<h.length;l++)switch(h[l].type){case "Has Player Item":if(h[l].data.item){var m=h[l].data.amount?h[l].data.amount:1,n=0,p=ObjectLists.se()[h[l].data.item].name,q;for(q in this.items.stored)this.items.stored[q]&&
this.items.stored[q].name==p&&n++;if(n<m){k=!1;break}}break;case "Is Player Statistics":m=ObjectLists.pc()[h[l].data.skill].name;h[l].data.levelUpper||(h[l].data.levelUpper=0);h[l].data.levelLower||(h[l].data.levelLower=0);h[l].data.healthUpper||(h[l].data.healthUpper=0);h[l].data.healthLowe||(h[l].data.healthLower=0);h[l].data.xpUpper||(h[l].data.xpUpper=0);h[l].data.xpLower||(h[l].data.xpLower=0);if(0!=h[l].data.levelUpper||0!=h[l].data.levelLower)if(n=SkillBarsInstance.gb[m].level+1,n>h[l].data.levelUpper||
n<h[l].data.levelLower){k=!1;break}if(0!=h[l].data.healthUpper||0!=h[l].data.healthLower)if(n=SkillBarsInstance.gb[m].currenthealth,n>h[l].data.healthUpper||n<h[l].data.healthLower){k=!1;break}if(0!=h[l].data.xpUpper||0!=h[l].data.xpLower)if(n=SkillBarsInstance.gb[m].experience,console.log(n),console.log(h[l].data),n>h[l].data.xpUpper||n<h[l].data.xpLower)k=!1}if(!0==k)for(h=f[g].responses,l=0;l<h.length;l++)switch(h[l].type){case "Equip Item":this.Sw(a,h[l].data.equip);break;case "Modify Player Stats":ObjectLists.pc()[h[l].data.skill]&&
(k=ObjectLists.pc()[h[l].data.skill].name,console.log("modifying stat: "+k),G.mn(k,h[l].data.level),G.ln(k,h[l].data.health),G.nn(k,h[l].data.xp));break;case "Warp Player":k=h[l].data.index%S;m=Math.floor(h[l].data.index/S);this.n(32*k,32*m);H({changemap:h[l].data.mapnum,setTo:h[l].data.index});E.cj(h[l].data.mapnum);E.dj(32*k,32*m);break;case "Read Item":P.$x(e.name,h[l].data.say);break;case "Open/Close Panel":k=1==h[l].data.visible?!0:!1;switch(h[l].data.panel){case 0:null==Inventory||Inventory.Q||
(Inventory=null);!0==k?Inventory?Inventory.Qa():(Inventory=new InventoryPanel,Inventory.r(),Inventory.ea(),P.f(Inventory)):Inventory&&(Inventory.la(),Inventory.J(),Inventory=null);break;case 1:null==Equipment||Equipment.Q||(Equipment=null);!0==k?Equipment?Equipment.Qa():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ea(),P.f(Equipment)):Equipment&&(Equipment.la(),Equipment.J(),Equipment=null);break;case 2:null==Skills||Skills.Q||(Skills=null),!0==k?Skills?Skills.Qa():(Skills=new SkillsPanel,
Skills.r(),Skills.ea(),P.f(Skills)):Skills&&(Skills.la(),Skills.J(),Skills=null)}break;case "Destroy":this.items[c][a]=null,Inventory&&Inventory.Qa(),l=h.length}}this.items[c][a]&&(B.Ob(I.re.tS+this.items[c][a].name),H({droppeditem:this.items[c][a],mapnumber:E.Yc(),index:T(d.x,d.y)}),!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.Mn(a,0),this.items[c][a]=null);Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()},wY:function(a){var c=this.items.stored[a],d=[];c.script&&(d=ObjectLists.Jg()[c.script].data);
for(var e=0;e<d.length;e++)if("Default Event"==d[e].type){for(var f=d[e].requirements,g=!0,h=0;h<f.length;h++)switch(f[h].type){case "Has Player Item":if(f[h].data.item){var k=f[h].data.amount?f[h].data.amount:1,l=0,m=ObjectLists.se()[f[h].data.item].name,n;for(n in this.items.stored)this.items.stored[n]&&this.items.stored[n].name==m&&l++;if(l<k){g=!1;break}}break;case "Is Player Statistics":k=ObjectLists.pc()[f[h].data.skill].name;f[h].data.levelUpper||(f[h].data.levelUpper=0);f[h].data.levelLower||
(f[h].data.levelLower=0);f[h].data.healthUpper||(f[h].data.healthUpper=0);f[h].data.healthLowe||(f[h].data.healthLower=0);f[h].data.xpUpper||(f[h].data.xpUpper=0);f[h].data.xpLower||(f[h].data.xpLower=0);if(0!=f[h].data.levelUpper||0!=f[h].data.levelLower)if(l=SkillBarsInstance.gb[k].level+1,l>f[h].data.levelUpper||l<f[h].data.levelLower){g=!1;break}if(0!=f[h].data.healthUpper||0!=f[h].data.healthLower)if(l=SkillBarsInstance.gb[k].currenthealth,l>f[h].data.healthUpper||l<f[h].data.healthLower){g=
!1;break}if(0!=f[h].data.xpUpper||0!=f[h].data.xpLower)if(l=SkillBarsInstance.gb[k].experience,console.log(l),console.log(f[h].data),l>f[h].data.xpUpper||l<f[h].data.xpLower)g=!1}if(!0==g)for(f=d[e].responses,h=0;h<f.length;h++)switch(f[h].type){case "Equip Item":this.Sw(a,f[h].data.equip);break;case "Modify Player Stats":ObjectLists.pc()[f[h].data.skill]&&(g=ObjectLists.pc()[f[h].data.skill].name,console.log("modifying stat: "+g),G.mn(g,f[h].data.level),G.ln(g,f[h].data.health),G.nn(g,f[h].data.xp));
break;case "Warp Player":g=f[h].data.index%S;k=Math.floor(f[h].data.index/S);this.n(32*g,32*k);H({changemap:f[h].data.mapnum,setTo:f[h].data.index});E.cj(f[h].data.mapnum);E.dj(32*g,32*k);break;case "Read Item":P.$x(c.name,f[h].data.say);break;case "Open/Close Panel":g=1==f[h].data.visible?!0:!1;switch(f[h].data.panel){case 0:null==Inventory||Inventory.Q||(Inventory=null);!0==g?Inventory?Inventory.Qa():(Inventory=new InventoryPanel,Inventory.r(),Inventory.ea(),P.f(Inventory)):Inventory&&(Inventory.la(),
Inventory.J(),Inventory=null);break;case 1:null==Equipment||Equipment.Q||(Equipment=null);!0==g?Equipment?Equipment.Qa():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ea(),P.f(Equipment)):Equipment&&(Equipment.la(),Equipment.J(),Equipment=null);break;case 2:null==Skills||Skills.Q||(Skills=null),!0==g?Skills?Skills.Qa():(Skills=new SkillsPanel,Skills.r(),Skills.ea(),P.f(Skills)):Skills&&(Skills.la(),Skills.J(),Skills=null)}break;case "Destroy":this.items.stored[a]=null,Inventory&&Inventory.Qa(),
h=f.length}}},Sw:function(a,c){"bothArms"==c&&(c="lArm",this.items.equipped.rArm||(c="rArm"));var d=null;if(this.items.equipped[c]){var d=za(this.items.equipped[c]),e=[];d.script&&(e=ObjectLists.Jg()[d.script].data);for(var f=0;f<e.length;f++)if("On Dequip"==e[f].type){for(var g=e[f].requirements,h=!0,k=0;k<g.length;k++)switch(g[k].type){case "Has Player Item":if(g[k].data.item){var l=g[k].data.amount?g[k].data.amount:1,m=0,n=ObjectLists.se()[g[k].data.item].name,p;for(p in this.items.stored)this.items.stored[p]&&
this.items.stored[p].name==n&&m++;if(m<l){h=!1;break}}break;case "Is Player Statistics":l=ObjectLists.pc()[g[k].data.skill].name;g[k].data.levelUpper||(g[k].data.levelUpper=0);g[k].data.levelLower||(g[k].data.levelLower=0);g[k].data.healthUpper||(g[k].data.healthUpper=0);g[k].data.healthLowe||(g[k].data.healthLower=0);g[k].data.xpUpper||(g[k].data.xpUpper=0);g[k].data.xpLower||(g[k].data.xpLower=0);if(0!=g[k].data.levelUpper||0!=g[k].data.levelLower)if(m=SkillBarsInstance.gb[l].level+1,m>g[k].data.levelUpper||
m<g[k].data.levelLower){h=!1;break}if(0!=g[k].data.healthUpper||0!=g[k].data.healthLower)if(m=SkillBarsInstance.gb[l].currenthealth,m>g[k].data.healthUpper||m<g[k].data.healthLower){h=!1;break}if(0!=g[k].data.xpUpper||0!=g[k].data.xpLower)if(m=SkillBarsInstance.gb[l].experience,console.log(m),console.log(g[k].data),m>g[k].data.xpUpper||m<g[k].data.xpLower)h=!1}if(!0==h)for(g=e[f].responses,k=0;k<g.length;k++)switch(g[k].type){case "Modify Player Stats":ObjectLists.pc()[g[k].data.skill]&&(h=ObjectLists.pc()[g[k].data.skill].name,
console.log("modifying stat: "+h),G.mn(h,g[k].data.level),G.ln(h,g[k].data.health),G.nn(h,g[k].data.xp));break;case "Warp Player":h=g[k].data.index%S;l=Math.floor(g[k].data.index/S);this.n(32*h,32*l);H({changemap:g[k].data.mapnum,setTo:g[k].data.index});E.cj(g[k].data.mapnum);E.dj(32*h,32*l);break;case "Open/Close Panel":h=1==g[k].data.visible?!0:!1;switch(g[k].data.panel){case 0:null==Inventory||Inventory.Q||(Inventory=null);!0==h?Inventory?Inventory.Qa():(Inventory=new InventoryPanel,Inventory.r(),
Inventory.ea(),P.f(Inventory)):Inventory&&(Inventory.la(),Inventory.J(),Inventory=null);break;case 1:null==Equipment||Equipment.Q||(Equipment=null);!0==h?Equipment?Equipment.Qa():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ea(),P.f(Equipment)):Equipment&&(Equipment.la(),Equipment.J(),Equipment=null);break;case 2:null==Skills||Skills.Q||(Skills=null),!0==h?Skills?Skills.Qa():(Skills=new SkillsPanel,Skills.r(),Skills.ea(),P.f(Skills)):Skills&&(Skills.la(),Skills.J(),Skills=null)}break;case "Destroy":d=
null,Inventory&&Inventory.Qa(),k=g.length}}}this.items.equipped[c]=za(this.items.stored[a]);this.items.stored[a]=d;Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()},fS:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=za(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.Qa();Equipment&&Equipment.Qa();var d=this.items.stored[c];a=[];d.script&&(a=ObjectLists.Jg()[d.script].data);for(d=0;d<a.length;d++)if("On Dequip"==a[d].type){for(var e=
a[d].requirements,f=!0,g=0;g<e.length;g++)switch(e[g].type){case "Has Player Item":if(e[g].data.item){var h=e[g].data.amount?e[g].data.amount:1,k=0,l=ObjectLists.se()[e[g].data.item].name,m;for(m in this.items.stored)this.items.stored[m]&&(console.log(this.items.stored[m].name),this.items.stored[m].name==l&&k++);if(k<h){f=!1;break}}break;case "Is Player Statistics":h=ObjectLists.pc()[e[g].data.skill].name;e[g].data.levelUpper||(e[g].data.levelUpper=0);e[g].data.levelLower||(e[g].data.levelLower=0);
e[g].data.healthUpper||(e[g].data.healthUpper=0);e[g].data.healthLowe||(e[g].data.healthLower=0);e[g].data.xpUpper||(e[g].data.xpUpper=0);e[g].data.xpLower||(e[g].data.xpLower=0);if(0!=e[g].data.levelUpper||0!=e[g].data.levelLower)if(k=SkillBarsInstance.gb[h].level+1,k>e[g].data.levelUpper||k<e[g].data.levelLower){f=!1;break}if(0!=e[g].data.healthUpper||0!=e[g].data.healthLower)if(k=SkillBarsInstance.gb[h].currenthealth,k>e[g].data.healthUpper||k<e[g].data.healthLower){f=!1;break}if(0!=e[g].data.xpUpper||
0!=e[g].data.xpLower)if(k=SkillBarsInstance.gb[h].experience,console.log(k),console.log(e[g].data),k>e[g].data.xpUpper||k<e[g].data.xpLower)f=!1}if(!0==f)for(e=a[d].responses,g=0;g<e.length;g++)switch(e[g].type){case "Modify Player Stats":ObjectLists.pc()[e[g].data.skill]&&(f=ObjectLists.pc()[e[g].data.skill].name,G.mn(f,e[g].data.level),G.ln(f,e[g].data.health),G.nn(f,e[g].data.xp));break;case "Warp Player":f=e[g].data.index%S;h=Math.floor(e[g].data.index/S);this.n(32*f,32*h);H({changemap:e[g].data.mapnum,
setTo:e[g].data.index});E.cj(e[g].data.mapnum);E.dj(32*f,32*h);break;case "Open/Close Panel":f=1==e[g].data.visible?!0:!1;switch(e[g].data.panel){case 0:null==Inventory||Inventory.Q||(Inventory=null);!0==f?Inventory?Inventory.Qa():(Inventory=new InventoryPanel,Inventory.r(),Inventory.ea(),P.f(Inventory)):Inventory&&(Inventory.la(),Inventory.J(),Inventory=null);break;case 1:null==Equipment||Equipment.Q||(Equipment=null);!0==f?Equipment?Equipment.Qa():(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ea(),
P.f(Equipment)):Equipment&&(Equipment.la(),Equipment.J(),Equipment=null);break;case 2:null==Skills||Skills.Q||(Skills=null),!0==f?Skills?Skills.Qa():(Skills=new SkillsPanel,Skills.r(),Skills.ea(),P.f(Skills)):Skills&&(Skills.la(),Skills.J(),Skills=null)}break;case "Destroy":this.items.stored[c]=null,Inventory&&Inventory.Qa(),g=e.length}}return}B.Ob("No space in inventory to dequip this item.")},pl:function(){return this.items.stored},Hp:function(){return this.items.equipped}});
PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.r(a);return c};NonPlayerCharacter=Character.extend({d9:null,tx:!1,wX:function(a,c){this.tx=!0;this.Rc(function(){this.sq(a.x,a.y);this.tx=!1},c)},o8:function(){return this.tx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.r(a);return c};var Qa=r.Uc.extend({OD:null,b:null,ctor:function(){this._super()},OL:function(){},Kn:function(){},mi:function(){},ea:function(){this.b&&this.b.J();this.b=Ia(this);this.f(this.b)},la:function(){},r:function(){this.bE(1);this.Mx(!0);this.$b(!0);w.In(this);this._super()},oD:function(){r.log("Override onKeyDown in scene extended class to use keyboard")},Bl:function(){r.log("Override onKeyUp in scene extended class to use keyboard")},$W:function(a){this.OD=a},Oc:function(){return this.OD}});DropDownList=Qa.extend({list:null,WR:null,selected:null,b:null,m:null,cI:null,WJ:null,ot:null,ctor:function(){this._super();this.list=[];this.WR=0},r:function(a,c,d,e){this._super();a&&(this.m=a,this.cI=c,d&&(this.list=d),e&&this.n(e),this.WJ=w.HS(),w.In(this),this.mq(-1001),this.Mx(!0))},nb:function(a){for(var c=this.b.control_menu.Da(a.K),d=0;d<this.list.length;d++)this.ot&&!0!=this.ot[d].enabled||r.bb(r.rect(this.b.control_menu[d+""].q.F,this.b.control_menu[d+""].q.H,this.b.control_menu[d+""].c().width,
this.b.control_menu[d+""].c().height),c)&&this.cI(d,a);this.wV();return!0},wV:function(){w.In(this.WJ);this.J();Na()},eW:function(){this.ed(this.q.H-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].UH(a+8);this.b.control_menu.UH(a+8)},Pc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:r.a(0,24*(this.list.length-1)-24*
c),size:r.size(96,24),d:r.a(0,0),u:r.h(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:r.k(0,0,0),d:r.a(0,0.5),position:r.a(4,12)}}};return{panels:{children:{control_menu:{position:r.a(0,0),u:r.h(200,200,200,0),size:r.size(96,48),children:a}}}}},mi:function(a){a=this.b.control_menu.Da(a.K);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].l(r.h(200,200,200,200)),this.ot&&!0!=this.ot[c].enabled||r.bb(r.rect(this.b.control_menu[c+""].q.F,this.b.control_menu[c+""].q.H,
this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].l(r.h(255,0,0,255))}});DropDownList.Pd=function(a,c,d,e,f){var g=new DropDownList;g.r(a,c,d,e);g.b=Ia(g.Pc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.l(r.h(127,127,127,200));g.ot=f}g.f(g.b);g.eW();return g};Popup=Qa.extend({Ed:null,Ef:!1,r:function(){this.OD=this.Oc();this._super();w.In(this);this.TX();this.mq(-50)},p3:function(){this.J()},nb:function(a){var c=a.K;w.In(this);c=this.b.control_panel.Da(c);if(r.bb(r.rect(this.b.control_panel.exitBtn.q.F,this.b.control_panel.exitBtn.q.H,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.Q.Rc(function(){!1==d.Ef&&d.la();d.J();d=null});return!0}return r.bb(r.rect(this.b.q.x,this.b.q.y+this.b.control_panel.q.y,
this.b.control_panel.c().width,this.b.control_panel.c().height),a.K)?(this.Ed=this.b.ci(a),!0):!1},sd:function(a){return this.Ed?(a=a.K,this.b.n(r.a(a.x-this.Ed.x,a.y-this.Ed.y)),!0):!1},J:function(){v.rX(this.Oc(),this.b.q);this._super()},TX:function(){r.log("Ovveride setupPopup")},Oc:function(){r.log("No id given... using default 'Popup'");return"Popup"},Hf:function(){},ea:function(){this._super();var a=v.bT();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Oc()])){a=r.a(a.x,a.y);if(a.x>X.width-10||
a.y>X.height)a=r.a(8,100);this.b.n(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,hg:null,Oc:function(){return"Book"},Pc:function(){return{panels:{position:r.a(100,20),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(514,313),Z:"GUI/book.png",children:{pageBackbtn:{position:r.a(2,1),size:r.size(36,36),Z:"GUI/btnLeft.png",d:r.a(0,0)},pageForwardbtn:{position:r.a(475,1),size:r.size(36,36),Z:"GUI/btnRight.png",d:r.a(0,0)},leftPage:{label:this.hg[0],d:r.a(0,1),position:r.a(4,308),color:r.k(0,0,0)},rightPage:{label:1<this.hg.length?
this.hg[1]:"",d:r.a(0,1),position:r.a(260,308),color:r.k(0,0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,313),size:r.size(514,32),children:{header:{label:this.name,fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(490,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},r:function(a,c){this._super();this.name=a;this.content=c;this.hg=[];for(var d=c;d;)if(470>d.length){this.hg.push(d);break}else this.hg.push(d.substr(0,470)+"..."),d=d.substr(470);this.fV=Math.floor(this.hg.length/
2)-1;this.Xi=0},ea:function(){this._super();this.b.main_panel.leftPage.ic(r.size(248,0));this.b.main_panel.rightPage.ic(r.size(248,0));this.b.main_panel.pageBackbtn.v(!1);2>this.hg.length&&this.b.main_panel.pageForwardbtn.v(!1)},DT:function(){this.Xi++;this.b.main_panel.pageBackbtn.v(!0);this.Xi==this.fV&&this.b.main_panel.pageForwardbtn.v(!1);this.b.main_panel.leftPage.fa(this.hg[2*this.Xi]);this.hg[2*this.Xi+1]?this.b.main_panel.rightPage.fa(this.hg[2*this.Xi+1]):this.b.main_panel.rightPage.fa("")},
ET:function(){this.Xi--;this.b.main_panel.pageForwardbtn.v(!0);0==this.Xi&&this.b.main_panel.pageBackbtn.v(!1);this.b.main_panel.leftPage.fa(this.hg[2*this.Xi]);this.hg[2*this.Xi+1]&&this.b.main_panel.rightPage.fa(this.hg[2*this.Xi+1])},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=this.b.main_panel.Da(a.K);if(O(this.b.main_panel.pageForwardbtn,a))return this.DT(),!0;if(O(this.b.main_panel.pageBackbtn,a))return this.ET(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Oc:function(){return"Equipment"},Pc:function(){var a={};a.head={Z:"GUI/defaultitem.png",position:r.a(88,162),size:r.size(32,32),d:r.a(0,1)};a.legs={Z:"GUI/defaultitem.png",position:r.a(88,82),size:r.size(32,32),d:r.a(0,1)};a.feet={Z:"GUI/defaultitem.png",position:r.a(88,40),size:r.size(32,32),d:r.a(0,1)};a.body={Z:"GUI/defaultitem.png",position:r.a(88,122),size:r.size(32,32),d:r.a(0,1)};a.lArm={Z:"GUI/defaultitem.png",position:r.a(48,122),size:r.size(32,32),d:r.a(0,1)};
a.rArm={Z:"GUI/defaultitem.png",position:r.a(128,122),size:r.size(32,32),d:r.a(0,1)};a.mod={Z:"GUI/defaultitem.png",position:r.a(8,162),size:r.size(32,32),d:r.a(0,1)};return{panels:{position:r.a(100,300),children:{main_panel:{d:r.a(0,0),size:r.size(168,168),Z:"GUI/equipment.png",children:a},control_panel:{d:r.a(0,0),position:r.a(0,168),size:r.size(168,32),children:{header:{label:y["Equipment Header"],fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(144,6),size:r.size(20,20),d:r.a(0,
0),Z:"GUI/close.png"}}},item_name:{position:r.a(0,0),u:r.h(200,200,200,200),size:r.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(32,8)}}}}}}},Qa:function(){var a=A.B.ba.Hp();this.b.main_panel.head.ga(r.ia.e().ra("GUI/defaultitem.png"));this.b.main_panel.body.ga(r.ia.e().ra("GUI/defaultitem.png"));this.b.main_panel.legs.ga(r.ia.e().ra("GUI/defaultitem.png"));this.b.main_panel.feet.ga(r.ia.e().ra("GUI/defaultitem.png"));this.b.main_panel.lArm.ga(r.ia.e().ra("GUI/defaultitem.png"));
this.b.main_panel.rArm.ga(r.ia.e().ra("GUI/defaultitem.png"));this.b.main_panel.mod.ga(r.ia.e().ra("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in J)if(J[d].name==a[c].sprite.texture)var e=J[d].texture;this.b.main_panel[c].M(0,1);this.b.main_panel[c].ga(e);this.b.main_panel[c].Ub(r.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},kx:function(a){switch(a){case 0:A.B.ba.fS(this.m.ij);break;case 1:A.B.ba.vC(this.m.ij,"equipped")}},nb:function(a){if(this._super(a))return!0;
this.Ed=null;var c=this.b.main_panel.Da(a.K),d=A.B.ba.Hp(),e;for(e in d)if(d[e]&&O(this.b.main_panel[e],r.a(c.x,c.y+32)))return this.ij=e,this.b.item_name.v(!1),c=y["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",A.B.ba.Hp()[e].name),d=y["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",A.B.ba.Hp()[e].name),this.f(DropDownList.Pd(this,this.kx,[c,d],a.K)),!0},mi:function(a){a=this.b.main_panel.Da(a.K);this.b.item_name.v(!1);var c=A.B.ba.Hp(),d;for(d in c)if(c[d]&&O(this.b.main_panel[d],r.a(a.x,
a.y+32)))return this.b.item_name.content.fa(c[d].name),this.b.item_name.v(!0),this.b.item_name.W(this.b.item_name.content.c()),this.b.item_name.content.kb(this.b.item_name.content.c().width/2),this.b.item_name.n(r.a(this.b.main_panel[d].q.F-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].q.H)),!0},dt:function(){this.b.main_panel.head.aa()&&(this.Tc(this.dt),this.Qa())},ea:function(){this._super();this.b.main_panel.head.aa()?this.Qa():this.Zb(this.dt)}});Inventory=null;
InventoryPanel=Popup.extend({ij:null,gD:!1,Oc:function(){return"Inventory"},Pc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:r.size(32,32),position:r.a(40*c+8,40*(7-d)+40),Z:"GUI/defaultitem.png",d:r.a(0,1),children:{stacklabelbg:{position:r.a(1,1),size:r.size(10,6),d:r.a(0,0),u:r.h(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:r.k(0,0,0),d:r.a(0,0),position:r.a(0,0)}}}}};return{panels:{position:r.a(300,200),children:{main_panel:{d:r.a(0,0),Z:"GUI/inventory.png",
size:r.size(208,328),children:a},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(208,32),children:{header:{label:y["Inventory Header"],fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(184,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}},item_name:{position:r.a(0,0),u:r.h(200,200,200,200),size:r.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(32,8)}}}}}}},Mn:function(a,c){this.b.main_panel[a+""].stacklabelbg.v(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.v(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.fa(c),this.b.main_panel[a+""].stacklabelbg.W(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},Qa:function(){for(var a=A.B.ba.pl(),c=0;40>c;c++)if(a[c]){for(var d in J)if(J[d].name==a[c].sprite.texture)var e=J[d].texture;this.b.main_panel[c+""].M(0,1);this.b.main_panel[c+""].ga(e);this.b.main_panel[c+""].Ub(r.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.Mn(c,a[c].amount)}else this.b.main_panel[c+
""].ga(r.ia.e().ra("GUI/defaultitem.png")),this.Mn(c,0)},dt:function(){this.b.main_panel[Fa+""].aa()&&(this.Tc(this.dt),this.Qa())},ea:function(){this._super();this.b.main_panel[Fa+""].aa()?this.Qa():this.Zb(this.dt)},kx:function(a){switch(a){case 0:!0==this.m.gD?A.B.ba.wY(this.m.ij):A.B.ba.vC(this.m.ij,"stored");break;case 1:A.B.ba.vC(this.m.ij,"stored")}this.m.gD=!1},nb:function(a){if(this._super(a))return!0;this.Ed=null;for(var c=this.b.main_panel.Da(a.K),d=0;40>d;d++)if(A.B.ba.pl()[d]&&O(this.b.main_panel[d+
""],r.a(c.x,c.y+32))){var e=A.B.ba.pl()[d],c=[];e.script&&(c=ObjectLists.Jg()[e.script].data);for(var e=null,f=0;f<c.length;f++)if("Default Event"==c[f].type)for(var e="Use Item",g=c[f].responses,h=0;h<g.length;h++)switch(console.log(g[h].type),g[h].type){case "Equip Item":e=y["Item Dropdown Equip"]+"";break;case "Read Item":e=y["Item Dropdown Read"]+""}c=y["Item Dropdown Drop"]+"";c=c.replace("\x3cITEM\x3e",A.B.ba.pl()[d].name);e?(this.gD=!0,e=e.replace("\x3cITEM\x3e",A.B.ba.pl()[d].name),this.f(DropDownList.Pd(this,
this.kx,[e,c],a.K))):this.f(DropDownList.Pd(this,this.kx,[c],a.K));this.ij=d;this.b.item_name.v(!1);return!0}},mi:function(a){a=this.b.main_panel.Da(a.K);for(var c=0;40>c;c++)if(A.B.ba.pl()[c]&&O(this.b.main_panel[c+""],r.a(a.x,a.y+32)))return this.b.item_name.content.fa(A.B.ba.pl()[c].name),this.b.item_name.v(!0),this.b.item_name.W(this.b.item_name.content.c()),this.b.item_name.content.kb(this.b.item_name.content.c().width/2),this.b.item_name.n(r.a(this.b.main_panel[c+""].q.F-this.b.item_name.content.c().width/
2+16,this.b.main_panel[c+""].q.H)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Oc:function(){return"Sign"},Pc:function(){return{panels:{position:r.a(100,300),children:{control_panel:{d:r.a(0,0),size:r.size(128,96),Z:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:r.k(255,255,255),d:r.a(0,1),position:r.a(4,94)},exitBtn:{position:r.a(100,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},r:function(a){this._super();this.data=a},ea:function(){this._super();this.b.control_panel.content.ic(r.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({S:null,Oc:function(){return"Skills"},Jb:function(){this.S&&this.S.rc();var a=[],c=[];r.ia.e();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=r.D.create();a[d].W(420,32);var g=r.ca.create(r.h(0,0,0,127),316,1);g.n(r.a(4,0));var h=r.T.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.l(r.k(0,0,0));h.M(r.a(0,0));h.n(r.a(4,4));var k=r.T.create(f,"Arial",15);k.l(r.k(0,0,0));k.M(r.a(0.5,0));k.n(r.a(h.c().width+65,
4));var l=r.ca.create(r.h(255,255,255,255),144,k.c().height),m=r.ca.create(r.h(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.M(r.a(0,0));m=r.T.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.M(r.a(0,0));m.l(r.k(0,0,0));l.f(m);m.ed(1);l.M(r.a(0,0));l.n(r.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].W(324,k.c().height+8);d++}this.S=this.b.main_panel.list;this.S.Qd=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return r.size(324,c)};this.S.Cd=function(){return a.length};this.S.ve=function(c){return a[c].c()};this.S.te=function(c){return a[c]};this.S.yc=function(){};this.S.pa=ListView.create(this.S);this.S.pa.He(c);this.S.f(this.S.pa);this.b.main_panel.character_level.fa("LEVEL: "+e);this.b.main_panel.character_level.kb(306);this.b.main_panel.character_level.M(r.a(1,0))},Pc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,
0),size:r.size(365,328),children:{character_level:{label:"",position:r.a(2,310),d:r.a(0,0),color:r.k(0,0,0)},list:{size:r.size(324,308),u:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Skills",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},Qa:function(){},ea:function(){this._super();this.Qa();this.data=G.mT();this.Jb()}});
var G=r.Uc.extend({Cw:[],gb:null,wt:function(){var a=ObjectLists.pc(),c;for(c in this.Cw)this.Cw[c].J();this.Cw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.VR(a[c].name,a[c].healthbar,d);this.f(e);this.Cw.push(e);d++}this.n(r.a(0,X.height-32*d))},VR:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=r.ca.create(r.h(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.gb[a].currenthealth?this.gb[a].currenthealth/this.gb[a].maxhealth*300:1,23);e.dC=r.A.ib(r.ia.e().ra("GUI/healthbar.png"));e.n(10,32*d- -5*d-10);e.M(r.a(0,0));e.dC.n(-5,-4);e.dC.M(r.a(0,0));e.f(e.dC);a=r.T.create(a,"Arial",16);a.n(10,11.5);a.M(r.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;G.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new G,SkillBarsInstance.gb=a,SkillBarsInstance.wt());return SkillBarsInstance};
G.ln=function(a,c){SkillBarsInstance.gb[a].currenthealth+=c;0>SkillBarsInstance.gb[a].currenthealth&&(SkillBarsInstance.gb[a].currenthealth=0);SkillBarsInstance.gb[a].currenthealth>SkillBarsInstance.gb[a].maxhealth&&(SkillBarsInstance.gb[a].currenthealth=SkillBarsInstance.gb[a].maxhealth);SkillBarsInstance.wt();Skills&&Skills.Jb()};G.nn=function(a,c){SkillBarsInstance.gb[a].experience+=c;0>SkillBarsInstance.gb[a].experience&&(SkillBarsInstance.gb[a].experience=0);SkillBarsInstance.wt();Skills&&Skills.Jb()};
G.mn=function(a,c){SkillBarsInstance.gb[a].modifier+=c;0>SkillBarsInstance.gb[a].modifier&&(SkillBarsInstance.gb[a].modifier=0);SkillBarsInstance.wt();Skills&&Skills.Jb()};G.mT=function(){return SkillBarsInstance.gb};G.update=function(){SkillBarsInstance.wt()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,S:null,jb:null,jj:null,gf:null,hf:null,Q2:null,m:null,Oa:null,oL:null,aI:null,Ia:null,i:null,oq:null,lj:function(a){H({savescripts:a+"",scriptsdata:this.data})},Yi:function(a,c){H({savescriptswhole:c})},Oc:function(){return"Scripts"},la:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Rc(function(){c.cd(null)})}},r:function(a){this._super();this.data={data:[],name:null};this.Oa=null;a.data&&(this.data=a.data);this.m=a.m},ea:function(){this._super();this.Oa=
new Z(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(255,255,255),r.k(0,0,0));this.Oa.vb(!0);this.Jb()},Jb:function(){this.S&&this.S.rc();for(var a in this.gf)this.gf[a].rc(),this.gf[a].J();for(a in this.hf)this.hf[a].rc(),this.hf[a].J();var c=[],d=[],e=[],f=[],g=[],h=[],k=r.ia.e();this.gf=[];this.hf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=r.D.create();c[a].W(758,100);var l=r.ca.create(r.h(0,0,0,127),750,1);l.n(r.a(4,0));var m=r.ca.create(r.h(0,0,0,127),1,92);m.n(r.a(152,4));var n=r.ca.create(r.h(0,0,0,127),1,92);n.n(r.a(451,4));var p=this.data.data[a].type;"On Event End"==p&&(p+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");p=r.T.create(a+": "+p,"Arial",15);p.l(r.k(0,0,0));p.M(r.a(0,1));p.n(r.a(4,96));p.ic(r.size(100,0));var q=r.ca.create(r.h(0,255,0,60),259,100);
q.W(r.size(259,100));q.kb(451);q.M(r.a(0,0));c[a].f(q);var u=r.ca.create(r.h(0,255,0,60),259,100);u.W(r.size(259,100));u.kb(152);u.M(r.a(0,0));c[a].f(u);var x=r.A.ib(k.ra("GUI/trash.png"));x.n(r.a(120,4));x.M(r.a(0,0));x.vc="Delete";c[a].f(x);var z=r.A.ib(k.ra("GUI/edit.png"));z.n(r.a(96,4));z.M(r.a(0,0));z.vc="Edit";c[a].f(z);f.push([x,z]);for(x=0;x<this.data.data[a].responses.length;x++){d[a].push(r.D.create());d[a][x].W(259,32);var z=!0,D=r.T.create(x+1+": "+this.data.data[a].responses[x].type,
"Arial",15);D.l(r.k(0,0,0));D.M(r.a(0,0));D.n(r.a(4,4));D.ic(r.size(180,0));d[a][x].W(259,D.c().height+8);d[a][x].f(D);D=r.A.ib(k.ra("GUI/trash.png"));D.n(r.a(229,0));D.M(r.a(0,0));D.vc="Delete";d[a][x].f(D);switch(this.data.data[a].responses[x].type){case "Destroy":case "Attack":case "Run Away":z=!1}z?(z=r.A.ib(k.ra("GUI/edit.png")),z.n(r.a(205,0)),z.M(r.a(0,0)),z.vc="Edit",d[a][x].f(z),g[a].push([D,z])):g[a].push([D])}x=r.ca.create(r.h(70,200,70,255),90,26);z=r.T.create("+","Arial",20);z.n(45,13);
z.M(r.a(0.5,0.5));x.n(r.a(84.5,0));x.vc="Add";x.f(z);g[a].push([x]);d[a].push(x);this.hf[a]=u;this.hf[a].identifier=a;var C=this;this.hf[a].Qd=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;return r.size(259,a)};this.hf[a].Cd=function(){return d[this.identifier].length};this.hf[a].ve=function(a){return d[this.identifier][a].c()};this.hf[a].te=function(a){return d[this.identifier][a]};this.hf[a].yc=function(a,c,d){C.Da(d.K);if(null==C.i)switch(a){case "Delete":C.Q.f(DropDownList.Pd(C,
C.eS,["Cancel","Delete"],d.K));C.jb=c;C.jj=this.identifier;break;case "Edit":C.nI(this.identifier,"responses",c);break;case "Add":a="Talk;Give Talk Options;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<C.data.data[this.identifier].responses.length;e++)"Repeat Responses"==C.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(C.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}C.Q.f(DropDownList.Pd(C,C.gR,a,d.K,c));C.jj=this.identifier;break;case "Use":C.m.nt(c,C.Nc[c])}};this.hf[a].pa=ListView.create(this.hf[a]);this.hf[a].pa.He(g[a]);
this.hf[a].f(this.hf[a].pa);for(x=0;x<this.data.data[a].requirements.length;x++)e[a].push(r.D.create()),e[a][x].W(259,32),u=r.T.create(x+1+": "+this.data.data[a].requirements[x].type,"Arial",15),u.l(r.k(0,0,0)),u.M(r.a(0,0)),u.n(r.a(4,4)),u.ic(r.size(180,0)),e[a][x].W(259,u.c().height+8),e[a][x].f(u),D=r.A.ib(k.ra("GUI/trash.png")),D.n(r.a(229,0)),D.M(r.a(0,0)),D.vc="Delete",e[a][x].f(D),z=r.A.ib(k.ra("GUI/edit.png")),z.n(r.a(205,0)),z.M(r.a(0,0)),z.vc="Edit",e[a][x].f(z),h[a].push([D,z]);u=r.ca.create(r.h(70,
200,70,255),90,26);x=r.T.create("+","Arial",20);x.n(45,13);x.M(r.a(0.5,0.5));u.n(r.a(84.5,0));u.vc="Add";u.f(x);h[a].push([u]);e[a].push(u);this.gf[a]=q;this.gf[a].identifier=a;C=this;this.gf[a].Qd=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return r.size(259,a)};this.gf[a].Cd=function(){return e[this.identifier].length};this.gf[a].ve=function(a){return e[this.identifier][a].c()};this.gf[a].te=function(a){return e[this.identifier][a]};this.gf[a].yc=
function(a,c,d){C.Da(d.K);if(null==C.i)switch(a){case "Delete":C.Q.f(DropDownList.Pd(C,C.dS,["Cancel","Delete"],d.K));C.jb=c;C.jj=this.identifier;break;case "Edit":C.nI(this.identifier,"requirements",c);break;case "Add":a=["Has Player Item","Is Player Statistics","Is Quest Point","Is Panel Visibility","Is Player Inventory Space"];switch(C.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}C.Q.f(DropDownList.Pd(C,C.fR,a,d.K));C.jj=
this.identifier;break;case "Use":C.m.nt(c,C.Nc[c])}};this.gf[a].pa=ListView.create(this.gf[a]);this.gf[a].pa.He(h[a]);this.gf[a].f(this.gf[a].pa);c[a].f(p);c[a].f(l);c[a].f(m);c[a].f(n)}a=r.ca.create(r.h(70,200,70,255),90,26);g=r.T.create("+","Arial",20);g.n(45,13);g.M(r.a(0.5,0.5));a.n(r.a(334,0));a.vc="Add";a.f(g);f.push([a]);c.push(a);this.S=this.b.main_panel.list;C=this;this.S.Qd=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return r.size(758,a)};this.S.Cd=function(){return c.length};
this.S.ve=function(a){return c[a].c()};this.S.te=function(a){return c[a]};this.S.yc=function(a,c,d){C.Da(d.K);if(null==C.i)switch(a){case "Delete":a="Delete";C.KT(c)&&(a="Delete (Will destroy all child events)");C.Q.f(DropDownList.Pd(C,C.cS,["Cancel",a],d.K));C.jb=c;break;case "Add":a=["Default Interaction","On Event End","On Examine","On Talk Option Selected"];var e=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1}];0==C.data.data.length&&(e[1].enabled=!1);C.zS()&&(e[3].enabled=!0);switch(C.data.specifier){case "Item":a.push("On Pickup",
"On Drop","On Dequip","On Trade");e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),e[0].enabled=!1}C.Q.f(DropDownList.Pd(C,C.bR,a,d.K,e));C.jb=c;break;case "Use":C.m.nt(c,C.Nc[c])}};this.S.pa=ListView.create(this.S);this.S.pa.He(f);this.S.f(this.S.pa)},dI:function(a){for(var c=
0;c<this.data.data.length;c++)"On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.dI(c),this.data.data.splice(c,1))},KT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},zS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Give Talk Options"==this.data.data[a].responses[c].type)return!0;return!1},cS:function(a){switch(a){case 1:null!=
this.m.jb&&(this.m.dI(this.m.jb),this.m.data.data.splice(this.m.jb,1),this.m.Jb(),this.m.jb=null)}},eS:function(a){switch(a){case 1:null!=this.m.jb&&(this.m.data.data[this.m.jj].responses.splice(this.m.jb,1),this.m.Jb(),this.m.jb=null,this.m.jj=null)}},dS:function(a){switch(a){case 1:null!=this.m.jb&&(this.m.data.data[this.m.jj].requirements.splice(this.m.jb,1),this.m.Jb(),this.m.jb=null,this.m.jj=null)}},aR:function(a){this.m.data.data.push({type:"On Event End",responses:[],requirements:[],data:{attachedEvent:a}});
this.m.Jb()},bR:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:for(var d=[],e=0;e<this.m.data.data.length;e++)d.push(e+": "+this.m.data.data[e].type);this.Q.f(DropDownList.Pd(this.m,this.m.aR,d,c.K));return;case 2:d="On Examine";break;case 3:d="On Talk Option Selected"}if(""==d)switch(this.m.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;case "Tile":switch(a){case 4:d="Interact On";
break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.m.data.data.push({type:d,responses:[],requirements:[],data:{}});this.m.Jb()},gR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Give Talk Options";break;case 2:c="Destroy";break;case 3:c="Give /Take Item";break;case 4:c="Set Quest Point";break;case 5:c="Warp Player";break;case 6:c="Wait";break;case 7:c="Repeat Responses";
break;case 8:c="Open/Close Panel";break;case 9:c="Modify Player Stats"}if(""==c)switch(this.m.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic"}}this.m.data.data[this.m.jj].responses.push({type:c,data:{}});this.m.Jb()},fR:function(a){var c="";
switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visbility";break;case 4:c="Is Player Inventory Space"}if(""==c)switch(this.m.data.specifier){case "Tile":switch(a){case 5:c="Is Event Fired By"}break;case "NPC":switch(a){case 5:c="Is NPC Statistics";break;case 6:c="Is NPC Actioning"}}this.m.data.data[this.m.jj].requirements.push({type:c,data:{}});this.m.Jb()},Pc:function(){return{panels:{position:r.a(0,60),children:{background_image:{Z:"GUI/event_panel.png",
d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(1E3,400),children:{list:{size:r.size(758,360),u:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)},okbtn:{position:r.a(4,364),size:r.size(32,32),Z:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(46,364),size:r.size(32,32),Z:"GUI/cross_icon.png",d:r.a(0,0)},defaultsbtn:{position:r.a(542,364),size:r.size(64,32),u:r.h(0,255,0,255),d:r.a(0,0),children:{contents:{label:"Defaults",position:r.a(32,16),d:r.a(0.5,0.5),color:r.k(0,0,0)}}},specifier:{position:r.a(620,
364),size:r.size(128,32),u:r.h(0,255,0,255),d:r.a(0,0),children:{contents:{label:"Includes: None",position:r.a(64,16),d:r.a(0.5,0.5),color:r.k(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(110,368),color:r.k(0,0,0)},nameEntry:{position:r.a(180,364),size:r.size(340,32),u:r.h(255,255,255,255)}}},control_panel:{d:r.a(0,0),position:r.a(0,400),size:r.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(976,6),size:r.size(20,
20),d:r.a(0,0),Z:"GUI/close.png"}}},subEditorOver:{visible:!1,u:r.h(0,0,0,127),position:r.a(0,0),size:r.size(800,400)},mainEditorOver:{u:r.h(0,0,0,127),position:r.a(800,0),size:r.size(200,400)}}}}},nI:function(a,c,d){this.Ia={event:a,listtype:c,id:d};this.oq=this.data.data[a][c][d].type;this.XX()},caa:function(a){this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data=za(a);this.$w();this.Ia=null;this.Jb()},baa:function(){this.$w();this.Ia=null},defaultSelected:function(a,c){0<this.m.data.data.length?
(this.m.aI=a,this.Q.f(DropDownList.Pd(this.m,this.m.gS,["Cancel","Clear Script (Required)"],c.K))):this.m.BK(a)},Y2:function(){},vE:null,wE:null,xE:null,Ix:null,$J:null,JJ:null,hj:null,ij:null,ay:null,Ol:null,Pl:null,Nl:null,cy:null,dy:null,by:null,RJ:null,Vn:0,HJ:null,CH:null,hx:null,Bc:null,iy:null,XX:function(){this.b.subEditorOver.v(!0);this.b.mainEditorOver.v(!1);var a={panels:{position:r.a(802,0),children:{}}},c=this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data;switch(this.oq){case "Warp Player":a.panels.children=
{mapNumberLabel:{label:"Map ID",d:r.a(0,0),position:r.a(12,374)},mapNumberText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)},mapXLabel:{label:"Map X",d:r.a(0,0),position:r.a(12,310)},mapXText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,276),size:r.size(80,32)},mapYLabel:{label:"Map Y",d:r.a(0,0),position:r.a(100,310)},mapYText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,276),size:r.size(80,32)}};break;case "Talk":case "Read Item":a.panels.children={sayLabel:{label:"Say:",
d:r.a(0,0),position:r.a(12,374)},sayText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,50),size:r.size(174,322)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",d:r.a(0,0),position:r.a(12,374)},questList:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},objectiveLabel:{label:"Objective:",d:r.a(0,0),position:r.a(12,189)},objectiveList:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,50),size:r.size(154,135)}};break;
case "Give /Take Item":case "Has Player Item":a.panels.children={itemsLabel:{label:"Item:",d:r.a(0,0),position:r.a(12,374)},itemList:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},amountLabel:{label:"Amount:",d:r.a(0,0),position:r.a(12,189)},amountText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,153),size:r.size(154,32)},amountNote:{label:"Has Player Item"==this.oq?"":"Use negative item amounts to take away. Use positive amounts to give.",d:r.a(0,1),position:r.a(12,
145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",d:r.a(0,0),position:r.a(12,374)},skillList:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},levelLabel:{label:"Level Modify",d:r.a(0,0),position:r.a(12,205)},levelText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,169),size:r.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",d:r.a(0,0),position:r.a(12,145)},expText:{u:r.h(255,255,255,255),d:r.a(0,0),
position:r.a(12,109),size:r.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",d:r.a(0,0),position:r.a(12,85)},healthText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,49),size:r.size(154,32)}};break;case "Is Panel Visbility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",d:r.a(0,0),position:r.a(12,374)},panelList:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)},visibleLabel:{label:"Visibility:",d:r.a(0,0),position:r.a(12,205)},
visibleButton:{u:r.h(255,0,0,255),d:r.a(0,0),position:r.a(12,169),size:r.size(154,32),children:{content:{position:r.a(77,16),d:r.a(0.5,0.5),label:"Invisible",color:r.k(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",d:r.a(0,0),position:r.a(12,374)},objectList:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",d:r.a(0,0),position:r.a(12,374)},
actionList:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",d:r.a(0,0),position:r.a(12,374)},spaceText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",d:r.a(0,0),position:r.a(12,374)},timeText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)}};break;
case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",d:r.a(0,0),position:r.a(12,374)},amountText:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,340),size:r.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",d:r.a(0,1),position:r.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",d:r.a(0,0),position:r.a(12,374)},skillList:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,230),size:r.size(154,
135)},levelLabel:{label:"Level Range",d:r.a(0,0),position:r.a(12,205)},levelDash:{label:"-",d:r.a(0,0),position:r.a(91,174)},levelTextLower:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,169),size:r.size(75,32)},levelTextUpper:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,169),size:r.size(75,32)},expLabel:{label:"XP Range: (% allowed)",d:r.a(0,0),position:r.a(12,145)},expDash:{label:"-",d:r.a(0,0),position:r.a(91,114)},expTextLower:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,109),
size:r.size(75,32)},expTextUpper:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,109),size:r.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",d:r.a(0,0),position:r.a(12,85)},healthDash:{label:"-",d:r.a(0,0),position:r.a(91,54)},healthTextLower:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(12,49),size:r.size(75,32)},healthTextUpper:{u:r.h(255,255,255,255),d:r.a(0,0),position:r.a(100,49),size:r.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",
d:r.a(0,0),position:r.a(12,374)},headButton:{u:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,320),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Head",color:r.k(0,0,0)}}},bodyButton:{u:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Body",color:r.k(0,0,0)}}},legButton:{u:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,240),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"Legs",color:r.k(0,0,0)}}},feetButton:{u:r.h(255,0,0,255),d:r.a(0,0),position:r.a(69,200),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Feet",color:r.k(0,0,0)}}},lArmButton:{u:r.h(255,0,0,255),d:r.a(0,0),position:r.a(10,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"L Arm",color:r.k(0,0,0)}}},rArmButton:{u:r.h(255,0,0,255),d:r.a(0,0),position:r.a(128,280),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,
0.5),label:"R Arm",color:r.k(0,0,0)}}},modButton:{u:r.h(255,0,0,255),d:r.a(0,0),position:r.a(10,160),size:r.size(55,32),children:{content:{position:r.a(28,16),d:r.a(0.5,0.5),label:"Mod",color:r.k(0,0,0)}}}}}a.panels.children.okbtn={position:r.a(62,8),size:r.size(32,32),Z:"GUI/tick_icon.png",d:r.a(0,0)};a.panels.children.cancelbtn={position:r.a(106,8),size:r.size(32,32),Z:"GUI/cross_icon.png",d:r.a(0,0)};this.i=Ia(a,!0);this.b.f(this.i);switch(this.oq){case "Warp Player":var d=a=1;c.index&&(a=c.index%
S,d=Math.floor(c.index/S));this.vE=new Z(this.i.mapNumberText,r.size(this.i.mapNumberText.c().width,this.i.mapNumberText.c().height),r.a(0,this.i.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",r.h(255,255,255),r.k(0,0,0));this.vE.vb(!0);this.wE=new Z(this.i.mapXText,r.size(this.i.mapXText.c().width,this.i.mapXText.c().height),r.a(0,this.i.mapXText.c().height),a,r.h(255,255,255),r.k(0,0,0));this.wE.vb(!0);this.xE=new Z(this.i.mapYText,r.size(this.i.mapYText.c().width,
this.i.mapYText.c().height),r.a(0,this.i.mapYText.c().height),d,r.h(255,255,255),r.k(0,0,0));this.xE.vb(!0);break;case "Talk":case "Read Item":this.Ix=new Z(this.i.sayText,r.size(this.i.sayText.c().width,this.i.sayText.c().height),r.a(0,this.i.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",r.h(255,255,255),r.k(0,0,0),!0);this.Ix.vb(!0);this.Ix.Gd(!1);break;case "Is Quest Point":case "Set Quest Point":for(var e=[],a=[],f=ObjectLists.Hs(),d=0;d<f.length;d++){e[d]=r.D.create();var g=r.ca.create(r.h(0,
0,0,127),154,1),h=r.T.create(f[d].name,"Arial",15);h.l(r.k(0,0,0));h.M(r.a(0,0));h.n(r.a(4,4));h.ic(r.size(126,0));var k=r.A.ib(r.ia.e().ra("GUI/use.png"));k.n(r.a(130,0));k.M(r.a(0,0));k.vc="Use";e[d].W(154,h.c().height+8);k.ed((h.c().height+8)/2-10);a.push([k]);var l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8);e[d].f(l);e[d].Cc=l;e[d].f(g);e[d].f(h);e[d].f(k)}var m=this;this.i.questList.Qd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.questList.Cd=
function(){return e.length};this.i.questList.ve=function(a){return e[a].c()};this.i.questList.te=function(a){return e[a]};this.i.questList.$i=function(a){return e[a].Cc};this.i.questList.yc=function(a,c){if("Use"==a){m.i.objectiveList.pa&&m.i.objectiveList.pa.J();this.pa.Cc(c);m.$J=c;for(var d=[],e=[],f=r.ia.e(),g=ObjectLists.Hs()[c].objectiveList,h=0;h<g.length;h++){d[h]=r.D.create();var k=r.ca.create(r.h(0,0,0,127),154,1);k.n(r.a(0,0));var l=r.T.create(g[h],"Arial",15);l.l(r.k(0,0,0));l.M(r.a(0,
0));l.n(r.a(4,4));l.ic(r.size(126,0));var M=r.A.ib(f.ra("GUI/use.png"));M.n(r.a(130,0));M.M(r.a(0,0));M.vc="Use";e.push([M]);d[h].W(126,l.c().height+8);M.ed((l.c().height+8)/2-10);var R=r.ca.create(r.h(255,255,255,255),154,l.c().height+8);d[h].f(R);d[h].Cc=R;d[h].f(k);d[h].f(l);d[h].f(M)}m.i.objectiveList.Qd=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return r.size(154,a)};m.i.objectiveList.Cd=function(){return d.length};m.i.objectiveList.$i=function(a){return d[a].Cc};m.i.objectiveList.ve=
function(a){return d[a].c()};m.i.objectiveList.te=function(a){return d[a]};m.i.objectiveList.yc=function(a,c){this.pa.Cc(c);m.JJ=c};m.i.objectiveList.pa=ListView.create(m.i.objectiveList);m.i.objectiveList.pa.He(e);m.i.objectiveList.f(m.i.objectiveList.pa)}};this.i.questList.pa=ListView.create(this.i.questList);this.i.questList.pa.He(a);this.i.questList.f(this.i.questList.pa);null!=c.quest&&"undefined"!==c.quest&&(this.i.questList.yc("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.i.objectiveList.yc("Use",
c.objective));break;case "Give /Take Item":case "Has Player Item":this.i.amountNote.ic(r.size(180,0));e=[];a=[];f=ObjectLists.se();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.T.create(f[d].name,"Arial",15),h.l(r.k(0,0,0)),h.M(r.a(0,0)),h.n(r.a(4,4)),h.ic(r.size(126,0)),k=r.A.ib(r.ia.e().ra("GUI/use.png")),k.n(r.a(130,0)),k.M(r.a(0,0)),k.vc="Use",e[d].W(154,h.c().height+8),k.ed((h.c().height+8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+
8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.itemList.Qd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.itemList.Cd=function(){return e.length};this.i.itemList.ve=function(a){return e[a].c()};this.i.itemList.te=function(a){return e[a]};this.i.itemList.$i=function(a){return e[a].Cc};this.i.itemList.yc=function(a,c){"Use"==a&&(this.pa.Cc(c),m.ij=c)};this.i.itemList.pa=ListView.create(this.i.itemList);this.i.itemList.pa.He(a);this.i.itemList.f(this.i.itemList.pa);
null!=c.item&&"undefined"!==c.item&&this.i.itemList.yc("Use",c.item);this.hj=new Z(this.i.amountText,r.size(this.i.amountText.c().width,this.i.amountText.c().height),r.a(0,this.i.amountText.c().height),c.amount?c.amount:"0",r.h(255,255,255),r.k(0,0,0));this.hj.vb(!0);this.hj.Gd(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.pc();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.T.create(f[d].name,"Arial",15),h.l(r.k(0,0,0)),h.M(r.a(0,
0)),h.n(r.a(4,4)),h.ic(r.size(126,0)),k=r.A.ib(r.ia.e().ra("GUI/use.png")),k.n(r.a(130,0)),k.M(r.a(0,0)),k.vc="Use",e[d].W(154,h.c().height+8),k.ed((h.c().height+8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.skillList.Qd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.skillList.Cd=function(){return e.length};this.i.skillList.ve=function(a){return e[a].c()};this.i.skillList.te=
function(a){return e[a]};this.i.skillList.$i=function(a){return e[a].Cc};this.i.skillList.yc=function(a,c){"Use"==a&&(this.pa.Cc(c),m.ay=c)};this.i.skillList.pa=ListView.create(this.i.skillList);this.i.skillList.pa.He(a);this.i.skillList.f(this.i.skillList.pa);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.yc("Use",c.skill);this.Ol=new Z(this.i.levelText,r.size(this.i.levelText.c().width,this.i.levelText.c().height),r.a(0,this.i.levelText.c().height),c.level?c.level:"0",r.h(255,255,255),r.k(0,
0,0));this.Ol.vb(!0);this.Ol.Gd(!1);this.Pl=new Z(this.i.expText,r.size(this.i.expText.c().width,this.i.expText.c().height),r.a(0,this.i.expText.c().height),c.xp?c.xp:"0",r.h(255,255,255),r.k(0,0,0));this.Pl.vb(!0);this.Pl.Gd(!1);this.Nl=new Z(this.i.healthText,r.size(this.i.healthText.c().width,this.i.healthText.c().height),r.a(0,this.i.healthText.c().height),c.health?c.health:"0",r.h(255,255,255),r.k(0,0,0));this.Nl.vb(!0);this.Nl.Gd(!1);break;case "Is Panel Visbility":case "Open/Close Panel":e=
[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.T.create(f[d],"Arial",15),h.l(r.k(0,0,0)),h.M(r.a(0,0)),h.n(r.a(4,4)),h.ic(r.size(126,0)),k=r.A.ib(r.ia.e().ra("GUI/use.png")),k.n(r.a(130,0)),k.M(r.a(0,0)),k.vc="Use",e[d].W(154,h.c().height+8),k.ed((h.c().height+8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.panelList.Qd=
function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.panelList.Cd=function(){return e.length};this.i.panelList.ve=function(a){return e[a].c()};this.i.panelList.te=function(a){return e[a]};this.i.panelList.$i=function(a){return e[a].Cc};this.i.panelList.yc=function(a,c){"Use"==a&&(this.pa.Cc(c),m.RJ=c)};this.i.panelList.pa=ListView.create(this.i.panelList);this.i.panelList.pa.He(a);this.i.panelList.f(this.i.panelList.pa);null!=c.panel&&"undefined"!==c.panel&&this.i.panelList.yc("Use",
c.panel);this.Vn=1==c.visible?1:0;1==this.Vn&&(this.i.visibleButton.l(r.h(0,255,0,255)),this.i.visibleButton.content.fa("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.T.create(f[d],"Arial",15),h.l(r.k(0,0,0)),h.M(r.a(0,0)),h.n(r.a(4,4)),h.ic(r.size(126,0)),k=r.A.ib(r.ia.e().ra("GUI/use.png")),k.n(r.a(130,0)),k.M(r.a(0,0)),k.vc="Use",e[d].W(154,h.c().height+8),k.ed((h.c().height+8)/2-10),a.push([k]),
l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.objectList.Qd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.objectList.Cd=function(){return e.length};this.i.objectList.ve=function(a){return e[a].c()};this.i.objectList.te=function(a){return e[a]};this.i.objectList.$i=function(a){return e[a].Cc};this.i.objectList.yc=function(a,c){"Use"==a&&(this.pa.Cc(c),m.HJ=c)};this.i.objectList.pa=ListView.create(this.i.objectList);
this.i.objectList.pa.He(a);this.i.objectList.f(this.i.objectList.pa);null!=c.object&&"undefined"!==c.object&&this.i.objectList.yc("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.T.create(f[d],"Arial",15),h.l(r.k(0,0,0)),h.M(r.a(0,0)),h.n(r.a(4,4)),h.ic(r.size(126,0)),k=r.A.ib(r.ia.e().ra("GUI/use.png")),k.n(r.a(130,0)),k.M(r.a(0,0)),k.vc="Use",e[d].W(154,h.c().height+8),k.ed((h.c().height+
8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.actionList.Qd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.actionList.Cd=function(){return e.length};this.i.actionList.ve=function(a){return e[a].c()};this.i.actionList.te=function(a){return e[a]};this.i.actionList.$i=function(a){return e[a].Cc};this.i.actionList.yc=function(a,c){"Use"==a&&(this.pa.Cc(c),m.CH=c)};this.i.actionList.pa=
ListView.create(this.i.actionList);this.i.actionList.pa.He(a);this.i.actionList.f(this.i.actionList.pa);null!=c.action&&"undefined"!==c.action&&this.i.actionList.yc("Use",c.action);break;case "Is Player Inventory Space":this.hx=new Z(this.i.spaceText,r.size(this.i.spaceText.c().width,this.i.spaceText.c().height),r.a(0,this.i.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",r.h(255,255,255),r.k(0,0,0));this.hx.vb(!0);this.hx.Gd(!1);break;case "Wait":this.iy=new Z(this.i.timeText,
r.size(this.i.timeText.c().width,this.i.timeText.c().height),r.a(0,this.i.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",r.h(255,255,255),r.k(0,0,0));this.iy.vb(!0);this.iy.Gd(!1);break;case "Repeat Responses":this.i.amountNote.ic(r.size(180,0));this.ID=new Z(this.i.amountText,r.size(this.i.amountText.c().width,this.i.amountText.c().height),r.a(0,this.i.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",r.h(255,255,255),r.k(0,0,0));this.ID.vb(!0);this.ID.Gd(!1);
break;case "Is Player Statistics":case "Is NPC Statistics":e=[];a=[];f=ObjectLists.pc();for(d=0;d<f.length;d++)e[d]=r.D.create(),g=r.ca.create(r.h(0,0,0,127),154,1),h=r.T.create(f[d].name,"Arial",15),h.l(r.k(0,0,0)),h.M(r.a(0,0)),h.n(r.a(4,4)),h.ic(r.size(126,0)),k=r.A.ib(r.ia.e().ra("GUI/use.png")),k.n(r.a(130,0)),k.M(r.a(0,0)),k.vc="Use",e[d].W(154,h.c().height+8),k.ed((h.c().height+8)/2-10),a.push([k]),l=r.ca.create(r.h(255,255,255,255),154,h.c().height+8),e[d].f(l),e[d].Cc=l,e[d].f(g),e[d].f(h),
e[d].f(k);m=this;this.i.skillList.Qd=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return r.size(154,a)};this.i.skillList.Cd=function(){return e.length};this.i.skillList.ve=function(a){return e[a].c()};this.i.skillList.te=function(a){return e[a]};this.i.skillList.$i=function(a){return e[a].Cc};this.i.skillList.yc=function(a,c){"Use"==a&&(this.pa.Cc(c),m.ay=c)};this.i.skillList.pa=ListView.create(this.i.skillList);this.i.skillList.pa.He(a);this.i.skillList.f(this.i.skillList.pa);null!=
c.skill&&"undefined"!==c.skill&&this.i.skillList.yc("Use",c.skill);this.Ol=new Z(this.i.levelTextLower,r.size(this.i.levelTextLower.c().width,this.i.levelTextLower.c().height),r.a(0,this.i.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",r.h(255,255,255),r.k(0,0,0));this.Ol.vb(!0);this.Ol.Gd(!1);this.Pl=new Z(this.i.expTextLower,r.size(this.i.expTextLower.c().width,this.i.expTextLower.c().height),r.a(0,this.i.expTextLower.c().height),null!=
c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",r.h(255,255,255),r.k(0,0,0));this.Pl.vb(!0);this.Pl.Gd(!1);this.Nl=new Z(this.i.healthTextLower,r.size(this.i.healthTextLower.c().width,this.i.healthTextLower.c().height),r.a(0,this.i.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",r.h(255,255,255),r.k(0,0,0));this.Nl.vb(!0);this.Nl.Gd(!1);this.cy=new Z(this.i.levelTextUpper,r.size(this.i.levelTextUpper.c().width,this.i.levelTextUpper.c().height),
r.a(0,this.i.levelTextUpper.c().height),null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",r.h(255,255,255),r.k(0,0,0));this.cy.vb(!0);this.cy.Gd(!1);this.dy=new Z(this.i.expTextUpper,r.size(this.i.expTextUpper.c().width,this.i.expTextUpper.c().height),r.a(0,this.i.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",r.h(255,255,255),r.k(0,0,0));this.dy.vb(!0);this.dy.Gd(!1);this.by=new Z(this.i.healthTextUpper,r.size(this.i.healthTextUpper.c().width,
this.i.healthTextUpper.c().height),r.a(0,this.i.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",r.h(255,255,255),r.k(0,0,0));this.by.vb(!0);this.by.Gd(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Bc="head",this.pk(c.equip)):this.pk("head")}},$w:function(){this.b.subEditorOver.v(!1);this.b.mainEditorOver.v(!0);this.oq=null;this.i.J();this.i=null},BK:function(a){switch(a){case 0:this.Ln(1,!0);this.data.data=
[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.Ln(1,!0);this.data.data=[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.Ln(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.Ln(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.Ln(1,
!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.Jb()},Ln:function(a,c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.fa("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.fa("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.fa("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.fa("Includes: None")}this.data.data=
[];c||this.Jb()},hS:function(a){1==a&&this.m.Ln(this.m.oL)},gS:function(a){1==a&&this.m.BK(this.m.aI)},pk:function(a){this.i.headButton.l(r.h(255,255,255,255));this.i.bodyButton.l(r.h(255,255,255,255));this.i.legButton.l(r.h(255,255,255,255));this.i.feetButton.l(r.h(255,255,255,255));this.i.lArmButton.l(r.h(255,255,255,255));this.i.rArmButton.l(r.h(255,255,255,255));this.i.modButton.l(r.h(255,255,255,255));switch(a){case "head":this.Bc=a;this.i.headButton.l(r.h(255,0,0,255));return;case "body":this.Bc=
a;this.i.bodyButton.l(r.h(255,0,0,255));return;case "legs":this.Bc=a;this.i.legButton.l(r.h(255,0,0,255));return;case "feet":this.Bc=a;this.i.feetButton.l(r.h(255,0,0,255));return;case "mod":this.Bc=a;this.i.modButton.l(r.h(255,0,0,255));return;case "bothArms":this.Bc=a;this.i.lArmButton.l(r.h(255,0,0,255));this.i.rArmButton.l(r.h(255,0,0,255));return}"bothArms"!=this.Bc&&"lArm"!=this.Bc&&"rArm"!=this.Bc&&"lArm"==a?(this.i.lArmButton.l(r.h(255,0,0,255)),this.Bc="lArm"):"bothArms"!=this.Bc&&"lArm"!=
this.Bc&&"rArm"!=this.Bc&&"rArm"==a?(this.i.rArmButton.l(r.h(255,0,0,255)),this.Bc="rArm"):"rArm"==this.Bc&&"lArm"==a?(this.i.lArmButton.l(r.h(255,0,0,255)),this.i.rArmButton.l(r.h(255,0,0,255)),this.Bc="bothArms"):"lArm"==this.Bc&&"rArm"==a?(this.i.lArmButton.l(r.h(255,0,0,255)),this.i.rArmButton.l(r.h(255,0,0,255)),this.Bc="bothArms"):"bothArms"==this.Bc&&"rArm"==a?(this.i.lArmButton.l(r.h(255,0,0,255)),this.Bc="lArm"):"bothArms"==this.Bc&&"lArm"==a&&(this.i.rArmButton.l(r.h(255,0,0,255)),this.Bc=
"rArm")},eY:function(a,c){if(0<this.m.data.data.length)return this.m.oL=a,this.Q.f(DropDownList.Pd(this.m,this.m.hS,["Cancel","Clear Script (Required)"],c.K)),!1;this.m.Ln(a)},nb:function(a){if(this._super(a))return!0;this.Ed=null;var c=a.K;if(this.i){c=this.i.Da(c);if(O(this.i.okbtn,c)){switch(this.oq){case "Warp Player":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={mapnum:parseInt(this.vE.V()),index:T(parseInt(this.wE.V()),Pa-parseInt(this.xE.V()))};break;case "Talk":case "Read Item":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data=
{say:this.Ix.V()};break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={quest:this.$J,objective:this.JJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={item:this.ij,amount:parseInt(this.hj.V())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={skill:this.ay,level:parseInt(this.Ol.V()),xp:parseInt(this.Pl.V()),
health:parseInt(this.Nl.V())};break;case "Is Panel Visbility":case "Open/Close Panel":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={panel:this.RJ,visible:this.Vn};break;case "Is Event Fired By":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={object:this.HJ};break;case "Is NPC Actioning":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={action:this.CH};break;case "Is Player Inventory Space":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data=
{space:parseInt(this.hx.V())};break;case "Wait":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={time:parseInt(this.iy.V())};break;case "Repeat Responses":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={amount:parseInt(this.ID.V())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={skill:this.ay,levelLower:parseInt(this.Ol.V()),xpLower:parseInt(this.Pl.V()),healthLower:parseInt(this.Nl.V()),
levelUpper:parseInt(this.cy.V()),xpUpper:parseInt(this.dy.V()),healthUpper:parseInt(this.by.V())};break;case "Equip Item":this.data.data[this.Ia.event][this.Ia.listtype][this.Ia.id].data={equip:this.Bc}}this.$w();return!0}if(this.i.headButton&&O(this.i.headButton,c))return this.pk("head"),!0;if(this.i.bodyButton&&O(this.i.bodyButton,c))return this.pk("body"),!0;if(this.i.legButton&&O(this.i.legButton,c))return this.pk("legs"),!0;if(this.i.feetButton&&O(this.i.feetButton,c))return this.pk("feet"),
!0;if(this.i.lArmButton&&O(this.i.lArmButton,c))return this.pk("lArm"),!0;if(this.i.rArmButton&&O(this.i.rArmButton,c))return this.pk("rArm"),!0;if(this.i.modButton&&O(this.i.modButton,c))return this.pk("mod"),!0;if(this.i.visibleButton&&O(this.i.visibleButton,c))return this.Vn=0==this.Vn?1:0,this.i.visibleButton.l(0==this.Vn?r.h(255,0,0,255):r.h(0,255,0,255)),this.i.visibleButton.content.fa(0==this.Vn?"Invisible":"Visible"),!0;if(O(this.i.cancelbtn,c))return this.$w(),!0}else{c=this.b.main_panel.Da(c);
if(O(this.b.main_panel.defaultsbtn,c))return this.Q.f(DropDownList.Pd(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.K)),!0;if(O(this.b.main_panel.specifier,c))return this.Q.f(DropDownList.Pd(this,this.eY,["Item","Tile","NPC","None"],a.K)),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.V()||""==this.Oa.V())return!0;this.data.name=this.Oa.V();this.Ef=!0;this.m.cd(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Ef=
!0;var d=this.m;this.m.Rc(function(){d.cd(null)});return!0}return O(this.b.main_panel,c)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Tb:J[0].name,U:0,nt:function(a,c){Scripteditor&&(Scripteditor.la(),Scripteditor.J(),this.kg=a,this.$b(!0),this.b.main_panel.scriptbtn.text.fa(c.name),this.b.main_panel.scriptbtn.l(r.h(0,255,0,255)))},QK:function(){this.b.main_panel.scriptbtn.text.fa("None");this.b.main_panel.scriptbtn.l(r.h(255,0,0,255))},Pc:function(){return{panels:{position:r.a(300,10),children:{background:{Z:"GUI/itemeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,d:r.a(0,0),position:r.a(4,292),color:r.k(0,0,0)},name_entry:{position:r.a(74,292),size:r.size(266,32),u:r.h(255,255,255,255)},tiles:{d:r.a(0,1),position:r.a(16,272),Z:J[0].name},textureleftbtn:{position:r.a(362,292),size:r.size(16,32),Z:"GUI/texture_change_left.png",d:r.a(0,0)},texturerightbtn:{position:r.a(471,292),size:r.size(16,32),Z:"GUI/texture_change_right.png",d:r.a(0,0)},textureName:{position:r.a(375,292),size:r.size(96,32),Z:"GUI/texture_change_middle.png",
d:r.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.k(0,0,0)}}},leftbtn:{position:r.a(0,16),size:r.size(16,256),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},rightbtn:{position:r.a(336,16),size:r.size(16,256),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},upbtn:{position:r.a(16,272),
size:r.size(320,16),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},downbtn:{position:r.a(16,0),size:r.size(320,16),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,d:r.a(0,0),position:r.a(360,206),color:r.k(0,0,0)},stackbtn:{position:r.a(360,176),size:r.size(128,26),u:Ha,d:r.a(0,0),children:{text:{label:"No",
fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,d:r.a(0,0),position:r.a(360,262),color:r.k(0,0,0)},scriptbtn:{position:r.a(360,232),size:r.size(128,26),u:Ha,d:r.a(0,0),children:{text:{label:"None",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),u:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),u:r.h(100,255,100,255)},okbtn:{position:r.a(434,
16),size:r.size(32,32),Z:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(384,16),size:r.size(32,32),Z:"GUI/cross_icon.png",d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,330),size:r.size(500,32),children:{header:{label:"Item Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(476,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},Oc:function(){return"itemEditor"},Oa:null,m:null,data:null,kg:null,r:function(a){this._super();this.data={sprite:{texture:J[0].name,
position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Tb=J[0].name;this.U=0;this.kg=this.m=this.Oa=null;this.O=r.a(0,0);this.m=a.m;a&&a.data&&(this.data=a.data,this.data.script&&(this.kg=this.data.script))},lj:function(a){H({saveitems:a+"",itemdata:this.data})},Yi:function(a,c){H({saveitemswhole:c})},ea:function(){this._super();this.b.main_panel.highlightnode.ja(0);this.b.main_panel.selectednode.ja(127);for(var a in J)J[a].name==this.data.sprite.texture&&(this.U=a,this.Tb=J[a].name);this.b.main_panel.textureName.text.fa(this.Tb);
this.b.main_panel.tiles.ga(J[this.U].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.l(r.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.fa(ObjectLists.Jg()[this.data.script].name),this.kg=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=r.a(32*(this.data.sprite.position.x-this.O.x),32*(this.data.sprite.position.y-this.O.y));this.b.main_panel.selectednode.n(this.b.main_panel.tiles.q.x+a.x,this.b.main_panel.tiles.q.y-
(a.y+32));this.Oa=new Z(this.b.main_panel.name_entry,r.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),r.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",r.h(255,255,255),r.k(0,0,0));this.Oa.vb(!0);this.b.main_panel.stackbtn.l(Ha);this.b.main_panel.stackbtn.text.fa("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.l(Ga),this.b.main_panel.stackbtn.text.fa("Yes"));this.pb()},la:function(a){this._super();if(this.m){var c=this.m;
!0!=a&&this.m.Rc(function(){c.cd(null)})}},mi:function(a){a=a.K;this.b.main_panel.highlightnode.ja(0);a=this.b.main_panel.tiles.Da(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.c().width&&a.y<=this.b.main_panel.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ja(127),this.b.main_panel.highlightnode.n(a),!0},pb:function(){this.Zb(this.pb);this.b.main_panel.tiles.aa()&&!0==this.b.main_panel.tiles.aa().tc&&(this.Tc(this.pb),this.b.main_panel.tiles.Ub(r.rect(Math.floor(32*
this.O.x),Math.floor(32*this.O.y),320>J[this.U].texture.c().width?J[this.U].texture.c().width:320,256>J[this.U].texture.c().height?J[this.U].texture.c().height:256)))},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=a.K;var c=this.b.main_panel.Da(r.a(a.x,a.y));if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.V()||""==this.Oa.V())return!0;this.Ef=!0;this.data.name=this.Oa.V();this.data.script=this.kg;this.m.cd(this.data);return!0}O(this.b.main_panel.scriptbtn,c)&&(Scripteditor?(Scripteditor.la(),
Scripteditor.J(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({m:this,wh:new ScriptEditor,list:ObjectLists.Jg(),name:"Script List"}),Scripteditor.ea(),this.f(Scripteditor)));if(O(this.b.main_panel.cancelbtn,c)){this.Ef=!0;var d=this.m;this.m.Rc(function(){d.cd(null)});return!0}if(O(this.b.main_panel.leftbtn,c))return 264<J[this.U].texture.c().width&&0<this.O.x&&(this.O.x--,this.pb()),!0;if(O(this.b.main_panel.rightbtn,c))return 320<J[this.U].texture.c().width&&this.O.x<(J[this.U].texture.c().width-
320)/32&&(this.O.x++,this.pb()),!0;if(O(this.b.main_panel.upbtn,c))return 320<J[this.U].texture.c().height&&0<this.O.y&&(this.O.y--,this.pb()),!0;if(O(this.b.main_panel.downbtn,c))return 320<J[this.U].texture.c().height&&this.O.y<(J[this.U].texture.c().height-320)/32&&(this.O.y++,this.pb()),!0;if(O(this.b.main_panel.texturerightbtn,c))return this.Tn(),!0;if(O(this.b.main_panel.textureleftbtn,c))return this.Un(),!0;if(O(this.b.main_panel.stackbtn,c))return this.vL(),!0;if(O(this.b.main_panel.scriptbtn,
c))return this.haa(),!0;c=this.b.main_panel.tiles.Da(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.c().width&&c.y<=this.b.main_panel.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ja(0);if(this.b.main_panel.selectednode.q.F!=c.x||this.b.main_panel.selectednode.q.H!=c.y)this.b.main_panel.selectednode.ja(127),this.b.main_panel.selectednode.n(c);a=r.a((this.b.main_panel.selectednode.q.F-16)/32+this.O.x,8-(this.b.main_panel.selectednode.q.H-16)/32+this.O.y-1);
this.data.sprite.position=a;return!0}return!1},vL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.l(Ha);this.b.main_panel.stackbtn.text.fa("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.l(Ga),this.b.main_panel.stackbtn.text.fa("Yes"))},Tn:function(){this.U>=J.length-1&&(this.U=-1);this.U++;this.b.main_panel.tiles.ga(J[this.U].texture);this.Tb=J[this.U].name;this.b.main_panel.textureName.text.fa(this.Tb);this.data.sprite.texture=this.Tb;this.O=r.a(0,0);this.pb()},
Un:function(){0>=this.U&&(this.U=J.length);this.U--;this.b.main_panel.tiles.ga(J[this.U].texture);this.Tb=J[this.U].name;this.b.main_panel.textureName.text.fa(this.Tb);this.O=r.a(0,0);this.pb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,S:null,jb:null,Oc:function(){return"Settings Editor"},la:function(){this._super()},r:function(){this._super();this.data=za(y)},lj:function(a){H({savequests:a+"",questdata:this.data})},Yi:function(a,c){H({savequestswhole:c})},ea:function(){this._super();this.Jb()},Jb:function(){this.S&&this.S.rc();var a=[],c=[],d=r.ia.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=r.D.create();a[e].W(324,32);var g=r.T.create(f,"Arial",18);g.M(r.a(0,0));g.n(r.a(4,
0));g.ic(r.size(246,0));g.l(r.k(100,0,0));a[e].f(g);a[e].W(324,g.c().height+4);g=[];c.push(g);e++}a[e]=r.D.create();a[e].W(324,32);var h=r.ca.create(r.h(0,0,0,127),316,1);h.n(r.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=r.A.ib(d.ra("GUI/edit.png"));k.n(r.a(300,0));k.M(r.a(0,0))}if("ISSECTION"==this.data[f]){var l=r.T.create(f,"Arial",22);l.l(r.k(255,0,0))}else l=r.T.create(this.data[f],"Arial",15),l.l(r.k(0,0,0));l.M(r.a(0,0));l.n(r.a(4,4));l.ic(r.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.vc="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].W(324,l.c().height+12):a[e].W(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.ed((l.c().height+8)/2-10);e++}this.S=this.b.main_panel.list;var m=this;this.S.Qd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.S.Cd=function(){return a.length};this.S.ve=
function(c){return a[c].c()};this.S.te=function(c){return a[c]};this.S.yc=function(a,c,d){m.Da(d.K);if(!0!=m.Nn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.jb=d;m.wC(d)}};this.S.pa=ListView.create(this.S);this.S.pa.He(c);this.S.f(this.S.pa)},Pc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{savebtn:{size:r.size(64,
32),u:r.h(0,255,0,255),position:r.a(241,292),d:r.a(0,0),children:{content:{label:"Save",color:r.k(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},list:{size:r.size(324,284),u:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},df:null,Aa:null,wC:function(a){null!=this.Aa&&
(this.Aa.rc(),this.df=null,this.Aa.J(),this.jb=this.Aa=null);this.Aa=r.ca.create(r.h(255,255,255,200),200,200);this.Aa.n(r.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.df=new Z(this.Aa,r.size(190,150),r.a(0,this.Aa.c().height),this.data[a],r.h(100,100,100),r.k(255,255,255),!0);this.df.vb(!0);this.df.EK(!0);a=r.ca.create(r.h(0,200,255,255),64,32);a.n(r.a(14,9));var c=r.T.create("OK","Arial",16);c.l(r.k(0,0,0));c.n(32,16);c.M(r.a(0.5,0.5));a.f(c);c=r.ca.create(r.h(200,
0,0,255),64,32);c.n(r.a(120,9));var d=r.T.create("Cancel","Arial",16);d.l(r.k(0,0,0));d.n(32,16);d.M(r.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Aa);this.Aa.f(a);this.Aa.mD=a;this.Aa.f(c);this.Aa.cancel=c},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=a.K;if(null!=this.Aa){a=this.Aa.Da(a);if(O(this.Aa.mD,a))return this.data[this.jb]=this.df.V(),this.Aa.rc(),this.df=null,this.Aa.J(),this.jb=this.Aa=null,this.Jb(),!0;O(this.Aa.cancel,a)&&(this.Aa.rc(),this.df=null,this.Aa.J(),this.jb=this.Aa=
null);return!0}a=this.b.main_panel.Da(a);return O(this.b.main_panel.savebtn,a)?(y=za(this.data),console.log(y),console.log(this.data),H({savesettings:this.data}),v.pE(this.data,Date.now()),!0):O(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,S:null,m:null,jb:null,Oc:function(){return"Quest Editor"},la:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Rc(function(){c.cd(null)})}},r:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.m=a.m;a&&a.data&&(this.data=a.data)},lj:function(a){H({savequests:a+"",questdata:this.data})},
Yi:function(a,c){H({savequestswhole:c})},ea:function(){this._super();this.Jb();this.Oa=new Z(this.b.main_panel.nameBox,r.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),r.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",r.h(255,255,255,255),r.k(0,0,0));this.Oa.vb(!0)},Jb:function(){this.S&&this.S.rc();var a=[],c=[],d=r.ia.e();this.bI={};for(var e in this.data.objectiveList)if(a[e]=r.D.create(),a[e].W(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=r.ca.create(r.h(0,0,0,127),316,1);f.n(r.a(4,0));var g=r.A.ib(d.ra("GUI/edit.png"));g.n(r.a(272,0));g.M(r.a(0,0));var h=r.A.ib(d.ra("GUI/trash.png"));h.n(r.a(300,0));h.M(r.a(0,0));var k=r.T.create(this.data.objectiveList[e],"Arial",15);k.M(r.a(0,0));k.n(r.a(4,4));k.ic(r.size(246,0));k.l(r.k(0,0,0));g.vc="Edit";var l=[];l.push(g);0!=e&&(h.vc="Delete",l.push(h));c.push(l);a[e].f(f);a[e].f(g);0!=e&&a[e].f(h);a[e].f(k);a[e].W(324,k.c().height+8);g.ed((k.c().height+8)/2-10);h.ed((k.c().height+
8)/2-10)}d=r.ca.create(r.h(70,200,70,255),90,26);e=r.T.create("+","Arial",20);e.n(45,13);e.M(r.a(0.5,0.5));d.n(r.a(120,0));d.vc="Add";d.f(e);c.push([d]);a.push(d);this.S=this.b.main_panel.list;var m=this;this.S.Qd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.S.Cd=function(){return a.length};this.S.ve=function(c){return a[c].c()};this.S.te=function(c){return a[c]};this.S.yc=function(a,c,d){m.Da(d.K);if(!0!=m.Nn)switch(a){case "Delete":null!=m.Aa&&(m.Aa.rc(),
m.df=null,m.Aa.J(),m.Aa=null,m.jb=null);m.Q.f(DropDownList.Pd(m,m.nC,["Cancel","Delete"],d.K));m.jb=c;break;case "Edit":m.jb=c;m.wC(c);break;case "Add":m.cR()}};this.S.pa=ListView.create(this.S);this.S.pa.He(c);this.S.f(this.S.pa)},Pc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{nameLabel:{label:"Quest Name",color:r.k(0,0,0),position:r.a(8,312),d:r.a(0,0)},nameBox:{size:r.size(150,
32),u:r.h(255,255,255,255),position:r.a(8,277),d:r.a(0,0)},savebtn:{size:r.size(64,32),u:r.h(0,255,0,255),position:r.a(175,277),d:r.a(0,0),children:{content:{label:"Save",color:r.k(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},exitbtn:{size:r.size(64,32),u:r.h(255,0,0,255),position:r.a(253,277),d:r.a(0,0),children:{content:{label:"Exit",color:r.k(0,0,0),position:r.a(32,16),d:r.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:r.k(0,0,0),position:r.a(8,254),d:r.a(0,0)},list:{size:r.size(324,250),
u:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},nC:function(a){switch(a){case 1:this.m.jb&&(this.m.data.objectiveList.splice(this.m.jb,1),this.m.Jb(),this.m.jb=null)}},cR:function(){this.data.objectiveList.push("Blank Objective");this.Jb()},df:null,Aa:null,wC:function(a){null!=
this.Aa&&(this.Aa.rc(),this.df=null,this.Aa.J(),this.jb=this.Aa=null);this.Aa=r.ca.create(r.h(255,255,255,200),200,200);this.Aa.n(r.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.df=new Z(this.Aa,r.size(190,150),r.a(0,this.Aa.c().height),this.data.objectiveList[a],r.h(100,100,100),r.k(255,255,255),!0);this.df.vb(!0);this.df.EK(!0);a=r.ca.create(r.h(0,200,255,255),64,32);a.n(r.a(14,9));var c=r.T.create("OK","Arial",16);c.l(r.k(0,0,0));c.n(32,16);c.M(r.a(0.5,0.5));
a.f(c);c=r.ca.create(r.h(200,0,0,255),64,32);c.n(r.a(120,9));var d=r.T.create("Cancel","Arial",16);d.l(r.k(0,0,0));d.n(32,16);d.M(r.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Aa);this.Aa.f(a);this.Aa.mD=a;this.Aa.f(c);this.Aa.cancel=c},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=a.K;if(null!=this.Aa){a=this.Aa.Da(a);if(O(this.Aa.mD,a))return this.data.objectiveList[this.jb]=this.df.V(),this.Aa.rc(),this.df=null,this.Aa.J(),this.jb=this.Aa=null,this.Jb(),!0;O(this.Aa.cancel,a)&&(this.Aa.rc(),
this.df=null,this.Aa.J(),this.jb=this.Aa=null);return!0}a=this.b.main_panel.Da(a);if(O(this.b.main_panel.savebtn,a)){if(null==this.Oa.V()||""==this.Oa.V())return!0;this.Ef=!0;this.data.name=this.Oa.V();this.m.cd(this.data);return!0}if(O(this.b.main_panel.exitbtn,a)){this.Ef=!0;var c=this.m;this.m.Rc(function(){c.cd(null)});return!0}return O(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,O:r.a(0,0),Ac:"tiles",wJ:null,Kw:"ground1",Tb:J[0].name,U:0,Pc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,380),u:r.h(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(16,336),Z:J[0].name},textureleftbtn:{position:r.a(360,344),size:r.size(16,32),u:N,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},texturerightbtn:{position:r.a(472,344),
size:r.size(16,32),u:N,d:r.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},textureName:{position:r.a(376,344),size:r.size(96,32),u:r.h(255,255,255,170),d:r.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.k(0,0,0)}}},deletebtn:{position:r.a(360,308),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Erase",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},leftbtn:{position:r.a(0,
16),size:r.size(16,320),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},rightbtn:{position:r.a(336,16),size:r.size(16,320),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},upbtn:{position:r.a(16,336),size:r.size(320,16),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,
255,255)}}},downbtn:{position:r.a(16,0),size:r.size(320,16),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},fillbtn:{position:r.a(428,308),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Fill",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},ground1btn:{position:r.a(360,278),size:r.size(128,26),u:Ga,d:r.a(0,0),children:{text:{label:"Ground 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,
0,0)}}},ground2btn:{position:r.a(360,248),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Ground 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},groundShadowbtn:{position:r.a(360,218),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},mask1btn:{position:r.a(360,188),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Mask 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),
color:r.k(0,0,0)}}},mask2btn:{position:r.a(360,158),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Mask 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},mask3btn:{position:r.a(360,128),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Mask 3",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},fringe1btn:{position:r.a(360,98),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,
0,0)}}},fringe2btn:{position:r.a(360,68),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},fringeShadowbtn:{position:r.a(360,38),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}},fringe3btn:{position:r.a(360,8),size:r.size(128,26),u:N,d:r.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),
color:r.k(0,0,0)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),u:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),u:r.h(100,255,100,255)}}},tab2:{children:{blockbtn:{position:r.a(8,320),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Block",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},warpbtn:{position:r.a(8,280),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Warp",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,
16),color:r.k(0,0,0)}}},itembtn:{position:r.a(8,240),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Item",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},signbtn:{position:r.a(8,200),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Sign",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},npcbtn:{position:r.a(8,160),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"NPC",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,d:r.a(0,0),position:r.a(100,342)},amountLabel:{size:r.size(60,32),position:r.a(98,-1E6)}}},tab3:{children:{saveBack:{position:r.a(0,78),size:r.size(200,60),u:r.h(0,255,0,100),d:r.a(0,0)},deleteback:{position:r.a(0,138),size:r.size(200,60),u:r.h(255,0,0,100),d:r.a(0,0)},mapnumsback:{position:r.a(0,198),size:r.size(200,162),u:r.h(0,0,0,170),d:r.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,d:r.a(0.5,0),position:r.a(100,344)},mapUp_entry:{size:r.size(60,32),position:r.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,d:r.a(0.5,0),position:r.a(100,232)},mapDown_entry:{size:r.size(60,32),position:r.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,d:r.a(0.5,0),position:r.a(38,290)},mapLeft_entry:{size:r.size(60,32),position:r.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,d:r.a(0.5,0),position:r.a(162,290)},mapRight_entry:{size:r.size(60,32),position:r.a(132,258)},this_map:{position:r.a(70,248),size:r.size(60,60),u:N,d:r.a(0,0),children:{text:{label:"THIS MAP\n#"+
E.Yc(),fontSize:12,d:r.a(0.5,0.5),position:r.a(30,30),color:r.k(0,0,0)}}},clearbtn:{position:r.a(70,150),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Clear",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,d:r.a(0.5,0),position:r.a(100,182)},clearbtnNo:{position:r.a(10,150),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"NO",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},clearbtnYes:{position:r.a(130,
150),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"YES",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},savebtn:{position:r.a(70,90),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Save",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,d:r.a(0.5,0),position:r.a(100,122)},savebtnNo:{position:r.a(10,90),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"NO",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,
16),color:r.k(0,0,0)}}},savebtnYes:{position:r.a(130,90),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"YES",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,16),color:r.k(0,0,0)}}},saveOnExit:{position:r.a(40,30),size:r.size(120,32),u:N,d:r.a(0.5,0),children:{content:{label:"",fontSize:14,d:r.a(0.5,0.5),position:r.a(60,15),color:r.k(0,0,0)}}}}},tab1Clickable:{position:r.a(0,360),size:r.size(60,20),u:N,d:r.a(0,0),children:{text:{label:"Editor",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,
0,0)}}},tab2Clickable:{position:r.a(64,360),size:r.size(60,20),u:N,d:r.a(0,0),children:{text:{label:"Scripts",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}},tab3Clickable:{position:r.a(128,360),size:r.size(60,20),u:N,d:r.a(0,0),children:{text:{label:"Settings",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,380),size:r.size(420,32),u:r.h(255,0,0,200),children:{header:{label:"Map Editor - Map #"+E.Yc(),fontSize:20,d:r.a(0,
0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,26),d:r.a(0,0),u:r.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},Oc:function(){return"MapEditor"},O:null,Ws:null,Ts:null,Us:null,Vs:null,hj:null,mf:null,Mc:0,kg:null,r:function(a){this._super();this.map=a;this.O=r.a(0,0);this.mf=[null,496,200,200]},ea:function(){this._super();this.b.main_panel.tab1.highlightnode.ja(0);this.b.main_panel.tab1.selectednode.ja(0);
this.Ws=new Z(this.b.main_panel.tab3.mapUp_entry,r.size(this.b.main_panel.tab3.mapUp_entry.c().width,this.b.main_panel.tab3.mapUp_entry.c().height),r.a(0,this.b.main_panel.tab3.mapUp_entry.c().height),E.VI()?E.GI():"",r.h(100,100,100),r.k(255,255,255));this.Ws.vb(!0);this.Ws.Gd(!0);this.Ts=new Z(this.b.main_panel.tab3.mapDown_entry,r.size(this.b.main_panel.tab3.mapDown_entry.c().width,this.b.main_panel.tab3.mapDown_entry.c().height),r.a(0,this.b.main_panel.tab3.mapDown_entry.c().height),E.TI()?E.EI():
"",r.h(100,100,100),r.k(255,255,255));this.Ts.vb(!0);this.Ts.Gd(!0);this.Us=new Z(this.b.main_panel.tab3.mapLeft_entry,r.size(this.b.main_panel.tab3.mapLeft_entry.c().width,this.b.main_panel.tab3.mapLeft_entry.c().height),r.a(0,this.b.main_panel.tab3.mapLeft_entry.c().height),E.UI()?E.FI():"",r.h(100,100,100),r.k(255,255,255));this.Us.vb(!0);this.Us.Gd(!0);this.Vs=new Z(this.b.main_panel.tab3.mapRight_entry,r.size(this.b.main_panel.tab3.mapRight_entry.c().width,this.b.main_panel.tab3.mapRight_entry.c().height),
r.a(0,this.b.main_panel.tab3.mapRight_entry.c().height),E.PC()?E.DC():"",r.h(100,100,100),r.k(255,255,255));this.Vs.vb(!0);this.Vs.Gd(!0);this.hj=new Z(this.b.main_panel.tab2.amountLabel,r.size(this.b.main_panel.tab2.amountLabel.c().width,this.b.main_panel.tab2.amountLabel.c().height),r.a(0,this.b.main_panel.tab2.amountLabel.c().height),E.PC()?E.DC():"1",r.h(100,100,100),r.k(255,255,255));this.hj.vb(!0);this.hj.Gd(!0);this.Yx(!1);this.Zx(!1);this.Hx=v.TS();this.VK(this.Hx);this.Tg(1);this.pb();E.YK(!0)},
nt:function(a,c){Warpeditor&&(Warpeditor.la(),this.Rc(function(){Warpeditor.J();Warpeditor=null}),this.kg=a,this.$b(!0));Signeditor&&(Signeditor.la(),this.Rc(function(){Signeditor.J();Signeditor=null}),this.kg=a,this.$b(!0));Itemeditor&&(Itemeditor.la(),this.Rc(function(){Itemeditor.J();Itemeditor=null}),this.kg=a,this.$b(!0),this.hj.xc.Ie("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.v(!0),this.b.main_panel.tab2.amountLabel.n(98,308)));NPCeditor&&(NPCeditor.la(),this.Rc(function(){NPCeditor.J();
NPCeditor=null}),this.kg=a,this.$b(!0))},la:function(){this._super();!0==this.Hx&&(E.MK({up:this.Ws.V(),down:this.Ts.V(),left:this.Us.V(),right:this.Vs.V()}),E.KL());E.YK(!1)},mi:function(a){a=a.K;if(1==this.Mc&&(this.b.main_panel.tab1.highlightnode.ja(0),a=this.b.main_panel.tab1.tiles.Da(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ja(127),this.b.main_panel.tab1.highlightnode.n(a),
!0},Tg:function(a){if(a!=this.Mc){this.b.main_panel.W(this.mf[a],this.b.main_panel.c().height);this.b.control_panel.W(this.mf[a],this.b.control_panel.c().height);if(3==this.Mc||0==this.Mc)this.b.main_panel.tab3.mapUp_entry.kb(this.b.main_panel.tab3.mapUp_entry.q.F-1E3),this.b.main_panel.tab3.mapLeft_entry.kb(this.b.main_panel.tab3.mapLeft_entry.q.F-1E3),this.b.main_panel.tab3.mapDown_entry.kb(this.b.main_panel.tab3.mapDown_entry.q.F-1E3),this.b.main_panel.tab3.mapRight_entry.kb(this.b.main_panel.tab3.mapRight_entry.q.F-
1E3);1!=this.Mc||"erasing"!=this.Ac&&"tiles"!=this.Ac||(this.Ac="blocking");2==this.Mc&&"blocking"==this.Ac&&(this.Ac="tiles");this.Mc=a;this.b.main_panel.tab1.v(!1);this.b.main_panel.tab2.v(!1);this.b.main_panel.tab3.v(!1);this.b.main_panel.tab1Clickable.l(N);this.b.main_panel.tab2Clickable.l(N);this.b.main_panel.tab3Clickable.l(N);this.b.main_panel["tab"+a].v(!0);this.b.main_panel["tab"+a+"Clickable"].l(r.h(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.kb(this.b.main_panel.tab3.mapUp_entry.q.F+
1E3),this.b.main_panel.tab3.mapLeft_entry.kb(this.b.main_panel.tab3.mapLeft_entry.q.F+1E3),this.b.main_panel.tab3.mapDown_entry.kb(this.b.main_panel.tab3.mapDown_entry.q.F+1E3),this.b.main_panel.tab3.mapRight_entry.kb(this.b.main_panel.tab3.mapRight_entry.q.F+1E3));this.b.control_panel.exitBtn.kb(this.mf[a]-29)}},VK:function(a){v.eX(a);this.Hx=a;this.b.main_panel.tab3.saveOnExit.l(r.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.fa("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.l(r.k(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.fa("Save on exit: YES")},pb:function(){this.Zb(this.pb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().tc&&(this.Tc(this.pb),this.b.main_panel.tab1.tiles.Ub(r.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>J[this.U].texture.c().width?J[this.U].texture.c().width:320,320>J[this.U].texture.c().height?J[this.U].texture.c().height:320)))},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=a.K;var c=this.b.main_panel.Da(a);
if(O(this.b.main_panel.tab1Clickable,c))return this.Tg(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Tg(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Tg(3),!0;if(1==this.Mc){if(O(this.b.main_panel.tab1.leftbtn,c))return 320<J[this.U].texture.c().width&&0<this.O.x&&(this.O.x--,this.pb()),!0;if(O(this.b.main_panel.tab1.rightbtn,c))return 320<J[this.U].texture.c().width&&this.O.x<(J[this.U].texture.c().width-320)/32&&(this.O.x++,this.pb()),!0;if(O(this.b.main_panel.tab1.upbtn,
c))return 320<J[this.U].texture.c().height&&0<this.O.y&&(this.O.y--,this.pb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<J[this.U].texture.c().height&&this.O.y<(J[this.U].texture.c().height-320)/32&&(this.O.y++,this.pb()),!0;if(O(this.b.main_panel.tab1.ground1btn,c))return this.oj("ground1"),!0;if(O(this.b.main_panel.tab1.ground2btn,c))return this.oj("ground2"),!0;if(O(this.b.main_panel.tab1.groundShadowbtn,c))return this.oj("groundShadow"),!0;if(O(this.b.main_panel.tab1.mask1btn,c))return this.oj("mask1"),
!0;if(O(this.b.main_panel.tab1.mask2btn,c))return this.oj("mask2"),!0;if(O(this.b.main_panel.tab1.mask3btn,c))return this.oj("mask3"),!0;if(O(this.b.main_panel.tab1.fringe1btn,c))return this.oj("fringe1"),!0;if(O(this.b.main_panel.tab1.fringe2btn,c))return this.oj("fringe2"),!0;if(O(this.b.main_panel.tab1.fringeShadowbtn,c))return this.oj("fringeShadow"),!0;if(O(this.b.main_panel.tab1.fringe3btn,c))return this.oj("fringe3"),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Tn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,
c))return this.Un(),!0;if(O(this.b.main_panel.tab1.deletebtn,c))return this.Ac="erasing"==this.Ac?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.l(N),"erasing"==this.Ac&&this.b.main_panel.tab1.deletebtn.l(Ha),!0;if(O(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.aj()&&(E.BS(J[this.U].name,r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,9-(this.b.main_panel.tab1.selectednode.q.H-16)/32+this.O.y),this.Kw),E.xt()),!0;c=this.b.main_panel.tab1.tiles.Da(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ja(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ja(127),this.b.main_panel.tab1.selectednode.n(c);return!0}}if(2==this.Mc){if(O(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.signbtn.l(N),
this.b.main_panel.tab2.npcbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.blockbtn.l(N),this.Ac="blocking"==this.Ac?"tiles":"blocking","blocking"==this.Ac&&(this.b.main_panel.tab2.blockbtn.l(Ha),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E5)),!0;if(O(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.signbtn.l(N),this.b.main_panel.tab2.npcbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.blockbtn.l(N),
this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.Ac="warping"==this.Ac?"tiles":"warping","warping"==this.Ac&&(null==Warpeditor||Warpeditor.Q||(Warpeditor=null),Warpeditor&&(Warpeditor.la(),Warpeditor.J(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.r({m:this,wh:new WarpEditor,list:ObjectLists.en(),name:"Warp List"}),Warpeditor.ea(),this.Q.f(Warpeditor),this.$b(!1),this.b.main_panel.tab2.warpbtn.l(Ha),this.b.main_panel.tab2.amountLabelHead.v(!1),
this.b.main_panel.tab2.amountLabel.n(68,-1E5)),!0;if(O(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.l(N),this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.npcbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.blockbtn.l(N),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.Ac="signs"==this.Ac?"tiles":"signs","signs"==this.Ac&&(null==Signeditor||Signeditor.Q||(Signeditor=null),Signeditor&&(Signeditor.la(),
Signeditor.J(),Signeditor=null),Signeditor=new PopupList,Signeditor.r({m:this,wh:new SignEditor,list:ObjectLists.Is(),name:"Sign List"}),Signeditor.ea(),this.Q.f(Signeditor),this.$b(!1),this.b.main_panel.tab2.signbtn.l(Ha)),!0;if(O(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.l(N),this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.npcbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.blockbtn.l(N),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,
-1E6),this.Ac="npcs"==this.Ac?"tiles":"npcs","npcs"==this.Ac&&(null==NPCeditor||NPCeditor.Q||(NPCeditor=null),NPCeditor&&(NPCeditor.la(),NPCeditor.J(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.r({m:this,wh:new NPCEditor,list:ObjectLists.ql(),name:"NPC List"}),NPCeditor.ea(),this.Q.f(NPCeditor),this.$b(!1),this.b.main_panel.tab2.npcbtn.l(Ha)),!0;if(O(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.itembtn.l(N),this.b.main_panel.tab2.npcbtn.l(N),
this.b.main_panel.tab2.blockbtn.l(N),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.Ac="items"==this.Ac?"tiles":"items","items"==this.Ac&&(null==Itemeditor||Itemeditor.Q||(Itemeditor=null),Itemeditor&&(Itemeditor.la(),Itemeditor.J(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.r({m:this,wh:new ItemEditor,list:ObjectLists.se(),name:"Item List"}),Itemeditor.ea(),this.Q.f(Itemeditor),this.$b(!1),this.b.main_panel.tab2.itembtn.l(Ha)),!0}if(3==this.Mc){if(O(this.b.main_panel.tab3.clearbtn,
c))return this.Yx(!0),!0;if(O(this.b.main_panel.tab3.clearbtnNo,c))return this.Yx(!1),!0;if(O(this.b.main_panel.tab3.clearbtnYes,c))return E.Ad(),this.Yx(!1),!0;if(O(this.b.main_panel.tab3.savebtn,c))return this.Zx(!0),!0;if(O(this.b.main_panel.tab3.savebtnNo,c))return this.Zx(!1),!0;if(O(this.b.main_panel.tab3.savebtnYes,c))return E.MK({up:this.Ws.V(),down:this.Ts.V(),left:this.Us.V(),right:this.Vs.V()}),E.KL(),this.Zx(!1),!0;if(O(this.b.main_panel.tab3.saveOnExit,c))return this.VK(!this.Hx),!0}return!1},
oj:function(a){this.b.main_panel.tab1.ground1btn.l(N);this.b.main_panel.tab1.ground2btn.l(N);this.b.main_panel.tab1.groundShadowbtn.l(N);this.b.main_panel.tab1.mask1btn.l(N);this.b.main_panel.tab1.mask2btn.l(N);this.b.main_panel.tab1.mask3btn.l(N);this.b.main_panel.tab1.fringe1btn.l(N);this.b.main_panel.tab1.fringe2btn.l(N);this.b.main_panel.tab1.fringeShadowbtn.l(N);this.b.main_panel.tab1.fringe3btn.l(N);this.b.main_panel.tab1[a+"btn"].l(Ga);this.Kw=a},Tn:function(){this.U>=J.length-1&&(this.U=-1);
this.U++;this.b.main_panel.tab1.tiles.ga(J[this.U].texture);this.Tb=J[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.O=r.a(0,0);this.pb()},Un:function(){0>=this.U&&(this.U=J.length);this.U--;this.b.main_panel.tab1.tiles.ga(J[this.U].texture);this.Tb=J[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.O=r.a(0,0);this.pb()},Yx:function(a){this.b.main_panel.tab3.clearbtnYes.v(a);this.b.main_panel.tab3.clearbtnNo.v(a);this.b.main_panel.tab3.clear_text.v(a);this.b.main_panel.tab3.clearbtn.v(!a)},
Zx:function(a){this.b.main_panel.tab3.savebtnYes.v(a);this.b.main_panel.tab3.savebtnNo.v(a);this.b.main_panel.tab3.save_text.v(a);this.b.main_panel.tab3.savebtn.v(!a)},zL:function(a,c,d){if(a[c]==this.wJ&&"moved"==d)return!1;this.wJ=a[c];switch(this.Ac){case "tiles":0!=this.b.main_panel.tab1.selectednode.aj()&&E.rk(c,J[this.U].name,r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,9-(this.b.main_panel.tab1.selectednode.q.H-16)/32+this.O.y),this.Kw);break;case "blocking":if(1!=a[c].qc()){E.mj(c,
1);break}E.mj(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.Q){if(3!=a[c].qc()){E.mj(c,3,this.kg);break}E.mj(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.Q){if(7!=a[c].qc()){E.mj(c,7,this.kg);break}E.mj(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.Q){if(4!=a[c].qc()){E.mj(c,4,this.kg,{amount:this.hj.V()});break}E.mj(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.Q){if(5!=a[c].qc()){E.mj(c,5,this.kg);break}E.mj(c,0,null)}break;case "erasing":E.qC(c,
this.Kw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Tb:K[0].name,U:0,Pc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,396),u:r.h(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(48,320),Z:K[0].name},textureleftbtn:{position:r.a(32,340),size:r.size(16,32),u:N,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},texturerightbtn:{position:r.a(144,340),size:r.size(16,32),u:N,d:r.a(0,0),
children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},textureName:{position:r.a(48,340),size:r.size(96,32),u:r.h(255,255,255,170),d:r.a(0,0),children:{text:{label:K[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.k(0,0,0)}}},upbtn:{position:r.a(48,320),size:r.size(96,16),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(48,8),color:r.k(255,255,255)}}},downbtn:{position:r.a(48,48),size:r.size(96,
16),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(48,8),color:r.k(255,255,255)}}},highlightnode:{d:r.a(0,0),position:r.a(0,0),size:r.size(96,128),u:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(96,128),u:r.h(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:r.a(144,0),size:r.size(250,366),u:r.h(0,0,255,100),d:r.a(0,0)},name_text:{label:"Item Name",fontSize:10,d:r.a(0,0),position:r.a(8,344)},name_entry:{size:r.size(136,
32),position:r.a(4,312)}}},tab3:{},tab1Clickable:{position:r.a(0,376),size:r.size(60,20),u:N,d:r.a(0,0),children:{text:{label:"Sprite",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}},tab2Clickable:{position:r.a(64,376),size:r.size(60,20),u:N,d:r.a(0,0),children:{text:{label:"Details",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}},tab3Clickable:{position:r.a(128,376),size:r.size(60,20),u:N,d:r.a(0,0),children:{text:{label:"Modifier",fontSize:12,d:r.a(0.5,0.5),
position:r.a(32,10),color:r.k(0,0,0)}}},okbtn:{position:r.a(104,8),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"OK",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.k(0,0,0)}}},cancelbtn:{position:r.a(32,8),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Cancel",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.k(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,396),size:r.size(420,32),u:r.h(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,d:r.a(0,
0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,26),d:r.a(0,0),u:r.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},Oc:function(){return"npcEditor"},Oa:null,mf:null,Mc:0,m:null,data:null,r:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Tb=K[0].name;this.U=0;this.mf=this.Oa=null;this.Mc=0;this.m=null;this.O=r.a(0,0);this.mf=[null,190,400,200];this.m=a.m;a&&a.data&&(this.data=
a.data)},lj:function(a){H({savenpcs:a+"",npcsdata:this.data})},Yi:function(a,c){H({savenpcswhole:c})},ea:function(){this._super();this.b.main_panel.tab1.highlightnode.ja(0);this.b.main_panel.tab1.selectednode.ja(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.U=a,this.Tb=K[a].name);this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.b.main_panel.tab1.tiles.ga(K[this.U].texture);this.Oa=new Z(this.b.main_panel.tab2.name_entry,r.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),
r.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",r.h(100,100,100),r.k(255,255,255));this.Oa.vb(!0);this.Tg(1);this.pb()},IX:function(){},la:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Rc(function(){c.cd(null)})}},mi:function(a){a=a.K;if(1==this.Mc&&(this.b.main_panel.tab1.highlightnode.ja(0),a=this.b.main_panel.tab1.tiles.Da(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=
a.x-a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.ja(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Tg:function(a){a!=this.Mc&&(this.b.main_panel.W(this.mf[a],this.b.main_panel.c().height),this.b.control_panel.W(this.mf[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.kb(this.b.main_panel.tab2.name_entry.q.F-1E3),this.Mc=a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab3.v(!1),this.b.main_panel.tab1Clickable.l(N),this.b.main_panel.tab2Clickable.l(N),
this.b.main_panel.tab3Clickable.l(N),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].l(r.h(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.kb(4),this.b.control_panel.exitBtn.kb(this.mf[a]-29))},pb:function(){this.Zb(this.pb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().tc&&(this.Tc(this.pb),this.b.main_panel.tab1.tiles.Ub(r.rect(Math.floor(96*this.O.x),Math.floor(128*this.O.y),96>K[this.U].texture.c().width?K[this.U].texture.c().width:96,
256>K[this.U].texture.c().height?K[this.U].texture.c().height:256)))},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=a.K;var c=this.b.main_panel.Da(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Tg(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Tg(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Tg(3),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.V()||""==this.Oa.V())return!0;this.Ef=!0;this.data.name=this.Oa.V();this.m.cd(this.data);return!0}if(O(this.b.main_panel.cancelbtn,
c)){this.Ef=!0;var d=this.m;this.m.Rc(function(){d.cd(null)});return!0}if(1==this.Mc){if(O(this.b.main_panel.tab1.upbtn,c))return 320<K[this.U].texture.c().height&&0<this.O.y&&(this.O.y--,this.pb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<K[this.U].texture.c().height&&this.O.y<(K[this.U].texture.c().height-320)/32&&(this.O.y++,this.pb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Tn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Un(),!0;c=this.b.main_panel.tab1.tiles.Da(a);
if(O(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.ja(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ja(127),this.b.main_panel.tab1.selectednode.n(c);a=r.a((this.b.main_panel.tab1.selectednode.q.F-16)/96+this.O.x,8-(this.b.main_panel.tab1.selectednode.q.H-64)/128+this.O.y-1);this.data.sprite.position=a;return!0}}return!1},vL:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.l(Ha);this.b.main_panel.tab2.stackbtn.text.fa("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.l(Ga),this.b.main_panel.tab2.stackbtn.text.fa("IS STACKABLE"))},iaa:function(a){this.b.main_panel.tab2.wearabletab.head.l(N);this.b.main_panel.tab2.wearabletab.body.l(N);this.b.main_panel.tab2.wearabletab.legs.l(N);this.b.main_panel.tab2.wearabletab.feet.l(N);this.b.main_panel.tab2.wearabletab.rarm.l(N);this.b.main_panel.tab2.wearabletab.larm.l(N);
this.b.main_panel.tab2.wearabletab.mod.l(N);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].l(Ha);this.data.subType=a},Tn:function(){this.U>=K.length-1&&(this.U=-1);this.U++;this.b.main_panel.tab1.tiles.ga(K[this.U].texture);this.Tb=K[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.data.sprite.texture=this.Tb;this.O=r.a(0,0);this.pb()},Un:function(){0>=this.U&&(this.U=K.length);this.U--;this.b.main_panel.tab1.tiles.ga(K[this.U].texture);
this.Tb=K[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.O=r.a(0,0);this.pb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Tb:J[0].name,U:0,Pc:function(){return{panels:{position:r.a(300,10),children:{main_panel:{d:r.a(0,0),position:r.a(0,0),size:r.size(420,396),u:r.h(0,0,100,120),children:{tab1:{children:{tiles:{d:r.a(0,1),position:r.a(16,320),Z:J[0].name},textureleftbtn:{position:r.a(208,340),size:r.size(16,32),u:N,d:r.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},texturerightbtn:{position:r.a(320,340),size:r.size(16,32),u:N,d:r.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,16),color:r.k(0,0,0)}}},textureName:{position:r.a(224,340),size:r.size(96,32),u:r.h(255,255,255,170),d:r.a(0,0),children:{text:{label:J[0].name,fontSize:12,d:r.a(0.5,0.5),position:r.a(48,16),color:r.k(0,0,0)}}},leftbtn:{position:r.a(0,64),size:r.size(16,252),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3c",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},rightbtn:{position:r.a(336,64),size:r.size(16,
252),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"\x3e",fontSize:12,d:r.a(0.5,0.5),position:r.a(8,160),color:r.k(255,255,255)}}},upbtn:{position:r.a(16,320),size:r.size(320,16),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"^",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},downbtn:{position:r.a(16,48),size:r.size(320,16),u:r.h(0,0,255,255),d:r.a(0,0),children:{text:{label:"v",fontSize:12,d:r.a(0.5,0.5),position:r.a(160,8),color:r.k(255,255,255)}}},highlightnode:{d:r.a(0,
0),position:r.a(0,0),size:r.size(32,32),u:r.h(255,100,100,255)},selectednode:{d:r.a(0,0),position:r.a(0,0),size:r.size(32,32),u:r.h(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,d:r.a(0,0),position:r.a(8,344)},name_entry:{size:r.size(136,32),position:r.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,d:r.a(0,0),position:r.a(8,250)},healthcolor_entry:{size:r.size(136,32),position:r.a(4,210)},tile:{d:r.a(0,1),position:r.a(55,150),Z:J[0].name},healthbtn:{position:r.a(8,
265),size:r.size(128,26),u:Ha,d:r.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,d:r.a(0.5,0.5),position:r.a(64,13),color:r.k(0,0,0)}}}}},tab1Clickable:{position:r.a(0,376),size:r.size(60,20),u:N,d:r.a(0,0),children:{text:{label:"Icon",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}},tab2Clickable:{position:r.a(64,376),size:r.size(60,20),u:N,d:r.a(0,0),children:{text:{label:"Details",fontSize:12,d:r.a(0.5,0.5),position:r.a(32,10),color:r.k(0,0,0)}}},okbtn:{position:r.a(76,
8),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"OK",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.k(0,0,0)}}},cancelbtn:{position:r.a(8,8),size:r.size(60,32),u:N,d:r.a(0,0),children:{text:{label:"Cancel",fontSize:12,d:r.a(0.5,0.5),position:r.a(30,16),color:r.k(0,0,0)}}}}},control_panel:{d:r.a(0,0),position:r.a(0,396),size:r.size(420,32),u:r.h(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(391,3),size:r.size(26,
26),d:r.a(0,0),u:r.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:r.k(0,0,0),d:r.a(0.5,0.5),position:r.a(13,13)}}}}}}}}},Oc:function(){return"SkillsEditor"},Oa:null,Qp:null,mf:null,Mc:0,m:null,data:null,r:function(a){this._super();this.data={sprite:{texture:J[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Tb=J[0].name;this.U=0;this.mf=this.Oa=null;this.Mc=0;this.m=null;this.O=r.a(0,0);this.mf=[null,352,142];this.m=a.m;a&&a.data&&(this.data=a.data)},lj:function(a){H({saveskills:a+
"",skillsdata:this.data})},Yi:function(a,c){H({saveskillswhole:c})},ea:function(){this._super();this.b.main_panel.tab1.highlightnode.ja(0);this.b.main_panel.tab1.selectednode.ja(127);for(var a in J)J[a].name==this.data.sprite.texture&&(this.U=a,this.Tb=J[a].name);this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.b.main_panel.tab1.tiles.ga(J[this.U].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.O.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.O.y++;a=r.a(32*(this.data.sprite.position.x-
this.O.x),32*(this.data.sprite.position.y-this.O.y));this.b.main_panel.tab1.selectednode.n(this.b.main_panel.tab1.tiles.q.x+a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.ga(J[this.U].texture);this.b.main_panel.tab2.tile.Ub(r.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Oa=new Z(this.b.main_panel.tab2.name_entry,r.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),r.a(0,
this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",r.h(100,100,100),r.k(255,255,255));this.Oa.vb(!0);this.Qp=new Z(this.b.main_panel.tab2.healthcolor_entry,r.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),r.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",r.h(100,100,100),r.k(255,255,255));this.Qp.vb(!0);this.b.main_panel.tab2.healthbtn.l(Ha);this.b.main_panel.tab2.healthbtn.text.fa("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(Ga),this.b.main_panel.tab2.healthbtn.text.fa("IS HEALTHBAR"));this.Tg(1);this.pb()},IX:function(){},la:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Rc(function(){c.cd(null)})}},mi:function(a){a=a.K;if(1==this.Mc&&(this.b.main_panel.tab1.highlightnode.ja(0),a=this.b.main_panel.tab1.tiles.Da(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ja(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Tg:function(a){a!=this.Mc&&(this.b.main_panel.W(this.mf[a],this.b.main_panel.c().height),this.b.control_panel.W(this.mf[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.kb(this.b.main_panel.tab2.name_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_entry.kb(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_text.v(!1),this.Mc=
a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab1Clickable.l(N),this.b.main_panel.tab2Clickable.l(N),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].l(r.h(255,255,0,255)),this.b.control_panel.exitBtn.kb(this.mf[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.kb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.kb(4),this.b.main_panel.tab2.healthcolor_text.v(!0)))},pb:function(){this.Zb(this.pb);
this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().tc&&(this.Tc(this.pb),this.b.main_panel.tab1.tiles.Ub(r.rect(Math.floor(32*this.O.x),Math.floor(32*this.O.y),320>J[this.U].texture.c().width?J[this.U].texture.c().width:320,256>J[this.U].texture.c().height?J[this.U].texture.c().height:256)))},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=a.K;var c=this.b.main_panel.Da(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Tg(1),!0;if(O(this.b.main_panel.tab2Clickable,
c))return this.Tg(2),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Oa.V()||""==this.Oa.V())return!0;this.Ef=!0;this.data.name=this.Oa.V();if(null!=this.Qp.V()||""!=this.Qp.V())this.data.healthbar=this.Qp.V();this.m.cd(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Ef=!0;var d=this.m;this.m.Rc(function(){d.cd(null)});return!0}if(1==this.Mc){if(O(this.b.main_panel.tab1.leftbtn,c))return 264<J[this.U].texture.c().width&&0<this.O.x&&(this.O.x--,this.pb()),!0;if(O(this.b.main_panel.tab1.rightbtn,
c))return 320<J[this.U].texture.c().width&&this.O.x<(J[this.U].texture.c().width-320)/32&&(this.O.x++,this.pb()),!0;if(O(this.b.main_panel.tab1.upbtn,c))return 320<J[this.U].texture.c().height&&0<this.O.y&&(this.O.y--,this.pb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<J[this.U].texture.c().height&&this.O.y<(J[this.U].texture.c().height-320)/32&&(this.O.y++,this.pb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Tn(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Un(),
!0;c=this.b.main_panel.tab1.tiles.Da(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ja(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ja(127),this.b.main_panel.tab1.selectednode.n(c);a=r.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.O.x,8-(this.b.main_panel.tab1.selectednode.q.H-
64)/32+this.O.y-1);this.b.main_panel.tab2.tile.Ub(r.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Mc&&O(this.b.main_panel.tab2.healthbtn,c)?(this.iY(),!0):!1},iY:function(){this.b.main_panel.tab2.healthcolor_entry.kb(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3);this.b.main_panel.tab2.healthcolor_text.v(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Qp.Ie("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.kb(4),
this.b.main_panel.tab2.healthcolor_text.v(!0));this.b.main_panel.tab2.healthbtn.l(Ha);this.b.main_panel.tab2.healthbtn.text.fa("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(Ga),this.b.main_panel.tab2.healthbtn.text.fa("IS HEALTHBAR"))},Tn:function(){this.U>=J.length-1&&(this.U=-1);this.U++;this.b.main_panel.tab1.tiles.ga(J[this.U].texture);this.b.main_panel.tab2.tile.ga(J[this.U].texture);this.Tb=J[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);
this.data.sprite.texture=this.Tb;this.O=r.a(0,0);this.pb()},Un:function(){0>=this.U&&(this.U=J.length);this.U--;this.b.main_panel.tab1.tiles.ga(J[this.U].texture);this.b.main_panel.tab2.tile.ga(J[this.U].texture);this.Tb=J[this.U].name;this.b.main_panel.tab1.textureName.text.fa(this.Tb);this.O=r.a(0,0);this.pb()}});PopupList=Popup.extend({Zf:null,Nc:[],jD:null,Nn:!1,Gx:-1,B8:0,bI:null,S:null,SI:!1,la:function(){this._super();this.m&&(this.m.$b(!0),!this.SI&&this.m.QK&&this.m.QK(null,null))},r:function(a){this._super();this.Zf=null;this.Nc=[];this.jD=null;this.Nn=!1;this.Gx=-1;this.Zf=a.wh;a.list&&(this.Nc=a.list);this.jD=a.name;this.m=a.m},ea:function(){this._super();this.Jb()},S:null,Jb:function(){this.S&&this.S.pa.J();var a=[],c=[],d=r.ia.e();this.bI={};for(var e in this.Nc)if(a[e]=r.D.create(),a[e].W(324,
32),null==this.Nc[e])this.Nc.splice(e,1);else{if(null!=this.m){var f=r.A.ib(d.ra("GUI/use.png"));f.n(r.a(244,6));f.M(r.a(0,0))}var g=r.ca.create(r.h(0,0,0,127),316,1);g.n(r.a(4,0));var h=r.T.create(this.Nc[e].name,"Arial",20);h.M(r.a(0,0.5));h.n(r.a(0,16));var k=r.A.ib(d.ra("GUI/edit.png"));k.n(r.a(272,6));k.M(r.a(0,0));var l=r.A.ib(d.ra("GUI/trash.png"));l.n(r.a(300,6));l.M(r.a(0,0));k.vc="Edit";var m=[];m.push(k);l.vc="Delete";m.push(l);null!=this.m&&(f.vc="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);
a[e].f(k);a[e].f(l);null!=this.m&&a[e].f(f)}d=r.ca.create(r.h(70,200,70,255),90,26);e=r.T.create("+","Arial",20);e.n(45,13);e.M(r.a(0.5,0.5));d.n(r.a(120,0));d.vc="Add";d.f(e);c.push([d]);a.push(d);this.S=this.b.main_panel.list;var n=this;this.S.Qd=function(){return r.size(324,32*a.length)};this.S.Cd=function(){return a.length};this.S.ve=function(c){return a[c].c()};this.S.te=function(c){return a[c]};this.S.yc=function(a,c,d){n.Da(d.K);if(!0!=n.Nn)switch(a){case "Delete":n.Q.f(DropDownList.Pd(n,n.nC,
["Cancel","Delete"],d.K));n.jb=c;break;case "Edit":n.Zf.Q&&n.Zf.J();n.Nn=!0;n.Zf.r({m:n,data:n.Nc[c]});n.Q.f(n.Zf);n.$b(!1);n.Zf.ea();n.Gx=c+"";break;case "Add":n.NH=!0;n.Nn=!0;n.Gx=n.Nc.length;n.Zf.r({m:n,data:null});n.$b(!1);n.Q.f(n.Zf);n.Zf.ea();break;case "Use":n.m.nt(c,n.Nc[c]),n.SI=!0}};this.S.pa=ListView.create(this.S);this.S.pa.He(c);this.S.f(this.S.pa)},Pc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),
size:r.size(365,328),children:{list:{size:r.size(324,328),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:this.jD,fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},jb:null,nC:function(a){switch(a){case 1:null!=this.m.jb&&(this.m.bS(this.m.jb),this.m.jb=null)}},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=this.b.main_panel.Da(a.K);return O(this.b.main_panel,
a)?!0:!1},cd:function(a){a&&(this.Zf.lj(this.Gx),this.NH&&(this.Nc.push(a),this.Jb()));this.$b(!0);this.Nn=this.NH=!1;var c=this;this.Rc(function(){c.Zf.la(!0);c.Zf.J()})},bS:function(a){this.Nc.splice(a,1);this.Zf.Yi(a,this.Nc);this.Jb()}});Warpeditor=null;
WarpEditor=Popup.extend({Oc:function(){return"WarpEditor"},lj:function(a){H({savewarps:a+"",warpdata:this.data})},Yi:function(a,c){H({savewarpswhole:c})},Pc:function(){return{panels:{position:r.a(300,200),children:{background:{Z:"GUI/warpeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(180,160),children:{okbtn:{position:r.a(114,16),size:r.size(32,32),Z:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(34,16),size:r.size(32,32),Z:"GUI/cross_icon.png",d:r.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,d:r.a(0,0),position:r.a(20,140),color:r.k(0,0,0)},nameEntry:{position:r.a(16,110),size:r.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,d:r.a(0,0),position:r.a(20,90),color:r.k(0,0,0)},mapNumEntry:{position:r.a(16,60),size:r.size(40,30)},mapxlbl:{label:"x",fontSize:12,d:r.a(0,0),position:r.a(80,90),color:r.k(0,0,0)},mapXEntry:{position:r.a(76,60),size:r.size(36,30)},mapylbl:{label:"y",fontSize:12,d:r.a(0,0),position:r.a(130,90),color:r.k(0,0,0)},mapYEntry:{position:r.a(126,60),size:r.size(36,
30)}}},control_panel:{d:r.a(0,0),position:r.a(0,160),size:r.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(156,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},Oa:null,Zp:null,$p:null,aq:null,m:null,data:null,r:function(a){this._super();this.m=this.aq=this.$p=this.Zp=this.Oa=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.m=a.m},ea:function(){this._super();var a=this.data.position%S,c=Math.floor(this.data.position/
S);this.Oa=new Z(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(100,100,100),r.k(255,255,255));this.Oa.vb(!0);this.Zp=new Z(this.b.main_panel.mapNumEntry,r.size(this.b.main_panel.mapNumEntry.c().width,this.b.main_panel.mapNumEntry.c().height),r.a(0,this.b.main_panel.mapNumEntry.c().height),""+this.data.mapTo,r.h(100,100,100),r.k(255,255,255));this.Zp.vb(!0);this.$p=new Z(this.b.main_panel.mapXEntry,
r.size(this.b.main_panel.mapXEntry.c().width,this.b.main_panel.mapXEntry.c().height),r.a(0,this.b.main_panel.mapXEntry.c().height),""+a,r.h(100,100,100),r.k(255,255,255));this.$p.vb(!0);this.aq=new Z(this.b.main_panel.mapYEntry,r.size(this.b.main_panel.mapYEntry.c().width,this.b.main_panel.mapYEntry.c().height),r.a(0,this.b.main_panel.mapYEntry.c().height),""+c,r.h(100,100,100),r.k(255,255,255));this.aq.vb(!0)},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=this.b.main_panel.Da(a.K);if(O(this.b.main_panel.okbtn,
a)){if(null==this.Oa.V()||""==this.Oa.V()||null==this.Zp.V()||""==this.Zp.V()||null==this.$p.V()||""==this.$p.V()||null==this.aq.V()||""==this.aq.V())return!0;this.Ef=!0;this.data.position=T(parseInt(this.$p.V()),Pa-parseInt(this.aq.V()));this.data.mapTo=parseInt(this.Zp.V());this.data.name=this.Oa.V();this.m.cd(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Ef=!0;var c=this.m;this.m.Rc(function(){c.cd(null)});return!0}},la:function(a){this._super();var c=this.m;a||this.m.Rc(function(){c.cd(null)})}});Signeditor=null;
SignEditor=Popup.extend({Oc:function(){return"SignEditor"},lj:function(a){H({savesigns:a+"",signsdata:this.data})},Yi:function(a,c){H({savesignswhole:c})},Pc:function(){return{panels:{position:r.a(300,200),children:{background:{Z:"GUI/signeditor_bg.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(142,256),children:{okbtn:{position:r.a(88,16),size:r.size(32,32),Z:"GUI/tick_icon.png",d:r.a(0,0)},cancelbtn:{position:r.a(22,16),size:r.size(32,32),Z:"GUI/cross_icon.png",d:r.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,d:r.a(0,0),position:r.a(6,238),color:r.k(0,0,0)},nameEntry:{position:r.a(4,206),size:r.size(120,30)},signlbl:{label:"Contents",fontSize:12,d:r.a(0,0),position:r.a(6,190),color:r.k(0,0,0)},signEntry:{position:r.a(4,60),size:r.size(120,128)}}},control_panel:{d:r.a(0,0),position:r.a(0,256),size:r.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(118,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},Oa:null,nq:null,
m:null,data:null,r:function(a){this._super();this.m=this.nq=this.Oa=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.m=a.m},ea:function(){this._super();this.Oa=new Z(this.b.main_panel.nameEntry,r.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),r.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,r.h(100,100,100),r.k(255,255,255));this.Oa.vb(!0);this.nq=new Z(this.b.main_panel.signEntry,r.size(this.b.main_panel.signEntry.c().width,this.b.main_panel.signEntry.c().height),
r.a(0,this.b.main_panel.signEntry.c().height),""+this.data.label,r.h(100,100,100),r.k(255,255,255),!0);this.nq.vb(!0)},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=this.b.main_panel.Da(a.K);if(O(this.b.main_panel.okbtn,a)){if(null==this.Oa.V()||""==this.Oa.V()||null==this.nq.V()||""==this.nq.V())return!0;this.Ef=!0;this.data.label=this.nq.V();this.data.name=this.Oa.V();this.m.cd(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Ef=!0;var c=this.m;this.m.Rc(function(){c.cd(null)});
return!0}},la:function(a){this._super();var c=this.m;a||this.m.Rc(function(){c.cd(null)})}});var P=Qa.extend({ctor:function(){this._super()},OL:function(){this._super()},ea:function(){this._super()},la:function(){this._super()},nb:function(a){r.bb(this.b.health_panel.Ya(),a.K)&&w.e().rl("Game")},r:function(){var a=r.T.create("ITS WOKKIN!","Arial",16);a.l(r.k(0,0,0));a.n(r.a(200,200));this.f(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,S:null,jb:null,Oc:function(){return"Credits"},la:function(){this._super()},r:function(){this._super();this.data={"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],
"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account",
"Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.","Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],
"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],
"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.","Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],
"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.","Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.",
"Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},lj:function(a){H({savequests:a+"",questdata:this.data})},Yi:function(a,c){H({savequestswhole:c})},ea:function(){this._super();this.Jb()},Jb:function(){this.S&&this.S.rc();var a=[],c=[];r.ia.e();var d=0,e;for(e in this.data){a[d]=r.D.create();a[d].W(324,32);var f=r.T.create(e,
"Arial",18);f.M(r.a(0,0));f.n(r.a(4,0));f.ic(r.size(246,0));f.l(r.k(100,0,0));a[d].f(f);a[d].W(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=r.D.create();a[d].W(324,32);var h=r.ca.create(r.h(0,0,0,127),316,1);h.n(r.a(4,0));var k=r.T.create(this.data[e][g],"Arial",15);k.l(r.k(0,0,0));k.M(r.a(0,0));k.n(r.a(4,4));k.ic(r.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].W(324,k.c().height+8);d++}}this.S=this.b.main_panel.list;this.S.Qd=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return r.size(324,c)};this.S.Cd=function(){return a.length};this.S.ve=function(c){return a[c].c()};this.S.te=function(c){return a[c]};this.S.yc=function(){};this.S.pa=ListView.create(this.S);this.S.pa.He(c);this.S.f(this.S.pa)},Pc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{list:{size:r.size(324,328),u:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,
0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"News",fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=this.b.main_panel.Da(a.K);return O(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,S:null,jb:null,Oc:function(){return"Credits"},la:function(){this._super()},r:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
lj:function(a){H({savequests:a+"",questdata:this.data})},Yi:function(a,c){H({savequestswhole:c})},ea:function(){this._super();this.Jb()},Jb:function(){this.S&&this.S.rc();var a=[],c=[];r.ia.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=r.D.create();a[d].W(324,32);var f=r.T.create(e,"Arial",18);f.M(r.a(0,0));f.n(r.a(4,0));f.ic(r.size(246,0));f.l(r.k(100,0,0));a[d].f(f);a[d].W(324,f.c().height+4);f=[];c.push(f);d++}a[d]=r.D.create();a[d].W(324,32);var g=r.ca.create(r.h(0,0,0,
127),316,1);g.n(r.a(4,0));if("ISSECTION"==this.data[e]){var h=r.T.create(e,"Arial",22);h.l(r.k(255,0,0))}else h=r.T.create(this.data[e],"Arial",15),h.l(r.k(0,0,0));h.M(r.a(0,0));h.n(r.a(4,4));h.ic(r.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].W(324,h.c().height+12):a[d].W(324,h.c().height+8);d++}this.S=this.b.main_panel.list;this.S.Qd=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return r.size(324,c)};this.S.Cd=function(){return a.length};this.S.ve=
function(c){return a[c].c()};this.S.te=function(c){return a[c]};this.S.yc=function(){};this.S.pa=ListView.create(this.S);this.S.pa.He(c);this.S.f(this.S.pa)},Pc:function(){return{panels:{position:r.a(300,200),children:{background_image:{Z:"GUI/list_panel.png",d:r.a(0,0)},main_panel:{d:r.a(0,0),size:r.size(365,328),children:{list:{size:r.size(324,328),u:r.h(0,200,200,200),position:r.a(0,0),d:r.a(0,0)}}},control_panel:{d:r.a(0,0),position:r.a(0,328),size:r.size(365,32),children:{header:{label:"Credits",
fontSize:20,d:r.a(0,0.5),position:r.a(8,16)},exitBtn:{position:r.a(337,6),size:r.size(20,20),d:r.a(0,0),Z:"GUI/close.png"}}}}}}},nb:function(a){if(this._super(a))return!0;this.Ed=null;a=this.b.main_panel.Da(a.K);return O(this.b.main_panel,a)?!0:!1}});Login=Qa.extend({ft:!1,Tl:!1,r:function(a){y=ta(y,v.FC());this._super();w.In(this);this.Up=this.eD=!1;this.mk=new Z(this.b.name_entry,r.size(this.b.name_entry.c().width,this.b.name_entry.c().height),r.a(0,this.b.name_entry.c().height),"Username",r.h(100,100,100),r.k(255,255,255));this.Cl=new Z(this.b.password_entry,r.size(this.b.password_entry.c().width,this.b.password_entry.c().height),r.a(0,this.b.password_entry.c().height),"Password",r.h(100,100,100),r.k(255,255,255));this.Cl.Lx(0);this.DD=new Z(this.b.new_user_name,
r.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),r.a(0,this.b.new_user_name.c().height),"Username",r.h(100,100,100),r.k(255,255,255));this.Ax=new Z(this.b.new_user_pass,r.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),r.a(0,this.b.new_user_pass.c().height),"Password",r.h(100,100,100),r.k(255,255,255));this.Ax.Lx(0);this.CD=new Z(this.b.new_user_email,r.size(this.b.new_user_email.c().width,this.b.new_user_email.c().height),r.a(0,this.b.new_user_email.c().height),
"Email Address",r.h(100,100,100),r.k(255,255,255));this.PH=!1;a&&(a.BJ?(t=[],H({logout:!0})):this.PH=!0,this.Kn(a.QD));this.Zb(this.iC);this.OH=!1;this.Zb(this.jE);this.RC();this.b.rem_login_text.ic(r.size(80,0));this.b.auto_login_text.ic(r.size(80,0));this.b.server_message.ic(r.size(300,0));this.b.server_message2.ic(r.size(150,0))},Bl:function(a){switch(a){case "ENTER":if(this.eD){a=this.DD.V();var c=this.Ax.V(),d=this.CD.V();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?
this.ig("Please use a correct email address."):(this.Up=!0,this.ig("Registering please wait..."),this.fK({name:a,password:c,email:d})):this.ig("Please fill all fields.")}else!1==this.Tl&&this.ft?(a=this.mk.V(),c=this.Cl.V(),""!=a&&null!=a&&""!=c&&null!=c?(this.Tl=!0,this.ig("Logging In"),H({login:!0,username:this.mk.V(),password:this.Cl.V()})):this.ig("Please enter a User and Password")):this.nx("Server is offline!")}},Kn:function(a){this.ft=a;!0==a?(this.b.server_activity.fa("Server: Online"),this.b.server_activity.l(r.k(0,
255,0))):(this.b.server_activity.fa("Server: Offline"),this.b.server_activity.l(r.k(255,0,0)))},iC:function(){var a=v.rT();a&&!1==this.OH&&(this.mk.Ie(a.user),this.OH=!0,this.Cl.Ie(a.pass));!0==this.PH&&autoLoginNextTime&&!1==this.Tl&&this.ft&&(!1==this.Tl&&this.ft?(this.Tl=!0,this.ig("Logging In"),H({login:!0,username:this.mk.V(),password:this.Cl.V()})):this.nx("Server is offline!"))},jE:function(){if(0<t.length)for(var a=t.length-1;0<=a;a--)reactToSocketMessage(t[a]),t.splice(a,1);autoLoginNextTime?
(v.uK(!0),this.b.auto_login.ga(r.ia.e().ra("GUI/checkbox_checked.png"))):(v.uK(!1),this.b.auto_login.ga(r.ia.e().ra("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ga(r.ia.e().ra("GUI/checkbox_checked.png")):this.b.remember_login.ga(r.ia.e().ra("GUI/checkbox_uncheck.png"))},Pc:function(){return{panels:{children:{background:{Z:"GUI/splash.png",size:r.size(960,640),d:r.a(0,0),position:r.a(0,0)},name_entry:{size:r.size(300,30),position:r.a(325,325)},password_entry:{size:r.size(300,
30),position:r.a(325,290)},new_user_name:{size:r.size(300,30),position:r.a(325,360)},new_user_pass:{size:r.size(300,30),position:r.a(325,325)},new_user_email:{size:r.size(300,30),position:r.a(325,290)},remember_login:{size:r.size(20,20),position:r.a(630,295),Z:"GUI/checkbox_uncheck.png",d:r.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:r.k(255,255,255),d:r.a(0,1),position:r.a(665,315)},auto_login:{size:r.size(20,20),position:r.a(630,330),Z:"GUI/checkbox_uncheck.png",d:r.a(0,0)},
auto_login_text:{label:"Auto login next time.",fontSize:16,color:r.k(255,255,255),d:r.a(0,0),position:r.a(665,330)},go_button:{position:r.a(325,240),size:r.size(120,40),u:r.h(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},register_button:{position:r.a(505,240),size:r.size(120,40),u:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"Register",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},new_user_back:{position:r.a(325,
240),size:r.size(120,40),u:r.h(0,0,0,255),children:{label:{label:"Go Back",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},new_user_confirm:{position:r.a(505,240),size:r.size(120,40),u:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},credits_button:{position:r.a(30,400),size:r.size(120,40),u:r.h(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,
20)}}},news_button:{position:r.a(30,340),size:r.size(120,40),u:r.h(0,0,0,255),d:r.a(0,1),children:{label:{label:"News",fontSize:20,color:r.k(255,255,255),d:r.a(0.5,0.5),position:r.a(60,20)}}},server_message:{label:"",fontSize:16,color:r.k(255,255,255),d:r.a(0,1),position:r.a(325,220)},server_message2:{label:"This game saves data automatically.",fontSize:16,color:r.k(255,255,255),d:r.a(0,1),position:r.a(175,355)},version_number:{label:y["Version Number"],fontSize:34,color:r.k(255,255,255),d:r.a(1,
1),position:r.a(710,55)},server_activity:{position:r.a(910,630),size:r.size(100,20),d:r.a(0.5,0.5),label:"Server: Offline",color:r.k(255,0,0)}}}}},kY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ga(r.ia.e().ra("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ga(r.ia.e().ra("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ga(r.ia.e().ra("GUI/checkbox_checked.png")))},lY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,
this.b.remember_login.ga(r.ia.e().ra("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ga(r.ia.e().ra("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ga(r.ia.e().ra("GUI/checkbox_checked.png")))},nb:function(a){if(null!=this.mk.V()&&this.b.go_button.ma&&r.bb(r.rect(this.b.go_button.q.F,this.b.go_button.q.H,this.b.go_button.c().width,this.b.go_button.c().height),a.K)){if(!1==this.Tl&&this.ft){a=this.mk.V();var c=this.Cl.V();""!=a&&null!=a&&""!=c&&null!=
c?(this.Tl=!0,this.ig("Logging In"),H({login:!0,username:this.mk.V(),password:this.Cl.V()})):this.ig("Please enter a User and Password")}else this.nx("Server is offline!");return!0}this.b.credits_button.ma&&r.bb(r.rect(this.b.credits_button.q.F,this.b.credits_button.q.H,this.b.credits_button.c().width,this.b.credits_button.c().height),a.K)&&this.If("/openCredits");this.b.news_button.ma&&r.bb(r.rect(this.b.news_button.q.F,this.b.news_button.q.H,this.b.news_button.c().width,this.b.news_button.c().height),
a.K)&&this.If("/openNews");if(this.b.register_button.ma&&r.bb(r.rect(this.b.register_button.q.F,this.b.register_button.q.H,this.b.register_button.c().width,this.b.register_button.c().height),a.K))return this.WX(),!1;if(this.b.auto_login.ma&&r.bb(r.rect(this.b.auto_login.q.F,this.b.auto_login.q.H,this.b.auto_login.c().width,this.b.auto_login.c().height),a.K))return this.kY(),!1;if(this.b.remember_login.ma&&r.bb(r.rect(this.b.remember_login.q.F,this.b.remember_login.q.H,this.b.remember_login.c().width,
this.b.remember_login.c().height),a.K))return this.lY(),!1;if(this.b.new_user_back.ma&&!1==this.Up&&r.bb(r.rect(this.b.new_user_back.q.F,this.b.new_user_back.q.H,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.K))return this.RC(),this.ig(""),!1;if(this.b.new_user_confirm.ma&&!1==this.Up&&r.bb(r.rect(this.b.new_user_confirm.q.F,this.b.new_user_confirm.q.H,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.K)){a=this.DD.V();var c=this.Ax.V(),d=this.CD.V();""!=
a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.ig("Please use a correct email address."):(this.Up=!0,this.ig("Registering please wait..."),this.fK({name:a,password:c,email:d})):this.ig("Please fill all fields.");return!1}},fK:function(a){a.newUser=1;H(a)},NR:function(){this.ig("Registration successful.");this.DD.Ie("Username");this.Ax.Ie("Password");this.CD.Ie("Email Address");this.Up=!1;this.RC()},AS:function(a){this.Up=!1;switch(a){case "UserTaken":this.ig("Registration failed, user already exists.")}},
WX:function(){this.b.new_user_name.v(!0);this.b.new_user_pass.v(!0);this.b.new_user_email.v(!0);this.b.new_user_confirm.v(!0);this.b.new_user_back.v(!0);this.b.register_button.v(!1);this.b.go_button.v(!1);this.b.name_entry.kb(-1E5);this.b.password_entry.kb(-1E5);this.b.new_user_name.kb(325);this.b.new_user_pass.kb(325);this.b.new_user_email.kb(325);this.b.rem_login_text.v(!1);this.b.auto_login_text.v(!1);this.b.auto_login.v(!1);this.b.remember_login.v(!1);this.eD=!0},RC:function(){this.b.new_user_name.v(!1);
this.b.new_user_pass.v(!1);this.b.new_user_email.v(!1);this.b.new_user_confirm.v(!1);this.b.new_user_back.v(!1);this.b.register_button.v(!0);this.b.go_button.v(!0);this.b.name_entry.kb(325);this.b.password_entry.kb(325);this.b.new_user_name.kb(-1E5);this.b.new_user_pass.kb(1E5);this.b.new_user_email.kb(1E5);this.b.rem_login_text.v(!0);this.b.auto_login_text.v(!0);this.b.auto_login.v(!0);this.b.remember_login.v(!0);this.eD=!1},If:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.Q||
(CreditsPanel=null);CreditsPanel?(CreditsPanel.la(),CreditsPanel.J(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.r(),CreditsPanel.ea(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.Q||(NewsPanel=null),NewsPanel?(NewsPanel.la(),NewsPanel.J(),NewsPanel=null):(NewsPanel=new News,NewsPanel.r(),NewsPanel.ea(),this.f(NewsPanel))}},NU:function(a){rememberLoginNextTime&&v.AX(this.mk.V(),this.Cl.V());this.Tc(this.iC);w.e().rl("Game",{Dl:a,map:1})},nx:function(a){this.Tc(this.iC);
this.b.server_message.fa(a);this.Tl=!1},ig:function(a){this.b.server_message.fa(a)},sd:function(){},Hf:function(){},b9:function(){w.e().rl("Game",{zda:this.mk.V()})}});P=null;MapMaster=!1;
var Ra=Qa.extend({uJ:!1,ctor:function(){this._super()},Pc:function(){return{panels:{children:{saving_icon:{visible:!1,position:r.a(X.width-52,4),d:r.a(0,0),size:r.size(48,48),Z:"GUI/save_icon.png"},logout_button:{position:r.a(X.width-52,X.height-52),d:r.a(0,0),size:r.size(48,48),Z:"GUI/logout.png"},quicknav_button:{position:r.a(X.width-30,Math.floor(X.height/2)-24),d:r.a(0,0),size:r.size(48,48),Z:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:r.a(X.width-52,Math.floor(X.height/2)+60),
d:r.a(0,0),size:r.size(48,48),Z:"GUI/inventory_icon.png"},equipment_button:{position:r.a(X.width-82,Math.floor(X.height/2)+4),d:r.a(0,0),size:r.size(48,48),Z:"GUI/equipment_icon.png"},skill_button:{position:r.a(X.width-82,Math.floor(X.height/2)-52),d:r.a(0,0),size:r.size(48,48),Z:"GUI/skills_icon.png"},chat_button:{position:r.a(X.width-52,Math.floor(X.height/2)-108),d:r.a(0,0),size:r.size(48,48),Z:"GUI/chat_icon.png"},quickedit_button:{position:r.a(0,Math.floor(X.height/2)-24),d:r.a(0,0),size:r.size(48,
48),Z:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:r.a(4,Math.floor(X.height/2)+116),d:r.a(0,0),size:r.size(48,48),Z:"GUI/mapeditor_icon.png"},npcedit_button:{position:r.a(34,Math.floor(X.height/2)+60),d:r.a(0,0),size:r.size(48,48),Z:"GUI/npceditor_icon.png"},itemedit_button:{position:r.a(64,Math.floor(X.height/2)+4),d:r.a(0,0),size:r.size(48,48),Z:"GUI/itemeditor_icon.png"},skilledit_button:{position:r.a(64,Math.floor(X.height/2)-52),d:r.a(0,0),size:r.size(48,48),Z:"GUI/skilleditor_icon.png"},
signedit_button:{position:r.a(34,Math.floor(X.height/2)-108),d:r.a(0,0),size:r.size(48,48),Z:"GUI/signeditor_icon.png"},warpedit_button:{position:r.a(4,Math.floor(X.height/2)-164),d:r.a(0,0),size:r.size(48,48),Z:"GUI/warpeditor_icon.png"},scriptedit_button:{position:r.a(90,Math.floor(X.height/2)-108),d:r.a(0,0),size:r.size(48,48),Z:"GUI/scripteditor_icon.png"},settings_button:{position:r.a(4,Math.floor(X.height/2)-220),d:r.a(0,0),size:r.size(48,48),Z:"GUI/settings_icon.png"},bankedit_button:{position:r.a(90,
Math.floor(X.height/2)+60),d:r.a(0,0),size:r.size(48,48),Z:"GUI/bankeditor_icon.png"},shopedit_button:{position:r.a(120,Math.floor(X.height/2)+4),d:r.a(0,0),size:r.size(48,48),Z:"GUI/shopeditor_icon.png"},questedit_button:{position:r.a(120,Math.floor(X.height/2)-52),d:r.a(0,0),size:r.size(48,48),Z:"GUI/questeditor_icon.png"}}}}},rJ:!1,pJ:!1,Kn:function(a){!1==a&&(this.pC(),w.e().rl("Login",{QD:!1}))},pC:function(){E.Ad();E.ht();null!=Equipment&&(Equipment.la(),Equipment.J(),Equipment=null);null!=
Inventory&&(Inventory.la(),Inventory.J(),Inventory=null);null!=Skills&&(Skills.la(),Skills.J(),Skills=null);SkillBarsInstance.J();A.Ad();A.ht();B.Ad();B.ht()},nb:function(a){if(r.bb(r.rect(this.b.logout_button.q.F,this.b.logout_button.q.H,this.b.logout_button.c().width,this.b.logout_button.c().height),a.K))return this.pC(),w.e().rl("Login",{BJ:!0,QD:!0}),!0;w.In(this);if(r.bb(this.b.chat_button.Ya(),a.K)&&this.b.chat_button.ma)return this.Bl("C"),!0;if(r.bb(this.b.inventory_button.Ya(),a.K)&&this.b.inventory_button.ma)return this.Bl("I"),
!0;if(r.bb(this.b.equipment_button.Ya(),a.K)&&this.b.equipment_button.ma)return this.Bl("E"),!0;if(r.bb(this.b.skill_button.Ya(),a.K)&&this.b.skill_button.ma)return this.Bl("S"),!0;if(this.b.quickedit_button.ma&&r.bb(this.b.quickedit_button.Ya(),a.K)&&this.b.quickedit_button.ma)return this.lL(!this.pJ),!0;if(r.bb(this.b.quicknav_button.Ya(),a.K)&&this.b.quicknav_button.ma)return this.mL(!this.rJ),!0;if(r.bb(this.b.mapedit_button.Ya(),a.K)&&this.b.mapedit_button.ma)return this.If("/editmap"),!0;if(r.bb(this.b.npcedit_button.Ya(),
a.K)&&this.b.npcedit_button.ma)return this.If("/editnpc"),!0;if(r.bb(this.b.itemedit_button.Ya(),a.K)&&this.b.itemedit_button.ma)return this.If("/edititem"),!0;if(r.bb(this.b.skilledit_button.Ya(),a.K)&&this.b.skilledit_button.ma)return this.If("/editskill"),!0;if(r.bb(this.b.signedit_button.Ya(),a.K)&&this.b.signedit_button.ma)return this.If("/editsign"),!0;if(r.bb(this.b.scriptedit_button.Ya(),a.K)&&this.b.scriptedit_button.ma)return this.If("/editscript"),!0;if(r.bb(this.b.warpedit_button.Ya(),
a.K)&&this.b.warpedit_button.ma)return this.If("/editwarp"),!0;if(r.bb(this.b.settings_button.Ya(),a.K)&&this.b.settings_button.ma)return this.If("/editsettings"),!0;if(r.bb(this.b.shopedit_button.Ya(),a.K)&&this.b.shopedit_button.ma)return this.If("/editshop"),!0;if(r.bb(this.b.questedit_button.Ya(),a.K)&&this.b.questedit_button.ma)return this.If("/editquest"),!0;if(r.bb(this.b.bankedit_button.Ya(),a.K)&&this.b.bankedit_button.ma)return this.If("/editbank"),!0},nL:function(a){null==Sign||Sign.Q||
(Sign=null);Sign?(Sign.la(),Sign.J(),Sign=null):(Sign=new SignPanel,Sign.r(a),Sign.ea(),this.f(Sign))},$x:function(a,c){null==Book||Book.Q||(Book=null);Book?(Book.la(),Book.J(),Book=null):(Book=new BookPanel,Book.r(a,c),Book.ea(),this.f(Book))},Hf:function(){},Bl:function(a){switch(a){case "C":B.qU()?B.YI():B.show();break;case "ENTER":B.dD()||B.SD(!0);break;case "SPACE":A.B.ba.kU();Inventory&&Inventory.Qa();break;case "CTRL":A.B.ba.jU();break;case "ESC":this.pC();w.e().rl("Login",{BJ:!0,QD:!0});break;
case "I":null==Inventory||Inventory.Q||(Inventory=null);Inventory?(Inventory.la(),Inventory.J(),Inventory=null):(Inventory=new InventoryPanel,Inventory.r(),Inventory.ea(),this.f(Inventory));break;case "E":null==Equipment||Equipment.Q||(Equipment=null);Equipment?(Equipment.la(),Equipment.J(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.r(),Equipment.ea(),this.f(Equipment));break;case "S":null==Skills||Skills.Q||(Skills=null),Skills?(Skills.la(),Skills.J(),Skills=null):(Skills=new SkillsPanel,
Skills.r(),Skills.ea(),this.f(Skills))}},oD:function(a){var c=A.B.ba.ef();A.B.ba.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":A.B.ba.sq(c.x+1,c.y);break;case "LEFTARROW":A.B.ba.sq(c.x-1,c.y);break;case "UPARROW":A.B.ba.sq(c.x,c.y+1);break;case "DOWNARROW":A.B.ba.sq(c.x,c.y-1)}},mL:function(a){this.rJ=a;this.b.chat_button.v(a);this.b.inventory_button.v(a);this.b.equipment_button.v(a);this.b.skill_button.v(a);this.b.quicknav_button.ga(r.ia.e().ra(!0==a?"GUI/quickmenu_opened_icon.png":
"GUI/quickmenu_closed_icon.png"))},lL:function(a){this.pJ=a;this.b.mapedit_button.v(a);this.b.npcedit_button.v(a);this.b.itemedit_button.v(a);this.b.skilledit_button.v(a);this.b.signedit_button.v(a);this.b.scriptedit_button.v(a);this.b.warpedit_button.v(a);this.b.settings_button.v(a);this.b.shopedit_button.v(a);this.b.bankedit_button.v(a);this.b.questedit_button.v(a);this.b.quickedit_button.ga(r.ia.e().ra(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},If:function(a){if(a){if(1<
A.B.ba.vp)switch(a){case "/editscript":null==Scripteditor||Scripteditor.Q||(Scripteditor=null);Scripteditor?(Scripteditor.la(),Scripteditor.J(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.r({m:null,wh:new ScriptEditor,list:ObjectLists.Jg(),name:"Script List"}),Scripteditor.ea(),this.f(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.Q||(Mapeditor=null);Mapeditor?(Mapeditor.la(),Mapeditor.J(),Mapeditor=null,E.it(null)):(Mapeditor=new MapEditor,Mapeditor.r(),Mapeditor.ea(),
this.f(Mapeditor),E.it(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.Q||(Settingseditor=null);Settingseditor?(Settingseditor.la(),Settingseditor.J(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.r(),Settingseditor.ea(),this.f(Settingseditor));break;case "/editwarp":null==Warpeditor||Warpeditor.Q||(Warpeditor=null);Warpeditor?(Warpeditor.la(),Warpeditor.J(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.r({m:null,wh:new WarpEditor,list:ObjectLists.en(),
name:"Warp List"}),Warpeditor.ea(),this.f(Warpeditor));break;case "/editsign":null==Signeditor||Signeditor.Q||(Signeditor=null);Signeditor?(Signeditor.la(),Signeditor.J(),Signeditor=null):(Signeditor=new PopupList,Signeditor.r({m:null,wh:new SignEditor,list:ObjectLists.Is(),name:"Sign List"}),Signeditor.ea(),this.f(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.Q||(Skillseditor=null);Skillseditor?(Skillseditor.la(),Skillseditor.J(),Skillseditor=null):(Skillseditor=new PopupList,
Skillseditor.r({m:null,wh:new SkillsEditor,list:ObjectLists.pc(),name:"Skills List"}),Skillseditor.ea(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.Q||(Itemeditor=null);Itemeditor?(Itemeditor.la(),Itemeditor.J(),Itemeditor=null,E.it(null)):(Itemeditor=new PopupList,Itemeditor.r({m:null,wh:new ItemEditor,list:ObjectLists.se(),name:"Item List"}),Itemeditor.ea(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.Q||(NPCeditor=null);NPCeditor?(NPCeditor.la(),
NPCeditor.J(),NPCeditor=null,E.it(null)):(NPCeditor=new PopupList,NPCeditor.r({m:null,wh:new NPCEditor,list:ObjectLists.ql(),name:"NPC List"}),NPCeditor.ea(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.Q||(Questeditor=null),Questeditor?(Questeditor.la(),Questeditor.J(),Questeditor=null,E.it(null)):(Questeditor=new PopupList,Questeditor.r({m:null,wh:new QuestEditor,list:ObjectLists.Hs(),name:"Quest List"}),Questeditor.ea(),this.f(Questeditor))}switch(a){case "/help":B.showHelp();
break;case "/commands":B.VX();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=y["/diceroll"],c=c.replace("\x3cPLAYER\x3e",A.B.ba.getName()),c=c.replace("\x3cVALUE\x3e",a);B.Ob(c);H({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=y["/coinflip"];c=c.replace("\x3cPLAYER\x3e",A.B.ba.getName());c=c.replace("\x3cVALUE\x3e",a);B.Ob(c);H({coinflip:c});break;case "/dance":a=y["/dance"];a=a.replace("\x3cPLAYER\x3e",A.B.ba.getName());B.Ob(a);H({dance:a});
break;case "/afk":A.B.ba.updateStatus("AFK"),H({afk:!0})}}},r:function(a){this._super();this.f(E.create());ObjectLists.e();A.create({name:a.Dl.name,gj:!0,On:{health:{Qc:1,value:100,cg:200,bg:900},mana:{Qc:1,value:100,cg:200,bg:99}},map:a.Dl.location.mapnumber,position:a.Dl.location.position,rt:"sprites1.png",pt:1,vp:a.Dl.rank,kJ:a.Dl.inventory,oI:a.Dl.equipment});E.eR();this.b.J();this.mq(-20);H({moveTo:A.B.ba.ef().x+A.B.ba.ef().y*S});this.f(B.create());console.log(a.Dl);this.f(G.create(a.Dl.skills));
this.mL(!1);this.lL(!1);this.QX();this.f(this.b);this.Zb(this.jE);this.Zb(this.wW);P=this;this.Zb(this.pW,120)},pW:function(){var a={saveUser:!0,name:A.B.ba.getName(),location:{mapnumber:E.Yc(),position:A.B.ba.ef().x+A.B.ba.ef().y*S},inventory:A.B.ba.pl(),equipment:A.B.ba.Hp(),skills:[],clan:"",guilds:[],quests:[],friends:[],pets:[],pmessages:[],lastchats:[],health:100};this.b.saving_icon.v(!0);this.uJ=!0;H(a);console.log("SAVING NOW!")},FS:function(){this.b.saving_icon.v(!1);this.uJ=!1},QX:function(){1==
A.B.ba.vp&&this.b.quickedit_button.v(!1)},jE:function(){if(0<t.length)for(var a=0;a<t.length;a++){var c=JSON.parse(t[a]);c.moveTo&&(!A.hi(c.id)||A.hi(c.id)&&!1==A.hi(c.id).Pg)?(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),t.splice(a,1))}},wW:function(){if(!0==MapMaster){var a=A.WM(),c;for(c in a)if(!1==a[c].tx){var d=10*Math.random()+1,e=a[c].ef();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;
case 4:e.y--}a[c].wX(e,d)}}}});var Sa=r.Ea.extend({xc:null,I3:!1,SD:function(a){a?this.xc.ab.focus():this.xc.ab.blur()},dD:function(){return document.activeElement==this.xc.ab},fa:function(a){this.xc.Ie(a)},HC:function(){return this.xc.V()},r:function(){r.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.xc=r.zq.create(r.size(c.width,c.height),r.qf.create(),h);this.xc.Ie(e);this.xc.aS=e;this.xc.XW(r.k(g.p,g.o,g.g));this.xc.vK(r.k(f.p,f.o,f.g));this.xc.n(r.a(d.x,d.y));this.xc.M(0,1);this.xc.Eh(this);
a.f(this.xc);this.r()}});var Ta=Sa.extend({Ow:function(a){a.Ie("")},Pw:function(a,c){c||("/"==a.V().substring(0,1)?this.mW(a.V()):0<a.V().length&&B.Ob(a.V(),!0));a.Ie(y["Default ChatBar Message"])},mW:function(a){w.e().rd.If(a)},Qw:function(a,c){a.Ie(c);r.log("chatBox "+this.mG(a)+", TextChanged, text: "+c)},mG:function(){return"chatbox"}}),Y=null,B=r.Uc.extend({ek:null,r:function(){this.ek=new Ta(this.b.chat_panel,r.size(this.b.chat_panel.c().width-4,25),r.a(2,this.b.chat_panel.c().height-2),y["Default ChatBar Message"],
r.k(255,255,255),r.k(0,0,0));this.ek.xc.Q.ed(this.ek.xc.q.H+59)},FH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].HC());this.b.chat_panel.label0.fa(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].fa(c[d-1])},Pc:function(){return{panels:{children:{chat_panel:{size:r.size(400,150),Z:"GUI/chat.png",d:r.a(0,0),opacity:200,position:r.a(0,-200),children:{label7:{label:"",position:r.a(5,0),d:r.a(0,0),color:r.k(0,0,0)},label6:{label:"",position:r.a(5,15),d:r.a(0,0),color:r.k(0,
0,0)},label5:{label:"",position:r.a(5,30),d:r.a(0,0),color:r.k(0,0,0)},label4:{label:"",position:r.a(5,45),d:r.a(0,0),color:r.k(0,0,0)},label3:{label:"",position:r.a(5,60),d:r.a(0,0),color:r.k(0,0,0)},label2:{label:"",position:r.a(5,75),d:r.a(0,0),color:r.k(0,0,0)},label1:{label:"",position:r.a(5,90),d:r.a(0,0),color:r.k(0,0,0)},label0:{label:"",position:r.a(5,105),d:r.a(0,0),color:r.k(0,0,0)}}}}}}}});B.create=function(){Y||(Y=new B,Y.b=Ia(Y),Y.f(Y.b),Y.r(),B.YI(),B.YX());return Y};B.e=function(){return Y};
B.Ob=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(H({chatMessage:a}),Y.FH(A.B.ba.getName()+": "+a)):Y.FH(a)};B.show=function(){Y.ek.xc.Q.ed(0)};B.YI=function(){Y.ek.xc.Q.ed(-Y.ek.xc.q.H+59)};B.qU=function(){return 0!=Y.ek.xc.Q.q.H?!1:!0};B.SD=function(a){Y.ek.SD(a)};B.dD=function(){return Y.ek.dD()};B.showHelp=function(){B.Ob(I.re.PT);B.Ob(I.re.QT);B.Ob(I.re.RT);B.Ob(I.re.ST);B.Ob(I.re.TT)};B.VX=function(){B.Ob(I.re.JR);B.Ob(I.re.KR);B.Ob(I.re.LR);B.Ob(I.re.MR)};B.YX=function(){B.Ob(y["Welcome Message"])};
B.Ad=function(){Y.b.J();Y.b=null};B.ht=function(){Y.J();Y=null};var Z=Sa.extend({Op:!1,GJ:!1,fI:!1,cD:!1,Ow:function(a){!1==this.fI&&a.Ie("");this.cD=!0},Lx:function(a){this.xc.Lx(a)},Y7:function(){return this.cD},Pw:function(a){this.cD=!1;null==a.V()||""==a.V().length&&this.GJ?this.Op=!0:0<!a.V().length?(a.Ie(this.xc.aS),this.Op=!1):this.Op=!0},Qw:function(a,c){a.Ie(c);this.Op=!0},mG:function(){return"name_entry"},V:function(){return!0==this.Op||!0==this.$R?this.xc.V():null},Ie:function(a){this.xc.Ie(a);this.Op=!0},vb:function(a){this.$R=a},Gd:function(a){this.GJ=
a},EK:function(a){this.fI=a},r:function(){}});var w=r.Uc.extend({B:null,cC:null,rd:null,DH:null,r:function(){var a=r.ta.e().Vw();this.cC=r.ca.create(r.h(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.cC.M(r.a(0,0));this.f(this.cC);v.e()&&ua?(y=ta(y,v.FC()),this.rl("Login",{}),this.Zb(this.TH),autoLoginNextTime=v.nJ(),rememberLoginNextTime=v.tJ()):this.Zb(this.ZI)},ZI:function(){v.e()&&ua&&(this.Tc(this.ZI),y=ta(y,v.FC()),this.rl("Login",{}),this.Zb(this.TH),autoLoginNextTime=v.nJ(),rememberLoginNextTime=v.tJ())},TH:function(){for(var a in Aa)if(!0==
Aa[a]&&null!=this.rd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;
case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.rd.oD(c)}},rl:function(a,c){null!=this.rd&&(this.rd.la(),this.rd.J(),this.rd=null);switch(a){case "Login":this.rd=new Login;break;case "Game":this.rd=new Ra}this.rd.OL();this.f(this.rd,1);this.rd.$W(a);this.rd.ea();this.rd.r(c)},u4:function(){return this.rd.Oc()}});w.e=function(){null==this.B&&(this.B=new w);return this.B};w.In=function(a){null==this.B&&(this.B=new w);this.B.DH=a};
w.HS=function(){null==this.B&&(this.B=new w);return this.B.DH};var X;
new (r.sj.extend({Hw:document.ccConfig,ctor:function(){this._super();r.Ft=this.Hw.COCOS2D_DEBUG;r.VT();r.Ll(this.Hw.tag);r.ty.UX().iS()},mR:function(){var a=this.Hw,c=r.Y.e(),d=r.ta.e();X=d.Vw();r.size(X.width,X.height);var e=r.size(X.width,X.height),f=r.Jd.e();r.sj.e();f.WK(["res/Graphics"]);r.Gh&&r.Gh.e().Iba("res/Audio");c.MW(1);d.RD(e.width,e.height,r.eo.SHOW_ALL);c.gt(1/a.frameRate);a.test?r.test(a.test):(r.log("++++++++++++++++entry for game++++++++++++"),r.BU(function(a){r.Ry.wD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=w.e();r.Y.e().kK(a);a.r()})}));return!0}}));
//@ sourceMappingURL=sourcemap