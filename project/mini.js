var b,aa={Q1:"GUI/bankeditor_icon.png",S1:"GUI/book.png",V1:"GUI/btnDown.png",W1:"GUI/btnLeft.png",X1:"GUI/btnRight.png",Y1:"GUI/btnUp.png",q2:"GUI/chat.png",p2:"GUI/chat_icon.png",r2:"GUI/close.png",C2:"GUI/cross_icon.png",H2:"GUI/defaultitem.png",X2:"GUI/edit.png",Y2:"GUI/editor-tab.png",b3:"GUI/equipment.png",a3:"GUI/equipment_icon.png",c3:"GUI/event_panel.png",i7:"GUI/healthbar.png",B7:"GUI/inventory.png",A7:"GUI/inventory_icon.png",q8:"GUI/itemeditor_bg.png",r8:"GUI/itemeditor_icon.png",s8:"GUI/itemeditor_tab1_bg.png",
t8:"GUI/itemeditor_tab2_bg.png",u8:"GUI/itemeditor_tab3_bg.png",I8:"GUI/list_panel.png",Q8:"GUI/logout.png",U8:"GUI/mapeditor_icon.png",a9:"GUI/npceditor_icon.png",g$:"GUI/questeditor_icon.png",h$:"GUI/quickedit_closed_icon.png",i$:"GUI/quickedit_opened_icon.png",j$:"GUI/quickmenu_closed_icon.png",k$:"GUI/quickmenu_opened_icon.png",U$:"GUI/scripteditor_icon.png",eca:"GUI/settings_icon.png",fca:"GUI/shopeditor_icon.png",ica:"GUI/signeditor_bg.png",jca:"GUI/signeditor_icon.png",kca:"GUI/signpost.png",
lca:"GUI/skilleditor_icon.png",nca:"GUI/skills.png",mca:"GUI/skills_icon.png",pca:"GUI/splash.png",Qca:"GUI/texture_change_left.png",Rca:"GUI/texture_change_middle.png",Sca:"GUI/texture_change_right.png",Tca:"GUI/tick_icon.png",bda:"GUI/trash.png",kda:"GUI/use.png",tda:"GUI/warpeditor_bg.png",uda:"GUI/warpeditor_icon.png",Z1:"building1.png",o2:"character_graphics.txt",v8:"items1.png",qca:"sprites1.png",Uca:"tile_graphics.txt",Vca:"tiles1.png"};var q=q||{},ba={};q.pU=function(a){var c=q.zD[ba.MJ.kF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={MJ:{kF:"_0"}};q.zD={};q.zD[ba.MJ.kF]=[];q.zD.gR=[];var io="undefined"===typeof module?{}:module.sc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,zn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Sp(1<g.path.length?g.path:"")}})("object"===typeof module?module.sc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,t=g.length;h<t;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.sc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Jf||(this.Jf={});this.Jf[a]?d.util.isArray(this.Jf[a])?this.Jf[a].push(c):this.Jf[a]=[this.Jf[a],c]:this.Jf[a]=c;return this};e.prototype.OU=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.cx=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Jf&&this.Jf[a]){var e=this.Jf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].cx&&e[l].cx===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Jf[a]}else(e===c||e.cx&&e.cx===c)&&delete this.Jf[a]}return this};e.prototype.sp=function(a){if(!this.Jf)return!1;var c=this.Jf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.sc,"undefined"!=typeof io?io:module.parent.sc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,Q,R=c[a];R instanceof Date&&(R=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof p&&(R=p.call(c,a,R));switch(typeof R){case "string":return f(R);
case "number":return isFinite(R)?String(R):"null";case "boolean":case "null":return String(R);case "object":if(!R)return"null";m+=n;Q=[];if("[object Array]"===Object.prototype.toString.apply(R)){l=R.length;for(d=0;d<l;d+=1)Q[d]=g(d,R)||"null";k=0===Q.length?"[]":m?"[\n"+m+Q.join(",\n"+m)+"\n"+r+"]":"["+Q.join(",")+"]";m=r;return k}if(p&&"object"===typeof p)for(l=p.length,d=0;d<l;d+=1)"string"===typeof p[d]&&(h=p[d],(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k));else for(h in R)Object.prototype.hasOwnProperty.call(R,
h)&&(k=g(h,R))&&Q.push(f(h)+(m?": ":":")+k);k=0===Q.length?"{}":m?"{\n"+m+Q.join(",\n"+m)+"\n"+r+"}":"{"+Q.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},p;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((p=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.sc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.Hw||"",m=a.np,A=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)A=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(A=a.data);break;case "event":A=
{name:a.name};a.We&&a.We.length&&(A.We=a.We);A=k.stringify(A);break;case "json":A=k.stringify(a.data);break;case "connect":a.NJ&&(A=a.NJ);break;case "ack":A=a.op+(a.We&&a.We.length?"+"+k.stringify(a.We):"")}c=[c,d+("data"==m?"+":""),e];null!==A&&void 0!==A&&c.push(A);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],Hw:c[4]||""};d&&(e.id=d,e.np=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.We=l.We}catch(A){}e.We=e.We||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.NJ=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.op=c[1],e.We=[],c[3])try{e.We=c[3]?k.parse(c[3]):
[]}catch(C){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.sc,"undefined"!=typeof io?io:module.parent.sc);(function(a,d){function e(a,c){this.xb=a;this.kW=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.LI=function(){return!0};e.prototype.Rs=function(a){this.$B();
(this.xb.qh||this.xb.Cg||this.xb.qn)&&this.oK();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Ss(a[c])};e.prototype.Ss=function(a){this.xb.yK();if("heartbeat"==a.type)return this.AU();"connect"==a.type&&""==a.Hw&&this.bD();"error"==a.type&&"reconnect"==a.advice&&(this.Is=!1);this.xb.Ss(a);return this};e.prototype.oK=function(){if(!this.qp){var a=this;this.qp=setTimeout(function(){a.jn()},this.xb.qp)}};e.prototype.jn=function(){this.Is&&this.close();this.aC();
this.xb.jn();return this};e.prototype.bD=function(){this.xb.bD();return this};e.prototype.$B=function(){this.qp&&(clearTimeout(this.qp),this.qp=null)};e.prototype.aC=function(){this.$B();this.QV&&clearTimeout(this.QV)};e.prototype.dg=function(a){this.send(d.parser.encodePacket(a))};e.prototype.AU=function(){this.dg({type:"heartbeat"})};e.prototype.fx=function(){this.Is=!0;this.$B();this.xb.fx()};e.prototype.hi=function(){this.Is=!1;this.xb.hi();this.jn()};e.prototype.Us=function(){var a=this.xb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.sx+"/"+d.protocol+"/"+this.name+"/"+this.kW};e.prototype.lx=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.sc,"undefined"!=typeof io?io:module.parent.sc);(function(a,d,e){function f(a){this.options={port:80,zn:!1,document:"document"in e?document:!1,sx:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.qn=this.Cg=this.open=this.qh=!1;this.namespaces={};this.buffer=[];this.hC=!1;if(this.options["sync disconnect on unload"]&&(!this.Kp()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.aS()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Sp=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].dg({type:"connect"}));return this.namespaces[a]};f.prototype.yl=function(){this.sp.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Sp(c),a.rk.apply(a,arguments))};f.prototype.xT=function(a){function c(d){d instanceof Error?(e.Cg=!1,e.kn(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.zn?"s":"")+":/",f.host+":"+f.port,f.sx,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.Kp()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var p=d.util.request();p.open("GET",f,!0);this.Kp()&&(p.withCredentials=!0);p.onreadystatechange=function(){4==p.readyState&&(p.onreadystatechange=g,200==p.status?c(p.responseText):403==p.status?e.kn(p.responseText):(e.Cg=!1,
!e.qn&&e.kn(p.responseText)))};p.send(null)}};f.prototype.CI=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Vm(this)&&(!this.Kp()||d.Transport[e].qt(this)))return new d.Transport[e](this,this.fK);return null};f.prototype.connect=function(a){if(this.Cg)return this;var c=this;c.Cg=!0;this.xT(function(e,f,g,r){function p(a){c.kf&&c.kf.aC();c.kf=c.CI(a);c.kf?c.kf.lx(c,function(){c.Cg=!0;c.yl("connecting",c.kf.name);c.kf.open();c.options["connect timeout"]&&
(c.ER=setTimeout(function(){if(!c.qh&&(c.Cg=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.kf.name;);a.length?p(a):c.yl("connect_failed")}},c.options["connect timeout"]))}):c.yl("connect_failed")}c.fK=e;c.qp=1E3*g;c.CT=1E3*f;c.transports||(c.transports=c.PU=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.yK();p(c.transports);c.OU(function(){clearTimeout(c.ER);a&&"function"==typeof a&&a()})});return this};f.prototype.yK=
function(){clearTimeout(this.KI);if(!this.kf||this.kf.LI()){var a=this;this.KI=setTimeout(function(){a.kf.hi()},this.CT)}};f.prototype.dg=function(a){this.qh&&!this.hC?this.kf.dg(a):this.buffer.push(a);return this};f.prototype.jk=function(a){this.hC=a;!a&&this.qh&&this.buffer.length&&(this.options.manualFlush||this.tS())};f.prototype.tS=function(){this.kf.FJ(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.qh||this.Cg)this.open&&this.Sp("").dg({type:"disconnect"}),this.jn("booted");
return this};f.prototype.aS=function(){var a=d.util.request();a.open("GET",["http"+(this.options.zn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.sx,d.protocol,"",this.fK].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.jn("booted")};f.prototype.Kp=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.bD=function(){this.qh||(this.qh=!0,this.Cg=!1,this.hC||this.jk(!1),this.sp("connect"))};
f.prototype.fx=function(){this.open=!0};f.prototype.hi=function(){this.open=!1;clearTimeout(this.KI)};f.prototype.Ss=function(a){this.Sp(a.Hw).Ss(a)};f.prototype.kn=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.qh||this.Cg)&&(this.disconnect(),this.options.mx&&this.mx());this.yl("error",a&&a.reason?a.reason:a)};f.prototype.jn=function(a){var c=this.qh,d=this.Cg;this.open=this.Cg=this.qh=!1;if(c||d)this.kf.close(),this.kf.aC(),c&&(this.yl("disconnect",a),"booted"!=a&&this.options.mx&&!this.qn&&
this.mx())};f.prototype.mx=function(){function a(){if(d.qh){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].dg({type:"connect"});d.yl("reconnect",d.kf.name,d.nx)}clearTimeout(d.ox);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.qn=!1;delete d.nx;delete d.rn;delete d.ox;delete d.SJ;d.options["try multiple transports"]=f}function c(){if(d.qn){if(d.qh)return a();if(d.Cg&&d.qn)return d.ox=setTimeout(c,1E3);d.nx++>=e?d.SJ?(d.yl("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.PU,d.kf=d.CI(),d.SJ=!0,d.connect()):(d.rn<g&&(d.rn*=2),d.connect(),d.yl("reconnecting",d.rn,d.nx),d.ox=setTimeout(c,d.rn))}}this.qn=!0;this.nx=0;this.rn=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.ox=setTimeout(c,this.rn);this.on("connect",c)}})("undefined"!=
typeof io?io:module.sc,"undefined"!=typeof io?io:module.parent.sc,this);(function(a,d){function e(a,c){this.xb=a;this.name=c||"";this.Jw={};this.gU=new f(this,"json");this.qH=0;this.ls={}}function f(a,c){this.Rp=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.rk=d.EventEmitter.prototype.sp;e.prototype.Sp=function(){return this.xb.Sp.apply(this.xb,arguments)};e.prototype.dg=function(a){a.Hw=this.name;this.xb.dg(a);this.Jw={};return this};e.prototype.send=function(a,c){var d=
{type:this.Jw.gU?"json":"message",data:a};"function"==typeof c&&(d.id=++this.qH,d.np=!0,this.ls[d.id]=c);return this.dg(d)};e.prototype.sp=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.qH,e.np="data",this.ls[e.id]=d,c=c.slice(0,c.length-1));e.We=c;return this.dg(e)};e.prototype.disconnect=function(){""===this.name?this.xb.disconnect():(this.dg({type:"disconnect"}),this.rk("disconnect"));return this};e.prototype.Ss=
function(a){function c(){e.dg({type:"ack",We:d.util.toArray(arguments),op:a.id})}var e=this;switch(a.type){case "connect":this.rk("connect");break;case "disconnect":""===this.name?this.xb.jn(a.reason||"booted"):this.rk("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.np?f.push(c):a.np&&this.dg({type:"ack",op:a.id});this.rk.apply(this,f);break;case "event":f=[a.name].concat(a.We);"data"==a.np&&f.push(c);this.rk.apply(this,f);break;case "ack":this.ls[a.op]&&
(this.ls[a.op].apply(this,a.We),delete this.ls[a.op]);break;case "error":a.advice?this.xb.kn(a):"unauthorized"==a.reason?this.rk("connect_failed",a.reason):this.rk("error",a.reason)}};f.prototype.send=function(){this.Rp.Jw[this.name]=!0;this.Rp.send.apply(this.Rp,arguments)};f.prototype.sp=function(){this.Rp.Jw[this.name]=!0;this.Rp.sp.apply(this.Rp,arguments)}})("undefined"!=typeof io?io:module.sc,"undefined"!=typeof io?io:module.parent.sc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Sg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.xb.options.query),c=this,f;f||(f=e.ZZ||e.tN);this.Sg=new f(this.Us()+a);this.Sg.onopen=function(){c.fx();c.xb.jk(!1)};this.Sg.onmessage=function(a){c.Rs(a.data)};this.Sg.onclose=function(){c.hi();c.xb.jk(!0)};this.Sg.onerror=function(a){c.kn(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Sg.send(a)},0);return this}:function(a){this.Sg.send(a);
return this};f.prototype.FJ=function(a){for(var c=0,d=a.length;c<d;c++)this.dg(a[c]);return this};f.prototype.close=function(){this.Sg.close();return this};f.prototype.kn=function(a){this.xb.kn(a)};f.prototype.scheme=function(){return this.xb.options.zn?"wss":"ws"};f.Vm=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.qt=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.sc,"undefined"!=typeof io?io:module.parent.sc,
this);(function(c,d){function e(){d.Transport.Sg.apply(this,arguments)}c.v3=e;d.util.inherit(e,d.Transport.Sg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.Du(function(){d.Transport.Sg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.Du(function(){d.Transport.Sg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.Dq.length=0;d.Transport.Sg.prototype.close.call(this);return this};
e.prototype.lx=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.zn?"s":"")+":/",d.host+":"+d.port,d.sx,"static/flashsocket","WebSocketMain"+(a.Kp()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.oU("xmlsocket://"+d.host+":"+h),WebSocket.mz(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Vm=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.ES().tU:!1};e.qt=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.sc,"undefined"!=typeof io?io:module.parent.sc);if("undefined"!=typeof window)var a=function(){function c(){if(!ia){try{var a=K.getElementsByTagName("body")[0].appendChild(K.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ia=!0;for(var a=va.length,d=0;d<a;d++)va[d]()}}function d(a){ia?
a():va[va.length]=a}function e(a){if(typeof Z.addEventListener!=M)Z.addEventListener("load",a,!1);else if(typeof K.addEventListener!=M)K.addEventListener("load",a,!1);else if(typeof Z.attachEvent!=M)x(Z,a);else if("function"==typeof Z.onload){var c=Z.onload;Z.onload=function(){c();a()}}else Z.onload=a}function f(){var a=K.getElementsByTagName("body")[0],c=K.createElement(Q);c.setAttribute("type",R);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=M){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),E.Vp=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ga.length;if(0<a)for(var c=0;c<a;c++){var d=ga[c].id,e=ga[c].jR,f={Hn:!1,id:d};if(0<E.Vp[0]){var g=t(d);if(g)if(!A(ga[c].YX)||E.qk&&312>E.qk)if(ga[c].eI&&k()){f={};f.data=ga[c].eI;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.wca=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),r=g.length,p=0;p<r;p++)"movie"!=g[p].getAttribute("name").toLowerCase()&&(n[g[p].getAttribute("name")]=g[p].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else C(d,!0),e&&(f.Hn=!0,f.TJ=h(d),e(f))}else C(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=M&&(f.Hn=!0,f.TJ=d),e(f))}}function h(a){var c=null;(a=t(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=M?c=a:(a=a.getElementsByTagName(Q)[0])&&
(c=a));return c}function k(){return!wa&&A("6.0.65")&&(E.Bh||E.pJ)&&!(E.qk&&312>E.qk)}function l(a,c,d,e){wa=!0;Ca=e||null;Ja={Hn:!1,id:d};var f=t(d);if(f){"OBJECT"==f.nodeName?(ra=n(f),xa=null):(ra=f,xa=d);a.id=la;if(typeof a.width==M||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==M||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";K.title=K.title.slice(0,47)+" - Flash Player Installation";e=E.vh&&E.Bh?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
Z.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+K.title;c.ps=typeof c.ps!=M?c.ps+("\x26"+e):e;E.vh&&E.Bh&&4!=f.readyState&&(e=K.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(E.vh&&E.Bh&&4!=a.readyState){var c=K.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=K.createElement("div");if(E.Bh&&E.vh)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(Q)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=t(d);if(E.qk&&312>E.qk)return e;if(f)if(typeof a.id==
M&&(a.id=d),E.vh&&E.Bh){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.Z8=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";ya[ya.length]=a.id;e=t(a.id)}else{k=K.createElement(Q);k.setAttribute("type",
R);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=K.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function p(a){var c=t(a);c&&"OBJECT"==c.nodeName&&(E.vh&&E.Bh?(c.style.display="none",function(){if(4==c.readyState){var d=t(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function t(a){var c=null;try{c=K.getElementById(a)}catch(d){}return c}function x(a,c){a.attachEvent("onload",c);ma[ma.length]=[a,"onload",c]}function A(a){var c=E.Vp;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!E.vh||!E.pJ){var f=K.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Da=ea=null),ea&&Da==d||(e=K.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ea=f.appendChild(e),E.vh&&E.Bh&&typeof K.styleSheets!=M&&0<K.styleSheets.length&&(ea=K.styleSheets[K.styleSheets.length-1]),Da=d),E.vh&&E.Bh?ea&&typeof ea.addRule==Q&&ea.addRule(a,c):ea&&typeof K.createTextNode!=M&&ea.appendChild(K.createTextNode(a+" {"+c+"}")))}}function C(a,c){if(Ka){var d=
c?"visible":"hidden";ia&&t(a)?t(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=M?encodeURIComponent(a):a}var M="undefined",Q="object",R="application/x-shockwave-flash",la="SWFObjectExprInst",Z=window,K=document,ha=navigator,La=!1,va=[function(){La?f():g()}],ga=[],ya=[],ma=[],ra,xa,Ca,Ja,ia=!1,wa=!1,ea,Da,Ka=!0,E=function(){var a=typeof K.getElementById!=M&&typeof K.getElementsByTagName!=M&&typeof K.createElement!=M,c=ha.userAgent.toLowerCase(),
d=ha.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ha.plugins!=M&&typeof ha.plugins["Shockwave Flash"]==Q)!(h=ha.plugins["Shockwave Flash"].description)||typeof ha.mimeTypes!=M&&ha.mimeTypes[R]&&!ha.mimeTypes[R].enabledPlugin||(La=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof Z[["Active"].concat("Object").join("X")]!=M)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Ml:a,Vp:g,qk:c,vh:f,Bh:e,pJ:d}}();(function(){E.Ml&&((typeof K.readyState!=M&&"complete"==K.readyState||typeof K.readyState==
M&&(K.getElementsByTagName("body")[0]||K.body))&&c(),ia||(typeof K.addEventListener!=M&&K.addEventListener("DOMContentLoaded",c,!1),E.vh&&E.Bh&&(K.attachEvent("onreadystatechange",function(){"complete"==K.readyState&&(K.detachEvent("onreadystatechange",arguments.callee),c())}),Z==top&&function(){if(!ia){try{K.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),E.qk&&function(){ia||(/loaded|complete/.test(K.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){E.vh&&E.Bh&&window.attachEvent("onunload",function(){for(var c=ma.length,d=0;d<c;d++)ma[d][0].detachEvent(ma[d][1],ma[d][2]);c=ya.length;for(d=0;d<c;d++)p(ya[d]);for(var e in E)E[e]=null;E=null;for(var f in a)a[f]=null;a=null})})();return{q$:function(a,c,d,e){if(E.Ml&&a&&c){var f={};f.id=a;f.YX=c;f.eI=d;f.jR=e;ga[ga.length]=f;C(a,!1)}else e&&e({Hn:!1,id:a})},o5:function(a){if(E.Ml)return h(a)},lS:function(a,c,e,f,g,h,m,n,p,t){var x={Hn:!1,id:c};E.Ml&&!(E.qk&&312>E.qk)&&a&&c&&e&&f&&g?(C(c,
!1),d(function(){e+="";f+="";var d={};if(p&&typeof p===Q)for(var D in p)d[D]=p[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===Q)for(var Y in n)D[Y]=n[Y];if(m&&typeof m===Q)for(var E in m)D.ps=typeof D.ps!=M?D.ps+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(A(g))Y=r(d,D,c),d.id==c&&C(c,!0),x.Hn=!0,x.TJ=Y;else{if(h&&k()){d.data=h;l(d,D,c,t);return}C(c,!0)}t&&t(x)})):t&&t(x)},Eca:function(){Ka=!1},ua:E,ES:function(){return{tU:E.Vp[0],V8:E.Vp[1],tD:E.Vp[2]}},zT:A,z2:function(a,c,d){if(E.Ml)return r(a,
c,d)},gca:function(a,c,d,e){E.Ml&&k()&&l(a,c,d,e)},E$:function(a){E.Ml&&p(a)},y2:function(a,c,d,e){E.Ml&&D(a,c,d,e)},q1:d,u1:e,T5:function(a){var c=K.location.search||K.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Y(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Y(c[d].substring(c[d].indexOf("\x3d")+1))}return""},f3:function(){if(wa){var a=t(la);a&&ra&&(a.parentNode.replaceChild(ra,a),xa&&(C(xa,!0),E.vh&&E.Bh&&(ra.style.display=
"block")),Ca&&Ca(Ja));wa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.tN){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.zT("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.Fu=WebSocket.AN++;WebSocket.DF[k.Fu]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.co={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.Du(function(){WebSocket.ui.create(k.Fu,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.ui.send(this.Fu,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.uE&&
(this.readyState=WebSocket.uE,WebSocket.ui.close(this.Fu))},WebSocket.prototype.addEventListener=function(a,c){a in this.co||(this.co[a]=[]);this.co[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.co)for(var f=this.co[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.co[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.xN=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.BF(a.type);else if("close"==a.type)a=this.BF("close");else if("message"==a.type)a=this.vN(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.BF=function(a){if(document.createEvent&&window.xZ){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.vN=function(a){if(document.createEvent&&
window.XZ&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.uE=2,WebSocket.CLOSED=3,WebSocket.ui=null,WebSocket.DF={},WebSocket.Dq=[],WebSocket.AN=0,WebSocket.oU=function(a){WebSocket.Du(function(){WebSocket.ui.O8(a)})},WebSocket.mz=function(){if(!WebSocket.ui&&(WebSocket.CN&&(window.sN=WebSocket.CN),window.sN)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.zN()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.lS(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{h7:!0,Hca:!0,H1:"always"},null,function(a){a.Hn||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.y0=function(){setTimeout(function(){WebSocket.ui=
document.getElementById("webSocketFlash");WebSocket.ui.gaa(location.href);WebSocket.ui.oaa(!!window.j0);for(var a=0;a<WebSocket.Dq.length;++a)WebSocket.Dq[a]();WebSocket.Dq=[]},0)},WebSocket.x0=function(){setTimeout(function(){try{for(var a=WebSocket.ui.l$(),e=0;e<a.length;++e)WebSocket.DF[a[e].vda].xN(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.w0=function(a){c.log(decodeURIComponent(a))},WebSocket.v0=function(a){c.error(decodeURIComponent(a))},WebSocket.Du=function(a){WebSocket.ui?a():WebSocket.Dq.push(a)},
WebSocket.zN=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.k0||(window.addEventListener?window.addEventListener("load",function(){WebSocket.mz()},!1):window.attachEvent("onload",function(){WebSocket.mz()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.sj=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.xb.jk(!1);this.fx();this.get();this.oK();return this};f.prototype.FJ=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.JJ(a);return this};f.prototype.JJ=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.Z9=!1,200==this.status?f.xb.jk(!1):f.hi())}function d(){this.onload=
g;f.xb.jk(!1)}var f=this;this.xb.jk(!0);this.Ws=this.request("POST");e.XDomainRequest&&this.Ws instanceof XDomainRequest?this.Ws.onload=this.Ws.onerror=d:this.Ws.onreadystatechange=c;this.Ws.send(a)};f.prototype.close=function(){this.hi();return this};f.prototype.request=function(a){var c=d.util.request(this.xb.Kp()),e=d.util.query(this.xb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Us()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.xb.options.zn?"https":"http"};f.Vm=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.zn?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(p){}return!1};f.qt=function(a){return f.Vm(a,!0)}})("undefined"!=typeof io?io.Transport:module.sc,"undefined"!=typeof io?io:module.parent.sc,this);(function(a,d){function e(a){d.Transport.sj.apply(this,
arguments)}a.k7=e;d.util.inherit(e,d.Transport.sj);e.prototype.name="htmlfile";e.prototype.get=function(){this.jl=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.jl.open();this.jl.write("\x3chtml\x3e\x3c/html\x3e");this.jl.close();this.jl.parentWindow.mi=this;var a=this.jl.createElement("div");a.className="socketio";this.jl.body.appendChild(a);this.Fg=this.jl.createElement("iframe");a.appendChild(this.Fg);var c=this,a=d.util.query(this.xb.options.query,"t\x3d"+ +new Date);this.Fg.src=
this.Us()+a;d.util.on(window,"unload",function(){c.Jd()})};e.prototype.yF=function(a,c){a=a.replace(/\\\//g,"/");this.Rs(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.Jd=function(){if(this.Fg){try{this.Fg.src="about:blank"}catch(a){}this.jl=null;this.Fg.parentNode.removeChild(this.Fg);this.Fg=null;CollectGarbage()}};e.prototype.close=function(){this.Jd();return d.Transport.sj.prototype.close.call(this)};e.Vm=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.sj.Vm(a)}catch(c){}return!1};e.qt=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.sc,"undefined"!=typeof io?io:module.parent.sc);(function(a,d,e){function f(){d.Transport.sj.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.sj);d.util.merge(f,d.Transport.sj);f.prototype.name="xhr-polling";
f.prototype.LI=function(){return!1};f.prototype.open=function(){d.Transport.sj.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Rs(this.responseText),f.get()):f.hi())}function c(){this.onerror=this.onload=g;f.AD=1;f.Rs(this.responseText);f.get()}function d(){f.AD++;!f.AD||3<f.AD?f.hi():f.get()}if(this.Is){var f=this;this.oi=this.request();e.XDomainRequest&&this.oi instanceof XDomainRequest?(this.oi.onload=
c,this.oi.onerror=d):this.oi.onreadystatechange=a;this.oi.send(null)}};f.prototype.hi=function(){d.Transport.sj.prototype.hi.call(this);if(this.oi){this.oi.onreadystatechange=this.oi.onload=this.oi.onerror=g;try{this.oi.abort()}catch(a){}this.oi=null}};f.prototype.lx=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.sc,"undefined"!=typeof io?io:module.parent.sc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.yF(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.JJ=function(a){function c(){e();f.xb.jk(!1)}function e(){f.Fg&&f.form.removeChild(f.Fg);try{x=document.createElement('\x3ciframe name\x3d"'+f.IC+'"\x3e')}catch(a){x=document.createElement("iframe"),x.name=f.IC}x.id=f.IC;f.form.appendChild(x);f.Fg=
x}var f=this,g=d.util.query(this.xb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),p=document.createElement("textarea"),t=this.IC="socketio_iframe_"+this.index,x;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=t;r.method="POST";r.setAttribute("accept-charset","utf-8");p.name="d";r.appendChild(p);document.body.appendChild(r);this.form=r;this.dR=p}this.form.action=this.Us()+
g;e();this.dR.value=d.JSON.stringify(a);try{this.form.submit()}catch(A){}this.Fg.attachEvent?x.onreadystatechange=function(){"complete"==f.Fg.readyState&&c()}:this.Fg.onload=c;this.xb.jk(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.xb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.lb&&(this.lb.parentNode.removeChild(this.lb),this.lb=null);c.async=!0;c.src=this.Us()+e;c.onerror=function(){a.hi()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.lb=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.yF=function(a){this.Rs(a);this.Is&&this.get();return this};f.prototype.lx=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Vm=function(){return"document"in e};f.qt=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.sc,"undefined"!=
typeof io?io:module.parent.sc,this);"function"===typeof define&&define.I1&&define([],function(){return io})})();q=q||{};function ca(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}ca.id=0|998*Math.random();ca.XT=0|998*Math.random();
ca.KH=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.QL(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};ca.KH.QL=ca;ca.PS=function(){return this.id++};ca.QS=function(){return this.XT++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Da=function(){};q.Da.extend=function(d){function e(){this.bc=ca.QS();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=ca.PS();ca[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=ca.KH(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.bc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.m7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.o7=function(a,c){function d(){}d.prototype=c.prototype;a.Xx=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.gR=function(a,c,d){var e=arguments.callee.caller;if(e.Xx)return ret=e.Xx.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Xx&&h.Xx.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.u2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.Vg=function(a,c){this.x=a||0;this.y=c||0};q.zF=function(a,c){this.F=a||0;this.H=c||0;this.UK=function(a){this.F=a};this.VK=function(a){this.H=a}};q.td=function(){return new q.zF(0,0)};
Object.defineProperties(q.zF.prototype,{x:{get:function(){return this.F},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.H},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.n_=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.Vg(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.Y0=q.a;q.oj=function(){return q.a(0,0)};q.GJ=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.yk=function(a,c){this.width=a||0;this.height=c||0};q.AF=function(a,c){this.Ga=a||0;this.sa=c||0;this.VD=function(a){this.Ga=a};this.JD=function(a){this.sa=a}};q.Am=function(){return new q.AF(0,0)};
Object.defineProperties(q.AF.prototype,{width:{get:function(){return this.Ga},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.sa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.S_=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.bb=q.size;q.Xl=function(){return q.size(0,0)};q.pH={aV:q.td(),PX:q.Am()};Object.defineProperties(q,{PM:{get:function(){return q.pH.aV}},ZM:{get:function(){return q.pH.PX}},s_:{get:function(){return q.rect(0,0,0,0)}}});q.OX=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.lg=function(a,c,d,e){var f=arguments.length;if(4===f)this.gd=new q.Vg(a||0,c||0),this.bb=new q.yk(d||0,e||0);else if(1===f)this.gd=new q.Vg(a.gd.x,a.gd.y),this.bb=new q.yk(a.bb.width,a.bb.height);else if(0===f)this.gd=new q.Vg(0,0),this.bb=new q.yk(0,0);else if(2===f)this.gd=new q.Vg(a.x,a.y),this.bb=new q.yk(c.width,c.height);else throw"unknown argument type";};q.z_=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.lg(0,0,0,0);if(1===f)return new q.lg(a.x,a.y,a.width,a.height);if(2===f)return new q.lg(a.x,a.y,c.width,c.height);if(4===f)return new q.lg(a,c,d,e);throw"unknown argument type";};q.xa=q.rect;q.dd=function(){return q.rect(0,0,0,0)};q.RJ=function(a,c){return a&&c?q.GJ(a.gd,c.gd)&&q.OX(a.bb,c.bb):!1};q.Fr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.m$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.sn=function(a){return a.x+a.width};q.n$=function(a){return a.x+a.width/2};q.zl=function(a){return a.x};q.tn=function(a){return a.y+a.height};q.o$=function(a){return a.y+a.height/2};q.Al=function(a){return a.y};q.ab=function(a,c){return c.x>=q.zl(a)&&c.x<=q.sn(a)&&c.y>=q.Al(a)&&c.y<=q.tn(a)};q.rV=function(a,c){return!(q.sn(a)<q.zl(c)||q.sn(c)<q.zl(a)||q.tn(a)<q.Al(c)||q.tn(c)<q.Al(a))};
q.p$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.px=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.qV=function(a,c){var d=q.rect(Math.max(q.zl(a),q.zl(c)),Math.max(q.Al(a),q.Al(c)),0,0);d.width=Math.min(q.sn(a),q.sn(c))-q.zl(d);d.height=Math.min(q.tn(a),q.tn(c))-q.Al(d);return d};b=q.lg.prototype;
b.UK=function(a){this.gd.x=a};b.VK=function(a){this.gd.y=a};b.Ds=function(){return this.bb.width};b.VD=function(a){this.bb.width=a};b.ws=function(){return this.bb.height};b.JD=function(a){this.bb.height=a};
Object.defineProperties(q.lg.prototype,{x:{get:function(){return this.gd.x},set:function(a){this.UK(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.gd.y},set:function(a){this.VK(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Ds()},set:function(a){this.VD(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.ws()},set:function(a){this.JD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(da){"SECURITY_ERR"!==da.name&&"QuotaExceededError"!==da.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{g2:{get:function(){var a={canvas:!0};q.Fa.Pc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},u9:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.yt},enumerable:!0,configurable:!0}});s.A3=function(){};
s.U2=function(){};s.P$=function(){};q.yt="Cocos2d-html5-v2.2.2";q.St=0;q.IE=q.a(0,0);q.VL=0.5;q.TY=1;q.$M=1;q.MM=0;q.qF=0;q.U_=0;q.V_=0;q.v_=1;q.u_="-hd";q.oN=1;q.xk=0;q.P_=0;q.QZ=0;q.PZ=0;q.Dy=1;q.cZ=q.yt+"-canvas";q.xw={platform:s.platform};q.T2=function(){for(var a in s)q.log(a+" \x3d "+s[a])};q.xt=1;q.KE=1;q.LH=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Fa={};q.Fa.pY=["baidubrowser","opera","firefox","chrome","safari"];
(function(){q.Fa.ua=navigator.userAgent.toLowerCase();q.Fa.platform=navigator.platform.toLowerCase();q.Fa.ek=-1!=q.Fa.ua.indexOf("mobile")||-1!=q.Fa.ua.indexOf("android");q.Fa.type=function(){var a=q.Fa.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Fa.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Fa.mode="ie"==q.Fa.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.HB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Fa.pY.indexOf(q.Fa.type);1===q.HB||0===q.HB&&(q.Fa.ek||a)?q.Fa.Pc=!1:(q.Fa.Pc=null!=window.n0,a=document.createElement("Canvas"),a=q.LH(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Fa.Pc=null!=a);2!==q.HB||q.Fa.Pc||(q.nz=!0);var a=q.Fa,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.xca=c;q.Fa.r9=function(a){if(this.ek){var c=q.W.e().Qb,d=c.width+"px",c=c.height+"px",h=q.sk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.sY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.sk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.sY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.A_=function(){return"undefined"===q.nz?!1:q.nz};
q.Nb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Nb,a.DC=a.DC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.vH=a.vH||function(a){this.DC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.IV=a.IV||function(a){this.DC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Tm=a.Tm||
function(a){a.appendChild(this);return this},a.kV=a.kV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.Jn=a.Jn||function(){this.style[q.Nb.dY]=q.Nb.translate(this.position)+q.Nb.rotate(this.rotation)+q.Nb.scale(this.scale)+q.Nb.Gl(this.Gl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Gl=a.Gl||{x:0,y:0},a.cE=function(a,c){this.position.x=a;this.position.y=c;this.Jn()},a.rotate=function(a){this.rotation=
a;this.Jn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.Jn();return this},a.LK=function(a,c){this.Gl.x=a;this.Gl.y=c;this.Jn()};return a};switch(q.Fa.type){case "firefox":q.Nb.Up="Moz";q.Nb.Ep=!0;break;case "chrome":case "safari":q.Nb.Up="webkit";q.Nb.Ep=!0;break;case "opera":q.Nb.Up="O";q.Nb.Ep=!1;break;case "ie":q.Nb.Up="ms";q.Nb.Ep=!1;break;default:q.Nb.Up="webkit",q.Nb.Ep=!0}q.Nb.dY=q.Nb.Up+"Transform";
q.Nb.translate=q.Nb.Ep?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Nb.rotate=q.Nb.Ep?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Nb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Nb.Gl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.sk=function(a){return q.Nb(document.createElement(a))};
q.Nb.t3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.G=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.D||e instanceof HTMLElement?e:q.G(e)}return c};q.N1=function(){};q.NE=q.NE||!1;
q.ZO=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){q.NE?q.ZO(a):console.log.apply(console,arguments)};q.WZ=function(a){console.log(a)};q.tt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.JT=function(){0==q.vt?(q.log=function(){},q.nJ=function(){},q.mJ=function(){},q.tt=function(){}):1==q.vt?(q.nJ=q.log,q.mJ=function(){}):1<q.vt&&(q.nJ=q.log,q.mJ=q.log)};q.sM=0;q.rM=1;q.tM=2;q.wM=3;q.uM=4;q.DM=5;q.CM=6;q.yM=7;q.xM=8;q.vM=9;
q.BM=10;q.qM=11;q.zM=12;q.AM=13;
q.oM={P1:8,Jca:9,oS:13,shift:16,D2:17,alt:18,pause:19,h2:20,escape:27,R9:33,Q9:34,end:35,home:36,left:37,eda:38,right:39,O2:40,t7:45,jZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,I:65,g:66,Ba:67,Ka:68,V2:69,Iw:70,o:71,ue:72,l7:73,j:74,w8:75,F8:76,S8:77,rJ:78,n9:79,a:80,f$:81,p:82,mi:83,Ica:84,Oa:85,ma:86,BL:87,x:88,y:89,z:90,b9:96,c9:97,d9:98,e9:99,f9:100,g9:101,h9:102,i9:103,j9:104,k9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,g3:112,k3:113,l3:114,m3:115,n3:116,o3:117,p3:118,q3:119,
r3:120,h3:121,i3:122,j3:123,m9:144,V$:145,X$:186,",":186,Z2:187,"\x3d":187,";":188,t2:188,F2:189,".":190,V9:190,y3:191,e7:192,"[":219,s9:219,"]":221,s2:221,O1:220,quote:222,oca:32};q.si=-1;q.PI=Math.PI;q.fM=parseFloat("3.402823466e+38F");q.WM=q.PI/180;q.UL=180/q.PI;q.nN=4294967295;q.Q_=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.H8=function(a,c,d){return a+(c-a)*d};q.r_=function(){return 2*(Math.random()-0.5)};q.q_=function(){return Math.random()};q.mj=function(a){return a*q.WM};q.Py=function(a){return a*q.UL};
q.Wl=Number.MAX_VALUE-1;q.De=q.MM?1:770;q.Ce=771;q.Jy=function(a){a.Hc&&(a.Hc.lf(),a.Hc.Pg())};q.vZ=function(){};q.iZ=function(){};q.Dh=function(){q.bi+=1};q.Tt=1.192092896E-7;q.Cd=q.Dy?function(){return q.W.e().gm}:function(){return 1};q.OM=function(a){var c=q.Cd();return q.a(a.x*c,a.y*c)};q.r0=function(a,c){var d=q.Cd();c.F=a.x*d;c.H=a.y*d};q.Uy=function(a){var c=q.Cd();return q.size(a.width*c,a.height*c)};q.N_=function(a){var c=q.Cd();return q.size(a.width/c,a.height/c)};
q.kz=function(a,c){var d=q.Cd();c.Ga=a.width/d;c.sa=a.height/d};q.l_=function(a){var c=q.Cd();return q.a(a.x/c,a.y/c)};q.Cu=function(a,c){var d=q.Cd();c.F=a.x/d;c.H=a.y/d};q.pq=q.Dy?function(a){var c=q.Cd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.Vn=q.Dy?function(a){var c=q.Cd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.tE=function(){if(q.M$==q.zk){var a=q.V.getError();a&&q.log("WebGL error "+a)}};q.F_=0;q.E_=1;q.C_=2;q.D_=3;q.G_=4;q.H_=5;q.B_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var fa=document.createElement("script");fa.type="text/vbscript";fa.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(fa);
q.SF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.Dd=q.Da.extend({zj:null,bl:null,oO:null,eA:null,Vo:null,Rh:null,Rq:"",ctor:function(){this.zj={};this.bl={};this.Rh=[];this.Rh.push(this.Rq);this.Vo=[];this.Vo.push("")},c$:function(){this.Rh=[]},R3:function(a){a=this.le(a);return this.zj.hasOwnProperty(a)?this.zj[a]:this.WO(a)},hv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},eY:function(a){this.zj.hasOwnProperty(a)&&delete this.zj[a]},gV:function(a){a=this.le(a);var c=this,d=this.hv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.SF(d.responseBody);e&&(c.zj[a]=c.Vv(e))}else q.Xb.e().ln(a);q.Xb.e().ki()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.zj[a]=c.Vv(e):q.Xb.e().ln(a);q.Xb.e().ki()});d.send(null)},WO:function(a){var c=this.hv();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.SF(c.responseBody))d=this.Vv(c),this.zj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Vv(c.responseText);this.zj[a]=d}return d},Vv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},gY:function(a){a=this.le(a);this.bl.hasOwnProperty(a)&&delete this.bl[a]},iV:function(a){a=this.le(a);var c=this,d=this.hv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.bl[a]=e)}else q.Xb.e().ln(a);q.Xb.e().ki()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.bl[a]=d.responseText:q.Xb.e().ln(a);q.Xb.e().ki()});d.send(null)},YO:function(a){var c=this.hv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.bl[a]=d);return d},xI:function(a){a=this.le(a);return this.bl.hasOwnProperty(a)?this.bl[a]:
this.YO(a)},y4:function(){},J$:function(){},HJ:!0,z3:function(a){return a},le:function(a){var c=!1;a=this.zO(a);for(var d,e=0;e<this.Rh.length;e++){for(var f=this.Rh[e],g=0;g<this.Vo.length;g++)if(d=this.AO(a,this.Vo[g],f)){c=!0;break}if(c)break}return c?d:a},M8:function(a){var c=this.le(a);if(0<c.length){var c=q.wk.e().parse(c),d=parseInt(c.metadata.version);1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.HW(c.filenames)}},HW:function(a){this.eA=
a},mI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},Dba:function(a){this.Vo=a},g6:function(){return this.Vo},Cba:function(a){this.Rh=a},e6:function(){return this.Rh},X5:function(){return this.oO},xba:function(){},J2:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.JR(a)},JR:function(a){return q.wk.e().parse(a)},v6:function(a){return this.xI(a)},
Bw:function(a){return q.wk.e().parse(a)},Y6:function(){return""},nba:function(a){q.HJ=a},a8:function(){return q.HJ},aB:"",Y5:function(){return this.aB},yba:function(a){this.aB=a},zO:function(a){var c=null;(c=this.eA?this.eA[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},AO:function(a,c,d){var e;e=this.aB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},L0:function(){},KK:function(a){var c=!1;this.Rh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.aJ(e)||(f=this.Rq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Rq||(c=!0);this.Rh.push(e)}c||this.Rh.push(this.Rq)},x1:function(a){var c;this.aJ(a)||(c=this.Rq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Rh.push(a)},f6:function(){},
aJ:function(a){return"/"==a[0]}});q.CD=null;q.Dd.e=function(){null==q.CD&&(q.CD=new q.Dd);return q.CD};q.Bc=function(a,c,d){switch(arguments.length){case 0:this.g=this.o=this.p=0;break;case 1:a&&a instanceof q.Bc?(this.p=0|a.p||0,this.o=0|a.o||0,this.g=0|a.g||0):this.g=this.o=this.p=0;break;case 3:this.p=0|a||0;this.o=0|c||0;this.g=0|d||0;break;default:throw"unknown argument type";}};q.k=function(a,c,d){return new q.Bc(a,c,d)};q.x7=function(a){a=a||0;var c=new q.Bc;c.p=a&255;c.o=a>>8&255;c.g=a>>16&255;return c};q.uw=q.k;q.a2=function(a,c){return a.p===c.p&&a.o===c.o&&a.g===c.g};
Object.defineProperties(q,{l0:{get:function(){return q.k(255,255,255)}},o0:{get:function(){return q.k(255,255,0)}},QY:{get:function(){return q.k(0,0,255)}},EZ:{get:function(){return q.k(0,255,0)}},t_:{get:function(){return q.k(255,0,0)}},TZ:{get:function(){return q.k(255,0,255)}},OY:{get:function(){return q.k(0,0,0)}},c_:{get:function(){return q.k(255,127,0)}},DZ:{get:function(){return q.k(166,166,166)}}});q.yb=function(){return new q.Bc(255,255,255)};q.zda=function(){return new q.Bc(255,255,0)};
q.blue=function(){return new q.Bc(0,0,255)};q.green=function(){return new q.Bc(0,255,0)};q.red=function(){return new q.Bc(255,0,0)};q.T8=function(){return new q.Bc(255,0,255)};q.R1=function(){return new q.Bc(0,0,0)};q.t9=function(){return new q.Bc(255,127,0)};q.Cp=function(){return new q.Bc(166,166,166)};q.Ob=function(a,c,d,e){this.p=0|a;this.o=0|c;this.g=0|d;this.I=0|e};q.h=function(a,c,d,e){return new q.Ob(a,c,d,e)};q.XB=q.h;q.Rd=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.I=e};
q.vw=function(a,c,d,e){return new q.Rd(a,c,d,e)};q.d2=function(a){return new q.Rd(a.p/255,a.o/255,a.g/255,1)};q.e2=function(a){return new q.Rd(a.p/255,a.o/255,a.g/255,a.I/255)};q.b2=function(a){return new q.Ob(0|255*a.p,0|255*a.o,0|255*a.g,0|255*a.I)};q.c2=function(a,c){return a.p==c.p&&a.o==c.o&&a.g==c.g&&a.I==c.I};q.Bb=function(a,c){this.x=a||0;this.y=c||0};q.Bu=function(a,c){return new q.Bb(a,c)};q.Uc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
q.qda=function(a,c,d){return new q.Uc(a,c,d)};q.vc=function(a,c){this.Oa=a||0;this.ma=c||0};q.Pca=function(a,c){return new q.vc(a,c)};q.o_=function(a,c,d){a||new q.Bb(0,0);this.color=c||new q.Ob(0,0,0,0);this.size=d||0};q.eu=function(a,c,d,e){this.Sa=a||new q.Bb(0,0);this.Ma=c||new q.Bb(0,0);this.Ja=d||new q.Bb(0,0);this.Ua=e||new q.Bb(0,0)};q.p_=function(a,c,d,e){this.Ja=a||new q.Uc(0,0,0);this.Ua=c||new q.Uc(0,0,0);this.Sa=d||new q.Uc(0,0,0);this.Ma=e||new q.Uc(0,0,0)};
q.iM=function(a,c){this.x=a;this.y=c};q.o=function(a,c){return new q.iM(a,c)};q.Tb=function(a,c,d){this.r=a||new q.Bb(0,0);this.J=c||new q.Ob(0,0,0,0);this.B=d||new q.vc(0,0)};q.yu=function(){this.r=new q.Bb(0,0);this.J=new q.Rd(0,0,0,0);this.B=new q.vc(0,0)};q.oc=function(a,c,d){this.r=a||new q.Uc(0,0,0);this.J=c||new q.Ob(0,0,0,0);this.B=d||new q.vc(0,0)};q.Dc=function(a,c,d){this.I=a||new q.Tb;this.g=c||new q.Tb;this.Ba=d||new q.Tb};
q.pN=function(){var a=new q.Tb(new q.Bb(0,0),new q.Ob(0,0,0,255),new q.vc(0,0)),c=new q.Tb(new q.Bb(0,0),new q.Ob(0,0,0,255),new q.vc(0,0)),d=new q.Tb(new q.Bb(0,0),new q.Ob(0,0,0,255),new q.vc(0,0)),e=new q.Tb(new q.Bb(0,0),new q.Ob(0,0,0,255),new q.vc(0,0));this.Ja=a||new q.Tb;this.Ua=c||new q.Tb;this.Sa=d||new q.Tb;this.Ma=e||new q.Tb};q.g0=function(){return new q.pN};q.ac=function(a,c,d,e){this.Sa=a||new q.oc;this.Ja=c||new q.oc;this.Ma=d||new q.oc;this.Ua=e||new q.oc};
q.iz=function(){return new q.ac(new q.oc(new q.Uc(0,0,0),new q.Ob(0,0,0,255),new q.vc(0,0)),new q.oc(new q.Uc(0,0,0),new q.Ob(0,0,0,255),new q.vc(0,0)),new q.oc(new q.Uc(0,0,0),new q.Ob(0,0,0,255),new q.vc(0,0)),new q.oc(new q.Uc(0,0,0),new q.Ob(0,0,0,255),new q.vc(0,0)))};
q.hz=function(a){return a?new q.ac(new q.oc(new q.Uc(a.Sa.r.x,a.Sa.r.y,a.Sa.r.z),new q.Ob(a.Sa.J.p,a.Sa.J.o,a.Sa.J.g,a.Sa.J.I),new q.vc(a.Sa.B.Oa,a.Sa.B.ma)),new q.oc(new q.Uc(a.Ja.r.x,a.Ja.r.y,a.Ja.r.z),new q.Ob(a.Ja.J.p,a.Ja.J.o,a.Ja.J.g,a.Ja.J.I),new q.vc(a.Ja.B.Oa,a.Ja.B.ma)),new q.oc(new q.Uc(a.Ma.r.x,a.Ma.r.y,a.Ma.r.z),new q.Ob(a.Ma.J.p,a.Ma.J.o,a.Ma.J.g,a.Ma.J.I),new q.vc(a.Ma.B.Oa,a.Ma.B.ma)),new q.oc(new q.Uc(a.Ua.r.x,a.Ua.r.y,a.Ua.r.z),new q.Ob(a.Ua.J.p,a.Ua.J.o,a.Ua.J.g,a.Ua.J.I),new q.vc(a.Ua.B.Oa,
a.Ua.B.ma))):q.iz()};q.i0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.hz(a[d]));return c};q.h0=function(a,c,d,e){this.Ja=a||new q.yu;this.Ua=c||new q.yu;this.Sa=d||new q.yu;this.Ma=e||new q.yu};q.Sl=function(a,c){this.src=a;this.Gb=c};q.RY=function(){return new q.Sl(1,0)};q.fl=function(a){var c=a.p.toString(16),d=a.o.toString(16),e=a.g.toString(16);return"#"+(16>a.p?"0"+c:c)+(16>a.o?"0"+d:d)+(16>a.g?"0"+e:e)};
q.Fa.Pc&&(q.Ob=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(q.Ob.BYTES_PER_ELEMENT);this.Ib=g||0;f=this.Pb;g=this.Ib;var h=Uint8Array.BYTES_PER_ELEMENT;this.SA=new Uint8Array(f,g,1);this.lA=new Uint8Array(f,g+h,1);this.xz=new Uint8Array(f,g+2*h,1);this.pz=new Uint8Array(f,g+3*h,1);this.SA[0]=a||0;this.lA[0]=c||0;this.xz[0]=d||0;this.pz[0]=e||0},q.Ob.BYTES_PER_ELEMENT=4,Object.defineProperties(q.Ob.prototype,{p:{get:function(){return this.SA[0]},set:function(a){this.SA[0]=a},enumerable:!0},o:{get:function(){return this.lA[0]},
set:function(a){this.lA[0]=a},enumerable:!0},g:{get:function(){return this.xz[0]},set:function(a){this.xz[0]=a},enumerable:!0},I:{get:function(){return this.pz[0]},set:function(a){this.pz[0]=a},enumerable:!0}}),q.Rd=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(q.Rd.BYTES_PER_ELEMENT);this.Ib=g||0;f=this.Pb;g=this.Ib;var h=Float32Array.BYTES_PER_ELEMENT;this.RA=new Float32Array(f,g,1);this.RA[0]=a||0;this.kA=new Float32Array(f,g+h,1);this.kA[0]=c||0;this.wz=new Float32Array(f,g+2*h,1);this.wz[0]=
d||0;this.oz=new Float32Array(f,g+3*h,1);this.oz[0]=e||0},q.Rd.BYTES_PER_ELEMENT=16,Object.defineProperties(q.Rd.prototype,{p:{get:function(){return this.RA[0]},set:function(a){this.RA[0]=a},enumerable:!0},o:{get:function(){return this.kA[0]},set:function(a){this.kA[0]=a},enumerable:!0},g:{get:function(){return this.wz[0]},set:function(a){this.wz[0]=a},enumerable:!0},I:{get:function(){return this.oz[0]},set:function(a){this.oz[0]=a},enumerable:!0}}),q.Bb=function(a,c,d,e){this.Pb=d||new ArrayBuffer(q.Bb.BYTES_PER_ELEMENT);
this.Ib=e||0;this.Pm=new Float32Array(this.Pb,this.Ib,1);this.Qm=new Float32Array(this.Pb,this.Ib+4,1);this.Pm[0]=a||0;this.Qm[0]=c||0},q.Bb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Bb.prototype,{x:{get:function(){return this.Pm[0]},set:function(a){this.Pm[0]=a},enumerable:!0},y:{get:function(){return this.Qm[0]},set:function(a){this.Qm[0]=a},enumerable:!0}}),q.Uc=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(q.Uc.BYTES_PER_ELEMENT);this.Ib=f||0;e=this.Pb;f=this.Ib;this.Pm=new Float32Array(e,
f,1);this.Pm[0]=a||0;this.Qm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Qm[0]=c||0;this.PB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.PB[0]=d||0},q.Uc.BYTES_PER_ELEMENT=12,Object.defineProperties(q.Uc.prototype,{x:{get:function(){return this.Pm[0]},set:function(a){this.Pm[0]=a},enumerable:!0},y:{get:function(){return this.Qm[0]},set:function(a){this.Qm[0]=a},enumerable:!0},z:{get:function(){return this.PB[0]},set:function(a){this.PB[0]=a},enumerable:!0}}),q.vc=
function(a,c,d,e){this.Pb=d||new ArrayBuffer(q.vc.BYTES_PER_ELEMENT);this.Ib=e||0;this.AB=new Float32Array(this.Pb,this.Ib,1);this.IB=new Float32Array(this.Pb,this.Ib+4,1);this.AB[0]=a||0;this.IB[0]=c||0},q.vc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.vc.prototype,{Oa:{get:function(){return this.AB[0]},set:function(a){this.AB[0]=a},enumerable:!0},ma:{get:function(){return this.IB[0]},set:function(a){this.IB[0]=a},enumerable:!0}}),q.eu=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(q.eu.BYTES_PER_ELEMENT);
this.Ib=g||0;f=this.Pb;g=q.Bb.BYTES_PER_ELEMENT;this.gp=a?new q.Bb(a.x,a.y,f,0):new q.Bb(0,0,f,0);this.ip=c?new q.Bb(c.x,c.y,f,g):new q.Bb(0,0,f,g);this.jo=d?new q.Bb(d.x,d.y,f,2*g):new q.Bb(0,0,f,2*g);this.lo=e?new q.Bb(e.x,e.y,f,3*g):new q.Bb(0,0,f,3*g)},q.eu.BYTES_PER_ELEMENT=32,Object.defineProperties(q.eu.prototype,{Sa:{get:function(){return this.gp},set:function(a){this.gp.x=a.x;this.gp.y=a.y},enumerable:!0},Ma:{get:function(){return this.ip},set:function(a){this.ip.x=a.x;this.ip.y=a.y},enumerable:!0},
Ja:{get:function(){return this.jo},set:function(a){this.jo.x=a.x;this.jo.y=a.y},enumerable:!0},Ua:{get:function(){return this.lo},set:function(a){this.lo.x=a.x;this.lo.y=a.y},enumerable:!0}}),q.oc=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(q.oc.BYTES_PER_ELEMENT);this.Ib=f||0;e=this.Pb;f=this.Ib;var g=q.Uc.BYTES_PER_ELEMENT;this.kp=a?new q.Uc(a.x,a.y,a.z,e,f):new q.Uc(0,0,0,e,f);this.Nq=c?new q.Ob(c.p,c.o,c.g,c.I,e,f+g):new q.Ob(0,0,0,0,e,f+g);this.Fm=d?new q.vc(d.Oa,d.ma,e,f+g+q.Ob.BYTES_PER_ELEMENT):
new q.vc(0,0,e,f+g+q.Ob.BYTES_PER_ELEMENT)},q.oc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.oc.prototype,{r:{get:function(){return this.kp},set:function(a){var c=this.kp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},J:{get:function(){return this.Nq},set:function(a){var c=this.Nq;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},enumerable:!0},B:{get:function(){return this.Fm},set:function(a){this.Fm.Oa=a.Oa;this.Fm.ma=a.ma},enumerable:!0}}),q.ac=function(a,c,d,e,f,g){this.Pb=f||new ArrayBuffer(q.ac.BYTES_PER_ELEMENT);
this.Ib=g||0;f=this.Pb;g=this.Ib;var h=q.oc.BYTES_PER_ELEMENT;this.gp=a?new q.oc(a.r,a.J,a.B,f,g):new q.oc(null,null,null,f,g);this.jo=c?new q.oc(c.r,c.J,c.B,f,g+h):new q.oc(null,null,null,f,g+h);this.ip=d?new q.oc(d.r,d.J,d.B,f,g+2*h):new q.oc(null,null,null,f,g+2*h);this.lo=e?new q.oc(e.r,e.J,e.B,f,g+3*h):new q.oc(null,null,null,f,g+3*h)},q.ac.BYTES_PER_ELEMENT=96,Object.defineProperties(q.ac.prototype,{Sa:{get:function(){return this.gp},set:function(a){var c=this.gp;c.r=a.r;c.J=a.J;c.B=a.B},enumerable:!0},
Ja:{get:function(){return this.jo},set:function(a){var c=this.jo;c.r=a.r;c.J=a.J;c.B=a.B},enumerable:!0},Ma:{get:function(){return this.ip},set:function(a){var c=this.ip;c.r=a.r;c.J=a.J;c.B=a.B},enumerable:!0},Ua:{get:function(){return this.lo},set:function(a){var c=this.lo;c.r=a.r;c.J=a.J;c.B=a.B},enumerable:!0},SB:{get:function(){return this.Pb},enumerable:!0}}),q.iz=function(){return new q.ac},q.hz=function(a){if(!a)return q.iz();var c=a.Sa,d=a.Ja,e=a.Ma;a=a.Ua;return{Sa:{r:{x:c.r.x,y:c.r.y,z:c.r.z},
J:{p:c.J.p,o:c.J.o,g:c.J.g,I:c.J.I},B:{Oa:c.B.Oa,ma:c.B.ma}},Ja:{r:{x:d.r.x,y:d.r.y,z:d.r.z},J:{p:d.J.p,o:d.J.o,g:d.J.g,I:d.J.I},B:{Oa:d.B.Oa,ma:d.B.ma}},Ma:{r:{x:e.r.x,y:e.r.y,z:e.r.z},J:{p:e.J.p,o:e.J.o,g:e.J.g,I:e.J.I},B:{Oa:e.B.Oa,ma:e.B.ma}},Ua:{r:{x:a.r.x,y:a.r.y,z:a.r.z},J:{p:a.J.p,o:a.J.o,g:a.J.g,I:a.J.I},B:{Oa:a.B.Oa,ma:a.B.ma}}}},q.Tb=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(q.Tb.BYTES_PER_ELEMENT);this.Ib=f||0;e=this.Pb;f=this.Ib;var g=q.Bb.BYTES_PER_ELEMENT;this.kp=a?new q.Bb(a.x,
a.y,e,f):new q.Bb(0,0,e,f);this.Nq=c?new q.Ob(c.p,c.o,c.g,c.I,e,f+g):new q.Ob(0,0,0,0,e,f+g);this.Fm=d?new q.vc(d.Oa,d.ma,e,f+g+q.Ob.BYTES_PER_ELEMENT):new q.vc(0,0,e,f+g+q.Ob.BYTES_PER_ELEMENT)},q.Tb.BYTES_PER_ELEMENT=20,Object.defineProperties(q.Tb.prototype,{r:{get:function(){return this.kp},set:function(a){this.kp.x=a.x;this.kp.y=a.y},enumerable:!0},J:{get:function(){return this.Nq},set:function(a){var c=this.Nq;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},enumerable:!0},B:{get:function(){return this.Fm},
set:function(a){this.Fm.Oa=a.Oa;this.Fm.ma=a.ma},enumerable:!0}}),q.Dc=function(a,c,d,e,f){this.Pb=e||new ArrayBuffer(q.Dc.BYTES_PER_ELEMENT);this.Ib=f||0;e=this.Pb;f=this.Ib;var g=q.Tb.BYTES_PER_ELEMENT;this.EF=a?new q.Tb(a.r,a.J,a.B,e,f):new q.Tb(null,null,null,e,f);this.JF=c?new q.Tb(c.r,c.J,c.B,e,f+g):new q.Tb(null,null,null,e,f+g);this.OF=d?new q.Tb(d.r,d.J,d.B,e,f+2*g):new q.Tb(null,null,null,e,f+2*g)},q.Dc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Dc.prototype,{I:{get:function(){return this.EF},
set:function(a){var c=this.EF;c.r=a.r;c.J=a.J;c.B=a.B},enumerable:!0},g:{get:function(){return this.JF},set:function(a){var c=this.JF;c.r=a.r;c.J=a.J;c.B=a.B},enumerable:!0},Ba:{get:function(){return this.OF},set:function(a){var c=this.OF;c.r=a.r;c.J=a.J;c.B=a.B},enumerable:!0}}));q.v2=function(a){a=a.substr(1).split("");return new q.Bc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.wq=0;q.rj=1;q.gN=2;q.Bq=0;q.Au=1;q.Aq=2;
q.q0=q.Da.extend({Mo:null,is:null,lz:0,ctor:function(){this.Mo={};this.is={};this.lz=2<<(0|10*Math.random())},wN:function(){this.lz++;return"key_"+this.lz},ZW:function(a,c){if(null!=c){var d=this.wN();this.Mo[d]=c;this.is[d]=a}},zU:function(a){if(null==a)return null;var c=this.Mo,d;for(d in c)if(c[d]===a)return this.is[d];return null},pda:function(a){return this.zU(a)},MV:function(a){if(null!=a){var c=this.Mo,d;for(d in c)if(c[d]===a){delete this.is[d];delete c[d];break}}},C$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.MV(a[c])},ZQ:function(){var a=[],c=this.Mo,d;for(d in c)a.push(c[d]);return a},v$:function(){this.Mo={};this.is={}},count:function(){return this.ZQ().length}});q.hM=function(){this.rs="Arial";this.fontSize=12;this.hI=q.rj;this.iI=q.Bq;this.jI=q.yb();this.qs=q.size(0,0);this.$D=!1;this.strokeColor=q.yb();this.iL=1;this.XK=!1;this.YK=q.size(0,0);this.shadowBlur=0;this.ZK=1};q.Wn={xy:0,Ky:1,SHOW_ALL:2,yy:3,zy:4,f0:5};q.xu=[];q.xq={};
q.ra=q.Da.extend({Vb:null,Ke:null,zo:null,Tk:null,Ve:null,LB:null,KB:"",ZA:null,va:1,yG:1,Aa:1,zG:1,nr:0,uG:5,Oh:null,FG:null,JG:null,IG:null,GG:null,HG:null,qr:!1,C0:!1,l1:null,eG:null,fG:null,DN:null,d1:!1,Mz:null,W0:null,Cj:null,gA:1,Gu:!1,jG:!1,ctor:function(){this.Cj=q.Zj.parentNode===document.body?document.documentElement:q.Zj.parentNode;this.Ke=q.size(0,0);this.uA();var a=q.canvas.width,c=q.canvas.height;this.zo=q.size(a,c);this.Tk=q.size(a,c);this.Ve=q.rect(0,0,a,c);this.LB=q.rect(0,0,a,c);
this.Vb=q.W.e().Te;this.Mz={left:0,top:0};this.KB="Cocos2dHTML5";q.xF.t(this.zo);this.FG=new q.Xn(q.Tg.zt,q.Fe.xy);this.JG=new q.Xn(q.Tg.SM,q.Fe.SHOW_ALL);this.IG=new q.Xn(q.Tg.zt,q.Fe.Ky);this.GG=new q.Xn(q.Tg.zt,q.Fe.yy);this.HG=new q.Xn(q.Tg.zt,q.Fe.zy);this.eG=q.canvas;this.fG=q.V},$A:function(){var a=this.Tk.width,c=this.Tk.height;this.ZA&&(this.uA(),this.ZA.call());0<a&&this.GD(a,c,this.Oh)},O$:function(a){a?this.Gu||(this.Gu=!0,a=this.$A.bind(this),window.addEventListener("resize",a,!1)):this.Gu&&
(this.Gu=!0,a=this.$A.bind(this),window.removeEventListener("resize",a,!1))},wba:function(a){if("function"==typeof a||null==a)this.ZA=a},uA:function(){var a=this.Ke;a.width=this.Cj.clientWidth;a.height=this.Cj.clientHeight},z0:function(){var a=this.Tk.width,c=this.Tk.height;0<a&&this.GD(a,c,this.Oh)},jQ:function(){if(this.jG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},cQ:function(){var a=q.Cd();this.Aa=this.va=a},FP:function(){this.va=this.yG;this.Aa=this.zG},CO:function(){var a,c=this.nr;for(a=0;a<this.uG;a++){if(!(c&1))return this.nr|=1<<a,a;c>>=1}return-1},BP:function(a){0>a||a>=this.uG||(a=~(1<<a),this.nr&=a)},A0:function(){},UT:function(){this.qr=!0},C1:function(a){this.jG=a},end:function(){},Y7:function(){return null!=
this.eG&&null!=this.fG},Caa:function(a){this.gA=a;q.W.e().Gx(q.W.e().Xk)},Dca:function(){},Gaa:function(){},naa:function(a,c){this.Mz={left:a,top:c}},f4:function(){return this.Mz},Kw:function(){return q.size(this.Ke.width,this.Ke.height)},Baa:function(a,c){this.Ke.width=a;this.Ke.height=c;this.Cj.style.width=a+"px";this.Cj.style.height=c+"px";this.$A();q.W.e().Gx(q.W.e().Xk)},j2:function(){},$$:function(a){this.DN=a},Cs:function(){return this.LB.bb},EI:function(){return this.LB.gd},f2:function(){return!0},
W5:function(){return this.Oh},mX:function(a){if(a instanceof q.Xn)this.Oh=a;else switch(a){case q.Wn.xy:this.Oh=this.FG;break;case q.Wn.SHOW_ALL:this.Oh=this.JG;break;case q.Wn.Ky:this.Oh=this.IG;break;case q.Wn.yy:this.Oh=this.GG;break;case q.Wn.zy:this.Oh=this.HG}},GD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else if(this.mX(d),policy=this.Oh){policy.pn(this);var e=this.Ke.width,f=this.Ke.height;q.Fa.ek&&this.jQ(this.Ke.width,this.Ke.height);this.uA();if(d!=
this.Oh||a!=this.Tk.width||c!=this.Tk.height||e!=this.Ke.width||f!=this.Ke.height)this.zo=q.size(a,c),this.Tk=q.size(a,c),a=policy.apply(this,this.zo),a.scale&&2==a.scale.length&&(this.va=a.scale[0],this.Aa=a.scale[1]),a.viewport instanceof q.lg&&(this.Ve=a.viewport),a=q.W.e(),a.Qb=this.yp(),q.zd==q.zk&&(a.xo(),a.xK()),this.yG=this.va,this.zG=this.Aa,q.fc&&q.fc.DP(),q.xF.t(this.Cs()),policy.nn(this)}else q.log("should set resolutionPolicy")},yp:function(){return q.size(this.zo.width,this.zo.height)},
Tba:function(a){this.Vb=a},zX:function(a,c,d,e){var f=this.gA,g=this.va,h=this.Aa;q.V.viewport(a*g*f+this.Ve.x*f,c*h*f+this.Ve.y*f,d*g*f,e*h*f)},LD:function(a,c,d,e){var f=this.gA,g=this.va,h=this.Aa;q.V.scissor(a*g*f+this.Ve.x*f,c*h*f+this.Ve.y*f,d*g*f,e*h*f)},dU:function(){var a=q.V;return a.isEnabled(a.SCISSOR_TEST)},aT:function(){var a=q.V,c=this.va,d=this.Aa,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.Ve.x)/c,(a[1]-this.Ve.y)/d,a[2]/c,a[3]/d)},bca:function(a){null!=a&&0<a.length&&
(this.KB=a)},T6:function(){return this.KB},U6:function(){return this.Ve},ZS:function(){return this.va},$S:function(){return this.Aa},$j:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},tT:function(a,c,d,e){for(var f=[],g=this.Ve,h=this.va,k=this.Aa,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],p=0;if(null==q.xq[m])if(p=this.CO(),-1==p)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+p);else{var t=q.xu[p]=new q.nf;t.QD(p,(n-g.x)/h,(r-g.y)/k);q.xq[m]=0|p;f.push(t)}}0!=f.length&&this.Vb.$x(f,
null)},wT:function(a,c,d,e){for(var f=[],g=this.va,h=this.Aa,k=this.Ve.x,l=this.Ve.y,m=0;m<a;++m){var n=d[m],r=e[m],p=q.xq[c[m]];if(null!=p){var t=q.xu[p];if(t)t.QD(p,(n-k)/g,(r-l)/h),f.push(t);else return}}0!=f.length&&this.Vb.ay(f,null)},vT:function(a,c,d,e){var f=[];this.wI(f,a,c,d,e);this.Vb.jt(f,null)},uT:function(a,c,d,e){var f=[];this.wI(f,a,c,d,e);this.Vb.bE(f,null)},wI:function(a,c,d,e,f){for(var g=this.va,h=this.Aa,k=this.Ve,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],p=q.xq[m];if(null!=p){var t=
q.xu[p];if(t)t.QD(p,(n-k.x)/g,(r-k.y)/h),a.push(t),q.xu[p]=null,this.BP(p),delete q.xq[m];else break}}},$x:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Mf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.tT(f,c,d,e)},ay:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Mf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.wT(f,c,d,e)},jt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Mf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.vT(f,c,d,e)},bE:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Mf||h,d[f]=g.K.x,e[f]=g.K.y,++f;this.uT(f,c,d,e)}});q.ra.e=function(){this.Hb||(this.Hb=new q.ra,this.Hb.UT());return this.Hb};
q.Tg=q.Da.extend({pn:function(){},apply:function(){},nn:function(){},QG:function(a,c,d){q.Fa.ek&&a==document.documentElement&&q.Wy.e().fR(q.canvas);a=q.canvas;var e=q.Zj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},ZF:function(){document.body.insertBefore(q.Zj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.Zj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
q.Fe=q.Da.extend({bB:{scale:[1,1],viewport:null},Kq:function(a,c,d,e,f,g){a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.zd==q.ig&&q.V.translate(a.x,a.y+e);this.bB.scale=[f,g];this.bB.viewport=a;return this.bB},pn:function(){},apply:function(){return{scale:[1,1]}},nn:function(){}});
(function(){var a=q.Tg.extend({apply:function(a){this.QG(a.Cj,a.Ke.width,a.Ke.height)}}),c=q.Tg.extend({apply:function(a,c){var d=a.Ke.width,e=a.Ke.height,f=q.Zj.style,n=c.width,r=c.height,p=d/n,t=e/r,x,A;p<t?(x=d,A=r*p):(x=n*t,A=e);n=Math.floor((d-x)/2);A=Math.floor((e-A)/2);this.QG(a.Cj,d-2*n,e-2*A);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=A+"px";f.marginBottom=A+"px"}});a.extend({pn:function(a){a.Cj=document.documentElement},apply:function(a){this._super(a);this.ZF()}});c.extend({pn:function(a){a.Cj=
document.documentElement},apply:function(a,c){this._super(a,c);this.ZF()}});var d=q.Tg.extend({});q.Tg.zt=new a;q.Tg.SM=new c;q.Tg.h_=new d;var a=q.Fe.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Kq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Fe.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,t,x,A;r<p?(t=r,x=d,A=n*t):(t=p,x=f*t,A=e);return this.Kq(d,e,x,A,t,t)}}),d=q.Fe.extend({apply:function(a,c){var d=q.canvas.width,
e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,t,x,A;r<p?(t=p,x=f*t,A=e):(t=r,x=d,A=n*t);return this.Kq(d,e,x,A,t,t)}}),e=q.Fe.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Kq(d,e,d,e,f,f)},nn:function(a){q.W.e().Qb=a.Cs()}}),f=q.Fe.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Kq(d,e,d,e,f,f)},nn:function(a){q.W.e().Qb=a.Cs()}});q.Fe.xy=new a;q.Fe.SHOW_ALL=new c;q.Fe.Ky=new d;q.Fe.yy=new e;q.Fe.zy=new f})();
q.Xn=q.Da.extend({Uu:null,Vu:null,ctor:function(a,c){this.wW(a);this.zW(c)},pn:function(a){this.Uu.pn(a);this.Vu.pn(a)},apply:function(a,c){this.Uu.apply(a,c);return this.Vu.apply(a,c)},nn:function(a){this.Uu.nn(a);this.Vu.nn(a)},wW:function(a){a instanceof q.Tg&&(this.Uu=a)},zW:function(a){a instanceof q.Fe&&(this.Vu=a)}});q.Wy=q.Da.extend({Tr:!1,Ek:"",MA:null,NA:null,zB:"",t:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Tr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Tr=!0;this.Ek=f;break}this.zB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Tr)switch(this.Ek){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Ek+"FullScreen"]}return!1},$J:function(a,
c){if(this.Tr&&!this.fullScreen()){if(c){var d=this.Ek+"fullscreenchange";this.MA&&this.NA&&this.MA.removeEventListener(d,this.NA);this.MA=a;this.NA=c;a.addEventListener(d,c,!1)}return""===this.Ek?a.requestFullScreen():a[this.Ek+"RequestFullScreen"]()}},e3:function(){if(this.Tr&&this.fullScreen())return""===this.Ek?document.body.cancelFullScreen():document.body[this.Ek+"CancelFullScreen"]()},fR:function(a,c){function d(){e.$J(a,c);a.removeEventListener(e.zB,d)}var e=this;this.$J(a,c);a.addEventListener(this.zB,
d)}});q.Wy.e=function(){if(!this.Hb){var a=new q.Wy;a.t();this.Hb=a}return this.Hb};q.xF={Uh:q.td(),mh:q.td(),Th:q.td(),yi:q.td(),zi:q.td(),xi:q.td(),Ez:q.td(),Ji:q.td(),Ph:q.td(),Ga:0,sa:0,t:function(a){this.Ga=a.width;this.sa=a.height;a=this.Ga;var c=this.sa;this.Uh.H=c;this.mh.F=a;this.mh.H=c;this.Th.F=a/2;this.Th.H=c;this.zi.F=a;this.xi.F=a/2;this.Ez.F=a/2;this.Ez.H=c/2;this.Ji.H=c/2;this.Ph.F=a;this.Ph.H=c/2},Ds:function(){return this.Ga},ws:function(){return this.sa},Yca:function(){return this.Uh},Zca:function(){return this.mh},top:function(){return this.Th},T1:function(){return this.yi},
U1:function(){return this.zi},bottom:function(){return this.xi},i2:function(){return this.Ez},left:function(){return this.Ji},right:function(){return this.Ph}};q.Vx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
q.gF=function(a){var c=q.dd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=q.Vx(a.substr(0,d)),c=q.Vx(c),c=q.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};q.fF=function(a){var c=q.oj();try{if(""==a)return c;var d=q.Vx(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
q.Xy=function(a){var c=q.Xl();try{if(""==a)return c;var d=q.Vx(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.EY=function(a,c,d,e,f,g){this.I=a;this.g=c;this.Ba=d;this.Ka=e;this.Ya=f;this.Za=g};q.s0=function(a,c,d,e,f,g){return{I:a,g:c,Ba:d,Ka:e,Ya:f,Za:g}};q.HY=function(a,c,d,e,f,g){return{I:a,g:c,Ba:d,Ka:e,Ya:f,Za:g}};q.t0=function(a,c){return{x:c.I*a.x+c.Ba*a.y+c.Ya,y:c.g*a.x+c.Ka*a.y+c.Za}};q.eF=function(a,c){return{x:c.I*a.x+c.Ba*a.y+c.Ya,y:c.g*a.x+c.Ka*a.y+c.Za}};q.Bk=function(a,c,d){return{x:d.I*a+d.Ba*c+d.Ya,y:d.g*a+d.Ka*c+d.Za}};
q.u0=function(a,c){return{width:c.I*a.width+c.Ba*a.height,height:c.g*a.width+c.Ka*a.height}};q.R_=function(a,c){return{width:c.I*a.width+c.Ba*a.height,height:c.g*a.width+c.Ka*a.height}};q.IY=function(){return{I:1,g:0,Ba:0,Ka:1,Ya:0,Za:0}};q.GY=function(){return{I:1,g:0,Ba:0,Ka:1,Ya:0,Za:0}};
q.Wg=function(a,c){var d=q.Al(a),e=q.zl(a),f=q.sn(a),g=q.tn(a),h=q.Bk(e,d,c),d=q.Bk(f,d,c),e=q.Bk(e,g,c),k=q.Bk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.ti=function(a,c){var d=q.Al(a),e=q.zl(a),f=q.sn(a),g=q.tn(a),h=q.Bk(e,d,c),d=q.Bk(f,d,c),e=q.Bk(e,g,c),k=q.Bk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.iy=function(a,c,d){return{I:a.I,g:a.g,Ba:a.Ba,Ka:a.Ka,Ya:a.Ya+a.I*c+a.Ba*d,Za:a.Za+a.g*c+a.Ka*d}};q.JY=function(a,c,d){return{I:a.I*c,g:a.g*c,Ba:a.Ba*d,Ka:a.Ka*d,Ya:a.Ya,Za:a.Za}};
q.IL=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{I:a.I*d+a.Ba*c,g:a.g*d+a.Ka*c,Ba:a.Ba*d-a.I*c,Ka:a.Ka*d-a.g*c,Ya:a.Ya,Za:a.Za}};q.Ol=function(a,c){return{I:a.I*c.I+a.g*c.Ba,g:a.I*c.g+a.g*c.Ka,Ba:a.Ba*c.I+a.Ka*c.Ba,Ka:a.Ba*c.g+a.Ka*c.Ka,Ya:a.Ya*c.I+a.Za*c.Ba+c.Ya,Za:a.Ya*c.g+a.Za*c.Ka+c.Za}};q.FY=function(a,c){return a.I===c.I&&a.g===c.g&&a.Ba===c.Ba&&a.Ka===c.Ka&&a.Ya===c.Ya&&a.Za===c.Za};
q.pE=function(a){var c=1/(a.I*a.Ka-a.g*a.Ba);return{I:c*a.Ka,g:-c*a.g,Ba:-c*a.Ba,Ka:c*a.I,Ya:c*(a.Ba*a.Za-a.Ka*a.Ya),Za:c*(a.g*a.Ya-a.I*a.Za)}};q.VE=parseFloat("1.192092896e-07F");q.hD=function(a){return q.a(-a.x,-a.y)};q.cg=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.xd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.dj=function(a,c){return q.a(a.x*c,a.y*c)};q.gD=function(a,c){return q.dj(q.cg(a,c),0.5)};q.Tp=function(a,c){return a.x*c.x+a.y*c.y};q.A9=function(a,c){return a.x*c.y-a.y*c.x};q.gx=function(a){return q.a(-a.y,a.x)};q.I9=function(a){return q.a(a.y,-a.x)};q.H9=function(a,c){return q.dj(c,q.Tp(a,c)/q.Tp(c,c))};
q.J9=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.O9=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.CJ=function(a){return q.Tp(a,a)};q.B9=function(a,c){return q.CJ(q.xd(a,c))};q.eD=function(a){return Math.sqrt(q.CJ(a))};q.dD=function(a,c){return q.eD(q.xd(a,c))};q.zh=function(a){return q.dj(a,1/q.eD(a))};q.C9=function(a){return q.a(Math.cos(a),Math.sin(a))};q.N9=function(a){return Math.atan2(a.y,a.x)};q.ms=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.BJ=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.ms(a.x,c.x,d.x),q.ms(a.y,c.y,d.y))};q.RU=function(){var a=q.W.e().Qb;return q.a(a.width,a.height)};q.z9=function(a,c){return q.a(c(a.x),c(a.y))};q.DJ=function(a,c,d){return q.cg(q.dj(a,1-d),q.dj(c,d))};q.D9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.y9=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.x9=function(a,c){var d=q.zh(a),e=q.zh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.Tp(d,e));return Math.abs(d)<q.VE?0:d};
q.w9=function(a,c){var d=Math.acos(q.Tp(q.zh(a),q.zh(c)));return Math.abs(d)<q.VE?0:d};q.TU=function(a,c,d){a=q.xd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.fD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.L9=function(a,c,d,e){var f=q.a(0,0);return q.fD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.F9=function(a,c,d,e){var f=q.a(0,0);return q.fD(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.oj()};q.K9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.P9=function(a){a.x=0;a.y=0};q.E9=function(a,c){a.x=c.x;a.y=c.y};q.SU=function(a,c){a.x*=c;a.y*=c};q.M9=function(a,c){a.x-=c.x;a.y-=c.y};q.v9=function(a,c){a.x+=c.x;a.y+=c.y};
q.G9=function(a){q.SU(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.rda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.gx(q.zh(q.xd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.gx(q.zh(q.xd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var n=q.a(a[2*(k+1)],a[2*(k+1)+1]),r=q.zh(q.xd(n,l)),p=q.zh(q.xd(m,l)),t=Math.acos(q.Tp(r,p));m=t<q.mj(70)?q.gx(q.zh(q.gD(r,p))):t<q.mj(170)?q.zh(q.gD(r,p)):q.gx(q.zh(q.xd(n,m)))}m=q.dj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.Bu(d[2*g],d[2*g+1]),f=q.Bu(d[2*(g+1)],d[2*(g+1)+1]),g=q.Bu(d[2*a],d[2*a]),e=q.Bu(d[2*(a+1)],d[2*(a+1)+1]),c=!q.nY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.Js&&(0>c.value||1<c.value)&&(c.Js=!0),c.Js&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.nY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{Js:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{Js:!1,value:0}:{Js:!0,value:(h+(f-h)*k/(k-g))/a}};q.SY=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.I;c[4]=a.Ba;c[12]=a.Ya;c[1]=a.g;c[5]=a.Ka;c[13]=a.Za};q.CZ=function(a,c){c.I=a[0];c.Ba=a[4];c.Ya=a[12];c.g=a[1];c.Ka=a[5];c.Za=a[13]};q.TE=-1;q.a_=null;q.b_=null;q.bW=1;
q.D=q.Da.extend({eb:0,qw:0,xg:0,Qh:0,va:1,Aa:1,q:null,de:0,ee:0,u:null,ka:!0,Hh:null,Fd:null,ta:null,Oe:!1,Y:null,Ok:!1,ld:q.TE,mH:null,GB:null,Uj:!0,nv:!0,PF:!0,h1:null,Tj:null,iG:null,ce:!1,Hc:null,Pf:0,Zg:null,yg:null,hG:!1,Eq:!1,Iu:null,Ci:null,yA:!1,wm:0,Gr:0,vA:function(){this.Hh=q.td();this.Fd=q.td();this.ta=q.Am();this.q=q.td();this.u=[];this.Tj={I:1,g:0,Ba:0,Ka:1,Ya:0,Za:0};var a=q.W.e();this.Zg=a.Dg();this.yg=a.zf();this.hG=!0;this.Iu={I:1,g:0,Ba:0,Ka:1,Ya:0,Za:0};q.RL&&(this.Ci=new q.RL(this))},
t:function(){!1===this.hG&&this.vA();return!0},og:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.D.Kf;switch(c){case d.Kg:for(d=0;d<e;d++)(f=a[d])&&f.Kg();break;case d.Md:for(d=0;d<e;d++)(f=a[d])&&f.Md();break;case d.ii:for(d=0;d<e;d++)(f=a[d])&&f.ii();break;case d.Xf:for(d=0;d<e;d++)(f=a[d])&&f.Xf();break;case d.gg:for(d=0;d<e;d++)(f=a[d])&&f.gg();break;case d.yh:for(d=0;d<e;d++)(f=a[d])&&f.yh();break;case d.Nd:for(d=0;d<e;d++)(f=a[d])&&f.Nd();break;default:throw"Unknown callback function";
}}},Wa:null,VP:function(){this.ym();!1===this.Uj&&(this.Uj=this.nv=!0)},WP:function(){!1===this.Uj&&(this.Uj=this.nv=!0)},k6:function(){return this.de},Mx:function(a){this.de=a;this.Wa()},l6:function(){return this.ee},Nx:function(a){this.ee=a;this.Wa()},a7:function(){return this.eb},Tv:function(a){this.eb=a},dca:function(a){this.Tv(a);this.Y&&this.Y.Vs(this,a)},Q6:function(){return this.qw},QK:function(a){this.qw=a},YS:function(){this.xg!==this.Qh&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.xg},Ix:function(a){this.xg=this.Qh=a;this.wm=0.017453292519943295*this.xg;this.Gr=0.017453292519943295*this.Qh;this.Wa()},a6:function(){return this.xg},Jx:function(a){this.xg=a;this.wm=0.017453292519943295*this.xg;this.Wa()},b6:function(){return this.Qh},Kx:function(a){this.Qh=a;this.Gr=0.017453292519943295*this.Qh;this.Wa()},sC:function(){this.va!==this.Aa&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.va},ok:function(a,c){this.va=a;this.Aa=
c||0===c?c:a;this.Wa()},ZS:function(){return this.va},Zp:function(a){this.va=a;this.Wa()},$S:function(){return this.Aa},Bn:function(a){this.Aa=a;this.Wa()},n:function(a,c){var d=this.q;2==arguments.length?(d.F=a,d.H=c):1==arguments.length&&(d.F=a.x,d.H=a.y);this.Wa()},K5:function(){return this.q},L5:function(){return this.q.F},mb:function(a){this.q.F=a;this.Wa()},M5:function(){return this.q.H},od:function(a){this.q.H=a;this.Wa()},X3:function(){return this.u.length},W3:function(){return this.u},iJ:function(){return this.ka},
v:function(a){this.ka=a;this.Wa()},F3:function(){return this.Hh},L:function(a,c){var d=this.Hh;if(2===arguments.length){if(a===d.F&&c===d.H)return;d.F=a;d.H=c}else{if(a.x===d.F&&a.y===d.H)return;d.F=a.x;d.H=a.y}var e=this.Fd,f=this.ta;e.F=f.Ga*d.F;e.H=f.sa*d.H;this.Wa()},G3:function(){return this.Fd},d:function(){return this.ta},U:function(a,c){var d=this.ta;if(2===arguments.length){if(a===d.Ga&&c===d.sa)return;d.Ga=a;d.sa=c}else{if(a.width===d.Ga&&a.height===d.sa)return;d.Ga=a.width;d.sa=a.height}var e=
this.Fd,f=this.Hh;e.F=d.Ga*f.F;e.H=d.sa*f.H;this.Wa()},g8:function(){return this.Oe},getParent:function(){return this.Y},at:function(a){this.Y=a},R7:function(){return this.Ok},Zi:function(a){a!=this.Ok&&(this.Ok=a,this.Wa())},hT:function(){return this.ld},NK:function(a){this.ld=a},getUserData:function(){return this.mH},setUserData:function(a){this.mH=a},O6:function(){return this.GB},Xba:function(a){this.GB!=a&&(this.GB=a)},A5:function(){return this.Pf},Yp:function(a){this.Pf=a},Dg:function(){this.Zg||
(this.Zg=q.W.e().Dg());return this.Zg},mW:function(a){this.Zg!=a&&(this.YD(),this.Zg=a)},zf:function(){this.yg||(this.yg=q.W.e().zf());return this.yg},oX:function(a){this.yg!=a&&(this.kt(),this.yg=a)},Xa:function(){var a=q.rect(0,0,this.ta.Ga,this.ta.sa);return q.ti(a,this.bg())},Xf:function(){this.YD();this.kt();this.og(this.u,q.D.Kf.Xf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.ld+"\x3e"},zS:function(a){var c=this.u;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.ld==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.Y?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.eb,a.ld=null!=d?d:a.ld,this.PO(a,c),a.Y=this,this.Oe&&(a.Kg(),this.yA&&a.ii()))},Q:function(a){this.Y&&(null==a&&(a=!0),this.Y.removeChild(this,a))},KV:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.Q(a)},removeChild:function(a,c){0!==this.u.length&&(null==c&&(c=!0),-1<this.u.indexOf(a)&&this.nO(a,c),this.Wa())},A$:function(a,c){a===q.TE&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.zS(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},s$:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.uc(a)},uc:function(a){var c=this.u;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.Oe&&(e.yh(),e.Md()),a&&e.Xf(),e.at(null))}this.u.length=0}},nO:function(a,c){this.Oe&&(a.yh(),a.Md());c&&a.Xf();a.at(null);q.Pd(this.u,a)},PO:function(a,c){this.ce=!0;this.u.push(a);a.Tv(c)},Vs:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.ce=!0;a.Yp(q.bW++);a.Tv(c);this.Wa()},Nd:function(){if(this.ce){var a=this.u,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.eb<f.eb||g.eb==f.eb&&g.Pf<f.Pf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.ce=!1}},Va:function(){},by:function(){null!=this.Y&&(this.Y.by(),this.Y.transform())},Kg:function(){this.yA=!1;this.Oe=!0;this.og(this.u,q.D.Kf.Kg);this.tx()},ii:function(){this.yA=!0;this.og(this.u,q.D.Kf.ii)},yh:function(){this.og(this.u,q.D.Kf.yh)},Md:function(){this.Oe=!1;this.ix();this.og(this.u,q.D.Kf.Md);this.Ci&&this.Ci.FV()},ux:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Dg().NQ(a,this,!this.Oe);return a},YD:function(){this.Dg().WJ(this)},
VX:function(a){this.Dg().VJ(a)},vca:function(a){a===q.On?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Dg().EV(a,this)},oC:function(a){return a===q.On?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Dg().oC(a,this)},m5:function(){return this.Dg().yU(this)},dW:function(){this.eW(0)},eW:function(a){this.zf().dK(this,a,!this.Oe)},dda:function(){this.zf().fq(this)},mc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.Wl:d;e=e||0;this.zf().cW(this,a,c,d,e,!this.Oe)},Ac:function(a,c){this.mc(a,0,0,c)},$c:function(a){a&&this.zf().qL(this,a)},kt:function(){this.zf().pL(this)},tx:function(){this.zf().vn(this);this.Dg().vn(this)},ix:function(){this.zf().Ts(this);this.Dg().Ts(this)},aaa:function(a){this.Iu=a;this.Eq=this.Uj=!0},S9:function(){this.nv&&(this.iG=q.pE(this.bg()),this.nv=!1);return this.iG},Qs:function(){for(var a=this.bg(),c=this.Y;null!=
c;c=c.getParent())a=q.Ol(a,c.bg());return a},qY:function(){return q.pE(this.Qs())},Ca:function(a){return q.eF(a,this.qY())},hl:function(a){return q.eF(a,this.Qs())},HR:function(a){return q.xd(this.Ca(a),this.Fd)},w2:function(a){a=q.cg(a,this.Fd);return this.hl(a)},D0:function(a){a=this.hl(a);return q.W.e().IR(a)},Zh:function(a){return this.Ca(a.K)},x2:function(a){a=a.K;a=q.W.e().GR(a);return this.HR(a)},update:function(a){this.Ci&&!this.Ci.N7()&&this.Ci.qa(a)},gg:function(){this.og(this.u,q.D.Kf.gg)},
bK:function(){},tD:function(){},AS:function(a){return this.Ci.AS(a)},p1:function(a){this.Ci.add(a)},B$:function(a){return this.Ci.remove(a)},t$:function(){this.Ci.FV()},$G:null,tB:null,qA:null,po:null,Lk:null,ctor:null,Ih:function(){this.vA()},Jh:function(){this.vA();var a=new q.wh;a.xh[2]=a.xh[3]=a.xh[6]=a.xh[7]=a.xh[8]=a.xh[9]=a.xh[11]=a.xh[14]=0;a.xh[10]=a.xh[15]=1;this.$G=a;this.qA=0;this.tB=new q.wh},qa:null,Mm:function(a){if(this.ka){a=a||q.V;var c,d=this.u,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Nd();for(c=0;c<f;c++)if(e=d[c],0>e.eb)e.qa(a);else break;for(this.Va(a);c<f;c++)d[c].qa(a)}else this.Va(a);this.Pf=0;a.restore()}},Nm:function(){if(this.ka){var a=q.V,c,d=q.MR;d.stack.push(d.top);q.B8(this.tB,d.top);d.top=this.tB;var e=this.Lk;e&&e.FN&&e.VB();this.transform();var f=this.u;if(f&&0<f.length){var g=f.length;this.Nd();for(c=0;c<g;c++)if(f[c]&&0>f[c].eb)f[c].qa();else break;for(this.Va(a);c<g;c++)f[c]&&f[c].qa()}else this.Va(a);this.Pf=0;e&&e.FN&&e.RB(this);d.top=
d.stack.pop()}},transform:null,vQ:function(a){a=a||q.V;var c=q.ra.e(),d=this.bg();a.transform(d.I,d.Ba,d.g,d.Ka,d.Ya*c.va,-d.Za*c.Aa)},wQ:function(){var a=this.$G,c=q.MR.top,d=this.bg(),e=a.xh;e[0]=d.I;e[4]=d.Ba;e[12]=d.Ya;e[1]=d.g;e[5]=d.Ka;e[13]=d.Za;e[14]=this.qw;q.lU(c,c,a);null==this.po||null!=this.Lk&&this.Lk.Ip()||(a=this.Fd.F,c=this.Fd.H,0!==a||0!==c?(q.jU(q.kg(a),q.kg(c),0),this.po.lJ(),q.jU(q.kg(-a),q.kg(-c),0)):this.po.lJ())},bg:null,fP:function(){this.Tj||(this.Tj={I:1,g:0,Ba:0,Ka:1,Ya:0,
Za:0});if(this.Uj){var a=this.Tj;a.Ya=this.q.F;a.Za=this.q.H;var c=1,d=0;this.xg&&(c=Math.cos(this.wm),d=Math.sin(this.wm));a.I=a.Ka=c;a.g=-d;a.Ba=d;var e=this.va,f=this.Aa,g=this.Fd.F,h=this.Fd.H,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.de||this.ee){var m=Math.tan(-this.de*Math.PI/180),n=Math.tan(-this.ee*Math.PI/180),r=h*m*k,p=g*n*l;a.I=c+-d*n;a.g=c*m+-d;a.Ba=d+c*n;a.Ka=d*m+c;a.Ya+=c*r+-d*p;a.Za+=d*r+c*p}if(1!==e||1!==f)a.I*=k,a.Ba*=k,a.g*=l,a.Ka*=l;a.Ya+=c*-g*k+-d*h*l;a.Za-=d*
-g*k+c*h*l;this.Ok&&(a.Ya+=g,a.Za+=h);this.Eq&&(this.Tj=q.Ol(this.Tj,this.Iu),this.Eq=!1);this.Uj=!1}return this.Tj},gP:function(){if(this.Uj){var a=this.q.F,c=this.q.H,d=this.Fd.F,e=-d,f=this.Fd.H,g=-f,h=this.va,k=this.Aa;this.Ok&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.xg||0!==this.Qh)l=Math.cos(-this.wm),m=Math.sin(-this.wm),n=Math.cos(-this.Gr),r=Math.sin(-this.Gr);var p=this.de||this.ee;p||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={I:n*h,g:r*h,Ba:-m*k,Ka:l*k,Ya:a,Za:c};p&&(a=q.Ol({I:1,
g:Math.tan(q.mj(this.ee)),Ba:Math.tan(q.mj(this.de)),Ka:1,Ya:0,Za:0},a),0!==d||0!==f)&&(a=q.iy(a,e,g));this.Eq&&(a=q.Ol(a,this.Iu),this.Eq=!1);this.Tj=a;this.Uj=!1}return this.Tj},ym:function(){this.PF=!0;this.Y&&this.Y.ym()},pC:function(){this.po||(this.po=new q.lq);return this.po},G4:function(){return this.Lk},Eaa:function(a){this.Lk=a},uC:function(){return this.Hc},Ng:function(a){this.Hc=a},F4:function(){return this.qA},Daa:function(a){this.qA=a},O3:function(){var a=q.rect(0,0,this.ta.Ga,this.ta.sa),
c=this.Qs(),a=q.Wg(a,this.Qs());if(!this.u)return a;for(var d=this.u,e=0;e<d.length;e++){var f=d[e];f&&f.ka&&(f=f.aG(c))&&(a=q.px(a,f))}return a},aG:function(a){var c=q.rect(0,0,this.ta.Ga,this.ta.sa);a=null==a?this.bg():q.Ol(this.bg(),a);c=q.Wg(c,a);if(!this.u)return c;for(var d=this.u,e=0;e<d.length;e++){var f=d[e];f&&f.ka&&(f=f.aG(a))&&(c=q.px(c,f))}return c}});
q.Fa.Pc?(b=q.D.prototype,b.ctor=q.D.prototype.Jh,b.Wa=q.D.prototype.WP,b.qa=q.D.prototype.Nm,b.transform=q.D.prototype.wQ,b.bg=q.D.prototype.gP):(b=q.D.prototype,b.ctor=q.D.prototype.Ih,b.Wa=q.D.prototype.VP,b.qa=q.D.prototype.Mm,b.transform=q.D.prototype.vQ,b.bg=q.D.prototype.fP);q.D.create=function(){return new q.D};q.D.Kf={Kg:1,Md:2,Xf:3,ii:4,gg:5,yh:6,Nd:7};
q.zb=q.D.extend({ib:!0,Wb:255,wg:255,Fc:null,be:null,qd:!1,Wd:!1,ctor:function(){q.D.prototype.ctor.call(this);this.wg=this.Wb=255;this.Fc=q.yb();this.be=q.yb();this.Wd=this.qd=!1},Xi:function(){return this.wg},CS:function(){return this.Wb},ga:function(a){this.Wb=this.wg=a;a=255;var c=this.Y;c&&c.ib&&c.Wd&&(a=c.Wb);this.bd(a)},bd:function(a){this.Wb=this.wg*a/255;if(this.Wd){a=this.u;for(var c=0;c<a.length;c++){var d=a[c];d&&d.ib&&d.bd(this.Wb)}}},bU:function(){return this.Wd},mK:function(a){this.Wd!==
a&&((this.Wd=a)?this.ar():this.Yz())},ar:function(){var a=255,c=this.Y;c&&c.ib&&c.Wd&&(a=c.Wb);this.bd(a)},Yz:function(){this.Wb=this.wg;for(var a=this.u,c=0;c<a.length;c++){var d=a[c];d&&d.ib&&d.bd(255)}},wd:function(){var a=this.be;return new q.Bc(a.p,a.o,a.g)},us:function(){return this.Fc},l:function(a){var c=this.Fc,d=this.be;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.Y)&&a.ib&&a.qd?a.us():q.yb();this.ad(a)},ad:function(a){var c=this.Fc,d=this.be;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*
a.g/255;if(this.qd)for(a=this.u,d=0;d<a.length;d++){var e=a[d];e&&e.ib&&e.ad(c)}},aU:function(){return this.qd},lK:function(a){this.qd!==a&&((this.qd=a)?this.$q():this.Xz())},$q:function(){var a;a=(a=this.Y)&&a.ib&&a.qd?a.us():q.yb();this.ad(a)},Xz:function(){var a=this.Fc,c=this.be;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.u,c=q.yb(),d=0;d<a.length;d++){var e=a[d];e&&e.ib&&e.ad(c)}},f:function(a,c,d){q.D.prototype.f.call(this,a,c,d);this.qd&&this.$q();this.Wd&&this.ar()},Gf:function(){},pl:function(){return!1}});
q.zb.create=function(){var a=new q.zb;a.t();return a};q.Qd=q.zb.extend({ib:!0,oG:0,nG:0,pv:0,ov:0,xj:null,Ra:null,jc:!1,fa:null,Dr:0,rA:!1,ctor:function(){q.zb.prototype.ctor.call(this);this.xj=q.yb();this.fa={src:q.De,Gb:q.Ce};this.rA=!1},fda:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},wd:function(){return this.jc?this.xj:q.zb.prototype.wd.call(this)},Gf:function(a){var c=this.wd();this.jc=a;this.l(c)},pl:function(){return this.jc},ts:function(){return this.fa},Bl:function(a,c){this.fa=1==arguments.length?
a:{src:a,Gb:c}},aq:function(a){this.Ra=a},yI:function(){return this.Ra},S5:function(){return this.Dr},rba:function(a){this.Dr=a},Gm:null,sg:null,cH:null,Ru:null,RT:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.ia.e().pa(a);return this.La(a,c,d,e)},La:null,or:function(a,c,d,e){this.pv=c;this.ov=d;this.jc=!0;this.sg=a;if(!this.sg)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Gm=this.sg;this.Nu();this.Dr=e;return!0},
pr:function(a,c,d,e){this.pv=c;this.ov=d;this.xj=q.yb();this.jc=!0;this.fa.src=q.De;this.fa.Gb=q.Ce;c=this.be;this.Ru=new Float32Array([c.p/255,c.o/255,c.g/255,this.wg/255]);this.Ra=new q.ao;this.Ra.La(a,e);if(!this.Ra)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Lm();this.jH();this.Nu();this.Dr=e;this.Ng(q.Gh.e().li(q.L_));this.cH=q.V.getUniformLocation(this.uC().Nw(),"u_color");return!0},Va:null,rg:function(a){a=a||q.V;q.Jy(this);q.ck(this.fa.src,this.fa.Gb);
a.uniform4fv(this.cH,this.Ru);this.Ra.ZH(this.Dr,0)},l:null,Ir:function(a){var c=this.be;if(c.p!=a.p||c.o!=a.o||c.g!=a.g){c=new q.Bc(a.p,a.o,a.g);this.xj=a;if(this.jc){var d=this.Wb;c.p=c.p*d/255;c.o=c.o*d/255;c.g=c.g*d/255}q.zb.prototype.l.call(this,a);this.aa()&&(a=this.sg.Gc)&&(c=q.ia.e().zI(a))&&(d=q.rect(0,0,a.width,a.height),a=q.nC(a,c,this.be,d),c=new q.Yb,c.Bf(a),c.ve(),this.ba(c))}},fB:function(a){var c=q.Bc(a.p,a.o,a.g);this.xj=a;var d=this.Wb;this.jc&&(c.p=c.p*d/255,c.o=c.o*d/255,c.g=c.g*
d/255);q.zb.prototype.l.call(this,a);a=this.Fc;this.Ru=new Float32Array([a.p/255,a.o/255,a.g/255,d/255])},ga:null,Kr:function(a){q.zb.prototype.ga.call(this,a);this.jc&&this.l(this.xj)},iB:function(a){q.zb.prototype.ga.call(this,a);this.jc?this.l(this.xj):(a=this.Fc,this.Ru=new Float32Array([a.p/255,a.o/255,a.g/255,this.Wb/255]))},aa:null,nA:function(){return this.Gm},oA:function(){return this.Ra.aa()},ba:null,Lr:function(a){this.Gm=a},Mr:function(a){this.Ra.ba(a);this.Lm();this.jH()},Nu:null,WN:function(){var a=
this.aa().d();this.nG=0|a.height/this.ov;this.oG=0|a.width/this.pv},XN:function(){var a=this.aa(),c=a.d();this.rA&&(c=a.ta);this.nG=0|c.height/this.ov;this.oG=0|c.width/this.pv},Lm:function(){this.Ra.aa().Fs()||(this.fa.src=770,this.fa.Gb=771)},jH:function(){this.jc=this.Ra.aa().Fs()},hB:function(a){this.rA=a}});
q.Fa.Pc?(b=q.Qd.prototype,b.La=q.Qd.prototype.pr,b.Va=q.Qd.prototype.rg,b.l=q.Qd.prototype.fB,b.ga=q.Qd.prototype.iB,b.aa=q.Qd.prototype.oA,b.ba=q.Qd.prototype.Mr,b.Nu=q.Qd.prototype.XN):(b=q.Qd.prototype,b.La=q.Qd.prototype.or,b.Va=q.D.prototype.Va,b.l=q.Qd.prototype.Ir,b.ga=q.Qd.prototype.Kr,b.aa=q.Qd.prototype.nA,b.ba=q.Qd.prototype.Lr,b.Nu=q.Qd.prototype.WN);q.Qd.create=function(a,c,d,e){var f=new q.Qd;return f.RT(a,c,d,e)?f:null};q.qj=0;q.vq=1;q.uq=2;q.tq=3;q.$y=4;q.Zy=5;q.ru=6;q.qu=7;q.pF=8;q.oF=9;q.nF=q.qj;q.Qz=q.nF;q.TM=!1;q.e1=function(a,c,d,e){this.uU=a||0;this.rU=c||0;this.EL=d||0;this.FL=e||0};
q.iN=q.Da.extend({jP:null,Qf:null,ih:null,hh:null,CA:null,ta:null,dh:null,eh:null,Fo:null,lm:!1,Hc:null,pc:!1,Gc:null,Yh:null,Gd:null,ctor:function(){this.hh=this.ih=0;this.CA="";this.eh=this.dh=0;this.Fo=!1;this.ta=q.Am();this.lm=!1;this.jP=!0;this.Qf=q.Yb.NR();this.Hc=null;this.pc=!1;this.Yh=this.Gc=null;this.Gd=[]},uD:function(){this.Yh&&q.V.deleteTexture(this.Yh)},F5:function(){return this.Qf},Ap:function(){return this.ih},zp:function(){return this.hh},getName:function(){return this.Yh},d:function(){return q.size(this.ta.width/
q.Cd(),this.ta.height/q.Cd())},BS:function(){return this.ta},KS:function(){return this.dh},TW:function(a){this.dh=a},LS:function(){return this.eh},UW:function(a){this.eh=a},uC:function(){return this.Hc},Ng:function(a){this.Hc=a},Fs:function(){return this.Fo},AT:function(){return this.lm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.CA+" | Dimensions \x3d "+this.ih+" x "+this.hh+" | Coordinates \x3d ("+this.dh+", "+this.eh+")\x3e"},CV:function(){},hU:function(a){return a},Uw:function(a,
c,d,e,f){var g=q.V,h=0,h=c===q.qj?24:this.HH(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Yh=g.createTexture();q.Eg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.qj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.vq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.ru:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.qu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.uq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.Zy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.tq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.$y:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.ta.Ga=f.width;this.ta.sa=f.height;this.ih=d;this.hh=e;this.Qf=c;this.dh=f.width/d;this.eh=f.height/e;this.lm=this.Fo=!1;this.Ng(q.Gh.e().li(q.YM));return this.pc=!0},dS:function(a){var c=[0,this.eh,this.dh,this.eh,0,0,this.dh,
0],d=this.ih*this.dh,e=this.hh*this.eh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.qe(q.Yg|q.rN);this.Hc.lf();this.Hc.PK();q.Eg(this);d=q.V;d.vertexAttribPointer(q.Ge,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.zq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},fS:function(a){var c=[0,this.eh,this.dh,this.eh,0,0,this.dh,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.qe(q.Yg|q.rN);this.Hc.lf();this.Hc.PK();q.Eg(this);var d=q.V;d.vertexAttribPointer(q.Ge,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(q.zq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},KC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Ds(),d=a.ws(),e=q.Ee.e().wr;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.pc=!0;return this.GO(a,c,d)},Bf:function(a){a&&(this.Yh=q.V.createTexture(),this.Gc=a)},FS:function(){return this.Gc},Hg:function(){return this.pc},
ve:function(){this.pc=!0;var a=q.V;q.Eg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Gc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.Ng(q.Gh.e().li(q.YM));q.Eg(null);a=this.Gc.height;this.ih=this.ta.Ga=this.Gc.width;this.hh=this.ta.sa=
a;this.Qf=q.qj;this.eh=this.dh=1;this.lm=this.Fo=!1;this.Vd()},nl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.rj,g=q.Bq);var h=new q.mM,k;if(q.Bq===g)k=q.rj===f?q.zY:q.wq===f?q.AY:q.BY;else if(q.Au===g)k=q.rj===f?q.wY:q.wq===f?q.xY:q.yY;else if(q.Aq===g)k=q.rj===f?q.tY:q.wq===f?q.uY:q.vY;else return q.log("Not supported alignment format!"),!1;return h.nl(a,e.width,e.height,k,c,d)?this.KC(h):!1},KT:function(){return!1},TI:function(a){var c=!1,d=new q.a0;
(c=d.q7(a))?(d.zba(!0),this.CA=d.getName(),this.eh=this.dh=1,this.ih=d.Ds(),this.hh=d.ws(),this.ta.Ga=this.ih,this.ta.sa=this.hh,this.Fo=q.TM,this.Qf=d.D4(),this.hK()):q.log("cocos2d: Couldn't load PVR image "+a);return c},OT:function(){return q.Ee.e().Vr?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},tX:function(a){var c=q.V;q.tt(this.ih==q.Un(this.ih)&&this.hh==q.Un(this.hh)||a.EL==c.CLAMP_TO_EDGE&&a.FL==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Eg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.uU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.rU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.EL);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.FL)},hK:function(){var a=q.V;q.Eg(this);this.lm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},gK:function(){var a=q.V;q.Eg(this);
this.lm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.tt(this.ih==q.Un(this.ih)&&this.hh==q.Un(this.hh),"Mimpap texture only works in POT textures");q.Eg(this);q.V.generateMipmap(q.V.TEXTURE_2D);this.lm=!0},WX:function(){switch(this.Qf){case q.qj:return"RGBA8888";case q.vq:return"RGB888";case q.uq:return"RGB565";case q.ru:return"RGBA4444";
case q.qu:return"RGB5A1";case q.Zy:return"AI88";case q.tq:return"A8";case q.$y:return"I8";case q.pF:return"PVRTC4";case q.oF:return"PVRTC2";default:q.log("stringForFormat: "+this.Qf+", cannot give useful result, it's a unrecognized pixel format")}return""},HH:function(a){a=a||this.Qf;switch(a){case q.qj:return 32;case q.vq:return 32;case q.uq:return 16;case q.tq:return 8;case q.ru:return 16;case q.qu:return 16;case q.pF:return 4;case q.oF:return 2;case q.$y:return 8;case q.Zy:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Qf+", cannot give useful result, it's a illegal pixel format"),-1}},GO:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.f7(),h=q.size(a.Ds(),a.ws()),k=q.nF,l=a.M3();g||(8<=l?k=q.vq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.uq));var m=c*d;if(k==q.uq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.ru)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.qu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.tq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.vq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Uw(e,k,c,d,h);a.getData();this.Fo=a.b8();return!0},Vf:function(a,c){this.Gd.push({bk:a,ai:c})},LV:function(a){for(var c=this.Gd,d=0;d<c.length;d++)c[d].ai==a&&c.splice(d,1)},Vd:function(){for(var a=this.Gd,c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ai,this)}a.length=0}});
q.hN=q.Da.extend({ta:null,pc:!1,Gc:null,Gd:null,ctor:function(){this.ta=q.Am();this.pc=!1;this.Gc=null;this.Gd=[]},Ap:function(){return this.ta.Ga},zp:function(){return this.ta.sa},d:function(){var a=q.Cd();return q.size(this.ta.Ga/a,this.ta.sa/a)},BS:function(){return this.ta},Bf:function(a){a&&(this.Gc=a)},FS:function(){return this.Gc},Hg:function(){return this.pc},ve:function(){this.pc=!0;var a=this.Gc;this.ta.Ga=a.width;this.ta.sa=a.height;this.Vd()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.ta.Ga+" height "+this.ta.sa+"\x3e"},Uw:function(){return!1},KC:function(){return!1},nl:function(){return!1},uD:function(){},getName:function(){return null},KS:function(){return 1},TW:function(){},LS:function(){return 1},UW:function(){},uC:function(){return null},Ng:function(){},Fs:function(){return!1},AT:function(){return!1},CV:function(){},hU:function(a){return a},dS:function(){},fS:function(){},KT:function(){return!1},TI:function(){return!1},OT:function(){return!0},tX:function(){},hK:function(){},
gK:function(){},generateMipmap:function(){},WX:function(){return""},HH:function(){return-1},Vf:function(a,c){this.Gd.push({bk:a,ai:c})},LV:function(a){for(var c=this.Gd,d=0;d<c.length;d++)c[d].ai==a&&c.splice(d,1)},Vd:function(){for(var a=this.Gd,c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ai,this)}a.length=0}});q.Yb=q.Fa.Pc?q.iN:q.hN;q.Yb.paa=function(a){q.Qz=a};q.Yb.NR=function(){return q.Qz};q.Yb.k4=function(){return q.Qz};q.ss=null;q.N8=function(a){if(q.DR(a)==q.gM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.ia.e().hR(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.DR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.yZ:0<a.toLowerCase().indexOf(".png")?q.zZ:0<a.toLowerCase().indexOf(".webp")?q.BZ:q.gM};
q.ia=q.Da.extend({rb:null,Wr:null,dw:null,EG:!1,sv:null,tv:null,ctor:function(){if(q.ss)throw"Attempted to allocate a second instance of a singleton.";this.dw+=0|1E3*Math.random();this.rb={};this.Wr={};q.zd===q.zk&&(this.sv={},this.tv={})},tz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},OO:function(){this.EG=!0;var a,c=this.sv,d=this.rb;for(a in c){var e=c[a],f=new q.Yb;f.Bf(e);f.ve();d[a]=f}this.sv={}},w1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
r1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.rb.length+"\x3e"},Yx:function(a){a=q.Dd.e().le(a);return this.rb.hasOwnProperty(a)?this.rb[a]:null},HS:function(a){for(var c in this.rb)if(this.rb[c]==a)return c;return null},xO:function(){this.dw++;return"_textureKey_"+this.dw},zI:function(a){var c=this.HS(a);c||(c=a instanceof HTMLImageElement?a.src:this.xO());this.Wr.hasOwnProperty(c)||(this.Wr[c]=
q.vp(a));return this.Wr[c]},v1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.Dd.e().le(a);if(null!=this.rb[a])return this.rb[a];var c=new q.Yb;c.TI(a)?this.rb[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},w$:function(){var a=this.rb,c;for(c in a)a[c]&&a[c].uD();this.rb={}},L$:function(a){if(a){var c=this.rb,d;for(d in c)c[d]==a&&(c[d].uD(),delete c[d])}},PV:function(a){null!=a&&(a=q.Dd.e().le(a),this.rb[a]&&delete this.rb[a])},s1:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.Dd.e().le(a);var e=this.rb[a],f,g;if(e)e.Hg()?this.tz(c,d):(g=this,f=e.Gc,f.addEventListener("load",function(){e.ve();g.tz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.rb.hasOwnProperty(a)&&g.rb[a].ve();g.tz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){q.Xb.e().ln(a);g.rb.hasOwnProperty(a)&&delete g.rb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.Yb;h.Bf(f);this.rb[a]=h}return this.rb[a]},HN:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Xb.e().ki();d.sv[a]=c;delete d.tv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Xb.e().ln(a);
delete d.tv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.tv[a]=c},pa:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.zd===q.zk&&!this.EG)return this.HN(a);a=q.Dd.e().le(a);var c=this.rb[a],d;if(c)c.Hg()?q.Xb.e().ki():(d=c.Gc,d.addEventListener("load",function(){c.ve();q.Xb.e().ki();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){q.Xb.e().ki();e.rb.hasOwnProperty(a)&&
e.rb[a].ve();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){q.Xb.e().ln(a);e.rb.hasOwnProperty(a)&&delete e.rb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new q.Yb;f.Bf(d);this.rb[a]=f}return this.rb[a]},hR:function(a,c){if(c instanceof q.Yb)this.rb[a]=c;else{var d=new q.Yb;d.Bf(c);d.ve();this.rb[a]=d}},B1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.rb.hasOwnProperty(c)&&this.rb[c])return this.rb[c];var d=new q.Yb;d.KC(a);null!=c&&null!=d?this.rb[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},S2:function(){var a=0,c=0,d=this.rb,e;for(e in d){var f=d[e];a++;f.Gc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.Gc.src+" "+f.Ap()+" x "+f.zp()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Ap()+" x "+f.zp());c+=f.Ap()*f.zp()*4}d=this.Wr;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.ia.e=function(){q.ss||(q.ss=new q.ia);return q.ss};q.ia.oV=function(){q.ss=null};q.ao=q.Da.extend({sd:null,Ai:null,Ia:!1,ed:0,Ea:null,Le:null,ug:null,Er:null,vg:null,ctor:function(){this.Ai=[]},H6:function(){return this.Ta},U3:function(){return this.ed},aa:function(){return this.Ea},ba:function(a){this.Ea=a},Mg:function(a){this.Ia=a},cJ:function(){return this.Ia},R5:function(){return this.Le},qba:function(a){this.Le=a},E0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Sv(a[d],c+d)},Sv:function(a,c){var d=this.Le;d[c]?(d[c].Ja=a.Ja,d[c].Ua=a.Ua,d[c].Sa=a.Sa,d[c].Ma=a.Ma):d[c]=
new q.ac(a.Sa,a.Ja,a.Ma,a.Ua,this.ug,c*q.ac.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ta+"\x3e"},RG:function(){if(0!==this.ed)for(var a=this.sd,c=this.ed,d=0;d<c;d++)q.qF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},kQ:function(){var a=q.V;this.Ai[0]=a.createBuffer();this.Ai[1]=a.createBuffer();this.Er=a.createBuffer();
this.qG()},qG:function(){var a=q.V;a.bindBuffer(a.ARRAY_BUFFER,this.Er);a.bufferData(a.ARRAY_BUFFER,this.ug,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ai[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.sd,a.STATIC_DRAW)},$i:function(a,c){var d=q.ia.e().pa(a);if(d)return this.La(d,c);q.log("cocos2d: Could not open file: "+a);return!1},La:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.ed=c|=0;this.Ta=0;this.Ea=a;this.Le=[];this.sd=new Uint16Array(6*
c);var d=q.ac.BYTES_PER_ELEMENT;this.ug=new ArrayBuffer(d*c);this.vg=new Uint8Array(this.ug);if((!this.Le||!this.sd)&&0<c)return!1;for(var e=this.Le,f=0;f<c;f++)e[f]=new q.ac(null,null,null,null,this.ug,f*d);this.RG();this.kQ();return this.Ia=!0},dy:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.ed)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ta=Math.max(c+1,this.Ta);this.Sv(a,c);this.Ia=!0},QC:function(a,c){if(c>=this.ed)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ta++;if(this.Ta>this.ed)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.ac.BYTES_PER_ELEMENT,e=c*d,f=(this.Ta-1-c)*d;this.Le[this.Ta-1]=new q.ac(null,null,null,null,this.ug,(this.Ta-1)*d);this.vg.set(this.vg.subarray(e,e+f),e+d);this.Sv(a,c);this.Ia=!0}},w7:function(a,c,d){d=d||a.length;if(c+d>this.ed)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.ac.BYTES_PER_ELEMENT;this.Ta+=d;if(this.Ta>this.ed)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ta-1-c-d)*e,h=this.Ta-1-d,k;for(k=0;k<d;k++)this.Le[h+k]=new q.ac(null,null,null,null,this.ug,(this.Ta-1)*e);this.vg.set(this.vg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Sv(a[k],c+k);this.Ia=!0}},v7:function(a,c){if(a!==c){if(0>c&&c>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ta)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.ac.BYTES_PER_ELEMENT,e=this.vg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ia=!0}},NV:function(a){if(a>=this.Ta)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.ac.BYTES_PER_ELEMENT;this.Ta--;this.Le.length=this.Ta;if(a!==this.Ta){var d=(a+1)*c;this.vg.set(this.vg.subarray(d,d+(this.Ta-a)*c),d-c)}this.Ia=!0},D$:function(a,c){if(a+c>this.Ta)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ta-=c;if(a!==this.Ta){var d=q.ac.BYTES_PER_ELEMENT,
e=(a+c)*d;this.vg.set(this.vg.subarray(e,e+(this.Ta-a)*d),a*d)}this.Ia=!0},HV:function(){this.Ta=this.Le.length=0},b1:function(a){this.Ia=a},TV:function(a){if(a==this.ed)return!0;var c=q.ac.BYTES_PER_ELEMENT,d=this.ed;this.Ta=Math.min(this.Ta,a);var e=this.ed=0|a,f=this.Ta;if(null==this.Le)for(this.Le=[],this.ug=new ArrayBuffer(c*e),this.vg=new Uint8Array(this.ug),a=0;a<e;a++)this.Le=new q.ac(null,null,null,null,this.ug,a*c);else{var g,h,k=this.Le;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.ac(k[a].Sa,k[a].Ja,k[a].Ma,k[a].Ua,h,a*c);for(;a<e;a++)g[a]=new q.ac(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.ac(k[a].Sa,k[a].Ja,k[a].Ma,k[a].Ua,h,a*c);this.vg=new Uint8Array(h);this.Le=g;this.ug=h}null==this.sd?this.sd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.sd,0),this.sd=c):this.sd=this.sd.subarray(0,6*e);this.RG();this.qG();return this.Ia=!0},n7:function(a){this.Ta+=a},Y8:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ta-a;if(d+(this.Ta-a)>this.ed)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ta)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.ac.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.vg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ia=!0},s3:function(a,
c){for(var d=c*q.ac.BYTES_PER_ELEMENT,e=new Uint8Array(this.ug,a*q.ac.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},ZH:function(a,c){c=c||0;if(0!==a&&this.Ea&&this.Ea.Hg()){var d=q.V;q.Eg(this.Ea);q.qe(q.zu);d.bindBuffer(d.ARRAY_BUFFER,this.Er);this.Ia&&d.bufferData(d.ARRAY_BUFFER,this.ug,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.Ge,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.yq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.zq,2,d.FLOAT,!1,24,16);this.Ia&&(this.Ia=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Ai[1]);q.qF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.sd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.sd.BYTES_PER_ELEMENT);q.bi++}},gS:function(){this.ZH(this.Ta,0)},Z0:function(){var a=q.V;this.Ai&&(this.Ai[0]&&a.deleteBuffer(this.Ai[0]),this.Ai[1]&&a.deleteBuffer(this.Ai[1]));this.Er&&a.deleteBuffer(this.Er)}});q.ao.create=function(a,c){var d=new q.ao;return d&&d.$i(a,c)?d:null};q.ao.gb=function(a,c){var d=new q.ao;return d&&d.La(a,c)?d:null};q.rq=q.D.extend({ctor:function(){q.D.prototype.ctor.call(this);this.Ok=!0;this.L(0.5,0.5);this.U(q.W.e().Qb)}});q.rq.create=function(){return new q.rq};q.az=0;q.W_=1;
q.Qc=q.D.extend({Qk:!1,Pk:!1,Ho:!1,cl:0,ds:q.az,nm:!1,Qo:0,ctor:function(){q.D.prototype.ctor.call(this);this.Ho=this.Pk=this.Qk=!1;this.cl=0;this.ds=q.az;this.nm=!1;this.Qo=0},FO:function(){this.L(0.5,0.5);this.Ok=!0;var a=q.W.e();this.U(a.Qb)},t:function(){q.D.prototype.t.call(this);this.FO();return!0},qx:function(){this.ds===q.az?q.BV(this,this.cl):q.qD(this.cl,!0,this)},U7:function(){return this.nm},Dx:function(a){if(!q.Td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.nm!=
a&&(this.nm=a,this.Oe&&(a?q.W.e().yf().xH(this,this.Qo):q.W.e().yf().XJ(this)))},Xaa:function(a){if(!q.Td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Qo!==a&&(this.Qo=a,this.nm&&(this.Dx(!1),this.Dx(!0)))},j5:function(){return this.Qo},n8:function(){return this.Qk},Ub:function(a){this.Qk!==a&&(this.Qk=a,this.Oe&&(a?this.qx():q.oL(this)))},L6:function(){return this.cl},bq:function(a){this.cl!==a&&(this.cl=a,this.Qk&&(this.Ub(!1),this.Ub(!0)))},K6:function(){return this.ds},
RD:function(a){this.ds!==a&&(this.ds=a,this.Qk&&(this.Ub(!1),this.Ub(!0)))},C7:function(){return this.Pk},Z$:function(a){if(!q.tk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Pk&&(this.Pk=a,this.Oe)){var c=q.W.e();a?c.wp().Ah(this):c.wp().Ah(null)}},lW:function(a){this.Pk&&q.tk&&q.W.e().wp().lW(a)},p9:function(){q.log("onAccelerometer event should be handled.")},T7:function(){return this.Ho},Oaa:function(a){if(!q.Tn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.Ho&&(this.Ho=a,this.Oe)){var c=q.W.e();a?c.Lw().OQ(this):c.Lw().JV(this)}},Kg:function(){var a=q.W.e();this.Qk&&this.qx();q.D.prototype.Kg.call(this);this.Pk&&q.tk&&a.wp().Ah(this);this.Ho&&q.Tn&&a.Lw().OQ(this);this.nm&&q.Td&&a.yf().xH(this,this.Qo)},Md:function(){var a=q.W.e();this.Qk&&q.oL(this);this.Pk&&q.tk&&a.wp().Ah(null);this.Ho&&q.Tn&&a.Lw().JV(this);this.nm&&q.Td&&a.yf().XJ(this);q.D.prototype.Md.call(this)},ii:function(){this.Pk&&q.tk&&q.W.e().wp().Ah(this);q.D.prototype.ii.call(this)},
kb:function(){q.log("onTouchBegan event should be handled.");return!0},nd:function(){},Df:function(){},ik:function(){},xJ:function(){},AJ:function(){},zJ:function(){},yJ:function(){},CU:function(){return!1},DU:function(){return!1},ji:function(){return!1},GU:function(){return!1},KU:function(){return!1},LU:function(){return!1},MU:function(){return!1},HU:function(){return!1},IU:function(){return!1},JU:function(){return!1},NU:function(){return!1},EU:function(){return!1},FU:function(){return!1},cD:function(){},
wl:function(){}});q.Qc.create=function(){var a=new q.Qc;return a&&a.t()?a:null};
q.Eh=q.Qc.extend({ib:!0,Wb:0,wg:0,Fc:null,be:null,Wd:!1,qd:!1,ctor:function(){q.Qc.prototype.ctor.call(this);this.ib=!0;this.wg=this.Wb=255;this.Fc=q.yb();this.be=q.yb();this.qd=this.Wd=!1},t:function(){return q.Qc.prototype.t.call(this)?(this.mK(!1),this.lK(!1),!0):!1},Xi:function(){return this.wg},CS:function(){return this.Wb},ga:function(a){this.Wb=this.wg=a;a=255;var c=this.Y;c&&c.ib&&c.Wd&&(a=c.Wb);this.bd(a)},bd:function(a){this.Wb=0|this.wg*a/255;if(this.Wd){a=this.u;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.ib&&d.bd(this.Wb)}}},bU:function(){return this.Wd},mK:function(a){this.Wd!==a&&((this.Wd=a)?this.ar():this.Yz())},ar:function(){var a=255,c=this.Y;c&&c.ib&&c.Wd&&(a=c.Wb);this.bd(a)},Yz:function(){this.Wb=this.wg;for(var a=this.u,c=0;c<a.length;c++){var d=a[c];d&&d.ib&&d.bd(255)}},wd:function(){var a=this.be;return q.k(a.p,a.o,a.g)},us:function(){var a=this.Fc;return q.k(a.p,a.o,a.g)},l:function(a){var c=this.Fc,d=this.be;c.p=d.p=a.p;c.o=d.o=a.o;c.g=d.g=a.g;a=(a=this.Y)&&a.ib&&a.qd?a.us():
q.yb();this.ad(a)},ad:function(a){var c=this.Fc,d=this.be;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;c.g=0|d.g*a.g/255;if(this.qd)for(a=this.u,d=0;d<a.length;d++){var e=a[d];e&&e.ib&&e.ad(c)}},aU:function(){return this.qd},lK:function(a){this.qd!==a&&((this.qd=a)?this.$q():this.Xz())},$q:function(){var a;a=(a=this.Y)&&a.ib&&a.qd?a.us():q.yb();this.ad(a)},Xz:function(){var a=this.Fc,c=this.be;a.p=c.p;a.o=c.o;a.g=c.g;for(var a=this.u,c=q.yb(),d=0;d<a.length;d++){var e=a[d];e&&e.ib&&e.ad(c)}},f:function(a,
c,d){q.D.prototype.f.call(this,a,c,d);this.qd&&this.$q();this.Wd&&this.ar()},Gf:function(){},pl:function(){return!1}});
q.ea=q.Eh.extend({fa:null,ts:function(){return this.fa},n2:function(a,c){this.U(a,c)},JH:function(a){this.U(a,this.ta.sa)},k2:function(a){this.U(this.ta.Ga,a)},Gf:function(){},pl:function(){return!1},l:function(a){q.Eh.prototype.l.call(this,a);this.ud()},ga:function(a){q.Eh.prototype.ga.call(this,a);this.ud()},Io:!1,VG:null,qB:null,JB:null,Lz:null,sB:null,rB:null,Ih:function(){q.Eh.prototype.ctor.call(this);this.fa=new q.Sl(q.De,q.Ce)},Jh:function(){q.Eh.prototype.ctor.call(this);this.fa=new q.Sl(q.De,
q.Ce);this.sB=new ArrayBuffer(32);this.rB=new ArrayBuffer(64);var a=this.sB,c=this.rB,d=q.Bb.BYTES_PER_ELEMENT,e=q.Rd.BYTES_PER_ELEMENT;this.VG=[new q.Bb(0,0,a,0),new q.Bb(0,0,a,d),new q.Bb(0,0,a,2*d),new q.Bb(0,0,a,3*d)];this.qB=[new q.Rd(0,0,0,1,c,0),new q.Rd(0,0,0,1,c,e),new q.Rd(0,0,0,1,c,2*e),new q.Rd(0,0,0,1,c,3*e)];this.JB=q.V.createBuffer();this.Lz=q.V.createBuffer()},Bl:function(a,c){this.fa=1==arguments.length?a:{src:a,Gb:c};q.zd===q.ig&&(this.Io=this.fa&&1==this.fa.src&&771==this.fa.Gb)},
t:function(a,c,d){if(!q.Qc.prototype.t.call(this))return!1;q.zd!==q.ig&&this.Ng(q.Gh.e().li(q.XM));var e=q.W.e().Qb;a=a||new q.Ob(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Fc;e.p=a.p;e.o=a.o;e.g=a.g;e=this.be;e.p=a.p;e.o=a.o;e.g=a.g;this.wg=this.Wb=a.I;this.U(c,d);this.ud();return!0},U:null,QP:function(a,c){var d=this.VG;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.MF(),q.Qc.prototype.U.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.MF(),q.Qc.prototype.U.call(this,
a))},ud:null,AQ:function(){},BQ:function(){for(var a=this.Fc,c=this.Wb,d=this.qB,e=0;4>e;e++)d[e].p=a.p/255,d[e].o=a.o/255,d[e].g=a.g/255,d[e].I=c/255;this.LF()},ad:function(a){q.Eh.prototype.ad.call(this,a);this.ud()},bd:function(a){q.Eh.prototype.bd.call(this,a);this.ud()},MF:function(){var a=q.V;a.bindBuffer(a.ARRAY_BUFFER,this.JB);a.bufferData(a.ARRAY_BUFFER,this.sB,a.STATIC_DRAW)},LF:function(){var a=q.V;a.bindBuffer(a.ARRAY_BUFFER,this.Lz);a.bufferData(a.ARRAY_BUFFER,this.rB,a.STATIC_DRAW)},
Va:null,hm:function(a){a=a||q.V;var c=this.d(),d=q.ra.e(),e=this.Fc;a.fillStyle="rgba("+(0|e.p)+","+(0|e.o)+","+(0|e.g)+","+this.Wb/255+")";a.fillRect(0,0,c.width*d.va,-c.height*d.Aa);q.bi++},rg:function(a){a=a||q.V;q.Jy(this);q.qe(q.Yg|q.qN);a.bindBuffer(a.ARRAY_BUFFER,this.JB);a.vertexAttribPointer(q.Ge,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Lz);a.vertexAttribPointer(q.yq,4,a.FLOAT,!1,0,0);q.ck(this.fa.src,this.fa.Gb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Fa.Pc?(q.ea.prototype.ctor=q.ea.prototype.Jh,q.ea.prototype.U=q.ea.prototype.QP,q.ea.prototype.ud=q.ea.prototype.BQ,q.ea.prototype.Va=q.ea.prototype.rg):(q.ea.prototype.ctor=q.ea.prototype.Ih,q.ea.prototype.U=q.Eh.prototype.U,q.ea.prototype.ud=q.ea.prototype.AQ,q.ea.prototype.Va=q.ea.prototype.hm);q.ea.create=function(a,c,d){var e=new q.ea;switch(arguments.length){case 0:e.t();break;case 1:e.t(a);break;case 3:e.t(a,c,d);break;default:e.t()}return e};
q.OE=q.ea.extend({WG:null,Bo:null,Zo:null,Co:null,$l:null,Tu:!1,lr:null,kr:null,ctor:function(){q.ea.prototype.ctor.call(this);this.WG=new q.Bc(0,0,0);this.Bo=new q.Bc(0,0,0);this.$l=q.a(0,-1);this.Co=this.Zo=255;this.lr=q.a(0,0);this.kr=q.a(0,0)},U:function(a,c){2===arguments.length?q.ea.prototype.U.call(this,a,c):q.ea.prototype.U.call(this,a);this.ud()},p6:function(){return this.be},Gba:function(a){this.l(a)},waa:function(a){this.Bo=a;this.ud()},t4:function(){return this.Bo},Hba:function(a){this.Zo=
a;this.ud()},q6:function(){return this.Zo},xaa:function(a){this.Co=a;this.ud()},u4:function(){return this.Co},Yba:function(a){this.$l.x=a.x;this.$l.y=a.y;this.ud()},P6:function(){return q.a(this.$l.x,this.$l.y)},H7:function(){return this.Tu},maa:function(a){this.Tu=a;this.ud()},t:function(a,c,d){a=a||q.XB(0,0,0,255);c=c||q.XB(0,0,0,255);d=d||q.a(0,-1);var e=this.WG,f=this.Bo;e.p=a.p;e.o=a.o;e.g=a.g;this.Zo=a.I;f.p=c.p;f.o=c.o;f.g=c.g;this.Co=c.I;this.$l=d;this.Tu=!0;q.ea.prototype.t.call(this,q.h(a.p,
a.o,a.g,255));return!0},Va:function(a){if(q.zd===q.zk)q.ea.prototype.Va.call(this,a);else{a=a||q.V;this.Io&&(a.globalCompositeOperation="lighter");a.save();var c=q.ra.e(),d=this.Wb/255,e=this.d().width*c.va,c=this.d().height*c.Aa,f=a.createLinearGradient(this.lr.x,this.lr.y,this.kr.x,this.kr.y),g=this.Fc,h=this.Bo;f.addColorStop(0,"rgba("+Math.round(g.p)+","+Math.round(g.o)+","+Math.round(g.g)+","+(this.Zo/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.p)+","+Math.round(h.o)+","+Math.round(h.g)+
","+(this.Co/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.HP&&a.rotate(this.$0);a.restore()}},ud:function(){var a=this.$l;if(q.zd===q.ig){var c=0.5*this.d().width,d=0.5*this.d().height;this.lr.x=c*-a.x+c;this.lr.y=d*a.y-d;this.kr.x=c*a.x+c;this.kr.y=d*-a.y-d}else if(d=q.eD(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.Tu&&(a=q.dj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Wb/255,f=this.Fc,g=this.Bo,d=f.p/255,h=f.o/255,f=f.g/255,k=this.Zo*e/255,l=g.p/255,m=g.o/255,g=g.g/
255,e=this.Co*e/255,n=this.qB,r=n[0],p=n[1],t=n[2],n=n[3];r.p=l+(c+a.x+a.y)/(2*c)*(d-l);r.o=m+(c+a.x+a.y)/(2*c)*(h-m);r.g=g+(c+a.x+a.y)/(2*c)*(f-g);r.I=e+(c+a.x+a.y)/(2*c)*(k-e);p.p=l+(c-a.x+a.y)/(2*c)*(d-l);p.o=m+(c-a.x+a.y)/(2*c)*(h-m);p.g=g+(c-a.x+a.y)/(2*c)*(f-g);p.I=e+(c-a.x+a.y)/(2*c)*(k-e);t.p=l+(c+a.x-a.y)/(2*c)*(d-l);t.o=m+(c+a.x-a.y)/(2*c)*(h-m);t.g=g+(c+a.x-a.y)/(2*c)*(f-g);t.I=e+(c+a.x-a.y)/(2*c)*(k-e);n.p=l+(c-a.x-a.y)/(2*c)*(d-l);n.o=m+(c-a.x-a.y)/(2*c)*(h-m);n.g=g+(c-a.x-a.y)/(2*c)*
(f-g);n.I=e+(c-a.x-a.y)/(2*c)*(k-e);this.LF()}}});q.OE.create=function(a,c,d){var e=new q.OE;switch(arguments.length){case 2:if(e&&e.t(a,c))return e;break;case 3:if(e&&e.t(a,c,d))return e;break;case 0:if(e&&e.t())return e;break;default:throw"Arguments error ";}return null};
q.PE=q.Qc.extend({Jk:0,bh:null,s7:function(a){this.bh=[];this.bh.push(a);this.Jk=0;this.f(a);return!0},MT:function(a){this.bh=a;this.Jk=0;this.f(this.bh[this.Jk]);return!0},Fca:function(a){a>=this.bh.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.bh[this.Jk],!0),this.Jk=a,this.f(this.bh[a]))},Gca:function(a){a>=this.bh.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.bh[this.Jk],
!0),this.bh[this.Jk]=null,this.Jk=a,this.f(this.bh[a]))},t1:function(a){a?this.bh.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.PE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.PE;return a.MT(arguments)?a:null};q.Vy=-1;
q.vp=function(a){function c(){var c=q.vp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.aE.width=e;c.aE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.kL.drawImage(a,0,0);for(var n=c.kL.getImageData(0,0,e,h),r=n.data,p=0;p<k.length;p+=4)r[p]=0===l?k[p]:0,r[p+
1]=1===l?k[p+1]:0,r[p+2]=2===l?k[p+2]:0,r[p+3]=k[p+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.wR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.wR=d};q.vp.canvas=document.createElement("canvas");q.vp.aE=document.createElement("canvas");q.vp.kL=q.vp.aE.getContext("2d");
q.B3=function(a,c,d){d||(d=q.rect(0,0,a.width,a.height),d=q.pq(d));c=c instanceof q.Rd?q.h(255*c.p,255*c.o,255*c.g,255*c.I):q.h(c.p,c.o,c.g,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.I/255;f.fillStyle="rgb("+c.p+","+c.o+","+c.g+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
q.nC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.I?q.vw(d.p/255,d.o/255,d.g/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.g&&(h.globalAlpha=a.g*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.p+a.o+a.g&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.PH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.d0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Gl=e;this.visible=g};q.kg=function(a){return 0|a};q.$M&&(q.kg=function(a){return a});
q.A=q.zb.extend({ib:!0,Ra:null,Vc:0,jb:null,Ia:!1,Nh:null,Hi:null,Yk:!1,Km:null,fa:null,Ea:null,xa:null,Wc:!1,dc:null,Vh:null,jc:!1,hc:!1,ic:!1,qb:!1,Gd:null,xG:null,mL:function(){return this.qb},Vf:function(a,c){this.Gd.push({bk:a,ai:c})},Vd:function(){for(var a=this.Gd,c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ai,this)}a.length=0},cJ:function(){return this.Ia},Mg:function(a){this.Ia=a},l8:function(){return this.Wc},I3:function(){return this.Vc},ze:function(a){this.Vc=a},wC:function(){return q.rect(this.xa.x,
this.xa.y,this.xa.width,this.xa.height)},yI:function(){return this.Ra},aq:function(a){this.Ra=a},o6:function(){return this.jb},Fba:function(a){this.jb=a},v5:function(){return this.dc},ts:function(){return this.fa},we:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.qb||(this.qb=!1,a.Vf(this.oB,this));var c=this.La(a.aa(),a.pe());this.Wp(a);return c},oB:null,pQ:function(a){this.Wa();this.Mb(a.pe(),a.jd,a.hd);this.Vd()},oQ:function(a){this.Wa();this.Mb(a.pe(),
a.jd,a.hd);a=this.wd();255===a.p&&255===a.o&&255===a.g||this.Pu();this.Vd()},VI:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.mg.e().uh(a);return this.we(a)},jda:function(a){this.Ra=a.Ra;this.jb=a},TD:function(a){this.xa.x=a.x;this.xa.y=a.y;this.xa.width=a.width;this.xa.height=a.height},Nd:function(){if(this.ce){for(var a,c,d=this.u,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.eb<e.eb||c.eb==e.eb&&c.Pf<e.Pf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.jb&&this.og(d,q.D.Kf.Nd);this.ce=!1}},Vs:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.u.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.eb&&(this.jb&&!this.ce&&(this.jB(),this.jb.YJ(!0)),q.D.prototype.Vs.call(this,a,c))},removeChild:function(a,c){this.jb&&this.jb.un(a);q.D.prototype.removeChild.call(this,a,c)},uc:function(a){var c=this.u,d=this.jb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.un(c[e]);q.D.prototype.uc.call(this,
a);this.Hi=!1},rK:function(a){this.Nh=a;this.Mg(a);a=this.u;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.A&&a[c].rK(!0)},Xg:function(){this.jb&&!this.Nh&&(this.Ia=this.Nh=!0,this.Hi&&this.rK(!0))},n:function(a,c){2<=arguments.length?q.D.prototype.n.call(this,a,arguments[1]):q.D.prototype.n.call(this,a);this.Xg()},Ix:function(a){q.D.prototype.Ix.call(this,a);this.Xg()},Jx:function(a){q.D.prototype.Jx.call(this,a);this.Xg()},Kx:function(a){q.D.prototype.Kx.call(this,a);this.Xg()},Mx:function(a){q.D.prototype.Mx.call(this,
a);this.Xg()},Nx:function(a){q.D.prototype.Nx.call(this,a);this.Xg()},Zp:function(a){q.D.prototype.Zp.call(this,a);this.Xg()},Bn:function(a){q.D.prototype.Bn.call(this,a);this.Xg()},ok:function(a,c){q.D.prototype.ok.call(this,a,c);this.Xg()},QK:function(a){q.D.prototype.QK.call(this,a);this.Xg()},L:function(a,c){2===arguments.length?q.D.prototype.L.call(this,a,c):q.D.prototype.L.call(this,a);this.Xg()},v:function(a){q.D.prototype.v.call(this,a);this.Xg()},Zi:function(a){this.jb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
q.D.prototype.Zi.call(this,a)},IW:function(a){this.hc!=a&&(this.hc=a,this.Mb(this.xa,this.Wc,this.ta),this.Wa())},JW:function(a){this.ic!=a&&(this.ic=a,this.Mb(this.xa,this.Wc,this.ta),this.Wa())},O7:function(){return this.hc},P7:function(){return this.ic},Gf:null,YP:function(a){this.jc!==a&&(this.jc=a,this.lt())},XP:function(a){this.jc!==a&&(this.jc=a,this.Wa())},pl:function(){return this.jc},bd:null,EQ:function(a){q.zb.prototype.bd.call(this,a);this.lt()},hH:function(a){q.zb.prototype.bd.call(this,
a);this.ym()},taa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.Pl.e().nI(a);d?(d=d.Zd[c])?this.Wp(d.uh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},L3:function(){return this.jb},jB:function(){if(!this.ce){this.ce=!0;for(var a=this.Y;a&&a!=this.jb;)a.jB(),a=a.getParent()}},aa:function(){return this.Ea},Jb:null,Nv:null,tf:!1,Su:!1,
Io:!1,sg:null,ep:null,$z:null,ctor:null,Jh:function(a){q.zb.prototype.ctor.call(this);this.Yk=!1;this.dc=q.td();this.Vh=q.td();this.fa={src:q.De,Gb:q.Ce};this.xa=q.rect(0,0,0,0);this.Jb=new q.ac;this.Nv=q.V.createBuffer();this.qb=this.tf=!0;this.Gd=[];if(a)if("string"===typeof a)a=q.mg.e().uh(a),this.we(a);else if("object"===typeof a)if(a instanceof q.Ed)this.we(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Yb;c.Bf(a);c.ve();this.La(c)}else a instanceof q.Yb&&
this.La(a)},Ih:function(a){q.zb.prototype.ctor.call(this);this.Yk=!1;this.dc=q.td();this.Vh=q.td();this.fa={src:q.De,Gb:q.Ce};this.xa=q.rect(0,0,0,0);this.xG=!1;this.qb=!0;this.Gd=[];this.ep={x:0,y:0,width:0,height:0,ot:!1};this.$z=q.size(0,0);if(a)if("string"===typeof a)a=q.mg.e().uh(a),this.we(a);else if("object"===typeof a)if(a instanceof q.Ed)this.we(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Yb;c.Bf(a);c.ve();this.La(c)}else a instanceof q.Yb&&this.La(a)},
Q5:function(){return this.Jb},Bl:null,MP:function(a,c){var d=this.fa;1===arguments.length?(d.src=a.src,d.Gb=a.Gb):(d.src=a,d.Gb=c)},LP:function(a,c){var d=this.fa;1===arguments.length?(d.src=a.src,d.Gb=a.Gb):(d.src=a,d.Gb=c);this.Io=d&&(770==d.src&&1==d.Gb||1==d.src&&1==d.Gb)},t:null,tA:function(){if(0<arguments.length)return this.$i(arguments[0],arguments[1]);q.zb.prototype.t.call(this);this.Ia=this.Nh=!1;this.jc=!0;this.fa.src=q.De;this.fa.Gb=q.Ce;this.ba(null);this.qb=!0;this.hc=this.ic=!1;this.L(0.5,
0.5);this.dc.F=0;this.dc.H=0;this.Hi=!1;var a={p:255,o:255,g:255,I:255};this.Jb.Ja.J=a;this.Jb.Ua.J=a;this.Jb.Sa.J=a;this.Jb.Ma.J=a;this.tf=!0;this.Mb(q.dd(),!1,q.Xl());return!0},sA:function(){if(0<arguments.length)return this.$i(arguments[0],arguments[1]);q.zb.prototype.t.call(this);this.Ia=this.Nh=!1;this.jc=!0;this.fa.src=q.De;this.fa.Gb=q.Ce;this.ba(null);this.qb=!0;this.hc=this.ic=!1;this.L(0.5,0.5);this.dc.F=0;this.dc.H=0;this.Hi=!1;this.Mb(q.dd(),!1,q.Xl());return!0},$i:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=q.ia.e().Yx(a);if(!d)d=q.ia.e().pa(a);else if(!c){var e=d.d();c=q.rect(0,0,e.width,e.height)}return this.La(d,c)},La:null,pr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.zb.prototype.t.call(this))return!1;this.jb=null;this.Ia=this.Nh=!1;this.jc=!0;this.fa.src=q.De;this.fa.Gb=q.Ce;this.hc=this.ic=!1;this.L(0.5,0.5);this.dc.F=0;this.dc.H=0;this.Hi=!1;var e=new q.Ob(255,255,255,255),f=this.Jb;f.Ja.J=e;f.Ua.J=e;f.Sa.J=e;f.Ma.J=e;
this.qb=e=a.Hg();if(!e)return this.Wc=d||!1,c&&(e=this.xa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Vf(this.ew,this),!0;c||(e=a.d(),c=q.rect(0,0,e.width,e.height));this.ba(a);this.Mb(c,d,c.bb);this.Ae(null);return this.tf=!0},or:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.zb.prototype.t.call(this))return!1;this.jb=null;this.Ia=this.Nh=!1;this.jc=!0;this.fa.src=q.De;this.fa.Gb=q.Ce;this.hc=this.ic=!1;this.L(0.5,0.5);this.dc.F=
0;this.dc.H=0;this.Hi=!1;var e=a.Hg();this.qb=e;if(!e)return this.Wc=d||!1,c&&(this.xa.x=c.x,this.xa.y=c.y,this.xa.width=c.width,this.xa.height=c.height),a.Vf(this.ew,this),!0;c||(e=a.d(),c=q.rect(0,0,e.width,e.height));this.sg=a;this.ba(a);this.Mb(c,d,c.bb);this.Ae(null);return!0},ew:null,uQ:function(a){if(!this.qb){this.qb=!0;var c=this.xa;if(!c)c=a.d(),c=q.rect(0,0,c.width,c.height);else if(q.Fr(c)){var d=a.d();c.width=d.width;c.height=d.height}this.ba(a);this.Mb(c,this.Wc,c.bb);this.Ae(null);
this.tf=!0;this.Vd()}},tQ:function(a){if(!this.qb){this.qb=!0;var c=this.xa;if(!c)c=a.d(),c=q.rect(0,0,c.width,c.height);else if(q.Fr(c)){var d=a.d();c.width=d.width;c.height=d.height}this.sg=a;this.ba(a);this.Mb(c,this.Wc,c.bb);this.Ae(null);this.Vd()}},Mb:null,PG:function(a,c,d){this.Wc=c||!1;d=d||a.bb;this.U(d);this.TD(a);this.OG(a);a=this.Vh;this.hc&&(a.F=-a.F);this.ic&&(a.H=-a.H);var e=this.xa;this.dc.F=a.F+(this.ta.Ga-e.width)/2;this.dc.H=a.H+(this.ta.sa-e.height)/2;if(this.jb)this.Ia=!0;else{a=
0+this.dc.F;c=0+this.dc.H;d=a+e.width;var e=c+e.height,f=this.Jb;f.Ja.r={x:a,y:c,z:0};f.Ua.r={x:d,y:c,z:0};f.Sa.r={x:a,y:e,z:0};f.Ma.r={x:d,y:e,z:0};this.tf=!0}},kB:function(a,c,d){this.Wc=c||!1;d=d||a.bb;this.U(d);this.TD(a);c=this.ep;d=q.Cd();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.ot=!(0===c.width||0===c.height);a=this.Vh;this.hc&&(a.F=-a.F);this.ic&&(a.H=-a.H);this.dc.F=a.F+(this.ta.Ga-this.xa.width)/2;this.dc.H=a.H+(this.ta.sa-this.xa.height)/2;this.jb&&(this.Ia=!0)},
gg:null,MQ:function(){if(this.Ia){var a=this.Jb,c=this.Y;if(!this.ka||c&&c!=this.jb&&c.Yk)a.Ua.r={x:0,y:0,z:0},a.Sa.r={x:0,y:0,z:0},a.Ma.r={x:0,y:0,z:0},a.Ja.r={x:0,y:0,z:0},this.Yk=!0;else{this.Yk=!1;var d=this.Km=c&&c!=this.jb?q.Ol(this.bg(),c.Km):this.bg(),e=this.xa.bb,c=this.dc.F,f=this.dc.H,g=c+e.width,e=f+e.height,h=d.Ya,k=d.Za,l=d.I,m=d.g,n=d.Ka,d=-d.Ba,r=this.qw;a.Ja.r={x:q.kg(c*l-f*d+h),y:q.kg(c*m+f*n+k),z:r};a.Ua.r={x:q.kg(g*l-f*d+h),y:q.kg(g*m+f*n+k),z:r};a.Sa.r={x:q.kg(c*l-e*d+h),y:q.kg(c*
m+e*n+k),z:r};a.Ma.r={x:q.kg(g*l-e*d+h),y:q.kg(g*m+e*n+k),z:r}}this.Ra.dy(a,this.Vc);this.Nh=!1;this.Mg(!1)}this.Hi&&this.og(this.u,q.D.Kf.gg);q.xk&&(a=[q.a(this.Jb.Ja.r.x,this.Jb.Ja.r.y),q.a(this.Jb.Ua.r.x,this.Jb.Ua.r.y),q.a(this.Jb.Ma.r.x,this.Jb.Ma.r.y),q.a(this.Jb.Sa.r.x,this.Jb.Sa.r.y)],q.Yf.ge(a,4,!0))},LQ:function(){if(this.Ia){var a=this.Y;!this.ka||a&&a!=this.jb&&a.Yk?this.Yk=!0:(this.Yk=!1,this.Km=a&&a!=this.jb?q.Ol(this.bg(),a.Km):this.bg());this.Ia=this.Nh=!1}this.Hi&&this.og(this.u,
q.D.Kf.gg)},f:null,sz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.eb);null==d&&(d=a.ld);if(this.jb){if(!(a instanceof q.A)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.aa().Yh!==this.Ra.aa().Yh&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.jb.appendChild(a);this.ce||this.jB()}q.D.prototype.f.call(this,
a,c,d);this.Hi=!0},rz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.eb);null==d&&(d=a.ld);q.D.prototype.f.call(this,a,c,d);this.Hi=!0},lt:function(){var a=this.Fc,c=this.Wb,a={p:a.p,o:a.o,g:a.g,I:c};this.jc&&(a.p*=c/255,a.o*=c/255,a.g*=c/255);c=this.Jb;c.Ja.J=a;c.Ua.J=a;c.Sa.J=a;c.Ma.J=a;this.jb&&(this.Vc!=q.Vy?this.Ra.dy(c,this.Vc):this.Ia=!0);this.tf=!0},ga:null,iB:function(a){q.zb.prototype.ga.call(this,a);this.lt()},Kr:function(a){q.zb.prototype.ga.call(this,
a);this.ym()},l:null,fB:function(a){q.zb.prototype.l.call(this,a);this.lt()},Ir:function(a){var c=this.wd();if(c.p!==a.p||c.o!==a.o||c.g!==a.g)q.zb.prototype.l.call(this,a),this.Pu(),this.ym()},ad:null,DQ:function(a){q.zb.prototype.ad.call(this,a);this.lt()},CB:function(a){var c=this.wd();q.zb.prototype.ad.call(this,a);a=this.Fc;if(c.p!==a.p||c.o!==a.o||c.g!==a.g)this.Pu(),this.ym()},Wp:null,SP:function(a){this.Wa();var c=a.Ib;this.Vh.F=c.x;this.Vh.H=c.y;c=a.aa();a.qb||(this.qb=!1,a.Vf(function(a){this.qb=
!0;var c=a.aa();c!=this.Ea&&this.ba(c);this.Mb(a.pe(),a.jd,a.hd);this.Vd()},this));c!=this.Ea&&this.ba(c);this.Wc=a.jd;this.Mb(a.pe(),this.Wc,a.hd)},RP:function(a){this.Wa();var c=a.Ib;this.Vh.F=c.x;this.Vh.H=c.y;this.Wc=a.jd;var c=a.aa(),d=a.qb;d||(this.qb=!1,a.Vf(function(a){this.qb=!0;var c=a.aa();c!=this.Ea&&this.ba(c);this.Mb(a.pe(),a.jd,a.hd);this.Vd()},this));c!=this.Ea&&this.ba(c);this.Wc&&(this.sg=c);this.Mb(a.pe(),this.Wc,a.hd);this.Su=!1;d&&(a=this.wd(),255===a.p&&255===a.o&&255===a.g||
this.Pu())},eJ:null,TO:function(a){return q.RJ(a.pe(),this.xa)&&a.aa().getName()==this.Ea.getName()&&q.GJ(a.Ib,this.Vh)},SO:function(a){return a.aa()!=this.Ea?!1:q.RJ(a.pe(),this.xa)},bS:function(){return q.Ed.gb(this.Ea,q.Vn(this.xa),this.Wc,q.OM(this.Vh),q.Uy(this.ta))},Ae:null,KP:function(a){if(this.jb=a)this.Km={I:1,g:0,Ba:0,Ka:1,Ya:0,Za:0},this.aq(this.jb.Ra);else{this.Vc=q.Vy;this.aq(null);this.Nh=!1;this.Mg(!1);a=this.dc.F;var c=this.dc.H,d=a+this.xa.width,e=c+this.xa.height,f=this.Jb;f.Ja.r=
{x:a,y:c,z:0};f.Ua.r={x:d,y:c,z:0};f.Sa.r={x:a,y:e,z:0};f.Ma.r={x:d,y:e,z:0};this.tf=!0}},JP:function(a){(this.jb=a)?(this.Km={I:1,g:0,Ba:0,Ka:1,Ya:0,Za:0},this.aq(this.jb.Ra)):(this.Vc=q.Vy,this.aq(null),this.Nh=!1,this.Mg(!1))},ba:null,Mr:function(a){if(a&&!(a instanceof q.Yb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.jb&&this.jb.aa()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.Ng(q.Gh.e().li(q.Ty)):
this.Ng(q.Gh.e().li(q.XM)),this.jb||this.Ea==a||(this.Ea=a,this.Lm()))},Lr:function(a){if(a&&!(a instanceof q.Yb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ea!=a&&(a&&a.Gc instanceof HTMLImageElement&&(this.sg=a),this.Ea=a)},Lm:function(){this.jb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ea&&this.Ea.Fs()?(this.fa.src=q.De,this.fa.Gb=q.Ce,this.Gf(!0)):(this.fa.src=770,
this.fa.Gb=771,this.Gf(!1))},Pu:function(){var a,c=this.Ea,d=this.ep;c&&d.ot&&this.sg&&(a=c.Gc)&&(c=q.ia.e().zI(this.sg.Gc))&&(this.Su=!0,a instanceof HTMLCanvasElement&&!this.Wc&&!this.xG?q.nC(a,c,this.Fc,d,a):(a=q.nC(a,c,this.Fc,d),c=new q.Yb,c.Bf(a),c.ve(),this.ba(c)))},OG:function(a){a=q.Vn(a);var c=this.jb?this.Ra.aa():this.Ea;if(c){var d=c.Ap(),e=c.zp(),f,g=this.Jb;this.Wc?(q.St?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/
d,f=a.y/e,a=(a.y+a.width)/e),this.hc&&(e=f,f=a,a=e),this.ic&&(e=c,c=d,d=e),g.Ja.B.Oa=c,g.Ja.B.ma=f,g.Ua.B.Oa=c,g.Ua.B.ma=a,g.Sa.B.Oa=d,g.Sa.B.ma=f,g.Ma.B.Oa=d,g.Ma.B.ma=a):(q.St?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.hc&&(e=c,c=d,d=e),this.ic&&(e=f,f=a,a=e),g.Ja.B.Oa=c,g.Ja.B.ma=a,g.Ua.B.Oa=d,g.Ua.B.ma=a,g.Sa.B.Oa=c,g.Sa.B.ma=f,g.Ma.B.Oa=d,g.Ma.B.ma=f);this.tf=!0}},Va:null,rg:function(){if(this.qb){var a=
q.V,c=this.Ea;c?c.pc&&(this.Hc.lf(),this.Hc.Pg(),q.ck(this.fa.src,this.fa.Gb),q.c7(0,c),q.qe(q.zu),a.bindBuffer(a.ARRAY_BUFFER,this.Nv),this.tf&&(a.bufferData(a.ARRAY_BUFFER,this.Jb.SB,a.DYNAMIC_DRAW),this.tf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.Hc.lf(),this.Hc.Pg(),q.ck(this.fa.src,this.fa.Gb),q.Eg(null),q.qe(q.Yg|q.qN),a.bindBuffer(a.ARRAY_BUFFER,this.Nv),
this.tf&&(q.V.bufferData(q.V.ARRAY_BUFFER,this.Jb.SB,q.V.STATIC_DRAW),this.tf=!1),a.vertexAttribPointer(q.Ge,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.yq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.bi++;0!==q.xk&&(1===q.xk?(a=this.Jb,a=[q.a(a.Sa.r.x,a.Sa.r.y),q.a(a.Ja.r.x,a.Ja.r.y),q.a(a.Ua.r.x,a.Ua.r.y),q.a(a.Ma.r.x,a.Ma.r.y)],q.Yf.ge(a,4,!0)):2===q.xk&&(a=this.wC().bb,c=this.dc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Yf.ge(a,
4,!0)))}},hm:function(a){if(this.qb){a=a||q.V;this.Io&&(a.globalCompositeOperation="lighter");var c=q.ra.e().va,d=q.ra.e().Aa;a.globalAlpha=this.Wb/255;var e=this.xa,f=this.ta,g=this.dc,h=this.$z,k=0|g.F,l=-g.H-e.height,m=this.ep;h.width=e.width*c;h.height=e.height*d;if(this.hc||this.ic)a.save(),this.hc&&(k=-g.F-e.width,a.scale(-1,1)),this.ic&&(l=g.H,a.scale(1,-1));k*=c;l*=d;this.Ea&&m.ot?(f=this.Ea.Gc,this.Su?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,
m.height,k,l,h.width,h.height)):0!==f.Ga&&(h=this.wd(),a.fillStyle="rgba("+h.p+","+h.o+","+h.g+",1)",a.fillRect(k,l,f.Ga*c,f.sa*d));1===q.xk?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Yf.ge(k,4,!0)):2===q.xk&&(a.strokeStyle="rgba(0,255,0,1)",c=this.xa.bb,l=-l,k=[q.a(k,l),q.a(k+c.width,l),q.a(k+c.width,l-c.height),q.a(k,l-c.height)],q.Yf.ge(k,4,!0));(this.hc||this.ic)&&a.restore();q.bi++}}});
q.Fa.Pc?(b=q.A.prototype,b.oB=q.A.prototype.pQ,b.Gf=q.A.prototype.YP,b.bd=q.A.prototype.EQ,b.ctor=q.A.prototype.Jh,b.Bl=q.A.prototype.MP,b.t=q.A.prototype.tA,b.La=q.A.prototype.pr,b.ew=q.A.prototype.uQ,b.Mb=q.A.prototype.PG,b.gg=q.A.prototype.MQ,b.f=q.A.prototype.sz,b.ga=q.A.prototype.iB,b.l=q.A.prototype.fB,b.ad=q.A.prototype.DQ,b.Wp=q.A.prototype.SP,b.eJ=q.A.prototype.TO,b.Ae=q.A.prototype.KP,b.ba=q.A.prototype.Mr,b.Va=q.A.prototype.rg):(b=q.A.prototype,b.oB=q.A.prototype.oQ,b.Gf=q.A.prototype.XP,
b.bd=q.A.prototype.hH,b.ctor=q.A.prototype.Ih,b.Bl=q.A.prototype.LP,b.t=q.A.prototype.sA,b.La=q.A.prototype.or,b.ew=q.A.prototype.tQ,b.Mb=q.A.prototype.kB,b.gg=q.A.prototype.LQ,b.f=q.A.prototype.rz,b.ga=q.A.prototype.Kr,b.l=q.A.prototype.Ir,b.ad=q.A.prototype.CB,b.Wp=q.A.prototype.RP,b.eJ=q.A.prototype.SO,b.Ae=q.A.prototype.JP,b.ba=q.A.prototype.Lr,b.Va=q.A.prototype.hm);
q.A.gb=function(a,c){var d=arguments.length,e=new q.A;switch(d){case 1:return e&&e.La(a)?e:null;case 2:return e&&e.La(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.A.create=function(a,c){var d=arguments.length,e=new q.A;if(0===d){if(e.t())return e}else if(e&&e.t(a,c))return e;return null};
q.A.OH=function(a){var c=null;if("string"==typeof a){if(c=q.mg.e().uh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.A)&&a.we(c)?a:null};q.A.NH=function(a){var c=new q.A;return c&&c.we(a)?c:null};q.kj=q.Da.extend({Pr:null,Xd:0,hs:null,ctor:function(){this.Xd=0},G:function(){var a=new q.kj;a.we(this.Pr.G(),this.Xd,this.hs);return a},zw:function(){return q.G(this)},copy:function(){var a=new q.kj;a.we(this.Pr.G(),this.Xd,this.hs);return a},we:function(a,c,d){this.Pr=a;this.Xd=c;this.hs=d;return!0},uh:function(){return this.Pr},Hf:function(a){this.Pr=a},m4:function(){return this.Xd},saa:function(a){this.Xd=a},N6:function(){return this.hs},Wba:function(a){this.hs=a}});
q.jj=q.Da.extend({Zd:null,Kj:0,vm:!1,wa:0,Xd:0,Im:0,ctor:function(){this.Zd=[]},E4:function(){return this.Zd},wK:function(a){this.Zd=a},QB:function(a){var c=new q.kj;c.we(a,1,null);this.Zd.push(c);this.Im++},y1:function(a){a=q.ia.e().pa(a);var c=q.dd();c.bb=a.d();a=q.Ed.gb(a,c);this.QB(a)},z1:function(a,c){var d=q.Ed.gb(a,c);this.QB(d)},Gs:function(a,c,d){q.st(a,q.kj);this.Xd=c;this.Kj=d;this.wK([]);for(c=0;c<a.length;c++)d=a[c],this.Zd.push(d),this.Im+=d.Xd;return!0},G:function(){var a=new q.jj;
a.Gs(this.TF(),this.Xd,this.Kj);a.Hx(this.vm);return a},zw:function(){var a=new q.jj;a.Gs(this.TF(),this.Xd,this.Kj);a.Hx(this.vm);return a},TF:function(){for(var a=[],c=0;c<this.Zd.length;c++)a.push(this.Zd[c].G());return a},copy:function(){return this.zw(null)},U4:function(){return this.Kj},Paa:function(a){this.Kj=a},Hx:function(a){this.vm=a},Z5:function(){return this.vm},xf:function(){return this.Im*this.Xd},l4:function(){return this.Xd},raa:function(a){this.Xd=a},F6:function(){return this.Im},
WI:function(a,c){q.st(a,q.Ed);this.Kj=1;this.Xd=c||0;this.wK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.kj;f.we(e,1,null);this.Zd.push(f);this.Im++}return!0},bK:function(){},tD:function(){}});q.jj.create=function(a,c,d){var e=arguments.length,f=new q.jj;0==e?f.WI(null,0):2==e?f.WI(a,c||0):3==e&&f.Gs(a,c,d);return f};q.jj.MH=function(a,c,d){var e=new q.jj;e.Gs(a,c,d);return e};q.Pl=q.Da.extend({tH:function(a,c){this.bm[c]=a},x$:function(a){a&&this.bm.hasOwnProperty(a)&&delete this.bm[a]},nI:function(a){return this.bm.hasOwnProperty(a)?this.bm[a]:null},GN:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.mg.e(),h=q.Dd.e(),k,l=0;l<f.length;l++)k=h.mI(f[l],c),g.AH(k);switch(e){case 1:this.mP(d);break;case 2:this.nP(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
o1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.Dd.e(),d=c.le(a);(c=c.Bw(d))?this.GN(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},mP:function(a){var c=q.mg.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.uh(f[h]);if(k){var l=new q.kj;l.we(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.jj.MH(g,e,1),q.Pl.e().tH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
nP:function(a){var c=q.mg.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.Wl:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.uh(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,p=new q.kj;p.we(r,n,m);k.push(p)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.jj;h.Gs(k,e,f);h.Hx(g);q.Pl.e().tH(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},t:function(){this.bm={};return!0},bm:null});q.Pl.mV=function(){q.xn&&(q.xn.bm=null,q.xn=null)};q.Pl.e=function(){null===q.xn&&(q.xn=new q.Pl,q.xn.t());return q.xn};q.xn=null;q.Ed=q.Da.extend({Ib:null,hd:null,Ne:null,jd:!1,xa:null,Of:null,qf:null,Ea:null,dp:"",qb:!1,bv:null,ctor:function(){this.Ib=q.td();this.Of=q.td();this.hd=q.Am();this.jd=!1;this.qf=q.Am();this.dp="";this.Ea=null;this.qb=!1},mL:function(){return this.qb},Vf:function(a,c){null==this.bv&&(this.bv=[]);this.bv.push({bk:a,ai:c})},Vd:function(){var a=this.bv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ai,this)}a.length=0}},XS:function(){var a=this.Ne;return q.rect(a.x,a.y,a.width,a.height)},
tba:function(a){this.Ne||(this.Ne=q.rect(0,0,0,0));this.Ne.x=a.x;this.Ne.y=a.y;this.Ne.width=a.width;this.Ne.height=a.height;this.xa=q.pq(a)},f8:function(){return this.jd},Bba:function(a){this.jd=a},pe:function(){var a=this.xa;return q.rect(a.x,a.y,a.width,a.height)},GK:function(a){this.xa||(this.xa=q.rect(0,0,0,0));this.xa.x=a.x;this.xa.y=a.y;this.xa.width=a.width;this.xa.height=a.height;this.Ne=q.Vn(this.xa)},u5:function(){return this.Of},cba:function(a){this.Of.F=a.x;this.Of.H=a.y;q.Cu(this.Of,
this.Ib)},B5:function(){return this.qf},fba:function(a){this.qf.Ga=a.width;this.qf.sa=a.height},RS:function(){return this.hd},eba:function(a){this.hd.Ga=a.width;this.hd.sa=a.height},aa:function(){if(this.Ea)return this.Ea;if(""!==this.dp){var a=q.ia.e().pa(this.dp);a&&(this.qb=a.Hg());return a}return null},ba:function(a){if(this.Ea!=a){var c=a.Hg();this.qb=c;this.Ea=a;c||a.Vf(function(a){this.qb=!0;if(this.jd&&q.zd===q.ig){var c=a.Gc,c=q.PH(c,this.pe()),f=new q.Yb;f.Bf(c);f.ve();this.ba(f);c=this.pe();
this.GK(q.rect(0,0,c.width,c.height))}c=this.xa;0===c.width&&0===c.height&&(a=a.d(),this.xa.width=a.width,this.xa.height=a.height,this.Ne=q.Vn(this.xa),this.qf.Ga=this.Ne.width,this.qf.sa=this.Ne.height,this.hd.Ga=a.width,this.hd.sa=a.height);this.Vd()},this)}},t5:function(){return this.Ib},bba:function(a){this.Ib.F=a.x;this.Ib.H=a.y},G:function(){var a=new q.Ed;a.Xw(this.dp,this.Ne,this.jd,this.Of,this.qf);a.ba(this.Ea);return a},zw:function(){var a=new q.Ed;a.Xw(this.dp,this.Ne,this.jd,this.Of,
this.qf);a.ba(this.Ea);return a},copy:function(){return this.zw()},La:function(a,c,d,e,f){2===arguments.length&&(c=q.Vn(c));e=e||q.a(0,0);f=f||c.bb;this.ba(a);this.Ne=c;this.xa=q.pq(c);this.Of.F=e.x;this.Of.H=e.y;q.Cu(e,this.Ib);this.qf.Ga=f.width;this.qf.sa=f.height;q.kz(f,this.hd);this.jd=d||!1;return!0},Xw:function(a,c,d,e,f){2===arguments.length&&(c=q.Vn(c));e=e||q.a(0,0);f=f||c.bb;this.Ea=null;this.dp=a;this.Ne=c;this.xa=q.pq(c);this.jd=d||!1;this.Of.F=e.x;this.Of.H=e.y;q.Cu(e,this.Ib);this.qf.Ga=
f.width;this.qf.sa=f.height;q.kz(f,this.hd);return!0}});q.Ed.create=function(a,c,d,e,f){var g=new q.Ed;switch(arguments.length){case 2:g.Xw(a,c);break;case 5:g.Xw(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.Ed.gb=function(a,c,d,e,f){var g=new q.Ed;switch(arguments.length){case 2:g.La(a,c);break;case 5:g.La(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.Ed.I0=function(a,c,d,e,f){var g=new q.Ed;g.Ea=a;g.Ne=c;g.xa=q.pq(c);g.Of.F=e.x;g.Of.H=e.y;q.Cu(g.Of,g.Ib);g.qf.Ga=f.width;g.qf.sa=f.height;q.kz(g.qf,g.hd);g.jd=d;return g};q.mg=q.Da.extend({Pe:null,Zk:null,ur:null,ctor:function(){this.Pe={};this.Zk={};this.ur=[]},uz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.Pe[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),p=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);p&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");p=Math.abs(p);d=Math.abs(d);h=q.Ed.gb(c,q.rect(h,k,l,m),!1,q.a(n,r),q.size(p,d))}else if(1==f||2==f)h=q.gF(d.frame),k=!1,2==f&&(k=d.rotated),l=q.fF(d.offset),d=q.Xy(d.sourceSize),h=q.Ed.gb(c,h,k,l,d);else if(3==f){var h=q.Xy(d.spriteSize),k=q.fF(d.spriteOffset),l=q.Xy(d.spriteSourceSize),m=q.gF(d.textureRect),n=d.textureRotated,
r=d.aliases,p=g.toString(),t;for(t in r)this.Zk.hasOwnProperty(r[t])&&q.log("cocos2d: WARNING: an alias with name "+t+" already exists"),this.Zk[r[t]]=p;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.Ed.gb(c,m,n,k,l)}else var x=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.BL,k.ue),d=d.rotated,l=q.a(0,0),h=q.size(h.BL,h.ue),h=q.Ed.gb(c,k,d,l,h);q.zd===q.ig&&h.jd&&h.aa().Hg()&&(d=h.aa().Gc,d=q.PH(d,h.XS()),k=new q.Yb,k.Bf(d),k.ve(),h.ba(k),d=h.xa,h.GK(q.rect(0,0,
d.width,d.height)));this.Pe[null!=x?x:g]=h}}},AH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.Dd.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.le(a),e=d.Bw(e)):e=JSON.parse(d.xI(a));switch(arguments.length){case 1:if(!q.ky(this.ur,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.mI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.ia.e().pa(f))?this.uz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.Yb)this.uz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.ia.e().pa(c))?this.uz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},QB:function(a,c){this.Pe[c]=a},G$:function(){this.Pe=[];this.Zk=[];this.ur={}},F$:function(a){a&&(this.Zk.hasOwnProperty(a)&&delete this.Zk[a],this.Pe.hasOwnProperty(a)&&delete this.Pe[a],this.ur={})},H$:function(a){var c=
q.Dd.e(),d=c.le(a),c=c.Bw(d);this.xP(c);q.ky(this.ur,a)&&q.Pd(a)},xP:function(a){a=a.frames;for(var c in a)this.Pe.hasOwnProperty(c)&&delete this.Pe[c]},I$:function(a){for(var c in this.Pe){var d=this.Pe[c];d&&d.aa()==a&&delete this.Pe[c]}},uh:function(a){var c;this.Pe.hasOwnProperty(a)&&(c=this.Pe[a]);if(!c){var d;this.Zk.hasOwnProperty(a)&&(d=this.Zk[a]);d&&(this.Pe.hasOwnProperty(d.toString())&&(c=this.Pe[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.wx=null;q.mg.e=function(){q.wx||(q.wx=new q.mg);return q.wx};q.mg.nV=function(){q.wx=null};q.nq=29;
q.ub=q.D.extend({Ra:null,fa:null,rd:null,A1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.A))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.ze(c);var e=0,f=this.rd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Vc>=c&&++e}this.rd=q.Ql(f,a,e);q.D.prototype.f.call(this,a,c,d);this.YJ(!1);return this},yI:function(){return this.Ra},aq:function(a){a!=this.Ra&&
(this.Ra=a)},p4:function(){return this.rd},$i:function(a,c){var d=q.ia.e().Yx(a);d||(d=q.ia.e().pa(a));return this.La(d,c)},ym:function(){this.PF=!0},t:function(a,c){var d=q.ia.e().Yx(a);d||(d=q.ia.e().pa(a));return this.La(d,c)},Sw:function(){var a=this.Ra.ed,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ra.TV(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},z$:function(a,c){this.removeChild(this.u[a],c)},
QJ:function(a,c){var d=a.u;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.eb&&(c=this.QJ(f,c))}!a==this&&(a.ze(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.eb&&(c=this.QJ(f,c));return c},HC:function(a){var c=a.u;return c&&0!=c.length?this.HC(c[c.length-1]):a.Vc},qU:function(a){var c=a.u;return c&&0!=c.length?this.qU(c[c.length-1]):a.Vc},eR:function(a,c){var d=a.getParent().u,e=q.my(d,a),f=a.getParent()==this,g=null;0<e&&e<q.nN&&(g=d[e-1]);if(f)return 0==e?0:this.HC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Vc:d.Vc+1;if(0>g.eb&&0>c||0<=g.eb&&0<=c)return this.HC(g)+1;d=a.getParent();return d.Vc+1},YJ:function(a){this.ce=a},Bl:function(a,c){this.fa=1==arguments.length?a:{src:a,Gb:c}},ts:function(){return this.fa},Vs:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.u.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.eb&&(q.D.prototype.Vs.call(this,a,c),this.Wa())},removeChild:function(a,
c){null!=a&&(-1===this.u.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.un(a),q.D.prototype.removeChild.call(this,a,c)))},cP:null,Gm:null,k1:!1,sg:null,ctor:null,Ih:function(a){q.D.prototype.ctor.call(this);a&&this.t(a,q.nq)},Jh:function(a){q.D.prototype.ctor.call(this);this.cP=new q.wh;a&&this.t(a,q.nq)},xL:null,IQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.A?(a.Ae(this),a.ze(c),
a.Mg(!0),a.gg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},JQ:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.A){for(var d=this.Ra.ed;c>=d||d==this.Ra.Ta;)this.Sw();a.Ae(this);a.ze(c);a.Mg(!0);a.gg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},aw:function(a,c){var d=this.rd,e=this.Ra,f=e.Le,g=d[a],
h=q.hz(f[a]);d[c].ze(a);d[a]=d[c];e.dy(f[c],a);d[c]=g;e.dy(h,c)},XI:null,QO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.A?(a.Ae(this),a.ze(c),a.Mg(!0),a.gg(),this.u=q.Ql(this.u,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},RO:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.A){for(var d=this.Ra;c>=d.ed||
d.ed===d.Ta;)this.Sw();a.Ae(this);a.ze(c);d.QC(a.Jb,c);a.Mg(!0);a.gg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},gH:function(a,c){var d=0,e=a.u;e&&(d=e.length);var f=0;if(0===d)f=a.Vc,a.ze(c),a.Yp(0),f!=c&&this.aw(f,c),c++;else{f=!0;0<=e[0].eb&&(f=a.Vc,a.ze(c),a.Yp(0),f!=c&&this.aw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.eb&&(f=a.Vc,a.ze(c),a.Yp(0),f!=c&&this.aw(f,c),c++,f=!1);c=this.gH(g,c)}f&&(f=a.Vc,a.ze(c),
a.Yp(0),f!=c&&this.aw(f,c),c++)}return c},Lm:function(){this.Ra.aa().Fs()||(this.fa.src=770,this.fa.Gb=771)},La:null,or:function(a){this.u=[];this.rd=[];this.fa=new q.Sl(q.De,q.Ce);this.Gm=this.sg=a;return!0},pr:function(a,c){this.u=[];this.rd=[];this.fa=new q.Sl(q.De,q.Ce);c=c||q.nq;this.Ra=new q.ao;this.Ra.La(a,c);this.Lm();this.Ng(q.Gh.e().li(q.Ty));return!0},VT:function(a,c){a.Ae(this);a.ze(c);a.Mg(!0);var d=this.Ra;d.Ta>=d.ed&&this.Sw();d.QC(a.Jb,c);this.rd=q.Ql(this.rd,a,c);var d=c+1,e=this.rd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].ze(e[d].Vc+1);if((e=a.u)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.eR(e[d],e[d].eb);this.VT(e[d],f)}},appendChild:null,NN:function(a){this.ce=!0;a.Ae(this);a.Mg(!0);this.rd.push(a);a.ze(this.rd.length-1);a=a.u;for(var c=0;c<a.length;c++)this.appendChild(a[c])},ON:function(a){this.ce=!0;a.Ae(this);a.Mg(!0);this.rd.push(a);var c=this.rd.length-1;a.ze(c);var d=this.Ra;d.Ta==d.ed&&this.Sw();d.QC(a.Jb,c);a=a.u;for(c=0;c<a.length;c++)this.appendChild(a[c])},
un:null,yP:function(a){a.Ae(null);var c=this.rd,d=q.my(c,a);if(-1!=d){q.iq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ze(f.Vc-1)}}if((a=a.u)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.un(a[c])},zP:function(a){this.Ra.NV(a.Vc);a.Ae(null);var c=this.rd,d=q.my(c,a);if(-1!=d){q.iq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.ze(f.Vc-1)}}if((a=a.u)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.un(a[c])},aa:null,nA:function(){return this.Gm},oA:function(){return this.Ra.aa()},ba:null,Lr:function(a){this.Gm=
a;for(var c=this.u,d=0;d<c.length;d++)c[d].ba(a)},Mr:function(a){this.Ra.ba(a);this.Lm()},qa:null,Mm:function(a){var c=a||q.V;if(this.ka){c.save();this.transform(a);var d=this.u;if(d)for(this.Nd(),a=0;a<d.length;a++)d[a]&&d[a].qa(c);c.restore()}},Nm:function(a){a=a||q.V;if(this.ka){q.Mp();var c=this.Lk;c&&c.Ip()&&(c.VB(),this.by());this.Nd();this.transform(a);this.Va(a);c&&c.Ip()&&c.RB(this);q.Lp();this.Yp(0)}},f:null,rz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.A?(c=null==c?a.eb:c,d=null==d?a.ld:d,q.D.prototype.f.call(this,a,c,d),this.appendChild(a),this.Wa()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},sz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.A?a.aa()!=this.Ra.aa()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.eb:c,d=null==d?a.ld:d,q.D.prototype.f.call(this,a,c,d),this.appendChild(a),
this.Wa()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},uc:null,uP:function(a){var c=this.rd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ae(null);q.D.prototype.uc.call(this,a);this.rd=[]},vP:function(a){var c=this.rd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Ae(null);q.D.prototype.uc.call(this,a);this.rd=[];this.Ra.HV()},Nd:null,mQ:function(){if(this.ce){var a,c=0,d=this.u,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.eb<f.eb||g.eb==f.eb&&g.Pf<f.Pf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.og(d,q.D.Kf.Nd);this.ce=!1}},nQ:function(){if(this.ce){var a=this.u,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.eb<f.eb||g.eb==f.eb&&g.Pf<f.Pf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.og(a,q.D.Kf.Nd),c=d=0;c<a.length;c++)d=this.gH(a[c],d);this.ce=!1}},Va:null,rg:function(){0!==this.Ra.Ta&&(this.Hc.lf(),this.Hc.Pg(),this.og(this.u,q.D.Kf.gg),q.ck(this.fa.src,
this.fa.Gb),this.Ra.gS())}});
q.Fa.Pc?(b=q.ub.prototype,b.ctor=q.ub.prototype.Jh,b.xL=q.ub.prototype.JQ,b.XI=q.ub.prototype.RO,b.La=q.ub.prototype.pr,b.appendChild=q.ub.prototype.ON,b.un=q.ub.prototype.zP,b.aa=q.ub.prototype.oA,b.ba=q.ub.prototype.Mr,b.qa=q.ub.prototype.Nm,b.f=q.ub.prototype.sz,b.uc=q.ub.prototype.vP,b.Nd=q.ub.prototype.nQ,b.Va=q.ub.prototype.rg):(b=q.ub.prototype,b.ctor=q.ub.prototype.Ih,b.xL=q.ub.prototype.IQ,b.XI=q.ub.prototype.QO,b.La=q.ub.prototype.or,b.appendChild=q.ub.prototype.NN,b.un=q.ub.prototype.yP,
b.aa=q.ub.prototype.nA,b.ba=q.ub.prototype.Lr,b.qa=q.ub.prototype.Mm,b.uc=q.ub.prototype.uP,b.f=q.ub.prototype.rz,b.Nd=q.ub.prototype.mQ,b.Va=q.D.prototype.Va);q.ub.create=function(a,c){c=c||q.nq;var d=new q.ub;d.t(a,c);return d};q.ub.gb=function(a,c){c=c||q.nq;var d=new q.ub;d.La(a,c);return d};q.bZ={ZY:0,aZ:1,$Y:2,YY:3,XY:4};
q.Ee=q.Da.extend({wr:0,sG:0,Vr:!1,Ur:!1,Xv:!1,Yv:!1,Zv:!1,$O:0,zv:0,Cq:"",Wj:null,ctor:function(){this.sG=this.wr=0;this.Zv=this.Yv=this.Xv=this.Ur=this.Vr=!1;this.zv=this.$O=0;this.Cq="";this.Wj={}},a5:function(){return this.wr},Z4:function(){return this.sG},b5:function(){return this.zv},Aca:function(){return this.Ur},Bca:function(){return this.Vr},yca:function(){return this.Xv},zca:function(){return this.Yv},Cca:function(){return this.Zv},pp:function(a){return-1<this.Cq.indexOf(a)},t:function(){var a=
this.Wj;a["cocos2d.x.version"]=q.yt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.KE;return!0},S3:function(a,c){var d=this.Wj;return d.hasOwnProperty(a)?d[a]:c},N3:function(a,c){null==c&&(c=!1);var d=this.Wj;return d.hasOwnProperty(a)?d[a]:c},l5:function(a,c){null==c&&(c=0);var d=this.Wj;return d.hasOwnProperty(a)?d[a]:c},n5:function(a){var c=this.Wj;return c.hasOwnProperty(a)?c[a]:null},ZW:function(a,c){this.Wj[a]=c},kS:function(){0===q.KE&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},wS:function(){if(q.zd!==q.ig){var a=q.V,c=this.Wj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Cq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Cq+=d[e]+" ";this.wr=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.wr;this.zv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.zv;this.Vr=this.pp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Vr;this.Ur=!1;c["gl.supports_NPOT"]=this.Ur;this.Xv=this.pp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Xv;this.Yv=this.pp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Yv;this.Zv=this.pp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Zv;q.tE()}},L8:function(a){var c=q.Dd.e(),d=c.le(a),c=c.Bw(d);if(null!=c)if(c=c.data)for(var e in c)this.Wj[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Ee.Or=null;
q.Ee.e=function(){q.Ee.Or||(q.Ee.Or=new q.Ee,q.Ee.Or.t());return q.Ee.Or};q.Ee.d$=function(){q.Ee.Or=null};q.bi=0;q.WL=0;q.HE=1;q.XL=3;q.YL=q.HE;q.gZ=0;q.eZ=1;q.hZ=2;q.fZ=3;q.dZ=2;q.kZ=q.Da.extend({ida:function(){}});q.LE=function(a){var c=new q.wh;q.iU(q.$t,c);var d=new q.wh;q.iU(q.Zt,d);q.lU(a,c,d)};
q.W=q.Da.extend({U0:!1,Ar:!1,tm:!1,Mv:!1,xm:!1,$g:0,EA:0,Xk:0,eo:0,gm:1,Wq:!1,Hk:0,ev:0,Ak:null,Ck:null,Ik:null,Qb:null,Jj:null,Ki:null,Ev:null,gh:null,Ri:null,QA:null,kd:null,Zd:0,yB:0,eB:0,F0:null,yg:null,Zg:null,Te:null,zA:null,Hu:null,yr:null,T0:!1,ctor:function(){this.Jj=Date.now();if(!q.RC){var a=this;window.addEventListener("focus",function(){a.Jj=Date.now()},!1)}},EP:function(){this.Jj=Date.now()},t:function(){this.EA=this.$g=1/q.OR;this.Ri=[];this.Xk=q.YL;this.QA=null;this.ev=this.eo=0;this.Wq=
!1;this.yB=this.Zd=0;this.Jj=Date.now();this.Mv=this.tm=!1;this.Qb=q.Am();this.gh=null;this.gm=1;this.yg=new q.aN;this.Zg=new q.HL;this.yg.dK(this.Zg,q.cu,!1);q.ja&&(this.Te=new q.ja,this.Te.t());q.Tn&&(this.zA=q.Tn.e());q.tk&&(this.Hu=new q.tk);q.Td&&(this.yr=new q.Td,this.yr.t());return!0},iR:function(){var a=Date.now();this.Ar?(this.Hk=0,this.Ar=!1):this.Hk=(a-this.Jj)/1E3;0<q.vt&&0.2<this.Hk&&(this.Hk=1/60);this.Jj=a},GR:function(a){var c=new q.wh;q.LE(c);var d=new q.wh;q.D8(d,c);var c=c.xh[14]/
c.xh[15],e=this.gh.yp();a=new q.Np(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.Np;q.nU(c,a,d);return q.a(c.x,c.y)},IR:function(a){var c=new q.wh;q.LE(c);var d=new q.Np;a=new q.Np(a.x,a.y,0);q.nU(d,a,c);c=this.gh.yp();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},hS:function(){this.iR();this.tm||this.yg.update(this.Hk);this.RF();this.Ki&&this.YW();this.zz&&this.zz();this.kd&&this.kd.qa();this.Ev&&this.Ev.qa();this.Wq&&this.lQ();this.vz&&this.vz();this.yB++;this.Wq&&this.VN()},cO:function(){var a=
this.gh.Ve;q.V.clearRect(-a.x,a.y,a.width,-a.height)},jO:function(){var a=q.V;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},zz:null,vz:null,QN:function(){q.Mp()},MN:function(){q.Lp()},end:function(){this.Mv=!0},e4:function(){return this.gm},k5:function(){return this.Ev},X6:function(){return this.Qb},mT:function(){return q.size(this.Qb.width*this.gm,this.Qb.height*this.gm)},Cs:function(){return this.gh?this.gh.Cs():this.Qb},EI:function(){return this.gh?this.gh.EI():q.PM},Es:function(){return this.Qb.height/
1.1566},pause:function(){this.tm||(this.EA=this.$g,this.Ys(0.25),this.tm=!0)},X9:function(){if(!this.kd)throw"running scene should not null";this.Ri.pop();var a=this.Ri.length;0==a?this.end():(this.xm=!0,this.Ki=this.Ri[a-1])},mD:function(){q.Gy.mD()},lV:function(){this.zf().kt();this.Te&&this.Te.GV();this.kd&&(this.kd.yh(),this.kd.Md(),this.kd.Xf());this.Ki=this.kd=null;this.Ri=[];this.fL();q.Gy.mD();q.Pl.mV();q.mg.nV();q.ia.oV();q.tE()},pV:function(a){if(!a)throw"the scene should not null";this.xm=
!1;this.Ri.push(a);this.Ki=a},ZJ:function(a){if(!this.kd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Ri.length;0===c?(this.xm=!0,this.Ri[c]=a):(this.xm=!0,this.Ri[c-1]=a);this.Ki=a},aK:function(){this.tm&&(this.Ys(this.EA),(this.Jj=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.tm=!1,this.Hk=0)},aW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.kd)throw"_runningScene should be null";
this.pV(a);this.dL()},oW:function(a){a?q.ck(q.De,q.Ce):q.ck(q.V.ONE,q.V.ZERO)},yW:function(a){a!=this.gm&&(this.gm=a,this.xo())},DW:function(a){if(q.zd!==q.ig){var c=q.V;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},qaa:function(){},xK:function(){this.oW(!0);this.DW(!1);this.Gx(this.Xk);q.V.clearColor(0,0,0,1)},Yaa:function(a){this.Ar=a},YW:function(){var a=!1,c=!1;q.wF&&(a=this.kd?this.kd instanceof q.wF:!1,c=this.Ki?this.Ki instanceof q.wF:!1);if(!c){if(c=
this.kd)c.yh(),c.Md();this.xm&&c&&c.Xf()}this.kd=this.Ki;this.Ki=null;a||null==this.kd||(this.kd.Kg(),this.kd.ii())},Zaa:function(a){this.Ev=a},ec:function(){return this.QA},Ah:function(a){this.QA=a},dX:function(a){this.Qb.VD(q.canvas.width);this.Qb.JD(q.canvas.height);this.gh=a||q.ra.e();q.zd!==q.ig&&(a=q.Ee.e(),a.wS(),a.kS(),this.xo(),this.xK(),this.Te&&this.Te.EW(!0))},SK:function(){if(this.gh){var a=this.Qb;this.gh.zX(0,0,a.width,a.height)}},Gx:function(a){var c=this.Qb;if(q.zd===q.zk){this.SK();
switch(a){case q.WL:q.bn(q.$t);q.WC();var d=new q.wh;q.mU(d,0,c.width,0,c.height,-1024,1024);q.ax(d);q.bn(q.Zt);q.WC();break;case q.HE:var e=this.Es(),f=new q.wh,d=new q.wh;q.bn(q.$t);q.WC();q.E8(f,60,c.width/c.height,0.1,2*e);q.ax(f);q.bn(q.Zt);q.WC();e=q.Ks(null,c.width/2,c.height/2,e);c=q.Ks(null,c.width/2,c.height/2,0);f=q.Ks(null,0,1,0);q.kU(d,e,c,f);q.ax(d);break;case q.XL:break;default:q.log("cocos2d: Director: unrecognized projection")}this.Xk=a;q.pba()}else this.Xk=a},lQ:function(){this.Zd++;
this.eo+=this.Hk;this.Ak&&this.Ck&&this.Ik?(this.eo>q.VL&&(this.Ck.da(this.eB.toFixed(3)),this.ev=this.Zd/this.eo,this.eo=this.Zd=0,this.Ak.da(this.ev.toFixed(1)),this.Ik.da((0|q.bi).toString())),this.Ak.qa(),this.Ck.qa(),this.Ik.qa()):this.xo();q.bi=0},i8:function(){return this.xm},c6:function(){return this.kd},H3:function(){return this.$g},K7:function(){return this.Wq},uaa:function(a){this.Wq=a},h6:function(){return this.eB},z5:function(){return this.gh},V7:function(){return this.Ar},Z7:function(){return this.tm},
G6:function(){return this.yB},P5:function(){return this.Xk},Y9:function(){this.cV(1)},cV:function(a){if(!this.kd)throw"A running Scene is needed";var c=this.Ri,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.Oe&&(e.yh(),e.Md());e.Xf();d--}this.Ki=c[c.length-1];this.xm=!1}},zf:function(){return this.yg},oX:function(a){this.yg!=a&&(this.yg=a)},Dg:function(){return this.Zg},mW:function(a){this.Zg!=a&&(this.Zg=a)},I6:function(){return this.Te},Uba:function(a){this.Te!=a&&(this.Te=
a)},Lw:function(){if(!q.Tn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.zA},Naa:function(a){if(!q.Tn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.zA=a},wp:function(){if(!q.tk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.Hu},Y$:function(a){if(!q.tk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.Hu!=
a&&(this.Hu=a)},o4:function(){return this.Hk},yf:function(){if(!q.Td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.yr},Waa:function(a){if(!q.Td)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.yr!=a&&(this.yr=a)},xo:null,mO:function(){if(!q.Fy)return this.UF();if(null!=q.W.$F&&!1!=q.W.$F){var a=new q.Yb;a.Bf(q.W.fA);a.ve();var c=q.ra.e().yp().height/320;0===c&&(c=this.Qb.height/320);var d=new q.Fy;d.hB(!0);
d.nl("00.0",a,12,32,".");d.ok(c);this.Ak=d;d=new q.Fy;d.hB(!0);d.nl("0.000",a,12,32,".");d.ok(c);this.Ck=d;d=new q.Fy;d.hB(!0);d.nl("000",a,12,32,".");d.ok(c);this.Ik=d;a=q.IE;this.Ik.n(q.cg(q.a(0,34*c),a));this.Ck.n(q.cg(q.a(0,17*c),a));this.Ak.n(a)}},UF:function(){var a=0,a=this.Qb.width>this.Qb.height?0|this.Qb.height/320*24:0|this.Qb.width/320*24;this.Ak=q.R.create("000.0","Arial",a);this.Ck=q.R.create("0.000","Arial",a);this.Ik=q.R.create("0000","Arial",a);var a=q.IE,c=this.Ik.d();this.Ik.n(q.cg(q.a(c.width/
2,5*c.height/2),a));c=this.Ck.d();this.Ck.n(q.cg(q.a(c.width/2,3*c.height/2),a));c=this.Ak.d();this.Ak.n(q.cg(q.a(c.width/2,c.height/2),a))},VN:function(){this.eB=(Date.now()-this.Jj)/1E3}});q.Fa.Pc?(q.W.prototype.RF=q.W.prototype.jO,q.W.prototype.zz=q.W.prototype.QN,q.W.prototype.vz=q.W.prototype.MN,q.W.prototype.xo=q.W.prototype.mO):(q.W.prototype.RF=q.W.prototype.cO,q.W.prototype.xo=q.W.prototype.UF);
q.ZL=q.W.extend({Yw:!1,dL:function(){this.Ar=!0;this.Yw=!1;q.lj.e().Ys(this.$g)},qJ:function(){this.Mv?(this.Mv=!1,this.lV()):this.Yw||this.hS()},fL:function(){this.Yw=!0},Ys:function(a){this.$g=a;this.Yw||(this.fL(),this.dL())}});q.vx=null;q.gI=!0;q.W.e=function(){q.gI&&(q.gI=!1,q.vx=new q.ZL,q.vx.t(),q.vx.dX(q.ra.e()));return q.vx};Object.defineProperties(q,{xda:{get:function(){return q.$R.Qb},enumerable:!0}});q.u3=!0;q.OR=60;q.W.fA=new Image;
q.W.fA.addEventListener("load",function(){q.W.$F=!0;this.removeEventListener("load",arguments.callee,!1)});q.W.fA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.lq=q.Da.extend({fr:null,gr:null,hr:null,so:null,to:null,uo:null,es:null,fs:null,gs:null,Ia:null,vv:null,ctor:function(){this.vv=new q.wh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.so+","+this.to+","+this.uo+")\x3e"},Mg:function(a){this.Ia=a},cJ:function(){return this.Ia},restore:function(){this.fr=this.gr=0;this.hr=q.lq.Es();this.es=this.so=this.to=this.uo=0;this.fs=1;this.gs=0;q.C8(this.vv);this.Ia=!1},lJ:function(){if(this.Ia){var a=new q.Np,c=new q.Np,d=new q.Np;
q.Ks(a,this.fr,this.gr,this.hr);q.Ks(c,this.so,this.to,this.uo);q.Ks(d,this.es,this.fs,this.gs);q.kU(this.vv,a,c,d);this.Ia=!1}q.ax(this.vv)},yaa:function(a,c,d){this.uK(a,c,d)},uK:function(a,c,d){this.fr=a;this.gr=c;this.hr=d;this.Ia=!0},haa:function(a,c,d){this.uW(a,c,d)},uW:function(a,c,d){this.so=a;this.to=c;this.uo=d;this.Ia=!0},Vba:function(a,c,d){this.yX(a,c,d)},yX:function(a,c,d){this.es=a;this.fs=c;this.gs=d;this.Ia=!0},w4:function(){return{x:this.fr,y:this.gr,z:this.hr}},rI:function(){return{x:this.fr,
y:this.gr,z:this.hr}},V3:function(){return{x:this.so,y:this.to,z:this.uo}},pI:function(){return{x:this.so,y:this.to,z:this.uo}},M6:function(){return{x:this.es,y:this.fs,z:this.gs}},kT:function(){return{x:this.es,y:this.fs,z:this.gs}},p0:function(){}});q.lq.Es=function(){return q.Tt};q.cu=-2147483648;q.m_=q.cu+1;q.st=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.iq=function(a,c){a.splice(c,1)};q.Pd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.NY=function(a,c){for(var d=0,e=c.length;d<e;d++)q.Pd(a,c[d])};q.MY=function(a,c){return a.indexOf(c)};q.KY=function(a,c){a.push(c)};q.Ql=function(a,c,d){a.splice(d,0,c);return a};
q.LY=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.my=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.ky=function(a,c){return-1!=a.indexOf(c)};q.FZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.QE=function(a,c,d){this.next=null;this.target=a;this.LJ=c;this.paused=d;this.vl=!1};q.ME=function(a,c,d){this.list=a;this.Xm=c;this.target=d;this.FC=null};
q.lM=function(a,c){this.fg=null;this.target=a;this.eq=0;this.os=this.ns=null;this.paused=c;this.FC=null};
q.tu=q.Da.extend({Ij:0,Rf:null,P:null,cc:0,KG:!1,pw:!1,fp:0,YA:0,Yu:0,ctor:function(){},R4:function(){return this.Ij},setInterval:function(){},i6:function(){return this.Rf},Gg:function(a,c,d,e,f){this.P=a;this.Rf=c;this.cc=-1;this.Ij=d||0;this.Yu=f||0;this.pw=0<this.Yu;this.YA=null==e?q.Wl:e;this.KG=this.YA==q.Wl;return!0},Cz:function(){if("string"==typeof this.Rf)this.P[this.Rf](this.cc);else this.Rf.call(this.P,this.cc)},update:function(a){if(-1==this.cc)this.fp=this.cc=0;else{var c=this.P,d=this.Rf;
this.KG&&!this.pw?(this.cc+=a,this.cc>=this.Ij&&(c&&d&&this.Cz(),this.cc=0)):(this.cc+=a,this.pw?this.cc>=this.Yu&&(c&&d&&this.Cz(),this.cc-=this.Yu,this.fp+=1,this.pw=!1):this.cc>=this.Ij&&(c&&d&&this.Cz(),this.cc=0,this.fp+=1),this.fp>this.YA&&q.W.e().zf().qL(c,d))}}});q.tu.Wca=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.tu;e.Gg(a,c,d||0,q.Wl,0);return e};q.c1=null;
q.aN=q.Da.extend({Yr:1,ph:null,Wh:null,Ag:null,Fj:null,Ju:null,Ej:null,B0:null,of:null,Di:!1,mw:!1,ctor:function(){this.Yr=1;this.ph=[];this.Wh=[];this.Ag=[];this.Fj={};this.Ju=[];this.Ej={};this.Dk=[];this.of=null;this.mw=this.Di=!1},XA:function(a){delete this.Ej[a.target.bc];q.Pd(this.Dk,a);a.tu=null;a.target=null},H0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Ov:function(a){if(a=this.Fj[a.target.bc])q.Pd(a.list,a.Xm),delete this.Fj[a.target.bc],q.Pd(this.Ju,
a),a.Xm=null,a.target=null},DG:function(a,c,d,e){e=new q.QE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].LJ){a=q.Ql(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.ME(a,e,c);this.Ju.push(d);this.Fj[c.bc]=d;return a},PN:function(a,c,d){d=new q.QE(c,0,d);a.push(d);a=new q.ME(a,d,c);this.Ju.push(a);this.Fj[c.bc]=a},Pba:function(a){this.Yr=a},B6:function(){return this.Yr},update:function(a){this.mw=!0;1!=this.Yr&&(a*=this.Yr);var c,d;for(d=0;d<this.ph.length;d++)c=this.ph[d],c.paused||
c.vl||c.target.update(a);for(d=0;d<this.Wh.length;d++)c=this.Wh[d],c.paused||c.vl||c.target.update(a);for(d=0;d<this.Ag.length;d++)c=this.Ag[d],c.paused||c.vl||c.target.update(a);for(d=0;d<this.Dk.length;d++){c=this.of=this.Dk[d];this.Di=!1;if(!this.of.paused)for(c.eq=0;c.eq<c.fg.length;c.eq++)c.ns=c.fg[c.eq],c.os=!1,c.ns.update(a),c.ns=null;this.Di&&0==this.of.fg.length&&this.XA(this.of)}for(d=0;d<this.ph.length;d++)this.ph[d].vl&&this.Ov(this.ph[d]);for(d=0;d<this.Wh.length;d++)this.Wh[d].vl&&this.Ov(this.Wh[d]);
for(d=0;d<this.Ag.length;d++)this.Ag[d].vl&&this.Ov(this.Ag[d]);this.mw=!1;this.of=null},cW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.Wl:e;f=f||0;g=g||!1;var h=this.Ej[a.bc];h||(h=new q.lM(a,g),this.Dk.push(h),this.Ej[a.bc]=h);if(null==h.fg)h.fg=[];else for(var k=0;k<h.fg.length;k++)if(g=h.fg[k],c==g.Rf){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Ij.toFixed(4)+" to "+d.toFixed(4));g.Ij=d;return}g=new q.tu;g.Gg(a,c,d,e,f);h.fg.push(g)},dK:function(a,c,d){var e=this.Fj[a.bc];e?e.Xm.vl=!1:0==c?this.PN(this.Wh,a,d):0>c?this.ph=this.DG(this.ph,a,c,d):this.Ag=this.DG(this.Ag,a,c,d)},qL:function(a,c){if(null!=a&&null!=c){var d=this.Ej[a.bc];if(null!=d)for(var e=0;e<d.fg.length;e++){var f=d.fg[e];if(c==f.Rf){f!=d.ns||d.os||(d.os=!0);q.iq(d.fg,e);d.eq>=e&&d.eq--;0==d.fg.length&&(this.of==d?this.Di=!0:this.XA(d));break}}}},fq:function(a){null!=a&&
(a=this.Fj[a.bc],null!=a&&(this.mw?a.Xm.vl=!0:this.Ov(a.Xm)))},pL:function(a){if(null!=a){var c=this.Ej[a.bc];c&&(!c.os&&q.ky(c.fg,c.ns)&&(c.os=!0),c.fg.length=0,this.of==c?this.Di=!0:this.XA(c));this.fq(a)}},kt:function(){this.hY(q.cu)},hY:function(a){var c;for(c=0;c<this.Dk.length;c++)this.pL(this.Dk[c].target);if(0>a)for(c=0;c<this.ph.length;c++)this.fq(this.ph[c].target);if(0>=a)for(c=0;c<this.Wh.length;c++)this.fq(this.Wh[c].target);for(c=0;c<this.Ag.length;c++)this.Ag[c].LJ>=a&&this.fq(this.Ag[c].target)},
U9:function(){return this.WU(q.cu)},WU:function(a){var c=[],d,e;for(d=0;d<this.Dk.length;d++)if(e=this.Dk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.ph.length;d++)if(e=this.ph[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Wh.length;d++)if(e=this.Wh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Ag.length;d++)if(e=this.Ag[d])e.paused=!0,c.push(e.target);return c},XV:function(a){if(a)for(var c=0;c<a.length;c++)this.vn(a[c])},Ts:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Ej[a.bc];c&&(c.paused=!0);if(a=this.Fj[a.bc])a.Xm.paused=!0},vn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Ej[a.bc];c&&(c.paused=!1);if(a=this.Fj[a.bc])a.Xm.paused=!1},k8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Ej[a.bc])?a.paused:!1}});q.Qy={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Xb=q.Da.extend({yo:0,as:0,vr:0,um:null,$g:1/60,Ij:null,kG:!1,ctor:function(){this.um=[]},Ww:function(a,c,d){if(a){c&&(this.Rf=c,this.P=d);if(a!=this.um||0==this.yo){this.vr=this.yo=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.um=this.um.concat(a[c]);else this.um=a;this.as=this.um.length}this.IP()}else console.log("resources should not null")},qW:function(a){this.kG=a},ln:function(a){this.vr++;q.log("cocos2d:Failed loading resource: "+a)},ki:function(){this.vr++},Mw:function(){var a=0;return a=
0==this.as?100:0|this.vr/this.as*100},DV:function(a){if(a&&0<a.length)for(var c=q.ia.e(),d=q.Ch?q.Ch.e():null,e=q.wk.e(),f=q.Dd.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.cG(g);switch(k){case "IMAGE":c.PV(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.cda(g.src);break;case "XML":e.fY(g.src);break;case "BINARY":f.eY(g.src);break;case "TEXT":f.gY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},oP:function(){this.nw();
if(this.kG){var a=q.W.e().ev;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.yo<this.as&&(this.XO(),this.yo++)},XO:function(){var a=q.ia.e(),c=q.Ch?q.Ch.e():null,d=q.wk.e(),e=q.Dd.e(),f=this.um[this.yo],g=this.cG(f);switch(g){case "IMAGE":a.pa(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.b$(f.src);break;case "XML":d.hV(f.src);break;case "BINARY":e.gV(f.src);break;case "TEXT":e.iV(f.src);break;case "FONT":this.qP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},IP:function(){var a=this;this.Ij=setInterval(function(){a.oP()},1E3*this.$g)},yQ:function(){clearInterval(this.Ij)},cG:function(a){if(null!=a.rs)return q.Qy.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.Qy)if(-1!=q.Qy[d].indexOf(a))return d;return a},nw:function(){100<=this.Mw()&&(this.yQ(),this.kO())},kO:function(){if(this.P&&"string"==typeof this.Rf)this.P[this.Rf](this);
else this.P&&"function"==typeof this.Rf?this.Rf.call(this.P,this):this.Rf(this);this.as=this.vr=this.yo=0},qP:function(a){var c=a.src,d=q.Dd.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.rs+"; src:",g=0;g<c.length;g++)f+="url('"+d.le(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.rs;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Xb.e().ki()},i1:function(){}});q.Xb.lD=function(a,c,d){this.Hb||(this.Hb=new q.Xb);this.Hb.Ww(a,c,d);return this.Hb};q.Xb.a$=function(a,c,d){this.Hb||(this.Hb=new q.Xb);this.Hb.qW(!0);this.Hb.Ww(a,c,d);return this.Hb};q.Xb.mD=function(a){this.Hb&&this.Hb.DV(a)};q.Xb.e=function(){this.Hb||(this.Hb=new q.Xb);return this.Hb};q.Xb.Hb=null;
q.Hy=q.rq.extend({uv:null,Po:null,cw:null,Iq:null,No:null,NB:null,ctor:function(){q.rq.prototype.ctor.call(this);this.NB=q.W.e().Qb},t:function(){q.rq.prototype.t.call(this);var a=q.a(this.NB.width/2,this.NB.height/2);this.Po=new Image;var c=this;this.Po.addEventListener("load",function(){c.HO(a);this.removeEventListener("load",arguments.callee,!1)});this.Po.src="";this.Po.width=160;this.Po.height=200;this.Iq=q.ea.create(q.XB(32,32,32,255));this.Iq.n(0,0);this.f(this.Iq,0);this.No=q.R.create("Loading... 0%",
"Arial",14);this.No.l(q.uw(180,180,180));this.No.n(q.cg(a,q.a(0,-110)));this.Iq.f(this.No,10)},HO:function(a){this.cw=new q.Yb;this.cw.Bf(this.Po);this.cw.ve();this.uv=q.A.gb(this.cw);this.uv.ok(q.Cd());this.uv.n(a);this.Iq.f(this.uv,10)},Kg:function(){q.D.prototype.Kg.call(this);this.mc(this.XG,0.3)},Md:function(){q.D.prototype.Md.call(this);this.No.da("Loading... 0%")},Ww:function(a,c,d){this.UV=a;this.iW=c;this.target=d},XG:function(){this.$c(this.XG);q.Xb.lD(this.UV,this.iW,this.target);this.mc(this.nw)},
nw:function(){var a=q.Xb.e().Mw();this.No.da("Loading... "+a+"%");100<=a&&this.$c(this.nw)}});q.Hy.lD=function(a,c,d){this.Hb||(this.Hb=new q.Hy,this.Hb.t());this.Hb.Ww(a,c,d);a=q.W.e();a.kd?a.ZJ(this.Hb):a.aW(this.Hb);return this.Hb};q.wy=q.Da.extend({vb:null,uba:function(a){this.vb=a},V5:function(){return this.vb},ctor:function(a){this.vb=a},iC:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},$H:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},$h:function(){q.log("DrawingPrimitive.drawLine() not implement!")},bI:function(){q.log("DrawingPrimitive.drawRect() not implement!")},jC:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},ge:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
Dw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},XH:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},aI:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},YH:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},WH:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Cw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.JE=q.wy.extend({iC:function(a,c){c||(c=1);var d=q.ra.e().va,e=q.ra.e().Aa,e=q.a(a.x*d,a.y*e);this.vb.beginPath();this.vb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.vb.closePath();this.vb.fill()},$H:function(a,c,d){if(null!=a){d||(d=1);c=this.vb;var e=q.ra.e().va,f=q.ra.e().Aa;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},$h:function(a,c){var d=this.vb,e=q.ra.e().va,f=q.ra.e().Aa;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},bI:function(a,c){this.$h(q.a(a.x,a.y),q.a(c.x,a.y));this.$h(q.a(c.x,a.y),q.a(c.x,c.y));this.$h(q.a(c.x,c.y),q.a(a.x,c.y));this.$h(q.a(a.x,c.y),q.a(a.x,a.y))},jC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Dw(a,4,d)},ge:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.vb;var g=q.ra.e().va,h=q.ra.e().Aa;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Dw:function(a,c,d){this.tK(d.p,d.o,d.g,d.I);this.ge(a,c,!0,!0)},XH:function(a,c,d,e,f){f=f||!1;e=this.vb;var g=q.ra.e().va,h=q.ra.e().Aa;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},aI:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.ge(f,e+1,!1,!1)},YH:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.ge(g,f+1,!1,!1)},WH:function(a,c){this.Cw(a,0.5,c)},Cw:function(a,c,d){q.V.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.qy(q.th(a,f-1),q.th(a,f-0),q.th(a,f+1),q.th(a,f+2),c,g),e.push(f);this.ge(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.vb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.vb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.vb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},R2:function(a,c,d){a=a||this.vb;c*=q.ra.e().va;d instanceof q.Rd&&(d=new q.Bc(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+d.p+","+d.o+","+d.g;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.UE,!1);a.closePath();a.fill()},P2:function(a,c,d){a=a||this.vb;c*=q.ra.e().va;d instanceof q.Rd&&(d=new q.Bc(0|255*d.p,0|255*d.o,0|255*d.g));d="rgba("+
d.p+","+d.o+","+d.g;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.UE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.vb.fillText(a,c,-d)},FW:function(a,c,d,e){this.vb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.vb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},tK:function(a,c,d,e){this.vb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.vb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},hX:function(){},RW:function(a){this.vb.lineWidth=a*q.ra.e().va}});
q.bM=q.wy.extend({qr:!1,Kb:null,Bi:-1,gc:null,LA:-1,KA:-1,ctor:function(a){null==a&&(a=q.V);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.wy.prototype.ctor.call(this,a);this.gc=new q.Rd(1,1,1,1)},gk:function(){this.qr||(this.Kb=q.Gh.e().li(q.M_),this.Bi=this.vb.getUniformLocation(this.Kb.Nw(),"u_color"),this.LA=this.vb.getUniformLocation(this.Kb.Nw(),"u_pointSize"),this.qr=!0)},Q2:function(){this.qr=!1},iC:function(a){this.gk();
this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,new Float32Array(this.gc.Pb,0,4),1);this.Kb.OK(this.LA,this.KA);var c=this.vb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.Ge,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Dh()},$H:function(a){if(a&&0!=a.length){this.gk();this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,new Float32Array(this.gc.Pb,0,4),1);this.Kb.OK(this.LA,
this.KA);var c=this.vb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Jv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Ge,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Dh()}},Jv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},$h:function(a,c){this.gk();this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,new Float32Array(this.gc.Pb,0,4),1);var d=this.vb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Jv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.Ge,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Dh()},bI:function(a,c){this.$h(q.a(a.x,a.y),q.a(c.x,a.y));this.$h(q.a(c.x,a.y),q.a(c.x,c.y));this.$h(q.a(c.x,c.y),q.a(a.x,c.y));this.$h(q.a(a.x,c.y),q.a(a.x,a.y))},jC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Dw(a,4,d)},ge:function(a,c,d){this.gk();this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,new Float32Array(this.gc.Pb,0,4),
1);c=this.vb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Jv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.Ge,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Dh()},Dw:function(a,c,d){this.gk();d||(d=this.gc);this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,new Float32Array(d.Pb,0,4),1);c=this.vb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Jv(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.Ge,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Dh()},XH:function(a,c,d,e,f){this.gk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,new Float32Array(this.gc.Pb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Ge,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Dh()}},aI:function(a,c,d,e){this.gk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,new Float32Array(this.gc.Pb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.Ge,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Dh()},YH:function(a,c,d,e,f){this.gk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,new Float32Array(this.gc.Pb,0,4),1);a=this.vb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.Ge,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Dh()},WH:function(a,c){this.Cw(a,0.5,c)},Cw:function(a,c,d){this.gk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.qy(q.th(a,f-1),q.th(a,f),q.th(a,f+1),q.th(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Kb.lf();this.Kb.Pg();q.qe(q.Yg);this.Kb.El(this.Bi,
new Float32Array(this.gc.Pb,0,4),1);a=this.vb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.Ge,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Dh()},FW:function(a,c,d,e){this.gc.p=a/255;this.gc.o=c/255;this.gc.g=d/255;this.gc.I=e/255},tK:function(a,c,d,e){this.gc.p=a;this.gc.o=c;this.gc.g=d;this.gc.I=e},hX:function(a){this.KA=a*q.Cd()},RW:function(a){this.vb.lineWidth&&this.vb.lineWidth(a)}});q.UE=2*Math.PI;q.mF={m0:0,RZ:1,SZ:2,CY:3,KZ:4,JZ:5,PY:6,$Z:7,uZ:8,EM:100,NM:101};q.f_=0;q.g_=1;q.d_=2;q.e_=3;q.ig=0;q.zk=1;q.Yf=null;q.V=null;q.canvas=null;q.vS=null;q.zd=q.ig;q.QU=q.size(0,0);window.yD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.RC=!1;
q.Fl=function(a,c,d){function e(){if(q.Ch){var a=q.Ch.e();document[k]?(a.VU(),a.XU()):(q.W.e().EP(),a.VV(),a.WV())}}a=q.Nb(a)||q.Nb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.Zj=q.sk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.Tm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.sk("CANVAS"),f.vH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.Zj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!q.nz){q.Fa.Pc&&(q.V=q.wda=q.LH(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Fa.ek,alpha:!1}));q.V?(q.zd=q.zk,window.gl=q.V,q.Yf=new q.bM(q.V),q.ia.e().OO()):(q.V=f.getContext("2d"),q.sU=q.V,
q.zd=q.ig,q.V.translate(0,f.height),q.Yf=q.JE?new q.JE(q.V):null);q.QU=q.size(f.width,f.height);q.vS=g;q.log(q.yt);q.Ee.e();q.AW();q.Fa.ek&&q.KN();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(q.RC=!1,window.addEventListener("focus",function(){if(q.Ch){var a=q.Ch.e();a.VV();a.WV()}},!1),window.addEventListener("blur",function(){if(q.Ch){var a=q.Ch.e();a.VU();a.XU()}},!1)):(q.RC=!0,document.addEventListener(l,e,!1))}};q.KN=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
q.lG=!1;q.AW=function(){q.lG=!1;q.canvas.oncontextmenu=q.lG?function(){}:function(){return!1}};q.lj=q.Da.extend({$g:null,ctor:function(){this.$g=0;if(q.lB)throw"Application has been initialized";q.lB=this},Ys:function(a){this.$g=a},uca:function(a){a&&q.rect(0,0,0,0)},x6:function(){return q.Fa.ek?q.mF.EM:q.mF.NM},ZV:function(){if(!this.bR())return 0;var a,c=q.W.e(),d=window;q.$R=c;d.yD&&this.$g==1/60?(a=function(){c.qJ();d.yD(a)},d.yD(a)):(a=function(){c.qJ()},setInterval(a,1E3*this.$g));return 0}});
q.lj.e=function(){return q.lB};q.lj.h4=function(){var a=q.sM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.lda);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.rM;break;case "fr":a=q.tM;break;case "it":a=q.wM;break;case "de":a=q.uM;break;case "es":a=q.DM;break;case "ru":a=q.CM;break;case "ko":a=q.yM;break;case "ja":a=q.xM;break;case "hu":a=q.vM;break;case "pt":a=q.BM;break;case "ar":a=q.qM;break;case "no":a=q.zM;break;case "pl":a=q.AM}return a};q.lB=null;q.wk=q.Da.extend({yda:null,BG:null,lp:null,xA:null,ctor:function(){this.lp={};window.DOMParser?(this.xA=!0,this.BG=new DOMParser):this.xA=!1},parse:function(a){var c=a;a=this.sI(a);a=this.CG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.HA(c)},Xca:function(a,c){if(null==c||!1===c)a=this.sI(a);return this.CG(a)},CG:function(a,
c){var d;this.xA?d=this.BG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},HA:function(a){var c=null;switch(a.tagName){case "dict":c=this.lP(a);break;case "array":c=this.kP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},kP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.HA(f))}return c},lP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.HA(g))}return c},hV:function(a){a=q.Dd.e().le(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Xb.e().ki(),d.lp[a]=c.responseText,c=null):(q.Xb.e().ki(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},fY:function(a){this.lp.hasOwnProperty(a)&&delete this.lp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
v4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},sI:function(a){return null!=this.lp?this.lp[a]:null}});q.wk.e=function(){this.Hb||(this.Hb=new q.wk);return this.Hb};q.wk.Hb=null;q.jy=q.Da.extend({ZR:function(){q.lj.e().ZV();return!0},L1:function(){q.W.e().pause()},K1:function(){q.W.e().aK()},aR:function(){q.lj.e().aR()},cR:function(){q.lj.e().cR()},M1:function(){}});q.jy.HX=function(){null==q.Ox&&(q.Ox=new q.jy);if(!q.Ox)throw"Application initialize failure";return q.Ox};q.Ox=null;q.R=q.A.extend({Yd:null,Mk:q.rj,el:q.Aq,pf:null,Je:0,zg:"",GA:null,Jo:!1,Bj:null,Oj:!1,zm:null,Xo:0,Nr:0,Uv:null,al:!1,Sr:null,bp:0,Wv:null,cp:null,dv:null,vB:0,wB:0,fd:!1,qv:null,rv:null,ctor:function(){q.A.prototype.ctor.call(this);this.Yd=q.Xl();this.Mk=q.wq;this.el=q.Aq;this.jc=!1;this.Bj="";this.pf="Arial";this.Oj=this.Jo=!1;this.zm=q.Xl();this.Nr=this.Xo=0;this.Uv="rgba(128, 128, 128, 0.5)";this.al=!1;this.Sr=q.yb();this.bp=0;this.Wv="";this.cp=q.yb();this.dv="rgba(255,255,255,1)";this.wB=this.vB=
0;this.fd=!1;this.Sh()},t:function(){return this.nl(" ",this.pf,this.Je)},aP:function(){this.mA().font=this.Bj},xr:function(a){return this.mA().measureText(a).width},ZN:function(a,c){var d=this.xr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.R.$N,m=q.R.GP,n=q.R.YN,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.xr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.xr(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.pf+" FontSize \x3d "+this.Je.toFixed(1)+"\x3e"},l:null,Ir:function(a){q.zb.prototype.l.call(this,a);this.LG()},Sh:null,LG:function(){this.fd=!0;var a=this.Fc,c=this.Wb,d=this.Sr,e=this.cp;this.Uv="rgba("+(0|0.5*a.p)+","+(0|0.5*a.o)+","+(0|0.5*a.g)+","+this.Xo+")";this.dv="rgba("+(0|a.p/255*e.p)+","+(0|a.o/255*e.o)+","+
(0|a.g/255*e.g)+", "+c/255+")";this.Wv="rgba("+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+","+(0|a.g/255*d.g)+", "+c/255+")"},PP:function(){this.fd=!0;var a=this.Sr,c=this.cp;this.Uv="rgba(128,128,128,"+this.Xo+")";this.dv="rgba("+(0|c.p)+","+(0|c.o)+","+(0|c.g)+", 1)";this.Wv="rgba("+(0|a.p)+","+(0|a.o)+","+(0|a.g)+", 1)"},ad:null,CB:function(a){q.zb.prototype.ad.call(this,a);this.Sh()},ga:null,Kr:function(a){this.Mi!==a&&(q.A.prototype.ga.call(this,a),this.Sh(),this.fd=!0)},bd:null,hda:function(a){q.zb.prototype.bd.call(this,
a);this.Sh()},vC:function(){return this.zg},H4:function(){return this.Mk},R6:function(){return this.el},q4:function(){return q.size(this.Yd.width,this.Yd.height)},B4:function(){return this.Je},A4:function(){return this.pf},nl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.wq;g=g||q.Bq;return q.A.prototype.t.call(this)?(this.jc=!1,this.Yd=q.size(e.width,e.height),this.pf=c||"Arial",this.Mk=f,this.el=g,this.Je=d,this.Bj=this.Je+"px '"+c+"'",this.Aj=q.R.Eu(c,this.Je),this.da(a),this.Sh(),
this.EB(),this.fd=!1,!0):!1},NC:null,KO:function(a,c){if(!q.A.prototype.t.call(this))return!1;this.FB(c,!1);this.da(a);return!0},LO:function(a,c){if(!q.A.prototype.t.call(this))return!1;this.Ng(q.Gh.e().li(q.R.uN));this.FB(c,!1);this.da(a);return!0},Nba:function(a){a&&this.FB(a,!0)},y6:function(){return this.pP(!1)},mS:function(a,c,d){c=c||0.5;!1===this.Oj&&(this.Oj=!0);var e=this.zm;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Xo!=c&&(this.Xo=c);this.Sh();this.Nr!=
d&&(this.Nr=d);this.fd=!0},K2:function(){this.Oj&&(this.Oj=!1,this.fd=!0)},nS:function(a,c){!1===this.al&&(this.al=!0);var d=this.Sr;if(d.p!==a.p||d.o!==a.o||d.g!==a.g)d.p=a.p,d.o=a.o,d.g=a.g,this.Sh();this.bp!==c&&(this.bp=c||0);this.fd=!0},L2:function(){this.al&&(this.al=!1,this.fd=!0)},ID:null,TP:function(a){var c=this.cp;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Sh(),this.fd=!0},UP:function(a){var c=this.cp;if(c.p!=a.p||c.o!=a.o||c.g!=a.g)c.p=a.p,c.o=a.o,c.g=a.g,this.Sh(),this.fd=
!0},FB:function(a,c){a.qs?(this.Yd.width=a.qs.width,this.Yd.height=a.qs.height):(this.Yd.width=0,this.Yd.height=0);this.Mk=a.hI;this.el=a.iI;this.pf=a.rs;this.Je=a.fontSize||12;this.Bj=this.Je+"px '"+this.pf+"'";this.Aj=q.R.Eu(this.pf,this.Je);a.XK&&this.mS(a.YK,a.ZK,a.shadowBlur,!1);a.$D&&this.nS(a.strokeColor,a.iL,!1);this.ID(a.jI,!1);c&&this.EB()},pP:function(a){var c=new q.hM;a?(c.fontSize=this.Je,c.qs=q.Uy(this.Yd)):(c.fontSize=this.Je,c.qs=q.size(this.Yd.width,this.Yd.height));c.rs=this.pf;
c.hI=this.Mk;c.iI=this.el;if(this.al){c.$D=!0;var d=this.Sr;c.strokeColor=new q.Bc(d.p,d.o,d.g);c.iL=this.bp}else c.$D=!1;this.Oj?(c.XK=!0,c.shadowBlur=this.Nr,c.ZK=this.Xo,c.YK=a?q.Uy(this.zm):q.size(this.zm.width,this.zm.height)):c.Oj=!1;a=this.cp;c.jI=new q.Bc(a.p,a.o,a.g);return c},Aj:18,da:function(a){a=String(a);this.GA!=a&&(this.GA=a+"",this.kH(),this.fd=!0)},kH:function(){this.zg=this.GA},Faa:function(a){a!==this.Mk&&(this.Mk=a,this.fd=!0)},Zba:function(a){a!=this.el&&(this.el=a,this.fd=!0)},
nc:function(a){if(a.width!=this.Yd.width||a.height!=this.Yd.height)this.Yd=a,this.kH(),this.fd=!0},vK:function(a){this.Je!==a&&(this.Je=a,this.Bj=a+"px '"+this.pf+"'",this.Aj=q.R.Eu(this.pf,a),this.fd=!0)},LW:function(a){this.pf&&this.pf!=a&&(this.pf=a,this.Bj=this.Je+"px '"+a+"'",this.Aj=q.R.Eu(a,this.Je),this.fd=!0)},pO:function(a){if(a){var c=this.vB,d=this.wB,e=this.ta.sa-d,f=this.el,g=this.Mk,h=this.Aj,k=this.bp;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Bj&&(a.font=this.Bj);a.fillStyle=
this.dv;var l=d=0,m=this.al;m&&(a.lineWidth=2*k,a.strokeStyle=this.Wv);this.Oj&&(k=this.zm,a.shadowColor=this.Uv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Nr);a.textBaseline=q.R.sQ[f];a.textAlign=q.R.rQ[g];c=this.ta.Ga-c;d=g===q.gN?d+c:g===q.rj?d+c/2:d+0;if(this.Jo)for(g=this.Qj.length,f===q.Aq?l=h+e-h*g:f===q.Au&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Qj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.Aq&&(l=f===q.Bq?l-e:l-0.5*e),m&&a.strokeText(this.zg,
d,l),a.fillText(this.zg,d,l)}},mA:function(){if(this.rv)return this.rv;if(!this.qv){var a=document.createElement("canvas"),c=new q.Yb;c.Bf(a);this.ba(c);this.qv=a}return this.rv=this.qv.getContext("2d")},lH:function(){var a=this.Yd.width,c,d;this.pG=[];this.Jo=!1;this.aP();if(0!==a){var e=this.zg;this.Qj=[];c=0;for(d=this.zg.length;c<d;){var f=this.ZN(e.substr(c),a);this.Qj.push(e.substr(c,f));c+=f}}else for(this.Qj=this.zg.split("\n"),c=0,d=this.Qj.length;c<d;c++)this.pG.push(this.xr(this.Qj[c]));
0<this.Qj.length&&(this.Jo=!0);d=c=0;this.al&&(c=d=2*this.bp);this.Oj&&(e=this.zm,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.Jo?q.size(0|Math.max.apply(Math,this.pG)+c,0|this.Aj*this.Qj.length+d):q.size(0|this.xr(this.zg)+c,0|this.Aj+d):0===this.Yd.height?this.Jo?q.size(0|a+c,0|this.Aj*this.Qj.length+d):q.size(0|a+c,0|this.Aj+d):q.size(0|a+c,0|this.Yd.height+d);this.U(a);this.vB=c;this.wB=d;e=this.Hh;this.Fd.F=0.5*c+(a.width-c)*e.F;this.Fd.H=0.5*d+(a.height-d)*e.H},d:function(){this.fd&&
this.lH();return q.A.prototype.d.call(this)},EB:function(){var a=this.mA(),c=this.qv,d=this.ta;if(0===this.zg.length)return c.width=1,c.height=d.sa,this.Mb(q.rect(0,0,1,d.sa)),!0;a.font=this.Bj;this.lH();var e=d.Ga,d=d.sa,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.pO(a);this.Ea.ve();this.Mb(q.rect(0,0,e,d));return!0},qa:function(a){this.zg&&""!=this.zg&&(this.fd&&(this.fd=!1,this.EB()),q.A.prototype.qa.call(this,a||q.V))},Va:null,rg:function(a){if(this.zg&&""!=this.zg){a=
a||q.V;var c=this.Ea;c&&c.pc&&(this.Hc.lf(),this.Hc.Pg(),q.ck(this.fa.src,this.fa.Gb),q.Eg(c),q.qe(q.zu),a.bindBuffer(a.ARRAY_BUFFER,this.Nv),this.tf&&(a.bufferData(a.ARRAY_BUFFER,this.Jb.SB,a.STATIC_DRAW),this.tf=!1),a.vertexAttribPointer(q.Ge,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.zq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.yq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.xk?(a=this.Jb,a=[q.a(a.Sa.r.x,a.Sa.r.y),q.a(a.Ja.r.x,a.Ja.r.y),q.a(a.Ua.r.x,a.Ua.r.y),q.a(a.Ma.r.x,
a.Ma.r.y)],q.Yf.ge(a,4,!0)):2===q.xk&&(a=this.wC().bb,c=this.dc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Yf.ge(a,4,!0));q.bi++}},kB:function(a,c,d){this.Wc=c||!1;d=d||a.bb;this.U(d);this.TD(a);c=this.ep;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.ot=!(0===c.width||0===c.height);a=this.Vh;this.hc&&(a.F=-a.F);this.ic&&(a.H=-a.H);this.dc.F=a.x+(this.ta.Ga-this.xa.width)/2;this.dc.H=a.y+(this.ta.sa-this.xa.height)/2;this.jb&&(this.Ia=!0)},OG:function(a){var c=
this.jb?this.Ra.aa():this.Ea;if(c){var d=c.Ap(),e=c.zp(),f,g=this.Jb;this.Wc?(q.St?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.hc&&(e=f,f=a,a=e),this.ic&&(e=c,c=d,d=e),g.Ja.B.Oa=c,g.Ja.B.ma=f,g.Ua.B.Oa=c,g.Ua.B.ma=a,g.Sa.B.Oa=d,g.Sa.B.ma=f,g.Ma.B.Oa=d,g.Ma.B.ma=a):(q.St?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.hc&&(e=c,c=d,d=e),this.ic&&(e=f,f=a,a=e),g.Ja.B.Oa=c,g.Ja.B.ma=a,g.Ua.B.Oa=d,g.Ua.B.ma=a,g.Sa.B.Oa=c,g.Sa.B.ma=f,g.Ma.B.Oa=d,g.Ma.B.ma=f);this.tf=!0}}});
q.Fa.Pc?(b=q.R.prototype,b.l=q.A.prototype.l,b.Sh=q.R.prototype.PP,b.ad=q.A.prototype.ad,b.ga=q.A.prototype.ga,b.bd=q.A.prototype.bd,b.NC=q.R.prototype.LO,b.ID=q.R.prototype.UP,b.Va=q.R.prototype.rg,b.Mb=q.A.prototype.PG):(b=q.R.prototype,b.l=q.R.prototype.Ir,b.Sh=q.R.prototype.LG,b.ad=q.R.prototype.CB,b.ga=q.R.prototype.Kr,b.bd=q.R.prototype.hH,b.NC=q.R.prototype.KO,b.ID=q.R.prototype.TP,b.Va=q.A.prototype.Va,b.Mb=q.R.prototype.kB);q.R.rQ=["left","center","right"];q.R.sQ=["top","middle","bottom"];
q.R.$N=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.R.GP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.R.YN=/[\s\-\/\\\:]/;q.R.create=function(a,c,d,e,f,g){var h=new q.R;return h.nl(a,c,d,e,f,g)?h:null};q.R.A2=function(a,c){var d=new q.R;return d&&d.NC(a,c)?d:null};q.R.uN=q.oN?q.Ty:q.J_;q.R.Yl=document.createElement("div");q.R.Yl.style.fontFamily="Arial";q.R.Yl.style.position="absolute";q.R.Yl.style.left="-100px";q.R.Yl.style.top="-100px";q.R.Yl.style.lineHeight="normal";
document.body.appendChild(q.R.Yl);q.R.Eu=function(a,c){var d=q.R.CF[a+"."+c];if(0<d)return d;var e=q.R.Yl;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.R.CF[a+"."+c]=d;e.innerHTML="";return d};q.R.CF={};q.kM=q.Da.extend({Jc:null,target:null,Rm:0,rh:null,Wm:!1,paused:!1,FC:null,ctor:function(){this.Jc=[];this.P=null;this.Rm=0;this.rh=null;this.paused=this.Wm=!1;this.FC=null}});
q.HL=q.Da.extend({Kh:null,ho:null,of:null,Di:!1,a1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Kh={};this.ho=[];this.of=null;this.Di=!1},NQ:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Kh[c.bc];e||(e=new q.kM,e.paused=d,e.target=c,this.Kh[c.bc]=e,this.ho.push(e));this.EN(e);e.Jc.push(a);a.Z(c)},r$:function(){for(var a=this.ho,
c=0;c<a.length;c++){var d=a[c];d&&this.WJ(d.target,!0)}},WJ:function(a,c){if(null!=a){var d=this.Kh[a.bc];d&&(-1===d.Jc.indexOf(d.rh)||d.Wm||(d.Wm=!0),d.Jc=[],this.of!=d||c?this.Rz(d):this.Di=!0)}},VJ:function(a){if(null!=a){var c=this.Kh[a.sm.bc];if(c)for(var d=0;d<c.Jc.length;d++){if(c.Jc[d]==a){c.Jc.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},EV:function(a,c){a==q.On&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Kh[c.bc];if(d)for(var e=d.Jc.length,f=0;f<e;++f){var g=d.Jc[f];if(g&&g.ld===a&&g.sm==c){this.tP(f,d);break}}},oC:function(a,c){a==q.On&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Kh[c.bc];if(d){if(null!=d.Jc)for(var e=0;e<d.Jc.length;++e){var f=d.Jc[e];if(f&&f.ld===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},yU:function(a){return(a=this.Kh[a.bc])?a.Jc?a.Jc.length:0:0},Ts:function(a){if(a=this.Kh[a.bc])a.paused=!0},
vn:function(a){if(a=this.Kh[a.bc])a.paused=!1},T9:function(){for(var a=[],c=this.ho,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},XV:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.vn(a[c])},e$:function(){q.W.e().zf().fq(this)},tP:function(a,c){c.Jc[a]!=c.rh||c.Wm||(c.Wm=!0);q.iq(c.Jc,a);c.Rm>=a&&c.Rm--;0==c.Jc.length&&(this.of==c?this.Di=!0:this.Rz(c))},Rz:function(a){a&&(delete this.Kh[a.target.bc],q.Pd(this.ho,a),a.Jc=null,a.target=null)},EN:function(a){null==
a.Jc&&(a.Jc=[])},update:function(a){for(var c=this.ho,d,e=0;e<c.length;e++){d=this.of=c[e];if(!d.paused)for(d.Rm=0;d.Rm<d.Jc.length;d.Rm++)if(d.rh=d.Jc[d.Rm],d.rh){d.Wm=!1;d.rh.step(a);if(d.Wm)d.rh=null;else if(d.rh.fi()){d.rh.stop();var f=d.rh;d.rh=null;this.VJ(f)}d.rh=null}this.Di&&0===d.Jc.length&&this.Rz(d)}}});q.nf=q.Da.extend({K:null,Lv:q.oj(),Mf:0,ctor:function(a,c,d){this.K=q.a(a||0,c||0);this.Mf=d||0},T4:function(){return this.K},US:function(){return this.Lv},n4:function(){return q.xd(this.K,this.Lv)},K4:function(){return this.Mf},L4:function(){return this.Mf},QD:function(a,c,d){this.Lv=this.K;this.K=q.a(c||0,d||0);this.Mf=a},Sf:function(a,c){this.Lv=q.a(a||0,c||0)}});
q.vF=q.Da.extend({G0:null,kb:function(){return!1},nd:function(){},Df:function(){},ik:function(){},xJ:function(){},AJ:function(){},zJ:function(){},yJ:function(){},ada:function(){},$ca:function(){}});q.$_=q.vF.extend({kb:function(){return!1},nd:function(){},Df:function(){},ik:function(){}});q.T_=q.vF.extend({xJ:function(){},AJ:function(){},zJ:function(){},yJ:function(){}});q.bo=q.Da.extend({Vb:null,sf:0,Ao:0,ec:function(){return this.Vb},Ah:function(a){this.Vb=a},VS:function(){return this.sf},ct:function(a){this.sf=a},DS:function(){return this.Ao},GW:function(a){this.Ao=a},dk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Vb=a;this.sf=c;this.Ao=0;return!0}});q.bo.create=function(a,c){var d=new q.bo;d&&d.dk(a,c);return d};q.Yy=q.bo.extend({dk:function(a,c){return q.bo.prototype.dk.call(this,a,c)}});
q.Yy.create=function(a,c){var d=new q.Yy;d&&d.dk(a,c);return d};q.su=q.bo.extend({$v:!1,vo:null,j8:function(){return this.$v},Kba:function(a){this.$v=a},Y3:function(){return this.vo},dk:function(a,c,d){return q.bo.prototype.dk.call(this,a,c)?(this.vo=[],this.$v=d,!0):!1}});q.su.create=function(a,c,d){var e=new q.su;e&&e.dk(a,c,d);return e};q.jN=1;q.mN=2;q.lN=4;q.kN=8;q.c0=q.jN|q.mN|q.lN|q.kN;q.bz=0;q.ez=1;q.dz=2;q.cz=3;q.b0=4;q.kJ=function(a,c){return a.sf>c.sf};q.wu=function(a){this.type=a};
q.ja=q.Da.extend({Lj:!1,Re:null,Qe:null,om:!1,$r:!1,kw:!1,Nk:null,Dj:null,jw:!1,yj:!1,DO:[new q.wu(q.bz),new q.wu(q.ez),new q.wu(q.dz),new q.wu(q.cz)],t:function(){this.yj=!0;this.Re=[];this.Qe=[];this.Nk=[];this.Dj=[];this.Lj=this.om=this.jw=this.$r=this.kw=!1;q.ja.AV();return!0},Jr:function(a){this.Lj=a},yO:function(){return this.Lj},J7:function(){return this.yj},EW:function(a){this.yj=a},IN:function(a,c){var d=q.Yy.create(a,c||0);this.om?-1!=this.Dj.indexOf(a)?q.Pd(this.Dj,a):(this.Nk.push(d),
this.$r=!0):this.Qe=this.tp(d,this.Qe)},JN:function(a,c,d){c=q.su.create(a,c,d);this.om?-1!=this.Dj.indexOf(a)?q.Pd(this.Dj,a):(this.Nk.push(c),this.$r=!0):this.Re=this.tp(c,this.Re)},tp:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.sf<a.sf&&++d,e.ec()==a.ec())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.Ql(c,a,d)},kI:function(){this.Qe.length=0;this.Re.length=0},wP:function(a){if(null!=a)if(this.om){var c=this.fI(this.Nk,a);c?q.Pd(this.Nk,
c):(this.Dj.push(a),this.kw=!0)}else this.lI(a)},GV:function(){this.om?this.jw=!0:this.kI()},ct:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.fI(c);d?d.sf!=a&&(d.ct(a),this.PJ(this.Re),this.PJ(this.Qe)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.om=!0;var e=this.Re.length,f=this.Qe.length,g=e&&f,h=g?a.slice():a,k=this.DO[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.Re.length;r++){l=this.Re[r];if(!l)break;m=!1;if(d==q.bz)l.ec().kb&&(m=l.ec().kb(e,c))&&l.vo.push(e);else if(0<l.vo.length)switch(m=!0,k.type){case q.ez:q.Fa.ek?l.ec().nd&&l.ec().nd(e,c):this.Lj&&l.ec().nd&&l.ec().nd(e,c);break;case q.dz:l.ec().Df&&l.ec().Df(e,c);l.vo.length=0;break;case q.cz:l.ec().ik&&l.ec().ik(e,c),l.vo.length=0}if(m&&l.$v){g&&q.Pd(h,e);break}}if(0<f)for(n=0;n<this.Qe.length&&(l=this.Qe[n],l);n++);this.om=!1;if(this.kw){this.kw=
!1;for(n=0;n<this.Dj.length;n++)this.lI(this.Dj[n]);this.Dj.length=0}if(this.$r){this.$r=!1;for(n=0;n<this.Nk.length;n++){l=this.Nk[n];if(!l)break;l instanceof q.su?this.Re=this.tp(l,this.Re):this.Qe=this.tp(l,this.Qe)}this.Nk.length=0}this.jw&&(this.jw=!1,this.kI())},$x:function(a,c){this.yj&&this.touches(a,c,q.bz)},ay:function(a,c){this.yj&&this.touches(a,c,q.ez)},jt:function(a,c){this.yj&&this.touches(a,c,q.dz)},bE:function(a,c){this.yj&&this.touches(a,c,q.cz)},fI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Re.length;d++)if(this.Re[d].ec()==c)return this.Re[d];for(d=0;d<this.Qe.length;d++)if(this.Qe[d].ec()==c)return this.Qe[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].ec()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},lI:function(a){for(var c,d=0;d<this.Qe.length;d++)if((c=this.Qe[d])&&c.ec()==a){q.Pd(this.Qe,c);break}for(d=0;d<this.Re.length;d++)if((c=this.Re[d])&&c.ec()==a){q.Pd(this.Re,c);break}},PJ:function(a){a.sort(q.kJ)}});q.ja.sb=q.a(0,0);q.ja.gJ=!1;
q.Vi=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.VM=function(a,c){var d=q.Vi(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.ra.e().$j(e,f,d);d=new q.nf(e.x,e.y);d.Sf(q.ja.sb.x,q.ja.sb.y);q.ja.sb.x=e.x;q.ja.sb.y=e.y;e=[];e.push(d);q.ra.e().jt(e,null)};
q.ja.AV=function(){var a=q.canvas;if(!q.ja.gJ){if(q.Fa.ek)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.Vi(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.ra.e().$j(k,l,e);e=new q.nf(k.x,k.y);e.Sf(q.ja.sb.x,q.ja.sb.y);q.ja.sb.x=k.x;q.ja.sb.y=k.y;q.W.e().Te[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.Vi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.ra.e().$j(k,l,g),h.hasOwnProperty("identifier")?(h=new q.nf(k.x,k.y,h.identifier),l=q.ja.gv(h).K,h.Sf(l.x,l.y),q.ja.MG(h)):(h=new q.nf(k.x,k.y),h.Sf(q.ja.sb.x,q.ja.sb.y)),q.ja.sb.x=k.x,
q.ja.sb.y=k.y,d.push(h);q.ra.e().$x(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.Vi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.ra.e().$j(k,l,g),h.hasOwnProperty("identifier")?(h=new q.nf(k.x,k.y,h.identifier),l=q.ja.gv(h).K,h.Sf(l.x,l.y),q.ja.MG(h)):(h=new q.nf(k.x,k.y),h.Sf(q.ja.sb.x,q.ja.sb.y)),
q.ja.sb.x=k.x,q.ja.sb.y=k.y,d.push(h);q.ra.e().ay(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.Vi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.ra.e().$j(k,l,g),h.hasOwnProperty("identifier")?(h=new q.nf(k.x,k.y,h.identifier),l=q.ja.gv(h).K,h.Sf(l.x,l.y),q.ja.VF(h)):(h=new q.nf(k.x,k.y),h.Sf(q.ja.sb.x,
q.ja.sb.y)),q.ja.sb.x=k.x,q.ja.sb.y=k.y,d.push(h);q.ra.e().jt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.Vi(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.ra.e().$j(k,l,g),h.hasOwnProperty("identifier")?(h=new q.nf(k.x,k.y,h.identifier),l=q.ja.gv(h).K,h.Sf(l.x,l.y),q.ja.VF(h)):(h=new q.nf(k.x,
k.y),h.Sf(q.ja.sb.x,q.ja.sb.y)),q.ja.sb.x=k.x,q.ja.sb.y=k.y,d.push(h);q.ra.e().bE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.W.e().Te.Jr(!0)}),window.addEventListener("mouseup",function(c){q.W.e().Te.Jr(!1);var d=q.Vi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.ab(new q.lg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.ra.e().$j(g,c,d),d=new q.nf(g.x,
g.y),d.Sf(q.ja.sb.x,q.ja.sb.y),q.ja.sb.x=g.x,q.ja.sb.y=g.y,g=[],g.push(d),q.ra.e().jt(g,null))}),a.addEventListener("mousedown",function(c){var d=q.Vi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.ra.e().$j(g,c,d);d=new q.nf(g.x,g.y);d.Sf(q.ja.sb.x,q.ja.sb.y);q.ja.sb.x=g.x;q.ja.sb.y=g.y;g=[];g.push(d);q.ra.e().$x(g,null)}),a.addEventListener("mouseup",function(c){q.VM(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.Vi(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.ra.e().$j(g,c,d);d=new q.nf(g.x,g.y);d.Sf(q.ja.sb.x,q.ja.sb.y);q.ja.sb.x=g.x;q.ja.sb.y=g.y;g=[];g.push(d);q.ra.e().ay(g,null)});q.ja.gJ=!0}};q.ja.gv=function(a){for(var c=null,d=q.ja.OA,e=a.Mf,f=d.length-1;0<=f;f--)if(d[f].Mf==e){c=d[f];break}c||(c=a);return c};
q.ja.MG=function(a){for(var c=!1,d=q.ja.OA,e=a.Mf,f=d.length-1;0<=f;f--)if(d[f].Mf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.ja.PA]=a,q.ja.PA=(q.ja.PA+1)%50))};q.ja.VF=function(a){var c,d=q.ja.OA;c=a.Mf;for(a=d.length-1;0<=a;a--)if(d[a].Mf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.ja.OA=[];q.ja.PA=0;q.qD=function(a,c,d){q.W.e().Te.JN(d,a,c)};q.BV=function(a,c){q.W.e().Te.IN(a,c)};q.oL=function(a){q.W.e().Te.wP(a)};q.FM=1;q.RE=2;q.UZ=4;q.JM=8;q.w_=16;q.x_=32;q.y_=64;q.i_=128;q.j_=256;q.k_=512;q.iF=1024;q.GM=2048;q.HM=4096;q.IM=0;q.VZ=1;q.SE=2;q.YZ=q.Da.extend({CU:function(){return!1},DU:function(){return!1},ji:function(){return!1},GU:function(){return!1},KU:function(){return!1},LU:function(){return!1},MU:function(){return!1},HU:function(){return!1},IU:function(){return!1},JU:function(){return!1},NU:function(){return!1},EU:function(){return!1},FU:function(){return!1}});
q.KM=q.nf.extend({oH:0,NF:q.IM,W6:function(){return this.oH},TK:function(a){this.oH=a},Q3:function(){return this.NF},sW:function(a){this.NF=a}});q.Iy=q.Da.extend({Vb:null,sf:0,Ao:0,ec:function(){return this.Vb},Ah:function(a){this.Vb=a},VS:function(){return this.sf},ct:function(a){this.sf=a},DS:function(){return this.Ao},GW:function(a){this.Ao=a},dk:function(a,c){this.Vb=a;this.sf=c}});q.Iy.create=function(a,c){var d=new q.Iy;d.dk(a,c);return d};
q.Td=q.Da.extend({Lj:!1,Pv:!1,Nf:null,yj:!1,t:function(){this.yj=!0;this.Nf=[];this.Pv=this.Lj=!1;q.Td.rP();return!0},Jr:function(a){this.Lj=a},yO:function(){return this.Lj},NG:function(a){this.Pv=a},N0:function(){return this.Pv},xH:function(a,c){var d=q.Iy.create(a,c);this.Nf=this.tp(d,this.Nf)},tp:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.sf<a.sf&&++d,f.ec()==a.ec()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.Ql(c,a,d)},XJ:function(a){if(null!=
a)for(var c=0;c<this.Nf.length;c++){var d=this.Nf[c];if(d&&d.ec()==a){q.Pd(this.Nf,d);break}}},wO:function(a){for(var c=0;c<this.Nf.length;c++)if(this.Nf[c]&&this.Nf[c].ec()==a)return this.Nf[c];return null},ct:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.wO(c);d?d.sf!=a&&(d.ct(a),this.Nf.sort(q.kJ)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},u$:function(){this.Nf.length=0},fn:function(a,c,d){for(c=0;c<this.Nf.length;c++){var e=
this.Nf[c];switch(d){case q.RE:this.Lj||this.Pv||!e.ec().ji||e.ec().ji(a)}}}});q.Td.Kv=q.a(0,0);q.Td.UO=!1;
q.Td.rP=function(){var a=q.canvas;function c(c){var e=q.Vi(a),f=c.pageX,g=c.pageY,h=q.ra.e(),f=(f-e.left)/h.va,e=(e.height-(g-e.top))/h.Aa,g=new q.KM(f,e);g.Sf(q.Td.Kv.x,q.Td.Kv.y);g.sW(c.button);q.Td.Kv.x=f;q.Td.Kv.y=e;return g}q.Td.UO||(window.addEventListener("mousedown",function(a){a.button==q.SE?q.W.e().yf().NG(!0):q.W.e().yf().Jr(!0)}),window.addEventListener("mouseup",function(a){a.button==q.SE?q.W.e().yf().NG(!1):q.W.e().yf().Jr(!1)}),a.addEventListener("mousedown",function(a){q.W.e().yf().fn(c(a),
a,q.FM)}),a.addEventListener("mouseup",function(a){q.W.e().yf().fn(c(a),a,q.JM)}),a.addEventListener("mousemove",function(a){q.W.e().yf().fn(c(a),a,q.RE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.TK(a.wheelDelta);q.W.e().yf().fn(e,a,q.iF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.TK(-120*a.detail);q.W.e().yf().fn(e,a,q.iF)}),a.addEventListener("mouseout",function(a){q.W.e().yf().fn(c(a),a,q.HM)},!1),a.addEventListener("mouseover",function(a){q.W.e().yf().fn(c(a),
a,q.GM)},!1))};q.oda=function(){return{x:0,y:0}};q.Ll=function(a,c){return{x:a,y:c}};q.Rg=function(a,c){return q.Ll(a.x+c.x,a.y+c.y)};q.pd=function(a,c){return q.Ll(a.x-c.x,a.y-c.y)};q.hg=function(a,c){return q.Ll(a.x*c,a.y*c)};q.gy=function(a){return q.Ll(-a.y,a.x)};q.ij=function(a){return q.Ll(-a.x,-a.y)};q.lY=function(a,c){return a.x*c.x+a.y*c.y};q.nda=function(a){return q.Ll(Math.cos(a),Math.sin(a))};q.hE=function(a){a=q.zh(q.a(a.x,a.y));return q.Ll(a.x,a.y)};q.vi=function(a){return q.Ll(a.x,a.y)};
q.Cb=function(a){return{Oa:a.x,ma:a.y}};
q.$L=q.D.extend({cb:null,fa:null,ts:function(){return this.fa},Bl:function(a){this.fa=a},ctor:function(){q.D.prototype.ctor.call(this);this.cb=[];this.fa=new q.Sl(q.De,q.Ce)},Va:function(a){a=a||q.V;var c=q.ra.e().va;this.fa&&770==this.fa.src&&1==this.fa.Gb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.cb.length;d++){var e=this.cb[d];e.type===q.Ug.rF&&(a.fillStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.I+")",q.Yf.iC(e.position,e.oD));e.type===
q.Ug.tF&&(a.strokeStyle="rgba("+(0|255*e.color.p)+","+(0|255*e.color.o)+","+(0|255*e.color.g)+","+e.color.I+")",a.lineWidth=2*e.oD*c,a.lineCap="round",q.Yf.$h(e.Ym,e.Kl));e.type===q.Ug.sF&&(a.fillStyle="rgba("+(0|255*e.fillColor.p)+","+(0|255*e.fillColor.o)+","+(0|255*e.fillColor.g)+","+e.fillColor.I+")",q.Yf.ge(e.jE,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.p)+","+(0|255*e.borderColor.o)+","+(0|255*e.borderColor.g)+","+e.borderColor.I+
")",q.Yf.ge(e.jE,e.count,!0,!1))}},eS:function(a,c,d){var e=new q.jz(q.Ug.rF);e.position=a;e.oD=c;e.color=d;this.cb.push(e)},iS:function(a,c,d,e){var f=new q.jz(q.Ug.tF);f.Ym=a;f.Kl=c;f.oD=d;f.color=e;this.cb.push(f)},ge:function(a,c,d,e){var f=new q.jz(q.Ug.sF);f.jE=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.cb.push(f)},clear:function(){this.cb.length=0}});
q.aM=q.D.extend({mo:0,cb:null,dl:null,bH:null,aH:null,fa:null,Ia:!1,ts:function(){return this.fa},Bl:function(a){this.fa=a},ctor:function(){q.D.prototype.ctor.call(this);this.cb=[];this.fa=new q.Sl(q.De,q.Ce)},t:function(){return q.D.prototype.t.call(this)?(this.Ng(q.Gh.e().li(q.I_)),this.dA(512),this.bH=q.V.createBuffer(),this.Ia=!0):!1},CP:function(){var a=q.V;q.qe(q.zu);a.bindBuffer(a.ARRAY_BUFFER,this.bH);this.Ia&&(a.bufferData(a.ARRAY_BUFFER,this.dl,a.STREAM_DRAW),this.Ia=!1);var c=q.Tb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.Ge,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.yq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.zq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.cb.length);q.Dh()},dA:function(a){if(this.cb.length+a>this.mo){var c=q.Dc.BYTES_PER_ELEMENT;this.mo+=Math.max(this.mo,a);if(null==this.cb||0===this.cb.length)this.cb=[],this.dl=new ArrayBuffer(c*this.mo),this.aH=new Uint8Array(this.dl);else{a=[];for(var d=new ArrayBuffer(c*this.mo),e=0;e<this.cb.length;e++)a[e]=new q.Dc(this.cb[e].I,
this.cb[e].g,this.cb[e].Ba,d,e*c);this.aH=new Uint8Array(d);this.cb=a;this.dl=d}}},Va:function(){q.ck(this.fa.src,this.fa.Gb);this.Hc.lf();this.Hc.PK();this.CP()},eS:function(a,c,d){d={p:0|255*d.p,o:0|255*d.o,g:0|255*d.g,I:0|255*d.I};var e={r:{x:a.x-c,y:a.y-c},J:d,B:{Oa:-1,ma:-1}},f={r:{x:a.x+c,y:a.y+c},J:d,B:{Oa:1,ma:1}},g={r:{x:a.x+c,y:a.y-c},J:d,B:{Oa:1,ma:-1}};this.cb.push(new q.Dc(e,{r:{x:a.x-c,y:a.y+c},J:d,B:{Oa:-1,ma:1}},f,this.dl,this.cb.length*q.Dc.BYTES_PER_ELEMENT));this.cb.push(new q.Dc(e,
f,g,this.dl,this.cb.length*q.Dc.BYTES_PER_ELEMENT));this.Ia=!0},iS:function(a,c,d,e){this.dA(18);e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,I:0|255*e.I};var f=q.vi(a);c=q.vi(c);a=q.hE(q.gy(q.pd(c,f)));var g=q.gy(a),h=q.hg(a,d);d=q.hg(g,d);var k=q.Rg(c,q.pd(h,d)),l=q.pd(c,h),m=q.Rg(c,h),n=q.pd(f,h),r=q.Rg(f,h),p=q.pd(f,q.pd(h,d)),f=q.Rg(f,q.Rg(h,d)),t=q.Dc.BYTES_PER_ELEMENT,x=this.dl;this.cb.push(new q.Dc({r:q.pd(c,q.Rg(h,d)),J:e,B:q.Cb(q.ij(q.Rg(a,g)))},{r:k,J:e,B:q.Cb(q.pd(a,g))},{r:l,J:e,B:q.Cb(q.ij(a))},
x,this.cb.length*t));this.cb.push(new q.Dc({r:m,J:e,B:q.Cb(a)},{r:k,J:e,B:q.Cb(q.pd(a,g))},{r:l,J:e,B:q.Cb(q.ij(a))},x,this.cb.length*t));this.cb.push(new q.Dc({r:m,J:e,B:q.Cb(a)},{r:n,J:e,B:q.Cb(q.ij(a))},{r:l,J:e,B:q.Cb(q.ij(a))},x,this.cb.length*t));this.cb.push(new q.Dc({r:m,J:e,B:q.Cb(a)},{r:n,J:e,B:q.Cb(q.ij(a))},{r:r,J:e,B:q.Cb(a)},x,this.cb.length*t));this.cb.push(new q.Dc({r:p,J:e,B:q.Cb(q.pd(g,a))},{r:n,J:e,B:q.Cb(q.ij(a))},{r:r,J:e,B:q.Cb(a)},x,this.cb.length*t));this.cb.push(new q.Dc({r:p,
J:e,B:q.Cb(q.pd(g,a))},{r:f,J:e,B:q.Cb(q.Rg(a,g))},{r:r,J:e,B:q.Cb(a)},x,this.cb.length*t));this.Ia=!0},ge:function(a,c,d,e){c={p:0|255*c.p,o:0|255*c.o,g:0|255*c.g,I:0|255*c.I};e={p:0|255*e.p,o:0|255*e.o,g:0|255*e.g,I:0|255*e.I};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.vi(a[(g-1+m)%m]);k=q.vi(a[g]);l=q.vi(a[(g+1)%m]);var n=q.hE(q.gy(q.pd(k,h)));k=q.hE(q.gy(q.pd(l,k)));f[g]={offset:q.hg(q.Rg(n,k),1/(q.lY(n,k)+1)),rJ:k}}n=0<d;this.dA(3*(3*m-2));var r=q.Dc.BYTES_PER_ELEMENT,p=this.dl,t=this.cb,
x=!1==n?0.5:0;for(g=0;g<m-2;g++)h=q.pd(q.vi(a[0]),q.hg(f[0].offset,x)),k=q.pd(q.vi(a[g+1]),q.hg(f[g+1].offset,x)),l=q.pd(q.vi(a[g+2]),q.hg(f[g+2].offset,x)),t.push(new q.Dc({r:h,J:c,B:q.Cb({x:0,y:0})},{r:k,J:c,B:q.Cb({x:0,y:0})},{r:l,J:c,B:q.Cb({x:0,y:0})},p,t.length*r));for(g=0;g<m;g++){x=(g+1)%m;h=q.vi(a[g]);k=q.vi(a[x]);l=f[g].rJ;var A=f[g].offset,D=f[x].offset,x=n?q.pd(h,q.hg(A,d)):q.pd(h,q.hg(A,0.5)),C=n?q.pd(k,q.hg(D,d)):q.pd(k,q.hg(D,0.5));h=n?q.Rg(h,q.hg(A,d)):q.Rg(h,q.hg(A,0.5));k=n?q.Rg(k,
q.hg(D,d)):q.Rg(k,q.hg(D,0.5));n?(t.push(new q.Dc({r:x,J:e,B:q.Cb(q.ij(l))},{r:C,J:e,B:q.Cb(q.ij(l))},{r:k,J:e,B:q.Cb(l)},p,t.length*r)),t.push(new q.Dc({r:x,J:e,B:q.Cb(q.ij(l))},{r:h,J:e,B:q.Cb(l)},{r:k,J:e,B:q.Cb(l)},p,t.length*r))):(t.push(new q.Dc({r:x,J:c,B:q.Cb({x:0,y:0})},{r:C,J:c,B:q.Cb({x:0,y:0})},{r:k,J:c,B:q.Cb(l)},p,t.length*r)),t.push(new q.Dc({r:x,J:c,B:q.Cb({x:0,y:0})},{r:h,J:c,B:q.Cb(l)},{r:k,J:c,B:q.Cb(l)},p,t.length*r)))}this.Ia=!0},clear:function(){this.cb.length=0;this.Ia=!0}});
q.Ug=q.Fa.Pc?q.aM:q.$L;q.Ug.create=function(){var a=new q.Ug;return a&&a.t()?a:null};q.jz=function(a){this.type=a};q.Ug.rF=0;q.Ug.tF=1;q.Ug.sF=2;q.ht=-1;q.FK=function(a,c){a.Ng(c);var d=a.u;if(d)for(var e=0;e<d.length;e++)q.FK(d[e],c)};
q.ob=q.D.extend({kc:null,am:0,Ii:!1,dG:!1,ctor:function(){q.D.prototype.ctor.call(this);this.kc=null;this.am=0;this.Ii=!1},t:null,tA:function(a){this.kc=a;this.am=1;this.Ii=!1;q.ob.wA=!0;q.ob.wA&&(q.ht=q.V.getParameter(q.V.STENCIL_BITS),0>=q.ht&&q.log("Stencil buffer is not enabled."),q.ob.wA=!1);return!0},sA:function(a){this.kc=a;this.am=1;this.Ii=!1},Kg:function(){q.D.prototype.Kg.call(this);this.kc.Kg()},ii:function(){q.D.prototype.ii.call(this);this.kc.ii()},yh:function(){this.kc.yh();q.D.prototype.yh.call(this)},
Md:function(){this.kc.Md();q.D.prototype.Md.call(this)},qa:null,Nm:function(a){var c=a||q.V;if(1>q.ht)q.D.prototype.qa.call(this,a);else if(this.kc&&this.kc.ka)if(q.ob.tr=-1,q.ob.tr+1==q.ht)q.ob.MB=!0,q.ob.MB&&(q.log("Nesting more than "+q.ht+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.ob.MB=!1),q.D.prototype.qa.call(this,a);else{q.ob.tr++;var d=1<<q.ob.tr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var p=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Ii?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Yf.jC(q.oj(),q.RU(),q.vw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Ii?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.am){var d=
q.Gh.e().li(q.K_),t=c.getUniformLocation(d.Nw(),q.e0);q.d7(d.Nw());d.OK(t,this.am);q.FK(this.kc,d)}q.Mp();this.transform();this.kc.qa();q.Lp();c.depthMask(p);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.D.prototype.qa.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.ob.tr--}else this.Ii&&q.D.prototype.qa.call(this,a)},Mm:function(a){if(this.kc&&this.kc.ka){if(this.Dz()||this.kc instanceof q.A){a=a||q.V;var c=a.canvas,d=q.ob.BO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Ii?"destination-out":"destination-in";this.transform(a);this.kc.qa();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.V;var d=this.u,e;a.save();this.transform(a);this.kc.qa(a);a.clip();this.Dz(!0);var f=d.length;if(0<f){this.Nd();for(c=0;c<f;c++)if(e=d[c],0>e.eb)e.qa(a);else break;for(this.Va(a);c<
f;c++)d[c].qa(a)}else this.Va(a);this.Dz(!1)}a.restore()}else this.Ii&&q.D.prototype.qa.call(this,a)},u6:function(){return this.kc},ND:null,gQ:function(a){this.kc=a},fQ:function(a){this.kc=a;var c=q.ra.e().va,d=q.ra.e().Aa,e=q.V;!(a instanceof q.A)&&a instanceof q.Ug&&(a.Va=function(){for(var f=0;f<a.cb.length;f++){var g=a.cb[f].jE,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},D3:function(){return this.am},baa:function(a){this.am=a},S7:function(){return this.Ii},
Maa:function(a){this.Ii=a},Dz:function(a){if(!0===a||!1===a)q.ob.prototype.dG=a;return q.ob.prototype.dG}});q.Fa.Pc?(q.ob.prototype.t=q.ob.prototype.tA,q.ob.prototype.qa=q.ob.prototype.Nm,q.ob.prototype.ND=q.ob.prototype.gQ):(q.ob.prototype.t=q.ob.prototype.sA,q.ob.prototype.qa=q.ob.prototype.Mm,q.ob.prototype.ND=q.ob.prototype.fQ);q.ob.wA=null;q.ob.MB=null;q.ob.tr=null;q.ob.TG=null;q.ob.BO=function(){return q.ob.TG||(q.ob.TG=document.createElement("canvas"))};
q.ob.create=function(a){var c=new q.ob;c.t(a);return c};q.GZ=0;q.HZ=1;q.IZ=2;q.Un=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.Ab=q.D.extend({no:null,oo:null,cv:0,Vq:0,Gv:0,Ea:null,Xr:null,xQ:null,Qf:q.qj,pb:null,Qu:0,wj:null,Jz:0,Kz:0,Gq:!1,Iz:null,ctor:null,Ih:function(){q.D.prototype.ctor.call(this);this.wj=q.vw(1,1,1,1);this.Iz="rgba(255,255,255,1)";this.no=document.createElement("canvas");this.oo=this.no.getContext("2d");this.L(0,0)},Jh:function(){q.D.prototype.ctor.call(this);this.wj=q.vw(0,0,0,0)},Xf:null,aO:function(){q.D.prototype.Md.call(this);this.no=this.oo=null},bO:function(){q.D.prototype.Md.call(this);this.Xr=
null;var a=q.V;a.deleteFramebuffer(this.cv);this.Vq&&a.deleteRenderbuffer(this.Vq);this.xQ=null},eT:function(){return this.pb},dt:function(a){this.pb=a},PC:null,MO:function(a,c){var d=this.no,e=q.Cd();d.width=0|a*e;d.height=0|c*e;this.oo.translate(0,d.height);e=new q.Yb;e.Bf(d);e.ve();this.pb=q.A.gb(e);return!0},NO:function(a,c,d,e){d==q.tq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.V,g=q.Cd();a=0|a*g;c=0|c*g;this.Gv=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.Ee.e().Ur?(g=a,h=c):(g=q.Un(a),h=q.Un(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Qf=d;this.Ea=new q.Yb;if(!this.Ea)return!1;l=this.Ea;l.Uw(k,this.Qf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Ee.e().pp("GL_QCOM")){this.Xr=new q.Yb;if(!this.Xr)return!1;this.Xr.Uw(k,this.Qf,g,h,q.size(a,c))}this.cv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.cv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Yh,0);0!=e&&(this.Vq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Vq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Vq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.gK();a=this.pb=q.A.gb(l);a.Bn(-1);a.Bl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.Gv);this.Gq=
!1;this.f(a);return!0},Xj:null,RN:function(){q.V=this.oo;q.ra.e().cQ()},SN:function(){q.bn(q.$t);q.Mp();q.bn(q.Zt);q.Mp();var a=q.W.e();a.Gx(a.Xk);var c=this.Ea.ta,d=q.W.e().mT(),a=d.width/c.width,d=d.height/c.height,e=q.V;e.viewport(0,0,c.width,c.height);c=new q.wh;q.mU(c,-1/a,1/a,-1/d,1/d,-1,1);q.ax(c);this.Gv=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.cv);q.Ee.e().pp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Xr.Yh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ea.Yh,0))},WB:function(a,c,d,e,f,g){var h=q.V;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Az(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Az:null,TN:function(a,c,d,e){this.Xj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.oo,g=this.no;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},UN:function(a,c,d,e,f,g,h){this.Xj();var k=q.V,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,uO:function(){q.V=q.sU;q.ra.e().FP()},vO:function(){var a=q.V,c=q.W.e();a.bindFramebuffer(a.FRAMEBUFFER,this.Gv);c.SK();q.bn(q.$t);q.Lp();q.bn(q.Zt);q.Lp()},clear:function(a,c,d,e){this.WB(a,c,d,e);this.end()},clearRect:null,fO:function(a,c,d,e){this.oo.clearRect(a,c,d,-e)},gO:function(){},clearDepth:null,dO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},eO:function(a){this.Xj();var c=q.V,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,hO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},iO:function(a){var c=q.V,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},qa:null,Mm:function(a){this.ka&&(a=a||q.V,a.save(),this.Va(a),this.transform(a),this.pb.qa(),a.restore(),this.Pf=0)},Nm:function(a){if(this.ka){q.Mp();var c=this.Lk;c&&c.Ip()&&(c.VB(),this.by());this.transform(a);this.pb.qa();this.Va(a);c&&c.Ip()&&c.RB(this);
q.Lp();this.Pf=0}},Va:null,hm:function(a){a=a||q.V;if(this.Gq){this.Xj();if(this.Qu){var c=this.no;a.save();a.fillStyle=this.Iz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Nd();a=this.u;for(var c=a.length,d=this.pb,e=0;e<c;e++){var f=a[e];f!=d&&f.qa()}this.end()}},rg:function(){var a=q.V;if(this.Gq){this.Xj();var c=this.Qu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.wj.p,this.wj.o,this.wj.g,
this.wj.I));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.Jz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.Kz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Nd();a=this.u;for(c=0;c<a.length;c++)d=a[c],d!=this.pb&&d.qa();this.end()}},sJ:null,dP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");return null},
eP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.tt(this.Qf==q.qj,"only RGBA8888 can be saved as image");if(!this.Ea)return null;var a=this.Ea.ta,c=a.width,a=a.height,d=new q.mM,e=q.V,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.Xj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.bP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.r7(f,c*a*4,q.AZ,c,a,8);return d},bP:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},T$:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},J8:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},K8:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},b4:function(){return this.Qu},jaa:function(a){this.Qu=a},Z3:function(){return this.wj},nK:null,NP:function(a){var c=this.wj;c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I;this.Iz="rgba("+(0|255*a.p)+","+(0|255*a.o)+","+(0|255*a.g)+","+a.I+")"},OP:function(a){var c=this.wj;
c.p=a.p;c.o=a.o;c.g=a.g;c.I=a.I},a4:function(){return this.Jz},iaa:function(a){this.Jz=a},c4:function(){return this.Kz},kaa:function(a){this.Kz=a},D7:function(){return this.Gq},daa:function(a){this.Gq=a}});
q.Fa.Pc?(b=q.Ab.prototype,b.ctor=q.Ab.prototype.Jh,b.Xf=q.Ab.prototype.bO,b.PC=q.Ab.prototype.NO,b.Xj=q.Ab.prototype.SN,b.Az=q.Ab.prototype.UN,b.end=q.Ab.prototype.vO,b.clearRect=q.Ab.prototype.gO,b.clearDepth=q.Ab.prototype.eO,b.clearStencil=q.Ab.prototype.iO,b.qa=q.Ab.prototype.Nm,b.Va=q.Ab.prototype.rg,b.sJ=q.Ab.prototype.eP,b.nK=q.Ab.prototype.OP):(b=q.Ab.prototype,b.ctor=q.Ab.prototype.Ih,b.Xf=q.Ab.prototype.aO,b.PC=q.Ab.prototype.MO,b.Xj=q.Ab.prototype.RN,b.Az=q.Ab.prototype.TN,b.end=q.Ab.prototype.uO,
b.clearRect=q.Ab.prototype.fO,b.clearDepth=q.Ab.prototype.dO,b.clearStencil=q.Ab.prototype.hO,b.qa=q.Ab.prototype.Mm,b.Va=q.Ab.prototype.hm,b.sJ=q.Ab.prototype.dP,b.nK=q.Ab.prototype.NP);q.Ab.create=function(a,c,d,e){d=d||q.qj;e=e||0;var f=new q.Ab;return f&&f.PC(a,c,d,e)?f:null};q.On=-1;
q.Bd=q.Da.extend({sm:null,P:null,ld:q.On,ctor:function(){this.P=this.sm=null;this.ld=q.On},description:function(){return"\x3ccc.Action | Tag \x3d "+this.ld+"\x3e"},copy:function(){return q.G(this)},G:function(){var a=new q.Bd;a.sm=null;a.P=null;a.ld=this.ld;return a},fi:function(){return!0},Z:function(a){this.P=this.sm=a},stop:function(){this.P=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},iT:function(){return this.P},Lba:function(a){this.P=a},
C5:function(){return this.sm},gba:function(a){this.sm=a},hT:function(){return this.ld},NK:function(a){this.ld=a},bK:function(){},tD:function(){}});q.Bd.create=function(){return new q.Bd};q.nj=q.Bd.extend({wa:0,ctor:function(){q.Bd.prototype.ctor.call(this);this.wa=0},xf:function(){return this.wa},vaa:function(a){this.wa=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},G:function(){return new q.nj}});
q.pu=q.Bd.extend({Bm:0,Db:null,ctor:function(){q.Bd.prototype.ctor.call(this);this.Bm=0;this.Db=null},n6:function(){return this.Bm},Eba:function(a){this.Bm=a},na:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Db=a;this.Bm=c;return!0},G:function(){var a=new q.pu;a.na(this.Db.G(),this.Bm);return a},Z:function(a){q.Bd.prototype.Z.call(this,a);this.Db.Z(a)},stop:function(){this.Db.stop();q.Bd.prototype.stop.call(this)},step:function(a){this.Db.step(a*this.Bm)},fi:function(){return this.Db.fi()},
reverse:function(){return q.pu.create(this.Db.reverse(),this.Bm)},zK:function(a){this.Db!=a&&(this.Db=a)},qC:function(){return this.Db}});q.pu.create=function(a,c){var d=new q.pu;return d&&d.na(a,c)?d:null};
q.By=q.Bd.extend({Eo:null,ko:!1,Lu:!1,iv:null,jr:null,cn:0,wn:0,In:0,Um:0,OB:null,ctor:function(){q.Bd.prototype.ctor.call(this);this.Eo=null;this.Lu=this.ko=!1;this.jr=this.iv=null;this.Um=this.In=this.wn=this.cn=0;this.OB=q.dd()},G:function(){var a=new q.By,c=this.OB,c=new q.lg(c.x,c.y,c.width,c.height);a.Gg(this.Eo,c);return a},F7:function(){return this.ko},faa:function(a){this.ko=a},Gg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.dd();this.Eo=a;this.OB=
c;this.ko=!q.Fr(c);this.Lu=!1;var d=q.W.e().Qb;this.jr=q.a(d.width,d.height);this.iv=q.dj(this.jr,0.5);this.ko&&(this.cn=-(c.x+c.width-this.jr.x),this.wn=-c.x,this.In=-c.y,this.Um=-(c.y+c.height-this.jr.y),this.wn<this.cn&&(this.wn=this.cn=(this.cn+this.wn)/2),this.In<this.Um&&(this.In=this.Um=(this.In+this.Um)/2),this.In==this.Um&&this.cn==this.wn&&(this.Lu=!0));return!0},step:function(){var a=this.Eo.q.F,c=this.Eo.q.H,a=this.iv.x-a,c=this.iv.y-c;this.ko?this.Lu||this.P.n(q.ms(a,this.cn,this.wn),
q.ms(c,this.Um,this.In)):this.P.n(a,c)},fi:function(){return!this.Eo.Oe},stop:function(){this.P=null;q.Bd.prototype.stop.call(this)}});q.By.create=function(a,c){c=c||new q.dd;var d=new q.By;return null!=c&&d&&d.Gg(a,c)||d&&d.Gg(a)?d:null};q.O=q.nj.extend({cc:0,ir:!1,ctor:function(){q.nj.prototype.ctor.call(this);this.cc=0;this.ir=!1},s4:function(){return this.cc},M:function(a){this.wa=0===a?q.Tt:a;this.cc=0;return this.ir=!0},fi:function(){return this.cc>=this.wa},G:function(){var a=new q.O;a.M(this.wa);return a},step:function(a){this.ir?(this.ir=!1,this.cc=0):this.cc+=a;a=this.cc/(1.192092896E-7<this.wa?this.wa:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},Z:function(a){q.Bd.prototype.Z.call(this,a);this.cc=0;this.ir=!0},reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");
return null},caa:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},E3:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.O.create=function(a){var c=new q.O;c.M(a);return c};
q.pj=q.O.extend({wi:null,mB:null,Oo:0,ctor:function(){q.O.prototype.ctor.call(this);this.wi=[];this.mB=null;this.Oo=0},Hs:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.M(a.xf()+c.xf());this.wi[0]=a;this.wi[1]=c;return!0},G:function(){var a=new q.pj;a.Hs(this.wi[0].G(),this.wi[1].G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.mB=this.wi[0].xf()/this.wa;this.Oo=-1},stop:function(){-1!==this.Oo&&this.wi[this.Oo].stop();q.Bd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.mB,e=this.wi,f=this.Oo;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].Z(this.P),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].fi()||(f!==c&&e[c].Z(this.P),e[c].update(a),this.Oo=c)},reverse:function(){return q.pj.Zl(this.wi[1].reverse(),this.wi[0].reverse())},copy:function(){return this.G()}});
q.pj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.pj.Zl(d,c[e]));return d};q.pj.Zl=function(a,c){var d=new q.pj;d.Hs(a,c);return d};
q.gu=q.O.extend({Tf:0,Rj:0,Dv:0,FF:!1,Db:null,ctor:function(){q.O.prototype.ctor.call(this);this.Dv=this.Rj=this.Tf=0;this.FF=!1;this.Db=null},na:function(a,c){return this.M(a.xf()*c)?(this.Tf=c,this.Db=a,a instanceof q.pi&&(this.Tf-=1),this.Rj=0,!0):!1},G:function(){var a=new q.gu;a.na(this.Db.G(),this.Tf);return a},Z:function(a){this.Rj=0;this.Dv=this.Db.xf()/this.wa;q.O.prototype.Z.call(this,a);this.Db.Z(a)},stop:function(){this.Db.stop();q.Bd.prototype.stop.call(this)},update:function(a){var c=
this.Db,d=this.wa,e=this.Tf,f=this.Dv;if(a>=f){for(;a>f&&this.Rj<e;)c.update(1),this.Rj++,c.stop(),c.Z(this.P),this.Dv=f+=c.xf()/d;1<=a&&this.Rj<e&&this.Rj++;this.FF&&(this.Rj==e?(c.update(1),c.stop()):c.update(a-(f-c.xf()/d)))}else c.update(a*e%1)},fi:function(){return this.Rj==this.Tf},reverse:function(){return q.gu.create(this.Db.reverse(),this.Tf)},zK:function(a){this.Db!=a&&(this.Db=a)},qC:function(){return this.Db}});q.gu.create=function(a,c){var d=new q.gu;d.na(a,c);return d};
q.hu=q.O.extend({Db:null,ctor:function(){q.O.prototype.ctor.call(this);this.Db=null},na:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Db=a;return!0},G:function(){var a=new q.hu;a.na(this.Db.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Db.Z(a)},step:function(a){var c=this.Db;c.step(a);c.fi()&&(c.Z(this.P),c.step(c.cc-c.xf()))},fi:function(){return!1},reverse:function(){return q.hu.create(this.Db.reverse())},zK:function(a){this.Db!=a&&(this.Db=
a)},qC:function(){return this.Db}});q.hu.create=function(a){var c=new q.hu;return c&&c.na(a)?c:null};
q.sq=q.O.extend({Mj:null,Vj:null,ctor:function(){q.O.prototype.ctor.call(this);this.Vj=this.Mj=null},Hs:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.xf(),f=c.xf();this.M(Math.max(e,f))&&(this.Mj=a,this.Vj=c,e>f?this.Vj=q.pj.Zl(c,q.Qn.create(e-f)):e<f&&(this.Mj=q.pj.Zl(a,q.Qn.create(f-e))),d=!0);return d},G:function(){var a=new q.sq;a.Hs(this.Mj.G(),this.Vj.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Mj.Z(a);this.Vj.Z(a)},
stop:function(){this.Mj.stop();this.Vj.stop();q.Bd.prototype.stop.call(this)},update:function(a){this.Mj&&this.Mj.update(a);this.Vj&&this.Vj.update(a)},reverse:function(){return q.sq.Zl(this.Mj.reverse(),this.Vj.reverse())}});q.sq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.Zl(d,c[e]));return d};
q.sq.Zl=function(a,c){var d=new q.sq;d.Hs(a,c);return d};
q.Sy=q.O.extend({Yq:0,Cm:0,Vz:0,av:0,$k:0,Wz:0,ctor:function(){q.O.prototype.ctor.call(this);this.Wz=this.$k=this.av=this.Vz=this.Cm=this.Yq=0},M:function(a,c,d){return q.O.prototype.M.call(this,a)?(this.Yq=c||0,this.av=d||this.Yq,!0):!1},G:function(){var a=new q.Sy;a.M(this.wa,this.Yq,this.av);return a},Z:function(a){q.O.prototype.Z.call(this,a);var c=a.xg%360,d=this.Yq-c;180<d&&(d-=360);-180>d&&(d+=360);this.Cm=c;this.Vz=d;this.$k=a.Qh%360;a=this.av-this.$k;180<a&&(a-=360);-180>a&&(a+=360);this.Wz=
a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.P&&(this.P.Jx(this.Cm+this.Vz*a),this.P.Kx(this.$k+this.Wz*a))}});q.Sy.create=function(a,c,d){var e=new q.Sy;e.M(a,c,d);return e};
q.ju=q.O.extend({ng:0,Cm:0,Fq:0,$k:0,ctor:function(){q.O.prototype.ctor.call(this);this.$k=this.Fq=this.Cm=this.ng=0},M:function(a,c,d){return q.O.prototype.M.call(this,a)?(this.ng=c||0,this.Fq=d||this.ng,!0):!1},G:function(){var a=new q.ju;a.M(this.wa,this.ng,this.Fq);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Cm=a.xg;this.$k=a.Qh},update:function(a){this.P&&(this.P.Jx(this.Cm+this.ng*a),this.P.Kx(this.$k+this.Fq*a))},reverse:function(){return q.ju.create(this.wa,-this.ng,-this.Fq)}});
q.ju.create=function(a,c,d){var e=new q.ju;e.M(a,c,d);return e};
q.uk=q.O.extend({Pi:null,Sc:null,Rc:null,ctor:function(){q.O.prototype.ctor.call(this);this.Pi=q.a(0,0);this.Sc=q.a(0,0);this.Rc=q.a(0,0)},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.Pi.x=c.x,this.Pi.y=c.y,!0):!1},G:function(){var a=new q.uk;a.M(this.wa,this.Pi);return a},Z:function(a){q.O.prototype.Z.call(this,a);var c=a.q.F;a=a.q.H;this.Rc.x=c;this.Rc.y=a;this.Sc.x=c;this.Sc.y=a},update:function(a){if(this.P){var c=this.Pi.x*a;a*=this.Pi.y;var d=this.Sc;if(q.xt){var e=this.P.q.H,f=
this.Rc;d.x=d.x+this.P.q.F-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.P.n(c,a);f.x=c;f.y=a}else this.P.n(d.x+c,d.y+a)}},reverse:function(){return q.uk.create(this.wa,q.a(-this.Pi.x,-this.Pi.y))}});q.uk.create=function(a,c){var d=new q.uk;d.M(a,c);return d};
q.bu=q.uk.extend({Do:null,ctor:function(){q.uk.prototype.ctor.call(this);this.Do=q.a(0,0)},M:function(a,c){return q.uk.prototype.M.call(this,a,c)?(this.Do.x=c.x,this.Do.y=c.y,!0):!1},G:function(){var a=new q.bu;a.M(this.wa,this.Do);return a},Z:function(a){q.uk.prototype.Z.call(this,a);this.Pi.x=this.Do.x-a.q.F;this.Pi.y=this.Do.y-a.q.H}});q.bu.create=function(a,c){var d=new q.bu;d.M(a,c);return d};
q.$n=q.O.extend({de:0,ee:0,Qr:0,Rr:0,cr:0,dr:0,He:0,Ie:0,ctor:function(){q.O.prototype.ctor.call(this);this.Ie=this.He=this.dr=this.cr=this.Rr=this.Qr=this.ee=this.de=0},M:function(a,c,d){var e=!1;q.O.prototype.M.call(this,a)&&(this.cr=c,this.dr=d,e=!0);return e},G:function(){var a=new q.$n;a.M(this.wa,this.cr,this.dr);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Qr=a.de%180;this.He=this.cr-this.Qr;180<this.He&&(this.He-=360);-180>this.He&&(this.He+=360);this.Rr=a.ee%360;this.Ie=this.dr-
this.Rr;180<this.Ie&&(this.Ie-=360);-180>this.Ie&&(this.Ie+=360)},update:function(a){this.P.Mx(this.Qr+this.He*a);this.P.Nx(this.Rr+this.Ie*a)}});q.$n.create=function(a,c,d){var e=new q.$n;e&&e.M(a,c,d);return e};
q.nu=q.$n.extend({M:function(a,c,d){var e=!1;q.$n.prototype.M.call(this,a,c,d)&&(this.de=c,this.ee=d,e=!0);return e},G:function(){var a=new q.nu;a.M(this.wa,this.de,this.ee);return a},Z:function(a){q.$n.prototype.Z.call(this,a);this.He=this.de;this.Ie=this.ee;this.cr=this.Qr+this.He;this.dr=this.Rr+this.Ie},reverse:function(){return q.nu.create(this.wa,-this.de,-this.ee)}});q.nu.create=function(a,c,d){var e=new q.nu;e&&e.M(a,c,d);return e};
q.Sn=q.O.extend({Sc:null,qg:null,sa:0,Lo:0,Rc:null,ctor:function(){q.O.prototype.ctor.call(this);this.Sc=q.a(0,0);this.Rc=q.a(0,0);this.qg=q.a(0,0);this.Lo=this.sa=0},M:function(a,c,d,e){return q.O.prototype.M.call(this,a)?(this.qg.x=c.x,this.qg.y=c.y,this.sa=d,this.Lo=e,!0):!1},G:function(){var a=new q.Sn;a.M(this.wa,this.qg,this.sa,this.Lo);return a},Z:function(a){q.O.prototype.Z.call(this,a);var c=a.q.F;a=a.q.H;this.Rc.x=c;this.Rc.y=a;this.Sc.x=c;this.Sc.y=a},update:function(a){if(this.P){var c=
a*this.Lo%1,c=4*this.sa*c*(1-c),c=c+this.qg.y*a;a*=this.qg.x;var d=this.Sc;if(q.xt){var e=this.P.q.H,f=this.Rc;d.x=d.x+this.P.q.F-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.P.n(a,c);f.x=a;f.y=c}else this.P.n(d.x+a,d.y+c)}},reverse:function(){return q.Sn.create(this.wa,q.a(-this.qg.x,-this.qg.y),this.sa,this.Lo)}});q.Sn.create=function(a,c,d,e){var f=new q.Sn;f.M(a,c,d,e);return f};
q.Ey=q.Sn.extend({Z:function(a){q.Sn.prototype.Z.call(this,a);this.qg.x-=this.Sc.x;this.qg.y-=this.Sc.y},G:function(){var a=new q.Ey;a.M(this.wa,this.qg,this.sa,this.Lo);return a}});q.Ey.create=function(a,c,d,e){var f=new q.Ey;f.M(a,c,d,e);return f};q.GH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.Rl=q.O.extend({fm:null,Sc:null,Rc:null,ctor:function(){q.O.prototype.ctor.call(this);this.fm=[];this.Sc=q.a(0,0);this.Rc=q.a(0,0)},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.fm=c,!0):!1},G:function(){for(var a=new q.Rl,c=[],d=0;d<this.fm.length;d++){var e=this.fm[d];c.push(q.a(e.x,e.y))}a.M(this.wa,c);return a},Z:function(a){q.O.prototype.Z.call(this,a);var c=a.q.F;a=a.q.H;this.Rc.x=c;this.Rc.y=a;this.Sc.x=c;this.Sc.y=a},update:function(a){if(this.P){var c=this.fm,d=q.GH(c[0].x,c[1].x,
c[2].x,a);a=q.GH(c[0].y,c[1].y,c[2].y,a);c=this.Sc;if(q.xt){var e=this.P.q.H,f=this.Rc;c.x=c.x+this.P.q.F-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.P.n(d,a);f.x=d;f.y=a}else this.P.n(c.x+d,c.y+a)}},reverse:function(){var a=this.fm,a=[q.cg(a[1],q.hD(a[2])),q.cg(a[0],q.hD(a[2])),q.hD(a[2])];return q.Rl.create(this.wa,a)}});q.Rl.create=function(a,c){var d=new q.Rl;d.M(a,c);return d};
q.ny=q.Rl.extend({hw:null,ctor:function(){q.Rl.prototype.ctor.call(this);this.hw=[]},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.hw=c,!0):!1},G:function(){var a=new q.ny;a.M(this.wa,this.hw);return a},Z:function(a){q.Rl.prototype.Z.call(this,a);a=this.Sc;var c=this.hw,d=this.fm;d[0]=q.xd(c[0],a);d[1]=q.xd(c[1],a);d[2]=q.xd(c[2],a)}});q.ny.create=function(a,c){var d=new q.ny;d.M(a,c);return d};
q.Zn=q.O.extend({va:1,Aa:1,$o:1,ap:1,im:0,jm:0,He:0,Ie:0,ctor:function(){q.O.prototype.ctor.call(this);this.ap=this.$o=this.Aa=this.va=1;this.Ie=this.He=this.jm=this.im=0},M:function(a,c,d){return q.O.prototype.M.call(this,a)?(this.im=c,this.jm=null!=d?d:c,!0):!1},G:function(){var a=new q.Zn;a.M(this.wa,this.im,this.jm);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.$o=a.va;this.ap=a.Aa;this.He=this.im-this.$o;this.Ie=this.jm-this.ap},update:function(a){this.P&&this.P.ok(this.$o+this.He*
a,this.ap+this.Ie*a)}});q.Zn.create=function(a,c,d){var e=new q.Zn;e.M(a,c,d);return e};q.lu=q.Zn.extend({Z:function(a){q.Zn.prototype.Z.call(this,a);this.He=this.$o*this.im-this.$o;this.Ie=this.ap*this.jm-this.ap},reverse:function(){return q.lu.create(this.wa,1/this.im,1/this.jm)},G:function(){var a=new q.lu;a.M(this.wa,this.im,this.jm);return a}});q.lu.create=function(a,c,d){var e=new q.lu;e.M(a,c,d);return e};
q.ut=q.O.extend({Tf:0,FA:!1,ctor:function(){q.O.prototype.ctor.call(this);this.Tf=0;this.FA=!1},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.Tf=c,!0):!1},G:function(){var a=new q.ut;a.M(this.wa,this.Tf);return a},update:function(a){if(this.P&&!this.fi()){var c=1/this.Tf;this.P.v(a%c>c/2)}},Z:function(a){q.O.prototype.Z.call(this,a);this.FA=a.ka},stop:function(){this.P.v(this.FA);q.O.prototype.stop.call(this)},reverse:function(){return q.ut.create(this.wa,this.Tf)}});
q.ut.create=function(a,c){var d=new q.ut;d.M(a,c);return d};q.Ut=q.O.extend({update:function(a){this.P.ib&&this.P.ga(255*a)},reverse:function(){return q.Vt.create(this.wa)},G:function(){var a=new q.Ut;a.M(this.wa);return a}});q.Ut.create=function(a){var c=new q.Ut;c.M(a);return c};q.Vt=q.O.extend({update:function(a){this.P.ib&&this.P.ga(255*(1-a))},reverse:function(){return q.Ut.create(this.wa)},G:function(){var a=new q.Vt;a.M(this.wa);return a}});q.Vt.create=function(a){var c=new q.Vt;c.M(a);return c};
q.Ay=q.O.extend({iw:null,fv:null,ctor:function(){q.O.prototype.ctor.call(this);this.fv=this.iw=0},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.iw=c,!0):!1},G:function(){var a=new q.Ay;a.M(this.wa,this.iw);return a},update:function(a){this.P.ib&&this.P.ga(this.fv+(this.iw-this.fv)*a)},Z:function(a){q.O.prototype.Z.call(this,a);this.P.ib&&(this.fv=a.Xi())}});q.Ay.create=function(a,c){var d=new q.Ay;d.M(a,c);return d};
q.gz=q.O.extend({vf:null,$d:null,ctor:function(){q.O.prototype.ctor.call(this);this.vf=q.k(0,0,0);this.$d=q.k(0,0,0)},M:function(a,c,d,e){return q.O.prototype.M.call(this,a)?(this.vf=q.k(c,d,e),!0):!1},G:function(){var a=new q.gz,c=this.vf;a.M(this.wa,c.p,c.o,c.g);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.P.ib&&(this.$d=this.P.wd())},update:function(a){var c=this.$d,d=this.vf;this.P.ib&&this.P.l(q.k(c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a,c.g+(d.g-c.g)*a))}});
q.gz.create=function(a,c,d,e){var f=new q.gz;f.M(a,c,d,e);return f};
q.uu=q.O.extend({Uq:0,Tq:0,Sq:0,jA:0,iA:0,hA:0,ctor:function(){q.O.prototype.ctor.call(this);this.hA=this.iA=this.jA=this.Sq=this.Tq=this.Uq=0},M:function(a,c,d,e){return q.O.prototype.M.call(this,a)?(this.Uq=c,this.Tq=d,this.Sq=e,!0):!1},G:function(){var a=new q.uu;a.M(this.wa,this.Uq,this.Tq,this.Sq);return a},Z:function(a){q.O.prototype.Z.call(this,a);a.ib&&(a=a.wd(),this.jA=a.p,this.iA=a.o,this.hA=a.g)},update:function(a){this.P.ib&&this.P.l(q.k(this.jA+this.Uq*a,this.iA+this.Tq*a,this.hA+this.Sq*
a))},reverse:function(){return q.uu.create(this.wa,-this.Uq,-this.Tq,-this.Sq)}});q.uu.create=function(a,c,d,e){var f=new q.uu;f.M(a,c,d,e);return f};q.Qn=q.O.extend({update:function(){},reverse:function(){return q.Qn.create(this.wa)},G:function(){var a=new q.Qn;a.M(this.wa);return a}});q.Qn.create=function(a){var c=new q.Qn;c.M(a);return c};
q.iu=q.O.extend({Nj:null,ctor:function(){q.O.prototype.ctor.call(this);this.Nj=null},na:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.Nj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.O.prototype.M.call(this,a.xf())?(this.Nj=a,!0):!1},G:function(){var a=new q.iu;a.na(this.Nj.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Nj.Z(a)},update:function(a){this.Nj&&this.Nj.update(1-a)},reverse:function(){return this.Nj.G()},
stop:function(){this.Nj.stop();q.Bd.prototype.stop.call(this)}});q.iu.create=function(a){var c=new q.iu;c.na(a);return c};
q.rt=q.O.extend({tj:null,Ro:0,Hv:null,er:0,nB:null,ctor:function(){q.O.prototype.ctor.call(this);this.tj=null;this.Ro=0;this.Hv=null;this.er=0;this.nB=null},nI:function(){return this.tj},pW:function(a){this.tj=a},OI:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.xf();if(this.M(c*a.Kj)){this.Ro=0;this.pW(a);this.Hv=null;this.er=0;var d=[],e=0,f=c/a.Im;a=a.Zd;q.st(a,q.kj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Xd;d.push(h)}this.nB=d;return!0}return!1},
G:function(){var a=new q.rt;a.OI(this.tj.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.tj.vm&&(this.Hv=a.bS());this.er=this.Ro=0},update:function(a){1>a&&(a*=this.tj.Kj,(0|a)>this.er&&(this.Ro=0,this.er++),a%=1);for(var c=this.tj.Zd,d=c.length,e=this.nB,f=this.Ro;f<d;f++)if(e[f]<=a)this.P.Wp(c[f].uh()),this.Ro=f+1;else break},reverse:function(){var a=this.tj,c=a.Zd,d=[];q.st(c,q.kj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.G())}c=q.jj.MH(d,a.Xd,
a.Kj);c.Hx(a.vm);return q.rt.create(c)},stop:function(){this.tj.vm&&this.P&&this.P.Wp(this.Hv);q.Bd.prototype.stop.call(this)}});q.rt.create=function(a){var c=new q.rt;c.OI(a);return c};
q.fz=q.O.extend({Lf:null,km:null,ctor:function(){q.O.prototype.ctor.call(this);this.km=this.Lf=null},Gg:function(a,c){return this.M(c.xf())?(this.km=a,this.Lf=c,!0):!1},G:function(){var a=new q.fz;a.Gg(this.km,this.Lf.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Lf.Z(this.km)},stop:function(){this.Lf.stop()},update:function(a){this.Lf.update(a)},C4:function(){return this.km},Aaa:function(a){this.km!=a&&(this.km=a)}});q.fz.create=function(a,c){var d=new q.fz;d.Gg(a,c);return d};q.pi=q.nj.extend({fi:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.G()},G:function(){return new q.pi}});q.mu=q.pi.extend({update:function(){this.P.v(!0)},reverse:function(){return q.Yt.create()},G:function(){return new q.mu}});q.mu.create=function(){return new q.mu};q.Yt=q.pi.extend({update:function(){this.P.v(!1)},reverse:function(){return q.mu.create()},G:function(){return new q.Yt}});q.Yt.create=function(){return new q.Yt};
q.vu=q.pi.extend({update:function(){this.P.v(!this.P.ka)},reverse:function(){return new q.vu},G:function(){return new q.vu}});q.vu.create=function(){return new q.vu};q.fu=q.pi.extend({rr:!0,ctor:function(){q.nj.prototype.ctor.call(this);this.rr=!0},update:function(){this.P.Q(this.rr)},t:function(a){this.rr=a;return!0},reverse:function(){return new q.fu(this.rr)},G:function(){return new q.fu(this.rr)}});q.fu.create=function(a){null==a&&(a=!0);var c=new q.fu;c&&c.t(a);return c};
q.Wt=q.pi.extend({hc:!1,ctor:function(){q.nj.prototype.ctor.call(this);this.hc=!1},RI:function(a){this.hc=a;return!0},update:function(){this.P.IW(this.hc)},reverse:function(){return q.Wt.create(!this.hc)},G:function(){var a=new q.Wt;a.RI(this.hc);return a}});q.Wt.create=function(a){var c=new q.Wt;return c.RI(a)?c:null};
q.Xt=q.pi.extend({ic:!1,ctor:function(){q.nj.prototype.ctor.call(this);this.ic=!1},SI:function(a){this.ic=a;return!0},update:function(){this.P.JW(this.ic)},reverse:function(){return q.Xt.create(!this.ic)},G:function(){var a=new q.Xt;a.SI(this.ic);return a}});q.Xt.create=function(a){var c=new q.Xt;return c.SI(a)?c:null};
q.Ny=q.pi.extend({q:null,ctor:function(){q.nj.prototype.ctor.call(this);this.q=q.a(0,0)},UI:function(a){this.q.x=a.x;this.q.y=a.y;return!0},update:function(){this.P.n(this.q)},G:function(){var a=new q.Ny;a.UI(this.q);return a}});q.Ny.create=function(a){var c=new q.Ny;c.UI(a);return c};
q.kq=q.pi.extend({kh:null,em:null,Kk:null,Qq:null,ctor:function(){q.nj.prototype.ctor.call(this);this.Qq=this.Kk=this.em=this.kh=null},Gg:function(a,c,d){this.Qq=d;this.em=a;this.kh=c;return!0},JC:function(a){this.Kk=a;return!0},execute:function(){null!=this.em?this.em.call(this.kh,this.P,this.Qq):this.Kk&&this.Kk.call(null,this.P)},update:function(){this.execute()},w6:function(){return this.kh},Mba:function(a){a!=this.kh&&(this.kh&&(this.kh=null),this.kh=a)},copy:function(){var a=new q.kq;this.kh?
a.Gg(this.em,this.kh,this.Qq):this.Kk&&a.JC(this.Kk);return a},G:function(){var a=new q.kq;this.kh?a.Gg(this.em,this.kh,this.Qq):this.Kk&&a.JC(this.Kk);return a}});q.kq.create=function(a,c,d){var e=new q.kq;if(1==arguments.length){if(e&&e.JC(a))return e}else if(e&&e.Gg(a,c,d))return e.em=a,e;return null};q.hy=q.O.extend({Fz:0,Gz:0,Hz:0,WF:0,XF:0,YF:0,dH:0,eH:0,fH:0,ctor:function(){q.O.prototype.ctor.call(this);this.fH=this.eH=this.dH=this.YF=this.XF=this.WF=this.Hz=this.Gz=this.Fz=0},Z:function(a){q.O.prototype.Z.call(this,a);a=a.pC();var c=a.pI();this.Fz=c.x;this.Gz=c.y;this.Hz=c.z;c=a.rI();this.WF=c.x;this.XF=c.y;this.YF=c.z;a=a.kT();this.dH=a.x;this.eH=a.y;this.fH=a.z},G:function(){return new q.hy},reverse:function(){return q.iu.create(this)}});
q.Ly=q.hy.extend({Qi:0,Zu:0,fo:0,Tz:0,ng:0,Sz:0,WA:0,UA:0,VA:0,TA:0,ctor:function(){q.hy.prototype.ctor.call(this);this.TA=this.VA=this.UA=this.WA=this.Sz=this.ng=this.Tz=this.fo=this.Zu=this.Qi=0},M:function(a,c,d,e,f,g,h){return q.O.prototype.M.call(this,a)?(this.Qi=c,this.Zu=d,this.fo=e,this.Tz=f,this.ng=g,this.Sz=h,this.UA=q.mj(f),this.TA=q.mj(h),!0):!1},UX:function(){var a=this.P.pC(),c=a.rI(),d=a.pI(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.Tt);0===d&&(d=q.Tt);return{xU:d/q.lq.Es(),rY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},Z:function(a){q.O.prototype.Z.call(this,a);a=this.UX();isNaN(this.Qi)&&(this.Qi=a.xU);isNaN(this.fo)&&(this.fo=q.Py(a.rY));isNaN(this.ng)&&(this.ng=q.Py(a.azimuth));this.WA=q.mj(this.fo);this.VA=q.mj(this.ng)},G:function(){var a=new q.Ly;a.M(this.wa,this.Qi,this.Zu,this.fo,this.Tz,this.ng,this.Sz);return a},update:function(a){var c=(this.Qi+this.Zu*a)*q.lq.Es(),
d=this.WA+this.UA*a,e=this.VA+this.TA*a;a=Math.sin(d)*Math.cos(e)*c+this.Fz;e=Math.sin(d)*Math.sin(e)*c+this.Gz;c=Math.cos(d)*c+this.Hz;this.P.pC().uK(a,e,c)}});q.Ly.create=function(a,c,d,e,f,g,h){var k=new q.Ly;return k.M(a,c,d,e,f,g,h)?k:null};q.cd=q.O.extend({ca:null,ctor:function(){q.O.prototype.ctor.call(this);this.ca=null},na:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.M(a.xf())?(this.ca=a,!0):!1},G:function(){var a=new q.cd;a.na(this.ca.G());return a},Z:function(a){q.O.prototype.Z.call(this,a);this.ca.Z(this.P)},stop:function(){this.ca.stop();q.O.prototype.stop.call(this)},update:function(a){this.ca.update(a)},reverse:function(){return q.cd.create(this.ca.reverse())},qC:function(){return this.ca}});
q.cd.create=function(a){var c=new q.cd;c&&c.na(a);return c};q.Vl=q.cd.extend({Me:0,ctor:function(){q.cd.prototype.ctor.call(this);this.Me=0},sba:function(a){this.Me=a},U5:function(){return this.Me},na:function(a,c){return q.cd.prototype.na.call(this,a)?(this.Me=c,!0):!1},G:function(){var a=new q.Vl;a.na(this.ca.G(),this.Me);return a},reverse:function(){return q.Vl.create(this.ca.reverse(),1/this.Me)}});q.Vl.create=function(a,c){var d=new q.Vl;d&&d.na(a,c);return d};
q.Mt=q.Vl.extend({update:function(a){this.ca.update(Math.pow(a,this.Me))},reverse:function(){return q.Mt.create(this.ca.reverse(),1/this.Me)},G:function(){var a=new q.Mt;a.na(this.ca.G(),this.Me);return a}});q.Mt.create=function(a,c){var d=new q.Mt;d&&d.na(a,c);return d};q.Ot=q.Vl.extend({update:function(a){this.ca.update(Math.pow(a,1/this.Me))},reverse:function(){return q.Ot.create(this.ca.reverse(),1/this.Me)},G:function(){var a=new q.Ot;a.na(this.ca.G(),this.Me);return a}});
q.Ot.create=function(a,c){var d=new q.Ot;d&&d.na(a,c);return d};q.Nt=q.Vl.extend({update:function(a){a*=2;1>a?this.ca.update(0.5*Math.pow(a,this.Me)):this.ca.update(1-0.5*Math.pow(2-a,this.Me))},G:function(){var a=new q.Nt;a.na(this.ca.G(),this.Me);return a},reverse:function(){return q.Nt.create(this.ca.reverse(),this.Me)}});q.Nt.create=function(a,c){var d=new q.Nt;d&&d.na(a,c);return d};
q.Jt=q.cd.extend({update:function(a){this.ca.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.Lt.create(this.ca.reverse())},G:function(){var a=new q.Jt;a.na(this.ca.G());return a}});q.Jt.create=function(a){var c=new q.Jt;c&&c.na(a);return c};q.Lt=q.cd.extend({update:function(a){this.ca.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.Jt.create(this.ca.reverse())},G:function(){var a=new q.Lt;a.na(this.ca.G());return a}});
q.Lt.create=function(a){var c=new q.Lt;c&&c.na(a);return c};q.Kt=q.cd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.ca.update(a)},reverse:function(){return q.Kt.create(this.ca.reverse())},G:function(){var a=new q.Kt;a.na(this.ca.G());return a}});q.Kt.create=function(a){var c=new q.Kt;c&&c.na(a);return c};
q.Pt=q.cd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.ca.update(a)},reverse:function(){return q.Rt.create(this.ca.reverse())},G:function(){var a=new q.Pt;a.na(this.ca.G());return a}});q.Pt.create=function(a){var c=new q.Pt;c&&c.na(a);return c};q.Rt=q.cd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.ca.update(a)},reverse:function(){return q.Pt.create(this.ca.reverse())},G:function(){var a=new q.Rt;a.na(this.ca.G());return a}});
q.Rt.create=function(a){var c=new q.Rt;c&&c.na(a);return c};q.Qt=q.cd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.ca.update(a)},G:function(){var a=new q.Qt;a.na(this.ca.G());return a},reverse:function(){return q.Qt.create(this.ca.reverse())}});q.Qt.create=function(a){var c=new q.Qt;c&&c.na(a);return c};
q.Rn=q.cd.extend({ae:null,ctor:function(){q.cd.prototype.ctor.call(this);this.ae=0.3},E5:function(){return this.ae},hba:function(a){this.ae=a},na:function(a,c){q.cd.prototype.na.call(this,a);this.ae=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},G:function(){var a=new q.Rn;a.na(this.ca.G(),this.ae);return a}});q.Rn.create=function(a,c){var d=new q.Rn;return d&&d.na(a,c)?d:null};
q.Gt=q.Rn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.ae/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.ae));this.ca.update(c)},reverse:function(){return q.It.create(this.ca.reverse(),this.ae)},G:function(){var a=new q.Gt;a.na(this.ca.G(),this.ae);return a}});q.Gt.create=function(a,c){var d=new q.Gt;return d&&d.na(a,c)?d:null};
q.It=q.Rn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.ae/4)*Math.PI*2/this.ae)+1;this.ca.update(c)},reverse:function(){return q.Gt.create(this.ca.reverse(),this.ae)},G:function(){var a=new q.It;a.na(this.ca.G(),this.ae);return a}});q.It.create=function(a,c){var d=new q.It;d&&d.na(a,c);return d};
q.Ht=q.Rn.extend({update:function(a){var c=0,c=this.ae;if(0===a||1==a)c=a;else{c||(c=this.ae=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.ca.update(c)},reverse:function(){return q.Ht.create(this.ca.reverse(),this.ae)},G:function(){var a=new q.Ht;a.na(this.ca.G(),this.ae);return a}});q.Ht.create=function(a,c){var d=new q.Ht;d&&d.na(a,c);return d};
q.Ul=q.cd.extend({tw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},G:function(){var a=new q.Ul;a.na(this.ca.G());return a},reverse:function(){return q.Ul.create(this.ca.reverse())}});q.Ul.create=function(a){var c=new q.Ul;c&&c.na(a);return c};
q.Dt=q.Ul.extend({update:function(a){this.ca.update(1-this.tw(1-a))},reverse:function(){return q.Ft.create(this.ca.reverse())},G:function(){var a=new q.Dt;a.na(this.ca.G());return a}});q.Dt.create=function(a){var c=new q.Dt;c&&c.na(a);return c};q.Ft=q.Ul.extend({update:function(a){this.ca.update(this.tw(a))},reverse:function(){return q.Dt.create(this.ca.reverse())},G:function(){var a=new q.Ft;a.na(this.ca.G());return a}});q.Ft.create=function(a){var c=new q.Ft;c&&c.na(a);return c};
q.Et=q.Ul.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.tw(1-2*a)):0.5*this.tw(2*a-1)+0.5;this.ca.update(c)},G:function(){var a=new q.Et;a.na(this.ca.G());return a},reverse:function(){return q.Et.create(this.ca.reverse())}});q.Et.create=function(a){var c=new q.Et;c&&c.na(a);return c};q.At=q.cd.extend({update:function(a){this.ca.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.Ct.create(this.ca.reverse())},G:function(){var a=new q.At;a.na(this.ca.G());return a}});
q.At.create=function(a){var c=new q.At;c&&c.na(a);return c};q.Ct=q.cd.extend({update:function(a){a-=1;this.ca.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.At.create(this.ca.reverse())},G:function(){var a=new q.Ct;a.na(this.ca.G());return a}});q.Ct.create=function(a){var c=new q.Ct;c&&c.na(a);return c};
q.Bt=q.cd.extend({update:function(a){a*=2;1>a?this.ca.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.ca.update(a*a*(3.5949095*a+2.5949095)/2+1))},G:function(){var a=new q.Bt;a.na(this.ca.G());return a},reverse:function(){return q.Bt.create(this.ca.reverse())}});q.Bt.create=function(a){var c=new q.Bt;c&&c.na(a);return c};q.qy=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.cK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.yw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.th=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.S$=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.ri=q.O.extend({Mh:null,Uz:0,Em:0,Rc:null,qz:null,ctor:function(){q.O.prototype.ctor.call(this);this.Mh=[];this.Em=this.Uz=0;this.qz=this.Rc=null},M:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.O.prototype.M.call(this,a)?(this.iX(c),this.Em=d,!0):!1},G:function(){var a=new q.ri;a.M(this.wa,q.yw(this.Mh),this.Em);return a},Z:function(a){q.O.prototype.Z.call(this,a);this.Uz=1/(this.Mh.length-1);a=this.P.q;this.Rc=q.a(a.x,a.y);this.qz=
q.a(0,0)},update:function(a){var c,d=this.Mh;if(1==a)c=d.length-1,a=1;else{var e=this.Uz;c=0|a/e;a=(a-e*c)/e}c=q.qy(q.th(d,c-1),q.th(d,c-0),q.th(d,c+1),q.th(d,c+2),this.Em,a);q.xt&&(d=this.P.q.F-this.Rc.x,a=this.P.q.H-this.Rc.y,0!=d||0!=a)&&(e=this.qz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.wL(c)},reverse:function(){var a=q.cK(this.Mh);return q.ri.create(this.wa,a,this.Em)},wL:function(a){this.P.n(a);this.Rc=a},J5:function(){return this.Mh},iX:function(a){this.Mh=a}});
q.ri.create=function(a,c,d){var e=new q.ri;return e.M(a,c,d)?e:null};
q.mq=q.ri.extend({Sc:null,ctor:function(){q.ri.prototype.ctor.call(this);this.Sc=q.a(0,0)},Z:function(a){q.ri.prototype.Z.call(this,a);a=a.q;this.Sc.x=a.x;this.Sc.y=a.y},reverse:function(){for(var a=this.Mh.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.xd(c,d),d=c;a=q.cK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.mq.create(this.wa,a,this.Em)},wL:function(a){var c=this.Sc,d=a.x+c.x;a=a.y+c.y;this.P.n(d,
a);this.Rc.x=d;this.Rc.y=a},G:function(){var a=new q.mq;a.M(this.wa,q.yw(this.Mh),this.Em);return a}});q.mq.create=function(a,c,d){var e=new q.mq;return e.M(a,c,d)?e:null};q.sy=q.ri.extend({M:function(a,c){return q.ri.prototype.M.call(this,a,c,0.5)},G:function(){var a=new q.sy;a.M(this.wa,q.yw(this.Mh));return a}});q.sy.create=function(a,c){var d=new q.sy;return d.M(a,c)?d:null};
q.ry=q.mq.extend({M:function(a,c){return q.ri.prototype.M.call(this,a,c,0.5)},G:function(){var a=new q.ry;a.M(this.wa,q.yw(this.Mh));return a}});q.ry.create=function(a,c){var d=new q.ry;return d.M(a,c)?d:null};q.DY=q.Da.extend({gE:function(){}});
q.Pn=q.O.extend({key:"",Ym:0,Kl:0,eC:0,ctor:function(){q.O.prototype.ctor.call(this);this.key="";this.eC=this.Kl=this.Ym=0},M:function(a,c,d,e){return q.O.prototype.M.call(this,a)?(this.key=c,this.Kl=e,this.Ym=d,!0):!1},Z:function(a){if(!a||!a.gE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.O.prototype.Z.call(this,a);this.eC=this.Kl-this.Ym},update:function(a){this.P.gE(this.Kl-this.eC*(1-a),this.key)},reverse:function(){return q.Pn.create(this.duration,
this.key,this.Kl,this.Ym)},G:function(){var a=new q.Pn;a.M(this.wa,this.key,this.Ym,this.Kl);return a}});q.Pn.create=function(a,c,d,e){var f=new q.Pn;return f.M(a,c,d,e)?f:null};q.vk=0;q.My=1;q.dF=4;q.RM=75;
q.Cc=q.zb.extend({wf:null,Ni:0,pb:null,Lh:null,dm:null,Id:!1,e5:function(){return q.a(this.Lh.x,this.Lh)},CK:function(a){this.Lh=q.BJ(a)},K3:function(){return q.a(this.dm.x,this.dm.y)},kK:function(a){this.dm=q.BJ(a)},lc:function(){return this.wf},Mw:function(){return this.Ni},eT:function(){return this.pb},bt:function(a){this.Ni!=a&&(this.Ni=q.ms(a,0,100),this.DB())},Gf:function(){},pl:function(){return!1},e8:function(){return this.Id},Bz:function(a){if(a<q.dF){var c=q.RM;return this.Id?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.oj()},gd:null,uB:270,cA:270,Qi:0,Nz:!1,yz:null,vd:0,Ic:null,Uf:null,nH:null,js:!1,ctor:null,Ih:function(){q.zb.prototype.ctor.call(this);this.wf=q.vk;this.Ni=0;this.Lh=q.a(0,0);this.dm=q.a(0,0);this.Id=!1;this.pb=null;this.gd=q.oj();this.cA=this.uB=270;this.Qi=0;this.Nz=!1;this.yz=q.dd()},Jh:function(){q.zb.prototype.ctor.call(this);this.wf=q.vk;this.Ni=0;this.Lh=q.a(0,0);this.dm=q.a(0,0);this.Id=!1;this.pb=null;this.nH=q.V.createBuffer();
this.vd=0;this.Uf=this.Ic=null;this.js=!1},l:function(a){this.pb.l(a);this.ud()},ga:function(a){this.pb.ga(a);this.ud()},wd:function(){return this.pb.wd()},Xi:function(){return this.pb.Xi()},IK:null,aQ:function(a){this.Id!==a&&(this.Id=a)},bQ:function(a){this.Id!==a&&(this.Id=a,this.Uf=this.Ic=null,this.vd=0)},dt:null,dQ:function(a){this.pb!=a&&(this.pb=a,this.U(this.pb.d()))},eQ:function(a){a&&this.pb!=a&&(this.pb=a,this.U(a.d()),this.Ic&&(this.Uf=this.Ic=null,this.vd=0))},gj:null,hQ:function(a){a!==
this.wf&&(this.wf=a)},iQ:function(a){a!==this.wf&&(this.Ic&&(this.Uf=this.Ic=null,this.vd=0),this.wf=a)},HK:null,ZP:function(a){this.Id!==a&&(this.Id=a)},$P:function(a){this.Id!==a&&(this.Id=a,this.Uf=this.Ic=null,this.vd=0)},Se:function(a){var c=this.pb;if(!c)return{Oa:0,ma:0};var d=c.Jb,e=q.a(d.Ja.B.Oa,d.Ja.B.ma),d=q.a(d.Ma.B.Oa,d.Ma.B.ma);c.Wc&&(c=a.x,a.x=a.y,a.y=c);return{Oa:e.x*(1-a.x)+d.x*a.x,ma:e.y*(1-a.y)+d.y*a.y}},Ue:function(a){if(!this.pb)return{x:0,y:0};var c=this.pb.Jb,d=q.a(c.Ja.r.x,
c.Ja.r.y),c=q.a(c.Ma.r.x,c.Ma.r.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},MC:null,IO:function(a){this.bt(0);this.L(0.5,0.5);this.wf=q.vk;this.Id=!1;this.CK(q.a(0.5,0.5));this.kK(q.a(1,1));this.dt(a);return!0},JO:function(a){this.bt(0);this.Uf=this.Ic=null;this.vd=0;this.L(0.5,0.5);this.wf=q.vk;this.Id=!1;this.CK(q.a(0.5,0.5));this.kK(q.a(1,1));this.dt(a);this.Ng(q.Gh.e().li(q.Ty));return!0},Va:null,hm:function(a){a=a||q.V;var c=this.pb;c.Io&&(a.globalCompositeOperation="lighter");var d=
q.ra.e().va,e=q.ra.e().Aa;a.globalAlpha=c.Wb/255;var f=c.xa,g=c.ta,h=c.dc,k=c.$z,l=0|h.x,m=-h.y-f.height,n=c.ep;k.width=f.width*d;k.height=f.height*e;a.save();c.hc&&(l=-h.x-f.width,a.scale(-1,1));c.ic&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.wf==q.My?(f=this.yz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.wf==q.vk&&(f=this.gd.x*d,h=this.gd.y*e,a.beginPath(),a.arc(f,h,this.Qi*e,Math.PI/180*this.uB,Math.PI/180*this.cA,this.Nz),a.lineTo(f,h),a.clip(),a.closePath());
c.Ea&&n.ot?(d=c.Ea.Gc,this.Su?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.wd(),a.fillStyle="rgba("+k.p+","+k.o+","+k.g+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Dh()},rg:function(a){a=a||q.V;if(this.Ic&&this.pb){q.Jy(this);var c=this.pb.fa;q.ck(c.src,c.Gb);q.qe(q.zu);this.pb.aa()?q.Eg(this.pb.aa()):q.Eg(null);a.bindBuffer(a.ARRAY_BUFFER,this.nH);this.js&&(a.bufferData(a.ARRAY_BUFFER,this.Uf,
a.DYNAMIC_DRAW),this.js=!1);c=q.Tb.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.Ge,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.yq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.zq,2,a.FLOAT,!1,c,12);this.wf===q.vk?a.drawArrays(a.TRIANGLE_FAN,0,this.vd):this.wf==q.My&&(this.Id?(a.drawArrays(a.TRIANGLE_STRIP,0,this.vd/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.vd/2),q.bi++):a.drawArrays(a.TRIANGLE_STRIP,0,this.vd));q.bi++}},KQ:function(){if(this.pb){var a,c=this.Lh;a=this.Ni/100;var d=2*q.PI*(this.Id?a:
1-a),e=q.a(c.x,1),f=q.TU(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.fM,h=q.dF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Bz(a%h),k=this.Bz(k);0==a?k=q.DJ(l,k,1-c.x):4==a&&(l=q.DJ(l,k,1-c.x));var m=q.a(0,0);q.fD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.cg(c,q.dj(q.xd(f,c),g))}g=!0;this.vd!=d+3&&(g=!1,this.Uf=this.Ic=null,this.vd=0);if(!this.Ic){h=this.vd=d+3;l=q.Tb.BYTES_PER_ELEMENT;this.Uf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.Tb(null,
null,null,this.Uf,a*l);this.Ic=k;if(!this.Ic){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.ud();h=this.Ic;if(!g)for(h[0].B=this.Se(c),h[0].r=this.Ue(c),h[1].B=this.Se(e),h[1].r=this.Ue(e),a=0;a<d;a++)c=this.Bz(a),h[a+2].B=this.Se(c),h[a+2].r=this.Ue(c);h[this.vd-1].B=this.Se(f);h[this.vd-1].r=this.Ue(f)}},zQ:function(){if(this.pb){var a,c=this.Ni/100,d=this.dm,d=q.dj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.xd(this.Lh,d),d=q.cg(this.Lh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.Id){if(!this.Ic){this.vd=8;var e=q.Tb.BYTES_PER_ELEMENT;this.Uf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.Tb(null,null,null,this.Uf,a*e);f[0].B=this.Se(q.a(0,1));f[0].r=this.Ue(q.a(0,1));f[1].B=this.Se(q.a(0,0));f[1].r=this.Ue(q.a(0,0));f[6].B=this.Se(q.a(1,1));f[6].r=this.Ue(q.a(1,1));f[7].B=this.Se(q.a(1,0));f[7].r=this.Ue(q.a(1,0));this.Ic=f}a=this.Ic;a[2].B=this.Se(q.a(c.x,d.y));a[2].r=this.Ue(q.a(c.x,
d.y));a[3].B=this.Se(q.a(c.x,c.y));a[3].r=this.Ue(q.a(c.x,c.y));a[4].B=this.Se(q.a(d.x,d.y));a[4].r=this.Ue(q.a(d.x,d.y));a[5].B=this.Se(q.a(d.x,c.y));a[5].r=this.Ue(q.a(d.x,c.y))}else{if(!this.Ic)for(this.vd=4,e=q.Tb.BYTES_PER_ELEMENT,this.Uf=new ArrayBuffer(4*e),this.Ic=[],a=0;4>a;a++)this.Ic[a]=new q.Tb(null,null,null,this.Uf,a*e);a=this.Ic;a[0].B=this.Se(q.a(c.x,d.y));a[0].r=this.Ue(q.a(c.x,d.y));a[1].B=this.Se(q.a(c.x,c.y));a[1].r=this.Ue(q.a(c.x,c.y));a[2].B=this.Se(q.a(d.x,d.y));a[2].r=this.Ue(q.a(d.x,
d.y));a[3].B=this.Se(q.a(d.x,c.y));a[3].r=this.Ue(q.a(d.x,c.y))}this.ud()}},ud:function(){if(this.pb&&this.Ic){for(var a=this.pb.Jb.Sa.J,c=this.Ic,d=0,e=this.vd;d<e;++d)c[d].J=a;this.js=!0}},DB:null,GQ:function(){var a=this.pb,c=a.d(),d=this.Lh;if(this.wf==q.vk){this.Qi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.gd;g.x=c.width*d.x;g.y=-c.height*d.y;this.Id?(e=270,d=270-3.6*this.Ni):(d=-90,e=-90+3.6*this.Ni);a.hc&&(g.x-=2*c.width*this.Lh.x,d=-d-180,e=-e-180,f=!f);a.ic&&
(g.y+=2*c.height*this.Lh.y,f=!f,d=-d,e=-e);this.uB=d;this.cA=e;this.Nz=f}else{e=this.dm;g=this.Ni/100;f=this.yz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.hc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.ic&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},HQ:function(){var a=this.wf;a===q.vk?this.KQ():a===q.My&&this.zQ();this.js=!0}});
q.Fa.Pc?(b=q.Cc.prototype,b.ctor=q.Cc.prototype.Jh,b.IK=q.Cc.prototype.bQ,b.dt=q.Cc.prototype.eQ,b.gj=q.Cc.prototype.iQ,b.HK=q.Cc.prototype.$P,b.MC=q.Cc.prototype.JO,b.Va=q.Cc.prototype.rg,b.DB=q.Cc.prototype.HQ):(b=q.Cc.prototype,b.ctor=q.Cc.prototype.Ih,b.IK=q.Cc.prototype.aQ,b.dt=q.Cc.prototype.dQ,b.gj=q.Cc.prototype.hQ,b.HK=q.Cc.prototype.ZP,b.MC=q.Cc.prototype.IO,b.Va=q.Cc.prototype.hm,b.DB=q.Cc.prototype.GQ);q.Cc.create=function(a){var c=new q.Cc;return c.MC(a)?c:null};q.Oy=q.O.extend({vf:0,$d:0,ctor:function(){q.O.prototype.ctor.call(this);this.$d=this.vf=0},M:function(a,c){return q.O.prototype.M.call(this,a)?(this.vf=c,!0):!1},G:function(){var a=new q.Oy;a.M(this.wa,this.vf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},Z:function(a){q.O.prototype.Z.call(this,a);this.$d=a.Mw();100==this.$d&&(this.$d=0)},update:function(a){this.P instanceof q.Cc&&this.P.bt(this.$d+(this.vf-this.$d)*a)}});
q.Oy.create=function(a,c){var d=new q.Oy;d.M(a,c);return d};q.du=q.O.extend({vf:0,$d:0,ctor:function(){q.O.prototype.ctor.call(this);this.$d=this.vf=0},M:function(a,c,d){return q.O.prototype.M.call(this,a)?(this.vf=d,this.$d=c,!0):!1},G:function(){var a=new q.du;a.M(this.wa,this.$d,this.vf);return a},reverse:function(){return q.du.create(this.wa,this.vf,this.$d)},Z:function(a){q.O.prototype.Z.call(this,a)},update:function(a){this.P instanceof q.Cc&&this.P.bt(this.$d+(this.vf-this.$d)*a)}});
q.du.create=function(a,c,d){var e=new q.du;e.M(a,c,d);return e};q.oy=9;q.KL=1;q.NL=2;q.OL=4;q.LL=8;q.ML=16;q.vE=32;q.PL=64;q.JL=128;q.qi=256;q.jg=1;q.xE=2;q.wE=4;q.VY=8;q.UY=8;
q.Sb=q.Eh.extend({mG:!1,Q0:!1,pl:function(){return this.mG},Gf:function(a){this.mG=a;for(var c=this.u,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.ib&&f.Gf(a)}},Si:q.jg,t6:function(){return this.Si},br:!1,Wo:!1,Gj:!1,$u:null,Ff:function(a){this.Si=(this.br=a)?q.jg:q.wE;this.Zc()},isEnabled:function(){return this.br},$p:function(a){this.Wo=a;this.Zc()},h8:function(){return this.Wo},Dl:function(a){this.Gj=a;this.Zc()},Q7:function(){return this.Gj},BT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ka)return!1;
return!0},ctor:function(){q.Eh.prototype.ctor.call(this);this.$u={};this.gc=q.yb()},t:function(){return q.Eh.prototype.t.call(this)?(this.Si=q.jg,this.br=!0,this.Gj=this.Wo=!1,this.bq(1),!0):!1},qx:function(){q.qD(this.cl,!0,this)},df:function(a){for(var c=0,d=q.oy;c<d;c++)if(a&1<<c)for(var e=this.Zz(1<<c),f=0,g=e.length;f<g;f++)e[f].$T(this)},BH:function(a,c,d){for(var e=0,f=q.oy;e<f;e++)d&1<<e&&this.HF(a,c,1<<e)},K$:function(a,c,d){for(var e=0,f=q.oy;e<f;e++)d&1<<e&&this.AP(a,c,1<<e)},Yi:function(a){return this.Ca(a.K)},
gi:function(a){a=a.K;a=this.getParent().Ca(a);return q.ab(this.Xa(),a)},S0:function(){return null},Zz:function(a){a=a.toString();this.$u.hasOwnProperty(a)||(this.$u[a]=[]);return this.$u[a]},HF:function(a,c,d){a=new q.nM(a,c,d);this.Zz(d).push(a)},AP:function(a,c,d){d=this.Zz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.P);c&&(g=g&&c==f.Lf);g?q.Pd(d,f):e++}else d.length=0},Zc:function(){}});q.Sb.create=function(){var a=new q.Sb;return a&&a.t()?a:null};q.BE=3435855873;
q.Tl=q.Sb.extend({Xq:!1,ks:!1,tg:null,sr:null,Pq:null,Xu:null,Hm:null,Ud:null,Mi:0,Ko:!1,fw:null,Zr:null,gw:null,cm:null,AG:!1,xv:0,wv:0,ctor:function(){q.Sb.prototype.ctor.call(this);this.tg=new q.yk(0,0);this.sr=new q.Vg(0,0);this.Pq="";this.Xu=q.yb();this.fw={};this.Zr={};this.gw={};this.cm={}},t:function(){return this.Vw(q.R.create("","Arial",12),q.mf.create())},Zc:function(){if(this.AG){this.Hm&&this.Hm.v(!1);this.Ud&&this.Ud.v(!1);this.QW(this.sr);var a=this.Si;this.Pq=this.xC(a);this.Xu=this.jT(a);
var c=this.Hm=this.Bs(a);c&&c.da&&c.da(this.Pq);c&&c.ib&&c.l(this.Xu);var d=this.d();c&&c.n(d.width/2,d.height/2);(a=this.Ud=this.yS(a))&&a.n(d.width/2,d.height/2);d=c?c.Xa().bb:q.size(0,0);if(this.Xq)a&&a.U(d.width+2*this.wv,d.height+2*this.xv);else if(a){var e=a.tg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.U(e)}d=c?c.Xa():q.rect(0,0,0,0);e=a?a.Xa():q.rect(0,0,0,0);d=q.px(d,e);this.U(d.width,d.height);d=this.d();c&&(c.n(d.width/2,d.height/2),c.v(!0));
a&&(a.n(d.width/2,d.height/2),a.v(!0))}},Vw:function(a,c){if(!a||!a.ib)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.Sb.prototype.t.call(this,!0)?(this.AG=!0,this.fw={},this.Zr={},this.gw={},this.cm={},this.Ub(!0),this.Ko=!1,this.ks=!0,this.Pq=null,this.nW(!0),this.nk(q.size(0,0)),this.ks=!0,this.Zi(!1),this.L(0.5,0.5),this.Hm=a,this.Ud=c,this.ga(255),
this.Gf(!0),this.xX(a.vC(),q.jg),this.wX(a.wd(),q.jg),this.PD(a,q.jg),this.Bx(c,q.jg),this.Si=q.jg,this.wv=24,this.xv=12,this.sr=new q.Vg(0.5,0.5),this.nk(q.Xl()),this.Zc(),!0):!1},ST:function(a,c,d){a=q.R.create(a,c,d);return this.Vw(a,q.mf.create())},QI:function(a){var c=q.R.create("","Arial",30);return this.Vw(c,a)},N2:function(){return this.Xq},nW:function(a){this.Xq=a;this.Zc()},b7:function(){return this.ks},BX:function(a){return this.ks=a},TS:function(){return this.tg},nk:function(a){if(0===
a.width&&0===a.height)this.Xq=!0;else{this.Xq=!1;var c=this.cm,d;for(d in c)c[d].nk(a)}this.tg=a;this.Zc()},S4:function(){return this.sr},QW:function(a){this.sr=a;this.Hm&&this.Hm.L(a)},J0:function(){return this.Pq},K0:function(){return this.Xu},Xi:function(){return this.Mi},ga:function(a){q.Sb.prototype.ga.call(this,a);var c=this.cm,d;for(d in c)c[d].ga(a)},l:function(a){q.Sb.prototype.l.call(this,a);var c=this.cm,d;for(d in c)c[d].l(a)},wd:function(){return this.be},d8:function(){return this.Ko},
O0:function(){return this.xv},M0:function(){return this.wv},Qaa:function(a,c){this.xv=c;this.wv=a;this.Zc()},Ff:function(a){q.Sb.prototype.Ff.call(this,a);this.Zc()},$p:function(a){q.Sb.prototype.$p.call(this,a);this.Zc()},Dl:function(a){this.Si=a?q.xE:q.jg;q.Sb.prototype.Dl.call(this,a);(a=this.oC(q.BE))&&this.VX(a);this.Zc();this.ks&&(a=q.Zn.create(0.05,this.Gj&&this.isEnabled()&&!this.Wo?1.1:1),a.NK(q.BE),this.ux(a))},kb:function(a){if(!(this.gi(a)&&this.isEnabled()&&this.ka&&this.BT()))return!1;
this.Ko=!0;this.Dl(!0);this.df(q.KL);return!0},nd:function(a){this.br&&this.Ko&&!this.Wo?(a=this.gi(a))&&!this.Gj?(this.Dl(!0),this.df(q.LL)):a&&this.Gj?this.df(q.NL):!a&&this.Gj?(this.Dl(!1),this.df(q.ML)):a||this.Gj||this.df(q.OL):this.Gj&&this.Dl(!1)},Df:function(a){this.Ko=!1;this.Dl(!1);this.gi(a)?this.df(q.vE):this.df(q.PL)},ik:function(){this.Ko=!1;this.Dl(!1);this.df(q.JL)},xC:function(a){var c=this.fw;return c?c[a]?c[a]:c[q.jg]:""},xX:function(a,c){this.fw[c]=a||"";this.Si==c&&this.Zc()},
jT:function(a){return(a=this.Zr[a])?a:(a=this.Zr[q.jg])?a:q.yb()},wX:function(a,c){this.Zr[c]=a;this.Si==c&&this.Zc()},Bs:function(a){var c=this.gw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.jg]},PD:function(a,c){var d=this.gw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.L(0.5,0.5);this.f(a,1);this.Si==c&&this.Zc()},Rba:function(a,c){var d=this.xC(c);d||(d="");this.PD(q.R.create(d,a,12),c)},D6:function(a){a=this.Bs(a);return null!=a&&a instanceof q.R?a.pf:""},Sba:function(a,
c){var d=this.Bs(c);null!=d&&d instanceof q.R&&d.vK(a)},E6:function(a){a=this.Bs(a);return null!=a&&a instanceof q.R?a.Je:0},Qba:function(a,c){var d=this.xC(c);d||(d="");this.PD(q.Gy.create(d,a),c)},C6:function(a){a=this.Bs(a);return null!=a&&a instanceof q.Gy?a.z4():""},yS:function(a){var c=this.cm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.jg]},Bx:function(a,c){var d=this.cm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.v(!1);a.L(0.5,0.5);this.f(a);d=this.tg;0===d.width&&
0===d.height||a.nk(d);this.Si===c&&this.Zc()},eaa:function(a,c){var d=q.mf.NH(a);this.Bx(d,c)}});q.Tl.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Tl)&&d.t()?d:null;1==arguments.length?(d=new q.Tl,d.QI(arguments[0])):2==arguments.length?(d=new q.Tl,d.Vw(a,c)):3==arguments.length&&(d=new q.Tl,d.ST(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.p=a;this.o=c;this.g=d;this.I=e};q.Cy=function(a,c,d){this.ue=a;this.mi=c;this.ma=d};q.Sd={};q.Sd.Sm=function(a,c,d,e){a=q.A.OH(a);if(!a)return null;a.n(d);a.L(e);c.f(a);return a};q.Sd.jM=function(a){var c=new q.Cy,d,e;d=a.p<a.o?a.p:a.o;d=d<a.g?d:a.g;e=a.p>a.o?a.p:a.o;e=e>a.g?e:a.g;c.ma=e;d=e-d;if(0<e)c.mi=d/e;else return c.mi=0,c.ue=-1,c;c.ue=a.p>=e?(a.o-a.g)/d:a.o>=e?2+(a.g-a.p)/d:4+(a.p-a.o)/d;c.ue*=60;0>c.ue&&(c.ue+=360);return c};
q.Sd.Ry=function(a){var c,d,e,f,g=new q.RGBA;g.I=1;if(0>=a.mi){if(!a.ue)return g.p=a.ma,g.o=a.ma,g.g=a.ma,g;g.p=0;g.o=0;g.g=0;return g}c=a.ue;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ma*(1-a.mi);d=a.ma*(1-a.mi*e);e=a.ma*(1-a.mi*(1-e));switch(f){case 0:g.p=a.ma;g.o=e;g.g=c;break;case 1:g.p=d;g.o=a.ma;g.g=c;break;case 2:g.p=c;g.o=a.ma;g.g=e;break;case 3:g.p=c;g.o=d;g.g=a.ma;break;case 4:g.p=e;g.o=c;g.g=a.ma;break;default:g.p=a.ma,g.o=c,g.g=d}return g};q.Sd.sE=function(a,c){return q.px(a,c)};q.nM=q.Da.extend({Lf:null,P:null,Wu:null,ctor:function(a,c,d){this.P=a;this.Lf=c;this.Wu=d},C3:function(){return this.Lf},iT:function(){return this.P},g4:function(){return this.Wu},$T:function(a){if(this.P&&this.Lf)if("string"==typeof this.Lf)this.P[this.Lf](a,this.Wu);else this.Lf.call(this.P,a,this.Wu)}});q.YE=0;q.aF=1;q.ZE=2;q.$E=3;q.WE=4;q.cF=5;q.bF=6;q.QM=7;q.XE=8;
q.mf=q.zb.extend({ib:!0,Yo:null,QF:null,Vk:!1,uf:null,Uh:null,Th:null,mh:null,Ji:null,vj:null,Ph:null,yi:null,xi:null,zi:null,xj:null,jc:!1,hd:null,tg:null,Mi:0,gc:null,qo:null,kv:0,mv:0,lv:0,jv:0,UG:!1,pB:!1,qb:!1,Gd:null,mL:function(){return this.qb},Vf:function(a,c){this.Gd.push({bk:a,ai:c})},Vd:function(){this.qb=!0;for(var a=this.Gd,c=0,d=a.length;c<d;c++){var e=a[c];e.bk.call(e.ai,this)}a.length=0},lw:function(){var a;a=this.kv;var c=this.mv,d=this.lv,e=this.Yo,f=this.jv;a=0===a&&0===c&&0===
d&&0===f?q.dd():this.pB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.tW(a)},FQ:function(){if(this.Uh&&this.mh&&this.zi&&this.yi&&this.vj){var a=this.ta,c=this.Uh,d=this.mh,e=this.zi,f=this.yi,g=this.vj,h=this.vj.d(),k=c.d(),l=f.d(),m=a.Ga-k.width-d.d().width,a=a.sa-k.height-e.d().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!q.Fa.Pc){var p=Math.round(k);k!=p&&(k=p,m=k/h.width);p=Math.round(n);n!=p&&(n=p,a=n/h.height)}g.Zp(m);g.Bn(a);
var h=this.Ji,p=this.Ph,t=this.Th,x=this.xi,A=q.a(0,0);f.L(A);e.L(A);c.L(A);d.L(A);h.L(A);p.L(A);t.L(A);x.L(A);g.L(A);f.n(0,0);e.n(r+k,0);c.n(0,l+n);d.n(r+k,l+n);h.n(0,l);h.Bn(a);p.n(r+k,l);p.Bn(a);x.n(r,0);x.Zp(m);t.n(r,l+n);t.Zp(m);g.n(r,l)}},ctor:function(){q.zb.prototype.ctor.call(this);this.Yo=q.dd();this.QF=q.dd();this.xj=q.yb();this.hd=new q.yk(0,0);this.tg=new q.yk(0,0);this.gc=q.yb();this.Mi=255;this.qo=q.dd();this.Gd=[]},RS:function(){return this.hd},TS:function(){return this.tg},nk:function(a){this.U(a);
this.tg=a},Xi:function(){return this.Mi},ga:function(a){if(this.uf){this.Mi=a;for(var c=this.uf.u,d=0;d<c.length;d++){var e=c[d];e&&e.ib&&e.ga(a)}}},wd:function(){return this.gc},l:function(a){if(this.uf){this.gc=a;for(var c=this.uf.u,d=0;d<c.length;d++){var e=c[d];e&&e.ib&&e.l(a)}}},T3:function(){return this.qo},tW:function(a){if(this.uf){var c=this.ta,d=c.Ga,c=c.sa;this.gq(this.uf,this.Yo,this.pB,a);this.U(d,c)}},O4:function(){return this.kv},Jaa:function(a){this.kv=a;this.lw()},Q4:function(){return this.mv},
Laa:function(a){this.mv=a;this.lw()},P4:function(){return this.lv},Kaa:function(a){this.lv=a;this.lw()},N4:function(){return this.jv},Iaa:function(a){this.jv=a;this.lw()},U:function(a,c){2===arguments.length?q.D.prototype.U.call(this,a,c):q.D.prototype.U.call(this,a);this.Vk=!0},qa:function(a){this.Vk&&(this.FQ(),this.Vk=!1);q.zb.prototype.qa.call(this,a)},t:function(){return this.Tw(null,q.dd(),!1,q.dd())},Tw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.gq(a,c,d,e);this.L(0.5,0.5);
return this.Vk=!0},$i:function(a,c,d){a instanceof q.lg?(d=a=c,c=q.dd()):(c=c||q.dd(),d=d||q.dd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.ia.e().Yx(a);if(!e){var e=q.ia.e().pa(a),f=e.Hg();(this.qb=f)||e.Vf(function(a){var c=this.tg,c=q.size(c.width,c.height);a=a.d();this.gq(this.uf,q.rect(0,0,a.width,a.height),!1,this.qo);this.nk(c);this.Vk=!0;this.Vd()},this)}a=q.ub.create(a,9);return this.Tw(a,c,!1,d)},we:function(a,c){if(!a||!a.aa())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.dd();var d=a.qb;(this.qb=d)||a.Vf(function(a){var c=this.tg,c=q.size(c.width,c.height);this.gq(this.uf,a.pe(),q.Fa.Pc?a.jd:!1,this.qo);this.nk(c);this.Vk=!0;this.Vd()},this);d=q.ub.gb(a.aa(),9);return this.Tw(d,a.pe(),q.Fa.Pc?a.jd:!1,c)},VI:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.dd();var d=q.mg.e().uh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.we(d,c)},N$:function(a){var c=new q.mf;return c&&c.Tw(this.uf,this.Yo,!1,a)?c:null},Gf:function(a){if(this.uf){this.jc=a;var c=this.uf.u;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Gf(a)}},pl:function(){return this.jc},gq:function(a,c,d,e){var f=this.Xi(),g=this.wd();c=q.rect(c.x,c.y,c.width,c.height);this.uc(!0);this.uf!=a&&(this.uf=a);a=a.aa();var h=a.Hg();if(this.qb=h){a=this.uf;a.uc(!0);h=this.qo;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.pB=d;h=a.aa();q.Fr(c)&&(c=h.d(),c=q.rect(0,
0,c.width,c.height));var k=this.Yo=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.bb;this.hd.width=l.width;this.hd.height=l.height;k=this.tg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.QF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.Fr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,p=m-(n+r),t=k.y,x=k.height,A=e-(t+x),D=0,C=0;e=q.rect(D,C,n,t);var D=D+n,k=q.rect(D,C,r,t),m=q.rect(D+r,C,p,t),D=0,C=0+t,l=
q.rect(D,C,n,x),D=D+n,Y=q.rect(D,C,r,x),D=D+r,M=q.rect(D,C,p,x),D=0,C=0+t+x,t=q.rect(D,C,n,A),D=D+n,n=q.rect(D,C,r,A),D=D+r,r=q.rect(D,C,p,A),p={I:1,g:0,Ba:0,Ka:1,Ya:0,Za:0};if(d){d=Y;var A=r,D=t,C=m,x=e,Q=M,R=l,la=n,Z=k,p=q.iy(p,c.height+c.x,c.y),p=q.IL(p),Y=q.Wg(Y,p),r=q.Wg(r,p),t=q.Wg(t,p),m=q.Wg(m,p);e=q.Wg(e,p);M=q.Wg(M,p);l=q.Wg(l,p);n=q.Wg(n,p);k=q.Wg(k,p);d.x=Y.x;d.y=Y.y;A.x=r.x;A.y=r.y;D.x=t.x;D.y=t.y;C.x=m.x;C.y=m.y;x.x=e.x;x.y=e.y;Q.x=M.x;Q.y=M.y;R.x=l.x;R.y=l.y;la.x=n.x;la.y=n.y;Z.x=k.x;
Z.y=k.y;this.vj=new q.A;this.vj.La(h,d,!0);a.f(this.vj,0,q.YE);this.Th=new q.A;this.Th.La(h,Z,!0);a.f(this.Th,1,q.aF);this.xi=new q.A;this.xi.La(h,la,!0);a.f(this.xi,1,q.WE);this.Ji=new q.A;this.Ji.La(h,R,!0);a.f(this.Ji,1,q.ZE);this.Ph=new q.A;this.Ph.La(h,Q,!0);a.f(this.Ph,1,q.$E);this.Uh=new q.A;this.Uh.La(h,x,!0);a.f(this.Uh,2,q.bF);this.mh=new q.A;this.mh.La(h,C,!0);a.f(this.mh,2,q.cF);this.yi=new q.A;this.yi.La(h,D,!0);a.f(this.yi,2,q.XE);this.zi=new q.A;this.zi.La(h,A,!0)}else p=q.iy(p,c.x,
c.y),q.ti(Y,p),q.ti(r,p),q.ti(t,p),q.ti(m,p),q.ti(e,p),q.ti(M,p),q.ti(l,p),q.ti(n,p),q.ti(k,p),this.vj=new q.A,this.vj.La(h,Y),a.f(this.vj,0,q.YE),this.Th=new q.A,this.Th.La(h,k),a.f(this.Th,1,q.aF),this.xi=new q.A,this.xi.La(h,n),a.f(this.xi,1,q.WE),this.Ji=new q.A,this.Ji.La(h,l),a.f(this.Ji,1,q.ZE),this.Ph=new q.A,this.Ph.La(h,M),a.f(this.Ph,1,q.$E),this.Uh=new q.A,this.Uh.La(h,e),a.f(this.Uh,2,q.bF),this.mh=new q.A,this.mh.La(h,m),a.f(this.mh,2,q.cF),this.yi=new q.A,this.yi.La(h,t),a.f(this.yi,
2,q.XE),this.zi=new q.A,this.zi.La(h,r);a.f(this.zi,2,q.QM);this.U(c.bb);this.f(a);this.UG&&(this.ga(f),255===g.p&&255===g.o&&255===g.g||this.l(g));return this.UG=!0}a.Vf(function(){this.Vk=!0;this.Vd()},this)},Hf:function(a){var c=q.ub.gb(a.aa(),9),d=a.qb;(this.qb=d)||a.Vf(function(a){var c=this.tg,c=q.size(c.width,c.height);this.gq(this.uf,a.pe(),q.Fa.Pc?a.jd:!1,this.qo);this.nk(c);this.Vk=!0;this.Vd()},this);this.gq(c,a.pe(),q.Fa.Pc?a.jd:!1,q.dd());this.jv=this.lv=this.mv=this.kv=0}});
q.mf.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.mf)&&e.$i(a,c))return e}else{if(a instanceof q.lg&&(e=new q.mf)&&e.$i(a,d))return e}else if(3===arguments.length){if((e=new q.mf)&&e.$i(a,c,d))return e}else if(1===arguments.length){if((e=new q.mf)&&e.$i(a))return e}else if(0===arguments.length&&(e=new q.mf)&&e.t())return e;return null};q.mf.NH=function(a,c){var d=new q.mf;return d&&d.we(a,c)?d:null};
q.mf.OH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.mf;return d&&d.VI(a,c)?d:null};q.ou=q.Qc.extend({});q.ou.sda=function(a){var c=new q.ou;c.t();c.U(0,a);return c};q.ou.j7=function(a){var c=new q.ou;c.t();c.U(a,0);return c};
q.au=q.Qc.extend({ib:!0,gc:null,Mi:0,ctor:function(){},wd:function(){return this.gc},l:function(a){this.gc=a;if(this.u&&0<this.u.length)for(var c=0;c<this.u.length;c++)this.u[c]&&this.u[c].ib&&this.u[c].l(a)},Xi:function(){return this.Mi},ga:function(a){this.Mi=a;if(this.u&&0<this.u.length)for(var c=0;c<this.u.length;c++)this.u[c]&&this.u[c].ib&&this.u[c].ga(a)},LT:function(a,c){if(this.t()){var d=q.W.e().Qb;this.Zi(!0);this.L(0.5,0.5);this.U(d);this.n(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},G1:function(){this.YQ(q.TL)},YQ:function(a){var c=-a,d;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(c+=this.u[d].d().height*this.u[d].Aa+a);var e=0,f=c/2;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(e=Math.max(e,this.u[d].d().width),this.u[d].n(0,f-this.u[d].d().height*this.u[d].Aa/2),f-=this.u[d].d().height*this.u[d].Aa+a);this.U(e,c)},D1:function(){this.XQ(q.TL)},XQ:function(a){var c=
-a,d;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(c+=this.u[d].d().width*this.u[d].va+a);var e=0,f=-c/2;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(e=Math.max(e,this.u[d].d().height),this.u[d].n(f+this.u[d].d().width*this.u[d].va/2,0),f+=this.u[d].d().width*this.u[d].va+a);this.U(c,e)},E1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.u[d].d().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.W.e().Qb,n=k=g=f=0,r=0,e=e/2;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.u[d].d().height,g=0|(g>=l||null==l?g:l),this.u[d].n(r-m.width/2,e-this.u[d].d().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},F1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.u[d].d().width,l=0|(l>=r||null==r?l:r),h+=0|this.u[d].d().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.W.e().Qb;l=k=0;n=null;var g=-g/2,p=0;if(this.u&&0<this.u.length)for(d=0;d<this.u.length;d++)this.u[d]&&(null==n&&(n=c[k],p=f[k]),r=this.u[d].d().width,l=0|(l>=r||null==r?l:r),this.u[d].n(g+e[k]/2,p-h.height/2),p-=this.u[d].d().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},Gf:function(){},pl:function(){return!1}});q.au.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.au)&&d.LT(a,c)?d:null};
q.au.B2=function(a){return q.au.create(a,null)};q.uy=q.Sb.extend({cB:0,Mu:0,Ec:null,iP:null,SG:null,lh:null,qc:null,pg:0,uj:0,d6:function(){return this.cB},P3:function(){return this.Mu},oI:function(){return this.Ec},D5:function(){return this.Mu},j6:function(){return this.SG},dT:function(){return this.lh},fT:function(){return this.qc},OC:function(a,c){return q.Sb.prototype.t.call(this)?(this.Ub(!0),this.Ec=q.Sd.Sm("colourPickerBackground.png",a,c,q.a(0,0)),this.iP=q.Sd.Sm("colourPickerOverlay.png",a,c,q.a(0,0)),this.SG=q.Sd.Sm("colourPickerShadow.png",
a,c,q.a(0,0)),this.lh=q.Sd.Sm("colourPicker.png",a,c,q.a(0.5,0.5)),this.qc=c,this.pg=35,this.uj=this.Ec.d().width/2,!0):!1},Ff:function(a){q.Sb.prototype.Ff.call(this,a);this.lh&&this.lh.ga(a?255:128)},AL:function(a){var c=new q.Cy;c.mi=1;c.ue=a.ue;c.ma=1;a=q.Sd.Ry(c);this.Ec.l(q.uw(0|255*a.p,0|255*a.o,0|255*a.g))},iY:function(a){a=q.a(this.qc.x+this.pg+this.uj*(1-a.mi),this.qc.y+this.pg+this.uj*a.ma);this.ow(a)},ow:function(a){var c=this.qc.x+0.5*this.Ec.Xa().width,d=this.qc.y+0.5*this.Ec.Xa().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Ec.Xa().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.lh.n(a);a.x<this.qc.x+this.pg?a.x=this.qc.x+this.pg:a.x>this.qc.x+this.pg+this.uj-1&&(a.x=this.qc.x+this.pg+this.uj-1);a.y<this.qc.y+this.pg?a.y=this.qc.y+this.pg:a.y>this.qc.y+this.pg+this.uj&&(a.y=this.qc.y+this.pg+this.uj);this.cB=1-Math.abs((this.qc.x+this.pg-a.x)/this.uj);this.Mu=Math.abs((this.qc.y+this.pg-a.y)/this.uj)},Lq:function(a){var c=this.qc.x+0.5*this.Ec.Xa().width,
d=this.qc.y+0.5*this.Ec.Xa().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Ec.Xa().width?(this.ow(a),this.df(q.qi),!0):!1},kb:function(a){if(!this.isEnabled()||!this.ka)return!1;a=this.Yi(a);return this.Lq(a)},nd:function(a){a=this.Yi(a);this.Lq(a)}});q.uy.create=function(a,c){var d=new q.uy;d.OC(a,c);return d};q.ty=q.Sb.extend({Go:0,mr:0,Ec:null,lh:null,qc:null,I4:function(){return this.Go},KD:function(a){this.Go=a;this.MW(this.Go/360)},J4:function(){return this.mr},MW:function(a){this.mr=a;this.Go=360*this.mr;a=this.Ec.Xa();var c=0.5*a.width-15,d=q.mj(360*this.mr-180);this.lh.n(this.qc.x+0.5*a.width+c*Math.cos(d),this.qc.y+0.5*a.height+c*Math.sin(d))},Ff:function(a){q.Sb.prototype.Ff.call(this,a);this.lh&&this.lh.ga(a?255:128)},oI:function(){return this.Ec},dT:function(){return this.lh},fT:function(){return this.qc},
OC:function(a,c){return q.Sb.prototype.t.call(this)?(this.Ub(!0),this.Ec=q.Sd.Sm("huePickerBackground.png",a,c,q.a(0,0)),this.lh=q.Sd.Sm("colourPicker.png",a,c,q.a(0.5,0.5)),this.lh.n(c.x,c.y+0.5*this.Ec.Xa().height),this.qc=c,this.mr=this.Go=0,!0):!1},ow:function(a){var c=this.Ec.Xa();this.KD(q.Py(Math.atan2(a.y-(this.qc.y+0.5*c.height),a.x-(this.qc.x+0.5*c.width)))+180);this.df(q.qi)},Lq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.ow(a),!0):!1},kb:function(a){if(!this.isEnabled()||
!this.ka)return!1;a=this.Yi(a);return this.Lq(a)},nd:function(a){a=this.Yi(a);this.Lq(a)}});q.ty.create=function(a,c){var d=new q.ty;d.OC(a,c);return d};q.CE=q.Sb.extend({ah:null,Gk:null,mm:null,Ec:null,IT:function(a){this.ah.ue=a.Go;a=q.Sd.Ry(this.ah);q.Sb.prototype.l.call(this,q.uw(0|255*a.p,0|255*a.o,0|255*a.g));this.df(q.qi);this.CQ()},xR:function(a){this.ah.mi=a.cB;this.ah.ma=a.Mu;a=q.Sd.Ry(this.ah);q.Sb.prototype.l.call(this,q.uw(0|255*a.p,0|255*a.o,0|255*a.g));this.df(q.qi)},l:function(a){q.Sb.prototype.l.call(this,a);var c=new q.RGBA;c.p=a.p/255;c.o=a.o/255;c.g=a.g/255;c.I=1;this.ah=q.Sd.jM(c);this.iH()},oI:function(){return this.Ec},t:function(){if(q.Sb.prototype.t.call(this)){this.Ub(!0);
q.mg.e().AH(aa.qE);var a=q.ub.create(aa.rE);this.f(a);this.ah=new q.Cy(0,0,0);this.Ec=q.Sd.Sm("menuColourPanelBackground.png",a,q.oj(),q.a(0.5,0.5));var c=q.xd(this.Ec.q,q.a(this.Ec.d().width/2,this.Ec.d().height/2));this.mm=q.ty.create(a,q.a(c.x+8,c.y+8));this.Gk=q.uy.create(a,q.a(c.x+28,c.y+28));this.mm.BH(this,this.IT,q.qi);this.Gk.BH(this,this.xR,q.qi);this.iH();this.f(this.mm);this.f(this.Gk);this.U(this.Ec.d());return!0}return!1},CQ:function(){this.mm.KD(this.ah.ue);this.Gk.AL(this.ah)},iH:function(){this.mm.KD(this.ah.ue);
this.Gk.AL(this.ah);this.Gk.iY(this.ah)},Ff:function(a){q.Sb.prototype.Ff.call(this,a);null!=this.mm&&this.mm.Ff(a);this.Gk&&this.Gk.Ff(a)},kb:function(){return!1}});q.CE.create=function(){var a=new q.CE;a.t();return a};aa=aa||{};aa.qE=aa.qE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.rE=aa.rE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.jF=24;q.O_=8;
q.EE=q.Sb.extend({Tc:0,fb:0,Eb:0,Cv:0,Av:0,Fb:null,Wk:null,Ud:null,DI:function(){return this.Tc},ff:function(a){a=Math.max(a,this.fb);this.Tc=a=Math.min(a,this.Eb);this.Zc();this.df(q.qi)},NS:function(){return this.fb},DK:function(a){this.Cv=this.fb=a;this.fb>=this.Eb&&(this.Eb=this.fb+1);this.ff(this.Tc)},MS:function(){return this.Eb},BK:function(a){this.Av=this.Eb=a;this.Eb<=this.fb&&(this.fb=this.Eb-1);this.ff(this.Tc)},gi:function(a){a=a.K;a=this.getParent().Ca(a);var c=this.Xa();c.bb.width+=
this.Fb.d().width;c.gd.x-=this.Fb.d().width/2;return q.ab(c,a)},dn:function(a){a=a.K;a=this.Ca(a);0>a.x?a.x=0:a.x>this.Ud.d().width&&(a.x=this.Ud.d().width);return a},g5:function(){return this.Cv},Vaa:function(a){this.Cv=a},d5:function(){return this.Av},Uaa:function(a){this.Av=a},AI:function(){return this.Fb},N5:function(){return this.Wk},J3:function(){return this.Ud},QT:function(a,c,d){return q.Sb.prototype.t.call(this)?(this.Zi(!1),this.Ub(!0),this.Ud=a,this.Wk=c,this.Fb=d,a=q.Sd.sE(a.Xa(),d.Xa()),
this.U(a.width,a.height),this.Ud.L(0.5,0.5),this.Ud.n(a.width/2,a.height/2),this.f(this.Ud),this.Wk.L(0,0.5),this.Wk.n(0,a.height/2),this.f(this.Wk),this.Fb.n(0,a.height/2),this.f(this.Fb),this.fb=0,this.Eb=1,this.ff(this.fb),!0):!1},Ff:function(a){q.Sb.prototype.Ff.call(this,a);this.Fb&&this.Fb.ga(a?255:128)},QX:function(a){this.$p(!0);this.Fb.l(q.Cp());this.ff(this.iE(a))},SX:function(a){this.ff(this.iE(a))},RX:function(){this.Wo&&this.ff(this.iE(this.Fb.q));this.Fb.l(q.yb());this.$p(!1)},J6:function(a){a=
a.K;a=this.Ca(a);0>a.x?a.x=0:a.x>this.Ud.d().width+q.jF&&(a.x=this.Ud.d().width+q.jF);return a},kb:function(a){if(!this.gi(a)||!this.isEnabled()||!this.ka)return!1;a=this.dn(a);this.QX(a);return!0},nd:function(a){a=this.dn(a);this.SX(a)},Df:function(){this.RX(q.oj())},Zc:function(){this.Fb.mb((this.Tc-this.fb)/(this.Eb-this.fb)*this.Ud.d().width);var a=this.Wk.wC(),a=q.rect(a.x,a.y,this.Fb.q.F,a.height);this.Wk.Mb(a,this.Wk.Wc,a.bb)},iE:function(a){a=a.x/this.Ud.d().width;return Math.max(Math.min(this.fb+
a*(this.Eb-this.fb),this.Av),this.Cv)}});q.EE.create=function(a,c,d){"string"==typeof a&&(a=q.A.create(a),c=q.A.create(c),d=q.A.create(d));var e=new q.EE;e.QT(a,c,d);return e};q.GE=q.Sb.extend({Xc:null,gG:0,zr:!1,So:!1,ctor:function(){q.Sb.prototype.ctor.call(this)},LC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.t()?(this.Ub(!0),this.So=!0,this.Xc=new q.SL,
this.Xc.LC(a,c,d,e,f,g),this.Xc.n(this.Xc.d().width/2,this.Xc.d().height/2),this.f(this.Xc),this.Zi(!1),this.L(0.5,0.5),this.U(this.Xc.d()),!0):!1},Fx:function(a,c){var d=(this.So=a)?this.Xc.Sk:this.Xc.qm;c?this.Xc.ux(q.Pn.create(0.2,"sliderXPosition",this.Xc.Pj,d)):this.Xc.MD(d);this.df(q.qi)},X7:function(){return this.So},g7:function(){return this.zr},Ff:function(a){this.br=a;this.Xc.ga(a?255:128)},dn:function(a){a=a.K;return a=this.Ca(a)},kb:function(a){if(!this.gi(a)||!this.isEnabled()||!this.ka)return!1;
this.zr=!1;this.gG=this.dn(a).x-this.Xc.Pj;this.Xc.Fb.l(q.Cp());this.Xc.Zc();return!0},nd:function(a){a=this.dn(a);a=q.a(a.x-this.gG,0);this.zr=!0;this.Xc.MD(a.x)},Df:function(a){a=this.dn(a);this.Xc.Fb.l(q.yb());this.zr?this.Fx(!(a.x<this.Xc.d().width/2),!0):this.Fx(!this.So,!0)},ik:function(a){a=this.dn(a);this.Xc.Fb.l(q.yb());this.zr?this.Fx(!(a.x<this.Xc.d().width/2),!0):this.Fx(!this.So,!0)}});q.GE.create=function(a,c,d,e,f,g){var h=new q.GE;return h&&h.LC(a,c,d,e,f,g)?h:null};
q.SL=q.A.extend({Pj:0,Sk:0,qm:0,YG:0,AA:0,BA:null,fh:null,Li:null,Fb:null,rm:null,pm:null,wo:null,kc:null,Ku:null,ctor:function(){q.A.prototype.ctor.call(this);this.AA=this.qm=this.Sk=this.Pj=0;this.BA=q.size(0,0);this.pm=this.rm=this.Fb=this.Li=this.fh=null},LC:function(a,c,d,e,f,g){return q.A.prototype.La.call(this,a.aa())?(this.Sk=0,this.qm=-c.d().width+e.d().width/2,this.Pj=this.Sk,this.cX(c),this.aX(d),this.OD(e),this.bX(f),this.$W(g),this.kc=a,a=this.BA=this.kc.d(),this.kc.n(0,0),this.wo=q.ob.create(),
this.wo.L(0.5,0.5),this.wo.n(a.width/2,a.height/2),this.wo.ND(this.kc),this.Ku=q.Ab.create(a.width,a.height),this.wo.f(this.Ku.pb),this.f(this.wo),this.f(this.Fb),this.Zc(),!0):!1},Zc:function(){this.fh.n(this.fh.d().width/2+this.Pj,this.fh.d().height/2);this.Li.n(this.fh.d().width+this.Li.d().width/2+this.Pj,this.Li.d().height/2);this.rm&&this.rm.n(this.fh.q.x-this.Fb.d().width/6,this.fh.d().height/2);this.pm&&this.pm.n(this.Li.q.x+this.Fb.d().width/6,this.Li.d().height/2);this.Fb.n(this.fh.d().width+
this.Pj,this.BA.height/2);this.Ku.Xj();this.fh.qa();this.Li.qa();this.rm&&this.rm.qa();this.pm&&this.pm.qa();this.Ku.end()},MD:function(a){a<=this.qm?a=this.qm:a>=this.Sk&&(a=this.Sk);this.Pj=a;this.Zc()},m6:function(){return this.Pj},q9:function(){return this.fh.d().width},o9:function(){return this.Li.d().height},gE:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.MD(a)},dba:function(a){this.Sk=a},x5:function(){return this.Sk},aba:function(a){this.qm=a},r5:function(){return this.qm},Saa:function(a){this.kc.ba(a)},
X4:function(){return this.kc.aa()},Oba:function(a){this.YG=a},z6:function(){return this.YG},Raa:function(a){this.AA=a},W4:function(){return this.AA},cX:function(a){this.fh=a},y5:function(){return this.fh},aX:function(a){this.Li=a},s5:function(){return this.Li},OD:function(a){this.Fb=a},AI:function(){return this.Fb},bX:function(a){this.rm=a},w5:function(){return this.rm},$W:function(a){this.pm=a},q5:function(){return this.pm}});q.zE=0;q.AE=1;q.wt=2;q.jq=q.k(55,55,55);q.py=q.k(147,147,147);q.yE="CourierNewPSMT";q.oE=0.15;q.GL=12;
q.FE=q.Sb.extend({Hd:null,rf:null,Rk:null,Uk:null,Tc:0,Oq:!1,io:!1,Om:!1,fb:0,Eb:0,Dm:0,bs:!1,Jm:q.wt,Hq:0,ctor:function(){q.Sb.prototype.ctor.call(this);this.Uk=this.Rk=this.rf=this.Hd=null;this.Tc=0;this.Om=this.io=this.Oq=!1;this.Dm=this.Eb=this.fb=0;this.bs=!1;this.Jm=q.wt;this.Hq=0},NT:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.t()){this.Ub(!0);this.Oq=this.io=!0;this.fb=0;this.Eb=100;this.Tc=0;this.Dm=1;this.Om=!1;this.Zi(!1);this.WW(a);this.Hd.n(a.d().width/2,a.d().height/2);this.f(this.Hd);this.VW(q.R.create("-",q.yE,40,q.size(40,40),q.rj,q.Au));this.Rk.l(q.py);this.Rk.n(this.Hd.d().width/2,this.Hd.d().height/2);this.Hd.f(this.Rk);this.gX(c);this.rf.n(a.d().width+c.d().width/2,a.d().height/2);this.f(this.rf);this.fX(q.R.create("+",q.yE,40,q.size(40,40),q.rj,q.Au));this.Uk.l(q.jq);this.Uk.n(this.rf.d().width/2,
this.rf.d().height/2);this.rf.f(this.Uk);var d=q.Sd.sE(this.Hd.Xa(),this.rf.Xa());this.U(this.Hd.d().width+this.rf.d().height,d.bb.height);return!0}return!1},cca:function(a){if(this.Om=a)this.Rk.l(q.jq),this.Uk.l(q.jq);this.ff(this.Tc)},DK:function(a){if(a>=this.Eb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.fb=a;this.ff(this.Tc)},BK:function(a){if(a<=this.fb)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Eb=a;this.ff(this.Tc)},ff:function(a){this.SD(a,!0)},DI:function(){return this.Tc},Iba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Dm=a},I7:function(){return this.Oq},SD:function(a,c){a<this.fb?a=this.Om?this.Eb:this.fb:a>this.Eb&&(a=this.Om?this.fb:this.Eb);this.Tc=a;this.Om||(this.Rk.l(a==this.fb?q.py:q.jq),this.Uk.l(a==this.Eb?q.py:q.jq));c&&this.df(q.qi)},eL:function(){this.Hq=-1;this.mc(this.update,q.oE,q.Wl,3*q.oE)},
gL:function(){this.$c(this.update)},update:function(){this.Hq++;this.Hq<q.GL&&0!=this.Hq%3||(this.Jm==q.zE?this.SD(this.Tc-this.Dm,this.Oq):this.Jm==q.AE&&this.SD(this.Tc+this.Dm,this.Oq))},sL:function(a){a.x<this.Hd.d().width&&this.Tc>this.fb?(this.Jm=q.zE,this.Hd.l(q.Cp()),this.rf.l(q.yb())):a.x>=this.Hd.d().width&&this.Tc<this.Eb?(this.Jm=q.AE,this.Hd.l(q.yb()),this.rf.l(q.Cp())):(this.Jm=q.wt,this.Hd.l(q.yb()),this.rf.l(q.yb()))},kb:function(a){if(!this.gi(a)||!this.isEnabled()||!this.ka)return!1;
a=this.Yi(a);this.sL(a);this.bs=!0;this.io&&this.eL();return!0},nd:function(a){this.gi(a)?(a=this.Yi(a),this.sL(a),this.bs||(this.bs=!0,this.io&&this.eL())):(this.bs=!1,this.Jm=q.wt,this.Hd.l(q.yb()),this.rf.l(q.yb()),this.io&&this.gL())},Df:function(a){this.Hd.l(q.yb());this.rf.l(q.yb());this.io&&this.gL();this.gi(a)&&(a=this.Yi(a),this.ff(this.Tc+(a.x<this.Hd.d().width?0-this.Dm:this.Dm)))},WW:function(a){this.Hd=a},i5:function(){return this.Hd},gX:function(a){this.rf=a},I5:function(){return this.rf},
VW:function(a){this.Rk=a},h5:function(){return this.Rk},fX:function(a){this.Uk=a},H5:function(){return this.Uk}});q.FE.create=function(a,c){var d=new q.FE;return d&&d.NT(a,c)?d:null};q.DE=q.Sb.extend({Fb:null,Uo:null,To:null,Tc:0,fb:0,Eb:1,TT:function(a,c,d){return this.t()?(this.Ub(!0),this.kX(c),this.OD(d),this.Fb.n(c.q),this.f(d,2),this.f(c,1),this.f(a),this.U(a.d()),this.fb=0,this.Eb=1,this.ff(this.fb),!0):!1},Ff:function(a){this.Ff(a);this.Fb!=NULL&&this.Fb.ga(a?255:128)},ff:function(a){a<this.fb&&(a=this.fb);a>this.Eb&&(a=this.Eb);this.Tc=a;a=(a-this.fb)/(this.Eb-this.fb);this.Uo.bt(100*a);this.Fb.Ix(360*a);this.df(q.qi)},DI:function(){return this.Tc},DK:function(a){this.fb=
a;this.fb>=this.Eb&&(this.Eb=this.fb+1);this.ff(this.Eb)},NS:function(){return this.fb},BK:function(a){this.Eb=a;this.Eb<=this.fb&&(this.fb=this.Eb-1);this.ff(this.fb)},MS:function(){return this.Eb},gi:function(a){a=this.Yi(a);return this.cS(this.Uo.q,a)<Math.min(this.d().width/2,this.d().height/2)},kb:function(a){if(!this.gi(a)||!this.isEnabled()||!this.ka)return!1;this.To=this.Yi(a);this.dV(this.To);return!0},nd:function(a){a=this.Yi(a);this.fV(a)},Df:function(){this.eV(q.a(0,0))},cS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},$Q:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},dV:function(){this.$p(!0);this.Fb.l(q.Cp())},fV:function(a){var c=this.$Q(this.Uo.q,a,this.Uo.q,this.To);180<c?c-=360:-180>c&&(c+=360);this.ff(this.Tc+c/360*(this.Eb-this.fb));this.To=a},eV:function(){this.Fb.l(q.yb());this.$p(!1)},OD:function(a){this.Fb=a},AI:function(){return this.Fb},kX:function(a){this.Uo=a},O5:function(){return this.Uo},oba:function(a){this.To=
a},US:function(){return this.To}});q.DE.create=function(a,c,d){var e=new q.DE;return e&&(a=q.A.create(a),d=q.A.create(d),c=q.Cc.create(q.A.create(c)),e.TT(a,c,d))?e:null};q.hF=-1;q.Yn=0;q.qq=1;q.ku=2;q.FR=function(a){var c=q.ra.e();return(c.va+c.Aa)/2*a/160};q.bN=q.Da.extend({fW:function(){},gW:function(){}});
q.Fh=q.Qc.extend({m1:0,X0:0,V0:0,Vb:null,Ei:q.ku,Gi:!1,lO:null,Qa:null,nh:!1,yv:null,Bv:null,Jq:!1,Mq:!1,Hr:null,hp:null,cs:0,oh:null,Xh:null,vG:0,tG:0,Br:null,dB:!1,ZG:null,ctor:function(){q.Qc.prototype.ctor.call(this);this.lO=new q.Vg(0,0);this.yv=new q.Vg(0,0);this.Bv=new q.Vg(0,0);this.Hr=new q.Vg(0,0);this.hp=new q.Vg(0,0);this.oh=[];this.Xh=new q.yk(0,0);this.Br=new q.lg(0,0,0,0);this.ZG=new q.lg(0,0,0,0)},t:function(){return this.Hp(q.size(200,200),null)},qx:function(){q.qD(this.cl,!1,this)},
Hp:function(a,c){var d=q.a(0,0);return q.Qc.prototype.t.call(this)?(this.Qa=c,this.Qa||(this.Qa=q.Qc.create(),this.Qa.Zi(!1),this.Qa.L(d)),this.RK(a),this.Ub(!0),this.oh.length=0,this.Vb=null,this.Mq=this.Jq=!0,this.Ei=q.ku,this.Qa.n(d),this.cs=0,this.f(this.Qa),this.vG=this.tG=1,!0):!1},Cl:function(a,c){if(c)this.xW(a,0.15);else{if(!this.Jq){var d=this.en(),e=this.Ps();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Qa.n(a)}},qI:function(){var a=this.Qa.q;return q.a(a.x,
a.y)},xW:function(a,c){var d=q.bu.create(c,a),e=q.kq.create(this.qQ,this);this.Qa.ux(q.pj.create(d,e));this.mc(this.IA)},WK:function(a,c){if(c)this.CX(a,0.15);else{var d=this.Qa;if(d.sC()!=a){var e,f;0==this.cs?(f=this.Xh,f=q.a(0.5*f.width,0.5*f.height),f=this.hl(f)):f=this.hp;e=d.Ca(f);d.ok(Math.max(this.vG,Math.min(this.tG,a)));e=d.hl(e);f=q.xd(f,e);this.Cl(q.cg(d.q,f))}}},FI:function(){return this.Qa.sC()},CX:function(a,c){if(0<c){var d=this.Qa.sC();d!=a&&(d=q.Pn.create(c,"zoomScale",d,a),this.ux(d))}else this.WK(a)},
en:function(){var a=this.Qa,c=a.d(),d=this.Xh;return q.a(d.width-c.width*a.va,d.height-c.height*a.Aa)},Ps:function(){return q.a(0,0)},W7:function(a){var c=this.qI(),d=this.Xh,e=this.FI(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.rV(c,a.Xa())},pause:function(){this.Qa.ix();for(var a=this.Qa.u,c=0;c<a.length;c++)a[c].ix()},aK:function(){for(var a=this.Qa.u,c=0,d=a.length;c<d;c++)a[c].tx();this.Qa.tx()},L7:function(){return this.Gi},o8:function(){return this.nh},E7:function(){return this.Jq},
rW:function(a){this.Jq=a},V6:function(){return this.Xh},RK:function(a){this.Xh=a;q.D.prototype.U.call(this,a)},d4:function(){return this.Qa},vW:function(a){a&&(this.uc(!0),this.Qa=a,a.Zi(!1),a.L(0,0),this.f(a),this.RK(this.Xh))},r4:function(){return this.Ei},qK:function(a){this.Ei=a},ec:function(){return this.Vb},Ah:function(a){this.Vb=a},kb:function(a){if(!this.ka)return!1;var c=this.pA(),d=this.Qa,e=d.hl(d.Zh(a)),f=this.oh;if(2<f.length||this.nh||!q.ab(c,e))return!1;f.push(a);1===f.length?(this.hp=
this.Zh(a),this.nh=!1,this.Gi=!0,this.Hr.x=0,this.cs=this.Hr.y=0):2==f.length&&(this.hp=q.gD(this.Zh(f[0]),this.Zh(f[1])),this.cs=q.dD(d.Zh(f[0]),d.Zh(f[1])),this.Gi=!1);return!0},nd:function(a){if(this.ka)if(1===this.oh.length&&this.Gi){this.nh=!0;var c=this.pA(),d=this.Zh(a);a=q.xd(d,this.hp);var e=0,f=this.Ei,e=f===q.qq?a.y:f===q.Yn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.nh||!(0.04375>Math.abs(q.FR(e))))if(this.nh||(a.x=0,a.y=0),this.hp=d,this.nh=!0,q.ab(c,this.hl(d))){switch(f){case q.qq:a.x=
0;break;case q.Yn:a.y=0}d=this.Qa.q;c=d.x+a.x;d=d.y+a.y;this.Hr=a;this.Cl(q.a(c,d))}}else 2!==this.oh.length||this.Gi||(a=q.dD(this.Qa.Zh(this.oh[0]),this.Qa.Zh(this.oh[1])),this.WK(this.FI()*a/this.cs))},Df:function(){this.ka&&(1==this.oh.length&&this.nh&&this.mc(this.Pz),this.oh.length=0,this.nh=this.Gi=!1)},ik:function(){this.ka&&(this.oh.length=0,this.nh=this.Gi=!1)},U:function(a,c){null!=this.Qa&&(2===arguments.length?this.Qa.U(a,c):this.Qa.U(a),this.jY())},d:function(){return this.Qa.d()},jY:function(){if(null!=
this.Qa){var a=this.Xh,c=this.Ps();this.yv.x=c.x+0.2*a.width;this.yv.y=c.y+0.2*a.height;c=this.en();this.Bv.x=c.x-0.2*a.width;this.Bv.y=c.y-0.2*a.height}},G7:function(){return this.Mq},laa:function(a){this.Mq=a},qa:function(a){if(this.ka){a=a||q.V;var c,d=this.u,e,f;if(q.zd===q.ig){a.save();this.transform(a);this.KF(a);if(d&&0<d.length){f=d.length;this.Nd();for(c=0;c<f;c++)if((e=d[c])&&0>e.eb)e.qa(a);else break;for(this.Va(a);c<f;c++)d[c].qa(a)}else this.Va(a);this.IF();a.restore()}else{q.Mp();var g=
this.Lk;g&&g.Ip()&&(g.VB(),this.by());this.transform(a);this.KF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.eb)e.qa();else break;for(this.Va(a);c<f;c++)d[c].qa()}else this.Va(a);this.IF(a);g&&g.Ip()&&g.RB(this);q.Lp()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.eb;d=d||a.ld;a.Zi(!1);a.L(0,0);this.Qa!=a?this.Qa.f(a,c,d):q.Qc.prototype.f.call(this,a,c,d)},Ub:function(a){this._super(a);a||(this.nh=this.Gi=!1,this.oh.length=0)},R0:function(){return null},
sP:function(a){var c=this.en(),d=this.Ps(),e=this.Ei,f=this.Qa.q,g=f.x,h=f.y;if(e===q.ku||e===q.Yn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.ku||e==q.qq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Cl(q.a(g,h),a)},Pz:function(){if(this.Gi)this.$c(this.Pz);else{var a,c;a=this.Qa.q;var d=this.Hr;this.Qa.n(a.x+d.x,a.y+d.y);this.Jq?(a=this.yv,c=this.Bv):(a=this.Ps(),c=this.en());var e=this.Qa.q.F,f=this.Qa.q.H;d.x*=0.95;d.y*=0.95;this.Cl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.$c(this.Pz),this.sP(!0)}},IA:function(){this.Gi&&this.$c(this.IA)},qQ:function(){this.$c(this.IA)},KF:function(a){if(this.Mq){this.dB=!1;var c=this.pA(),d=q.ra.e(),e=this.va,f=this.Aa;a=a||q.V;if(q.zd===q.ig)c=this.Xh.width*e*d.va,d=this.Xh.height*f*d.Aa,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.ra.e(),d.dU()){if(this.dB=!0,this.Br=d.aT(),q.qV(c,this.Br)){var g=this.Br;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.LD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.LD(c.x,c.y,c.width,c.height)}},IF:function(a){this.Mq&&q.zd===q.zk&&(this.dB?(a=this.Br,q.ra.e().LD(a.x,a.y,a.width,a.height)):(a=a||q.V,a.disable(a.SCISSOR_TEST)))},P0:function(){},pA:function(){for(var a=this.hl(q.oj()),c=this.Xh,d=this.va,e=this.Aa,f=this.Y;null!=f;f=f.getParent())d*=f.va,e*=f.Aa;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.ZG;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Fh.create=function(a,c){var d=new q.Fh;if(2==arguments.length){if(d&&d.Hp(a,c))return d}else if(d&&d.t())return d;return null};q.cN=q.Da.extend({Ex:function(){},di:function(){return 0}});q.dN=q.cN.extend({DA:0,ctor:function(){this.DA=0},Ex:function(a){this.DA=a},di:function(){return this.DA}});function ja(a,c){return a.di()-c.di()}
q.ly=q.Da.extend({jh:null,ctor:function(){this.jh=[]},YI:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.WT(a,this.Gp(a))},OV:function(a){if(0!=this.count()){var c=this.Gp(a);c<this.count()&&c!=q.si&&this.hn(c).di()==a.di()&&this.wD(c)}},$aa:function(a,c){var d=this.Gp(c);if(d<this.count()&&d!=q.si){var e=this.hn(d);e.di()==c.di()&&(this.wD(d),e.Ex(a),this.YI(e))}},vJ:function(a){if(0==this.count())return null;var c=new q.dN;c.Ex(a);var d=
this.Gp(c);d<this.count()&&d!=q.si&&(c=this.hn(d),c.di()!=a&&(c=null));return c},p5:function(){return null},Gp:function(a){var c=0;if(a){var d=0;a=a.di();for(var e=this.jh,f=0;f<e.length;f++){var g=e[f].di();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.si;return c},count:function(){return this.jh.length},G8:function(){var a=this.jh;return 0==a.length?null:a[a.length-1]},hn:function(a){return this.jh[a]},zH:function(a){this.jh.push(a);this.jh.sort(ja)},wD:function(a){q.iq(this.jh,a);this.jh.sort(ja)},
WT:function(a,c){this.jh=q.Ql(this.jh,a,c);this.jh.sort(ja)}});q.lF=0;q.fN=1;q.X_=q.D.extend({Hj:0,M4:function(){return this.Hj},OW:function(a){this.Hj=a},reset:function(){this.Hj=q.si},Ex:function(a){this.Hj=a},di:function(){return this.Hj}});q.Z_=q.bN.extend({Mca:function(){},Lca:function(){},Nca:function(){},Oca:function(){}});q.Y_=q.Da.extend({aY:function(a){return this.kR(a)},kR:function(){return q.ZM},Kca:function(){return null},l9:function(){return 0}});
q.uF=q.Fh.extend({jp:null,sd:null,ro:null,Oz:null,xB:null,Fv:null,Ou:null,Sj:null,ctor:function(){q.Fh.prototype.ctor.call(this);this.Fv=q.hF;this.Ou=[]},yN:function(a){var c=0,d=-1;switch(this.Ei){case q.Yn:a=a.x;break;default:a=a.y}for(var e=this.Ou;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},EO:function(a){a={x:a.x,y:a.y};this.jp===q.lF&&(a.y=this.Qa.d().height-a.y);a=this.yN(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.si));return a},BN:function(a){switch(this.Ei){case q.Yn:a=
q.a(this.Ou[a],0);break;default:a=q.a(0,this.Ou[a])}return a},hP:function(a){var c=this.BN(a);a=this.Oz.aY(this,a);this.jp===q.lF&&(c.y=this.Qa.d().height-c.y-a.height);return c},j1:function(){},BB:function(){var a=q.Xl();this.U(a);this.Fv!=this.Ei&&(this.Ei==q.Yn?this.Cl(q.a(0,0)):this.Cl(q.a(0,this.en().y)),this.Fv=this.Ei)},wG:function(a){this.ro.zH(a);this.Fk.OV(a);q.Pd(this.sd,a.Hj);a.reset();a.getParent()==this.Qa&&this.Qa.removeChild(a,!0)},Qv:function(a,c){c.L(0,0);c.n(this.hP(a));c.OW(a)},
GF:function(a){a.getParent()!=this.Qa&&this.Qa.f(a);this.Fk.YI(a);var c=this.sd;a=a.Hj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},j4:function(){return this.Oz},BW:function(a){this.Oz=a},ec:function(){return this.xB},Ah:function(a){this.xB=a},$ba:function(a){this.jp!=a&&(this.jp=a,0<this.Fk.count()&&this.vD())},S6:function(){return this.jp},Hp:function(a,c){return q.Fh.prototype.Hp.call(this,a,c)?(this.Fk=new q.ly,this.ro=new q.ly,this.sd=[],this.xB=null,this.jp=q.fN,this.qK(q.qq),
q.Fh.prototype.Ah.call(this,this),!0):!1},gda:function(a){if(!(a==q.si||-1<a)){var c=this.YB(a);c&&this.wG(c);c=null;this.Qv(a,c);this.GF(c)}},u7:function(a){if(!(a==q.si||-1<a)){var c,d=this.Fk;if(c=d.vJ(a))for(var e=c=d.Gp(c);e<d.count();e++)c=d.hn(e),this.Qv(c.Hj+1,c);c=null;this.Qv(a,c);this.GF(c);this.BB()}},y$:function(a){if(!(a==q.si||-1<a)){var c=this.YB(a);if(c){var d=this.Fk,e=d.Gp(c);this.wG(c);q.Pd(this.sd,a);for(a=d.count()-1;a>e;a--)c=d.hn(a),this.Qv(c.Hj-1,c)}}},vD:function(){this.Fv=
q.hF;for(var a=this.Fk,c=this.ro,d=this.Qa,e=0,f=a.count();e<f;e++){var g=a.hn(e);c.zH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.sd=[];this.Fk=new q.ly;this.BB()},I2:function(){if(0===this.ro.count())return null;var a=this.ro.hn(0);this.ro.wD(0);return a},YB:function(a){return-1==this.sd.indexOf(a)?null:this.Fk.vJ(a)},fW:function(){},gW:function(){},Df:function(a,c){if(this.ka){if(this.Sj){var d=this.Xa();d.gd=this.Y.hl(d.origin);this.Sj=null}q.Fh.prototype.Df.call(this,a,c)}},kb:function(a,
c){if(!this.ka)return!1;var d=q.Fh.prototype.kb.call(this,a,c);if(1===this.oh.length){var e;e=this.Qa.Zh(a);e=this.EO(e);this.Sj=e===q.si?null:this.YB(e)}else this.Sj&&(this.Sj=null);return d},nd:function(a,c){q.Fh.prototype.nd.call(this,a,c);this.Sj&&this.nh&&(this.Sj=null)},ik:function(a,c){q.Fh.prototype.ik.call(this,a,c);this.Sj&&(this.Sj=null)}});q.uF.create=function(a,c,d){var e=new q.uF;e.Hp(c,d);e.BW(a);e.BB();return e};q.fc={};q.fc.wH=function(a){for(var c in q.fc.ZC)a[c]=q.fc.ZC[c]};
q.fc.ZC={n:function(a,c){2==arguments.length?(this.q.F=a,this.q.H=c):(this.q.F=a.x,this.q.H=a.y);this.Wa();this.la.cE(this.q.F,-this.q.H)},od:function(a){this.q.H=a;this.Wa();this.la.cE(this.q.F,-this.q.H)},mb:function(a){this.q.F=a;this.Wa();this.la.cE(this.q.F,-this.q.H)},ok:function(a,c){this.va=a;this.Aa=c||a;this.Wa();this.la.resize(this.va,this.Aa)},Zp:function(a){this.va=a;this.Wa();this.la.resize(this.va,this.Aa)},Bn:function(a){this.Aa=a;this.Wa();this.la.resize(this.va,this.Aa)},L:function(a,
c){var d=this.Hh;if(2===arguments.length){if(a===d.F&&c===d.H)return;d.F=a;d.H=c}else{if(a.x===d.F&&a.y===d.H)return;d.F=a.x;d.H=a.y}var e=this.Fd,f=this.ta;e.F=f.Ga*d.F;e.H=f.sa*d.H;this.la.style[q.Nb.Up+"TransformOrigin"]=""+e.F+"px "+-e.H+"px";this.Ok?(this.la.style.marginLeft=0,this.la.style.marginBottom=0):(this.la.style.marginLeft=this.m8?0:-e.F+"px",this.la.style.marginBottom=-e.H+"px");this.Wa()},U:function(a,c){var d=this.ta;if(2===arguments.length){if(a===d.Ga&&c===d.sa)return;d.Ga=a;d.sa=
c}else{if(a.width===d.Ga&&a.height===d.sa)return;d.Ga=a.width;d.sa=a.height}var e=this.Fd,f=this.Hh;e.F=d.Ga*f.F;e.H=d.sa*f.H;this.la.width=d.Ga;this.la.height=d.sa;this.L(this.Hh);this.canvas&&(this.canvas.width=d.Ga,this.canvas.height=d.sa);this.Wa();this.sV()},Ix:function(a){this.HP!=a&&(this.xg=this.Qh=a,this.wm=Math.PI/180*this.xg,this.Gr=Math.PI/180*this.Qh,this.Wa(),this.la.rotate(a))},Mx:function(a){this.de=a;this.Wa();this.la.LK(this.de,this.ee)},Nx:function(a){this.ee=a;this.Wa();this.la.LK(this.de,
this.ee)},v:function(a){this.ka=a;this.Wa();this.la&&(this.la.style.display=a?"block":"none")},Tv:function(a){this.eb=a;this.Wa();this.la&&(this.la.zIndex=a)},at:function(a){this.Y=a;null!==a&&(a.L(a.Hh),this.Wa(),q.fc.hx(this))},tx:function(){this.zf().vn(this);this.Dg().vn(this);this.la&&!this.la.parentNode&&(this.getParent()?q.fc.hx(this):this.la.Tm(q.Zj));this.la&&(this.la.style.visibility="visible")},ix:function(){this.zf().Ts(this);this.Dg().Ts(this);this.la&&(this.la.style.visibility="hidden")},
Xf:function(){this.YD();this.kt();this.og(this.u,q.D.Kf.Xf);this.la&&this.la.remove()},KV:function(){this.la.remove()},ga:function(a){this.Mi=a;this.la.style.opacity=a/255},sV:function(){if(this.$w){var a=this.u;this.u=[];q.A.prototype.qa.call(this,this.rp);this.u=a}else q.A.prototype.qa.call(this,this.rp)}};
q.fc.DP=function(){var a=q.Nb("#EGLViewDiv");if(a){var c=q.ra.e(),d=c.yp(),e=c.Ve,f=c.Kw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.bb.width;0===e.bb.width&&0===e.bb.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.va,c.Aa);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
q.fc.hx=function(a){var c=a.getParent();if(c&&a.la)if(c.la||(q.fc.ZU(c),c.at=q.fc.ZC.at),a.la.Tm(c.la),c.L(c.Hh),c.getParent())q.fc.hx(c);else if(c.Oe)if(a=q.Nb("#EGLViewDiv"))c.la.Tm(a);else{a=q.sk("div");a.id="EGLViewDiv";var d=q.ra.e(),e=d.yp(),f=d.Ve,g=d.Kw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.bb.width;0===f.bb.width&&0===f.bb.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.va,d.Aa);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.la.Tm(a);a.Tm(q.Zj)}};q.fc.setTransform=function(a){if(a.rp)if(a.rp.translate(a.Fd.x,a.Fd.y),a.$w){var c=a.u;a.u=[];q.A.prototype.qa.call(a,a.rp);a.u=c}else q.A.prototype.qa.call(a,a.rp);a.la&&(a.la.position.x=a.q.x,a.la.position.y=-a.q.y,a.la.rotation=a.YS(),a.la.scale={x:a.va,y:a.Aa},a.la.Gl={x:a.de,y:a.ee},a.L&&a.L(a.Hh),a.la.Jn())};
q.fc.uS=function(a){a.la=q.sk("div");a.canvas=q.sk("canvas");var c=a.d();a.canvas.width=c.width;a.canvas.height=c.height;a.la.style.position="absolute";a.la.style.bottom=0;a.rp=a.canvas.getContext("2d");a.la.appendChild(a.canvas);a.getParent()&&q.fc.hx(a);a.$w=!0};
q.fc.ZU=function(a){a.la=q.sk("div");a.placeholder=!0;a.la.style.position="absolute";a.la.style.bottom=0;a.la.style.width=(a.d().width||q.W.e().Qb.width)+"px";a.la.style.maxHeight=(a.d().height||q.W.e().Qb.height)+"px";a.la.style.margin=0;q.fc.setTransform(a);a.la.Jn();q.fc.wH(a)};
q.fc.cC=function(a){if(1<arguments.length)q.fc.cC(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.A?c[d].la||q.fc.uS(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.fc.wH(c[d]),c[d].qa=function(){},c[d].transform=function(){},q.fc.setTransform(c[d]),c[d].v(c[d].ka);else q.fc.cC([arguments[0]])};q.pM=0;q.LZ=1;q.OZ=2;q.NZ=3;q.MZ=4;q.eM=0;q.pZ=1;q.qZ=2;q.rZ=3;q.tZ=4;q.oZ=5;q.sZ=6;q.cM=0;q.dM=1;q.nZ=2;q.mZ=3;q.lZ=4;q.wZ=q.Da.extend({Ew:function(){},Fw:function(){},Gw:function(){},W2:function(){}});
q.oq=q.Tl.extend({Fi:null,Vb:null,tO:q.eM,sO:q.dM,VO:q.pM,f1:"",Oi:"",bw:null,Cr:null,rG:50,LN:18,$a:null,Zq:14,aA:"Arial",bA:!1,JA:"",Iv:14,g1:!1,ctor:function(a,c){q.Tl.prototype.ctor.call(this);this.bA=!1;this.bw=q.yb();this.Cr=q.Cp();this.U(a);this.Fi=new q.A;this.Fi.Va=function(){};this.f(this.Fi);var d=this;c?(this.$a=document.createElement("textarea"),this.$a.style.resize="none",this.bA=!0):this.$a=document.createElement("input");this.$a.type="text";this.$a.style.fontSize=this.Zq+"px";this.$a.style.color=
"#000000";this.$a.style.border=0;this.$a.style.background="transparent";this.$a.style.width="100%";this.$a.style.height="100%";this.$a.style.n1=0;this.$a.style.outline="medium";this.$a.addEventListener("input",function(){d.Vb&&d.Vb.Gw&&d.Vb.Gw(d,this.value)});this.$a.addEventListener("keyup",function(a){a.keyCode===q.oM.oS&&!1==d.bA&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.$a.addEventListener("focus",function(){this.value==d.Oi&&(this.value="",this.style.fontSize=d.Zq+"px",
this.style.color=q.fl(d.bw));d.Vb&&d.Vb.Ew&&d.Vb.Ew(d)});this.$a.addEventListener("blur",function(){""==this.value&&(this.value=d.Oi,this.style.fontSize=d.Iv+"px",this.style.color=q.fl(d.Cr));d.Vb&&d.Vb.Fw&&d.Vb.Fw(d)});q.fc.cC(this.Fi);this.Fi.la.appendChild(this.$a);this.Fi.la.hca=!1;this.Fi.la.style.width=a.width-6+"px";this.Fi.la.style.height=a.height-6+"px";this.Fi.canvas.remove()},zaa:function(a,c){this.Zq=c;this.aA=a;this.gB()},aca:function(){},LW:function(a){this.aA=a;this.gB()},vK:function(a){this.Zq=
a;this.gB()},gB:function(){this.$a.value!=this.Oi&&(this.$a.style.fontFamily=this.aA,this.$a.style.fontSize=this.Zq+"px")},Be:function(a){null!=a&&(""==a?(this.$a.value=this.Oi,this.$a.style.color=q.fl(this.Cr)):(this.$a.value=a,this.$a.style.color=q.fl(this.bw)))},KW:function(a){this.bw=a;this.$a.value!=this.Oi&&(this.$a.style.color=q.fl(a))},Taa:function(a){!isNaN(a)&&0<a&&(this.rG=a,this.$a.maxLength=a)},Y4:function(){return this.rG},iba:function(a){if(null!=a){var c=this.Oi;this.Oi=a;this.$a.value==
c&&(this.$a.value=a,this.$a.style.color=q.fl(this.Cr),this.Rv())}},jba:function(a,c){this.JA=a;this.Iv=c;this.Rv()},lba:function(a){this.JA=a;this.Rv()},mba:function(a){this.Iv=a;this.Rv()},Rv:function(){this.$a.value==this.Oi&&(this.$a.style.fontFamily=this.JA,this.$a.style.fontSize=this.Iv+"px")},kba:function(a){this.Cr=a;this.$a.value==this.Oi&&(this.$a.style.color=q.fl(a))},Cx:function(a){this.sO=a;this.$a.type=a==q.cM?"password":"text"},T:function(){return this.$a.value},PT:function(a,c){return this.QI(c)?
(this.Fi.n(3,3),this.BX(!1),this.nk(a),this.n(0,0),this.HF(this,this.cY,q.vE),!0):!1},Ah:function(a){this.Vb=a},G5:function(){return this.Oi},Haa:function(a){this.tO=a},Aba:function(a){this.VO=a},A8:function(a){var c=q.oq.pe(this);c.y-=4;c.y7(a.end)?this.LN=a.end.c5()-c.f5():q.log("needn't to adjust view layout.")},y8:function(){},z8:function(){},x8:function(){},cY:function(){},bC:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},YV:function(a,c,d){return"#"+this.bC(a)+this.bC(c)+this.bC(d)},
jK:function(a){this.$a.style.background=this.YV(a.p,a.o,a.g)},p7:function(a,c){this.rO=a.width;this.la.style.width=this.rO.toString()+"px";this.qO=a.height;this.la.style.height=this.qO.toString()+"px";this.la.style.backgroundColor=q.fl(c)}});q.oq.pe=function(a){var c=a.d(),c=q.rect(0,0,c.width,c.height);return q.Wg(c,a.Qs())};q.oq.create=function(a,c,d,e,f){d=new q.oq(a,d);c instanceof q.Bc?d.jK(c):d.PT(a,c)&&(e&&d.Bx(e,q.xE),f&&d.Bx(f,q.wE));return d};var u=[],ka=new XMLHttpRequest;ka.open("GET","config.txt",!1);ka.send(null);var na=ka.responseText,oa=na.split("\n")[0],pa=na.split("\n")[1];pa&&(oa+=":"+pa);var qa=io.connect(oa,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});qa.on("connect",function(){v.vy();v.eN();console.log("Client has connected to the server!");if(w){var a=w.e().md;a?a.Cn(!0):u.push(JSON.stringify({connect:!0}))}else u.push(JSON.stringify({connect:!0}))});qa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&v.tL(a.mapdata,a.maptime),a.warpdata&&v.fy(a.warpdata,a.warptime),a.itemdata&&v.mt(a.itemdata,a.itemtime),a.skillsdata&&v.fE(a.skillsdata,a.skillstime),a.signsdata&&v.ey(a.signsdata,a.signstime),a.npcsdata&&v.uL(a.npcsdata,a.npcstime),a.questdata&&v.dE(a.questdata,a.queststime),a.settingsdata&&(v.eE(a.settingsdata,a.settingstime),y=sa(y,
a.settingsdata)),a.scriptsdata&&v.yL(a.scriptsdata,a.scriptstime),ta=!0;else if(c=w.e().md)if(a.connect?c.Cn(!0):a.disconnect&&c.Cn(!1),"Game"==c.Mc())if(a.newPlayer)z.TQ(a.newPlayer);else if(a.playerLeft)z.ei(a.playerLeft).Lg==z.C.ha.Lg&&(MapMaster=!1),z.UH(a.playerLeft);else if(a.changemap){for(c=0;c<u.length;c++)d=JSON.parse(u[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),u.splice(c,1),c--);z.ei(a.id).Lg==z.C.ha.Lg&&(MapMaster=!1);z.oR(a.id,a.changemap);z.IJ(a.id,a.setTo)}else a.setTo?!z.ei(a.id)||
z.ei(a.id)&&!1==z.ei(a.id).Jg?z.IJ(a.id,a.setTo):u.push(JSON.stringify(a)):a.moveTo?!z.ei(a.id)||z.ei(a.id)&&!1==z.ei(a.id).Jg?z.wU(a.id,a.moveTo):u.push(JSON.stringify(a)):a.chatMessage?B.Lb(a.chatMessage):a.coinflip?B.Lb(a.coinflip):a.diceroll?B.Lb(a.diceroll):a.dance?B.Lb(a.dance):a.afk?z.pR(a.afk):a.savemap?(v.mR(a.savemap,a.mapdata,a.updatetime),F.FX(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(v.vR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.$m()[parseInt(a.savewarps)]=a.warpdata,
Warpeditor&&(Warpeditor.Lc=ObjectLists.$m(),Warpeditor.ya())):a.savewarpswhole?(v.zV(a.savewarpswhole,a.updatetime),ObjectLists.AX(a.savewarpswhole)):a.savescripts?(v.rR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.zs()[parseInt(a.savescripts)]=a.scriptsdata,Eventsystem&&(Eventsystem.Lc=ObjectLists.zs(),Eventsystem.ya())):a.savescriptswhole?(v.wV(a.savescriptswhole,a.updatetime),ObjectLists.pX(a.savescriptswhole)):a.savesettings?(v.eE(a.savesettings,a.updatetime),y=sa(y,a.savesettings),
Settingseditor&&(Settingseditor.data=ua(y),Settingseditor.$b())):a.savequests?(v.qR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.ys()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Lc=ObjectLists.ys(),Questeditor.ya())):a.savequestswhole?(v.vV(a.savequestswhole,a.updatetime),ObjectLists.lX(a.savequestswhole)):a.saveskills?(v.tR(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.ll()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Lc=ObjectLists.ll(),
Skillseditor.ya()),za.update(),Skills&&Skills.If()):a.saveskillswhole?(v.yV(a.saveskillswhole,a.updatetime),ObjectLists.rX(a.saveskillswhole),za.update(),Skills&&Skills.If()):a.savesigns?(v.sR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.As()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Lc=ObjectLists.As(),Signeditor.ya())):a.moveNPC?(a.npcID=parseInt(a.npcID),!z.xs(a.npcID)||z.xs(a.npcID)&&!1==z.xs(a.npcID).Jg?z.vU(a.npcID,a.moveNPC,a.mapnumber):u.push(JSON.stringify(a))):
a.changeNPCPosition?(a.npcID=parseInt(a.npcID),z.xs(a.npcID)&&!1==z.xs(a.npcID).Jg?z.RV(a.npcID,a.changeNPCPosition):u.push(JSON.stringify(a))):a.savesignswhole?(v.xV(a.savesignswhole,a.updatetime),ObjectLists.qX(a.savesignswhole)):a.savenpcs?(v.nR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.kl()[parseInt(a.savenpcs)]=a.npcsdata,F.Qw(F.oe(),!0),NPCeditor&&(NPCeditor.Lc=ObjectLists.kl(),NPCeditor.ya())):a.savenpcswhole?(v.uV(a.savenpcswhole,a.updatetime),ObjectLists.XW(a.savenpcswhole),
F.Qw(F.oe(),!0),NPCeditor&&(NPCeditor.Lc=ObjectLists.kl(),NPCeditor.ya())):a.saveitems?(v.lR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.ci()[parseInt(a.saveitems)].name,ObjectLists.ci()[parseInt(a.saveitems)]=a.itemdata,F.Qw(F.oe()),Itemeditor&&(Itemeditor.Lc=ObjectLists.ci(),Itemeditor.ya()),Inventory&&Inventory.If(),z.C.ha.mt(c,a.itemdata)):a.droppeditem?a.mapnumber==F.oe()&&!1==F.e().Ig?(c=F.BI(a.index),c.PQ(a.droppeditem),F.nt()):u.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==
F.oe()&&(c=F.BI(a.pickupitem),c.iD(),F.nt()):a.saveitemswhole&&(v.tV(a.saveitemswhole,a.updatetime),ObjectLists.PW(a.saveitemswhole));else"Login"==c.Mc()&&(a.login_success?c.BU(a.login_success):a.login_fail?c.ex(a.login_fail):a.registrationsuccess?c.CR():a.registrationfailed&&c.rS(a.registrationfailed));else u.push(JSON.stringify(a))};qa.on("disconnect",function(){console.log("The client has disconnected!");var a=w.e().md;a?a.Cn(!1):u.push(JSON.stringify({disconnect:!0}))});
function G(a){qa.send(JSON.stringify(a))};var H=Object.freeze({me:{G2:"C to popup/dismiss, enter for chat. Say /help for help.",z7:"Welcome to the Powder Engine! Enter /help for some help.",HT:"-------HELP------",GT:" - Press C to expand the chat, I for Inventory",FT:" - Space to grab Items and E for Equipment.",ET:" - Enter /commands for command list",DT:"-------------------",BR:"Commands:  /editskill, /editsign, /editnpc,",AR:" - /editmap, /editwarp, /edititem,",zR:" - /dance, /coinflip, /diceroll, /afk",yR:"--------------------",$U:" has joined the game!",
W9:" has left the game!",jx:"Picked up ",jS:"Dropped ",$I:"Your inventory is full"}});var Aa={},Ba=q.Dd.e();q.lj.e();Ba.KK(["res/Graphics"]);ka=new XMLHttpRequest;ka.open("GET","res/Graphics/tile_graphics.txt",!1);ka.send(null);var na=ka.responseText,Ea=na.split(","),I=[],Fa;for(Fa in Ea)I.push({name:Ea[Fa],texture:q.ia.e().pa(Ea[Fa])});var ta=!1,ka=new XMLHttpRequest;ka.open("GET","res/Graphics/character_graphics.txt",!1);ka.send(null);var na=ka.responseText,Ea=na.split(","),J=[];for(Fa in Ea)J.push({name:Ea[Fa],texture:q.ia.e().pa(Ea[Fa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();Aa[a.keyCode]=!0};window.onbeforeunload=function(){G({disconnect:!0})};window.onfocus=function(){for(var a=[],c=u.length-1;0<=c;c--){var d=JSON.parse(u[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,u[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&u.splice(c,1)}};var L=q.h(255,255,255,255),Ga=q.h(0,255,0,255),N=q.h(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){Aa[a.keyCode]=!1;if(null!=w.e().md){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&w.e().md.wl(c)}};rememberLoginNextTime=autoLoginNextTime=!1;
var y={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function O(a,c){return(a.iJ&&a.ka||!a.iJ)&&q.ab(q.rect(a.q.F,a.q.H,a.d().width,a.d().height),c)}function ua(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?ua(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ha(a,c){var d=c?a:a.Nc();return Ia(d,"panels")}function Ma(){Na.Ac(function(){})}
function Ia(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.cU?d=Oa.vy(c.bY):"undefined"!=typeof c.s?(d=c.size?c.size:q.size(100,100),d=q.ea.create(c.s,d.width,d.height)):d="undefined"!=typeof c.$w?q.A.create():"undefined"!=typeof c.$?q.A.gb(q.ia.e().pa(c.$)):"undefined"!=typeof c.label?q.R.create(c.label,c.font?c.x3:"Arial",c.fontSize?c.fontSize:14):q.D.create();"undefined"!=typeof c.size&&d.U(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.n(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.v(c.visible);"undefined"!=typeof c.c&&d.L(c.c);"undefined"!=typeof c.opacity&&d.ga(c.opacity);"undefined"!=typeof c.color&&d.l(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ia(a,e,c.children),d.f(d[e]);return d}q.size(960,640);var P=q.size(1600,1600),Pa=Math.floor(P.height/32),S=Math.floor(P.width/32);function T(a,c){return parseInt(S*(Pa-c))+parseInt(a)}
function sa(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d};var v=q.Da.extend({C:null,wb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},lk:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),U=null;v.vy=function(){U||(U=new v);return U};v.e=function(){return U};v.eX=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};v.SS=function(){return s.localStorage.getItem("panelStore")};
v.IS=function(a){if(U.wb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};v.tL=function(a,c){U.lk("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};v.mR=function(a,c,d){var e=U.wb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;v.tL(e,d)};v.Ze=function(){if(U.wb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
v.yL=function(a,c){U.lk("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};v.rR=function(a,c,d){var e=U.wb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;v.yL(e,d)};v.wV=function(a,c){scriptarray=a;v.fy(scriptarray,c)};v.lT=function(){if(U.wb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
v.fy=function(a,c){U.lk("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};v.vR=function(a,c,d){var e=U.wb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;v.fy(e,d)};v.zV=function(a,c){warparray=a;v.fy(warparray,c)};v.GS=function(){if(U.wb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
v.mt=function(a,c){U.lk("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};v.lR=function(a,c,d){var e=U.wb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;v.mt(e,d)};v.tV=function(a,c){itemsarray=a;v.mt(itemsarray,c)};v.cT=function(){if(U.wb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
v.fE=function(a,c){U.lk("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};v.tR=function(a,c,d){var e=U.wb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;v.fE(e,d)};v.yV=function(a,c){skillarray=a;v.fE(skillarray,c)};v.bT=function(){if(U.wb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
v.ey=function(a,c){U.lk("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};v.sR=function(a,c,d){var e=U.wb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;v.ey(e,d)};v.xV=function(a,c){signarray=a;v.ey(signarray,c)};v.OS=function(){if(U.wb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
v.uL=function(a,c){U.lk("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};v.nR=function(a,c,d){var e=U.wb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;v.uL(e,d)};v.uV=function(a,c){npcsarray=a;v.ey(npcsarray,c)};v.WS=function(){if(U.wb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
v.dE=function(a,c){U.lk("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};v.qR=function(a,c,d){var e=U.wb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;v.dE(e,d)};v.vV=function(a,c){questsarray=a;v.dE(questsarray,c)};v.tC=function(){if(U.wb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
v.eE=function(a,c){U.lk("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
v.WY=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
v.eN=function(){G({sync:!0,mapupdate:null!=U.wb("maps")?U.wb("maps"):2,warpupdate:null!=U.wb("warps")?U.wb("warps"):2,itemupdate:null!=U.wb("items")?U.wb("items"):2,skillsupdate:null!=U.wb("skills")?U.wb("skills"):2,signsupdate:null!=U.wb("signs")?U.wb("signs"):2,npcsupdate:null!=U.wb("npcs")?U.wb("npcs"):2,questsupdate:null!=U.wb("quests")?U.wb("quests"):2,settingsupdate:null!=U.wb("settings")?U.wb("settings"):2,scriptsupdate:null!=U.wb("scripts")?U.wb("scripts"):2})};
v.SW=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};v.JS=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};v.nX=function(a,c){s.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};v.iK=function(a){s.localStorage.setItem("autologin",JSON.stringify(a))};v.bJ=function(){var a=s.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
v.hJ=function(){return s.localStorage.getItem("savedcredentials")?!0:!1};v.gT=function(){var a=s.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.Fh.extend({ql:null,m:null,ww:null,dx:!1,ni:null,yn:null,hL:null,vD:function(){if(this.m){this.yn&&(this.yn.Q(),this.ni.Q());var a=this.m.ne();a.height<this.m.d().height&&(a=this.m.d(),this.dx=!0);this.ql=[];for(var c=0,d=0;d<this.m.Kd();d++){var e=this.m.$e(d),c=c+e.height;this.ql[d]=q.D.create();this.ql[d].U(e);this.ql[d].n(q.a(0,a.height-c));this.ql[d].L(q.a(0,1));this.f(this.ql[d]);this.ql[d].f(this.m.Ye(d))}this.bq(-300);this.RD(0);!1==this.dx&&(this.yn=q.ea.create(q.h(0,0,0,255),1,
this.m.d().height),this.yn.n(q.a(this.m.d().width+20,0)),this.ni=q.ea.create(q.h(90,90,255,255),20,this.m.d().height/5),this.ni.n(q.a(this.m.d().width+10,0)),this.m.f(this.yn),this.m.f(this.ni),this.Cl(q.a(0,this.Ps().y),!1));this.m.n(this.hL)}},t:function(a){this.m=a;this.L(q.a(0,0));this.hL=q.a(a.q.F,a.q.H);this.Hp(this.m.d(),this.m);this.qK(q.qq);this.rW(!1);a=this.m.ne();var c=q.D.create();c.U(a);this.vW(c)},ef:function(a){this.ww=a},BD:!1,Ax:null,yc:function(a){if(!this.m.Wi)return!1;for(var c=
0;c<this.m.Kd();c++)this.m.Wi(c).l(q.h(255,255,255,255));this.m.Wi(a).l(q.h(255,0,0,255))},kb:function(a){for(var c=a.K,d=0;d<this.m.Kd();d++)for(var e in this.ww[d]){var f=this.ql[d].Ca(c),g=this.m.Ca(c);g.x+=this.m.q.F;O(this.m,g);if(O(this.ww[d][e],f))return this.m.zc(this.ww[d][e].rc,d,a),this.BD=!0}if(!1==this.dx){a=this.m.Ca(c);if(O(this.ni,a))return this.Ax=a.y-this.ni.q.H,!0;console.log("TURNING OFF SCROLOL");this.Ax=null}},nd:function(a){if(!0==this.BD)return this.BD=!1;if(!1==this.dx){var c=
a.K;if(null!=this.Ax&&(c=this.m.Ca(c),c.y-=this.Ax,0<=c.y&&c.y+this.ni.d().height<=this.m.d().height))return a=c.y/(this.yn.d().height-this.ni.d().height),this.Cl(q.a(0,this.en().y*a),!1),this.ni.od(c.y),!0;c=this._super(a);a=this.qI().y/this.en().y;this.ni.od((this.yn.d().height-this.ni.d().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.t(a);c.vD();return c};var Oa=q.D.extend({re:null,se:null,te:null,xe:null,ye:null,Ld:null,item:null,he:null,ie:null,ke:null,je:null,position:null,gf:null,type:null,lb:null,ctor:function(){this._super()},t:function(){this._super();this.gf=q.R.create("","Arial",16);this.gf.L(0.5,0.5);this.gf.n(16,-16);this.gf.ga(0);this.gf.l(q.k(0,0,0));this.f(this.gf,900);this.item=[];this.lb=[];this.gj(0)},PQ:function(a){this.mk(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.ci().length;c++)if(a.name==ObjectLists.ci()[c].name){this.Lx({id:c,
data:{amount:a.amount}},!0);break}this.gj(4)},iD:function(){this.lb[this.lb.length-1].temp&&(this.item[this.item.length-1].Q(),this.item.splice(this.item.length-1,1),this.bV())},mk:function(a,c,d){a=q.A.gb(q.ia.e().pa(a));a.Mb(q.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.l(q.h(255,255,255,255));a.L(0,1);switch(d){case "ground1":null!=this.re&&this.re.Q();this.re=a;this.f(this.re);break;case "ground2":null!=this.se&&this.se.Q();this.se=a;this.f(this.se,1);break;case "groundShadow":null!=
this.te&&this.te.Q();this.te=a;this.f(this.te,2);break;case "mask1":null!=this.xe&&this.xe.Q();this.xe=a;this.f(this.xe,3);break;case "mask2":null!=this.ye&&this.ye.Q();this.ye=a;this.f(this.ye,4);break;case "mask3":null!=this.Ld&&this.Ld.Q();this.Ld=a;this.f(this.Ld,5);break;case "item":this.item.push(a);this.f(this.item[this.item.length-1],6);break;case "fringe1":null!=this.he&&this.he.Q();this.he=a;this.f(this.he,7);break;case "fringe2":null!=this.ie&&this.ie.Q();this.ie=a;this.f(this.ie,8);break;
case "fringeShadow":null!=this.ke&&this.ke.Q();this.ke=a;this.f(this.ke,9);break;case "fringe3":null!=this.je&&this.je.Q(),this.je=a,this.f(this.je,10)}},Hg:function(){var a=!0;if(null!=this.re&&this.re.aa()&&!1==this.re.aa().pc)a=!1;else if(null!=this.se&&this.se.aa()&&!1==this.se.aa().pc)a=!1;else if(null!=this.te&&this.te.aa()&&!1==this.te.A6)a=!1;else if(null!=this.xe&&this.xe.aa()&&!1==this.xe.aa().pc)a=!1;else if(null!=this.ye&&this.ye.aa()&&!1==this.ye.aa().pc)a=!1;else if(null!=this.Ld&&this.Ld.aa()&&
!1==this.Ld.aa().pc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].aa()&&!1==this.item[c].aa().pc&&(a=!1);else null!=this.he&&this.he.aa()&&!1==this.he.aa().pc?a=!1:null!=this.ie&&this.ie.aa()&&!1==this.ie.aa().pc?a=!1:null!=this.ke&&this.ke.aa()&&!1==this.ke.aa().pc?a=!1:null!=this.je&&this.je.aa()&&!1==this.je.aa().pc&&(a=!1);return a},Jd:function(){null!=this.re&&this.re.Q();this.re=null;null!=this.se&&this.se.Q();this.se=null;null!=this.te&&this.te.Q();this.te=null;null!=
this.xe&&this.xe.Q();this.xe=null;null!=this.ye&&this.ye.Q();this.ye=null;null!=this.Ld&&this.Ld.Q();this.Ld=null;for(var a=0;a<this.item.length;a++)this.item[a].Q();this.item=[];this.Ld=null;null!=this.he&&this.he.Q();this.he=null;null!=this.ie&&this.ie.Q();this.ie=null;null!=this.ke&&this.ke.Q();this.ke=null;null!=this.je&&this.je.Q();this.je=null;this.gj(0);this.lb=[];this.item=[]},gC:function(a){switch(a){case "ground1":null!=this.re&&this.re.Q();this.re=null;break;case "ground2":null!=this.se&&
this.se.Q();this.se=null;break;case "groundShadow":null!=this.te&&this.te.Q();this.te=null;break;case "mask1":null!=this.xe&&this.xe.Q();this.xe=null;break;case "mask2":null!=this.ye&&this.ye.Q();this.ye=null;break;case "mask3":null!=this.Ld&&this.Ld.Q();this.Ld=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].Q(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.he&&this.he.Q();this.he=null;break;case "fringe2":null!=this.ie&&this.ie.Q();this.ie=null;break;
case "fringeShadow":null!=this.ke&&this.ke.Q();this.ke=null;break;case "fringe3":null!=this.je&&this.je.Q(),this.je=null}},gj:function(a){this.type=a;switch(this.type){case 0:this.gf.da("");break;case 1:this.gf.da("BLK");break;case 2:this.gf.da("SPW");break;case 3:this.gf.da("WRP");break;case 4:this.gf.da("ITM");break;case 5:this.gf.da("NPC");break;case 6:this.gf.da("SKL");break;case 7:this.gf.da("SGN")}},Lx:function(a,c){c||(c=!1);this.lb.push({num:parseInt(a.id),data:a.data,temp:c})},bV:function(){this.lb.splice(this.lb.length-
1,1);0==this.lb.length&&this.gj(0)},Ow:function(){return this.lb[this.lb.length-1]},Bp:function(){switch(this.type){case 3:return ObjectLists.$m()[this.lb[this.lb.length-1].num];case 4:var a=ObjectLists.ci()[this.lb[this.lb.length-1].num];a.amount=parseInt(this.lb[this.lb.length-1].data.amount);return a;case 7:return ObjectLists.As()[this.lb[this.lb.length-1].num];case 5:return ObjectLists.kl()[this.lb[this.lb.length-1].num]}},Ze:function(){switch(this.type){case 3:return ObjectLists.$m()[this.lb[this.lb.length-
1].num]?ObjectLists.$m()[this.lb[this.lb.length-1].num]:null;case 4:return ObjectLists.ci()[this.lb[this.lb.length-1].num]?ObjectLists.ci()[this.lb[this.lb.length-1].num]:null;case 5:return ObjectLists.kl()[this.lb[this.lb.length-1].num]?ObjectLists.kl()[this.lb[this.lb.length-1].num]:null}},sX:function(a){this.gf.ga(!0==a?255:0)},lc:function(){return this.type}});Oa.vy=function(a,c){var d=new Oa;d.t();d.position=q.a(a,c);return d};StatsController=q.A.extend({data:null,bx:null,m:null,t:function(a,c){this.data=a;this.m=c;this.dW()},update:function(){for(var a in this.data)this.bx&&(0==this.data[a].value&&0<this.bx[a]&&this.m.rca(a),this.data[a].Oc>this.bx[a].Oc&&this.m.tca(a)),this.bx[a]=this.data[a]},s6:function(a){return this.data[a].value},r6:function(a){return this.data[a].Oc},X8:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].ag&&(this.data[a].value=this.data[a].ag);0>this.data[a].value&&(this.data[a].value=
0)},uR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].ag&&(this.data[a].value=this.data[a].ag);0>this.data[a].value&&(this.data[a].value=0)},W8:function(a,c){this.data[a].Oc+=c;this.data[a].Oc>this.data[a].$f&&(this.data[a].Oc=this.data[a].$f);0>this.data[a].Oc&&(this.data[a].Oc=0)},uR:function(a,c){this.data[a].Oc=c;this.data[a].Oc>this.data[a].$f&&(this.data[a].Oc=this.data[a].$f);0>this.data[a].Oc&&(this.data[a].Oc=0)},l2:function(a,c){this.data[a].$f=c},m2:function(a,c){this.data[a].ag=
c}});ObjectLists=q.Da.extend({nE:null,VC:null,XD:null,WD:null,$C:null,nD:null,ED:null});var V;ObjectLists.e=function(){V||(V=new ObjectLists,V.nE=v.lT(),V.VC=v.GS(),V.XD=v.cT(),V.WD=v.bT(),V.$C=v.OS(),V.nD=v.WS(),V.ED=v.Ze());return V};ObjectLists.$m=function(){return V.nE};ObjectLists.AX=function(a){V.nE=a};ObjectLists.ci=function(){return V.VC};ObjectLists.PW=function(a){V.VC=a};ObjectLists.ll=function(){return V.XD};ObjectLists.rX=function(a){V.XD=a};ObjectLists.As=function(){return V.WD};
ObjectLists.qX=function(a){V.WD=a};ObjectLists.kl=function(){return V.$C};ObjectLists.XW=function(a){V.$C=a};ObjectLists.ys=function(){return V.nD};ObjectLists.lX=function(a){V.nD=a};ObjectLists.zs=function(){return V.ED};ObjectLists.pX=function(a){V.ED=a};gameMapInstance=null;
var F=q.Qc.extend({Od:null,w:null,Ig:!1,Kn:null,mn:null,kD:null,an:null,ul:null,rl:null,sl:null,tl:null,N:q.a(0,0),ak:1,mC:function(a,c){function d(a,c){return{UM:a,value:c.x+c.y*S,x:c.x,y:c.y,Iw:0,o:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.w["tile"+T(a,d)]&&1!=f.w["tile"+T(a,d)].lc()&&7!=f.w["tile"+T(a,d)].lc();myS=e<S&&f.w["tile"+T(a,e)]&&1!=f.w["tile"+T(a,e)].lc()&&7!=f.w["tile"+T(a,e)].lc();myE=g<S&&f.w["tile"+T(g,c)]&&1!=f.w["tile"+T(g,c)].lc()&&7!=f.w["tile"+T(g,c)].lc();myW=
-1<h&&f.w["tile"+T(h,c)]&&1!=f.w["tile"+T(h,c)].lc()&&7!=f.w["tile"+T(h,c)].lc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],p=[],t=[d(null,a)],x=Array(Pa*S);h=t.length;){k=Pa*S;l=-1;for(m=0;m<h;m++)t[m].Iw<k&&(k=t[m].Iw,l=m);k=t.splice(l,1)[0];if(k.value===g.value){l=p[p.push(k)-1];do r.push(q.a(l.x,l.y));while(l=l.UM);x=p=t=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),x[l.value]||(l.o=k.o+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Iw=l.o+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),t.push(l),x[l.value]=!0);p.push(k)}}return r},EX:function(a){this.Od={};this.Od.mapdata={};for(var c in this.w)"tile"==c.substring(0,4)&&(this.w[c].Jd(),this.Od[c]={});if(a)for(c in this.Od=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.w[c].mk(a[c][d].texture,a[c][d].frame,d):(this.w[c].gj(a[c][d].type),a[c][d].script&&
this.w[c].Lx(a[c][d].script),4==a[c][d].type&&this.w[c].Ze()&&this.w[c].mk(this.w[c].Ze().sprite.texture,this.w[c].Ze().sprite.position,"item"),5==a[c][d].type&&this.w[c].Ze()&&z.yH(this.w[c].Ze(),q.a(this.w[c].q.x/32,this.w[c].q.y/32),this.ak));else"mapdata"==c&&(this.ul=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.rl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.sl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.tl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.mc(this.pD)},Fl:function(a){z.e().v(!1);a=v.IS(a);this.Od={};this.Od.mapdata={};for(var c in this.w)"tile"==c.substring(0,4)&&(this.w[c].Jd(),this.Od[c]={});if(a)for(c in this.Od=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.w[c].mk(a[c][d].texture,a[c][d].frame,d):(this.w[c].gj(a[c][d].type),a[c][d].script&&this.w[c].Lx(a[c][d].script),
4==a[c][d].type&&this.w[c].Ze()&&this.w[c].mk(this.w[c].Ze().sprite.texture,this.w[c].Ze().sprite.position,"item"),5==a[c][d].type&&this.w[c].Ze()&&z.yH(this.w[c].Ze(),q.a(this.w[c].q.x/32,this.w[c].q.y/32),this.ak));else"mapdata"==c&&(this.ul=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.rl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.sl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.tl=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.mc(this.pD)},pD:function(){for(var a in this.w)if("tile"==a.substring(0,4)&&!1==this.w[a].Hg())return;z.e().v(!0);z.pk();this.$c(this.pD);this.mn.v(!0);this.Kn.v(!0);this.Ig=!0},Nc:function(){for(var a={},c=0;c<S;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*S)]={size:q.size(32,32),c:q.a(0,0),position:q.a(32*c,32*(Pa-d)),cU:!0,bY:q.a(d,c),visible:!1};return{panels:{children:a}}},t:function(){this.Ub(!0);
this.RD(1)},kb:function(a){!this.an||Mapeditor&&Mapeditor.Y||(this.an=Mapeditor=null);if(this.an)for(var c in this.w)"tile"==c.substring(0,4)&&q.ab(this.w[c].Xa(),q.a(a.K.x-this.N.x,a.K.y+32-this.N.y))&&(this.an.nL(this.w,c),F.nt());else for(c in this.w)if("tile"==c.substring(0,4)&&q.ab(this.w[c].Xa(),q.a(a.K.x-this.N.x,a.K.y+32-this.N.y)))if(4==this.w[c].lc()){var d=y["Item Dropdown Pick Up"]+"",e=y["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.w[c].Ze().name),e=e.replace("\x3cITEM\x3e",
this.w[c].Ze().name);this.Y.f(DropDownList.fe(this,this.fU,[d,e],a.K));this.Bg=c}else 7==this.w[c].lc()?(d=y["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.w[c].Bp().name),this.Y.f(DropDownList.fe(this,this.NX,[d],a.K)),this.Bg=c):1!=this.w[c].lc()&&7!=this.w[c].lc()&&4!=this.w[c].lc()&&(d=z.C.ha.Zf(),z.C.ha.UD(this.mC(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.w[c].q.x/32,this.w[c].q.y/32))));return!0},Bg:null,fU:function(a){if(null!=this.m.Bg){var c=z.C.ha.Zf(),d=q.a(gameMapInstance.w[gameMapInstance.Bg].q.x/
32,gameMapInstance.w[gameMapInstance.Bg].q.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?z.C.ha.ZI(gameMapInstance.w[gameMapInstance.Bg]):(c=y["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.m.w[gameMapInstance.Bg].Ze().name),B.Lb(c));break;case 1:z.C.ha.UD(gameMapInstance.mC(q.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.m.Bg=null}}},NX:function(a){if(null!=this.m.Bg){var c=z.C.ha.Zf(),d=q.a(gameMapInstance.w[gameMapInstance.Bg].q.x/32,gameMapInstance.w[gameMapInstance.Bg].q.y/
32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?z.C.ha.ZI(gameMapInstance.w[gameMapInstance.Bg]):(c=y["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.m.w[gameMapInstance.Bg].Bp().name),B.Lb(c))}}},nd:function(a){if(this.an){for(var c in this.w)"tile"==c.substring(0,4)&&q.ab(this.w[c].Xa(),q.a(a.K.x-this.N.x,a.K.y+32-this.N.y))&&(this.an.nL(this.w,c,"moved"),F.nt());return!0}for(c in this.w)if("tile"==c.substring(0,4)&&1!=this.w[c].lc()&&7!=this.w[c].lc()&&
4!=this.w[c].lc()&&q.ab(this.w[c].Xa(),q.a(a.K.x-this.N.x,a.K.y+32-this.N.y))){var d=z.C.ha.Zf();z.C.ha.UD(this.mC(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.w[c].q.x/32,this.w[c].q.y/32)))}},qa:function(){this._super();if(!0==this.Ig){this.Kn.WB(0,0,0,0);for(var a in this.w)"tile"==a.substring(0,4)&&(this.w[a].v(!0),null!=this.w[a].he&&this.w[a].he.v(!1),null!=this.w[a].ie&&this.w[a].ie.v(!1),null!=this.w[a].ke&&this.w[a].ke.v(!1),null!=this.w[a].je&&this.w[a].je.v(!1),this.w[a].qa(),null!=this.w[a].he&&
this.w[a].he.v(!0),null!=this.w[a].ie&&this.w[a].ie.v(!0),null!=this.w[a].ke&&this.w[a].ke.v(!0),null!=this.w[a].je&&this.w[a].je.v(!0),this.w[a].v(!1));this.Kn.end();this.mn.WB(0,0,0,0);for(a in this.w)if("tile"==a.substring(0,4)){this.w[a].v(!0);null!=this.w[a].re&&this.w[a].re.v(!1);null!=this.w[a].se&&this.w[a].se.v(!1);null!=this.w[a].te&&this.w[a].te.v(!1);null!=this.w[a].xe&&this.w[a].xe.v(!1);null!=this.w[a].ye&&this.w[a].ye.v(!1);null!=this.w[a].Ld&&this.w[a].Ld.v(!1);for(var c=0;c<this.w[a].item.length;c++)this.w[a].item[c].v(!1);
this.w[a].qa();null!=this.w[a].re&&this.w[a].re.v(!0);null!=this.w[a].se&&this.w[a].se.v(!0);null!=this.w[a].te&&this.w[a].te.v(!0);null!=this.w[a].xe&&this.w[a].xe.v(!0);null!=this.w[a].ye&&this.w[a].ye.v(!0);null!=this.w[a].Ld&&this.w[a].Ld.v(!0);for(c=0;c<this.w[a].item.length;c++)this.w[a].item[c].v(!0);this.w[a].v(!1)}this.mn.end();this.Ig=!1}}});
F.cy=function(a,c){0<=gameMapInstance.N.x+(P.width-W.width/2)+a&&z.C.ha.q.x<P.width-W.width/2&&0>=gameMapInstance.N.x+a&&z.C.ha.q.x>W.width/2&&(gameMapInstance.N.x+=a);0<=gameMapInstance.N.y+(P.height-W.height/2)+c&&z.C.ha.q.y<P.height-W.height/2&&0>=gameMapInstance.N.y+c&&z.C.ha.q.y>W.height/2&&(gameMapInstance.N.y+=c);gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y)};
F.zC=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Ig?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.mc(F.eK)):(gameMapInstance.N.x=a>P.width-W.width/2?-(P.width-W.width):a<W.width/2?0:-(a-W.width/2),gameMapInstance.N.y=c>P.height-W.height/2?-(P.height-W.height):c<W.height/2?0:-(c-W.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.$c(F.eK),gameMapInstance.n(gameMapInstance.N.x,
gameMapInstance.N.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.eK=function(){F.zC(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.BC=function(){!0==gameMapInstance.Ig?gameMapInstance.mc(F.BC):(gameMapInstance.$c(F.BC),gameMapInstance.N.x=-(P.width-W.width),gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y))};
F.AC=function(){!0==gameMapInstance.Ig?gameMapInstance.mc(F.AC):(gameMapInstance.$c(F.AC),gameMapInstance.N.x=0,gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y))};F.yC=function(){!0==gameMapInstance.Ig?gameMapInstance.mc(F.yC):(gameMapInstance.$c(F.yC),gameMapInstance.N.y=-(P.height-W.height),gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y))};
F.CC=function(){!0==gameMapInstance.Ig?gameMapInstance.mc(F.CC):(gameMapInstance.$c(F.CC),gameMapInstance.N.y=0,gameMapInstance.n(gameMapInstance.N.x,gameMapInstance.N.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.w=Ha(gameMapInstance),gameMapInstance.f(gameMapInstance.w),gameMapInstance.Kn=q.Ab.create(P.width,P.height),gameMapInstance.Kn.n(q.a(Math.floor(P.width/2),Math.floor(P.height/2))),gameMapInstance.f(gameMapInstance.Kn),gameMapInstance.Kn.v(!1),gameMapInstance.kD=q.D.create(),gameMapInstance.f(gameMapInstance.kD),gameMapInstance.mn=q.Ab.create(P.width,P.height),gameMapInstance.mn.n(q.a(Math.floor(P.width/2),Math.floor(P.height/
2))),gameMapInstance.f(gameMapInstance.mn),gameMapInstance.mn.v(!1),gameMapInstance.bq(-15),gameMapInstance.t());return gameMapInstance};F.e=function(){return gameMapInstance};F.Zs=function(){gameMapInstance.Q();gameMapInstance=null};F.nt=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.Ig=!0};F.FX=function(a){gameMapInstance.EX(a)};F.e=function(){return gameMapInstance};F.mk=function(a,c,d,e){gameMapInstance.w[a].mk(c,d,e);gameMapInstance.Od[a][e]={texture:c,frame:d}};
F.zL=function(){G({savemap:gameMapInstance.ak,mapdata:gameMapInstance.Od})};F.gC=function(a,c){gameMapInstance.Od[a][c]=null;gameMapInstance.w[a].gC(c)};F.fj=function(a,c,d,e){gameMapInstance.w[a].gj(c);null!=d&&"undefined"!==d?(gameMapInstance.w[a].Lx(d,e),gameMapInstance.Od[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Od[a].info={type:c}};
F.AK=function(a){gameMapInstance.Od.mapdata.mapConnectors=a;gameMapInstance.ul=a.up;gameMapInstance.rl=a.down;gameMapInstance.sl=a.left;gameMapInstance.tl=a.right};F.sS=function(a,c,d){for(var e in gameMapInstance.w)"tile"==e.substring(0,4)&&(gameMapInstance.w[e].mk(a,c,d),gameMapInstance.Od[e][d]={texture:a,frame:c})};F.MK=function(a){for(var c in gameMapInstance.w)"tile"==c.substring(0,4)&&gameMapInstance.w[c].sX(a);SkillBarsInstance.v(!a);X.v(!a);gameMapInstance.Ig=!0};
F.Jba=function(){for(var a in gameMapInstance.w)"tile"==a.substring(0,4)&&gameMapInstance.w[a].gf.da(a.substring(4));gameMapInstance.Ig=!0};F.JI=function(){return null!=gameMapInstance.ul};F.HI=function(){return null!=gameMapInstance.rl};F.II=function(){return null!=gameMapInstance.sl};F.EC=function(){return null!=gameMapInstance.tl};F.oe=function(){return gameMapInstance.ak};F.vI=function(){return gameMapInstance.ul};F.tI=function(){return gameMapInstance.rl};F.uI=function(){return gameMapInstance.sl};
F.rC=function(){return gameMapInstance.tl};F.Qw=function(a,c){c||(MapMaster=!1);z.e().v(!1);z.YR();F.Jd();gameMapInstance.ak=a;z.C.ha.Xp(a);z.pk();gameMapInstance.Fl(a)};F.qT=function(){z.e().v(!1);F.Jd();gameMapInstance.ak=gameMapInstance.ul;z.C.ha.Xp(gameMapInstance.ul);z.pk();gameMapInstance.Fl(gameMapInstance.ul)};F.nT=function(){z.e().v(!1);F.Jd();gameMapInstance.ak=gameMapInstance.rl;z.C.ha.Xp(gameMapInstance.rl);z.pk();gameMapInstance.Fl(gameMapInstance.rl)};
F.oT=function(){z.e().v(!1);F.Jd();gameMapInstance.ak=gameMapInstance.sl;z.C.ha.Xp(gameMapInstance.sl);z.pk();gameMapInstance.Fl(gameMapInstance.sl)};F.pT=function(){z.e().v(!1);F.Jd();gameMapInstance.ak=gameMapInstance.tl;z.C.ha.Xp(gameMapInstance.tl);z.pk();gameMapInstance.Fl(gameMapInstance.tl)};F.$s=function(a){gameMapInstance.an=a};F.Pw=function(a,c){return a>S-1||0>a?void 0:gameMapInstance.w["tile"+(a+(Pa-c)*S)]};F.BI=function(a){return gameMapInstance.w["tile"+a]};
F.UQ=function(){var a=z.e();gameMapInstance.kD.f(a);F.zC(z.C.ha.q.F,z.C.ha.q.H)};F.Jd=function(){gameMapInstance.Od={};for(var a in gameMapInstance.w)"tile"==a.substring(0,4)&&(gameMapInstance.w[a].Jd(),gameMapInstance.Od[a]={});gameMapInstance.Od.mapdata={};gameMapInstance.Ig=!0};var z=q.Qc.extend({C:null,Zb:[],Cf:[],ha:null});z.e=function(){return this.C};z.Zs=function(){this.C.Q();this.C=null};z.create=function(a){this.C||(this.C=new z,this.C.ha=PlayerCharacter.create(a),this.C.ha.n(960,320),this.C.f(this.C.ha));return this.C};z.LM=function(){var a=F.oe(),c=[],d;for(d in this.C.Cf)this.C.Cf[d].Lg==a&&c.push(this.C.Cf[d]);return c};z.xs=function(a){return this.C.Cf[a]};z.vU=function(a,c,d){this.C.Cf[a]&&"default"!=c&&this.C.ha.Lg==d&&this.C.Cf[a].CL(c)};
z.RV=function(a,c){this.C.Cf[a]&&"default"!=c&&this.C.Cf[a].n(q.a(c%S*32,32*Math.floor(c/S)))};z.YR=function(){for(var a in this.C.Cf)this.C.Cf[a].Q();this.C.Cf=[]};z.yH=function(a,c,d){var e=parseInt(this.C.Cf.length);this.C.Cf.push(NonPlayerCharacter.create({name:a.name,Gn:{health:{Oc:1,value:100,ag:200,$f:900},mana:{Oc:1,value:100,ag:200,$f:99}},map:d,it:"sprites1.png",gt:2,ol:e}));this.C.Cf[e].n(32*c.x,32*c.y);this.C.f(this.C.Cf[e])};z.Z6=function(){return this.C.ha};z.ei=function(a){return this.C.Zb[a]};
z.TQ=function(a){this.C.Zb[a]=PlayerCharacter.create({name:a,Gn:{health:{Oc:1,value:100,ag:200,$f:900},mana:{Oc:1,value:100,ag:200,$f:99}},map:1,it:"sprites1.png",gt:1});this.C.Zb[a].n(960,320);z.pk();this.C.f(this.C.Zb[a]);var c=y["Join Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);B.Lb(c)};
z.UH=function(a){if(this.C.Zb[a]){this.C.Zb[a].Q();this.C.Zb[a]=null;var c=y["Leave Message"]+"",c=playerJoinString.replace("\x3cPLAYER\x3e",a);B.Lb(c);for(c=0;c<u.length;c++){var d=JSON.parse(u[c]);d.id&&d.id==a&&(u.splice(c,1),c--)}}};
z.wU=function(a,c){if(this.C.Zb[a]&&"default"!=c)this.C.Zb[a].CL(c);else{this.C.Zb[a]=PlayerCharacter.create({name:a,Gn:{health:{Oc:1,value:100,ag:200,$f:900},mana:{Oc:1,value:100,ag:200,$f:99}},map:1,it:"sprites1.png",gt:1});this.C.Zb[a].n(960,320);this.C.Zb[a].n(q.a(c%S*32,32*Math.floor(c/S)));z.pk();this.C.f(this.C.Zb[a]);var d=y["Join Message"]+"",d=d.replace("\x3cPLAYER\x3e",a);B.Lb(d)}};
z.IJ=function(a,c){this.C.Zb[a]&&"default"!=c?this.C.Zb[a].n(q.a(c%S*32,32*Math.floor(c/S))):(this.C.Zb[a]=PlayerCharacter.create({name:a,Gn:{health:{Oc:1,value:100,ag:200,$f:900},mana:{Oc:1,value:100,ag:200,$f:99}},map:1,it:"sprites1.png",gt:1}),this.C.Zb[a].n(q.a(c%S*32,32*Math.floor(c/S))),z.pk(),this.C.f(this.C.Zb[a]),B.Lb(a+H.me.$U))};z.pR=function(a){this.C.Zb[a]&&this.C.Zb[a].updateStatus("AFK")};
z.pk=function(){var a=this.C.ha.Lg,c;for(c in this.C.Zb)null!=this.C.Zb[c]&&this.C.Zb[c].v(this.C.Zb[c].Lg==a)};z.Jd=function(){for(var a in this.C.Zb)null!=this.C.Zb[a]&&z.UH(a);this.C.ha.Q();this.C.ha=null};z.oR=function(a,c){this.C.Zb[a].Xp(c);this.C.Zb[a].v(this.C.ha.Lg==c)};Character=q.A.extend({name:null,Gn:null,lL:null,J1:null,jf:null,Jg:!1,gn:null,Wx:null,aj:!1,ol:-1,status:null,Lg:null,path:null,lC:"DOWN",t:function(a){this.uX(a.it,a.gt);this.Gn=new StatsController(a.sca,this);this.f(this.Gn);this.name=a.name;a.aj&&(this.aj=a.aj);a.map&&(this.Lg=a.map);null!=a.ol&&"undefined"!==a.ol&&(console.log(this.ol),this.ol=a.ol);this.L(0,1);this.gn=q.R.create("","Arial",12);this.gn.L(0.5,0);this.gn.l(255,0,0);this.gn.n(Math.floor(this.d().width/2),this.d().width+3);this.f(this.gn);
this.vL()},x4:function(){return this.lC},Xp:function(a){this.Lg=a},V4:function(){return this.Lg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.vL()},vL:function(){null!=this.status?this.gn.da(this.name+"-"+this.status):this.gn.da(this.name)},getName:function(){return this.name},Hf:function(a,c,d){this.Mb(q.rect(32*a,128*this.lL.id+32*c,32,32));this.Wx=q.a(a,c);this.lC=d},uh:function(){return this.Wx},uX:function(a,c){this.lL={name:a,id:c};this.ba(q.ia.e().pa(a));this.Hf(1,0)},
Zf:function(){return q.a(this.q.x/32,this.q.y/32)},rw:0.24,mY:0.24,il:2,oY:function(a){var c=a.position%S,d=Math.floor(a.position/S);this.n(32*c,32*d);G({changemap:a.mapTo,setTo:a.position});F.Qw(a.mapTo);F.zC(32*c,32*d)},ZT:function(){if(!this.Jg){var a=this.Zf(),a=F.Pw(a.x,a.y);switch(a.lc()){case 4:this.iD(a.Bp())}}},ZI:function(a){if(a&&!this.Jg)switch(a.lc()){case 4:this.YU(a.Bp(),a);break;case 7:Na.bL(a.Bp())}},YT:function(){if(!this.Jg){var a=this.Zf();switch(this.lC){case "RIGHT":a.x+=1;break;
case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=F.Pw(a.x,a.y))switch(a.lc()){case 7:Na.bL(a.Bp())}}},pt:function(a){this.rw+=a;a=this.q;var c=this.uh();this.rw>this.mY&&(this.rw=0,this.jf.x<a.x?this.Hf((c.x+1)%3,1,"LEFT"):this.jf.x>a.x?this.Hf((c.x+1)%3,2,"RIGHT"):this.jf.y<a.y?this.Hf((c.x+1)%3,0,"DOWN"):this.jf.y>a.y&&this.Hf((c.x+1)%3,3,"UP"));this.jf.x<a.x?(this.mb(a.x-this.il),this.aj&&F.cy(+this.il,0)):this.jf.x>a.x?(this.mb(a.x+this.il),this.aj&&F.cy(-this.il,0)):this.jf.y<
a.y?(this.od(a.y-this.il),this.aj&&F.cy(0,this.il)):this.jf.y>a.y&&(this.od(a.y+this.il),this.aj&&F.cy(0,-this.il));a.y==this.jf.y&&a.x==this.jf.x&&(this.Jg=!1,this.$c(this.pt),null!=this.path&&this.FH())},hq:function(a,c){if(!1!=this.ka){var d=F.Pw(a,c),e=this.Wx,f=this.Zf();f.x>a?this.Hf(e.x,1,"LEFT"):f.x<a&&this.Hf(e.x,2,"RIGHT");f.y>c?this.Hf(e.x,0,"DOWN"):f.y<c&&this.Hf(e.x,3,"UP");if(!d)this.aj&&null==Mapeditor&&(f.x<a&&F.EC()?(this.n(0,32*c),G({changemap:parseInt(F.rC()),setTo:0+c*S}),F.pT(),
F.AC()):f.x>a&&F.II()&&(this.n(32*(S-1),32*c),G({changemap:parseInt(F.uI()),setTo:S-1+c*S}),F.oT(),F.BC()),f.y<c&&F.JI()?(this.n(32*a,32),G({changemap:parseInt(F.vI()),setTo:a+1*S}),F.qT(),F.CC()):f.y>c&&F.HI()&&(G({changemap:parseInt(F.tI()),setTo:a+Pa*S}),F.nT(),this.n(32*a,32*Pa),F.yC()));else if(!1==this.Jg&&d){switch(d.lc()){case 1:case 7:return;case 3:this.oY(d.Ze());return}this.jf=q.a(32*a,32*c);this.Jg=!0;this.mc(this.pt);this.pt(0);this.aj?G({moveTo:this.jf.x/32+this.jf.y/32*S}):-1<this.ol&&
G({npcID:this.ol+"",mapnumber:this.Lg,moveNPC:this.jf.x/32+this.jf.y/32*S})}}},FH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.hq(this.path[0].x,this.path[0].y))},UD:function(a){if(null==this.path||0!=a.length)this.path=a,this.FH()},CL:function(a){if(!1!=this.ka){var c=a%S;a=Math.floor(a/S);if(!1==this.Jg){var d=this.Wx,e=this.Zf();4<Math.abs(q.dD(q.a(c,a),e))?this.n(q.a(32*c,32*a)):(e.x>c?this.Hf(d.x,1,"LEFT"):e.x<c?this.Hf(d.x,2,"RIGHT"):
e.y>a?this.Hf(d.x,0,"DOWN"):e.y<a&&this.Hf(d.x,3,"UP"),this.jf=q.a(32*c,32*a),this.Jg=!0,this.mc(this.pt),this.pt(0))}}}});
PlayerCharacter=Character.extend({items:null,mp:3,t:function(a){this._super(a);a.mp&&(this.mp=a.mp);this.items={stored:[],equipped:{}}},mt:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},iD:function(a){var c=this.Zf(),d=F.Pw(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.En(e,this.items.stored[e].amount));B.Lb(H.me.jx+
a.name);d.Ow().temp?G({pickupitem:T(c.x,c.y),mapnumber:F.oe(),temp:!0}):G({pickupitem:T(c.x,c.y),mapnumber:F.oe()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.En(e,this.items.stored[e].amount);B.Lb(H.me.jx+a.name);d.Ow().temp?G({pickupitem:T(c.x,c.y),mapnumber:F.oe(),temp:!0}):G({pickupitem:T(c.x,c.y),mapnumber:F.oe()});f=!0;break}!1==f&&B.Lb(H.me.$I)},YU:function(a,c){var d=q.a(c.q.F/32,c.q.H/32);if(!0==a.stackable)for(var e=0;40>
e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.En(e,this.items.stored[e].amount));B.Lb(H.me.jx+a.name);c.Ow().temp?G({pickupitem:T(d.x,d.y),mapnumber:F.oe(),temp:!0}):G({pickupitem:T(d.x,d.y),mapnumber:F.oe()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ua(a);Inventory&&Inventory.En(e,this.items.stored[e].amount);B.Lb(H.me.jx+a.name);c.Ow().temp?G({pickupitem:T(d.x,d.y),mapnumber:F.oe(),
temp:!0}):G({pickupitem:T(d.x,d.y),mapnumber:F.oe()});f=!0;break}!1==f&&B.Lb(H.me.$I)},cI:function(a,c){var d=this.Zf();B.Lb(H.me.jS+this.items[c][a].name);G({droppeditem:this.items[c][a],mapnumber:F.oe(),index:T(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.En(a,0);this.items[c][a]=null;Inventory&&Inventory.If();Equipment&&Equipment.If()},kY:function(a){switch(this.items.stored[a].itemType){case "book":Na.IX(this.items.stored[a]);break;case "wearable":this.pS(a)}},
pS:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&(c=ua(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=ua(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.If();Equipment&&Equipment.If()},VR:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=ua(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.If();Equipment&&Equipment.If();return}B.Lb("No space in inventory to dequip this item.")},
Zm:function(){return this.items.stored},vs:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.t(a);return c};NonPlayerCharacter=Character.extend({R8:null,kx:!1,jX:function(a,c){this.kx=!0;this.Ac(function(){this.hq(a.x,a.y);this.kx=!1},c)},c8:function(){return this.kx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.t(a);return c};var Qa=q.Qc.extend({DD:null,b:null,ctor:function(){this._super()},DL:function(){},Cn:function(){},ji:function(){},ya:function(){this.b&&this.b.Q();this.b=Ha(this);this.f(this.b)},Pa:function(){},t:function(){this.RD(1);this.Dx(!0);this.Ub(!0);w.An(this);this._super()},cD:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},wl:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},NW:function(a){this.DD=a},Mc:function(){return this.DD}});DropDownList=Qa.extend({list:null,LR:null,selected:null,b:null,m:null,SH:null,KJ:null,ft:null,ctor:function(){this._super();this.list=[];this.LR=0},t:function(a,c,d,e){this._super();a&&(this.m=a,this.SH=c,d&&(this.list=d),e&&this.n(e),this.KJ=w.xS(),w.An(this),this.bq(-1001),this.Dx(!0))},kb:function(a){for(var c=this.b.control_menu.Ca(a.K),d=0;d<this.list.length;d++)this.ft&&!0!=this.ft[d].enabled||q.ab(q.rect(this.b.control_menu[d+""].q.F,this.b.control_menu[d+""].q.H,this.b.control_menu[d+""].d().width,
this.b.control_menu[d+""].d().height),c)&&this.SH(d,a);this.jV();return!0},jV:function(){w.An(this.KJ);this.Q();Ma()},SV:function(){this.od(this.q.H-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.d().width>a&&(a=this.b.control_menu[c+""].content.d().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].JH(a+8);this.b.control_menu.JH(a+8)},Nc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*
c),size:q.size(96,24),c:q.a(0,0),s:q.h(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),s:q.h(200,200,200,0),size:q.size(96,48),children:a}}}}},ji:function(a){a=this.b.control_menu.Ca(a.K);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].l(q.h(200,200,200,200)),this.ft&&!0!=this.ft[c].enabled||q.ab(q.rect(this.b.control_menu[c+""].q.F,this.b.control_menu[c+""].q.H,
this.b.control_menu[c+""].d().width,this.b.control_menu[c+""].d().height),a)&&this.b.control_menu[c+""].l(q.h(255,0,0,255))}});DropDownList.fe=function(a,c,d,e,f){var g=new DropDownList;g.t(a,c,d,e);g.b=Ha(g.Nc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.l(q.h(127,127,127,200));g.ft=f}g.f(g.b);g.SV();return g};Popup=Qa.extend({yd:null,Af:!1,t:function(){this.DD=this.Mc();this._super();w.An(this);this.GX();this.bq(-50)},d3:function(){this.Q()},kb:function(a){var c=a.K;w.An(this);c=this.b.control_panel.Ca(c);if(q.ab(q.rect(this.b.control_panel.exitBtn.q.F,this.b.control_panel.exitBtn.q.H,this.b.control_panel.exitBtn.d().width,this.b.control_panel.exitBtn.d().height),c)){var d=this;this.Y.Ac(function(){!1==d.Af&&d.Pa();d.Q();d=null});return!0}return q.ab(q.rect(this.b.q.x,this.b.q.y+this.b.control_panel.q.y,
this.b.control_panel.d().width,this.b.control_panel.d().height),a.K)?(this.yd=this.b.Zh(a),!0):!1},nd:function(a){return this.yd?(a=a.K,this.b.n(q.a(a.x-this.yd.x,a.y-this.yd.y)),!0):!1},Q:function(){v.eX(this.Mc(),this.b.q);this._super()},GX:function(){q.log("Ovveride setupPopup")},Mc:function(){q.log("No id given... using default 'Popup'");return"Popup"},Df:function(){},ya:function(){this._super();var a=v.SS();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Mc()])){a=q.a(a.x,a.y);if(a.x>W.width-10||
a.y>W.height)a=q.a(8,100);this.b.n(a)}}});Book=null;
BookPanel=Popup.extend({data:null,af:null,Mc:function(){return"Book"},Nc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(514,313),$:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),$:"GUI/btnLeft.png",c:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),$:"GUI/btnRight.png",c:q.a(0,0)},leftPage:{label:0<this.af.length?this.af[0]:this.af,c:q.a(0,1),position:q.a(4,308),color:q.k(0,0,0)},rightPage:{label:0<this.af.length?
this.af[1]:"",c:q.a(0,1),position:q.a(260,308),color:q.k(0,0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.data.name,fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},t:function(a){this._super();this.data=a;this.af=[];for(a=a.additionalData.Contents;a;)if(470>a.length){this.af.push(a);break}else this.af.push(a.substr(0,470)+"..."),a=a.substr(470);this.UU=Math.floor(this.af.length/
2)-1;this.Ti=0},ya:function(){this._super();this.b.main_panel.leftPage.nc(q.size(248,0));this.b.main_panel.rightPage.nc(q.size(248,0));this.b.main_panel.pageBackbtn.v(!1);2>this.af.length&&this.b.main_panel.pageForwardbtn.v(!1)},rT:function(){this.Ti++;this.b.main_panel.pageBackbtn.v(!0);this.Ti==this.UU&&this.b.main_panel.pageForwardbtn.v(!1);this.b.main_panel.leftPage.da(this.af[2*this.Ti]);this.af[2*this.Ti+1]?this.b.main_panel.rightPage.da(this.af[2*this.Ti+1]):this.b.main_panel.rightPage.da("")},
sT:function(){this.Ti--;this.b.main_panel.pageForwardbtn.v(!0);0==this.Ti&&this.b.main_panel.pageBackbtn.v(!1);this.b.main_panel.leftPage.da(this.af[2*this.Ti]);this.af[2*this.Ti+1]&&this.b.main_panel.rightPage.da(this.af[2*this.Ti+1])},kb:function(a){if(this._super(a))return!0;this.yd=null;a=this.b.main_panel.Ca(a.K);if(O(this.b.main_panel.pageForwardbtn,a))return this.rT(),!0;if(O(this.b.main_panel.pageBackbtn,a))return this.sT(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Mc:function(){return"Equipment"},Nc:function(){var a={};a.head={$:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),c:q.a(0,1)};a.legs={$:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),c:q.a(0,1)};a.feet={$:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),c:q.a(0,1)};a.body={$:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),c:q.a(0,1)};a.larm={$:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),c:q.a(0,1)};
a.rarm={$:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),c:q.a(0,1)};a.mod={$:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),c:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{c:q.a(0,0),size:q.size(168,168),$:"GUI/equipment.png",children:a},control_panel:{c:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:y["Equipment Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),c:q.a(0,
0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),s:q.h(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},If:function(){var a=z.C.ha.vs();this.b.main_panel.head.ba(q.ia.e().pa("GUI/defaultitem.png"));this.b.main_panel.body.ba(q.ia.e().pa("GUI/defaultitem.png"));this.b.main_panel.legs.ba(q.ia.e().pa("GUI/defaultitem.png"));this.b.main_panel.feet.ba(q.ia.e().pa("GUI/defaultitem.png"));this.b.main_panel.larm.ba(q.ia.e().pa("GUI/defaultitem.png"));
this.b.main_panel.rarm.ba(q.ia.e().pa("GUI/defaultitem.png"));this.b.main_panel.mod.ba(q.ia.e().pa("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[a[c].subType].L(0,1);this.b.main_panel[a[c].subType].ba(e);this.b.main_panel[a[c].subType].Mb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},XC:function(a){switch(a){case 0:z.C.ha.VR(this.m.fk);break;case 1:z.C.ha.cI(this.m.fk,"equipped")}},kb:function(a){if(this._super(a))return!0;
this.yd=null;var c=this.b.main_panel.Ca(a.K),d=z.C.ha.vs(),e;for(e in d)if(d[e]&&O(this.b.main_panel[d[e].subType],q.a(c.x,c.y+32)))return this.fk=e,this.b.item_name.v(!1),c=y["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",z.C.ha.vs()[e].name),d=y["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",z.C.ha.vs()[e].name),this.f(DropDownList.fe(this,this.XC,[c,d],a.K)),!0},ji:function(a){a=this.b.main_panel.Ca(a.K);this.b.item_name.v(!1);var c=z.C.ha.vs(),d;for(d in c)if(c[d]&&O(this.b.main_panel[c[d].subType],
q.a(a.x,a.y+32)))return this.b.item_name.content.da(c[d].name),this.b.item_name.v(!0),this.b.item_name.U(this.b.item_name.content.d()),this.b.item_name.content.mb(this.b.item_name.content.d().width/2),this.b.item_name.n(q.a(this.b.main_panel[c[d].subType].q.F-this.b.item_name.content.d().width/2+16,this.b.main_panel[c[d].subType].q.H)),!0},ya:function(){this._super();this.If()}});Inventory=null;
InventoryPanel=Popup.extend({fk:null,Mc:function(){return"Inventory"},Nc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),$:"GUI/defaultitem.png",c:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),c:q.a(0,0),s:q.h(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.k(0,0,0),c:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{c:q.a(0,0),$:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:y["Inventory Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),s:q.h(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},En:function(a,c){this.b.main_panel[a+""].stacklabelbg.v(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.v(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.da(c),this.b.main_panel[a+""].stacklabelbg.U(this.b.main_panel[a+""].stacklabelbg.stacklabel.d()))},If:function(){for(var a=z.C.ha.Zm(),c=0;40>c;c++)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[c+""].L(0,1);this.b.main_panel[c+""].ba(e);this.b.main_panel[c+""].Mb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.En(c,a[c].amount)}else this.b.main_panel[c+
""].ba(q.ia.e().pa("GUI/defaultitem.png")),this.En(c,0)},ya:function(){this._super();this.If()},XC:function(a){switch(a){case 0:z.C.ha.kY(this.m.fk);break;case 1:z.C.ha.cI(this.m.fk,"stored")}},kb:function(a){if(this._super(a))return!0;this.yd=null;for(var c=this.b.main_panel.Ca(a.K),d=0;40>d;d++)if(z.C.ha.Zm()[d]&&O(this.b.main_panel[d+""],q.a(c.x,c.y+32))){c=c=y["Item Dropdown Use"]+"";switch(z.C.ha.Zm()[d].itemType){case "wearable":c=y["Item Dropdown Equip"]+"";break;case "consumable":c=y["Item Dropdown Eat"]+
"";break;case "book":c=y["Item Dropdown Read"]+""}var c=c.replace("\x3cITEM\x3e",z.C.ha.Zm()[d].name),e=y["Item Dropdown Drop"]+"",e=e.replace("\x3cITEM\x3e",z.C.ha.Zm()[d].name);this.fk=d;this.b.item_name.v(!1);this.f(DropDownList.fe(this,this.XC,[c,e],a.K));return!0}},ji:function(a){a=this.b.main_panel.Ca(a.K);for(var c=0;40>c;c++)if(z.C.ha.Zm()[c]&&O(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.da(z.C.ha.Zm()[c].name),this.b.item_name.v(!0),this.b.item_name.U(this.b.item_name.content.d()),
this.b.item_name.content.mb(this.b.item_name.content.d().width/2),this.b.item_name.n(q.a(this.b.main_panel[c+""].q.F-this.b.item_name.content.d().width/2+16,this.b.main_panel[c+""].q.H)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Mc:function(){return"Sign"},Nc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{c:q.a(0,0),size:q.size(128,96),$:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:q.k(255,255,255),c:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},t:function(a){this._super();this.data=a},ya:function(){this._super();this.b.control_panel.content.nc(q.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({Mc:function(){return"Skills"},Nc:function(){for(var a={},c=ObjectLists.ll(),d=0;d<c.length;d++)a[d+""]={c:q.a(0,0),position:q.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:q.a(4,2),$w:!0,c:q.a(0,0)},name:{position:q.a(46,18),size:q.size(120,32),label:c[d].name,fontSize:16,color:q.k(255,255,255),c:q.a(0,0.5)},level:{position:q.a(210,18),size:q.size(86,32),c:q.a(0.5,0.5),label:"Level",fontSize:16,color:q.k(255,255,255)}}};return{panels:{position:q.a(100,300),children:{main_panel:{c:q.a(0,
0),size:q.size(256,40*c.length),$:"GUI/skills.png",children:a},control_panel:{c:q.a(0,0),position:q.a(0,40*c.length),size:q.size(256,32),children:{header:{label:y["Skills Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(232,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),s:q.h(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}},control_menu:{position:q.a(0,
0),s:q.h(200,200,200,200),size:q.size(96,48),visible:!1,children:{dropbtn:{position:q.a(0,0),size:q.size(96,24),c:q.a(0,0),s:q.h(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}},unequipbtn:{position:q.a(0,24),size:q.size(96,24),c:q.a(0,0),s:q.h(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:q.k(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}}}}}}}},If:function(){console.log("Updating tile grid");for(var a=ObjectLists.ll(),
c=0;c<a.length;c++)this.b.main_panel[c+""].icon.ba(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[c+""].icon.ba(e);this.b.main_panel[c+""].icon.Mb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},ya:function(){this._super();this.If()}});
var za=q.Qc.extend({sw:[],rL:function(){var a=ObjectLists.ll(),c;for(c in this.sw)this.sw[c].Q();this.sw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.KR(a[c].name,a[c].healthbar,d);this.f(e);this.sw.push(e);d++}this.n(q.a(0,W.height-32*d))},KR:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.ea.create(q.h(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,23);
e.UB=q.A.gb(q.ia.e().pa("GUI/healthbar.png"));e.n(10,32*d- -5*d-10);e.L(q.a(0,0));e.UB.n(-5,-4);e.UB.L(q.a(0,0));e.f(e.UB);a=q.R.create(a,"Arial",16);a.n(10,11.5);a.L(q.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;za.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new za,SkillBarsInstance.rL());return SkillBarsInstance};za.update=function(){SkillBarsInstance.rL()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,X:null,hb:null,cj:null,bf:null,cf:null,E2:null,m:null,Na:null,cL:null,QH:null,Ha:null,i:null,dq:null,ej:function(a){G({savescripts:a+"",scriptsdata:this.data})},Ui:function(a,c){G({savescriptswhole:c})},Mc:function(){return"Scripts"},Pa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Ac(function(){c.Yc(null)})}},t:function(a){this._super();this.data={data:[],name:null};this.Na=null;a.data&&(this.data=a.data);this.m=a.m},ya:function(){this._super();this.Na=
new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.h(255,255,255),q.k(0,0,0));this.Na.tb(!0);this.$b()},$b:function(){this.X&&this.X.uc();for(var a in this.bf)this.bf[a].uc(),this.bf[a].Q();for(a in this.cf)this.cf[a].uc(),this.cf[a].Q();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.ia.e();this.bf=[];this.cf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=
[];c[a]=q.D.create();c[a].U(758,100);var l=q.ea.create(q.h(0,0,0,127),750,1);l.n(q.a(4,0));var m=q.ea.create(q.h(0,0,0,127),1,92);m.n(q.a(152,4));var n=q.ea.create(q.h(0,0,0,127),1,92);n.n(q.a(451,4));var r=this.data.data[a].type;"On Event End"==r&&(r+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");r=q.R.create(a+": "+r,"Arial",15);r.l(q.k(0,0,0));r.L(q.a(0,1));r.n(q.a(4,96));r.nc(q.size(100,0));var p=q.ea.create(q.h(0,255,0,60),259,100);
p.U(q.size(259,100));p.mb(451);p.L(q.a(0,0));c[a].f(p);var t=q.ea.create(q.h(0,255,0,60),259,100);t.U(q.size(259,100));t.mb(152);t.L(q.a(0,0));c[a].f(t);var x=q.A.gb(k.pa("GUI/trash.png"));x.n(q.a(120,4));x.L(q.a(0,0));x.rc="Delete";c[a].f(x);var A=q.A.gb(k.pa("GUI/edit.png"));A.n(q.a(96,4));A.L(q.a(0,0));A.rc="Edit";c[a].f(A);f.push([x,A]);for(x=0;x<this.data.data[a].responses.length;x++){d[a].push(q.D.create());d[a][x].U(259,32);var A=!0,D=q.R.create(x+1+": "+this.data.data[a].responses[x].type,
"Arial",15);D.l(q.k(0,0,0));D.L(q.a(0,0));D.n(q.a(4,4));D.nc(q.size(180,0));d[a][x].U(259,D.d().height+8);d[a][x].f(D);D=q.A.gb(k.pa("GUI/trash.png"));D.n(q.a(229,0));D.L(q.a(0,0));D.rc="Delete";d[a][x].f(D);switch(this.data.data[a].responses[x].type){case "Destroy":case "Attack":case "Run Away":A=!1}A?(A=q.A.gb(k.pa("GUI/edit.png")),A.n(q.a(205,0)),A.L(q.a(0,0)),A.rc="Edit",d[a][x].f(A),g[a].push([D,A])):g[a].push([D])}x=q.ea.create(q.h(70,200,70,255),90,26);A=q.R.create("+","Arial",20);A.n(45,13);
A.L(q.a(0.5,0.5));x.n(q.a(84.5,0));x.rc="Add";x.f(A);g[a].push([x]);d[a].push(x);this.cf[a]=t;this.cf[a].identifier=a;var C=this;this.cf[a].ne=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].d().height;return q.size(259,a)};this.cf[a].Kd=function(){return d[this.identifier].length};this.cf[a].$e=function(a){return d[this.identifier][a].d()};this.cf[a].Ye=function(a){return d[this.identifier][a]};this.cf[a].zc=function(a,c,d){C.Ca(d.K);if(null==C.i)switch(a){case "Delete":C.Y.f(DropDownList.fe(C,
C.UR,["Cancel","Delete"],d.K));C.hb=c;C.cj=this.identifier;break;case "Edit":C.dI(this.identifier,"responses",c);break;case "Add":a="Talk;Give Talk Options;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats".split(";");c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<C.data.data[this.identifier].responses.length;e++)"Repeat Responses"==C.data.data[this.identifier].responses[e].type&&
(c[7].enabled=!1);switch(C.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic"),c.push({enabled:!0},{enabled:!0})}C.Y.f(DropDownList.fe(C,C.WQ,a,d.K,c));C.cj=this.identifier;break;case "Use":C.m.et(c,C.Lc[c])}};this.cf[a].oa=ListView.create(this.cf[a]);this.cf[a].oa.ef(g[a]);
this.cf[a].f(this.cf[a].oa);for(x=0;x<this.data.data[a].requirements.length;x++)e[a].push(q.D.create()),e[a][x].U(259,32),t=q.R.create(x+1+": "+this.data.data[a].requirements[x].type,"Arial",15),t.l(q.k(0,0,0)),t.L(q.a(0,0)),t.n(q.a(4,4)),t.nc(q.size(180,0)),e[a][x].U(259,t.d().height+8),e[a][x].f(t),D=q.A.gb(k.pa("GUI/trash.png")),D.n(q.a(229,0)),D.L(q.a(0,0)),D.rc="Delete",e[a][x].f(D),A=q.A.gb(k.pa("GUI/edit.png")),A.n(q.a(205,0)),A.L(q.a(0,0)),A.rc="Edit",e[a][x].f(A),h[a].push([D,A]);t=q.ea.create(q.h(70,
200,70,255),90,26);x=q.R.create("+","Arial",20);x.n(45,13);x.L(q.a(0.5,0.5));t.n(q.a(84.5,0));t.rc="Add";t.f(x);h[a].push([t]);e[a].push(t);this.bf[a]=p;this.bf[a].identifier=a;C=this;this.bf[a].ne=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].d().height;return q.size(259,a)};this.bf[a].Kd=function(){return e[this.identifier].length};this.bf[a].$e=function(a){return e[this.identifier][a].d()};this.bf[a].Ye=function(a){return e[this.identifier][a]};this.bf[a].zc=
function(a,c,d){C.Ca(d.K);if(null==C.i)switch(a){case "Delete":C.Y.f(DropDownList.fe(C,C.TR,["Cancel","Delete"],d.K));C.hb=c;C.cj=this.identifier;break;case "Edit":C.dI(this.identifier,"requirements",c);break;case "Add":a=["Has Player Item","Is Player Statistics","Is Quest Point","Is Panel Visibility","Is Player Inventory Space"];switch(C.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}C.Y.f(DropDownList.fe(C,C.VQ,a,d.K));C.cj=
this.identifier;break;case "Use":C.m.et(c,C.Lc[c])}};this.bf[a].oa=ListView.create(this.bf[a]);this.bf[a].oa.ef(h[a]);this.bf[a].f(this.bf[a].oa);c[a].f(r);c[a].f(l);c[a].f(m);c[a].f(n)}a=q.ea.create(q.h(70,200,70,255),90,26);g=q.R.create("+","Arial",20);g.n(45,13);g.L(q.a(0.5,0.5));a.n(q.a(334,0));a.rc="Add";a.f(g);f.push([a]);c.push(a);this.X=this.b.main_panel.list;C=this;this.X.ne=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].d().height;return q.size(758,a)};this.X.Kd=function(){return c.length};
this.X.$e=function(a){return c[a].d()};this.X.Ye=function(a){return c[a]};this.X.zc=function(a,c,d){C.Ca(d.K);if(null==C.i)switch(a){case "Delete":a="Delete";C.yT(c)&&(a="Delete (Will destroy all child events)");C.Y.f(DropDownList.fe(C,C.SR,["Cancel",a],d.K));C.hb=c;break;case "Add":a=["Default Interaction","On Event End","On Examine","On Talk Option Selected"];var e=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1}];0==C.data.data.length&&(e[1].enabled=!1);C.qS()&&(e[3].enabled=!0);switch(C.data.specifier){case "Item":a.push("On Pickup",
"On Drop","On Dequip","On Trade");e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),e[0].enabled=!1}C.Y.f(DropDownList.fe(C,C.RQ,a,d.K,e));C.hb=c;break;case "Use":C.m.et(c,C.Lc[c])}};this.X.oa=ListView.create(this.X);this.X.oa.ef(f);this.X.f(this.X.oa)},TH:function(a){for(var c=
0;c<this.data.data.length;c++)"On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.TH(c),this.data.data.splice(c,1))},yT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},qS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Give Talk Options"==this.data.data[a].responses[c].type)return!0;return!1},SR:function(a){switch(a){case 1:null!=
this.m.hb&&(this.m.TH(this.m.hb),this.m.data.data.splice(this.m.hb,1),this.m.$b(),this.m.hb=null)}},UR:function(a){switch(a){case 1:null!=this.m.hb&&(this.m.data.data[this.m.cj].responses.splice(this.m.hb,1),this.m.$b(),this.m.hb=null,this.m.cj=null)}},TR:function(a){switch(a){case 1:null!=this.m.hb&&(this.m.data.data[this.m.cj].requirements.splice(this.m.hb,1),this.m.$b(),this.m.hb=null,this.m.cj=null)}},QQ:function(a){this.m.data.data.push({type:"On Event End",responses:[],requirements:[],data:{attachedEvent:a}});
this.m.$b()},RQ:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:for(var d=[],e=0;e<this.m.data.data.length;e++)d.push(e+": "+this.m.data.data[e].type);this.Y.f(DropDownList.fe(this.m,this.m.QQ,d,c.K));return;case 2:d="On Examine";break;case 3:d="On Talk Option Selected"}if(""==d)switch(this.m.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;case "Tile":switch(a){case 4:d="Interact On";
break;case 5:d="Interact Facing";break;case 6:d="Will Enter";break;case 7:d="On Enter";break;case 8:d="Will Leave";break;case 9:d="On Leave";break;case 10:d="On Come Near"}}this.m.data.data.push({type:d,responses:[],requirements:[],data:{}});this.m.$b()},WQ:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Give Talk Options";break;case 2:c="Destroy";break;case 3:c="Give /Take Item";break;case 4:c="Set Quest Point";break;case 5:c="Warp Player";break;case 6:c="Wait";break;case 7:c="Repeat Responses";
break;case 8:c="Open/Close Panel";break;case 9:c="Modify Player Stats"}if(""==c)switch(this.m.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic"}}this.m.data.data[this.m.cj].responses.push({type:c,data:{}});this.m.$b()},VQ:function(a){var c="";
switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visbility";break;case 4:c="Is Player Inventory Space"}if(""==c)switch(this.m.data.specifier){case "Tile":switch(a){case 5:c="Is Event Fired By"}break;case "NPC":switch(a){case 5:c="Is NPC Statistics";break;case 6:c="Is NPC Actioning"}}this.m.data.data[this.m.cj].requirements.push({type:c,data:{}});this.m.$b()},Nc:function(){return{panels:{position:q.a(0,60),children:{background_image:{$:"GUI/event_panel.png",
c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),s:q.h(0,200,200,200),position:q.a(0,0),c:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)},defaultsbtn:{position:q.a(542,364),size:q.size(64,32),s:q.h(0,255,0,255),c:q.a(0,0),children:{contents:{label:"Defaults",position:q.a(32,16),c:q.a(0.5,0.5),color:q.k(0,0,0)}}},specifier:{position:q.a(620,
364),size:q.size(128,32),s:q.h(0,255,0,255),c:q.a(0,0),children:{contents:{label:"Includes: None",position:q.a(64,16),c:q.a(0.5,0.5),color:q.k(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,c:q.a(0,0),position:q.a(110,368),color:q.k(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),s:q.h(255,255,255,255)}}},control_panel:{c:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,6),size:q.size(20,
20),c:q.a(0,0),$:"GUI/close.png"}}},subEditorOver:{visible:!1,s:q.h(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{s:q.h(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},dI:function(a,c,d){this.Ha={event:a,listtype:c,id:d};this.dq=this.data.data[a][c][d].type;this.LX()},R$:function(a){this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data=ua(a);this.Rw();this.Ha=null;this.$b()},Q$:function(){this.Rw();this.Ha=null},defaultSelected:function(a,c){0<this.m.data.data.length?
(this.m.QH=a,this.Y.f(DropDownList.fe(this.m,this.m.WR,["Cancel","Clear Script (Required)"],c.K))):this.m.pK(a)},M2:function(){},kE:null,lE:null,mE:null,zx:null,OJ:null,wJ:null,bj:null,fk:null,Rx:null,Il:null,Jl:null,Hl:null,Tx:null,Ux:null,Sx:null,EJ:null,Nn:0,uJ:null,rH:null,Zw:null,xc:null,Zx:null,LX:function(){this.b.subEditorOver.v(!0);this.b.mainEditorOver.v(!1);var a={panels:{position:q.a(802,0),children:{}}},c=this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data;switch(this.dq){case "Warp Player":a.panels.children=
{mapNumberLabel:{label:"Map ID",c:q.a(0,0),position:q.a(12,374)},mapNumberText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",c:q.a(0,0),position:q.a(12,310)},mapXText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",c:q.a(0,0),position:q.a(100,310)},mapYText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Talk":case "Read Item":a.panels.children={sayLabel:{label:"Say:",
c:q.a(0,0),position:q.a(12,374)},sayText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",c:q.a(0,0),position:q.a(12,374)},questList:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",c:q.a(0,0),position:q.a(12,189)},objectiveList:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;
case "Give /Take Item":case "Has Player Item":a.panels.children={itemsLabel:{label:"Item:",c:q.a(0,0),position:q.a(12,374)},itemList:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",c:q.a(0,0),position:q.a(12,189)},amountText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.dq?"":"Use negative item amounts to take away. Use positive amounts to give.",c:q.a(0,1),position:q.a(12,
145)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",c:q.a(0,0),position:q.a(12,374)},skillList:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",c:q.a(0,0),position:q.a(12,205)},levelText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,169),size:q.size(154,32)},expLabel:{label:"XP Modify: (% allowed)",c:q.a(0,0),position:q.a(12,145)},expText:{s:q.h(255,255,255,255),c:q.a(0,0),
position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",c:q.a(0,0),position:q.a(12,85)},healthText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visbility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",c:q.a(0,0),position:q.a(12,374)},panelList:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",c:q.a(0,0),position:q.a(12,205)},
visibleButton:{s:q.h(255,0,0,255),c:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),c:q.a(0.5,0.5),label:"Invisible",color:q.k(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",c:q.a(0,0),position:q.a(12,374)},objectList:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",c:q.a(0,0),position:q.a(12,374)},
actionList:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",c:q.a(0,0),position:q.a(12,374)},spaceText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",c:q.a(0,0),position:q.a(12,374)},timeText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;
case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",c:q.a(0,0),position:q.a(12,374)},amountText:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",c:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children={skillsLabel:{label:"Skill:",c:q.a(0,0),position:q.a(12,374)},skillList:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,230),size:q.size(154,
135)},levelLabel:{label:"Level Range",c:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",c:q.a(0,0),position:q.a(91,174)},levelTextLower:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",c:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",c:q.a(0,0),position:q.a(91,114)},expTextLower:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(100,109),
size:q.size(75,32)},expTextUpper:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",c:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",c:q.a(0,0),position:q.a(91,54)},healthTextLower:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{s:q.h(255,255,255,255),c:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",c:q.a(0,
0),position:q.a(12,374)},headButton:{s:q.h(255,0,0,255),c:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Head",color:q.k(0,0,0)}}},bodyButton:{s:q.h(255,0,0,255),c:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Body",color:q.k(0,0,0)}}},legButton:{s:q.h(255,0,0,255),c:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Legs",
color:q.k(0,0,0)}}},feetButton:{s:q.h(255,0,0,255),c:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Feet",color:q.k(0,0,0)}}},lArmButton:{s:q.h(255,0,0,255),c:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"L Arm",color:q.k(0,0,0)}}},rArmButton:{s:q.h(255,0,0,255),c:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"R Arm",
color:q.k(0,0,0)}}},modButton:{s:q.h(255,0,0,255),c:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),c:q.a(0.5,0.5),label:"Mod",color:q.k(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,8),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)};this.i=Ha(a,!0);this.b.f(this.i);switch(this.dq){case "Warp Player":var d=a=1;c.index&&(a=c.index%S,d=Math.floor(c.index/
S));this.kE=new $(this.i.mapNumberText,q.size(this.i.mapNumberText.d().width,this.i.mapNumberText.d().height),q.a(0,this.i.mapNumberText.d().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.h(255,255,255),q.k(0,0,0));this.kE.tb(!0);this.lE=new $(this.i.mapXText,q.size(this.i.mapXText.d().width,this.i.mapXText.d().height),q.a(0,this.i.mapXText.d().height),a,q.h(255,255,255),q.k(0,0,0));this.lE.tb(!0);this.mE=new $(this.i.mapYText,q.size(this.i.mapYText.d().width,this.i.mapYText.d().height),
q.a(0,this.i.mapYText.d().height),d,q.h(255,255,255),q.k(0,0,0));this.mE.tb(!0);break;case "Talk":case "Read Item":this.zx=new $(this.i.sayText,q.size(this.i.sayText.d().width,this.i.sayText.d().height),q.a(0,this.i.sayText.d().height),c.say?c.say:"\x3cEnter text\x3e",q.h(255,255,255),q.k(0,0,0),!0);this.zx.tb(!0);this.zx.Ad(!1);break;case "Is Quest Point":case "Set Quest Point":for(var e=[],a=[],f=ObjectLists.ys(),d=0;d<f.length;d++){e[d]=q.D.create();var g=q.ea.create(q.h(0,0,0,127),154,1),h=q.R.create(f[d].name,
"Arial",15);h.l(q.k(0,0,0));h.L(q.a(0,0));h.n(q.a(4,4));h.nc(q.size(126,0));var k=q.A.gb(q.ia.e().pa("GUI/use.png"));k.n(q.a(130,0));k.L(q.a(0,0));k.rc="Use";e[d].U(154,h.d().height+8);k.od((h.d().height+8)/2-10);a.push([k]);var l=q.ea.create(q.h(255,255,255,255),154,h.d().height+8);e[d].f(l);e[d].yc=l;e[d].f(g);e[d].f(h);e[d].f(k)}var m=this;this.i.questList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.i.questList.Kd=function(){return e.length};this.i.questList.$e=
function(a){return e[a].d()};this.i.questList.Ye=function(a){return e[a]};this.i.questList.Wi=function(a){return e[a].yc};this.i.questList.zc=function(a,c){if("Use"==a){m.i.objectiveList.oa&&m.i.objectiveList.oa.Q();this.oa.yc(c);m.OJ=c;for(var d=[],e=[],f=q.ia.e(),g=ObjectLists.ys()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.D.create();var k=q.ea.create(q.h(0,0,0,127),154,1);k.n(q.a(0,0));var l=q.R.create(g[h],"Arial",15);l.l(q.k(0,0,0));l.L(q.a(0,0));l.n(q.a(4,4));l.nc(q.size(126,0));var M=q.A.gb(f.pa("GUI/use.png"));
M.n(q.a(130,0));M.L(q.a(0,0));M.rc="Use";e.push([M]);d[h].U(126,l.d().height+8);M.od((l.d().height+8)/2-10);var Q=q.ea.create(q.h(255,255,255,255),154,l.d().height+8);d[h].f(Q);d[h].yc=Q;d[h].f(k);d[h].f(l);d[h].f(M)}m.i.objectiveList.ne=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].d().height;return q.size(154,a)};m.i.objectiveList.Kd=function(){return d.length};m.i.objectiveList.Wi=function(a){return d[a].yc};m.i.objectiveList.$e=function(a){return d[a].d()};m.i.objectiveList.Ye=function(a){return d[a]};
m.i.objectiveList.zc=function(a,c){this.oa.yc(c);m.wJ=c};m.i.objectiveList.oa=ListView.create(m.i.objectiveList);m.i.objectiveList.oa.ef(e);m.i.objectiveList.f(m.i.objectiveList.oa)}};this.i.questList.oa=ListView.create(this.i.questList);this.i.questList.oa.ef(a);this.i.questList.f(this.i.questList.oa);null!=c.quest&&"undefined"!==c.quest&&(this.i.questList.zc("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.i.objectiveList.zc("Use",c.objective));break;case "Give /Take Item":case "Has Player Item":this.i.amountNote.nc(q.size(180,
0));e=[];a=[];f=ObjectLists.ci();for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ea.create(q.h(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.nc(q.size(126,0)),k=q.A.gb(q.ia.e().pa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.rc="Use",e[d].U(154,h.d().height+8),k.od((h.d().height+8)/2-10),a.push([k]),l=q.ea.create(q.h(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].yc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.itemList.ne=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.i.itemList.Kd=function(){return e.length};this.i.itemList.$e=function(a){return e[a].d()};this.i.itemList.Ye=function(a){return e[a]};this.i.itemList.Wi=function(a){return e[a].yc};this.i.itemList.zc=function(a,c){"Use"==a&&(this.oa.yc(c),m.fk=c)};this.i.itemList.oa=ListView.create(this.i.itemList);this.i.itemList.oa.ef(a);this.i.itemList.f(this.i.itemList.oa);null!=c.item&&"undefined"!==c.item&&this.i.itemList.zc("Use",c.item);this.bj=
new $(this.i.amountText,q.size(this.i.amountText.d().width,this.i.amountText.d().height),q.a(0,this.i.amountText.d().height),c.amount?c.amount:"0",q.h(255,255,255),q.k(0,0,0));this.bj.tb(!0);this.bj.Ad(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.ll();for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ea.create(q.h(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.nc(q.size(126,0)),k=q.A.gb(q.ia.e().pa("GUI/use.png")),
k.n(q.a(130,0)),k.L(q.a(0,0)),k.rc="Use",e[d].U(154,h.d().height+8),k.od((h.d().height+8)/2-10),a.push([k]),l=q.ea.create(q.h(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].yc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.skillList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.i.skillList.Kd=function(){return e.length};this.i.skillList.$e=function(a){return e[a].d()};this.i.skillList.Ye=function(a){return e[a]};this.i.skillList.Wi=function(a){return e[a].yc};
this.i.skillList.zc=function(a,c){"Use"==a&&(this.oa.yc(c),m.Rx=c)};this.i.skillList.oa=ListView.create(this.i.skillList);this.i.skillList.oa.ef(a);this.i.skillList.f(this.i.skillList.oa);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.zc("Use",c.skill);this.Il=new $(this.i.levelText,q.size(this.i.levelText.d().width,this.i.levelText.d().height),q.a(0,this.i.levelText.d().height),c.level?c.level:"0",q.h(255,255,255),q.k(0,0,0));this.Il.tb(!0);this.Il.Ad(!1);this.Jl=new $(this.i.expText,q.size(this.i.expText.d().width,
this.i.expText.d().height),q.a(0,this.i.expText.d().height),c.xp?c.xp:"0",q.h(255,255,255),q.k(0,0,0));this.Jl.tb(!0);this.Jl.Ad(!1);this.Hl=new $(this.i.healthText,q.size(this.i.healthText.d().width,this.i.healthText.d().height),q.a(0,this.i.healthText.d().height),c.health?c.health:"0",q.h(255,255,255),q.k(0,0,0));this.Hl.tb(!0);this.Hl.Ad(!1);break;case "Is Panel Visbility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog"];for(d=0;d<f.length;d++)e[d]=q.D.create(),
g=q.ea.create(q.h(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.nc(q.size(126,0)),k=q.A.gb(q.ia.e().pa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.rc="Use",e[d].U(154,h.d().height+8),k.od((h.d().height+8)/2-10),a.push([k]),l=q.ea.create(q.h(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].yc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.panelList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.i.panelList.Kd=
function(){return e.length};this.i.panelList.$e=function(a){return e[a].d()};this.i.panelList.Ye=function(a){return e[a]};this.i.panelList.Wi=function(a){return e[a].yc};this.i.panelList.zc=function(a,c){"Use"==a&&(this.oa.yc(c),m.EJ=c)};this.i.panelList.oa=ListView.create(this.i.panelList);this.i.panelList.oa.ef(a);this.i.panelList.f(this.i.panelList.oa);null!=c.panel&&"undefined"!==c.panel&&this.i.panelList.zc("Use",c.panel);this.Nn=1==c.visible?1:0;1==this.Nn&&(this.i.visibleButton.l(q.h(0,255,
0,255)),this.i.visibleButton.content.da("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ea.create(q.h(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.nc(q.size(126,0)),k=q.A.gb(q.ia.e().pa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.rc="Use",e[d].U(154,h.d().height+8),k.od((h.d().height+8)/2-10),a.push([k]),l=q.ea.create(q.h(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].yc=
l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.objectList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.i.objectList.Kd=function(){return e.length};this.i.objectList.$e=function(a){return e[a].d()};this.i.objectList.Ye=function(a){return e[a]};this.i.objectList.Wi=function(a){return e[a].yc};this.i.objectList.zc=function(a,c){"Use"==a&&(this.oa.yc(c),m.uJ=c)};this.i.objectList.oa=ListView.create(this.i.objectList);this.i.objectList.oa.ef(a);this.i.objectList.f(this.i.objectList.oa);
null!=c.object&&"undefined"!==c.object&&this.i.objectList.zc("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ea.create(q.h(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.nc(q.size(126,0)),k=q.A.gb(q.ia.e().pa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.rc="Use",e[d].U(154,h.d().height+8),k.od((h.d().height+8)/2-10),a.push([k]),l=q.ea.create(q.h(255,255,255,
255),154,h.d().height+8),e[d].f(l),e[d].yc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.actionList.ne=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.i.actionList.Kd=function(){return e.length};this.i.actionList.$e=function(a){return e[a].d()};this.i.actionList.Ye=function(a){return e[a]};this.i.actionList.Wi=function(a){return e[a].yc};this.i.actionList.zc=function(a,c){"Use"==a&&(this.oa.yc(c),m.rH=c)};this.i.actionList.oa=ListView.create(this.i.actionList);
this.i.actionList.oa.ef(a);this.i.actionList.f(this.i.actionList.oa);null!=c.action&&"undefined"!==c.action&&this.i.actionList.zc("Use",c.action);break;case "Is Player Inventory Space":this.Zw=new $(this.i.spaceText,q.size(this.i.spaceText.d().width,this.i.spaceText.d().height),q.a(0,this.i.spaceText.d().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.h(255,255,255),q.k(0,0,0));this.Zw.tb(!0);this.Zw.Ad(!1);break;case "Wait":this.Zx=new $(this.i.timeText,q.size(this.i.timeText.d().width,
this.i.timeText.d().height),q.a(0,this.i.timeText.d().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.h(255,255,255),q.k(0,0,0));this.Zx.tb(!0);this.Zx.Ad(!1);break;case "Repeat Responses":this.i.amountNote.nc(q.size(180,0));this.xD=new $(this.i.amountText,q.size(this.i.amountText.d().width,this.i.amountText.d().height),q.a(0,this.i.amountText.d().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.h(255,255,255),q.k(0,0,0));this.xD.tb(!0);this.xD.Ad(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=
[];a=[];f=ObjectLists.ll();for(d=0;d<f.length;d++)e[d]=q.D.create(),g=q.ea.create(q.h(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.l(q.k(0,0,0)),h.L(q.a(0,0)),h.n(q.a(4,4)),h.nc(q.size(126,0)),k=q.A.gb(q.ia.e().pa("GUI/use.png")),k.n(q.a(130,0)),k.L(q.a(0,0)),k.rc="Use",e[d].U(154,h.d().height+8),k.od((h.d().height+8)/2-10),a.push([k]),l=q.ea.create(q.h(255,255,255,255),154,h.d().height+8),e[d].f(l),e[d].yc=l,e[d].f(g),e[d].f(h),e[d].f(k);m=this;this.i.skillList.ne=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].d().height;return q.size(154,a)};this.i.skillList.Kd=function(){return e.length};this.i.skillList.$e=function(a){return e[a].d()};this.i.skillList.Ye=function(a){return e[a]};this.i.skillList.Wi=function(a){return e[a].yc};this.i.skillList.zc=function(a,c){"Use"==a&&(this.oa.yc(c),m.Rx=c)};this.i.skillList.oa=ListView.create(this.i.skillList);this.i.skillList.oa.ef(a);this.i.skillList.f(this.i.skillList.oa);null!=c.skill&&"undefined"!==c.skill&&this.i.skillList.zc("Use",
c.skill);this.Il=new $(this.i.levelTextLower,q.size(this.i.levelTextLower.d().width,this.i.levelTextLower.d().height),q.a(0,this.i.levelTextLower.d().height),null!=c.levelLower&&"undefined"!==c.levelLower?c.levelLower:"0",q.h(255,255,255),q.k(0,0,0));this.Il.tb(!0);this.Il.Ad(!1);this.Jl=new $(this.i.expTextLower,q.size(this.i.expTextLower.d().width,this.i.expTextLower.d().height),q.a(0,this.i.expTextLower.d().height),null!=c.xpLower&&"undefined"!==c.xpLower?c.xpLower:"0",q.h(255,255,255),q.k(0,0,
0));this.Jl.tb(!0);this.Jl.Ad(!1);this.Hl=new $(this.i.healthTextLower,q.size(this.i.healthTextLower.d().width,this.i.healthTextLower.d().height),q.a(0,this.i.healthTextLower.d().height),null!=c.healthLower&&"undefined"!==c.healthLower?c.healthLower:"0",q.h(255,255,255),q.k(0,0,0));this.Hl.tb(!0);this.Hl.Ad(!1);this.Tx=new $(this.i.levelTextUpper,q.size(this.i.levelTextUpper.d().width,this.i.levelTextUpper.d().height),q.a(0,this.i.levelTextUpper.d().height),null!=c.levelUpper&&"undefined"!==c.levelUpper?
c.levelUpper:"0",q.h(255,255,255),q.k(0,0,0));this.Tx.tb(!0);this.Tx.Ad(!1);this.Ux=new $(this.i.expTextUpper,q.size(this.i.expTextUpper.d().width,this.i.expTextUpper.d().height),q.a(0,this.i.expTextUpper.d().height),null!=c.xpUpper&&"undefined"!==c.xpUpper?c.xpUpper:"0",q.h(255,255,255),q.k(0,0,0));this.Ux.tb(!0);this.Ux.Ad(!1);this.Sx=new $(this.i.healthTextUpper,q.size(this.i.healthTextUpper.d().width,this.i.healthTextUpper.d().height),q.a(0,this.i.healthTextUpper.d().height),null!=c.healthUpper&&
"undefined"!==c.healthUpper?c.healthUpper:"0",q.h(255,255,255),q.k(0,0,0));this.Sx.tb(!0);this.Sx.Ad(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.xc="head",this.kk(c.equip)):this.kk("head")}},Rw:function(){this.b.subEditorOver.v(!1);this.b.mainEditorOver.v(!0);this.dq=null;this.i.Q();this.i=null},pK:function(a){switch(a){case 0:this.Dn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.Dn(1,!0);this.data.data=
[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.Dn(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.Dn(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.Dn(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.$b()},Dn:function(a,
c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.da("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.da("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.da("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.da("Includes: None")}this.data.data=[];c||this.$b()},XR:function(a){1==a&&this.m.Dn(this.m.cL)},WR:function(a){1==a&&this.m.pK(this.m.QH)},
kk:function(a){this.i.headButton.l(q.h(255,255,255,255));this.i.bodyButton.l(q.h(255,255,255,255));this.i.legButton.l(q.h(255,255,255,255));this.i.feetButton.l(q.h(255,255,255,255));this.i.lArmButton.l(q.h(255,255,255,255));this.i.rArmButton.l(q.h(255,255,255,255));this.i.modButton.l(q.h(255,255,255,255));switch(a){case "head":this.xc=a;this.i.headButton.l(q.h(255,0,0,255));return;case "body":this.xc=a;this.i.bodyButton.l(q.h(255,0,0,255));return;case "legs":this.xc=a;this.i.legButton.l(q.h(255,0,
0,255));return;case "feet":this.xc=a;this.i.feetButton.l(q.h(255,0,0,255));return;case "mod":this.xc=a;this.i.modButton.l(q.h(255,0,0,255));return;case "bothArms":this.xc=a;this.i.lArmButton.l(q.h(255,0,0,255));this.i.rArmButton.l(q.h(255,0,0,255));return}"bothArms"!=this.xc&&"lArm"!=this.xc&&"rArm"!=this.xc&&"lArm"==a?(this.i.lArmButton.l(q.h(255,0,0,255)),this.xc="lArm"):"bothArms"!=this.xc&&"lArm"!=this.xc&&"rArm"!=this.xc&&"rArm"==a?(this.i.rArmButton.l(q.h(255,0,0,255)),this.xc="rArm"):"rArm"==
this.xc&&"lArm"==a?(this.i.lArmButton.l(q.h(255,0,0,255)),this.i.rArmButton.l(q.h(255,0,0,255)),this.xc="bothArms"):"lArm"==this.xc&&"rArm"==a?(this.i.lArmButton.l(q.h(255,0,0,255)),this.i.rArmButton.l(q.h(255,0,0,255)),this.xc="bothArms"):"bothArms"==this.xc&&"rArm"==a?(this.i.lArmButton.l(q.h(255,0,0,255)),this.xc="lArm"):"bothArms"==this.xc&&"lArm"==a&&(this.i.rArmButton.l(q.h(255,0,0,255)),this.xc="rArm")},TX:function(a,c){if(0<this.m.data.data.length)return this.m.cL=a,this.Y.f(DropDownList.fe(this.m,
this.m.XR,["Cancel","Clear Script (Required)"],c.K)),!1;this.m.Dn(a)},kb:function(a){if(this._super(a))return!0;this.yd=null;var c=a.K;if(this.i){c=this.i.Ca(c);if(O(this.i.okbtn,c)){switch(this.dq){case "Warp Player":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={mapnum:parseInt(this.kE.T()),index:T(parseInt(this.lE.T()),Pa-parseInt(this.mE.T()))};break;case "Talk":case "Read Item":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={say:this.zx.T()};break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data=
{quest:this.OJ,objective:this.wJ};break;case "Give /Take Item":case "Has Player Item":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={item:this.fk,amount:parseInt(this.bj.T())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={skill:this.Rx,level:parseInt(this.Il.T()),xp:parseInt(this.Jl.T()),health:parseInt(this.Hl.T())};break;case "Is Panel Visbility":case "Open/Close Panel":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data=
{panel:this.EJ,visible:this.Nn};break;case "Is Event Fired By":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={object:this.uJ};break;case "Is NPC Actioning":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={action:this.rH};break;case "Is Player Inventory Space":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={space:parseInt(this.Zw.T())};break;case "Wait":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={time:parseInt(this.Zx.T())};
break;case "Repeat Responses":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={amount:parseInt(this.xD.T())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data={skill:this.Rx,levelLower:parseInt(this.Il.T()),xpLower:parseInt(this.Jl.T()),healthLower:parseInt(this.Hl.T()),levelUpper:parseInt(this.Tx.T()),xpUpper:parseInt(this.Ux.T()),healthUpper:parseInt(this.Sx.T())};break;case "Equip Item":this.data.data[this.Ha.event][this.Ha.listtype][this.Ha.id].data=
{equip:this.xc}}this.Rw();return!0}if(this.i.headButton&&O(this.i.headButton,c))return this.kk("head"),!0;if(this.i.bodyButton&&O(this.i.bodyButton,c))return this.kk("body"),!0;if(this.i.legButton&&O(this.i.legButton,c))return this.kk("legs"),!0;if(this.i.feetButton&&O(this.i.feetButton,c))return this.kk("feet"),!0;if(this.i.lArmButton&&O(this.i.lArmButton,c))return this.kk("lArm"),!0;if(this.i.rArmButton&&O(this.i.rArmButton,c))return this.kk("rArm"),!0;if(this.i.modButton&&O(this.i.modButton,c))return this.kk("mod"),
!0;if(this.i.visibleButton&&O(this.i.visibleButton,c))return this.Nn=0==this.Nn?1:0,this.i.visibleButton.l(0==this.Nn?q.h(255,0,0,255):q.h(0,255,0,255)),this.i.visibleButton.content.da(0==this.Nn?"Invisible":"Visible"),!0;if(O(this.i.cancelbtn,c))return this.Rw(),!0}else{c=this.b.main_panel.Ca(c);if(O(this.b.main_panel.defaultsbtn,c))return this.Y.f(DropDownList.fe(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.K)),!0;if(O(this.b.main_panel.specifier,
c))return this.Y.f(DropDownList.fe(this,this.TX,["Item","Tile","NPC","None"],a.K)),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Na.T()||""==this.Na.T())return!0;this.data.name=this.Na.T();this.Af=!0;this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Af=!0;var d=this.m;this.m.Ac(function(){d.Yc(null)});return!0}return O(this.b.main_panel,c)?!0:!1}}});Itemeditor=null;
ItemEditor=Popup.extend({Rb:I[0].name,S:0,et:function(a,c){Eventsystem&&(Eventsystem.Pa(),this.Ac(function(){Eventsystem.Q();Eventsystem=null}),this.Qg=a,this.Ub(!0),this.b.main_panel.scriptbtn.text.da(c.name),this.b.main_panel.scriptbtn.l(q.h(0,255,0,255)))},EK:function(){this.b.main_panel.scriptbtn.text.da("None");this.b.main_panel.scriptbtn.l(q.h(255,0,0,255))},Nc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),position:q.a(0,
0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,c:q.a(0,0),position:q.a(4,292),color:q.k(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),s:q.h(255,255,255,255)},tiles:{c:q.a(0,1),position:q.a(16,272),$:I[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",c:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",c:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,
32),$:"GUI/texture_change_middle.png",c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,256),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,
255)}}},upbtn:{position:q.a(16,272),size:q.size(320,16),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,c:q.a(0,0),position:q.a(360,206),color:q.k(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,
26),s:N,c:q.a(0,0),children:{text:{label:"No",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,c:q.a(0,0),position:q.a(360,262),color:q.k(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),s:N,c:q.a(0,0),children:{text:{label:"None",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),s:q.h(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,
32),s:q.h(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},Mc:function(){return"itemEditor"},Na:null,m:null,data:null,Qg:null,t:function(a){this._super();
this.data={sprite:{texture:I[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Rb=I[0].name;this.S=0;this.Qg=this.m=this.Na=null;this.N=q.a(0,0);this.m=a.m;a&&a.data&&(this.data=a.data)},ej:function(a){G({saveitems:a+"",itemdata:this.data})},Ui:function(a,c){G({saveitemswhole:c})},ya:function(){this._super();this.b.main_panel.highlightnode.ga(0);this.b.main_panel.selectednode.ga(127);for(var a in I)I[a].name==this.data.sprite.texture&&(this.S=a,this.Rb=I[a].name);this.b.main_panel.textureName.text.da(this.Rb);
this.b.main_panel.tiles.ba(I[this.S].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.l(q.h(0,255,0,255)),this.b.main_panel.scriptbtn.text.da(ObjectLists.zs()[this.data.script].name),this.Qg=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.N.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.N.y++;a=q.a(32*(this.data.sprite.position.x-this.N.x),32*(this.data.sprite.position.y-this.N.y));this.b.main_panel.selectednode.n(this.b.main_panel.tiles.q.x+a.x,this.b.main_panel.tiles.q.y-
(a.y+32));this.Na=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.d().width,this.b.main_panel.name_entry.d().height),q.a(0,this.b.main_panel.name_entry.d().height),this.data.name?this.data.name:"",q.h(255,255,255),q.k(0,0,0));this.Na.tb(!0);this.b.main_panel.stackbtn.l(N);this.b.main_panel.stackbtn.text.da("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.l(Ga),this.b.main_panel.stackbtn.text.da("Yes"));this.nb()},Pa:function(a){this._super();if(this.m){var c=this.m;
!0!=a&&this.m.Ac(function(){c.Yc(null)})}},ji:function(a){a=a.K;this.b.main_panel.highlightnode.ga(0);a=this.b.main_panel.tiles.Ca(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.d().width&&a.y<=this.b.main_panel.tiles.d().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ga(127),this.b.main_panel.highlightnode.n(a),!0},hW:function(){null==Eventsystem||Eventsystem.Y||(Eventsystem=null);Eventsystem&&(Eventsystem.Pa(),Eventsystem.Q(),Eventsystem=null);Eventsystem=
new PopupList;Eventsystem.t({m:this,sh:new EventSystem,list:ObjectLists.zs(),name:"Script List"});Eventsystem.ya();this.Y.f(Eventsystem);this.Ub(!1)},nb:function(){this.mc(this.nb);this.b.main_panel.tiles.aa()&&!0==this.b.main_panel.tiles.aa().pc&&(this.$c(this.nb),this.b.main_panel.tiles.Mb(q.rect(Math.floor(32*this.N.x),Math.floor(32*this.N.y),320>I[this.S].texture.d().width?I[this.S].texture.d().width:320,256>I[this.S].texture.d().height?I[this.S].texture.d().height:256)))},kb:function(a){if(this._super(a))return!0;
this.yd=null;a=a.K;var c=this.b.main_panel.Ca(q.a(a.x,a.y));if(O(this.b.main_panel.okbtn,c)){if(null==this.Na.T()||""==this.Na.T())return!0;this.Af=!0;this.data.name=this.Na.T();this.data.script=this.Qg;this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Af=!0;var d=this.m;this.m.Ac(function(){d.Yc(null)});return!0}if(O(this.b.main_panel.leftbtn,c))return 264<I[this.S].texture.d().width&&0<this.N.x&&(this.N.x--,this.nb()),!0;if(O(this.b.main_panel.rightbtn,c))return 320<I[this.S].texture.d().width&&
this.N.x<(I[this.S].texture.d().width-320)/32&&(this.N.x++,this.nb()),!0;if(O(this.b.main_panel.upbtn,c))return 320<I[this.S].texture.d().height&&0<this.N.y&&(this.N.y--,this.nb()),!0;if(O(this.b.main_panel.downbtn,c))return 320<I[this.S].texture.d().height&&this.N.y<(I[this.S].texture.d().height-320)/32&&(this.N.y++,this.nb()),!0;if(O(this.b.main_panel.texturerightbtn,c))return this.Ln(),!0;if(O(this.b.main_panel.textureleftbtn,c))return this.Mn(),!0;if(O(this.b.main_panel.stackbtn,c))return this.jL(),
!0;if(O(this.b.main_panel.scriptbtn,c))return this.hW(),!0;c=this.b.main_panel.tiles.Ca(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.d().width&&c.y<=this.b.main_panel.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ga(0);if(this.b.main_panel.selectednode.q.F!=c.x||this.b.main_panel.selectednode.q.H!=c.y)this.b.main_panel.selectednode.ga(127),this.b.main_panel.selectednode.n(c);a=q.a((this.b.main_panel.selectednode.q.F-16)/32+this.N.x,8-(this.b.main_panel.selectednode.q.H-
16)/32+this.N.y-1);this.data.sprite.position=a;return!0}return!1},jL:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.l(N);this.b.main_panel.stackbtn.text.da("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.l(Ga),this.b.main_panel.stackbtn.text.da("Yes"))},Ln:function(){this.S>=I.length-1&&(this.S=-1);this.S++;this.b.main_panel.tiles.ba(I[this.S].texture);this.Rb=I[this.S].name;this.b.main_panel.textureName.text.da(this.Rb);this.data.sprite.texture=this.Rb;
this.N=q.a(0,0);this.nb()},Mn:function(){0>=this.S&&(this.S=I.length);this.S--;this.b.main_panel.tiles.ba(I[this.S].texture);this.Rb=I[this.S].name;this.b.main_panel.textureName.text.da(this.Rb);this.N=q.a(0,0);this.nb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,X:null,hb:null,Mc:function(){return"Settings Editor"},Pa:function(){this._super()},t:function(){this._super();this.data=ua(y)},ej:function(a){G({savequests:a+"",questdata:this.data})},Ui:function(a,c){G({savequestswhole:c})},ya:function(){this._super();this.$b()},$b:function(){this.X&&this.X.uc();var a=[],c=[],d=q.ia.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.D.create();a[e].U(324,32);var g=q.R.create(f,"Arial",18);g.L(q.a(0,0));g.n(q.a(4,
0));g.nc(q.size(246,0));g.l(q.k(100,0,0));a[e].f(g);a[e].U(324,g.d().height+4);g=[];c.push(g);e++}a[e]=q.D.create();a[e].U(324,32);var h=q.ea.create(q.h(0,0,0,127),316,1);h.n(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.A.gb(d.pa("GUI/edit.png"));k.n(q.a(300,0));k.L(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.R.create(f,"Arial",22);l.l(q.k(255,0,0))}else l=q.R.create(this.data[f],"Arial",15),l.l(q.k(0,0,0));l.L(q.a(0,0));l.n(q.a(4,4));l.nc(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.rc="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].U(324,l.d().height+12):a[e].U(324,l.d().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.od((l.d().height+8)/2-10);e++}this.X=this.b.main_panel.list;var m=this;this.X.ne=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.X.Kd=function(){return a.length};this.X.$e=
function(c){return a[c].d()};this.X.Ye=function(c){return a[c]};this.X.zc=function(a,c,d){m.Ca(d.K);if(!0!=m.Fn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.hb=d;m.kC(d)}};this.X.oa=ListView.create(this.X);this.X.oa.ef(c);this.X.f(this.X.oa)},Nc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),s:q.h(0,255,0,255),position:q.a(241,292),c:q.a(0,0),children:{content:{label:"Save",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},list:{size:q.size(324,284),s:q.h(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},Xe:null,za:null,kC:function(a){null!=this.za&&
(this.za.uc(),this.Xe=null,this.za.Q(),this.hb=this.za=null);this.za=q.ea.create(q.h(255,255,255,200),200,200);this.za.n(q.a((this.b.main_panel.d().width-200)/2,(this.b.main_panel.d().height-200)/2));this.Xe=new $(this.za,q.size(190,150),q.a(0,this.za.d().height),this.data[a],q.h(100,100,100),q.k(255,255,255),!0);this.Xe.tb(!0);this.Xe.sK(!0);a=q.ea.create(q.h(0,200,255,255),64,32);a.n(q.a(14,9));var c=q.R.create("OK","Arial",16);c.l(q.k(0,0,0));c.n(32,16);c.L(q.a(0.5,0.5));a.f(c);c=q.ea.create(q.h(200,
0,0,255),64,32);c.n(q.a(120,9));var d=q.R.create("Cancel","Arial",16);d.l(q.k(0,0,0));d.n(32,16);d.L(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.za);this.za.f(a);this.za.aD=a;this.za.f(c);this.za.cancel=c},kb:function(a){if(this._super(a))return!0;this.yd=null;a=a.K;if(null!=this.za){a=this.za.Ca(a);if(O(this.za.aD,a))return this.data[this.hb]=this.Xe.T(),this.za.uc(),this.Xe=null,this.za.Q(),this.hb=this.za=null,this.$b(),!0;O(this.za.cancel,a)&&(this.za.uc(),this.Xe=null,this.za.Q(),this.hb=this.za=
null);return!0}a=this.b.main_panel.Ca(a);return O(this.b.main_panel.savebtn,a)?(y=ua(this.data),console.log(y),console.log(this.data),G({savesettings:this.data}),v.eE(this.data,Date.now()),!0):O(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,X:null,m:null,hb:null,Mc:function(){return"Quest Editor"},Pa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Ac(function(){c.Yc(null)})}},t:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.m=a.m;a&&a.data&&(this.data=a.data)},ej:function(a){G({savequests:a+"",questdata:this.data})},
Ui:function(a,c){G({savequestswhole:c})},ya:function(){this._super();this.$b();this.Na=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.d().width,this.b.main_panel.nameBox.d().height),q.a(0,this.b.main_panel.nameBox.d().height),this.data.name?this.data.name:"",q.h(255,255,255,255),q.k(0,0,0));this.Na.tb(!0)},$b:function(){this.X&&this.X.uc();var a=[],c=[],d=q.ia.e();this.RH={};for(var e in this.data.objectiveList)if(a[e]=q.D.create(),a[e].U(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=q.ea.create(q.h(0,0,0,127),316,1);f.n(q.a(4,0));var g=q.A.gb(d.pa("GUI/edit.png"));g.n(q.a(272,0));g.L(q.a(0,0));var h=q.A.gb(d.pa("GUI/trash.png"));h.n(q.a(300,0));h.L(q.a(0,0));var k=q.R.create(this.data.objectiveList[e],"Arial",15);k.L(q.a(0,0));k.n(q.a(4,4));k.nc(q.size(246,0));k.l(q.k(0,0,0));g.rc="Edit";var l=[];l.push(g);0!=e&&(h.rc="Delete",l.push(h));c.push(l);a[e].f(f);a[e].f(g);0!=e&&a[e].f(h);a[e].f(k);a[e].U(324,k.d().height+8);g.od((k.d().height+8)/2-10);h.od((k.d().height+
8)/2-10)}d=q.ea.create(q.h(70,200,70,255),90,26);e=q.R.create("+","Arial",20);e.n(45,13);e.L(q.a(0.5,0.5));d.n(q.a(120,0));d.rc="Add";d.f(e);c.push([d]);a.push(d);this.X=this.b.main_panel.list;var m=this;this.X.ne=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.X.Kd=function(){return a.length};this.X.$e=function(c){return a[c].d()};this.X.Ye=function(c){return a[c]};this.X.zc=function(a,c,d){m.Ca(d.K);if(!0!=m.Fn)switch(a){case "Delete":null!=m.za&&(m.za.uc(),
m.Xe=null,m.za.Q(),m.za=null,m.hb=null);m.Y.f(DropDownList.fe(m,m.dC,["Cancel","Delete"],d.K));m.hb=c;break;case "Edit":m.hb=c;m.kC(c);break;case "Add":m.SQ()}};this.X.oa=ListView.create(this.X);this.X.oa.ef(c);this.X.f(this.X.oa)},Nc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.k(0,0,0),position:q.a(8,312),c:q.a(0,0)},nameBox:{size:q.size(150,
32),s:q.h(255,255,255,255),position:q.a(8,277),c:q.a(0,0)},savebtn:{size:q.size(64,32),s:q.h(0,255,0,255),position:q.a(175,277),c:q.a(0,0),children:{content:{label:"Save",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),s:q.h(255,0,0,255),position:q.a(253,277),c:q.a(0,0),children:{content:{label:"Exit",color:q.k(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.k(0,0,0),position:q.a(8,254),c:q.a(0,0)},list:{size:q.size(324,250),
s:q.h(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},dC:function(a){switch(a){case 1:this.m.hb&&(this.m.data.objectiveList.splice(this.m.hb,1),this.m.$b(),this.m.hb=null)}},SQ:function(){this.data.objectiveList.push("Blank Objective");this.$b()},Xe:null,za:null,kC:function(a){null!=
this.za&&(this.za.uc(),this.Xe=null,this.za.Q(),this.hb=this.za=null);this.za=q.ea.create(q.h(255,255,255,200),200,200);this.za.n(q.a((this.b.main_panel.d().width-200)/2,(this.b.main_panel.d().height-200)/2));this.Xe=new $(this.za,q.size(190,150),q.a(0,this.za.d().height),this.data.objectiveList[a],q.h(100,100,100),q.k(255,255,255),!0);this.Xe.tb(!0);this.Xe.sK(!0);a=q.ea.create(q.h(0,200,255,255),64,32);a.n(q.a(14,9));var c=q.R.create("OK","Arial",16);c.l(q.k(0,0,0));c.n(32,16);c.L(q.a(0.5,0.5));
a.f(c);c=q.ea.create(q.h(200,0,0,255),64,32);c.n(q.a(120,9));var d=q.R.create("Cancel","Arial",16);d.l(q.k(0,0,0));d.n(32,16);d.L(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.za);this.za.f(a);this.za.aD=a;this.za.f(c);this.za.cancel=c},kb:function(a){if(this._super(a))return!0;this.yd=null;a=a.K;if(null!=this.za){a=this.za.Ca(a);if(O(this.za.aD,a))return this.data.objectiveList[this.hb]=this.Xe.T(),this.za.uc(),this.Xe=null,this.za.Q(),this.hb=this.za=null,this.$b(),!0;O(this.za.cancel,a)&&(this.za.uc(),
this.Xe=null,this.za.Q(),this.hb=this.za=null);return!0}a=this.b.main_panel.Ca(a);if(O(this.b.main_panel.savebtn,a)){if(null==this.Na.T()||""==this.Na.T())return!0;this.Af=!0;this.data.name=this.Na.T();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.exitbtn,a)){this.Af=!0;var c=this.m;this.m.Ac(function(){c.Yc(null)});return!0}return O(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,N:q.a(0,0),wc:"tiles",jJ:null,Aw:"ground1",Rb:I[0].name,S:0,Nc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,380),s:q.h(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(16,336),$:I[0].name},textureleftbtn:{position:q.a(360,344),size:q.size(16,32),s:L,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(472,344),
size:q.size(16,32),s:L,c:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(376,344),size:q.size(96,32),s:q.h(255,255,255,170),c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Erase",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,320),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,
255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Fill",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),s:Ga,c:q.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,
0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},groundShadowbtn:{position:q.a(360,218),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),
color:q.k(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,
0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringeShadowbtn:{position:q.a(360,38),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),s:L,c:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),
color:q.k(0,0,0)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),s:q.h(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),s:q.h(100,255,100,255)}}},tab2:{children:{blockbtn:{position:q.a(8,320),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Block",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},warpbtn:{position:q.a(8,280),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Warp",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,
16),color:q.k(0,0,0)}}},itembtn:{position:q.a(8,240),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Item",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},signbtn:{position:q.a(8,200),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Sign",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},npcbtn:{position:q.a(8,160),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"NPC",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,c:q.a(0,0),position:q.a(100,342)},amountLabel:{size:q.size(60,32),position:q.a(98,-1E6)}}},tab3:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),s:q.h(0,255,0,100),c:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),s:q.h(255,0,0,100),c:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),s:q.h(0,0,0,170),c:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,c:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},this_map:{position:q.a(70,248),size:q.size(60,60),s:L,c:q.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.oe(),fontSize:12,c:q.a(0.5,0.5),position:q.a(30,30),color:q.k(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Clear",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"NO",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},clearbtnYes:{position:q.a(130,
150),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"YES",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},savebtn:{position:q.a(70,90),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Save",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:q.a(0.5,0),position:q.a(100,122)},savebtnNo:{position:q.a(10,90),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"NO",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,
16),color:q.k(0,0,0)}}},savebtnYes:{position:q.a(130,90),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"YES",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.k(0,0,0)}}},saveOnExit:{position:q.a(40,30),size:q.size(120,32),s:L,c:q.a(0.5,0),children:{content:{label:"",fontSize:14,c:q.a(0.5,0.5),position:q.a(60,15),color:q.k(0,0,0)}}}}},tab1Clickable:{position:q.a(0,360),size:q.size(60,20),s:L,c:q.a(0,0),children:{text:{label:"Editor",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,
0,0)}}},tab2Clickable:{position:q.a(64,360),size:q.size(60,20),s:L,c:q.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab3Clickable:{position:q.a(128,360),size:q.size(60,20),s:L,c:q.a(0,0),children:{text:{label:"Settings",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,380),size:q.size(420,32),s:q.h(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.oe(),fontSize:20,c:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),c:q.a(0,0),s:q.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Mc:function(){return"MapEditor"},N:null,Os:null,Ls:null,Ms:null,Ns:null,bj:null,hf:null,Kc:0,Qg:null,t:function(a){this._super();this.map=a;this.N=q.a(0,0);this.hf=[null,496,200,200]},ya:function(){this._super();this.b.main_panel.tab1.highlightnode.ga(0);this.b.main_panel.tab1.selectednode.ga(0);
this.Os=new $(this.b.main_panel.tab3.mapUp_entry,q.size(this.b.main_panel.tab3.mapUp_entry.d().width,this.b.main_panel.tab3.mapUp_entry.d().height),q.a(0,this.b.main_panel.tab3.mapUp_entry.d().height),F.JI()?F.vI():"",q.h(100,100,100),q.k(255,255,255));this.Os.tb(!0);this.Os.Ad(!0);this.Ls=new $(this.b.main_panel.tab3.mapDown_entry,q.size(this.b.main_panel.tab3.mapDown_entry.d().width,this.b.main_panel.tab3.mapDown_entry.d().height),q.a(0,this.b.main_panel.tab3.mapDown_entry.d().height),F.HI()?F.tI():
"",q.h(100,100,100),q.k(255,255,255));this.Ls.tb(!0);this.Ls.Ad(!0);this.Ms=new $(this.b.main_panel.tab3.mapLeft_entry,q.size(this.b.main_panel.tab3.mapLeft_entry.d().width,this.b.main_panel.tab3.mapLeft_entry.d().height),q.a(0,this.b.main_panel.tab3.mapLeft_entry.d().height),F.II()?F.uI():"",q.h(100,100,100),q.k(255,255,255));this.Ms.tb(!0);this.Ms.Ad(!0);this.Ns=new $(this.b.main_panel.tab3.mapRight_entry,q.size(this.b.main_panel.tab3.mapRight_entry.d().width,this.b.main_panel.tab3.mapRight_entry.d().height),
q.a(0,this.b.main_panel.tab3.mapRight_entry.d().height),F.EC()?F.rC():"",q.h(100,100,100),q.k(255,255,255));this.Ns.tb(!0);this.Ns.Ad(!0);this.bj=new $(this.b.main_panel.tab2.amountLabel,q.size(this.b.main_panel.tab2.amountLabel.d().width,this.b.main_panel.tab2.amountLabel.d().height),q.a(0,this.b.main_panel.tab2.amountLabel.d().height),F.EC()?F.rC():"1",q.h(100,100,100),q.k(255,255,255));this.bj.tb(!0);this.bj.Ad(!0);this.Px(!1);this.Qx(!1);this.yx=v.JS();this.JK(this.yx);this.Og(1);this.nb();F.MK(!0)},
et:function(a,c){Warpeditor&&(Warpeditor.Pa(),this.Ac(function(){Warpeditor.Q();Warpeditor=null}),this.Qg=a,this.Ub(!0));Signeditor&&(Signeditor.Pa(),this.Ac(function(){Signeditor.Q();Signeditor=null}),this.Qg=a,this.Ub(!0));Itemeditor&&(Itemeditor.Pa(),this.Ac(function(){Itemeditor.Q();Itemeditor=null}),this.Qg=a,this.Ub(!0),this.bj.tc.Be("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.v(!0),this.b.main_panel.tab2.amountLabel.n(98,308)));NPCeditor&&(NPCeditor.Pa(),this.Ac(function(){NPCeditor.Q();
NPCeditor=null}),this.Qg=a,this.Ub(!0))},Pa:function(){this._super();!0==this.yx&&(F.AK({up:this.Os.T(),down:this.Ls.T(),left:this.Ms.T(),right:this.Ns.T()}),F.zL());F.MK(!1)},ji:function(a){a=a.K;if(1==this.Kc&&(this.b.main_panel.tab1.highlightnode.ga(0),a=this.b.main_panel.tab1.tiles.Ca(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ga(127),this.b.main_panel.tab1.highlightnode.n(a),
!0},Og:function(a){if(a!=this.Kc){this.b.main_panel.U(this.hf[a],this.b.main_panel.d().height);this.b.control_panel.U(this.hf[a],this.b.control_panel.d().height);if(3==this.Kc||0==this.Kc)this.b.main_panel.tab3.mapUp_entry.mb(this.b.main_panel.tab3.mapUp_entry.q.F-1E3),this.b.main_panel.tab3.mapLeft_entry.mb(this.b.main_panel.tab3.mapLeft_entry.q.F-1E3),this.b.main_panel.tab3.mapDown_entry.mb(this.b.main_panel.tab3.mapDown_entry.q.F-1E3),this.b.main_panel.tab3.mapRight_entry.mb(this.b.main_panel.tab3.mapRight_entry.q.F-
1E3);1!=this.Kc||"erasing"!=this.wc&&"tiles"!=this.wc||(this.wc="blocking");2==this.Kc&&"blocking"==this.wc&&(this.wc="tiles");this.Kc=a;this.b.main_panel.tab1.v(!1);this.b.main_panel.tab2.v(!1);this.b.main_panel.tab3.v(!1);this.b.main_panel.tab1Clickable.l(L);this.b.main_panel.tab2Clickable.l(L);this.b.main_panel.tab3Clickable.l(L);this.b.main_panel["tab"+a].v(!0);this.b.main_panel["tab"+a+"Clickable"].l(q.h(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.mb(this.b.main_panel.tab3.mapUp_entry.q.F+
1E3),this.b.main_panel.tab3.mapLeft_entry.mb(this.b.main_panel.tab3.mapLeft_entry.q.F+1E3),this.b.main_panel.tab3.mapDown_entry.mb(this.b.main_panel.tab3.mapDown_entry.q.F+1E3),this.b.main_panel.tab3.mapRight_entry.mb(this.b.main_panel.tab3.mapRight_entry.q.F+1E3));this.b.control_panel.exitBtn.mb(this.hf[a]-29)}},JK:function(a){v.SW(a);this.yx=a;this.b.main_panel.tab3.saveOnExit.l(q.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.da("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.l(q.k(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.da("Save on exit: YES")},nb:function(){this.mc(this.nb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().pc&&(this.$c(this.nb),this.b.main_panel.tab1.tiles.Mb(q.rect(Math.floor(32*this.N.x),Math.floor(32*this.N.y),320>I[this.S].texture.d().width?I[this.S].texture.d().width:320,320>I[this.S].texture.d().height?I[this.S].texture.d().height:320)))},kb:function(a){if(this._super(a))return!0;this.yd=null;a=a.K;var c=this.b.main_panel.Ca(a);
if(O(this.b.main_panel.tab1Clickable,c))return this.Og(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Og(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Og(3),!0;if(1==this.Kc){if(O(this.b.main_panel.tab1.leftbtn,c))return 320<I[this.S].texture.d().width&&0<this.N.x&&(this.N.x--,this.nb()),!0;if(O(this.b.main_panel.tab1.rightbtn,c))return 320<I[this.S].texture.d().width&&this.N.x<(I[this.S].texture.d().width-320)/32&&(this.N.x++,this.nb()),!0;if(O(this.b.main_panel.tab1.upbtn,
c))return 320<I[this.S].texture.d().height&&0<this.N.y&&(this.N.y--,this.nb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<I[this.S].texture.d().height&&this.N.y<(I[this.S].texture.d().height-320)/32&&(this.N.y++,this.nb()),!0;if(O(this.b.main_panel.tab1.ground1btn,c))return this.hj("ground1"),!0;if(O(this.b.main_panel.tab1.ground2btn,c))return this.hj("ground2"),!0;if(O(this.b.main_panel.tab1.groundShadowbtn,c))return this.hj("groundShadow"),!0;if(O(this.b.main_panel.tab1.mask1btn,c))return this.hj("mask1"),
!0;if(O(this.b.main_panel.tab1.mask2btn,c))return this.hj("mask2"),!0;if(O(this.b.main_panel.tab1.mask3btn,c))return this.hj("mask3"),!0;if(O(this.b.main_panel.tab1.fringe1btn,c))return this.hj("fringe1"),!0;if(O(this.b.main_panel.tab1.fringe2btn,c))return this.hj("fringe2"),!0;if(O(this.b.main_panel.tab1.fringeShadowbtn,c))return this.hj("fringeShadow"),!0;if(O(this.b.main_panel.tab1.fringe3btn,c))return this.hj("fringe3"),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Ln(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,
c))return this.Mn(),!0;if(O(this.b.main_panel.tab1.deletebtn,c))return this.wc="erasing"==this.wc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.l(L),"erasing"==this.wc&&this.b.main_panel.tab1.deletebtn.l(N),!0;if(O(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Xi()&&(F.sS(I[this.S].name,q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.N.x,9-(this.b.main_panel.tab1.selectednode.q.H-16)/32+this.N.y),this.Aw),F.nt()),!0;c=this.b.main_panel.tab1.tiles.Ca(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.d().width&&c.y<=this.b.main_panel.tab1.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ga(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ga(127),this.b.main_panel.tab1.selectednode.n(c);return!0}}if(2==this.Kc){if(O(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.l(L),this.b.main_panel.tab2.signbtn.l(L),
this.b.main_panel.tab2.npcbtn.l(L),this.b.main_panel.tab2.itembtn.l(L),this.b.main_panel.tab2.blockbtn.l(L),this.wc="blocking"==this.wc?"tiles":"blocking","blocking"==this.wc&&(this.b.main_panel.tab2.blockbtn.l(N),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E5)),!0;if(O(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.l(L),this.b.main_panel.tab2.signbtn.l(L),this.b.main_panel.tab2.npcbtn.l(L),this.b.main_panel.tab2.itembtn.l(L),this.b.main_panel.tab2.blockbtn.l(L),
this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.wc="warping"==this.wc?"tiles":"warping","warping"==this.wc&&(null==Warpeditor||Warpeditor.Y||(Warpeditor=null),Warpeditor&&(Warpeditor.Pa(),Warpeditor.Q(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.t({m:this,sh:new WarpEditor,list:ObjectLists.$m(),name:"Warp List"}),Warpeditor.ya(),this.Y.f(Warpeditor),this.Ub(!1),this.b.main_panel.tab2.warpbtn.l(N),this.b.main_panel.tab2.amountLabelHead.v(!1),
this.b.main_panel.tab2.amountLabel.n(68,-1E5)),!0;if(O(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.l(L),this.b.main_panel.tab2.warpbtn.l(L),this.b.main_panel.tab2.npcbtn.l(L),this.b.main_panel.tab2.itembtn.l(L),this.b.main_panel.tab2.blockbtn.l(L),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.wc="signs"==this.wc?"tiles":"signs","signs"==this.wc&&(null==Signeditor||Signeditor.Y||(Signeditor=null),Signeditor&&(Signeditor.Pa(),
Signeditor.Q(),Signeditor=null),Signeditor=new PopupList,Signeditor.t({m:this,sh:new SignEditor,list:ObjectLists.As(),name:"Sign List"}),Signeditor.ya(),this.Y.f(Signeditor),this.Ub(!1),this.b.main_panel.tab2.signbtn.l(N)),!0;if(O(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.l(L),this.b.main_panel.tab2.warpbtn.l(L),this.b.main_panel.tab2.npcbtn.l(L),this.b.main_panel.tab2.itembtn.l(L),this.b.main_panel.tab2.blockbtn.l(L),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,
-1E6),this.wc="npcs"==this.wc?"tiles":"npcs","npcs"==this.wc&&(null==NPCeditor||NPCeditor.Y||(NPCeditor=null),NPCeditor&&(NPCeditor.Pa(),NPCeditor.Q(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.t({m:this,sh:new NPCEditor,list:ObjectLists.kl(),name:"NPC List"}),NPCeditor.ya(),this.Y.f(NPCeditor),this.Ub(!1),this.b.main_panel.tab2.npcbtn.l(N)),!0;if(O(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.l(L),this.b.main_panel.tab2.itembtn.l(L),this.b.main_panel.tab2.npcbtn.l(L),
this.b.main_panel.tab2.blockbtn.l(L),this.b.main_panel.tab2.amountLabelHead.v(!1),this.b.main_panel.tab2.amountLabel.n(68,-1E6),this.wc="items"==this.wc?"tiles":"items","items"==this.wc&&(null==Itemeditor||Itemeditor.Y||(Itemeditor=null),Itemeditor&&(Itemeditor.Pa(),Itemeditor.Q(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.t({m:this,sh:new ItemEditor,list:ObjectLists.ci(),name:"Item List"}),Itemeditor.ya(),this.Y.f(Itemeditor),this.Ub(!1),this.b.main_panel.tab2.itembtn.l(N)),!0}if(3==this.Kc){if(O(this.b.main_panel.tab3.clearbtn,
c))return this.Px(!0),!0;if(O(this.b.main_panel.tab3.clearbtnNo,c))return this.Px(!1),!0;if(O(this.b.main_panel.tab3.clearbtnYes,c))return F.Jd(),this.Px(!1),!0;if(O(this.b.main_panel.tab3.savebtn,c))return this.Qx(!0),!0;if(O(this.b.main_panel.tab3.savebtnNo,c))return this.Qx(!1),!0;if(O(this.b.main_panel.tab3.savebtnYes,c))return F.AK({up:this.Os.T(),down:this.Ls.T(),left:this.Ms.T(),right:this.Ns.T()}),F.zL(),this.Qx(!1),!0;if(O(this.b.main_panel.tab3.saveOnExit,c))return this.JK(!this.yx),!0}return!1},
hj:function(a){this.b.main_panel.tab1.ground1btn.l(L);this.b.main_panel.tab1.ground2btn.l(L);this.b.main_panel.tab1.groundShadowbtn.l(L);this.b.main_panel.tab1.mask1btn.l(L);this.b.main_panel.tab1.mask2btn.l(L);this.b.main_panel.tab1.mask3btn.l(L);this.b.main_panel.tab1.fringe1btn.l(L);this.b.main_panel.tab1.fringe2btn.l(L);this.b.main_panel.tab1.fringeShadowbtn.l(L);this.b.main_panel.tab1.fringe3btn.l(L);this.b.main_panel.tab1[a+"btn"].l(Ga);this.Aw=a},Ln:function(){this.S>=I.length-1&&(this.S=-1);
this.S++;this.b.main_panel.tab1.tiles.ba(I[this.S].texture);this.Rb=I[this.S].name;this.b.main_panel.tab1.textureName.text.da(this.Rb);this.N=q.a(0,0);this.nb()},Mn:function(){0>=this.S&&(this.S=I.length);this.S--;this.b.main_panel.tab1.tiles.ba(I[this.S].texture);this.Rb=I[this.S].name;this.b.main_panel.tab1.textureName.text.da(this.Rb);this.N=q.a(0,0);this.nb()},Px:function(a){this.b.main_panel.tab3.clearbtnYes.v(a);this.b.main_panel.tab3.clearbtnNo.v(a);this.b.main_panel.tab3.clear_text.v(a);this.b.main_panel.tab3.clearbtn.v(!a)},
Qx:function(a){this.b.main_panel.tab3.savebtnYes.v(a);this.b.main_panel.tab3.savebtnNo.v(a);this.b.main_panel.tab3.save_text.v(a);this.b.main_panel.tab3.savebtn.v(!a)},nL:function(a,c,d){if(a[c]==this.jJ&&"moved"==d)return!1;this.jJ=a[c];switch(this.wc){case "tiles":0!=this.b.main_panel.tab1.selectednode.Xi()&&F.mk(c,I[this.S].name,q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.N.x,9-(this.b.main_panel.tab1.selectednode.q.H-16)/32+this.N.y),this.Aw);break;case "blocking":if(1!=a[c].lc()){F.fj(c,
1);break}F.fj(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.Y){if(3!=a[c].lc()){F.fj(c,3,this.Qg);break}F.fj(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.Y){if(7!=a[c].lc()){F.fj(c,7,this.Qg);break}F.fj(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.Y){if(4!=a[c].lc()){F.fj(c,4,this.Qg,{amount:this.bj.T()});break}F.fj(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.Y){if(5!=a[c].lc()){F.fj(c,5,this.Qg);break}F.fj(c,0,null)}break;case "erasing":F.gC(c,
this.Aw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Rb:J[0].name,S:0,Nc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,396),s:q.h(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(48,320),$:J[0].name},textureleftbtn:{position:q.a(32,340),size:q.size(16,32),s:L,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(144,340),size:q.size(16,32),s:L,c:q.a(0,0),
children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(48,340),size:q.size(96,32),s:q.h(255,255,255,170),c:q.a(0,0),children:{text:{label:J[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},upbtn:{position:q.a(48,320),size:q.size(96,16),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(48,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(48,48),size:q.size(96,
16),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(48,8),color:q.k(255,255,255)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(96,128),s:q.h(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(96,128),s:q.h(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:q.a(144,0),size:q.size(250,366),s:q.h(0,0,255,100),c:q.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,
32),position:q.a(4,312)}}},tab3:{},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),s:L,c:q.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),s:L,c:q.a(0,0),children:{text:{label:"Details",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab3Clickable:{position:q.a(128,376),size:q.size(60,20),s:L,c:q.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:q.a(0.5,0.5),
position:q.a(32,10),color:q.k(0,0,0)}}},okbtn:{position:q.a(104,8),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"OK",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}},cancelbtn:{position:q.a(32,8),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,396),size:q.size(420,32),s:q.h(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),c:q.a(0,0),s:q.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Mc:function(){return"npcEditor"},Na:null,hf:null,Kc:0,m:null,data:null,t:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Rb=J[0].name;this.S=0;this.hf=this.Na=null;this.Kc=0;this.m=null;this.N=q.a(0,0);this.hf=[null,190,400,200];this.m=a.m;a&&a.data&&(this.data=
a.data)},ej:function(a){G({savenpcs:a+"",npcsdata:this.data})},Ui:function(a,c){G({savenpcswhole:c})},ya:function(){this._super();this.b.main_panel.tab1.highlightnode.ga(0);this.b.main_panel.tab1.selectednode.ga(127);for(var a in J)J[a].name==this.data.sprite.texture&&(this.S=a,this.Rb=J[a].name);this.b.main_panel.tab1.textureName.text.da(this.Rb);this.b.main_panel.tab1.tiles.ba(J[this.S].texture);this.Na=new $(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.d().width,this.b.main_panel.tab2.name_entry.d().height),
q.a(0,this.b.main_panel.tab2.name_entry.d().height),this.data.name?this.data.name:"",q.h(100,100,100),q.k(255,255,255));this.Na.tb(!0);this.Og(1);this.nb()},vX:function(){},Pa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Ac(function(){c.Yc(null)})}},ji:function(a){a=a.K;if(1==this.Kc&&(this.b.main_panel.tab1.highlightnode.ga(0),a=this.b.main_panel.tab1.tiles.Ca(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=
a.x-a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.ga(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Og:function(a){a!=this.Kc&&(this.b.main_panel.U(this.hf[a],this.b.main_panel.d().height),this.b.control_panel.U(this.hf[a],this.b.control_panel.d().height),this.b.main_panel.tab2.name_entry.mb(this.b.main_panel.tab2.name_entry.q.F-1E3),this.Kc=a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab3.v(!1),this.b.main_panel.tab1Clickable.l(L),this.b.main_panel.tab2Clickable.l(L),
this.b.main_panel.tab3Clickable.l(L),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].l(q.h(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.mb(4),this.b.control_panel.exitBtn.mb(this.hf[a]-29))},nb:function(){this.mc(this.nb);this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().pc&&(this.$c(this.nb),this.b.main_panel.tab1.tiles.Mb(q.rect(Math.floor(96*this.N.x),Math.floor(128*this.N.y),96>J[this.S].texture.d().width?J[this.S].texture.d().width:96,
256>J[this.S].texture.d().height?J[this.S].texture.d().height:256)))},kb:function(a){if(this._super(a))return!0;this.yd=null;a=a.K;var c=this.b.main_panel.Ca(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Og(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Og(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Og(3),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Na.T()||""==this.Na.T())return!0;this.Af=!0;this.data.name=this.Na.T();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,
c)){this.Af=!0;var d=this.m;this.m.Ac(function(){d.Yc(null)});return!0}if(1==this.Kc){if(O(this.b.main_panel.tab1.upbtn,c))return 320<J[this.S].texture.d().height&&0<this.N.y&&(this.N.y--,this.nb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<J[this.S].texture.d().height&&this.N.y<(J[this.S].texture.d().height-320)/32&&(this.N.y++,this.nb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Ln(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Mn(),!0;c=this.b.main_panel.tab1.tiles.Ca(a);
if(O(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.ga(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ga(127),this.b.main_panel.tab1.selectednode.n(c);a=q.a((this.b.main_panel.tab1.selectednode.q.F-16)/96+this.N.x,8-(this.b.main_panel.tab1.selectednode.q.H-64)/128+this.N.y-1);this.data.sprite.position=a;return!0}}return!1},jL:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.l(N);this.b.main_panel.tab2.stackbtn.text.da("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.l(Ga),this.b.main_panel.tab2.stackbtn.text.da("IS STACKABLE"))},W$:function(a){this.b.main_panel.tab2.wearabletab.head.l(L);this.b.main_panel.tab2.wearabletab.body.l(L);this.b.main_panel.tab2.wearabletab.legs.l(L);this.b.main_panel.tab2.wearabletab.feet.l(L);this.b.main_panel.tab2.wearabletab.rarm.l(L);this.b.main_panel.tab2.wearabletab.larm.l(L);
this.b.main_panel.tab2.wearabletab.mod.l(L);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].l(N);this.data.subType=a},Ln:function(){this.S>=J.length-1&&(this.S=-1);this.S++;this.b.main_panel.tab1.tiles.ba(J[this.S].texture);this.Rb=J[this.S].name;this.b.main_panel.tab1.textureName.text.da(this.Rb);this.data.sprite.texture=this.Rb;this.N=q.a(0,0);this.nb()},Mn:function(){0>=this.S&&(this.S=J.length);this.S--;this.b.main_panel.tab1.tiles.ba(J[this.S].texture);
this.Rb=J[this.S].name;this.b.main_panel.tab1.textureName.text.da(this.Rb);this.N=q.a(0,0);this.nb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Rb:I[0].name,S:0,Nc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,396),s:q.h(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(16,320),$:I[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),s:L,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),s:L,c:q.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.k(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),s:q.h(255,255,255,170),c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.k(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},rightbtn:{position:q.a(336,64),size:q.size(16,
252),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.k(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),s:q.h(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.k(255,255,255)}}},highlightnode:{c:q.a(0,
0),position:q.a(0,0),size:q.size(32,32),s:q.h(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),s:q.h(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{c:q.a(0,1),position:q.a(55,150),$:I[0].name},healthbtn:{position:q.a(8,
265),size:q.size(128,26),s:N,c:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.k(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),s:L,c:q.a(0,0),children:{text:{label:"Icon",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),s:L,c:q.a(0,0),children:{text:{label:"Details",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.k(0,0,0)}}},okbtn:{position:q.a(76,
8),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"OK",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),s:L,c:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.k(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,396),size:q.size(420,32),s:q.h(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,
26),c:q.a(0,0),s:q.h(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.k(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Mc:function(){return"SkillsEditor"},Na:null,Fp:null,hf:null,Kc:0,m:null,data:null,t:function(a){this._super();this.data={sprite:{texture:I[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Rb=I[0].name;this.S=0;this.hf=this.Na=null;this.Kc=0;this.m=null;this.N=q.a(0,0);this.hf=[null,352,142];this.m=a.m;a&&a.data&&(this.data=a.data)},ej:function(a){G({saveskills:a+
"",skillsdata:this.data})},Ui:function(a,c){G({saveskillswhole:c})},ya:function(){this._super();this.b.main_panel.tab1.highlightnode.ga(0);this.b.main_panel.tab1.selectednode.ga(127);for(var a in I)I[a].name==this.data.sprite.texture&&(this.S=a,this.Rb=I[a].name);this.b.main_panel.tab1.textureName.text.da(this.Rb);this.b.main_panel.tab1.tiles.ba(I[this.S].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.N.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.N.y++;a=q.a(32*(this.data.sprite.position.x-
this.N.x),32*(this.data.sprite.position.y-this.N.y));this.b.main_panel.tab1.selectednode.n(this.b.main_panel.tab1.tiles.q.x+a.x,this.b.main_panel.tab1.tiles.q.y-(a.y+32));this.b.main_panel.tab2.tile.ba(I[this.S].texture);this.b.main_panel.tab2.tile.Mb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Na=new $(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.d().width,this.b.main_panel.tab2.name_entry.d().height),q.a(0,
this.b.main_panel.tab2.name_entry.d().height),this.data.name?this.data.name:"",q.h(100,100,100),q.k(255,255,255));this.Na.tb(!0);this.Fp=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.d().width,this.b.main_panel.tab2.healthcolor_entry.d().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.d().height),this.data.healthbar?this.data.healthbar:"",q.h(100,100,100),q.k(255,255,255));this.Fp.tb(!0);this.b.main_panel.tab2.healthbtn.l(N);this.b.main_panel.tab2.healthbtn.text.da("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(Ga),this.b.main_panel.tab2.healthbtn.text.da("IS HEALTHBAR"));this.Og(1);this.nb()},vX:function(){},Pa:function(a){this._super();if(this.m){var c=this.m;!0!=a&&this.m.Ac(function(){c.Yc(null)})}},ji:function(a){a=a.K;if(1==this.Kc&&(this.b.main_panel.tab1.highlightnode.ga(0),a=this.b.main_panel.tab1.tiles.Ca(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ga(127),this.b.main_panel.tab1.highlightnode.n(a),!0},Og:function(a){a!=this.Kc&&(this.b.main_panel.U(this.hf[a],this.b.main_panel.d().height),this.b.control_panel.U(this.hf[a],this.b.control_panel.d().height),this.b.main_panel.tab2.name_entry.mb(this.b.main_panel.tab2.name_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_entry.mb(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3),this.b.main_panel.tab2.healthcolor_text.v(!1),this.Kc=
a,this.b.main_panel.tab1.v(!1),this.b.main_panel.tab2.v(!1),this.b.main_panel.tab1Clickable.l(L),this.b.main_panel.tab2Clickable.l(L),this.b.main_panel["tab"+a].v(!0),this.b.main_panel["tab"+a+"Clickable"].l(q.h(255,255,0,255)),this.b.control_panel.exitBtn.mb(this.hf[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.mb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.mb(4),this.b.main_panel.tab2.healthcolor_text.v(!0)))},nb:function(){this.mc(this.nb);
this.b.main_panel.tab1.tiles.aa()&&!0==this.b.main_panel.tab1.tiles.aa().pc&&(this.$c(this.nb),this.b.main_panel.tab1.tiles.Mb(q.rect(Math.floor(32*this.N.x),Math.floor(32*this.N.y),320>I[this.S].texture.d().width?I[this.S].texture.d().width:320,256>I[this.S].texture.d().height?I[this.S].texture.d().height:256)))},kb:function(a){if(this._super(a))return!0;this.yd=null;a=a.K;var c=this.b.main_panel.Ca(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Og(1),!0;if(O(this.b.main_panel.tab2Clickable,
c))return this.Og(2),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Na.T()||""==this.Na.T())return!0;this.Af=!0;this.data.name=this.Na.T();if(null!=this.Fp.T()||""!=this.Fp.T())this.data.healthbar=this.Fp.T();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.Af=!0;var d=this.m;this.m.Ac(function(){d.Yc(null)});return!0}if(1==this.Kc){if(O(this.b.main_panel.tab1.leftbtn,c))return 264<I[this.S].texture.d().width&&0<this.N.x&&(this.N.x--,this.nb()),!0;if(O(this.b.main_panel.tab1.rightbtn,
c))return 320<I[this.S].texture.d().width&&this.N.x<(I[this.S].texture.d().width-320)/32&&(this.N.x++,this.nb()),!0;if(O(this.b.main_panel.tab1.upbtn,c))return 320<I[this.S].texture.d().height&&0<this.N.y&&(this.N.y--,this.nb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<I[this.S].texture.d().height&&this.N.y<(I[this.S].texture.d().height-320)/32&&(this.N.y++,this.nb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.Ln(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.Mn(),
!0;c=this.b.main_panel.tab1.tiles.Ca(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.d().width&&c.y<=this.b.main_panel.tab1.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ga(0);if(this.b.main_panel.tab1.selectednode.q.F!=c.x||this.b.main_panel.tab1.selectednode.q.H!=c.y)this.b.main_panel.tab1.selectednode.ga(127),this.b.main_panel.tab1.selectednode.n(c);a=q.a((this.b.main_panel.tab1.selectednode.q.F-16)/32+this.N.x,8-(this.b.main_panel.tab1.selectednode.q.H-
64)/32+this.N.y-1);this.b.main_panel.tab2.tile.Mb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Kc&&O(this.b.main_panel.tab2.healthbtn,c)?(this.XX(),!0):!1},XX:function(){this.b.main_panel.tab2.healthcolor_entry.mb(this.b.main_panel.tab2.healthcolor_entry.q.F-1E3);this.b.main_panel.tab2.healthcolor_text.v(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.Fp.Be("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.mb(4),
this.b.main_panel.tab2.healthcolor_text.v(!0));this.b.main_panel.tab2.healthbtn.l(N);this.b.main_panel.tab2.healthbtn.text.da("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.l(Ga),this.b.main_panel.tab2.healthbtn.text.da("IS HEALTHBAR"))},Ln:function(){this.S>=I.length-1&&(this.S=-1);this.S++;this.b.main_panel.tab1.tiles.ba(I[this.S].texture);this.b.main_panel.tab2.tile.ba(I[this.S].texture);this.Rb=I[this.S].name;this.b.main_panel.tab1.textureName.text.da(this.Rb);
this.data.sprite.texture=this.Rb;this.N=q.a(0,0);this.nb()},Mn:function(){0>=this.S&&(this.S=I.length);this.S--;this.b.main_panel.tab1.tiles.ba(I[this.S].texture);this.b.main_panel.tab2.tile.ba(I[this.S].texture);this.Rb=I[this.S].name;this.b.main_panel.tab1.textureName.text.da(this.Rb);this.N=q.a(0,0);this.nb()}});PopupList=Popup.extend({Wf:null,Lc:[],YC:null,Fn:!1,xx:-1,p8:0,RH:null,X:null,GI:!1,Pa:function(){this._super();this.m&&(this.m.Ub(!0),!this.GI&&this.m.EK&&this.m.EK(null,null))},t:function(a){this._super();this.Wf=null;this.Lc=[];this.YC=null;this.Fn=!1;this.xx=-1;this.Wf=a.sh;a.list&&(this.Lc=a.list);this.YC=a.name;this.m=a.m},ya:function(){this._super();this.$b()},X:null,$b:function(){this.X&&this.X.oa.Q();var a=[],c=[],d=q.ia.e();this.RH={};for(var e in this.Lc)if(a[e]=q.D.create(),a[e].U(324,
32),null==this.Lc[e])this.Lc.splice(e,1);else{if(null!=this.m){var f=q.A.gb(d.pa("GUI/use.png"));f.n(q.a(244,6));f.L(q.a(0,0))}var g=q.ea.create(q.h(0,0,0,127),316,1);g.n(q.a(4,0));var h=q.R.create(this.Lc[e].name,"Arial",20);h.L(q.a(0,0.5));h.n(q.a(0,16));var k=q.A.gb(d.pa("GUI/edit.png"));k.n(q.a(272,6));k.L(q.a(0,0));var l=q.A.gb(d.pa("GUI/trash.png"));l.n(q.a(300,6));l.L(q.a(0,0));k.rc="Edit";var m=[];m.push(k);l.rc="Delete";m.push(l);null!=this.m&&(f.rc="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);
a[e].f(k);a[e].f(l);null!=this.m&&a[e].f(f)}d=q.ea.create(q.h(70,200,70,255),90,26);e=q.R.create("+","Arial",20);e.n(45,13);e.L(q.a(0.5,0.5));d.n(q.a(120,0));d.rc="Add";d.f(e);c.push([d]);a.push(d);this.X=this.b.main_panel.list;var n=this;this.X.ne=function(){return q.size(324,32*a.length)};this.X.Kd=function(){return a.length};this.X.$e=function(c){return a[c].d()};this.X.Ye=function(c){return a[c]};this.X.zc=function(a,c,d){n.Ca(d.K);if(!0!=n.Fn)switch(a){case "Delete":n.Y.f(DropDownList.fe(n,n.dC,
["Cancel","Delete"],d.K));n.hb=c;break;case "Edit":n.Wf.Y&&n.Wf.Q();n.Fn=!0;n.Wf.t({m:n,data:n.Lc[c]});n.Y.f(n.Wf);n.Ub(!1);n.Wf.ya();n.xx=c+"";break;case "Add":n.CH=!0;n.Fn=!0;n.xx=n.Lc.length;n.Wf.t({m:n,data:null});n.Ub(!1);n.Y.f(n.Wf);n.Wf.ya();break;case "Use":n.m.et(c,n.Lc[c]),n.GI=!0}};this.X.oa=ListView.create(this.X);this.X.oa.ef(c);this.X.f(this.X.oa)},Nc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),
size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.YC,fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},hb:null,dC:function(a){switch(a){case 1:null!=this.m.hb&&(this.m.RR(this.m.hb),this.m.hb=null)}},kb:function(a){if(this._super(a))return!0;this.yd=null;a=this.b.main_panel.Ca(a.K);return O(this.b.main_panel,
a)?!0:!1},Yc:function(a){a&&(this.Wf.ej(this.xx),this.CH&&(this.Lc.push(a),this.$b()));this.Ub(!0);this.Fn=this.CH=!1;var c=this;this.Ac(function(){c.Wf.Pa(!0);c.Wf.Q()})},RR:function(a){this.Lc.splice(a,1);this.Wf.Ui(a,this.Lc);this.$b()}});Warpeditor=null;
WarpEditor=Popup.extend({Mc:function(){return"WarpEditor"},ej:function(a){G({savewarps:a+"",warpdata:this.data})},Ui:function(a,c){G({savewarpswhole:c})},Nc:function(){return{panels:{position:q.a(300,200),children:{background:{$:"GUI/warpeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(180,160),children:{okbtn:{position:q.a(114,16),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(34,16),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,c:q.a(0,0),position:q.a(20,140),color:q.k(0,0,0)},nameEntry:{position:q.a(16,110),size:q.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:q.a(0,0),position:q.a(20,90),color:q.k(0,0,0)},mapNumEntry:{position:q.a(16,60),size:q.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:q.a(0,0),position:q.a(80,90),color:q.k(0,0,0)},mapXEntry:{position:q.a(76,60),size:q.size(36,30)},mapylbl:{label:"y",fontSize:12,c:q.a(0,0),position:q.a(130,90),color:q.k(0,0,0)},mapYEntry:{position:q.a(126,60),size:q.size(36,
30)}}},control_panel:{c:q.a(0,0),position:q.a(0,160),size:q.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(156,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},Na:null,Op:null,Pp:null,Qp:null,m:null,data:null,t:function(a){this._super();this.m=this.Qp=this.Pp=this.Op=this.Na=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.m=a.m},ya:function(){this._super();var a=this.data.position%S,c=Math.floor(this.data.position/
S);this.Na=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.h(100,100,100),q.k(255,255,255));this.Na.tb(!0);this.Op=new $(this.b.main_panel.mapNumEntry,q.size(this.b.main_panel.mapNumEntry.d().width,this.b.main_panel.mapNumEntry.d().height),q.a(0,this.b.main_panel.mapNumEntry.d().height),""+this.data.mapTo,q.h(100,100,100),q.k(255,255,255));this.Op.tb(!0);this.Pp=new $(this.b.main_panel.mapXEntry,
q.size(this.b.main_panel.mapXEntry.d().width,this.b.main_panel.mapXEntry.d().height),q.a(0,this.b.main_panel.mapXEntry.d().height),""+a,q.h(100,100,100),q.k(255,255,255));this.Pp.tb(!0);this.Qp=new $(this.b.main_panel.mapYEntry,q.size(this.b.main_panel.mapYEntry.d().width,this.b.main_panel.mapYEntry.d().height),q.a(0,this.b.main_panel.mapYEntry.d().height),""+c,q.h(100,100,100),q.k(255,255,255));this.Qp.tb(!0)},kb:function(a){if(this._super(a))return!0;this.yd=null;a=this.b.main_panel.Ca(a.K);if(O(this.b.main_panel.okbtn,
a)){if(null==this.Na.T()||""==this.Na.T()||null==this.Op.T()||""==this.Op.T()||null==this.Pp.T()||""==this.Pp.T()||null==this.Qp.T()||""==this.Qp.T())return!0;this.Af=!0;this.data.position=T(parseInt(this.Pp.T()),Pa-parseInt(this.Qp.T()));this.data.mapTo=parseInt(this.Op.T());this.data.name=this.Na.T();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Af=!0;var c=this.m;this.m.Ac(function(){c.Yc(null)});return!0}},Pa:function(a){this._super();var c=this.m;a||this.m.Ac(function(){c.Yc(null)})}});Signeditor=null;
SignEditor=Popup.extend({Mc:function(){return"SignEditor"},ej:function(a){G({savesigns:a+"",signsdata:this.data})},Ui:function(a,c){G({savesignswhole:c})},Nc:function(){return{panels:{position:q.a(300,200),children:{background:{$:"GUI/signeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(142,256),children:{okbtn:{position:q.a(88,16),size:q.size(32,32),$:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(22,16),size:q.size(32,32),$:"GUI/cross_icon.png",c:q.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,c:q.a(0,0),position:q.a(6,238),color:q.k(0,0,0)},nameEntry:{position:q.a(4,206),size:q.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:q.a(0,0),position:q.a(6,190),color:q.k(0,0,0)},signEntry:{position:q.a(4,60),size:q.size(120,128)}}},control_panel:{c:q.a(0,0),position:q.a(0,256),size:q.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(118,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},Na:null,cq:null,
m:null,data:null,t:function(a){this._super();this.m=this.cq=this.Na=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.m=a.m},ya:function(){this._super();this.Na=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.h(100,100,100),q.k(255,255,255));this.Na.tb(!0);this.cq=new $(this.b.main_panel.signEntry,q.size(this.b.main_panel.signEntry.d().width,this.b.main_panel.signEntry.d().height),
q.a(0,this.b.main_panel.signEntry.d().height),""+this.data.label,q.h(100,100,100),q.k(255,255,255),!0);this.cq.tb(!0)},kb:function(a){if(this._super(a))return!0;this.yd=null;a=this.b.main_panel.Ca(a.K);if(O(this.b.main_panel.okbtn,a)){if(null==this.Na.T()||""==this.Na.T()||null==this.cq.T()||""==this.cq.T())return!0;this.Af=!0;this.data.label=this.cq.T();this.data.name=this.Na.T();this.m.Yc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.Af=!0;var c=this.m;this.m.Ac(function(){c.Yc(null)});
return!0}},Pa:function(a){this._super();var c=this.m;a||this.m.Ac(function(){c.Yc(null)})}});var Na=Qa.extend({ctor:function(){this._super()},DL:function(){this._super()},ya:function(){this._super()},Pa:function(){this._super()},kb:function(a){q.ab(this.b.health_panel.Xa(),a.K)&&w.e().ml("Game")},t:function(){var a=q.R.create("ITS WOKKIN!","Arial",16);a.l(q.k(0,0,0));a.n(q.a(200,200));this.f(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,X:null,hb:null,Mc:function(){return"Credits"},Pa:function(){this._super()},t:function(){this._super();this.data={"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.","Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.",
"Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.","Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},ej:function(a){G({savequests:a+
"",questdata:this.data})},Ui:function(a,c){G({savequestswhole:c})},ya:function(){this._super();this.$b()},$b:function(){this.X&&this.X.uc();var a=[],c=[];q.ia.e();var d=0,e;for(e in this.data){a[d]=q.D.create();a[d].U(324,32);var f=q.R.create(e,"Arial",18);f.L(q.a(0,0));f.n(q.a(4,0));f.nc(q.size(246,0));f.l(q.k(100,0,0));a[d].f(f);a[d].U(324,f.d().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.D.create();a[d].U(324,32);var h=q.ea.create(q.h(0,0,0,127),316,1);h.n(q.a(4,0));var k=q.R.create(this.data[e][g],
"Arial",15);k.l(q.k(0,0,0));k.L(q.a(0,0));k.n(q.a(4,4));k.nc(q.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].U(324,k.d().height+8);d++}}this.X=this.b.main_panel.list;this.X.ne=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.X.Kd=function(){return a.length};this.X.$e=function(c){return a[c].d()};this.X.Ye=function(c){return a[c]};this.X.zc=function(){};this.X.oa=ListView.create(this.X);this.X.oa.ef(c);this.X.f(this.X.oa)},Nc:function(){return{panels:{position:q.a(300,
200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),s:q.h(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},kb:function(a){if(this._super(a))return!0;this.yd=null;a=this.b.main_panel.Ca(a.K);
return O(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,X:null,hb:null,Mc:function(){return"Credits"},Pa:function(){this._super()},t:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
ej:function(a){G({savequests:a+"",questdata:this.data})},Ui:function(a,c){G({savequestswhole:c})},ya:function(){this._super();this.$b()},$b:function(){this.X&&this.X.uc();var a=[],c=[];q.ia.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.D.create();a[d].U(324,32);var f=q.R.create(e,"Arial",18);f.L(q.a(0,0));f.n(q.a(4,0));f.nc(q.size(246,0));f.l(q.k(100,0,0));a[d].f(f);a[d].U(324,f.d().height+4);f=[];c.push(f);d++}a[d]=q.D.create();a[d].U(324,32);var g=q.ea.create(q.h(0,0,0,
127),316,1);g.n(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.R.create(e,"Arial",22);h.l(q.k(255,0,0))}else h=q.R.create(this.data[e],"Arial",15),h.l(q.k(0,0,0));h.L(q.a(0,0));h.n(q.a(4,4));h.nc(q.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].U(324,h.d().height+12):a[d].U(324,h.d().height+8);d++}this.X=this.b.main_panel.list;this.X.ne=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.X.Kd=function(){return a.length};this.X.$e=
function(c){return a[c].d()};this.X.Ye=function(c){return a[c]};this.X.zc=function(){};this.X.oa=ListView.create(this.X);this.X.oa.ef(c);this.X.f(this.X.oa)},Nc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),s:q.h(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),$:"GUI/close.png"}}}}}}},kb:function(a){if(this._super(a))return!0;this.yd=null;a=this.b.main_panel.Ca(a.K);return O(this.b.main_panel,a)?!0:!1}});Login=Qa.extend({Xs:!1,Nl:!1,t:function(a){y=sa(y,v.tC());this._super();w.An(this);this.Jp=this.UC=!1;this.hk=new $(this.b.name_entry,q.size(this.b.name_entry.d().width,this.b.name_entry.d().height),q.a(0,this.b.name_entry.d().height),"Username",q.h(100,100,100),q.k(255,255,255));this.xl=new $(this.b.password_entry,q.size(this.b.password_entry.d().width,this.b.password_entry.d().height),q.a(0,this.b.password_entry.d().height),"Password",q.h(100,100,100),q.k(255,255,255));this.xl.Cx(0);this.sD=new $(this.b.new_user_name,
q.size(this.b.new_user_name.d().width,this.b.new_user_name.d().height),q.a(0,this.b.new_user_name.d().height),"Username",q.h(100,100,100),q.k(255,255,255));this.rx=new $(this.b.new_user_pass,q.size(this.b.new_user_pass.d().width,this.b.new_user_pass.d().height),q.a(0,this.b.new_user_pass.d().height),"Password",q.h(100,100,100),q.k(255,255,255));this.rx.Cx(0);this.rD=new $(this.b.new_user_email,q.size(this.b.new_user_email.d().width,this.b.new_user_email.d().height),q.a(0,this.b.new_user_email.d().height),
"Email Address",q.h(100,100,100),q.k(255,255,255));this.EH=!1;a&&(a.oJ?(u=[],G({logout:!0})):this.EH=!0,this.Cn(a.FD));this.mc(this.ZB);this.DH=!1;this.mc(this.ZD);this.GC();this.b.rem_login_text.nc(q.size(80,0));this.b.auto_login_text.nc(q.size(80,0));this.b.server_message.nc(q.size(300,0))},wl:function(a){switch(a){case "ENTER":if(this.UC){a=this.sD.T();var c=this.rx.T(),d=this.rD.T();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.eg("Please use a correct email address."):
(this.Jp=!0,this.eg("Registering please wait..."),this.UJ({name:a,password:c,email:d})):this.eg("Please fill all fields.")}else!1==this.Nl&&this.Xs?(a=this.hk.T(),c=this.xl.T(),""!=a&&null!=a&&""!=c&&null!=c?(this.Nl=!0,this.eg("Logging In"),G({login:!0,username:this.hk.T(),password:this.xl.T()})):this.eg("Please enter a User and Password")):this.ex("Server is offline!")}},Cn:function(a){this.Xs=a;!0==a?(this.b.server_activity.da("Server: Online"),this.b.server_activity.l(q.k(0,255,0))):(this.b.server_activity.da("Server: Offline"),
this.b.server_activity.l(q.k(255,0,0)))},ZB:function(){var a=v.gT();a&&!1==this.DH&&(this.hk.Be(a.user),this.DH=!0,this.xl.Be(a.pass));!0==this.EH&&autoLoginNextTime&&!1==this.Nl&&this.Xs&&(!1==this.Nl&&this.Xs?(this.Nl=!0,this.eg("Logging In"),G({login:!0,username:this.hk.T(),password:this.xl.T()})):this.ex("Server is offline!"))},ZD:function(){if(0<u.length)for(var a=u.length-1;0<=a;a--)reactToSocketMessage(u[a]),u.splice(a,1);autoLoginNextTime?(v.iK(!0),this.b.auto_login.ba(q.ia.e().pa("GUI/checkbox_checked.png"))):
(v.iK(!1),this.b.auto_login.ba(q.ia.e().pa("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ba(q.ia.e().pa("GUI/checkbox_checked.png")):this.b.remember_login.ba(q.ia.e().pa("GUI/checkbox_uncheck.png"))},Nc:function(){return{panels:{children:{background:{$:"GUI/splash.png",size:q.size(960,640),c:q.a(0,0),position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,
360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),$:"GUI/checkbox_uncheck.png",c:q.a(0,0)},rem_login_text:{label:"Remember login.",fontSize:16,color:q.k(255,255,255),c:q.a(0,1),position:q.a(665,315)},auto_login:{size:q.size(20,20),position:q.a(630,330),$:"GUI/checkbox_uncheck.png",c:q.a(0,0)},auto_login_text:{label:"Auto login next time.",fontSize:16,color:q.k(255,255,
255),c:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),s:q.h(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),s:q.h(0,0,0,255),c:q.a(0,1),children:{label:{label:"Register",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),s:q.h(0,0,0,255),children:{label:{label:"Go Back",
fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),s:q.h(0,0,0,255),c:q.a(0,1),children:{label:{label:"Confirm",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,40),s:q.h(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),
s:q.h(0,0,0,255),c:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.k(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.k(255,255,255),c:q.a(0,1),position:q.a(325,220)},version_number:{label:y["Version Number"],fontSize:34,color:q.k(255,255,255),c:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),c:q.a(0.5,0.5),label:"Server: Offline",color:q.k(255,0,0)}}}}},ZX:function(){autoLoginNextTime?(autoLoginNextTime=
!1,this.b.auto_login.ba(q.ia.e().pa("GUI/checkbox_uncheck.png"))):(autoLoginNextTime=!0,this.b.auto_login.ba(q.ia.e().pa("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ba(q.ia.e().pa("GUI/checkbox_checked.png")))},$X:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.ba(q.ia.e().pa("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ba(q.ia.e().pa("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ba(q.ia.e().pa("GUI/checkbox_checked.png")))},
kb:function(a){if(null!=this.hk.T()&&this.b.go_button.ka&&q.ab(q.rect(this.b.go_button.q.F,this.b.go_button.q.H,this.b.go_button.d().width,this.b.go_button.d().height),a.K)){if(!1==this.Nl&&this.Xs){a=this.hk.T();var c=this.xl.T();""!=a&&null!=a&&""!=c&&null!=c?(this.Nl=!0,this.eg("Logging In"),G({login:!0,username:this.hk.T(),password:this.xl.T()})):this.eg("Please enter a User and Password")}else this.ex("Server is offline!");return!0}this.b.credits_button.ka&&q.ab(q.rect(this.b.credits_button.q.F,
this.b.credits_button.q.H,this.b.credits_button.d().width,this.b.credits_button.d().height),a.K)&&this.Ef("/openCredits");this.b.news_button.ka&&q.ab(q.rect(this.b.news_button.q.F,this.b.news_button.q.H,this.b.news_button.d().width,this.b.news_button.d().height),a.K)&&this.Ef("/openNews");if(this.b.register_button.ka&&q.ab(q.rect(this.b.register_button.q.F,this.b.register_button.q.H,this.b.register_button.d().width,this.b.register_button.d().height),a.K))return this.KX(),!1;if(this.b.auto_login.ka&&
q.ab(q.rect(this.b.auto_login.q.F,this.b.auto_login.q.H,this.b.auto_login.d().width,this.b.auto_login.d().height),a.K))return this.ZX(),!1;if(this.b.remember_login.ka&&q.ab(q.rect(this.b.remember_login.q.F,this.b.remember_login.q.H,this.b.remember_login.d().width,this.b.remember_login.d().height),a.K))return this.$X(),!1;if(this.b.new_user_back.ka&&!1==this.Jp&&q.ab(q.rect(this.b.new_user_back.q.F,this.b.new_user_back.q.H,this.b.new_user_back.d().width,this.b.new_user_back.d().height),a.K))return this.GC(),
this.eg(""),!1;if(this.b.new_user_confirm.ka&&!1==this.Jp&&q.ab(q.rect(this.b.new_user_confirm.q.F,this.b.new_user_confirm.q.H,this.b.new_user_confirm.d().width,this.b.new_user_confirm.d().height),a.K)){a=this.sD.T();var c=this.rx.T(),d=this.rD.T();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.eg("Please use a correct email address."):(this.Jp=!0,this.eg("Registering please wait..."),this.UJ({name:a,password:c,email:d})):this.eg("Please fill all fields.");return!1}},
UJ:function(a){a.newUser=1;G(a)},CR:function(){this.eg("Registration successful.");this.sD.Be("Username");this.rx.Be("Password");this.rD.Be("Email Address");this.Jp=!1;this.GC()},rS:function(a){this.Jp=!1;switch(a){case "UserTaken":this.eg("Registration failed, user already exists.")}},KX:function(){this.b.new_user_name.v(!0);this.b.new_user_pass.v(!0);this.b.new_user_email.v(!0);this.b.new_user_confirm.v(!0);this.b.new_user_back.v(!0);this.b.register_button.v(!1);this.b.go_button.v(!1);this.b.name_entry.mb(-1E5);
this.b.password_entry.mb(-1E5);this.b.new_user_name.mb(325);this.b.new_user_pass.mb(325);this.b.new_user_email.mb(325);this.b.rem_login_text.v(!1);this.b.auto_login_text.v(!1);this.b.auto_login.v(!1);this.b.remember_login.v(!1);this.UC=!0},GC:function(){this.b.new_user_name.v(!1);this.b.new_user_pass.v(!1);this.b.new_user_email.v(!1);this.b.new_user_confirm.v(!1);this.b.new_user_back.v(!1);this.b.register_button.v(!0);this.b.go_button.v(!0);this.b.name_entry.mb(325);this.b.password_entry.mb(325);
this.b.new_user_name.mb(-1E5);this.b.new_user_pass.mb(1E5);this.b.new_user_email.mb(1E5);this.b.rem_login_text.v(!0);this.b.auto_login_text.v(!0);this.b.auto_login.v(!0);this.b.remember_login.v(!0);this.UC=!1},Ef:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.Y||(CreditsPanel=null);CreditsPanel?(CreditsPanel.Pa(),CreditsPanel.Q(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.t(),CreditsPanel.ya(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||
NewsPanel.Y||(NewsPanel=null),NewsPanel?(NewsPanel.Pa(),NewsPanel.Q(),NewsPanel=null):(NewsPanel=new News,NewsPanel.t(),NewsPanel.ya(),this.f(NewsPanel))}},BU:function(a){rememberLoginNextTime&&v.nX(this.hk.T(),this.xl.T());this.$c(this.ZB);w.e().ml("Game",{jD:a,map:1})},ex:function(a){this.$c(this.ZB);this.b.server_message.da(a);this.Nl=!1},eg:function(a){this.b.server_message.da(a)},nd:function(){},Df:function(){},P8:function(){w.e().ml("Game",{mda:this.hk.T()})}});Na=null;MapMaster=!1;
var Ra=Qa.extend({ctor:function(){this._super()},Nc:function(){return{panels:{children:{logout_button:{position:q.a(W.width-52,W.height-52),c:q.a(0,0),size:q.size(48,48),$:"GUI/logout.png"},quicknav_button:{position:q.a(W.width-30,Math.floor(W.height/2)-24),c:q.a(0,0),size:q.size(48,48),$:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(W.width-52,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),$:"GUI/inventory_icon.png"},equipment_button:{position:q.a(W.width-82,Math.floor(W.height/
2)+4),c:q.a(0,0),size:q.size(48,48),$:"GUI/equipment_icon.png"},skill_button:{position:q.a(W.width-82,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),$:"GUI/skills_icon.png"},chat_button:{position:q.a(W.width-52,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),$:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(W.height/2)-24),c:q.a(0,0),size:q.size(48,48),$:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(W.height/2)+116),c:q.a(0,0),size:q.size(48,
48),$:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),$:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(W.height/2)+4),c:q.a(0,0),size:q.size(48,48),$:"GUI/itemeditor_icon.png"},skilledit_button:{position:q.a(64,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),$:"GUI/skilleditor_icon.png"},signedit_button:{position:q.a(34,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),$:"GUI/signeditor_icon.png"},
warpedit_button:{position:q.a(4,Math.floor(W.height/2)-164),c:q.a(0,0),size:q.size(48,48),$:"GUI/warpeditor_icon.png"},scriptedit_button:{position:q.a(90,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),$:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(W.height/2)-220),c:q.a(0,0),size:q.size(48,48),$:"GUI/settings_icon.png"},bankedit_button:{position:q.a(90,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),$:"GUI/bankeditor_icon.png"},shopedit_button:{position:q.a(120,
Math.floor(W.height/2)+4),c:q.a(0,0),size:q.size(48,48),$:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),$:"GUI/questeditor_icon.png"}}}}},fJ:!1,dJ:!1,Cn:function(a){!1==a&&(this.fC(),w.e().ml("Login",{FD:!1}))},fC:function(){F.Jd();F.Zs();null!=Equipment&&(Equipment.Pa(),Equipment.Q(),Equipment=null);null!=Inventory&&(Inventory.Pa(),Inventory.Q(),Inventory=null);null!=Skills&&(Skills.Pa(),Skills.Q(),Skills=null);SkillBarsInstance.Q();
z.Jd();z.Zs();B.Jd();B.Zs()},kb:function(a){if(q.ab(q.rect(this.b.logout_button.q.F,this.b.logout_button.q.H,this.b.logout_button.d().width,this.b.logout_button.d().height),a.K))return this.fC(),w.e().ml("Login",{oJ:!0,FD:!0}),!0;w.An(this);if(q.ab(this.b.chat_button.Xa(),a.K)&&this.b.chat_button.ka)return this.wl("C"),!0;if(q.ab(this.b.inventory_button.Xa(),a.K)&&this.b.inventory_button.ka)return this.wl("I"),!0;if(q.ab(this.b.equipment_button.Xa(),a.K)&&this.b.equipment_button.ka)return this.wl("E"),
!0;if(q.ab(this.b.skill_button.Xa(),a.K)&&this.b.skill_button.ka)return this.wl("S"),!0;if(this.b.quickedit_button.ka&&q.ab(this.b.quickedit_button.Xa(),a.K)&&this.b.quickedit_button.ka)return this.$K(!this.dJ),!0;if(q.ab(this.b.quicknav_button.Xa(),a.K)&&this.b.quicknav_button.ka)return this.aL(!this.fJ),!0;if(q.ab(this.b.mapedit_button.Xa(),a.K)&&this.b.mapedit_button.ka)return this.Ef("/editmap"),!0;if(q.ab(this.b.npcedit_button.Xa(),a.K)&&this.b.npcedit_button.ka)return this.Ef("/editnpc"),!0;
if(q.ab(this.b.itemedit_button.Xa(),a.K)&&this.b.itemedit_button.ka)return this.Ef("/edititem"),!0;if(q.ab(this.b.skilledit_button.Xa(),a.K)&&this.b.skilledit_button.ka)return this.Ef("/editskill"),!0;if(q.ab(this.b.signedit_button.Xa(),a.K)&&this.b.signedit_button.ka)return this.Ef("/editsign"),!0;if(q.ab(this.b.scriptedit_button.Xa(),a.K)&&this.b.scriptedit_button.ka)return this.Ef("/editscript"),!0;if(q.ab(this.b.warpedit_button.Xa(),a.K)&&this.b.warpedit_button.ka)return this.Ef("/editwarp"),
!0;if(q.ab(this.b.settings_button.Xa(),a.K)&&this.b.settings_button.ka)return this.Ef("/editsettings"),!0;if(q.ab(this.b.shopedit_button.Xa(),a.K)&&this.b.shopedit_button.ka)return this.Ef("/editshop"),!0;if(q.ab(this.b.questedit_button.Xa(),a.K)&&this.b.questedit_button.ka)return this.Ef("/editquest"),!0;if(q.ab(this.b.bankedit_button.Xa(),a.K)&&this.b.bankedit_button.ka)return this.Ef("/editbank"),!0},bL:function(a){null==Sign||Sign.Y||(Sign=null);Sign?(Sign.Pa(),Sign.Q(),Sign=null):(Sign=new SignPanel,
Sign.t(a),Sign.ya(),this.f(Sign))},IX:function(a){null==Book||Book.Y||(Book=null);Book?(Book.Pa(),Book.Q(),Book=null):(Book=new BookPanel,Book.t(a),Book.ya(),this.f(Book))},Df:function(){},wl:function(a){switch(a){case "C":B.eU()?B.MI():B.show();break;case "ENTER":B.TC()||B.HD(!0);break;case "SPACE":z.C.ha.ZT();Inventory&&Inventory.If();break;case "CTRL":z.C.ha.YT();break;case "ESC":this.fC();w.e().ml("Login",{oJ:!0,FD:!0});break;case "I":null==Inventory||Inventory.Y||(Inventory=null);Inventory?(Inventory.Pa(),
Inventory.Q(),Inventory=null):(Inventory=new InventoryPanel,Inventory.t(),Inventory.ya(),this.f(Inventory));break;case "E":null==Equipment||Equipment.Y||(Equipment=null);Equipment?(Equipment.Pa(),Equipment.Q(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.t(),Equipment.ya(),this.f(Equipment));break;case "S":null==Skills||Skills.Y||(Skills=null),Skills?(Skills.Pa(),Skills.Q(),Skills=null):(Skills=new SkillsPanel,Skills.t(),Skills.ya(),this.f(Skills))}},cD:function(a){var c=z.C.ha.Zf();z.C.ha.path=
null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":z.C.ha.hq(c.x+1,c.y);break;case "LEFTARROW":z.C.ha.hq(c.x-1,c.y);break;case "UPARROW":z.C.ha.hq(c.x,c.y+1);break;case "DOWNARROW":z.C.ha.hq(c.x,c.y-1)}},aL:function(a){this.fJ=a;this.b.chat_button.v(a);this.b.inventory_button.v(a);this.b.equipment_button.v(a);this.b.skill_button.v(a);this.b.quicknav_button.ba(q.ia.e().pa(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},$K:function(a){this.dJ=a;this.b.mapedit_button.v(a);
this.b.npcedit_button.v(a);this.b.itemedit_button.v(a);this.b.skilledit_button.v(a);this.b.signedit_button.v(a);this.b.scriptedit_button.v(a);this.b.warpedit_button.v(a);this.b.settings_button.v(a);this.b.shopedit_button.v(a);this.b.bankedit_button.v(a);this.b.questedit_button.v(a);this.b.quickedit_button.ba(q.ia.e().pa(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Ef:function(a){if(a){if(1<z.C.ha.mp)switch(a){case "/editscript":null==Scripteditor||Scripteditor.Y||(Scripteditor=
null);Scripteditor?(Scripteditor.Pa(),Scripteditor.Q(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.t({m:null,sh:new ScriptEditor,list:ObjectLists.zs(),name:"Script List"}),Scripteditor.ya(),this.f(Scripteditor));break;case "/editmap":null==Mapeditor||Mapeditor.Y||(Mapeditor=null);Mapeditor?(Mapeditor.Pa(),Mapeditor.Q(),Mapeditor=null,F.$s(null)):(Mapeditor=new MapEditor,Mapeditor.t(),Mapeditor.ya(),this.f(Mapeditor),F.$s(Mapeditor));break;case "/editsettings":null==Settingseditor||
Settingseditor.Y||(Settingseditor=null);Settingseditor?(Settingseditor.Pa(),Settingseditor.Q(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.t(),Settingseditor.ya(),this.f(Settingseditor));break;case "/editwarp":null==Warpeditor||Warpeditor.Y||(Warpeditor=null);Warpeditor?(Warpeditor.Pa(),Warpeditor.Q(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.t({m:null,sh:new WarpEditor,list:ObjectLists.$m(),name:"Warp List"}),Warpeditor.ya(),this.f(Warpeditor));break;case "/editsign":null==
Signeditor||Signeditor.Y||(Signeditor=null);Signeditor?(Signeditor.Pa(),Signeditor.Q(),Signeditor=null):(Signeditor=new PopupList,Signeditor.t({m:null,sh:new SignEditor,list:ObjectLists.As(),name:"Sign List"}),Signeditor.ya(),this.f(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.Y||(Skillseditor=null);Skillseditor?(Skillseditor.Pa(),Skillseditor.Q(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.t({m:null,sh:new SkillsEditor,list:ObjectLists.ll(),name:"Skills List"}),
Skillseditor.ya(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.Y||(Itemeditor=null);Itemeditor?(Itemeditor.Pa(),Itemeditor.Q(),Itemeditor=null,F.$s(null)):(Itemeditor=new PopupList,Itemeditor.t({m:null,sh:new ItemEditor,list:ObjectLists.ci(),name:"Item List"}),Itemeditor.ya(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.Y||(NPCeditor=null);NPCeditor?(NPCeditor.Pa(),NPCeditor.Q(),NPCeditor=null,F.$s(null)):(NPCeditor=new PopupList,NPCeditor.t({m:null,
sh:new NPCEditor,list:ObjectLists.kl(),name:"NPC List"}),NPCeditor.ya(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.Y||(Questeditor=null),Questeditor?(Questeditor.Pa(),Questeditor.Q(),Questeditor=null,F.$s(null)):(Questeditor=new PopupList,Questeditor.t({m:null,sh:new QuestEditor,list:ObjectLists.ys(),name:"Quest List"}),Questeditor.ya(),this.f(Questeditor))}switch(a){case "/help":B.showHelp();break;case "/commands":B.JX();break;case "/diceroll":a=Math.floor(6*Math.random()+
1);var c=y["/diceroll"],c=c.replace("\x3cPLAYER\x3e",z.C.ha.getName()),c=c.replace("\x3cVALUE\x3e",a);B.Lb(c);G({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=y["/coinflip"];c=c.replace("\x3cPLAYER\x3e",z.C.ha.getName());c=c.replace("\x3cVALUE\x3e",a);B.Lb(c);G({coinflip:c});break;case "/dance":a=y["/dance"];a=a.replace("\x3cPLAYER\x3e",z.C.ha.getName());B.Lb(a);G({dance:a});break;case "/afk":z.C.ha.updateStatus("AFK"),G({afk:!0})}}},t:function(a){this._super();
this.f(F.create());ObjectLists.e();a={name:a.jD.name,aj:!0,Gn:{health:{Oc:1,value:100,ag:200,$f:900},mana:{Oc:1,value:100,ag:200,$f:99}},map:a.jD.location.mapnumber,it:"sprites1.png",gt:1,mp:a.jD.rank};z.create(a);F.UQ();this.b.Q();this.bq(-20);this.Ac(function(){F.e().Fl(a.map)});G({moveTo:z.C.ha.Zf().x+z.C.ha.Zf().y*S});this.f(B.create());this.f(za.create());this.aL(!1);this.$K(!1);this.DX();this.f(this.b);this.mc(this.ZD);this.mc(this.jW);Na=this},DX:function(){1==z.C.ha.mp&&this.b.quickedit_button.v(!1)},
ZD:function(){if(0<u.length)for(var a=0;a<u.length;a++){var c=JSON.parse(u[a]);c.moveTo&&(!z.ei(c.id)||z.ei(c.id)&&!1==z.ei(c.id).Jg)?(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1))}},jW:function(){if(!0==MapMaster){var a=z.LM(),c;for(c in a)if(!1==a[c].kx){var d=10*Math.random()+1,e=a[c].Zf();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].jX(e,d)}}}});var Sa=q.Da.extend({tc:null,w3:!1,HD:function(a){a?this.tc.$a.focus():this.tc.$a.blur()},TC:function(){return document.activeElement==this.tc.$a},da:function(a){this.tc.Be(a)},vC:function(){return this.tc.T()},t:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.tc=q.oq.create(q.size(c.width,c.height),q.mf.create(),h);this.tc.Be(e);this.tc.QR=e;this.tc.KW(q.k(g.p,g.o,g.g));this.tc.jK(q.k(f.p,f.o,f.g));this.tc.n(q.a(d.x,d.y));this.tc.L(0,1);this.tc.Ah(this);
a.f(this.tc);this.t()}});var Ta=Sa.extend({Ew:function(a){a.Be("")},Fw:function(a,c){c||("/"==a.T().substring(0,1)?this.$V(a.T()):0<a.T().length&&B.Lb(a.T(),!0));a.Be(y["Default ChatBar Message"])},$V:function(a){w.e().md.Ef(a)},Gw:function(a,c){a.Be(c);q.log("chatBox "+this.bG(a)+", TextChanged, text: "+c)},bG:function(){return"chatbox"}}),X=null,B=q.Qc.extend({Yj:null,t:function(){this.Yj=new Ta(this.b.chat_panel,q.size(this.b.chat_panel.d().width-4,25),q.a(2,this.b.chat_panel.d().height-2),y["Default ChatBar Message"],
q.k(255,255,255),q.k(0,0,0));this.Yj.tc.Y.od(this.Yj.tc.q.H+59)},uH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].vC());this.b.chat_panel.label0.da(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].da(c[d-1])},Nc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),$:"GUI/chat.png",c:q.a(0,0),opacity:200,position:q.a(0,-200),children:{label7:{label:"",position:q.a(5,0),c:q.a(0,0),color:q.k(0,0,0)},label6:{label:"",position:q.a(5,15),c:q.a(0,0),color:q.k(0,
0,0)},label5:{label:"",position:q.a(5,30),c:q.a(0,0),color:q.k(0,0,0)},label4:{label:"",position:q.a(5,45),c:q.a(0,0),color:q.k(0,0,0)},label3:{label:"",position:q.a(5,60),c:q.a(0,0),color:q.k(0,0,0)},label2:{label:"",position:q.a(5,75),c:q.a(0,0),color:q.k(0,0,0)},label1:{label:"",position:q.a(5,90),c:q.a(0,0),color:q.k(0,0,0)},label0:{label:"",position:q.a(5,105),c:q.a(0,0),color:q.k(0,0,0)}}}}}}}});B.create=function(){X||(X=new B,X.b=Ha(X),X.f(X.b),X.t(),B.MI(),B.MX());return X};B.e=function(){return X};
B.Lb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(G({chatMessage:a}),X.uH(z.C.ha.getName()+": "+a)):X.uH(a)};B.show=function(){X.Yj.tc.Y.od(0)};B.MI=function(){X.Yj.tc.Y.od(-X.Yj.tc.q.H+59)};B.eU=function(){return 0!=X.Yj.tc.Y.q.H?!1:!0};B.HD=function(a){X.Yj.HD(a)};B.TC=function(){return X.Yj.TC()};B.showHelp=function(){B.Lb(H.me.DT);B.Lb(H.me.ET);B.Lb(H.me.FT);B.Lb(H.me.GT);B.Lb(H.me.HT)};B.JX=function(){B.Lb(H.me.yR);B.Lb(H.me.zR);B.Lb(H.me.AR);B.Lb(H.me.BR)};B.MX=function(){B.Lb(y["Welcome Message"])};
B.Jd=function(){X.b.Q();X.b=null};B.Zs=function(){X.Q();X=null};var $=Sa.extend({Dp:!1,tJ:!1,VH:!1,SC:!1,Ew:function(a){!1==this.VH&&a.Be("");this.SC=!0},Cx:function(a){this.tc.Cx(a)},M7:function(){return this.SC},Fw:function(a){this.SC=!1;null==a.T()||""==a.T().length&&this.tJ?this.Dp=!0:0<!a.T().length?(a.Be(this.tc.QR),this.Dp=!1):this.Dp=!0},Gw:function(a,c){a.Be(c);this.Dp=!0},bG:function(){return"name_entry"},T:function(){return!0==this.Dp||!0==this.PR?this.tc.T():null},Be:function(a){this.tc.Be(a);this.Dp=!0},tb:function(a){this.PR=a},Ad:function(a){this.tJ=
a},sK:function(a){this.VH=a},t:function(){}});var w=q.Qc.extend({C:null,TB:null,md:null,sH:null,t:function(){var a=q.ra.e().Kw();this.TB=q.ea.create(q.h(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.TB.L(q.a(0,0));this.f(this.TB);v.e()&&ta?(y=sa(y,v.tC()),this.ml("Login",{}),this.mc(this.IH),autoLoginNextTime=v.bJ(),rememberLoginNextTime=v.hJ()):this.mc(this.NI)},NI:function(){v.e()&&ta&&(this.$c(this.NI),y=sa(y,v.tC()),this.ml("Login",{}),this.mc(this.IH),autoLoginNextTime=v.bJ(),rememberLoginNextTime=v.hJ())},IH:function(){for(var a in Aa)if(!0==
Aa[a]&&null!=this.md){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;
case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.md.cD(c)}},ml:function(a,c){null!=this.md&&(this.md.Pa(),this.md.Q(),this.md=null);switch(a){case "Login":this.md=new Login;break;case "Game":this.md=new Ra}this.md.DL();this.f(this.md,1);this.md.NW(a);this.md.ya();this.md.t(c)},i4:function(){return this.md.Mc()}});w.e=function(){null==this.C&&(this.C=new w);return this.C};w.An=function(a){null==this.C&&(this.C=new w);this.C.sH=a};
w.xS=function(){null==this.C&&(this.C=new w);return this.C.sH};var W;
new (q.lj.extend({xw:document.ccConfig,ctor:function(){this._super();q.vt=this.xw.COCOS2D_DEBUG;q.JT();q.Fl(this.xw.tag);q.jy.HX().ZR()},bR:function(){var a=this.xw,c=q.W.e(),d=q.ra.e();W=d.Kw();q.size(W.width,W.height);var e=q.size(W.width,W.height),f=q.Dd.e();q.lj.e();f.KK(["res/Graphics"]);q.Ch&&q.Ch.e().vba("res/Audio");c.yW(1);d.GD(e.width,e.height,q.Wn.SHOW_ALL);c.Ys(1/a.frameRate);a.test?q.test(a.test):(q.log("++++++++++++++++entry for game++++++++++++"),q.pU(function(a){q.Hy.lD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=w.e();q.W.e().ZJ(a);a.t()})}));return!0}}));
//@ sourceMappingURL=sourcemap