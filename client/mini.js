var b,aa={k0:"2D Circle Graphic/TOWNBOT2.bmp",l0:"2D Circle Graphic/TOWNBOT2.png",m0:"2D Circle Graphic/TOWNJNT2.bmp",F0:"2D Circle Graphic/_BACKUP_.bmp",E0:"40x40Tiles.png",c2:"GUI/bank.png",d2:"GUI/bankeditor_icon.png",f2:"GUI/book.png",i2:"GUI/btnDown.png",j2:"GUI/btnLeft.png",k2:"GUI/btnRight.png",l2:"GUI/btnUp.png",D2:"GUI/chat.png",C2:"GUI/chat_icon.png",E2:"GUI/checkbox_checked.png",F2:"GUI/checkbox_uncheck.png",G2:"GUI/close.png",N2:"GUI/copy.png",Q2:"GUI/cross_icon.png",V2:"GUI/defaultitem.png",
m3:"GUI/edit.png",n3:"GUI/editor-tab.png",q3:"GUI/equipment.png",p3:"GUI/equipment_icon.png",r3:"GUI/event_panel.png",r7:"GUI/healthbar.png",H7:"GUI/inventory.png",G7:"GUI/inventory_icon.png",w8:"GUI/itemeditor_bg.png",x8:"GUI/itemeditor_icon.png",y8:"GUI/itemeditor_tab1_bg.png",z8:"GUI/itemeditor_tab2_bg.png",A8:"GUI/itemeditor_tab3_bg.png",L8:"GUI/list_panel.png",S8:"GUI/logout.png",V8:"GUI/mapeditor_icon.png",a9:"GUI/npceditor_icon.png",b9:"GUI/npctalk.png",g$:"GUI/quest_panel.png",h$:"GUI/questeditor_icon.png",
i$:"GUI/quickedit_closed_icon.png",j$:"GUI/quickedit_opened_icon.png",k$:"GUI/quickmenu_closed_icon.png",l$:"GUI/quickmenu_opened_icon.png",R$:"GUI/save_icon.png",S$:"GUI/scripteditor_icon.png",T$:"GUI/scripting_list.png",V$:"GUI/selected.png",Vba:"GUI/settings_icon.png",Wba:"GUI/shop.png",Xba:"GUI/shopeditor_icon.png",Yba:"GUI/signeditor_bg.png",Zba:"GUI/signeditor_icon.png",$ba:"GUI/signpost.png",aca:"GUI/skilleditor_icon.png",cca:"GUI/skills.png",bca:"GUI/skills_icon.png",gca:"GUI/splash.png",
Eca:"GUI/texture_change_left.png",Fca:"GUI/texture_change_middle.png",Gca:"GUI/texture_change_right.png",Hca:"GUI/tick_icon.png",Qca:"GUI/trash.png",Zca:"GUI/use.png",ida:"GUI/warpeditor_bg.png",jda:"GUI/warpeditor_icon.png",m2:"building1.png",B8:"items1.png",hca:"sprites1.png",Ica:"tiles0.png",Jca:"tiles1.png"};var q=q||{},ba={};q.HU=function(a){var c=q.OD[ba.bI.DF];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={bI:{DF:"_0"}};q.OD={};q.OD[ba.bI.DF]=[];q.OD.DR=[];q=q||{};function r(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}r.id=0|998*Math.random();r.mU=0|998*Math.random();
r.cI=function(a,c,d){for(var e=a.toString(),f=e.substring(e.indexOf("(")+1,e.indexOf(")")),f=f.trim(),e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.substring(h+1,e.indexOf(")",h)),k=(k=k.trim())?",":"",l=arguments.callee.xM(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};r.cI.xM=r;r.hT=function(){return this.id++};r.iT=function(){return this.mU++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.Oa=function(){};q.Oa.extend=function(d){function e(){this.xc=r.iT();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=r.hT();r[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=r.cI(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.xc=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.u7=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.w7=function(a,c){function d(){}d.prototype=c.prototype;a.hy=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.DR=function(a,c,d){var e=arguments.callee.caller;if(e.hy)return ret=e.hy.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.hy&&h.hy.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.J2=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.mh=function(a,c){this.x=a||0;this.y=c||0};q.QF=function(a,c){this.I=a||0;this.U=c||0;this.yL=function(a){this.I=a};this.zL=function(a){this.U=a}};q.Kd=function(){return new q.QF(0,0)};
Object.defineProperties(q.QF.prototype,{x:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.U},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.B_=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.mh(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.l1=q.a;q.Kj=function(){return q.a(0,0)};q.lK=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.Mk=function(a,c){this.width=a||0;this.height=c||0};q.RF=function(a,c){this.Ia=a||0;this.ya=c||0;this.nE=function(a){this.Ia=a};this.bE=function(a){this.ya=a}};q.Um=function(){return new q.RF(0,0)};
Object.defineProperties(q.RF.prototype,{width:{get:function(){return this.Ia},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ya},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.f0=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Ya=q.size;q.qm=function(){return q.size(0,0)};q.GH={rV:q.Kd(),hY:q.Um()};Object.defineProperties(q,{tN:{get:function(){return q.GH.rV},configurable:!0},DN:{get:function(){return q.GH.hY},configurable:!0},G_:{get:function(){return q.rect(0,0,0,0)},configurable:!0}});q.gY=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.zg=function(a,c,d,e){var f=arguments.length;if(4===f)this.gd=new q.mh(a||0,c||0),this.Ya=new q.Mk(d||0,e||0);else if(1===f)this.gd=new q.mh(a.gd.x,a.gd.y),this.Ya=new q.Mk(a.Ya.width,a.Ya.height);else if(0===f)this.gd=new q.mh(0,0),this.Ya=new q.Mk(0,0);else if(2===f)this.gd=new q.mh(a.x,a.y),this.Ya=new q.Mk(c.width,c.height);else throw"unknown argument type";};q.N_=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.zg(0,0,0,0);if(1===f)return new q.zg(a.x,a.y,a.width,a.height);if(2===f)return new q.zg(a.x,a.y,c.width,c.height);if(4===f)return new q.zg(a,c,d,e);throw"unknown argument type";};q.Aa=q.rect;q.wd=function(){return q.rect(0,0,0,0)};q.sK=function(a,c){return a&&c?q.lK(a.gd,c.gd)&&q.gY(a.Ya,c.Ya):!1};q.Wr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.m$=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.Nn=function(a){return a.x+a.width};q.n$=function(a){return a.x+a.width/2};q.Pl=function(a){return a.x};q.On=function(a){return a.y+a.height};q.o$=function(a){return a.y+a.height/2};q.Ql=function(a){return a.y};q.wb=function(a,c){return c.x>=q.Pl(a)&&c.x<=q.Nn(a)&&c.y>=q.Ql(a)&&c.y<=q.On(a)};q.KV=function(a,c){return!(q.Nn(a)<q.Pl(c)||q.Nn(c)<q.Pl(a)||q.On(a)<q.Ql(c)||q.On(c)<q.Ql(a))};
q.p$=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.Gx=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.JV=function(a,c){var d=q.rect(Math.max(q.Pl(a),q.Pl(c)),Math.max(q.Ql(a),q.Ql(c)),0,0);d.width=Math.min(q.Nn(a),q.Nn(c))-q.Pl(d);d.height=Math.min(q.On(a),q.On(c))-q.Ql(d);return d};b=q.zg.prototype;
b.yL=function(a){this.gd.x=a};b.zL=function(a){this.gd.y=a};b.Us=function(){return this.Ya.width};b.nE=function(a){this.Ya.width=a};b.Qs=function(){return this.Ya.height};b.bE=function(a){this.Ya.height=a};
Object.defineProperties(q.zg.prototype,{x:{get:function(){return this.gd.x},set:function(a){this.yL(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.gd.y},set:function(a){this.zL(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.Us()},set:function(a){this.nE(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.Qs()},set:function(a){this.bE(a)},enumerable:!0,configurable:!0}});var t=t||{};try{t.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ca){"SECURITY_ERR"!==ca.name&&"QuotaExceededError"!==ca.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),t.localStorage=function(){}}
Object.defineProperties(t,{t2:{get:function(){var a={canvas:!0};q.Ja.ed&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},gK:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":a?d="iOS":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.Pt},enumerable:!0,configurable:!0}});t.N3=function(){};
t.j3=function(){};t.M$=function(){};q.Pt="Cocos2d-html5-v2.2.2";q.iu=0;q.aF=q.a(0,0);q.DM=0.5;q.iZ=1;q.FN=1;q.qN=0;q.JF=0;q.h0=0;q.i0=0;q.J_=1;q.I_="-hd";q.UN=1;q.Lj=0;q.c0=0;q.f_=0;q.e_=0;q.Vy=1;q.rZ=q.Pt+"-canvas";q.Rw={platform:t.platform};q.i3=function(){for(var a in t)q.log(a+" \x3d "+t[a])};q.Ot=1;q.cF=1;q.dI=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ja={};q.Ja.FY=["baidubrowser","opera","firefox","chrome","safari"];q.Ja.Z8="baidubrowser opera firefox chrome safari ucbrowser qqbrowser mqqbrowser ie".split(" ");
(function(){q.Ja.ny=navigator.userAgent.toLowerCase();q.Ja.platform=navigator.platform.toLowerCase();q.Ja.vj=-1!=q.Ja.ny.indexOf("mobile")||-1!=q.Ja.ny.indexOf("android");q.Ja.type=function(){var a=q.Ja.ny.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ja.ny.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ja.mode="ie"==q.Ja.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.YB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ja.FY.indexOf(q.Ja.type);1===q.YB||0===q.YB&&(q.Ja.vj||a)?q.Ja.ed=!1:(q.Ja.ed=null!=window.C0,a=document.createElement("Canvas"),a=q.dI(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Ja.ed=null!=a);2!==q.YB||q.Ja.ed||(q.Fz=!0);var a=q.Ja,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.nca=c;q.Ja.t9=function(a){if(this.vj){var c=q.fa.g().dc,d=c.width+"px",c=c.height+"px",h=q.Gk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.IY=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.Gk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.IY=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.O_=function(){return"undefined"===q.Fz?!1:q.Fz};
q.Rb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Rb,a.YC=a.YC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.MH=a.MH||function(a){this.YC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.bW=a.bW||function(a){this.YC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.rn=a.rn||
function(a){a.appendChild(this);return this},a.DV=a.DV||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.ao=a.ao||function(){this.style[q.Rb.tY]=q.Rb.translate(this.position)+q.Rb.rotate(this.rotation)+q.Rb.scale(this.scale)+q.Rb.Zl(this.Zl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Zl=a.Zl||{x:0,y:0},a.CE=function(a,c){this.position.x=a;this.position.y=c;this.ao()},a.rotate=function(a){this.rotation=
a;this.ao();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.ao();return this},a.oL=function(a,c){this.Zl.x=a;this.Zl.y=c;this.ao()};return a};switch(q.Ja.type){case "firefox":q.Rb.Jn="Moz";q.Rb.$p=!0;break;case "chrome":case "safari":q.Rb.Jn="webkit";q.Rb.$p=!0;break;case "opera":q.Rb.Jn="O";q.Rb.$p=!1;break;case "ie":q.Rb.Jn="ms";q.Rb.$p=!1;break;default:q.Rb.Jn="webkit",q.Rb.$p=!0}q.Rb.tY=q.Rb.Jn+"Transform";
q.Rb.translate=q.Rb.$p?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Rb.rotate=q.Rb.$p?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Rb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Rb.Zl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.Gk=function(a){return q.Rb(document.createElement(a))};
q.Rb.H3=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.clone=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.G||e instanceof HTMLElement?e:q.clone(e)}return c};q.a2=function(){};q.fF=q.fF||!1;
q.rP=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){document.ccConfig.dev&&!0==document.ccConfig.dev&&(q.fF?q.rP(a):console.log.apply(console,arguments))};q.l_=function(a){console.log(a)};q.Ht=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.x7=function(){0==q.Jt?(q.log=function(){},q.RJ=function(){},q.QJ=function(){},q.Ht=function(){}):1==q.Jt?(q.RJ=q.log,q.QJ=function(){}):1<q.Jt&&(q.RJ=q.log,q.QJ=q.log)};q.XM=0;q.WM=1;
q.YM=2;q.aN=3;q.ZM=4;q.hN=5;q.gN=6;q.cN=7;q.bN=8;q.$M=9;q.fN=10;q.VM=11;q.dN=12;q.eN=13;
q.Cq={XH:8,xca:9,BC:13,shift:16,R2:17,alt:18,pause:19,u2:20,escape:27,S9:33,R9:34,end:35,home:36,left:37,Tca:38,right:39,d3:40,B7:45,yZ:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,Q:65,o:66,Ma:67,d:68,k3:69,ax:70,p:71,h:72,t7:73,C8:74,D8:75,I8:76,m:77,UJ:78,p9:79,a:80,f$:81,q:82,s:83,wca:84,Wa:85,ua:86,hM:87,x:88,y:89,z:90,c9:96,d9:97,e9:98,f9:99,g9:100,h9:101,i9:102,j9:103,k9:104,l9:105,"*":106,"+":107,"-":109,numdel:110,"/":111,u3:112,y3:113,z3:114,A3:115,B3:116,C3:117,D3:118,E3:119,F3:120,
v3:121,w3:122,x3:123,o9:144,U$:145,X$:186,",":186,o3:187,"\x3d":187,";":188,I2:188,T2:189,".":190,W9:190,L3:191,o7:192,"[":219,u9:219,"]":221,H2:221,b2:220,quote:222,eca:32};q.b3=function(a,c,d){if(a)if(c&&"string"==typeof a)c[a](d);else c&&"function"==typeof a?a.call(c,d):a(d)};q.Ni=-1;q.PI=Math.PI;q.LM=parseFloat("3.402823466e+38F");q.AN=q.PI/180;q.CM=180/q.PI;q.TN=4294967295;q.d0=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.K8=function(a,c,d){return a+(c-a)*d};q.F_=function(){return 2*(Math.random()-0.5)};q.E_=function(){return Math.random()};q.Ij=function(a){return a*q.AN};q.hz=function(a){return a*q.CM};
q.pm=Number.MAX_VALUE-1;q.Te=q.qN?1:770;q.Se=771;q.bz=function(a){a.Zc&&(a.Zc.uf(),a.Zc.ih())};q.LZ=function(){};q.xZ=function(){};q.Wh=function(){q.Jh+=1};q.ju=1.192092896E-7;q.fd=q.Vy?function(){return q.fa.g().Bm}:function(){return 1};q.sN=function(a){var c=q.fd();return q.a(a.x*c,a.y*c)};q.I0=function(a,c){var d=q.fd();c.I=a.x*d;c.U=a.y*d};q.mz=function(a){var c=q.fd();return q.size(a.width*c,a.height*c)};q.a0=function(a){var c=q.fd();return q.size(a.width/c,a.height/c)};
q.Dz=function(a,c){var d=q.fd();c.Ia=a.width/d;c.ya=a.height/d};q.z_=function(a){var c=q.fd();return q.a(a.x/c,a.y/c)};q.Xu=function(a,c){var d=q.fd();c.I=a.x/d;c.U=a.y/d};q.Dq=q.Vy?function(a){var c=q.fd();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.oo=q.Vy?function(a){var c=q.fd();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.QE=function(){if(q.K$==q.Nk){var a=q.da.getError();a&&q.log("WebGL error "+a)}};q.T_=0;q.S_=1;q.Q_=2;q.R_=3;q.U_=4;q.V_=5;q.P_=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var da=document.createElement("script");da.type="text/vbscript";da.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(da);
q.gG=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.Wd=q.Oa.extend({$i:null,ql:null,MO:null,tA:null,op:null,ki:null,cr:"",ctor:function(){this.$i={};this.ql={};this.ki=[];this.ki.push(this.cr);this.op=[];this.op.push("")},c$:function(){this.ki=[]},d4:function(a){a=this.He(a);return this.$i.hasOwnProperty(a)?this.$i[a]:this.oP(a)},Bv:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},uY:function(a){this.$i.hasOwnProperty(a)&&delete this.$i[a]},yV:function(a){a=this.He(a);var c=this,d=this.Bv();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.gG(d.responseBody);e&&(c.$i[a]=c.nw(e))}else q.Sb.g().Ml(a);q.Sb.g().mg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.$i[a]=c.nw(e):q.Sb.g().Ml(a);q.Sb.g().mg()});d.send(null)},a$:function(a,c){this.$i[c]=a;
q.Sb.g().mg()},oP:function(a){var c=this.Bv();c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.gG(c.responseBody))d=this.nw(c),this.$i[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(!c.responseText||200!=c.status&&0!=c.status)return null;d="undefined"!==typeof VBArray?(new VBArray(c.responseBody)).toArray():
this.nw(c.responseText);this.$i[a]=d}return d},nw:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<a.length;d++)c[d]=a.charCodeAt(d)&255;return c},wY:function(a){a=this.He(a);this.ql.hasOwnProperty(a)&&delete this.ql[a]},AV:function(a){a=this.He(a);var c=this,d=this.Bv();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=
d.responseText;e&&(c.ql[a]=e)}else q.Sb.g().Ml(a);q.Sb.g().mg()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),d.onload=function(){d.responseText?c.ql[a]=d.responseText:q.Sb.g().Ml(a);q.Sb.g().mg()});d.send(null)},qP:function(a){var c=this.Bv();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);
if(200!=c.status)return null;(d=c.responseText)&&(this.ql[a]=d);return d},XI:function(a){a=this.He(a);return this.ql.hasOwnProperty(a)?this.ql[a]:this.qP(a)},L4:function(){},H$:function(){},mK:!0,M3:function(a){return a},He:function(a){var c=!1;a=this.TO(a);for(var d,e=0;e<this.ki.length;e++){for(var f=this.ki[e],g=0;g<this.op.length;g++)if(d=this.UO(a,this.op[g],f)){c=!0;break}if(c)break}return c?d:a},P8:function(a){var c=this.He(a);if(0<c.length){var c=q.Lk.g().parse(c),d=parseInt(c.metadata.version);
1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.ZW(c.filenames)}},ZW:function(a){this.tA=a},EI:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},tba:function(a){this.op=a},p6:function(){return this.op},sba:function(a){this.ki=a},n6:function(){return this.ki},f6:function(){return this.MO},oba:function(){},X2:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");
return this.dS(a)},dS:function(a){return q.Lk.g().parse(a)},E6:function(a){return this.XI(a)},Xw:function(a){return q.Lk.g().parse(a)},i7:function(){return""},gba:function(a){q.mK=a},g8:function(){return q.mK},oB:"",g6:function(){return this.oB},pba:function(a){this.oB=a},TO:function(a){var c=null;(c=this.tA?this.tA[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},UO:function(a,c,d){var e;e=this.oB;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=
e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},Y0:function(){},nL:function(a){var c=!1;this.ki=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.xJ(e)||(f=this.cr);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.cr||(c=!0);this.ki.push(e)}c||this.ki.push(this.cr)},K1:function(a){var c;
this.xJ(a)||(c=this.cr);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.ki.push(a)},o6:function(){},xJ:function(a){return"/"==a[0]}});q.QD=null;q.Wd.g=function(){null==q.QD&&(q.QD=new q.Wd);return q.QD};q.Ic=function(a,c,d){switch(arguments.length){case 0:this.o=this.p=this.q=0;break;case 1:a&&a instanceof q.Ic?(this.q=0|a.q||0,this.p=0|a.p||0,this.o=0|a.o||0):this.o=this.p=this.q=0;break;case 3:this.q=0|a||0;this.p=0|c||0;this.o=0|d||0;break;default:throw"unknown argument type";}};q.n=function(a,c,d){return new q.Ic(a,c,d)};q.F7=function(a){a=a||0;var c=new q.Ic;c.q=a&255;c.p=a>>8&255;c.o=a>>16&255;return c};q.mC=q.n;q.n2=function(a,c){return a.q===c.q&&a.p===c.p&&a.o===c.o};
Object.defineProperties(q,{A0:{get:function(){return q.n(255,255,255)},configurable:!0},D0:{get:function(){return q.n(255,255,0)},configurable:!0},fZ:{get:function(){return q.n(0,0,255)},configurable:!0},UZ:{get:function(){return q.n(0,255,0)},configurable:!0},H_:{get:function(){return q.n(255,0,0)},configurable:!0},i_:{get:function(){return q.n(255,0,255)},configurable:!0},dZ:{get:function(){return q.n(0,0,0)},configurable:!0},q_:{get:function(){return q.n(255,127,0)},configurable:!0},TZ:{get:function(){return q.n(166,
166,166)},configurable:!0}});q.Eb=function(){return new q.Ic(255,255,255)};q.nda=function(){return new q.Ic(255,255,0)};q.blue=function(){return new q.Ic(0,0,255)};q.green=function(){return new q.Ic(0,255,0)};q.red=function(){return new q.Ic(255,0,0)};q.U8=function(){return new q.Ic(255,0,255)};q.e2=function(){return new q.Ic(0,0,0)};q.v9=function(){return new q.Ic(255,127,0)};q.Cl=function(){return new q.Ic(166,166,166)};q.bc=function(a,c,d,e){this.q=0|a;this.p=0|c;this.o=0|d;this.Q=0|e};
q.i=function(a,c,d,e){return new q.bc(a,c,d,e)};q.nC=q.i;q.ne=function(a,c,d,e){this.q=a;this.p=c;this.o=d;this.Q=e};q.Ow=function(a,c,d,e){return new q.ne(a,c,d,e)};q.q2=function(a){return new q.ne(a.q/255,a.p/255,a.o/255,1)};q.r2=function(a){return new q.ne(a.q/255,a.p/255,a.o/255,a.Q/255)};q.o2=function(a){return new q.bc(0|255*a.q,0|255*a.p,0|255*a.o,0|255*a.Q)};q.p2=function(a,c){return a.q==c.q&&a.p==c.p&&a.o==c.o&&a.Q==c.Q};q.Jb=function(a,c){this.x=a||0;this.y=c||0};
q.Vu=function(a,c){return new q.Jb(a,c)};q.md=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};q.eda=function(a,c,d){return new q.md(a,c,d)};q.Mc=function(a,c){this.Wa=a||0;this.ua=c||0};q.Dca=function(a,c){return new q.Mc(a,c)};q.C_=function(a,c,d){a||new q.Jb(0,0);this.color=c||new q.bc(0,0,0,0);this.size=d||0};q.vu=function(a,c,d,e){this.ab=a||new q.Jb(0,0);this.Ua=c||new q.Jb(0,0);this.Sa=d||new q.Jb(0,0);this.eb=e||new q.Jb(0,0)};
q.D_=function(a,c,d,e){this.Sa=a||new q.md(0,0,0);this.eb=c||new q.md(0,0,0);this.ab=d||new q.md(0,0,0);this.Ua=e||new q.md(0,0,0)};q.PM=function(a,c){this.x=a;this.y=c};q.p=function(a,c){return new q.PM(a,c)};q.gc=function(a,c,d){this.B=a||new q.Jb(0,0);this.W=c||new q.bc(0,0,0,0);this.H=d||new q.Mc(0,0)};q.Pu=function(){this.B=new q.Jb(0,0);this.W=new q.ne(0,0,0,0);this.H=new q.Mc(0,0)};q.Jc=function(a,c,d){this.B=a||new q.md(0,0,0);this.W=c||new q.bc(0,0,0,0);this.H=d||new q.Mc(0,0)};
q.Xc=function(a,c,d){this.Q=a||new q.gc;this.o=c||new q.gc;this.Ma=d||new q.gc};q.VN=function(){var a=new q.gc(new q.Jb(0,0),new q.bc(0,0,0,255),new q.Mc(0,0)),c=new q.gc(new q.Jb(0,0),new q.bc(0,0,0,255),new q.Mc(0,0)),d=new q.gc(new q.Jb(0,0),new q.bc(0,0,0,255),new q.Mc(0,0)),e=new q.gc(new q.Jb(0,0),new q.bc(0,0,0,255),new q.Mc(0,0));this.Sa=a||new q.gc;this.eb=c||new q.gc;this.ab=d||new q.gc;this.Ua=e||new q.gc};q.x0=function(){return new q.VN};
q.wc=function(a,c,d,e){this.ab=a||new q.Jc;this.Sa=c||new q.Jc;this.Ua=d||new q.Jc;this.eb=e||new q.Jc};q.Cz=function(){return new q.wc(new q.Jc(new q.md(0,0,0),new q.bc(0,0,0,255),new q.Mc(0,0)),new q.Jc(new q.md(0,0,0),new q.bc(0,0,0,255),new q.Mc(0,0)),new q.Jc(new q.md(0,0,0),new q.bc(0,0,0,255),new q.Mc(0,0)),new q.Jc(new q.md(0,0,0),new q.bc(0,0,0,255),new q.Mc(0,0)))};
q.Bz=function(a){return a?new q.wc(new q.Jc(new q.md(a.ab.B.x,a.ab.B.y,a.ab.B.z),new q.bc(a.ab.W.q,a.ab.W.p,a.ab.W.o,a.ab.W.Q),new q.Mc(a.ab.H.Wa,a.ab.H.ua)),new q.Jc(new q.md(a.Sa.B.x,a.Sa.B.y,a.Sa.B.z),new q.bc(a.Sa.W.q,a.Sa.W.p,a.Sa.W.o,a.Sa.W.Q),new q.Mc(a.Sa.H.Wa,a.Sa.H.ua)),new q.Jc(new q.md(a.Ua.B.x,a.Ua.B.y,a.Ua.B.z),new q.bc(a.Ua.W.q,a.Ua.W.p,a.Ua.W.o,a.Ua.W.Q),new q.Mc(a.Ua.H.Wa,a.Ua.H.ua)),new q.Jc(new q.md(a.eb.B.x,a.eb.B.y,a.eb.B.z),new q.bc(a.eb.W.q,a.eb.W.p,a.eb.W.o,a.eb.W.Q),new q.Mc(a.eb.H.Wa,
a.eb.H.ua))):q.Cz()};q.z0=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.Bz(a[d]));return c};q.y0=function(a,c,d,e){this.Sa=a||new q.Pu;this.eb=c||new q.Pu;this.ab=d||new q.Pu;this.Ua=e||new q.Pu};q.lm=function(a,c){this.src=a;this.Qb=c};q.gZ=function(){return new q.lm(1,0)};q.Oc=function(a){var c=a.q.toString(16),d=a.p.toString(16),e=a.o.toString(16);return"#"+(16>a.q?"0"+c:c)+(16>a.p?"0"+d:d)+(16>a.o?"0"+e:e)};
q.Ja.ed&&(q.bc=function(a,c,d,e,f,g){this.cc=f||new ArrayBuffer(q.bc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.cc;g=this._offset;var h=Uint8Array.BYTES_PER_ELEMENT;this.fB=new Uint8Array(f,g,1);this.AA=new Uint8Array(f,g+h,1);this.Pz=new Uint8Array(f,g+2*h,1);this.Hz=new Uint8Array(f,g+3*h,1);this.fB[0]=a||0;this.AA[0]=c||0;this.Pz[0]=d||0;this.Hz[0]=e||0},q.bc.BYTES_PER_ELEMENT=4,Object.defineProperties(q.bc.prototype,{q:{get:function(){return this.fB[0]},set:function(a){this.fB[0]=a},enumerable:!0},
p:{get:function(){return this.AA[0]},set:function(a){this.AA[0]=a},enumerable:!0},o:{get:function(){return this.Pz[0]},set:function(a){this.Pz[0]=a},enumerable:!0},Q:{get:function(){return this.Hz[0]},set:function(a){this.Hz[0]=a},enumerable:!0}}),q.ne=function(a,c,d,e,f,g){this.cc=f||new ArrayBuffer(q.ne.BYTES_PER_ELEMENT);this._offset=g||0;f=this.cc;g=this._offset;var h=Float32Array.BYTES_PER_ELEMENT;this.eB=new Float32Array(f,g,1);this.eB[0]=a||0;this.zA=new Float32Array(f,g+h,1);this.zA[0]=c||
0;this.Oz=new Float32Array(f,g+2*h,1);this.Oz[0]=d||0;this.Gz=new Float32Array(f,g+3*h,1);this.Gz[0]=e||0},q.ne.BYTES_PER_ELEMENT=16,Object.defineProperties(q.ne.prototype,{q:{get:function(){return this.eB[0]},set:function(a){this.eB[0]=a},enumerable:!0},p:{get:function(){return this.zA[0]},set:function(a){this.zA[0]=a},enumerable:!0},o:{get:function(){return this.Oz[0]},set:function(a){this.Oz[0]=a},enumerable:!0},Q:{get:function(){return this.Gz[0]},set:function(a){this.Gz[0]=a},enumerable:!0}}),
q.Jb=function(a,c,d,e){this.cc=d||new ArrayBuffer(q.Jb.BYTES_PER_ELEMENT);this._offset=e||0;this.ln=new Float32Array(this.cc,this._offset,1);this.mn=new Float32Array(this.cc,this._offset+4,1);this.ln[0]=a||0;this.mn[0]=c||0},q.Jb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Jb.prototype,{x:{get:function(){return this.ln[0]},set:function(a){this.ln[0]=a},enumerable:!0},y:{get:function(){return this.mn[0]},set:function(a){this.mn[0]=a},enumerable:!0}}),q.md=function(a,c,d,e,f){this.cc=e||new ArrayBuffer(q.md.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.cc;f=this._offset;this.ln=new Float32Array(e,f,1);this.ln[0]=a||0;this.mn=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.mn[0]=c||0;this.eC=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.eC[0]=d||0},q.md.BYTES_PER_ELEMENT=12,Object.defineProperties(q.md.prototype,{x:{get:function(){return this.ln[0]},set:function(a){this.ln[0]=a},enumerable:!0},y:{get:function(){return this.mn[0]},set:function(a){this.mn[0]=a},enumerable:!0},z:{get:function(){return this.eC[0]},
set:function(a){this.eC[0]=a},enumerable:!0}}),q.Mc=function(a,c,d,e){this.cc=d||new ArrayBuffer(q.Mc.BYTES_PER_ELEMENT);this._offset=e||0;this.RB=new Float32Array(this.cc,this._offset,1);this.ZB=new Float32Array(this.cc,this._offset+4,1);this.RB[0]=a||0;this.ZB[0]=c||0},q.Mc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.Mc.prototype,{Wa:{get:function(){return this.RB[0]},set:function(a){this.RB[0]=a},enumerable:!0},ua:{get:function(){return this.ZB[0]},set:function(a){this.ZB[0]=a},enumerable:!0}}),
q.vu=function(a,c,d,e,f,g){this.cc=f||new ArrayBuffer(q.vu.BYTES_PER_ELEMENT);this._offset=g||0;f=this.cc;g=q.Jb.BYTES_PER_ELEMENT;this.Cp=a?new q.Jb(a.x,a.y,f,0):new q.Jb(0,0,f,0);this.Ep=c?new q.Jb(c.x,c.y,f,g):new q.Jb(0,0,f,g);this.Bo=d?new q.Jb(d.x,d.y,f,2*g):new q.Jb(0,0,f,2*g);this.Do=e?new q.Jb(e.x,e.y,f,3*g):new q.Jb(0,0,f,3*g)},q.vu.BYTES_PER_ELEMENT=32,Object.defineProperties(q.vu.prototype,{ab:{get:function(){return this.Cp},set:function(a){this.Cp.x=a.x;this.Cp.y=a.y},enumerable:!0},
Ua:{get:function(){return this.Ep},set:function(a){this.Ep.x=a.x;this.Ep.y=a.y},enumerable:!0},Sa:{get:function(){return this.Bo},set:function(a){this.Bo.x=a.x;this.Bo.y=a.y},enumerable:!0},eb:{get:function(){return this.Do},set:function(a){this.Do.x=a.x;this.Do.y=a.y},enumerable:!0}}),q.Jc=function(a,c,d,e,f){this.cc=e||new ArrayBuffer(q.Jc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.cc;f=this._offset;var g=q.md.BYTES_PER_ELEMENT;this.Gp=a?new q.md(a.x,a.y,a.z,e,f):new q.md(0,0,0,e,f);this.Zq=c?
new q.bc(c.q,c.p,c.o,c.Q,e,f+g):new q.bc(0,0,0,0,e,f+g);this.Zm=d?new q.Mc(d.Wa,d.ua,e,f+g+q.bc.BYTES_PER_ELEMENT):new q.Mc(0,0,e,f+g+q.bc.BYTES_PER_ELEMENT)},q.Jc.BYTES_PER_ELEMENT=24,Object.defineProperties(q.Jc.prototype,{B:{get:function(){return this.Gp},set:function(a){var c=this.Gp;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},W:{get:function(){return this.Zq},set:function(a){var c=this.Zq;c.q=a.q;c.p=a.p;c.o=a.o;c.Q=a.Q},enumerable:!0},H:{get:function(){return this.Zm},set:function(a){this.Zm.Wa=
a.Wa;this.Zm.ua=a.ua},enumerable:!0}}),q.wc=function(a,c,d,e,f,g){this.cc=f||new ArrayBuffer(q.wc.BYTES_PER_ELEMENT);this._offset=g||0;f=this.cc;g=this._offset;var h=q.Jc.BYTES_PER_ELEMENT;this.Cp=a?new q.Jc(a.B,a.W,a.H,f,g):new q.Jc(null,null,null,f,g);this.Bo=c?new q.Jc(c.B,c.W,c.H,f,g+h):new q.Jc(null,null,null,f,g+h);this.Ep=d?new q.Jc(d.B,d.W,d.H,f,g+2*h):new q.Jc(null,null,null,f,g+2*h);this.Do=e?new q.Jc(e.B,e.W,e.H,f,g+3*h):new q.Jc(null,null,null,f,g+3*h)},q.wc.BYTES_PER_ELEMENT=96,Object.defineProperties(q.wc.prototype,
{ab:{get:function(){return this.Cp},set:function(a){var c=this.Cp;c.B=a.B;c.W=a.W;c.H=a.H},enumerable:!0},Sa:{get:function(){return this.Bo},set:function(a){var c=this.Bo;c.B=a.B;c.W=a.W;c.H=a.H},enumerable:!0},Ua:{get:function(){return this.Ep},set:function(a){var c=this.Ep;c.B=a.B;c.W=a.W;c.H=a.H},enumerable:!0},eb:{get:function(){return this.Do},set:function(a){var c=this.Do;c.B=a.B;c.W=a.W;c.H=a.H},enumerable:!0},iC:{get:function(){return this.cc},enumerable:!0}}),q.Cz=function(){return new q.wc},
q.Bz=function(a){if(!a)return q.Cz();var c=a.ab,d=a.Sa,e=a.Ua;a=a.eb;return{ab:{B:{x:c.B.x,y:c.B.y,z:c.B.z},W:{q:c.W.q,p:c.W.p,o:c.W.o,Q:c.W.Q},H:{Wa:c.H.Wa,ua:c.H.ua}},Sa:{B:{x:d.B.x,y:d.B.y,z:d.B.z},W:{q:d.W.q,p:d.W.p,o:d.W.o,Q:d.W.Q},H:{Wa:d.H.Wa,ua:d.H.ua}},Ua:{B:{x:e.B.x,y:e.B.y,z:e.B.z},W:{q:e.W.q,p:e.W.p,o:e.W.o,Q:e.W.Q},H:{Wa:e.H.Wa,ua:e.H.ua}},eb:{B:{x:a.B.x,y:a.B.y,z:a.B.z},W:{q:a.W.q,p:a.W.p,o:a.W.o,Q:a.W.Q},H:{Wa:a.H.Wa,ua:a.H.ua}}}},q.gc=function(a,c,d,e,f){this.cc=e||new ArrayBuffer(q.gc.BYTES_PER_ELEMENT);
this._offset=f||0;e=this.cc;f=this._offset;var g=q.Jb.BYTES_PER_ELEMENT;this.Gp=a?new q.Jb(a.x,a.y,e,f):new q.Jb(0,0,e,f);this.Zq=c?new q.bc(c.q,c.p,c.o,c.Q,e,f+g):new q.bc(0,0,0,0,e,f+g);this.Zm=d?new q.Mc(d.Wa,d.ua,e,f+g+q.bc.BYTES_PER_ELEMENT):new q.Mc(0,0,e,f+g+q.bc.BYTES_PER_ELEMENT)},q.gc.BYTES_PER_ELEMENT=20,Object.defineProperties(q.gc.prototype,{B:{get:function(){return this.Gp},set:function(a){this.Gp.x=a.x;this.Gp.y=a.y},enumerable:!0},W:{get:function(){return this.Zq},set:function(a){var c=
this.Zq;c.q=a.q;c.p=a.p;c.o=a.o;c.Q=a.Q},enumerable:!0},H:{get:function(){return this.Zm},set:function(a){this.Zm.Wa=a.Wa;this.Zm.ua=a.ua},enumerable:!0}}),q.Xc=function(a,c,d,e,f){this.cc=e||new ArrayBuffer(q.Xc.BYTES_PER_ELEMENT);this._offset=f||0;e=this.cc;f=this._offset;var g=q.gc.BYTES_PER_ELEMENT;this.TF=a?new q.gc(a.B,a.W,a.H,e,f):new q.gc(null,null,null,e,f);this.YF=c?new q.gc(c.B,c.W,c.H,e,f+g):new q.gc(null,null,null,e,f+g);this.cG=d?new q.gc(d.B,d.W,d.H,e,f+2*g):new q.gc(null,null,null,
e,f+2*g)},q.Xc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.Xc.prototype,{Q:{get:function(){return this.TF},set:function(a){var c=this.TF;c.B=a.B;c.W=a.W;c.H=a.H},enumerable:!0},o:{get:function(){return this.YF},set:function(a){var c=this.YF;c.B=a.B;c.W=a.W;c.H=a.H},enumerable:!0},Ma:{get:function(){return this.cG},set:function(a){var c=this.cG;c.B=a.B;c.W=a.W;c.H=a.H},enumerable:!0}}));
q.K2=function(a){a=a.substr(1).split("");return new q.Ic(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.Kq=0;q.Oj=1;q.MN=2;q.Uu=0;q.Tu=1;q.Su=2;q.Ru=3;
q.H0=q.Oa.extend({ep:null,As:null,Ez:0,ctor:function(){this.ep={};this.As={};this.Ez=2<<(0|10*Math.random())},ZN:function(){this.Ez++;return"key_"+this.Ez},oX:function(a,c){if(null!=c){var d=this.ZN();this.ep[d]=c;this.As[d]=a}},SU:function(a){if(null==a)return null;var c=this.ep,d;for(d in c)if(c[d]===a)return this.As[d];return null},dda:function(a){return this.SU(a)},fW:function(a){if(null!=a){var c=this.ep,d;for(d in c)if(c[d]===a){delete this.As[d];delete c[d];break}}},B$:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.fW(a[c])},vR:function(){var a=[],c=this.ep,d;for(d in c)a.push(c[d]);return a},u$:function(){this.ep={};this.As={}},count:function(){return this.vR().length}});q.OM=function(){this.Ms="Arial";this.fontSize=12;this.zI=q.Oj;this.AI=q.Uu;this.BI=q.Eb();this.Ls=q.size(0,0);this.vE=!1;this.strokeColor=q.Eb();this.PL=1;this.BL=!1;this.CL=q.size(0,0);this.shadowBlur=0;this.DL=1};q.po={Py:0,cz:1,SHOW_ALL:2,Qy:3,Ry:4,w0:5};q.Ou=[];q.Lq={};
q.ra=q.Oa.extend({Ea:null,Id:null,Ro:null,lp:null,jf:null,Jw:null,hr:1,aC:"",mB:null,va:1,NG:1,Da:1,OG:1,Er:0,JG:5,hi:null,UG:null,YG:null,XG:null,VG:null,WG:null,Hr:!1,P0:!1,A1:null,tG:null,uG:null,bO:null,u1:!1,dA:null,j1:null,Yk:null,vA:1,Zu:!1,zG:!0,ctor:function(){this.Yk=q.sk.parentNode===document.body?document.documentElement:q.sk.parentNode;this.Id=q.size(0,0);this.vG();var a=q.canvas.width,c=q.canvas.height;this.Ro=q.size(a,c);this.lp=q.size(a,c);this.jf=q.rect(0,0,a,c);this.Jw=q.rect(0,
0,a,c);this.Ea=q.fa.g().gf;this.dA={left:0,top:0};this.aC="Cocos2dHTML5";q.PF.w(this.Ro);this.UG=new q.qo(q.lh.Qt,q.Ve.Py);this.YG=new q.qo(q.lh.wN,q.Ve.SHOW_ALL);this.XG=new q.qo(q.lh.Qt,q.Ve.cz);this.VG=new q.qo(q.lh.Qt,q.Ve.Qy);this.WG=new q.qo(q.lh.Qt,q.Ve.Ry);this.tG=q.canvas;this.uG=q.da},nB:function(){this.ctor();this.mB&&this.mB.call();var a=this.Id.width,c=this.Id.height;0<a&&this.WD(a,c,this.hi)},mW:function(a){a?this.Zu||(this.Zu=!0,a=this.nB.bind(this),window.addEventListener("resize",
a,!1)):this.Zu&&(this.Zu=!0,a=this.nB.bind(this),window.removeEventListener("resize",a,!1))},DX:function(a){if("function"==typeof a||null==a)this.mB=a},vG:function(){var a=this.Id;a.width=this.Yk.clientWidth;a.height=this.Yk.clientHeight;this.Id=a},M0:function(){var a=this.lp.width,c=this.lp.height;0<a&&this.WD(a,c,this.hi)},CQ:function(){if(this.zG){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),
c.name="viewport",c.content="",document.head.appendChild(c)):c=c[0];if(q.Ja.vj&&"firefox"==q.Ja.type)c.content="initial-scale:1";else{d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}}},vQ:function(){var a=q.fd();this.Da=this.va=a},YP:function(){this.va=this.NG;this.Da=this.OG},WO:function(){var a,c=this.Er;for(a=0;a<this.JG;a++){if(!(c&1))return this.Er|=1<<a,a;c>>=1}return-1},UP:function(a){0>a||a>=this.JG||(a=~(1<<a),this.Er&=a)},N0:function(){},jU:function(){this.Hr=
!0},P1:function(a){this.zG=a},end:function(){},e8:function(){return null!=this.tG&&null!=this.uG},Aaa:function(a){this.vA=a;q.fa.g().Sx(q.fa.g().ll)},tca:function(){},Eaa:function(){},maa:function(a,c){this.dA={left:a,top:c}},r4:function(){return this.dA},vn:function(){return q.size(this.Id.width,this.Id.height)},zaa:function(a,c){this.Id.width=a;this.Id.height=c;this.Yk.style.width=a+"px";this.Yk.style.height=c+"px";this.nB();q.fa.g().Sx(q.fa.g().ll)},w2:function(){},$$:function(a){this.bO=a},Ts:function(){return this.Jw.Ya},
cJ:function(){return this.Jw.gd},s2:function(){return!0},e6:function(){return this.hi},EX:function(a){if(a instanceof q.qo)this.hi=a;else switch(a){case q.po.Py:this.hi=this.UG;break;case q.po.SHOW_ALL:this.hi=this.YG;break;case q.po.cz:this.hi=this.XG;break;case q.po.Qy:this.hi=this.VG;break;case q.po.Ry:this.hi=this.WG}},WD:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else{this.EX(d);var e=this.hi;if(e){e.Mn(this);var f=this.Id.width,g=this.Id.height;q.Ja.vj&&
this.CQ(this.Id.width,this.Id.height);this.vG();if(d!=this.hi||a!=this.lp.width||c!=this.lp.height||f!=this.Id.width||g!=this.Id.height)this.Ro=q.size(a,c),this.lp=q.size(a,c),a=e.apply(this,this.Ro),a.scale&&2==a.scale.length&&(this.va=a.scale[0],this.Da=a.scale[1]),a.viewport instanceof q.zg&&(a=this.jf=a.viewport,c=this.Jw,c.Ya.width=q.canvas.width/this.va,c.Ya.height=q.canvas.height/this.Da,c.gd.x=-a.x/this.va,c.gd.y=-a.y/this.Da),a=q.fa.g(),a.dc=this.Rp(),e.Ln(this),q.Td==q.Nk&&(a.Po(),a.VK()),
this.NG=this.va,this.OG=this.Da,q.tc&&q.tc.WP(),q.PF.w(this.Ts())}else q.log("should set resolutionPolicy")}},Rp:function(){return q.size(this.Ro.width,this.Ro.height)},Kba:function(a){this.Ea=a},TX:function(a,c,d,e){var f=this.vA,g=this.va,h=this.Da;q.da.viewport(a*g*f+this.jf.x*f,c*h*f+this.jf.y*f,d*g*f,e*h*f)},dE:function(a,c,d,e){var f=this.vA,g=this.va,h=this.Da;q.da.scissor(a*g*f+this.jf.x*f,c*h*f+this.jf.y*f,d*g*f,e*h*f)},vU:function(){var a=q.da;return a.isEnabled(a.SCISSOR_TEST)},sT:function(){var a=
q.da,c=this.va,d=this.Da,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.jf.x)/c,(a[1]-this.jf.y)/d,a[2]/c,a[3]/d)},Sba:function(a){null!=a&&0<a.length&&(this.aC=a)},d7:function(){return this.aC},e7:function(){return this.jf},qT:function(){return this.va},rT:function(){return this.Da},C4:function(){return this.hr},tk:function(a,c,d){return{x:this.hr*(a-d.left),y:this.hr*(d.top+d.height-c)}},RT:function(a,c,d,e){for(var f=[],g=this.jf,h=this.va,k=this.Da,l=0;l<a;++l){var m=c[l],p=d[l],s=e[l],
u=0;if(null==q.Lq[m])if(u=this.WO(),-1==u)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+u);else{var w=q.Ou[u]=new q.vf;w.jE(u,(p-g.x)/h,(s-g.y)/k);q.Lq[m]=0|u;f.push(w)}}0!==f.length&&this.Ea.ky(f,null)},UT:function(a,c,d,e){for(var f=[],g=this.va,h=this.Da,k=this.jf.x,l=this.jf.y,m=0;m<a;++m){var p=d[m],s=e[m],u=q.Lq[c[m]];if(null!=u){var w=q.Ou[u];if(w)w.jE(u,(p-k)/g,(s-l)/h),f.push(w);else return}}0!=f.length&&this.Ea.ly(f,null)},TT:function(a,c,d,e){var f=[];this.VI(f,a,c,d,
e);this.Ea.yt(f,null)},ST:function(a,c,d,e){var f=[];this.VI(f,a,c,d,e);this.Ea.BE(f,null)},VI:function(a,c,d,e,f){for(var g=this.va,h=this.Da,k=this.jf,l=0;l<c;++l){var m=d[l],p=e[l],s=f[l],u=q.Lq[m];if(null!=u){var w=q.Ou[u];if(w)w.jE(u,(p-k.x)/g,(s-k.y)/h),a.push(w),q.Ou[u]=null,this.UP(u),delete q.Lq[m];else break}}},ky:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Tf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.RT(f,c,d,e)},ly:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=
a[h],c[f]=g.Tf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.UT(f,c,d,e)},yt:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Tf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.TT(f,c,d,e)},BE:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.Tf||h,d[f]=g.S.x,e[f]=g.S.y,++f;this.ST(f,c,d,e)}});q.ra.g=function(){this.Mb||(q.fa.g(),this.Mb=this.Mb||new q.ra,this.Mb.jU());return this.Mb};
q.lh=q.Oa.extend({WF:!1,Mn:function(){if("iOS"==t.gK||"OS X"==t.gK)this.WF=!0},apply:function(){},Ln:function(){},yB:function(a,c,d){var e=a.Yk;q.Ja.vj&&e==document.documentElement&&q.oz.g().BR(e);var e=q.canvas,f=q.sk;f.style.width=e.style.width=c+"px";f.style.height=e.style.height=d+"px";f=a.hr=1;this.WF&&(f=a.hr=window.devicePixelRatio||1);e.width=c*f;e.height=d*f;a=document.body;var g;a&&(g=a.style)&&(g.paddingTop=g.paddingTop||"0px",g.paddingRight=g.paddingRight||"0px",g.paddingBottom=g.paddingBottom||
"0px",g.paddingLeft=g.paddingLeft||"0px",g.borderTop=g.borderTop||"0px",g.borderRight=g.borderRight||"0px",g.borderBottom=g.borderBottom||"0px",g.borderLeft=g.borderLeft||"0px",g.marginTop=g.marginTop||"0px",g.marginRight=g.marginRight||"0px",g.marginBottom=g.marginBottom||"0px",g.marginLeft=g.marginLeft||"0px")},nG:function(){document.body.insertBefore(q.sk,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.sk.style;
a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});q.Ve=q.Oa.extend({pB:{scale:[1,1],viewport:null},Vq:function(a,c,d,e,f,g){2>Math.abs(a-d)&&(d=a);2>Math.abs(c-e)&&(e=c);a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.Td==q.vg&&q.da.translate(a.x,a.y+e);this.pB.scale=[f,g];this.pB.viewport=a;return this.pB},Mn:function(){},apply:function(){return{scale:[1,1]}},Ln:function(){}});
(function(){var a=q.lh.extend({apply:function(a){this.yB(a,a.Id.width,a.Id.height)}}),c=q.lh.extend({apply:function(a,c){var d=a.Id.width,e=a.Id.height,f=q.sk.style,p=c.width,s=c.height,u=d/p,w=e/s,x,F;u<w?(x=d,F=s*u):(x=p*w,F=e);p=Math.round((d-x)/2);F=Math.round((e-F)/2);this.yB(a,d-2*p,e-2*F);f.marginLeft=p+"px";f.marginRight=p+"px";f.marginTop=F+"px";f.marginBottom=F+"px"}});a.extend({Mn:function(a){this._super(a);a.Yk=document.documentElement},apply:function(a){this._super(a);this.nG()}});c.extend({Mn:function(a){this._super(a);
a.Yk=document.documentElement},apply:function(a,c){this._super(a,c);this.nG()}});var d=q.lh.extend({apply:function(a){this.yB(a,q.canvas.width,q.canvas.height)}});q.lh.Qt=new a;q.lh.wN=new c;q.lh.v_=new d;var a=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.Vq(d,e,d,e,d/c.width,e/c.height)}}),c=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,s=d/f,u=e/p,w=0,x,F;s<u?(w=s,x=d,F=p*w):(w=u,x=f*w,F=e);return this.Vq(d,e,
x,F,w,w)}}),d=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,p=c.height,s=d/f,u=e/p,w,x,F;s<u?(w=u,x=f*w,F=e):(w=s,x=d,F=p*w);return this.Vq(d,e,x,F,w,w)}}),e=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.Vq(d,e,d,e,f,f)},Ln:function(a){q.fa.g().dc=a.Ts()}}),f=q.Ve.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.Vq(d,e,d,e,f,f)},Ln:function(a){q.fa.g().dc=a.Ts()}});q.Ve.Py=
new a;q.Ve.SHOW_ALL=new c;q.Ve.cz=new d;q.Ve.Qy=new e;q.Ve.Ry=new f})();q.qo=q.Oa.extend({nv:null,ov:null,ctor:function(a,c){this.PW(a);this.SW(c)},Mn:function(a){this.nv.Mn(a);this.ov.Mn(a)},apply:function(a,c){this.nv.apply(a,c);return this.ov.apply(a,c)},Ln:function(a){this.nv.Ln(a);this.ov.Ln(a)},PW:function(a){a instanceof q.lh&&(this.nv=a)},SW:function(a){a instanceof q.Ve&&(this.ov=a)}});q.oz=q.Oa.extend({ks:!1,Sk:"",$A:null,aB:null,QB:"",w:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.ks=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.ks=!0;this.Sk=f;break}this.QB="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.ks)switch(this.Sk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Sk+"FullScreen"]}return!1},AK:function(a,
c){if(this.ks&&!this.fullScreen()){if(c){var d=this.Sk+"fullscreenchange";this.$A&&this.aB&&this.$A.removeEventListener(d,this.aB);this.$A=a;this.aB=c;a.addEventListener(d,c,!1)}return""===this.Sk?a.requestFullScreen():a[this.Sk+"RequestFullScreen"]()}},t3:function(){if(this.ks&&this.fullScreen())return""===this.Sk?document.body.cancelFullScreen():document.body[this.Sk+"CancelFullScreen"]()},BR:function(a,c){function d(){e.AK(a,c);a.removeEventListener(e.QB,d)}var e=this;this.AK(a,c);a.addEventListener(this.QB,
d)}});q.oz.g=function(){if(!this.Mb){var a=new q.oz;a.w();this.Mb=a}return this.Mb};q.PF={oi:q.Kd(),Ch:q.Kd(),ni:q.Kd(),Si:q.Kd(),Ti:q.Kd(),Ri:q.Kd(),Wz:q.Kd(),cj:q.Kd(),ii:q.Kd(),Ia:0,ya:0,w:function(a){this.Ia=a.width;this.ya=a.height;a=this.Ia;var c=this.ya;this.oi.U=c;this.Ch.I=a;this.Ch.U=c;this.ni.I=a/2;this.ni.U=c;this.Ti.I=a;this.Ri.I=a/2;this.Wz.I=a/2;this.Wz.U=c/2;this.cj.U=c/2;this.ii.I=a;this.ii.U=c/2},Us:function(){return this.Ia},Qs:function(){return this.ya},Mca:function(){return this.oi},Nca:function(){return this.Ch},top:function(){return this.ni},g2:function(){return this.Si},
h2:function(){return this.Ti},bottom:function(){return this.Ri},v2:function(){return this.Wz},left:function(){return this.cj},right:function(){return this.ii}};q.fy=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("}"),-1==a.indexOf("{")&&-1==d&&(c=a.split(","))))}return c};q.zF=function(a){var c=q.wd();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=q.fy(a.substr(0,d)),a=q.fy(a.substr(d+1,a.length-d)),c=q.rect(parseFloat(c[0]),parseFloat(c[1]),parseFloat(a[0]),parseFloat(a[1])))))}return c};
q.yF=function(a){var c=q.Kj();try{if(""==a)return c;var d=q.fy(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.pz=function(a){var c=q.qm();try{if(""==a)return c;var d=q.fy(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.UY=function(a,c,d,e,f,g){this.Q=a;this.o=c;this.Ma=d;this.d=e;this.jb=f;this.kb=g};q.J0=function(a,c,d,e,f,g){return{Q:a,o:c,Ma:d,d:e,jb:f,kb:g}};q.XY=function(a,c,d,e,f,g){return{Q:a,o:c,Ma:d,d:e,jb:f,kb:g}};q.K0=function(a,c){return{x:c.Q*a.x+c.Ma*a.y+c.jb,y:c.o*a.x+c.d*a.y+c.kb}};q.xF=function(a,c){return{x:c.Q*a.x+c.Ma*a.y+c.jb,y:c.o*a.x+c.d*a.y+c.kb}};q.Pk=function(a,c,d){return{x:d.Q*a+d.Ma*c+d.jb,y:d.o*a+d.d*c+d.kb}};
q.L0=function(a,c){return{width:c.Q*a.width+c.Ma*a.height,height:c.o*a.width+c.d*a.height}};q.e0=function(a,c){return{width:c.Q*a.width+c.Ma*a.height,height:c.o*a.width+c.d*a.height}};q.YY=function(){return{Q:1,o:0,Ma:0,d:1,jb:0,kb:0}};q.WY=function(){return{Q:1,o:0,Ma:0,d:1,jb:0,kb:0}};
q.Qf=function(a,c){var d=q.Ql(a),e=q.Pl(a),f=q.Nn(a),g=q.On(a),h=q.Pk(e,d,c),d=q.Pk(f,d,c),e=q.Pk(e,g,c),k=q.Pk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.Oi=function(a,c){var d=q.Ql(a),e=q.Pl(a),f=q.Nn(a),g=q.On(a),h=q.Pk(e,d,c),d=q.Pk(f,d,c),e=q.Pk(e,g,c),k=q.Pk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.wy=function(a,c,d){return{Q:a.Q,o:a.o,Ma:a.Ma,d:a.d,jb:a.jb+a.Q*c+a.Ma*d,kb:a.kb+a.o*c+a.d*d}};q.ZY=function(a,c,d){return{Q:a.Q*c,o:a.o*c,Ma:a.Ma*d,d:a.d*d,jb:a.jb,kb:a.kb}};
q.pM=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{Q:a.Q*d+a.Ma*c,o:a.o*d+a.d*c,Ma:a.Ma*d-a.Q*c,d:a.d*d-a.o*c,jb:a.jb,kb:a.kb}};q.hm=function(a,c){return{Q:a.Q*c.Q+a.o*c.Ma,o:a.Q*c.o+a.o*c.d,Ma:a.Ma*c.Q+a.d*c.Ma,d:a.Ma*c.o+a.d*c.d,jb:a.jb*c.Q+a.kb*c.Ma+c.jb,kb:a.jb*c.o+a.kb*c.d+c.kb}};q.VY=function(a,c){return a.Q===c.Q&&a.o===c.o&&a.Ma===c.Ma&&a.d===c.d&&a.jb===c.jb&&a.kb===c.kb};
q.ME=function(a){var c=1/(a.Q*a.d-a.o*a.Ma);return{Q:c*a.d,o:-c*a.o,Ma:-c*a.Ma,d:c*a.Q,jb:c*(a.Ma*a.kb-a.d*a.jb),kb:c*(a.o*a.jb-a.Q*a.kb)}};q.nF=parseFloat("1.192092896e-07F");q.zD=function(a){return q.a(-a.x,-a.y)};q.bh=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.Rd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.yj=function(a,c){return q.a(a.x*c,a.y*c)};q.yD=function(a,c){return q.yj(q.bh(a,c),0.5)};q.iq=function(a,c){return a.x*c.x+a.y*c.y};q.B9=function(a,c){return a.x*c.y-a.y*c.x};q.Bx=function(a){return q.a(-a.y,a.x)};q.J9=function(a){return q.a(a.y,-a.x)};q.I9=function(a,c){return q.yj(c,q.iq(a,c)/q.iq(c,c))};
q.K9=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.P9=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.iK=function(a){return q.iq(a,a)};q.C9=function(a,c){return q.iK(q.Rd(a,c))};q.wD=function(a){return Math.sqrt(q.iK(a))};q.vD=function(a,c){return q.wD(q.Rd(a,c))};q.Rh=function(a){return q.yj(a,1/q.wD(a))};q.D9=function(a){return q.a(Math.cos(a),Math.sin(a))};q.O9=function(a){return Math.atan2(a.y,a.x)};q.Fs=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.hK=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.Fs(a.x,c.x,d.x),q.Fs(a.y,c.y,d.y))};q.hV=function(){var a=q.fa.g().dc;return q.a(a.width,a.height)};q.A9=function(a,c){return q.a(c(a.x),c(a.y))};q.jK=function(a,c,d){return q.bh(q.yj(a,1-d),q.yj(c,d))};q.E9=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.z9=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.y9=function(a,c){var d=q.Rh(a),e=q.Rh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.iq(d,e));return Math.abs(d)<q.nF?0:d};
q.x9=function(a,c){var d=Math.acos(q.iq(q.Rh(a),q.Rh(c)));return Math.abs(d)<q.nF?0:d};q.jV=function(a,c,d){a=q.Rd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.xD=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.M9=function(a,c,d,e){var f=q.a(0,0);return q.xD(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.G9=function(a,c,d,e){var f=q.a(0,0);return q.xD(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.Kj()};q.L9=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.Q9=function(a){a.x=0;a.y=0};q.F9=function(a,c){a.x=c.x;a.y=c.y};q.iV=function(a,c){a.x*=c;a.y*=c};q.N9=function(a,c){a.x-=c.x;a.y-=c.y};q.w9=function(a,c){a.x+=c.x;a.y+=c.y};
q.H9=function(a){q.iV(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.fda=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.Bx(q.Rh(q.Rd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.Bx(q.Rh(q.Rd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var p=q.a(a[2*(k+1)],a[2*(k+1)+1]),s=q.Rh(q.Rd(p,l)),u=q.Rh(q.Rd(m,l)),w=Math.acos(q.iq(s,u));m=w<q.Ij(70)?q.Bx(q.Rh(q.yD(s,u))):w<q.Ij(170)?q.Rh(q.yD(s,u)):q.Bx(q.Rh(q.Rd(p,m)))}m=q.yj(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.Vu(d[2*g],d[2*g+1]),f=q.Vu(d[2*(g+1)],d[2*(g+1)+1]),g=q.Vu(d[2*a],d[2*a]),e=q.Vu(d[2*(a+1)],d[2*(a+1)+1]),c=!q.EY(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.at&&(0>c.value||1<c.value)&&(c.at=!0),c.at&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.EY=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{at:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{at:!1,value:0}:{at:!0,value:(h+(f-h)*k/(k-g))/a}};q.hZ=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.Q;c[4]=a.Ma;c[12]=a.jb;c[1]=a.o;c[5]=a.d;c[13]=a.kb};q.SZ=function(a,c){c.Q=a[0];c.Ma=a[4];c.jb=a[12];c.o=a[1];c.d=a[5];c.kb=a[13]};q.lF=-1;q.o_=null;q.p_=null;q.uW=1;
q.G=q.Oa.extend({ob:0,Iw:0,Lg:0,ji:0,va:1,Da:1,u:null,Be:0,Ce:0,C:null,za:!0,vm:null,Fd:null,Ca:null,bf:!1,ea:null,ck:!1,Cd:q.lF,DH:null,XB:null,ok:!0,Hv:!0,dG:!0,w1:null,nk:null,yG:null,Ae:!1,Zc:null,Wf:0,ph:null,Mg:null,xG:!1,Pq:!1,bv:null,Wi:null,NA:!1,Rm:0,Xr:0,JA:function(){this.vm=q.Kd();this.Fd=q.Kd();this.Ca=q.Um();this.u=q.Kd();this.C=[];this.nk={Q:1,o:0,Ma:0,d:1,jb:0,kb:0};var a=q.fa.g();this.ph=a.hg();this.Mg=a.Jf();this.xG=!0;this.bv={Q:1,o:0,Ma:0,d:1,jb:0,kb:0};q.zM&&(this.Wi=new q.zM(this))},
w:function(){!1===this.xG&&this.JA();return!0},Cg:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.G.Rf;switch(c){case d.$g:for(d=0;d<e;d++)(f=a[d])&&f.$g();break;case d.he:for(d=0;d<e;d++)(f=a[d])&&f.he();break;case d.Gi:for(d=0;d<e;d++)(f=a[d])&&f.Gi();break;case d.fg:for(d=0;d<e;d++)(f=a[d])&&f.fg();break;case d.tg:for(d=0;d<e;d++)(f=a[d])&&f.tg();break;case d.Ph:for(d=0;d<e;d++)(f=a[d])&&f.Ph();break;case d.ke:for(d=0;d<e;d++)(f=a[d])&&f.ke();break;default:throw"Unknown callback function";
}}},gb:null,nQ:function(){this.Tm();!1===this.ok&&(this.ok=this.Hv=!0)},oQ:function(){!1===this.ok&&(this.ok=this.Hv=!0)},t6:function(){return this.Be},Xx:function(a){this.Be=a;this.gb()},u6:function(){return this.Ce},Yx:function(a){this.Ce=a;this.gb()},k7:function(){return this.ob},lw:function(a){this.ob=a},Uba:function(a){this.lw(a);this.ea&&this.ea.gt(this,a)},a7:function(){return this.Iw},uL:function(a){this.Iw=a},pT:function(){this.Lg!==this.ji&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Lg},Ux:function(a){this.Lg=this.ji=a;this.Rm=0.017453292519943295*this.Lg;this.Xr=0.017453292519943295*this.ji;this.gb()},i6:function(){return this.Lg},Vx:function(a){this.Lg=a;this.Rm=0.017453292519943295*this.Lg;this.gb()},j6:function(){return this.ji},Wx:function(a){this.ji=a;this.Xr=0.017453292519943295*this.ji;this.gb()},NC:function(){this.va!==this.Da&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.va},Ck:function(a,c){this.va=a;this.Da=
c||0===c?c:a;this.gb()},qT:function(){return this.va},nq:function(a){this.va=a;this.gb()},rT:function(){return this.Da},Vn:function(a){this.Da=a;this.gb()},l:function(a,c){var d=this.u;2==arguments.length?(d.I=a,d.U=c):1==arguments.length&&(d.I=a.x,d.U=a.y);this.gb()},T5:function(){return this.u},U5:function(){return this.u.I},Na:function(a){this.u.I=a;this.gb()},V5:function(){return this.u.U},Cc:function(a){this.u.U=a;this.gb()},j4:function(){return this.C.length},i4:function(){return this.C},HJ:function(){return this.za},
D:function(a){this.za=a;this.gb()},R3:function(){return this.vm},A:function(a,c){var d=this.vm;if(2===arguments.length){if(a===d.I&&c===d.U)return;d.I=a;d.U=c}else{if(a.x===d.I&&a.y===d.U)return;d.I=a.x;d.U=a.y}var e=this.Fd,f=this.Ca;e.I=f.Ia*d.I;e.U=f.ya*d.U;this.gb()},S3:function(){return this.Fd},c:function(){return this.Ca},O:function(a,c){var d=this.Ca;if(2===arguments.length){if(a===d.Ia&&c===d.ya)return;d.Ia=a;d.ya=c}else{if(a.width===d.Ia&&a.height===d.ya)return;d.Ia=a.width;d.ya=a.height}var e=
this.Fd,f=this.vm;e.I=d.Ia*f.I;e.U=d.ya*f.U;this.gb()},m8:function(){return this.bf},getParent:function(){return this.ea},nt:function(a){this.ea=a},X7:function(){return this.ck},tj:function(a){a!=this.ck&&(this.ck=a,this.gb())},CT:function(){return this.Cd},qL:function(a){this.Cd=a},getUserData:function(){return this.DH},setUserData:function(a){this.DH=a},Y6:function(){return this.XB},Oba:function(a){this.XB!=a&&(this.XB=a)},K5:function(){return this.Wf},mq:function(a){this.Wf=a},hg:function(){this.ph||
(this.ph=q.fa.g().hg());return this.ph},FW:function(a){this.ph!=a&&(this.tE(),this.ph=a)},Jf:function(){this.Mg||(this.Mg=q.fa.g().Jf());return this.Mg},GX:function(a){this.Mg!=a&&(this.zt(),this.Mg=a)},pb:function(){var a=q.rect(0,0,this.Ca.Ia,this.Ca.ya);return q.Oi(a,this.kg())},fg:function(){this.tE();this.zt();this.Cg(this.C,q.G.Rf.fg)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Cd+"\x3e"},VS:function(a){var c=this.C;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Cd==
a)return e}return null},f:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.ea?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.ob,a.Cd=null!=d?d:a.Cd,this.iP(a,c),a.ea=this,this.bf&&(a.$g(),this.NA&&a.Gi()))},K:function(a){this.ea&&(null==a&&(a=!0),this.ea.removeChild(this,a))},dW:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.K(a)},removeChild:function(a,c){0!==this.C.length&&(null==c&&(c=!0),-1<this.C.indexOf(a)&&this.LO(a,c),this.gb())},z$:function(a,c){a===q.lF&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.VS(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},r$:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.$b(a)},$b:function(a){var c=this.C;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.bf&&(e.Ph(),e.he()),a&&e.fg(),e.nt(null))}this.C.length=0}},LO:function(a,c){this.bf&&(a.Ph(),a.he());c&&a.fg();a.nt(null);q.le(this.C,a)},iP:function(a,c){this.Ae=!0;this.C.push(a);a.lw(c)},gt:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Ae=!0;a.mq(q.uW++);a.lw(c);this.gb()},ke:function(){if(this.Ae){var a=this.C,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.ob<f.ob||g.ob==f.ob&&g.Wf<f.Wf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Ae=!1}},Za:function(){},my:function(){null!=this.ea&&(this.ea.my(),this.ea.transform())},$g:function(){this.NA=!1;this.bf=!0;this.Cg(this.C,q.G.Rf.$g);this.Jx()},Gi:function(){this.NA=!0;this.Cg(this.C,q.G.Rf.Gi)},Ph:function(){this.Cg(this.C,q.G.Rf.Ph)},he:function(){this.bf=!1;this.Dx();this.Cg(this.C,q.G.Rf.he);this.Wi&&this.Wi.ZV()},Kx:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.hg().fR(a,this,!this.bf);return a},tE:function(){this.hg().wK(this)},
mY:function(a){this.hg().vK(a)},mca:function(a){a===q.fo?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.hg().YV(a,this)},FC:function(a){return a===q.fo?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.hg().FC(a,this)},x5:function(){return this.hg().ZJ(this)},n9:function(){return this.hg().ZJ(this)},xW:function(){this.yW(0)},yW:function(a){this.Jf().EK(this,a,!this.bf)},Sca:function(){this.Jf().sq(this)},lc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.pm:d;e=e||0;this.Jf().wW(this,a,c,d,e,!this.bf)},Ud:function(a,c){this.lc(a,0,0,c)},Uc:function(a){a&&this.Jf().WL(this,a)},zt:function(){this.Jf().VL(this)},Jx:function(){this.Jf().Qn(this);this.hg().Qn(this)},Dx:function(){this.Jf().ft(this);this.hg().ft(this)},aaa:function(a){this.bv=a;this.Pq=this.ok=!0},T9:function(){this.Hv&&(this.yG=q.ME(this.kg()),this.Hv=!1);return this.yG},Hn:function(){for(var a=this.kg(),c=this.ea;null!=
c;c=c.getParent())a=q.hm(a,c.kg());return a},GY:function(){return q.ME(this.Hn())},Ka:function(a){return q.xF(a,this.GY())},ul:function(a){return q.xF(a,this.Hn())},aS:function(a){return q.Rd(this.Ka(a),this.Fd)},L2:function(a){a=q.bh(a,this.Fd);return this.ul(a)},Q0:function(a){a=this.ul(a);return q.fa.g().bS(a)},ti:function(a){return this.Ka(a.S)},M2:function(a){a=a.S;a=q.fa.g().$R(a);return this.aS(a)},update:function(a){this.Wi&&!this.Wi.T7()&&this.Wi.Ba(a)},tg:function(){this.Cg(this.C,q.G.Rf.tg)},
CK:function(){},uK:function(){},WS:function(a){return this.Wi.WS(a)},D1:function(a){this.Wi.add(a)},A$:function(a){return this.Wi.remove(a)},s$:function(){this.Wi.ZV()},qH:null,KB:null,FA:null,Ho:null,$k:null,ctor:null,$h:function(){this.JA()},ai:function(){this.JA();var a=new q.Nh;a.Oh[2]=a.Oh[3]=a.Oh[6]=a.Oh[7]=a.Oh[8]=a.Oh[9]=a.Oh[11]=a.Oh[14]=0;a.Oh[10]=a.Oh[15]=1;this.qH=a;this.FA=0;this.KB=new q.Nh},Ba:null,hn:function(a){if(this.za){a=a||q.da;var c,d=this.C,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.ke();for(c=0;c<f;c++)if(e=d[c],0>e.ob)e.Ba(a);else break;for(this.Za(a);c<f;c++)d[c].Ba(a)}else this.Za(a);this.Wf=0;a.restore()}},jn:function(){if(this.za){var a=q.da,c,d=q.gS;d.stack.push(d.top);q.E8(this.KB,d.top);d.top=this.KB;var e=this.$k;e&&e.dO&&e.kC();this.transform();var f=this.C;if(f&&0<f.length){var g=f.length;this.ke();for(c=0;c<g;c++)if(f[c]&&0>f[c].ob)f[c].Ba();else break;for(this.Za(a);c<g;c++)f[c]&&f[c].Ba()}else this.Za(a);this.Wf=0;e&&e.dO&&e.gC(this);d.top=
d.stack.pop()}},transform:null,OQ:function(a){a=a||q.da;var c=q.ra.g(),d=this.kg();a.transform(d.Q,d.Ma,d.o,d.d,d.jb*c.va,-d.kb*c.Da)},PQ:function(){var a=this.qH,c=q.gS.top,d=this.kg(),e=a.Oh;e[0]=d.Q;e[4]=d.Ma;e[12]=d.jb;e[1]=d.o;e[5]=d.d;e[13]=d.kb;e[14]=this.Iw;q.EU(c,c,a);null==this.Ho||null!=this.$k&&this.$k.dq()||(a=this.Fd.I,c=this.Fd.U,0!==a||0!==c?(q.CU(q.yg(a),q.yg(c),0),this.Ho.PJ(),q.CU(q.yg(-a),q.yg(-c),0)):this.Ho.PJ())},kg:null,yP:function(){this.nk||(this.nk={Q:1,o:0,Ma:0,d:1,jb:0,
kb:0});if(this.ok){var a=this.nk;a.jb=this.u.I;a.kb=this.u.U;var c=1,d=0;this.Lg&&(c=Math.cos(this.Rm),d=Math.sin(this.Rm));a.Q=a.d=c;a.o=-d;a.Ma=d;var e=this.va,f=this.Da,g=this.Fd.I,h=this.Fd.U,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Be||this.Ce){var m=Math.tan(-this.Be*Math.PI/180),p=Math.tan(-this.Ce*Math.PI/180),s=h*m*k,u=g*p*l;a.Q=c+-d*p;a.o=c*m+-d;a.Ma=d+c*p;a.d=d*m+c;a.jb+=c*s+-d*u;a.kb+=d*s+c*u}if(1!==e||1!==f)a.Q*=k,a.Ma*=k,a.o*=l,a.d*=l;a.jb+=c*-g*k+-d*h*l;a.kb-=d*-g*
k+c*h*l;this.ck&&(a.jb+=g,a.kb+=h);this.Pq&&(this.nk=q.hm(this.nk,this.bv),this.Pq=!1);this.ok=!1}return this.nk},zP:function(){if(this.ok){var a=this.u.I,c=this.u.U,d=this.Fd.I,e=-d,f=this.Fd.U,g=-f,h=this.va,k=this.Da;this.ck&&(a+=d,c+=f);var l=1,m=0,p=1,s=0;if(0!==this.Lg||0!==this.ji)l=Math.cos(-this.Rm),m=Math.sin(-this.Rm),p=Math.cos(-this.Xr),s=Math.sin(-this.Xr);var u=this.Be||this.Ce;u||0===d&&0===f||(a+=p*e*h+-m*g*k,c+=s*e*h+l*g*k);a={Q:p*h,o:s*h,Ma:-m*k,d:l*k,jb:a,kb:c};u&&(a=q.hm({Q:1,
o:Math.tan(q.Ij(this.Ce)),Ma:Math.tan(q.Ij(this.Be)),d:1,jb:0,kb:0},a),0!==d||0!==f)&&(a=q.wy(a,e,g));this.Pq&&(a=q.hm(a,this.bv),this.Pq=!1);this.nk=a;this.ok=!1}return this.nk},Tm:function(){this.dG=!0;this.ea&&this.ea.Tm()},GC:function(){this.Ho||(this.Ho=new q.zq);return this.Ho},T4:function(){return this.$k},Caa:function(a){this.$k=a},PC:function(){return this.Zc},gh:function(a){this.Zc=a},S4:function(){return this.FA},Baa:function(a){this.FA=a},a4:function(){var a=q.rect(0,0,this.Ca.Ia,this.Ca.ya),
c=this.Hn(),a=q.Qf(a,this.Hn());if(!this.C)return a;for(var d=this.C,e=0;e<d.length;e++){var f=d[e];f&&f.za&&(f=f.pG(c))&&(a=q.Gx(a,f))}return a},pG:function(a){var c=q.rect(0,0,this.Ca.Ia,this.Ca.ya);a=null==a?this.kg():q.hm(this.kg(),a);c=q.Qf(c,a);if(!this.C)return c;for(var d=this.C,e=0;e<d.length;e++){var f=d[e];f&&f.za&&(f=f.pG(a))&&(c=q.Gx(c,f))}return c}});
q.Ja.ed?(b=q.G.prototype,b.ctor=q.G.prototype.ai,b.gb=q.G.prototype.oQ,b.Ba=q.G.prototype.jn,b.transform=q.G.prototype.PQ,b.kg=q.G.prototype.zP):(b=q.G.prototype,b.ctor=q.G.prototype.$h,b.gb=q.G.prototype.nQ,b.Ba=q.G.prototype.hn,b.transform=q.G.prototype.OQ,b.kg=q.G.prototype.yP);q.G.create=function(){return new q.G};q.G.Rf={$g:1,he:2,fg:3,Gi:4,tg:5,Ph:6,ke:7};
q.Ib=q.G.extend({xb:!0,hc:255,Kg:255,Kc:null,ze:null,Gd:!1,se:!1,ctor:function(){q.G.prototype.ctor.call(this);this.Kg=this.hc=255;this.Kc=q.Eb();this.ze=q.Eb();this.se=this.Gd=!1},rj:function(){return this.Kg},YS:function(){return this.hc},ta:function(a){this.hc=this.Kg=a;a=255;var c=this.ea;c&&c.xb&&c.se&&(a=c.hc);this.ud(a)},ud:function(a){this.hc=this.Kg*a/255;if(this.se){a=this.C;for(var c=0;c<a.length;c++){var d=a[c];d&&d.xb&&d.ud(this.hc)}}},sU:function(){return this.se},MK:function(a){this.se!==
a&&((this.se=a)?this.rr():this.pA())},rr:function(){var a=255,c=this.ea;c&&c.xb&&c.se&&(a=c.hc);this.ud(a)},pA:function(){this.hc=this.Kg;for(var a=this.C,c=0;c<a.length;c++){var d=a[c];d&&d.xb&&d.ud(255)}},Dd:function(){var a=this.ze;return new q.Ic(a.q,a.p,a.o)},Ps:function(){return this.Kc},r:function(a){var c=this.Kc,d=this.ze;c.q=d.q=a.q;c.p=d.p=a.p;c.o=d.o=a.o;a=(a=this.ea)&&a.xb&&a.Gd?a.Ps():q.Eb();this.td(a)},td:function(a){var c=this.Kc,d=this.ze;c.q=0|d.q*a.q/255;c.p=0|d.p*a.p/255;c.o=0|
d.o*a.o/255;if(this.Gd)for(a=this.C,d=0;d<a.length;d++){var e=a[d];e&&e.xb&&e.td(c)}},rU:function(){return this.Gd},LK:function(a){this.Gd!==a&&((this.Gd=a)?this.qr():this.oA())},qr:function(){var a;a=(a=this.ea)&&a.xb&&a.Gd?a.Ps():q.Eb();this.td(a)},oA:function(){var a=this.Kc,c=this.ze;a.q=c.q;a.p=c.p;a.o=c.o;for(var a=this.C,c=q.Eb(),d=0;d<a.length;d++){var e=a[d];e&&e.xb&&e.td(c)}},f:function(a,c,d){q.G.prototype.f.call(this,a,c,d);this.Gd&&this.qr();this.se&&this.rr()},Mf:function(){},El:function(){return!1}});
q.Ib.create=function(){var a=new q.Ib;a.w();return a};q.me=q.Ib.extend({xb:!0,EG:0,DG:0,Jv:0,Iv:0,Tj:null,Va:null,Fc:!1,qa:null,Ur:0,GA:!1,ctor:function(){q.Ib.prototype.ctor.call(this);this.Tj=q.Eb();this.qa={src:q.Te,Qb:q.Se};this.GA=!1},Uca:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Dd:function(){return this.Fc?this.Tj:q.Ib.prototype.Dd.call(this)},Mf:function(a){var c=this.Dd();this.Fc=a;this.r(c)},El:function(){return this.Fc},Os:function(){return this.qa},Tl:function(a,c){this.qa=1==arguments.length?
a:{src:a,Qb:c}},pq:function(a){this.Va=a},YI:function(){return this.Va},b6:function(){return this.Ur},kba:function(a){this.Ur=a},$m:null,Xf:null,tH:null,lv:null,gU:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.ga.g().la(a);return this.Ta(a,c,d,e)},Ta:null,Fr:function(a,c,d,e){this.Jv=c;this.Iv=d;this.Fc=!0;this.Xf=a;if(!this.Xf)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.$m=this.Xf;this.hv();this.Ur=e;return!0},
Gr:function(a,c,d,e){this.Jv=c;this.Iv=d;this.Tj=q.Eb();this.Fc=!0;this.qa.src=q.Te;this.qa.Qb=q.Se;c=this.ze;this.lv=new Float32Array([c.q/255,c.p/255,c.o/255,this.Kg/255]);this.Va=new q.uo;this.Va.Ta(a,e);if(!this.Va)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.gn();this.AH();this.hv();this.Ur=e;this.gh(q.Zh.g().Hi(q.Z_));this.tH=q.da.getUniformLocation(this.PC().fx(),"u_color");return!0},Za:null,Fg:function(a){a=a||q.da;q.bz(this);q.wk(this.qa.src,this.qa.Qb);
a.uniform4fv(this.tH,this.lv);this.Va.rI(this.Ur,0)},r:null,Zr:function(a){var c=this.ze;if(c.q!=a.q||c.p!=a.p||c.o!=a.o){c=new q.Ic(a.q,a.p,a.o);this.Tj=a;if(this.Fc){var d=this.hc;c.q=c.q*d/255;c.p=c.p*d/255;c.o=c.o*d/255}q.Ib.prototype.r.call(this,a);this.ja()&&(a=this.Xf.Ec)&&(c=q.ga.g().ZI(a))&&(d=q.rect(0,0,a.width,a.height),a=q.EC(a,c,this.ze,d),c=new q.oc,c.of(a),c.fe(),this.ka(c))}},tB:function(a){var c=q.Ic(a.q,a.p,a.o);this.Tj=a;var d=this.hc;this.Fc&&(c.q=c.q*d/255,c.p=c.p*d/255,c.o=c.o*
d/255);q.Ib.prototype.r.call(this,a);a=this.Kc;this.lv=new Float32Array([a.q/255,a.p/255,a.o/255,d/255])},ta:null,as:function(a){q.Ib.prototype.ta.call(this,a);this.Fc&&this.r(this.Tj)},vB:function(a){q.Ib.prototype.ta.call(this,a);this.Fc?this.r(this.Tj):(a=this.Kc,this.lv=new Float32Array([a.q/255,a.p/255,a.o/255,this.hc/255]))},ja:null,CA:function(){return this.$m},DA:function(){return this.Va.ja()},ka:null,bs:function(a){this.$m=a},cs:function(a){this.Va.ka(a);this.gn();this.AH()},hv:null,tO:function(){var a=
this.ja().c();this.DG=0|a.height/this.Iv;this.EG=0|a.width/this.Jv},uO:function(){var a=this.ja(),c=a.c();this.GA&&(c=a.Ca);this.DG=0|c.height/this.Iv;this.EG=0|c.width/this.Jv},gn:function(){this.Va.ja().Xs()||(this.qa.src=770,this.qa.Qb=771)},AH:function(){this.Fc=this.Va.ja().Xs()},uB:function(a){this.GA=a}});
q.Ja.ed?(b=q.me.prototype,b.Ta=q.me.prototype.Gr,b.Za=q.me.prototype.Fg,b.r=q.me.prototype.tB,b.ta=q.me.prototype.vB,b.ja=q.me.prototype.DA,b.ka=q.me.prototype.cs,b.hv=q.me.prototype.uO):(b=q.me.prototype,b.Ta=q.me.prototype.Fr,b.Za=q.G.prototype.Za,b.r=q.me.prototype.Zr,b.ta=q.me.prototype.as,b.ja=q.me.prototype.CA,b.ka=q.me.prototype.bs,b.hv=q.me.prototype.tO);q.me.create=function(a,c,d,e){var f=new q.me;return f.gU(a,c,d,e)?f:null};q.Nj=0;q.Jq=1;q.Iq=2;q.Hq=3;q.sz=4;q.rz=5;q.Iu=6;q.Hu=7;q.IF=8;q.HF=9;q.GF=q.Nj;q.hA=q.GF;q.xN=!1;q.v1=function(a,c,d,e){this.LU=a||0;this.JU=c||0;this.lM=d||0;this.mM=e||0};
q.ON=q.Oa.extend({CP:null,Yf:null,yh:null,xh:null,RA:null,Ca:null,th:null,uh:null,Zo:null,Fm:!1,Zc:null,Nc:!1,Ec:null,si:null,be:null,ctor:function(){this.xh=this.yh=0;this.RA="";this.uh=this.th=0;this.Zo=!1;this.Ca=q.Um();this.Fm=!1;this.CP=!0;this.Yf=q.oc.hS();this.Zc=null;this.Nc=!1;this.si=this.Ec=null;this.be=[]},JD:function(){this.si&&q.da.deleteTexture(this.si)},P5:function(){return this.Yf},Wp:function(){return this.yh},Vp:function(){return this.xh},getName:function(){return this.si},c:function(){return q.size(this.Ca.width/
q.fd(),this.Ca.height/q.fd())},XS:function(){return this.Ca},cT:function(){return this.th},iX:function(a){this.th=a},dT:function(){return this.uh},jX:function(a){this.uh=a},PC:function(){return this.Zc},gh:function(a){this.Zc=a},Xs:function(){return this.Zo},WT:function(){return this.Fm},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.RA+" | Dimensions \x3d "+this.yh+" x "+this.xh+" | Coordinates \x3d ("+this.th+", "+this.uh+")\x3e"},WV:function(){},AU:function(a){return a},kx:function(a,
c,d,e,f){var g=q.da,h=0,h=c===q.Nj?24:this.$H(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.si=g.createTexture();q.Rg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.Nj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.Jq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.Iu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.Hu:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.Iq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.rz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.Hq:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.sz:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.Ca.Ia=f.width;this.Ca.ya=f.height;this.yh=d;this.xh=e;this.Yf=c;this.th=f.width/d;this.uh=f.height/e;this.Fm=this.Zo=!1;this.gh(q.Zh.g().Hi(q.CN));return this.Nc=!0},BS:function(a){var c=[0,this.uh,this.th,this.uh,0,0,this.th,
0],d=this.yh*this.th,e=this.xh*this.uh;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.Je(q.oh|q.XN);this.Zc.uf();this.Zc.tL();q.Rg(this);d=q.da;d.vertexAttribPointer(q.We,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Nq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},DS:function(a){var c=[0,this.uh,this.th,this.uh,0,0,this.th,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.Je(q.oh|q.XN);this.Zc.uf();this.Zc.tL();q.Rg(this);var d=q.da;d.vertexAttribPointer(q.We,
2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.Nq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},bD:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.Us(),d=a.Qs(),e=q.Ue.g().Or;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.Nc=!0;return this.$O(a,c,d)},of:function(a){a&&(this.si=q.da.createTexture(),this.Ec=a)},$S:function(){return this.Ec},Vg:function(){return this.Nc},
fe:function(){this.Nc=!0;var a=q.da;q.Rg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.Ec);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.gh(q.Zh.g().Hi(q.CN));q.Rg(null);a=this.Ec.height;this.yh=this.Ca.Ia=this.Ec.width;this.xh=this.Ca.ya=
a;this.Yf=q.Nj;this.uh=this.th=1;this.Fm=this.Zo=!1;this.re()},Dl:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.Oj,g=q.Uu);var h=new q.TM,k;if(q.Uu===g)k=q.Oj===f?q.PY:q.Kq===f?q.QY:q.RY;else if(q.Tu===g)k=q.Oj===f?q.MY:q.Kq===f?q.NY:q.OY;else if(q.Su===g)k=q.Oj===f?q.JY:q.Kq===f?q.KY:q.LY;else return q.log("Not supported alignment format!"),!1;return h.Dl(a,e.width,e.height,k,c,d)?this.bD(h):!1},aU:function(){return!1},pJ:function(a){var c=!1,d=new q.r0;
(c=d.y7(a))?(d.qba(!0),this.RA=d.getName(),this.uh=this.th=1,this.yh=d.Us(),this.xh=d.Qs(),this.Ca.Ia=this.yh,this.Ca.ya=this.xh,this.Zo=q.xN,this.Yf=d.Q4(),this.HK()):q.log("cocos2d: Couldn't load PVR image "+a);return c},eU:function(){return q.Ue.g().ms?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},MX:function(a){var c=q.da;q.Ht(this.yh==q.no(this.yh)&&this.xh==q.no(this.xh)||a.lM==c.CLAMP_TO_EDGE&&a.mM==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.Rg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.LU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.JU);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.lM);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.mM)},HK:function(){var a=q.da;q.Rg(this);this.Fm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},GK:function(){var a=q.da;q.Rg(this);
this.Fm?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.Ht(this.yh==q.no(this.yh)&&this.xh==q.no(this.xh),"Mimpap texture only works in POT textures");q.Rg(this);q.da.generateMipmap(q.da.TEXTURE_2D);this.Fm=!0},nY:function(){switch(this.Yf){case q.Nj:return"RGBA8888";case q.Jq:return"RGB888";case q.Iq:return"RGB565";case q.Iu:return"RGBA4444";
case q.Hu:return"RGB5A1";case q.rz:return"AI88";case q.Hq:return"A8";case q.sz:return"I8";case q.IF:return"PVRTC4";case q.HF:return"PVRTC2";default:q.log("stringForFormat: "+this.Yf+", cannot give useful result, it's a unrecognized pixel format")}return""},$H:function(a){a=a||this.Yf;switch(a){case q.Nj:return 32;case q.Jq:return 32;case q.Iq:return 16;case q.Hq:return 8;case q.Iu:return 16;case q.Hu:return 16;case q.IF:return 4;case q.HF:return 2;case q.sz:return 8;case q.rz:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Yf+", cannot give useful result, it's a illegal pixel format"),-1}},$O:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.p7(),h=q.size(a.Us(),a.Qs()),k=q.GF,l=a.Y3();g||(8<=l?k=q.Jq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.Iq));var m=c*d;if(k==q.Iq)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.Iu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.Hu)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.Hq)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.Jq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.kx(e,k,c,d,h);a.getData();this.Zo=a.h8();return!0},eg:function(a,c){this.be.push({eventCallback:a,wi:c})},eW:function(a){for(var c=this.be,d=0;d<c.length;d++)c[d].wi==a&&c.splice(d,1)},re:function(){for(var a=this.be,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.wi,this)}a.length=0}});
q.NN=q.Oa.extend({Ca:null,Nc:!1,Ec:null,be:null,ctor:function(){this.Ca=q.Um();this.Nc=!1;this.Ec=null;this.be=[]},Wp:function(){return this.Ca.Ia},Vp:function(){return this.Ca.ya},c:function(){var a=q.fd();return q.size(this.Ca.Ia/a,this.Ca.ya/a)},XS:function(){return this.Ca},of:function(a){a&&(this.Ec=a)},$S:function(){return this.Ec},Vg:function(){return this.Nc},fe:function(){this.Nc=!0;var a=this.Ec;this.Ca.Ia=a.width;this.Ca.ya=a.height;this.re()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.Ca.Ia+" height "+this.Ca.ya+"\x3e"},kx:function(){return!1},bD:function(){return!1},Dl:function(){return!1},JD:function(){},getName:function(){return null},cT:function(){return 1},iX:function(){},dT:function(){return 1},jX:function(){},PC:function(){return null},gh:function(){},Xs:function(){return!1},WT:function(){return!1},WV:function(){},AU:function(a){return a},BS:function(){},DS:function(){},aU:function(){return!1},pJ:function(){return!1},eU:function(){return!0},MX:function(){},HK:function(){},
GK:function(){},generateMipmap:function(){},nY:function(){return""},$H:function(){return-1},eg:function(a,c){this.be.push({eventCallback:a,wi:c})},eW:function(a){for(var c=this.be,d=0;d<c.length;d++)c[d].wi==a&&c.splice(d,1)},re:function(){for(var a=this.be,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.wi,this)}a.length=0}});q.oc=q.Ja.ed?q.ON:q.NN;q.oc.naa=function(a){q.hA=a};q.oc.hS=function(){return q.hA};q.oc.w4=function(){return q.hA};q.Ns=null;q.Q8=function(a){if(q.YR(a)==q.NM)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.ga.g().ER(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.YR=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.NZ:0<a.toLowerCase().indexOf(".png")?q.OZ:0<a.toLowerCase().indexOf(".webp")?q.QZ:q.NM};
q.ga=q.Oa.extend({bb:null,ns:null,vw:null,TG:!1,Nv:null,Ov:null,ctor:function(){if(q.Ns)throw"Attempted to allocate a second instance of a singleton.";this.vw+=0|1E3*Math.random();this.bb={};this.ns={};q.Td===q.Nk&&(this.Nv={},this.Ov={})},Lz:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},hP:function(){this.TG=!0;var a,c=this.Nv,d=this.bb;for(a in c){var e=c[a],f=new q.oc;f.of(e);f.fe();d[a]=f}this.Nv={}},J1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
E1:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.bb.length+"\x3e"},iy:function(a,c){var d=c?a:q.Wd.g().He(a);return this.bb.hasOwnProperty(d)?this.bb[d]:null},bT:function(a){for(var c in this.bb)if(this.bb[c]==a)return c;return null},RO:function(){this.vw++;return"_textureKey_"+this.vw},ZI:function(a){var c=this.bT(a);c||(c=a instanceof HTMLImageElement?a.src:this.RO());this.ns.hasOwnProperty(c)||
(this.ns[c]=q.Pp(a));return this.ns[c]},I1:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.Wd.g().He(a);if(null!=this.bb[a])return this.bb[a];var c=new q.oc;c.pJ(a)?this.bb[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},v$:function(){var a=this.bb,c;for(c in a)a[c]&&a[c].JD();this.bb={}},J$:function(a){if(a){var c=this.bb,d;for(d in c)c[d]==a&&(c[d].JD(),delete c[d])}},iW:function(a){null!=a&&(a=q.Wd.g().He(a),this.bb[a]&&delete this.bb[a])},
F1:function(a,c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.Wd.g().He(a);var e=this.bb[a],f,g;if(e)e.Vg()?this.Lz(c,d):(g=this,f=e.Ec,f.addEventListener("load",function(){e.fe();g.Lz(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.bb.hasOwnProperty(a)&&g.bb[a].fe();g.Lz(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,
!1)});f.addEventListener("error",function(){q.Sb.g().Ml(a);g.bb.hasOwnProperty(a)&&delete g.bb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.oc;h.of(f);this.bb[a]=h}return this.bb[a]},fO:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Sb.g().mg();d.Nv[a]=c;delete d.Ov[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Sb.g().Ml(a);
delete d.Ov[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.Ov[a]=c},la:function(a,c){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.Td===q.Nk&&!this.TG)return this.fO(a);c||(a=q.Wd.g().He(a));var d=this.bb[a],e;if(d)d.Vg()?q.Sb.g().mg():(e=d.Ec,e.addEventListener("load",function(){d.fe();q.Sb.g().mg();this.removeEventListener("load",arguments.callee,!1)}));else{e=new Image;e.crossOrigin="Anonymous";var f=this;e.addEventListener("load",function(){q.Sb.g().mg();
f.bb.hasOwnProperty(a)&&f.bb[a].fe();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});e.addEventListener("error",function(){q.Sb.g().Ml(a);f.bb.hasOwnProperty(a)&&delete f.bb[a];this.removeEventListener("error",arguments.callee,!1)});e.src=a;var g=new q.oc;g.of(e);this.bb[a]=g}return this.bb[a]},G1:function(a,c,d){if(!a)throw"cc.Texture.addImageFromBase64(): data should be non-null";var e=this,f=new Image;f.src="data:image/"+d+";base64,"+
a;f.addEventListener("load",function(){q.Sb.g().mg();e.bb.hasOwnProperty(c)&&e.bb[c].fe();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});f.addEventListener("error",function(){q.Sb.g().Ml(c);e.bb.hasOwnProperty(c)&&delete e.bb[c];this.removeEventListener("error",arguments.callee,!1)});a=new q.oc;a.of(f);this.bb[c]=a;return this.bb[c]},ER:function(a,c){if(c instanceof q.oc)this.bb[a]=c;else{var d=new q.oc;d.of(c);d.fe();this.bb[a]=d;q.log(a);
q.log(this.bb[a])}},O1:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";if(c&&this.bb.hasOwnProperty(c)&&this.bb[c])return this.bb[c];var d=new q.oc;d.bD(a);null!=c&&null!=d?this.bb[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},h3:function(){var a=0,c=0,d=this.bb,e;for(e in d){var f=d[e];a++;f.Ec instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.Ec.src+" "+f.Wp()+" x "+f.Vp()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.Wp()+
" x "+f.Vp());c+=f.Wp()*f.Vp()*4}d=this.ns;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.ga.g=function(){q.Ns||(q.Ns=new q.ga);return q.Ns};q.ga.HV=function(){q.Ns=null};q.uo=q.Oa.extend({Jd:null,Ui:null,Ra:!1,xd:0,Ha:null,Ze:null,Ig:null,Vr:null,Jg:null,ctor:function(){this.Ui=[]},Q6:function(){return this.cb},g4:function(){return this.xd},ja:function(){return this.Ha},ka:function(a){this.Ha=a},fh:function(a){this.Ra=a},zJ:function(){return this.Ra},a6:function(){return this.Ze},jba:function(a){this.Ze=a},R0:function(a,c){if(a)for(var d=0;d<a.length;d++)this.kw(a[d],c+d)},kw:function(a,c){var d=this.Ze;d[c]?(d[c].Sa=a.Sa,d[c].eb=a.eb,d[c].ab=a.ab,d[c].Ua=a.Ua):d[c]=
new q.wc(a.ab,a.Sa,a.Ua,a.eb,this.Ig,c*q.wc.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.cb+"\x3e"},fH:function(){if(0!==this.xd)for(var a=this.Jd,c=this.xd,d=0;d<c;d++)q.JF?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},DQ:function(){var a=q.da;this.Ui[0]=a.createBuffer();this.Ui[1]=a.createBuffer();this.Vr=a.createBuffer();
this.GG()},GG:function(){var a=q.da;a.bindBuffer(a.ARRAY_BUFFER,this.Vr);a.bufferData(a.ARRAY_BUFFER,this.Ig,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ui[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Jd,a.STATIC_DRAW)},uj:function(a,c){var d=q.ga.g().la(a);if(d)return this.Ta(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Ta:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.xd=c|=0;this.cb=0;this.Ha=a;this.Ze=[];this.Jd=new Uint16Array(6*
c);var d=q.wc.BYTES_PER_ELEMENT;this.Ig=new ArrayBuffer(d*c);this.Jg=new Uint8Array(this.Ig);if((!this.Ze||!this.Jd)&&0<c)return!1;for(var e=this.Ze,f=0;f<c;f++)e[f]=new q.wc(null,null,null,null,this.Ig,f*d);this.fH();this.DQ();return this.Ra=!0},oy:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.xd)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.cb=Math.max(c+1,this.cb);this.kw(a,c);this.Ra=!0},hD:function(a,c){if(c>=this.xd)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.cb++;if(this.cb>this.xd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.wc.BYTES_PER_ELEMENT,e=c*d,f=(this.cb-1-c)*d;this.Ze[this.cb-1]=new q.wc(null,null,null,null,this.Ig,(this.cb-1)*d);this.Jg.set(this.Jg.subarray(e,e+f),e+d);this.kw(a,c);this.Ra=!0}},E7:function(a,c,d){d=d||a.length;if(c+d>this.xd)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.wc.BYTES_PER_ELEMENT;this.cb+=d;if(this.cb>this.xd)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.cb-1-c-d)*e,h=this.cb-1-d,k;for(k=0;k<d;k++)this.Ze[h+k]=new q.wc(null,null,null,null,this.Ig,(this.cb-1)*e);this.Jg.set(this.Jg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.kw(a[k],c+k);this.Ra=!0}},D7:function(a,c){if(a!==c){if(0>c&&c>=this.cb)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.cb)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.wc.BYTES_PER_ELEMENT,e=this.Jg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Ra=!0}},gW:function(a){if(a>=this.cb)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.wc.BYTES_PER_ELEMENT;this.cb--;this.Ze.length=this.cb;if(a!==this.cb){var d=(a+1)*c;this.Jg.set(this.Jg.subarray(d,d+(this.cb-a)*c),d-c)}this.Ra=!0},C$:function(a,c){if(a+c>this.cb)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.cb-=c;if(a!==this.cb){var d=q.wc.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Jg.set(this.Jg.subarray(e,e+(this.cb-a)*d),a*d)}this.Ra=!0},aW:function(){this.cb=this.Ze.length=0},q1:function(a){this.Ra=a},lW:function(a){if(a==this.xd)return!0;var c=q.wc.BYTES_PER_ELEMENT,d=this.xd;this.cb=Math.min(this.cb,a);var e=this.xd=0|a,f=this.cb;if(null==this.Ze)for(this.Ze=[],this.Ig=new ArrayBuffer(c*e),this.Jg=new Uint8Array(this.Ig),a=0;a<e;a++)this.Ze=new q.wc(null,null,null,null,this.Ig,a*c);else{var g,h,k=this.Ze;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.wc(k[a].ab,k[a].Sa,k[a].Ua,k[a].eb,h,a*c);for(;a<e;a++)g[a]=new q.wc(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.wc(k[a].ab,k[a].Sa,k[a].Ua,k[a].eb,h,a*c);this.Jg=new Uint8Array(h);this.Ze=g;this.Ig=h}null==this.Jd?this.Jd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Jd,0),this.Jd=c):this.Jd=this.Jd.subarray(0,6*e);this.fH();this.GG();return this.Ra=!0},v7:function(a){this.cb+=a},Y8:function(a,c,d){if(2==arguments.length){d=
c;c=this.cb-a;if(d+(this.cb-a)>this.xd)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.cb)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.cb)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.wc.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Jg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Ra=!0},G3:function(a,
c){for(var d=c*q.wc.BYTES_PER_ELEMENT,e=new Uint8Array(this.Ig,a*q.wc.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},rI:function(a,c){c=c||0;if(0!==a&&this.Ha&&this.Ha.Vg()){var d=q.da;q.Rg(this.Ha);q.Je(q.Qu);d.bindBuffer(d.ARRAY_BUFFER,this.Vr);this.Ra&&d.bufferData(d.ARRAY_BUFFER,this.Ig,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.We,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.Mq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.Nq,2,d.FLOAT,!1,24,16);this.Ra&&(this.Ra=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Ui[1]);q.JF?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Jd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Jd.BYTES_PER_ELEMENT);q.Jh++}},ES:function(){this.rI(this.cb,0)},n1:function(){var a=q.da;this.Ui&&(this.Ui[0]&&a.deleteBuffer(this.Ui[0]),this.Ui[1]&&a.deleteBuffer(this.Ui[1]));this.Vr&&a.deleteBuffer(this.Vr)}});q.uo.create=function(a,c){var d=new q.uo;return d&&d.uj(a,c)?d:null};
q.uo.La=function(a,c){var d=new q.uo;return d&&d.Ta(a,c)?d:null};q.Fq=q.G.extend({ctor:function(){q.G.prototype.ctor.call(this);this.ck=!0;this.A(0.5,0.5);this.O(q.fa.g().dc)}});q.Fq.create=function(){return new q.Fq};q.tz=0;q.j0=1;
q.Vc=q.G.extend({dl:!1,cl:!1,ap:!1,rl:0,vs:q.tz,Im:!1,ip:0,ctor:function(){q.G.prototype.ctor.call(this);this.ap=this.cl=this.dl=!1;this.rl=0;this.vs=q.tz;this.Im=!1;this.ip=0},ZO:function(){this.A(0.5,0.5);this.ck=!0;var a=q.fa.g();this.O(a.dc)},w:function(){q.G.prototype.w.call(this);this.ZO();return!0},Hx:function(){this.vs===q.tz?q.VV(this,this.rl):q.GD(this.rl,!0,this)},a8:function(){return this.Im},Px:function(a){if(!q.pe)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Im!=
a&&(this.Im=a,this.bf&&(a?q.fa.g().If().PH(this,this.ip):q.fa.g().If().xK(this)))},Vaa:function(a){if(!q.pe)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.ip!==a&&(this.ip=a,this.Im&&(this.Px(!1),this.Px(!0)))},u5:function(){return this.ip},t8:function(){return this.dl},nc:function(a){this.dl!==a&&(this.dl=a,this.bf&&(a?this.Hx():q.UL(this)))},U6:function(){return this.rl},qq:function(a){this.rl!==a&&(this.rl=a,this.dl&&(this.nc(!1),this.nc(!0)))},T6:function(){return this.vs},
kE:function(a){this.vs!==a&&(this.vs=a,this.dl&&(this.nc(!1),this.nc(!0)))},I7:function(){return this.cl},Z$:function(a){if(!q.Hk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.cl&&(this.cl=a,this.bf)){var c=q.fa.g();a?c.Qp().pg(this):c.Qp().pg(null)}},EW:function(a){this.cl&&q.Hk&&q.fa.g().Qp().EW(a)},r9:function(){q.log("onAccelerometer event should be handled.")},Z7:function(){return this.ap},Laa:function(a){if(!q.mo)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.ap&&(this.ap=a,this.bf)){var c=q.fa.g();a?c.dx().gR(this):c.dx().cW(this)}},$g:function(){var a=q.fa.g();this.dl&&this.Hx();q.G.prototype.$g.call(this);this.cl&&q.Hk&&a.Qp().pg(this);this.ap&&q.mo&&a.dx().gR(this);this.Im&&q.pe&&a.If().PH(this,this.ip)},he:function(){var a=q.fa.g();this.dl&&q.UL(this);this.cl&&q.Hk&&a.Qp().pg(null);this.ap&&q.mo&&a.dx().cW(this);this.Im&&q.pe&&a.If().xK(this);q.G.prototype.he.call(this)},Gi:function(){this.cl&&q.Hk&&q.fa.g().Qp().pg(this);q.G.prototype.Gi.call(this)},
vb:function(){q.log("onTouchBegan event should be handled.");return!0},Qd:function(){},ah:function(){},Ak:function(){},cK:function(){},fK:function(){},eK:function(){},dK:function(){},UU:function(){return!1},VU:function(){return!1},Qh:function(){return!1},YU:function(){return!1},bV:function(){return!1},cV:function(){return!1},dV:function(){return!1},ZU:function(){return!1},$U:function(){return!1},aV:function(){return!1},eV:function(){return!1},WU:function(){return!1},XU:function(){return!1},tD:function(){},
Ll:function(){}});q.Vc.create=function(){var a=new q.Vc;return a&&a.w()?a:null};
q.Xh=q.Vc.extend({xb:!0,hc:0,Kg:0,Kc:null,ze:null,se:!1,Gd:!1,ctor:function(){q.Vc.prototype.ctor.call(this);this.xb=!0;this.Kg=this.hc=255;this.Kc=q.Eb();this.ze=q.Eb();this.Gd=this.se=!1},w:function(){return q.Vc.prototype.w.call(this)?(this.MK(!1),this.LK(!1),!0):!1},rj:function(){return this.Kg},YS:function(){return this.hc},ta:function(a){this.hc=this.Kg=a;a=255;var c=this.ea;c&&c.xb&&c.se&&(a=c.hc);this.ud(a)},ud:function(a){this.hc=0|this.Kg*a/255;if(this.se){a=this.C;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.xb&&d.ud(this.hc)}}},sU:function(){return this.se},MK:function(a){this.se!==a&&((this.se=a)?this.rr():this.pA())},rr:function(){var a=255,c=this.ea;c&&c.xb&&c.se&&(a=c.hc);this.ud(a)},pA:function(){this.hc=this.Kg;for(var a=this.C,c=0;c<a.length;c++){var d=a[c];d&&d.xb&&d.ud(255)}},Dd:function(){var a=this.ze;return q.n(a.q,a.p,a.o)},Ps:function(){var a=this.Kc;return q.n(a.q,a.p,a.o)},r:function(a){var c=this.Kc,d=this.ze;c.q=d.q=a.q;c.p=d.p=a.p;c.o=d.o=a.o;a=(a=this.ea)&&a.xb&&a.Gd?a.Ps():
q.Eb();this.td(a)},td:function(a){var c=this.Kc,d=this.ze;c.q=0|d.q*a.q/255;c.p=0|d.p*a.p/255;c.o=0|d.o*a.o/255;if(this.Gd)for(a=this.C,d=0;d<a.length;d++){var e=a[d];e&&e.xb&&e.td(c)}},rU:function(){return this.Gd},LK:function(a){this.Gd!==a&&((this.Gd=a)?this.qr():this.oA())},qr:function(){var a;a=(a=this.ea)&&a.xb&&a.Gd?a.Ps():q.Eb();this.td(a)},oA:function(){var a=this.Kc,c=this.ze;a.q=c.q;a.p=c.p;a.o=c.o;for(var a=this.C,c=q.Eb(),d=0;d<a.length;d++){var e=a[d];e&&e.xb&&e.td(c)}},f:function(a,
c,d){q.G.prototype.f.call(this,a,c,d);this.Gd&&this.qr();this.se&&this.rr()},Mf:function(){},El:function(){return!1}});
q.Z=q.Xh.extend({qa:null,Os:function(){return this.qa},B2:function(a,c){this.O(a,c)},A2:function(a){this.O(a,this.Ca.ya)},x2:function(a){this.O(this.Ca.Ia,a)},Mf:function(){},El:function(){return!1},r:function(a){q.Xh.prototype.r.call(this,a);this.Ld()},ta:function(a){q.Xh.prototype.ta.call(this,a);this.Ld()},Hm:!1,jH:null,HB:null,$B:null,cA:null,JB:null,IB:null,$h:function(){q.Xh.prototype.ctor.call(this);this.qa=new q.lm(q.Te,q.Se)},ai:function(){q.Xh.prototype.ctor.call(this);this.qa=new q.lm(q.Te,
q.Se);this.JB=new ArrayBuffer(32);this.IB=new ArrayBuffer(64);var a=this.JB,c=this.IB,d=q.Jb.BYTES_PER_ELEMENT,e=q.ne.BYTES_PER_ELEMENT;this.jH=[new q.Jb(0,0,a,0),new q.Jb(0,0,a,d),new q.Jb(0,0,a,2*d),new q.Jb(0,0,a,3*d)];this.HB=[new q.ne(0,0,0,1,c,0),new q.ne(0,0,0,1,c,e),new q.ne(0,0,0,1,c,2*e),new q.ne(0,0,0,1,c,3*e)];this.$B=q.da.createBuffer();this.cA=q.da.createBuffer()},Tl:function(a,c){this.qa=1==arguments.length?a:{src:a,Qb:c};q.Td===q.vg&&(this.Hm=this.qa&&1==this.qa.src&&771==this.qa.Qb)},
w:function(a,c,d){if(!q.Vc.prototype.w.call(this))return!1;q.Td!==q.vg&&this.gh(q.Zh.g().Hi(q.BN));var e=q.fa.g().dc;a=a||new q.bc(0,0,0,255);c=c||e.width;d=d||e.height;e=this.Kc;e.q=a.q;e.p=a.p;e.o=a.o;e=this.ze;e.q=a.q;e.p=a.p;e.o=a.o;this.Kg=this.hc=a.Q;this.O(c,d);this.Ld();return!0},O:null,iQ:function(a,c){var d=this.jH;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.aG(),q.Vc.prototype.O.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.aG(),
q.Vc.prototype.O.call(this,a))},Ld:null,TQ:function(){},UQ:function(){for(var a=this.Kc,c=this.hc,d=this.HB,e=0;4>e;e++)d[e].q=a.q/255,d[e].p=a.p/255,d[e].o=a.o/255,d[e].Q=c/255;this.$F()},td:function(a){q.Xh.prototype.td.call(this,a);this.Ld()},ud:function(a){q.Xh.prototype.ud.call(this,a);this.Ld()},aG:function(){var a=q.da;a.bindBuffer(a.ARRAY_BUFFER,this.$B);a.bufferData(a.ARRAY_BUFFER,this.JB,a.STATIC_DRAW)},$F:function(){var a=q.da;a.bindBuffer(a.ARRAY_BUFFER,this.cA);a.bufferData(a.ARRAY_BUFFER,
this.IB,a.STATIC_DRAW)},Za:null,Vj:function(a){a=a||q.da;var c=this.c(),d=q.ra.g(),e=this.Kc;a.fillStyle="rgba("+(0|e.q)+","+(0|e.p)+","+(0|e.o)+","+this.hc/255+")";a.fillRect(0,0,c.width*d.va,-c.height*d.Da);q.Jh++},Fg:function(a){a=a||q.da;q.bz(this);q.Je(q.oh|q.WN);a.bindBuffer(a.ARRAY_BUFFER,this.$B);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.cA);a.vertexAttribPointer(q.Mq,4,a.FLOAT,!1,0,0);q.wk(this.qa.src,this.qa.Qb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ja.ed?(q.Z.prototype.ctor=q.Z.prototype.ai,q.Z.prototype.O=q.Z.prototype.iQ,q.Z.prototype.Ld=q.Z.prototype.UQ,q.Z.prototype.Za=q.Z.prototype.Fg):(q.Z.prototype.ctor=q.Z.prototype.$h,q.Z.prototype.O=q.Xh.prototype.O,q.Z.prototype.Ld=q.Z.prototype.TQ,q.Z.prototype.Za=q.Z.prototype.Vj);q.Z.create=function(a,c,d){var e=new q.Z;switch(arguments.length){case 0:e.w();break;case 1:e.w(a);break;case 3:e.w(a,c,d);break;default:e.w()}return e};
q.gF=q.Z.extend({kH:null,Vo:null,tp:null,Wo:null,tm:null,mv:!1,Cr:null,Br:null,ctor:function(){q.Z.prototype.ctor.call(this);this.kH=new q.Ic(0,0,0);this.Vo=new q.Ic(0,0,0);this.tm=q.a(0,-1);this.Wo=this.tp=255;this.Cr=q.a(0,0);this.Br=q.a(0,0)},O:function(a,c){2===arguments.length?q.Z.prototype.O.call(this,a,c):q.Z.prototype.O.call(this,a);this.Ld()},y6:function(){return this.ze},wba:function(a){this.r(a)},vaa:function(a){this.Vo=a;this.Ld()},G4:function(){return this.Vo},xba:function(a){this.tp=
a;this.Ld()},z6:function(){return this.tp},waa:function(a){this.Wo=a;this.Ld()},H4:function(){return this.Wo},Pba:function(a){this.tm.x=a.x;this.tm.y=a.y;this.Ld()},Z6:function(){return q.a(this.tm.x,this.tm.y)},N7:function(){return this.mv},laa:function(a){this.mv=a;this.Ld()},w:function(a,c,d){a=a||q.nC(0,0,0,255);c=c||q.nC(0,0,0,255);d=d||q.a(0,-1);var e=this.kH,f=this.Vo;e.q=a.q;e.p=a.p;e.o=a.o;this.tp=a.Q;f.q=c.q;f.p=c.p;f.o=c.o;this.Wo=c.Q;this.tm=d;this.mv=!0;q.Z.prototype.w.call(this,q.i(a.q,
a.p,a.o,255));return!0},Za:function(a){if(q.Td===q.Nk)q.Z.prototype.Za.call(this,a);else{a=a||q.da;this.Hm&&(a.globalCompositeOperation="lighter");a.save();var c=q.ra.g(),d=this.hc/255,e=this.c().width*c.va,c=this.c().height*c.Da,f=a.createLinearGradient(this.Cr.x,this.Cr.y,this.Br.x,this.Br.y),g=this.Kc,h=this.Vo;f.addColorStop(0,"rgba("+Math.round(g.q)+","+Math.round(g.p)+","+Math.round(g.o)+","+(this.tp/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.q)+","+Math.round(h.p)+","+Math.round(h.o)+
","+(this.Wo/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.$P&&a.rotate(this.o1);a.restore()}},Ld:function(){var a=this.tm;if(q.Td===q.vg){var c=0.5*this.c().width,d=0.5*this.c().height;this.Cr.x=c*-a.x+c;this.Cr.y=d*a.y-d;this.Br.x=c*a.x+c;this.Br.y=d*-a.y-d}else if(d=q.wD(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.mv&&(a=q.yj(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.hc/255,f=this.Kc,g=this.Vo,d=f.q/255,h=f.p/255,f=f.o/255,k=this.tp*e/255,l=g.q/255,m=g.p/255,g=g.o/
255,e=this.Wo*e/255,p=this.HB,s=p[0],u=p[1],w=p[2],p=p[3];s.q=l+(c+a.x+a.y)/(2*c)*(d-l);s.p=m+(c+a.x+a.y)/(2*c)*(h-m);s.o=g+(c+a.x+a.y)/(2*c)*(f-g);s.Q=e+(c+a.x+a.y)/(2*c)*(k-e);u.q=l+(c-a.x+a.y)/(2*c)*(d-l);u.p=m+(c-a.x+a.y)/(2*c)*(h-m);u.o=g+(c-a.x+a.y)/(2*c)*(f-g);u.Q=e+(c-a.x+a.y)/(2*c)*(k-e);w.q=l+(c+a.x-a.y)/(2*c)*(d-l);w.p=m+(c+a.x-a.y)/(2*c)*(h-m);w.o=g+(c+a.x-a.y)/(2*c)*(f-g);w.Q=e+(c+a.x-a.y)/(2*c)*(k-e);p.q=l+(c-a.x-a.y)/(2*c)*(d-l);p.p=m+(c-a.x-a.y)/(2*c)*(h-m);p.o=g+(c-a.x-a.y)/(2*c)*
(f-g);p.Q=e+(c-a.x-a.y)/(2*c)*(k-e);this.$F()}}});q.gF.create=function(a,c,d){var e=new q.gF;switch(arguments.length){case 2:if(e&&e.w(a,c))return e;break;case 3:if(e&&e.w(a,c,d))return e;break;case 0:if(e&&e.w())return e;break;default:throw"Arguments error ";}return null};
q.hF=q.Vc.extend({Xk:0,sh:null,A7:function(a){this.sh=[];this.sh.push(a);this.Xk=0;this.f(a);return!0},cU:function(a){this.sh=a;this.Xk=0;this.f(this.sh[this.Xk]);return!0},uca:function(a){a>=this.sh.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.sh[this.Xk],!0),this.Xk=a,this.f(this.sh[a]))},vca:function(a){a>=this.sh.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.sh[this.Xk],
!0),this.sh[this.Xk]=null,this.Xk=a,this.f(this.sh[a]))},H1:function(a){a?this.sh.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.hF.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.hF;return a.cU(arguments)?a:null};function ea(a,c,d,e,f){var g=10;e<2*g&&(g=e/2);f<2*g&&(g=f/2);a.beginPath();a.moveTo(c+g,d);a.arcTo(c+e,d,c+e,d+f,g);a.arcTo(c+e,d+f,c,d+f,g);a.arcTo(c,d+f,c,d,g);a.arcTo(c,d,c+e,d,g);a.closePath()}q.nz=-1;
q.Pp=function(a){function c(){var c=q.Pp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.AE.width=e;c.AE.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.QL.drawImage(a,0,0);for(var p=c.QL.getImageData(0,0,e,h),s=p.data,u=0;u<k.length;u+=4)s[u]=0===l?k[u]:0,s[u+
1]=1===l?k[u+1]:0,s[u+2]=2===l?k[u+2]:0,s[u+3]=k[u+3];m.putImageData(p,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.TR;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.TR=d};q.Pp.canvas=document.createElement("canvas");q.Pp.AE=document.createElement("canvas");q.Pp.QL=q.Pp.AE.getContext("2d");
q.FI=function(a,c,d,e){d||(d=q.rect(0,0,a.width,a.height),d=q.Dq(d));c=c instanceof q.ne?q.i(255*c.q,255*c.p,255*c.o,255*c.Q):q.i(c.q,c.p,c.o,255);e=e||document.createElement("canvas");var f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.clearRect(0,0,d.width,d.height);f.save();f.globalCompositeOperation="destination-atop";f.globalAlpha=c.Q/255;if(254>c.q||254>c.p||254>c.o)f.fillStyle="rgb("+c.q+","+c.p+","+c.o+")",f.fillRect(0,0,d.width,d.height);
f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.restore();return e};
q.EC=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.Q?q.Ow(d.q/255,d.p/255,d.o/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.q&&(h.globalAlpha=a.q*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.p&&(h.globalAlpha=a.p*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.o&&(h.globalAlpha=a.o*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.q+a.p+a.o&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.hI=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.u0=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Zl=e;this.visible=g};q.yg=function(a){return 0|a};q.FN&&(q.yg=function(a){return a});
q.v=q.Ib.extend({xb:!0,Va:null,nd:0,tb:null,Ra:!1,gi:null,aj:null,ml:!1,en:null,qa:null,Ha:null,Aa:null,od:!1,uc:null,pi:null,Fc:!1,pc:!1,qc:!1,zb:!1,be:null,MG:null,rp:null,xo:null,fs:!1,Ng:null,AB:null,zB:null,CB:!1,SL:function(){return this.zb},eg:function(a,c){this.be.push({eventCallback:a,wi:c})},re:function(){for(var a=this.be,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.wi,this)}a.length=0},zJ:function(){return this.Ra},fh:function(a){this.Ra=a},s8:function(){return this.od},U3:function(){return this.nd},
Qe:function(a){this.nd=a},RC:function(){return q.rect(this.Aa.x,this.Aa.y,this.Aa.width,this.Aa.height)},YI:function(){return this.Va},pq:function(a){this.Va=a},x6:function(){return this.tb},vba:function(a){this.tb=a},F5:function(){return this.uc},Os:function(){return this.qa},Me:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.zb||(this.zb=!1,a.eg(this.FB,this));var c=this.Ta(a.ja(),a.qd());this.jq(a);return c},FB:null,IQ:function(a){this.gb();this.ib(a.qd(),
a.Ad,a.zd);this.re()},HQ:function(a){this.gb();this.ib(a.qd(),a.Ad,a.zd);a=this.Dd();255===a.q&&255===a.p&&255===a.o||this.jv();this.re()},rJ:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.Ag.g().Mh(a);return this.Me(a)},Yca:function(a){this.Va=a.Va;this.tb=a},mE:function(a){this.Aa.x=a.x;this.Aa.y=a.y;this.Aa.width=a.width;this.Aa.height=a.height},ke:function(){if(this.Ae){for(var a,c,d=this.C,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=
a&&(c.ob<e.ob||c.ob==e.ob&&c.Wf<e.Wf);)d[a+1]=e,a-=1,e=d[a];d[a+1]=c}this.tb&&this.Cg(d,q.G.Rf.ke);this.Ae=!1}},gt:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.C.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.ob&&(this.tb&&!this.Ae&&(this.wB(),this.tb.yK(!0)),q.G.prototype.gt.call(this,a,c))},removeChild:function(a,c){this.tb&&this.tb.Pn(a);q.G.prototype.removeChild.call(this,a,c)},$b:function(a){var c=this.C,d=this.tb;
if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.Pn(c[e]);q.G.prototype.$b.call(this,a);this.aj=!1},PK:function(a){this.gi=a;this.fh(a);a=this.C;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.v&&a[c].PK(!0)},nh:function(){this.tb&&!this.gi&&(this.Ra=this.gi=!0,this.aj&&this.PK(!0))},l:function(a,c){2<=arguments.length?q.G.prototype.l.call(this,a,arguments[1]):q.G.prototype.l.call(this,a);this.nh()},Ux:function(a){q.G.prototype.Ux.call(this,a);this.nh()},Vx:function(a){q.G.prototype.Vx.call(this,
a);this.nh()},Wx:function(a){q.G.prototype.Wx.call(this,a);this.nh()},Xx:function(a){q.G.prototype.Xx.call(this,a);this.nh()},Yx:function(a){q.G.prototype.Yx.call(this,a);this.nh()},nq:function(a){q.G.prototype.nq.call(this,a);this.nh()},Vn:function(a){q.G.prototype.Vn.call(this,a);this.nh()},Ck:function(a,c){q.G.prototype.Ck.call(this,a,c);this.nh()},uL:function(a){q.G.prototype.uL.call(this,a);this.nh()},A:function(a,c){2===arguments.length?q.G.prototype.A.call(this,a,c):q.G.prototype.A.call(this,
a);this.nh()},D:function(a){q.G.prototype.D.call(this,a);this.nh()},tj:function(a){this.tb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):q.G.prototype.tj.call(this,a)},$W:function(a){this.pc!=a&&(this.pc=a,this.ib(this.Aa,this.od,this.Ca),this.gb())},aX:function(a){this.qc!=a&&(this.qc=a,this.ib(this.Aa,this.od,this.Ca),this.gb())},U7:function(){return this.pc},V7:function(){return this.qc},Mf:null,qQ:function(a){this.Fc!==a&&(this.Fc=a,this.At())},
pQ:function(a){this.Fc!==a&&(this.Fc=a,this.gb())},El:function(){return this.Fc},ud:null,XQ:function(a){q.Ib.prototype.ud.call(this,a);this.At()},yH:function(a){q.Ib.prototype.ud.call(this,a);this.Tm()},raa:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.im.g().GI(a);d?(d=d.ve[c])?this.jq(d.Mh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},
X3:function(){return this.tb},wB:function(){if(!this.Ae){this.Ae=!0;for(var a=this.ea;a&&a!=this.tb;)a.wB(),a=a.getParent()}},ja:function(){return this.Ha},Ub:null,gw:null,Bf:!1,Yq:!1,Hm:!1,Xf:null,an:null,To:null,ctor:null,ai:function(a){q.Ib.prototype.ctor.call(this);this.ml=!1;this.uc=q.Kd();this.pi=q.Kd();this.qa={src:q.Te,Qb:q.Se};this.Aa=q.rect(0,0,0,0);this.Ub=new q.wc;this.gw=q.da.createBuffer();this.zb=this.Bf=!0;this.be=[];this.rp=!0;this.xo=!1;if(a)if("string"===typeof a)a=q.Ag.g().Mh(a),
this.Me(a);else if("object"===typeof a)if(a instanceof q.Yd)this.Me(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.oc;c.of(a);c.fe();this.Ta(c)}else a instanceof q.oc&&this.Ta(a)},$h:function(a){q.Ib.prototype.ctor.call(this);this.ml=!1;this.uc=q.Kd();this.pi=q.Kd();this.qa={src:q.Te,Qb:q.Se};this.Aa=q.rect(0,0,0,0);this.MG=!1;this.zb=!0;this.be=[];this.an={x:0,y:0,width:0,height:0,fm:!1};this.To=q.size(0,0);this.rp=!0;this.xo=!1;if(a)if("string"===typeof a)a=
q.Ag.g().Mh(a),this.Me(a);else if("object"===typeof a)if(a instanceof q.Yd)this.Me(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.oc;c.of(a);c.fe();this.Ta(c)}else a instanceof q.oc&&this.Ta(a)},Z5:function(){return this.Ub},Tl:null,eQ:function(a,c){var d=this.qa;1===arguments.length?(d.src=a.src,d.Qb=a.Qb):(d.src=a,d.Qb=c)},dQ:function(a,c){var d=this.qa;1===arguments.length?(d.src=a.src,d.Qb=a.Qb):(d.src=a,d.Qb=c);this.Hm=d&&(770==d.src&&1==d.Qb||1==d.src&&
1==d.Qb)},w:null,IA:function(){if(0<arguments.length)return this.uj(arguments[0],arguments[1]);q.Ib.prototype.w.call(this);this.Ra=this.gi=!1;this.Fc=!0;this.qa.src=q.Te;this.qa.Qb=q.Se;this.ka(null);this.zb=!0;this.pc=this.qc=!1;this.A(0.5,0.5);this.uc.I=0;this.uc.U=0;this.aj=!1;var a={q:255,p:255,o:255,Q:255};this.Ub.Sa.W=a;this.Ub.eb.W=a;this.Ub.ab.W=a;this.Ub.Ua.W=a;this.Bf=!0;this.ib(q.wd(),!1,q.qm());return!0},HA:function(){if(0<arguments.length)return this.uj(arguments[0],arguments[1]);q.Ib.prototype.w.call(this);
this.Ra=this.gi=!1;this.Fc=!0;this.qa.src=q.Te;this.qa.Qb=q.Se;this.ka(null);this.zb=!0;this.pc=this.qc=!1;this.A(0.5,0.5);this.uc.I=0;this.uc.U=0;this.aj=!1;this.ib(q.wd(),!1,q.qm());return!0},uj:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";var d=q.ga.g().iy(a);if(!d)d=q.ga.g().la(a);else if(!c){var e=d.c();c=q.rect(0,0,e.width,e.height)}return this.Ta(d,c)},Ta:null,Gr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";
d=d||!1;if(!q.Ib.prototype.w.call(this))return!1;this.tb=null;this.Ra=this.gi=!1;this.Fc=!0;this.qa.src=q.Te;this.qa.Qb=q.Se;this.pc=this.qc=!1;this.A(0.5,0.5);this.uc.I=0;this.uc.U=0;this.aj=!1;var e=new q.bc(255,255,255,255),f=this.Ub;f.Sa.W=e;f.eb.W=e;f.ab.W=e;f.Ua.W=e;this.zb=e=a.Vg();if(!e)return this.od=d||!1,c&&(e=this.Aa,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.eg(this.ww,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.ka(a);this.ib(c,d,c.Ya);this.Re(null);return this.Bf=
!0},Fr:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.Ib.prototype.w.call(this))return!1;this.tb=null;this.Ra=this.gi=!1;this.Fc=!0;this.qa.src=q.Te;this.qa.Qb=q.Se;this.pc=this.qc=!1;this.A(0.5,0.5);this.uc.I=0;this.uc.U=0;this.aj=!1;var e=a.Vg();this.zb=e;if(!e)return this.od=d||!1,c&&(this.Aa.x=c.x,this.Aa.y=c.y,this.Aa.width=c.width,this.Aa.height=c.height),a.eg(this.ww,this),!0;c||(e=a.c(),c=q.rect(0,0,e.width,e.height));this.Xf=
a;this.ka(a);this.ib(c,d,c.Ya);this.Re(null);return!0},ww:null,NQ:function(a){if(!this.zb){this.zb=!0;var c=this.Aa;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Wr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.ka(a);this.ib(c,this.od,c.Ya);this.Re(null);this.Bf=!0;this.re()}},MQ:function(a){if(!this.zb){this.zb=!0;var c=this.Aa;if(!c)c=a.c(),c=q.rect(0,0,c.width,c.height);else if(q.Wr(c)){var d=a.c();c.width=d.width;c.height=d.height}this.Xf=a;this.ka(a);this.ib(c,this.od,c.Ya);
this.Re(null);this.re()}},ib:null,eH:function(a,c,d){this.od=c||!1;d=d||a.Ya;this.O(d);this.mE(a);this.dH(a);c=this.pi;this.pc&&(c.I=-c.I);this.qc&&(c.U=-c.U);a=this.Aa;if(this.IL){d=q.ra.g().va;var e=q.ra.g().Da;a.width/=d;a.height/=e}this.uc.I=c.I+(this.Ca.Ia-a.width)/2;this.uc.U=c.U+(this.Ca.ya-a.height)/2;if(this.tb)this.Ra=!0;else{c=0+this.uc.I;d=0+this.uc.U;e=c+a.width;a=d+a.height;var f=this.Ub;f.Sa.B={x:c,y:d,z:0};f.eb.B={x:e,y:d,z:0};f.ab.B={x:c,y:a,z:0};f.Ua.B={x:e,y:a,z:0};this.Bf=!0}},
xB:function(a,c,d){this.od=c||!1;d=d||a.Ya;this.O(d);this.mE(a);c=this.an;var e=q.fd();c.x=0|a.x*e;c.y=0|a.y*e;var f=this.To,g=(this.tb&&this.Va?this.Va.ja():this.Ha)?this.ja().c():q.size(d.width,d.height);a.width>g.width||a.height>g.height?(c.width=0|g.width*e,c.height=0|g.height*e,f.width=0|d.width*e,f.height=0|d.height*e):(c.width=0|a.width*e,c.height=0|a.height*e,f.width=c.width,f.height=c.height);c.fm=!(0===c.width||0===c.height);f.fm=!(0===f.width||0===f.height);a=this.pi;this.pc&&(a.I=-a.I);
this.qc&&(a.U=-a.U);this.uc.I=a.I+(this.Ca.Ia-this.Aa.width)/2;this.uc.U=a.U+(this.Ca.ya-this.Aa.height)/2;this.tb&&(this.Ra=!0)},tg:null,eR:function(){if(this.Ra){var a=this.Ub,c=this.ea;if(!this.za||c&&c!=this.tb&&c.ml)a.eb.B={x:0,y:0,z:0},a.ab.B={x:0,y:0,z:0},a.Ua.B={x:0,y:0,z:0},a.Sa.B={x:0,y:0,z:0},this.ml=!0;else{this.ml=!1;var d=this.en=c&&c!=this.tb?q.hm(this.kg(),c.en):this.kg(),e=this.Aa.Ya,c=this.uc.I,f=this.uc.U,g=c+e.width,e=f+e.height,h=d.jb,k=d.kb,l=d.Q,m=d.o,p=d.d,d=-d.Ma,s=this.Iw;
a.Sa.B={x:q.yg(c*l-f*d+h),y:q.yg(c*m+f*p+k),z:s};a.eb.B={x:q.yg(g*l-f*d+h),y:q.yg(g*m+f*p+k),z:s};a.ab.B={x:q.yg(c*l-e*d+h),y:q.yg(c*m+e*p+k),z:s};a.Ua.B={x:q.yg(g*l-e*d+h),y:q.yg(g*m+e*p+k),z:s}}this.Va.oy(a,this.nd);this.gi=!1;this.fh(!1)}this.aj&&this.Cg(this.C,q.G.Rf.tg);q.Lj&&(a=[q.a(this.Ub.Sa.B.x,this.Ub.Sa.B.y),q.a(this.Ub.eb.B.x,this.Ub.eb.B.y),q.a(this.Ub.Ua.B.x,this.Ub.Ua.B.y),q.a(this.Ub.ab.B.x,this.Ub.ab.B.y)],q.De.ee(a,4,!0))},dR:function(){if(this.Ra){var a=this.ea;!this.za||a&&a!=
this.tb&&a.ml?this.ml=!0:(this.ml=!1,this.en=a&&a!=this.tb?q.hm(this.kg(),a.en):this.kg());this.Ra=this.gi=!1}this.aj&&this.Cg(this.C,q.G.Rf.tg)},f:null,Kz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.ob);null==d&&(d=a.Cd);if(this.tb){if(!(a instanceof q.v)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.ja().si!==this.Va.ja().si&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");
this.tb.appendChild(a);this.Ae||this.wB()}q.G.prototype.f.call(this,a,c,d);this.aj=!0},Jz:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.ob);null==d&&(d=a.Cd);q.G.prototype.f.call(this,a,c,d);this.aj=!0},At:function(){var a=this.Kc,c=this.hc,a={q:a.q,p:a.p,o:a.o,Q:c};this.Fc&&(a.q*=c/255,a.p*=c/255,a.o*=c/255);c=this.Ub;c.Sa.W=a;c.eb.W=a;c.ab.W=a;c.Ua.W=a;this.tb&&(this.nd!=q.nz?this.Va.oy(c,this.nd):this.Ra=!0);this.Bf=!0},ta:null,vB:function(a){q.Ib.prototype.ta.call(this,
a);this.At()},as:function(a){q.Ib.prototype.ta.call(this,a);this.Tm()},r:null,tB:function(a){q.Ib.prototype.r.call(this,a);this.At()},Zr:function(a){var c=this.Dd();if(c.q!==a.q||c.p!==a.p||c.o!==a.o)q.Ib.prototype.r.call(this,a),this.jv(),this.Tm()},td:null,WQ:function(a){q.Ib.prototype.td.call(this,a);this.At()},TB:function(a){var c=this.Dd();q.Ib.prototype.td.call(this,a);a=this.Kc;if(c.q!==a.q||c.p!==a.p||c.o!==a.o)this.jv(),this.Tm()},jq:null,kQ:function(a){this.gb();var c=a._offset;this.pi.I=
c.x;this.pi.U=c.y;c=a.ja();a.zb||(this.zb=!1,a.eg(function(a){this.zb=!0;var c=a.ja();c!=this.Ha&&this.ka(c);this.ib(a.qd(),a.Ad,a.zd);this.re()},this));c!=this.Ha&&this.ka(c);this.od=a.Ad;this.ib(a.qd(),this.od,a.zd)},jQ:function(a){this.gb();var c=a._offset;this.pi.I=c.x;this.pi.U=c.y;this.od=a.Ad;var c=a.ja(),d=a.zb;d||(this.zb=!1,a.eg(function(a){this.zb=!0;var c=a.ja();c!=this.Ha&&this.ka(c);this.ib(a.qd(),a.Ad,a.zd);this.re()},this));c!=this.Ha&&this.ka(c);this.od&&(this.Xf=c);this.ib(a.qd(),
this.od,a.zd);this.Yq=!1;d&&(a=this.Dd(),255===a.q&&255===a.p&&255===a.o||this.jv())},BJ:null,mP:function(a){return q.sK(a.qd(),this.Aa)&&a.ja().getName()==this.Ha.getName()&&q.lK(a._offset,this.pi)},lP:function(a){return a.ja()!=this.Ha?!1:q.sK(a.qd(),this.Aa)},zS:function(){return q.Yd.La(this.Ha,q.oo(this.Aa),this.od,q.sN(this.pi),q.mz(this.Ca))},Re:null,cQ:function(a){if(this.tb=a)this.en={Q:1,o:0,Ma:0,d:1,jb:0,kb:0},this.pq(this.tb.Va);else{this.nd=q.nz;this.pq(null);this.gi=!1;this.fh(!1);a=
this.uc.I;var c=this.uc.U,d=a+this.Aa.width,e=c+this.Aa.height,f=this.Ub;f.Sa.B={x:a,y:c,z:0};f.eb.B={x:d,y:c,z:0};f.ab.B={x:a,y:e,z:0};f.Ua.B={x:d,y:e,z:0};this.Bf=!0}},bQ:function(a){(this.tb=a)?(this.en={Q:1,o:0,Ma:0,d:1,jb:0,kb:0},this.pq(this.tb.Va)):(this.nd=q.nz,this.pq(null),this.gi=!1,this.fh(!1))},ka:null,cs:function(a){if(a&&!(a instanceof q.oc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.tb&&this.tb.ja()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):
(a?this.gh(q.Zh.g().Hi(q.lz)):this.gh(q.Zh.g().Hi(q.BN)),this.tb||this.Ha==a||(this.Ha=a,this.gn()))},bs:function(a){if(a&&!(a instanceof q.oc))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ha!=a&&(a&&a.Ec instanceof HTMLImageElement&&(this.Xf=a),this.Ha=a)},gn:function(){this.tb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.Ha&&this.Ha.Xs()?(this.qa.src=q.Te,this.qa.Qb=q.Se,
this.Mf(!0)):(this.qa.src=770,this.qa.Qb=771,this.Mf(!1))},jv:function(){var a,c=this.Ha,d=this.an;if(c&&d.fm&&this.Xf&&(a=c.Ec)){var e=q.ga.g().ZI(this.Xf.Ec);e&&(this.Yq=!0,a instanceof HTMLCanvasElement&&!this.od&&!this.MG?this.xo?q.FI(this.Xf.Ec,this.Kc,d,c.Ec):q.EC(a,e,this.Kc,d,a):(a=this.xo?q.FI(a,this.Kc,d):q.EC(a,e,this.Kc,d),c=new q.oc,c.of(a),c.fe(),this.ka(c)))}},dH:function(a){a=q.oo(a);var c=this.tb?this.Va.ja():this.Ha;if(c){var d=c.Wp(),e=c.Vp(),f,g=this.Ub;this.od?(q.iu?(c=(2*a.x+
1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.pc&&(e=f,f=a,a=e),this.qc&&(e=c,c=d,d=e),g.Sa.H.Wa=c,g.Sa.H.ua=f,g.eb.H.Wa=c,g.eb.H.ua=a,g.ab.H.Wa=d,g.ab.H.ua=f,g.Ua.H.Wa=d,g.Ua.H.ua=a):(q.iu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.pc&&(e=c,c=d,d=e),this.qc&&(e=f,f=a,a=e),g.Sa.H.Wa=c,g.Sa.H.ua=a,g.eb.H.Wa=
d,g.eb.H.ua=a,g.ab.H.Wa=c,g.ab.H.ua=f,g.Ua.H.Wa=d,g.Ua.H.ua=f);this.Bf=!0}},Za:null,Fg:function(){if(this.zb){var a=q.da,c=this.Ha;c?c.Nc&&(this.Zc.uf(),this.Zc.ih(),q.wk(this.qa.src,this.qa.Qb),q.m7(0,c),q.Je(q.Qu),a.bindBuffer(a.ARRAY_BUFFER,this.gw),this.Bf&&(a.bufferData(a.ARRAY_BUFFER,this.Ub.iC,a.DYNAMIC_DRAW),this.Bf=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,
4)):(this.Zc.uf(),this.Zc.ih(),q.wk(this.qa.src,this.qa.Qb),q.Rg(null),q.Je(q.oh|q.WN),a.bindBuffer(a.ARRAY_BUFFER,this.gw),this.Bf&&(q.da.bufferData(q.da.ARRAY_BUFFER,this.Ub.iC,q.da.STATIC_DRAW),this.Bf=!1),a.vertexAttribPointer(q.We,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Mq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.Jh++;0!==q.Lj&&(1===q.Lj?(a=this.Ub,a=[q.a(a.ab.B.x,a.ab.B.y),q.a(a.Sa.B.x,a.Sa.B.y),q.a(a.eb.B.x,a.eb.B.y),q.a(a.Ua.B.x,a.Ua.B.y)],q.De.ee(a,4,!0)):2===
q.Lj&&(a=this.RC().Ya,c=this.uc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.De.ee(a,4,!0)))}},s1:function(a,c,d,e){this.AB=c;this.Ng=d;this.zB=e;this.fs=a},r1:function(a){this.CB=a},Vj:function(a){if(this.zb){a=a||q.da;this.Hm&&(a.globalCompositeOperation="lighter");a.$T=this.rp;var c=q.ra.g().va,d=q.ra.g().Da;a.globalAlpha=this.hc/255;var e=this.Aa,f=this.Ca,g=this.uc,h=this.To,k=0|g.I,l=-g.U-e.height,m=this.an;!0==this.fs&&(a.shadowBlur=this.AB?this.AB:
30,a.shadowColor=this.zB?this.zB:"black",a.shadowOffsetX=this.Ng?this.Ng.x:5,a.shadowOffsetY=this.Ng?this.Ng.y:5);if(this.pc||this.qc)a.save(),this.pc&&(k=-g.I-e.width,a.scale(-1,1)),this.qc&&(l=g.U,a.scale(1,-1));k*=c;l*=d;if(this.Ha&&m.fm)g=this.Ha.Ec,this.Yq?a.drawImage(g,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(g,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ia){var p=this.Dd();a.fillStyle="rgba("+p.q+","+p.p+","+p.o+",1)";a.fillRect(k,l,f.Ia*c,f.ya*d)}!0==this.fs&&
(a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0);!0==this.CB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.q+","+p.p+","+p.o+",1)",a.lineWidth="1",ea(a,k,l,f.Ia*c,f.ya*d),a.stroke());1===q.Lj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.De.ee(k,4,!0)):2===q.Lj&&(a.strokeStyle="rgba(0,255,0,1)",p=this.Aa.Ya,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.De.ee(k,4,!0));(this.pc||
this.qc)&&a.restore();q.Jh++}}});
q.Ja.ed?(b=q.v.prototype,b.FB=q.v.prototype.IQ,b.Mf=q.v.prototype.qQ,b.ud=q.v.prototype.XQ,b.ctor=q.v.prototype.ai,b.Tl=q.v.prototype.eQ,b.w=q.v.prototype.IA,b.Ta=q.v.prototype.Gr,b.ww=q.v.prototype.NQ,b.ib=q.v.prototype.eH,b.tg=q.v.prototype.eR,b.f=q.v.prototype.Kz,b.ta=q.v.prototype.vB,b.r=q.v.prototype.tB,b.td=q.v.prototype.WQ,b.jq=q.v.prototype.kQ,b.BJ=q.v.prototype.mP,b.Re=q.v.prototype.cQ,b.ka=q.v.prototype.cs,b.Za=q.v.prototype.Fg):(b=q.v.prototype,b.FB=q.v.prototype.HQ,b.Mf=q.v.prototype.pQ,
b.ud=q.v.prototype.yH,b.ctor=q.v.prototype.$h,b.Tl=q.v.prototype.dQ,b.w=q.v.prototype.HA,b.Ta=q.v.prototype.Fr,b.ww=q.v.prototype.MQ,b.ib=q.v.prototype.xB,b.tg=q.v.prototype.dR,b.f=q.v.prototype.Jz,b.ta=q.v.prototype.as,b.r=q.v.prototype.Zr,b.td=q.v.prototype.TB,b.jq=q.v.prototype.jQ,b.BJ=q.v.prototype.lP,b.Re=q.v.prototype.bQ,b.ka=q.v.prototype.bs,b.Za=q.v.prototype.Vj);
q.v.La=function(a,c){var d=arguments.length,e=new q.v;switch(d){case 1:return e&&e.Ta(a)?e:null;case 2:return e&&e.Ta(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.v.create=function(a,c){var d=arguments.length,e=new q.v;if(0===d){if(e.w())return e}else if(e&&e.w(a,c))return e;return null};
q.v.gI=function(a){var c=null;if("string"==typeof a){if(c=q.Ag.g().Mh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.v)&&a.Me(c)?a:null};q.v.fI=function(a){var c=new q.v;return c&&c.Me(a)?c:null};Object.defineProperties(q.v.prototype,{dca:{get:function(){return this.rp},set:function(a){this.rp=a},enumerable:!0},U1:{get:function(){return this.xo},set:function(a){this.xo=a},enumerable:!0}});q.Hj=q.Oa.extend({gs:null,te:0,zs:null,ctor:function(){this.te=0},clone:function(){var a=new q.Hj;a.Me(this.gs.clone(),this.te,this.zs);return a},Tw:function(){return q.clone(this)},copy:function(){var a=new q.Hj;a.Me(this.gs.clone(),this.te,this.zs);return a},Me:function(a,c,d){this.gs=a;this.te=c;this.zs=d;return!0},Mh:function(){return this.gs},Nf:function(a){this.gs=a},y4:function(){return this.te},qaa:function(a){this.te=a},X6:function(){return this.zs},Nba:function(a){this.zs=a}});
q.Gj=q.Oa.extend({ve:null,fk:0,Qm:!1,Ga:0,te:0,cn:0,ctor:function(){this.ve=[]},R4:function(){return this.ve},UK:function(a){this.ve=a},fC:function(a){var c=new q.Hj;c.Me(a,1,null);this.ve.push(c);this.cn++},L1:function(a){a=q.ga.g().la(a);var c=q.wd();c.Ya=a.c();a=q.Yd.La(a,c);this.fC(a)},M1:function(a,c){var d=q.Yd.La(a,c);this.fC(d)},Ys:function(a,c,d){q.Gt(a,q.Hj);this.te=c;this.fk=d;this.UK([]);for(c=0;c<a.length;c++)d=a[c],this.ve.push(d),this.cn+=d.te;return!0},clone:function(){var a=new q.Gj;
a.Ys(this.hG(),this.te,this.fk);a.Tx(this.Qm);return a},Tw:function(){var a=new q.Gj;a.Ys(this.hG(),this.te,this.fk);a.Tx(this.Qm);return a},hG:function(){for(var a=[],c=0;c<this.ve.length;c++)a.push(this.ve[c].clone());return a},copy:function(){return this.Tw(null)},h5:function(){return this.fk},Naa:function(a){this.fk=a},Tx:function(a){this.Qm=a},h6:function(){return this.Qm},Gf:function(){return this.cn*this.te},x4:function(){return this.te},paa:function(a){this.te=a},O6:function(){return this.cn},
sJ:function(a,c){q.Gt(a,q.Yd);this.fk=1;this.te=c||0;this.UK([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.Hj;f.Me(e,1,null);this.ve.push(f);this.cn++}return!0},CK:function(){},uK:function(){}});q.Gj.create=function(a,c,d){var e=arguments.length,f=new q.Gj;0==e?f.sJ(null,0):2==e?f.sJ(a,c||0):3==e&&f.Ys(a,c,d);return f};q.Gj.eI=function(a,c,d){var e=new q.Gj;e.Ys(a,c,d);return e};q.im=q.Oa.extend({KH:function(a,c){this.wm[c]=a},w$:function(a){a&&this.wm.hasOwnProperty(a)&&delete this.wm[a]},GI:function(a){return this.wm.hasOwnProperty(a)?this.wm[a]:null},eO:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.Ag.g(),h=q.Wd.g(),k,l=0;l<f.length;l++)k=h.EI(f[l],c),g.RH(k);switch(e){case 1:this.FP(d);break;case 2:this.GP(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
C1:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.Wd.g(),d=c.He(a);(c=c.Xw(d))?this.eO(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},FP:function(a){var c=q.Ag.g(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Mh(f[h]);if(k){var l=new q.Hj;l.Me(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.Gj.eI(g,e,1),q.im.g().KH(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
GP:function(a){var c=q.Ag.g(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.pm:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],p=m.spriteframe,s=c.Mh(p);if(s){var p=parseFloat(m.delayUnits)||0,m=m.notification,u=new q.Hj;u.Me(s,p,m);k.push(u)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+p+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.Gj;h.Ys(k,e,f);h.Tx(g);q.im.g().KH(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},w:function(){this.wm={};return!0},wm:null});q.im.FV=function(){q.Sn&&(q.Sn.wm=null,q.Sn=null)};q.im.g=function(){null===q.Sn&&(q.Sn=new q.im,q.Sn.w());return q.Sn};q.Sn=null;q.Yd=q.Oa.extend({_offset:null,zd:null,af:null,Ad:!1,Aa:null,Vf:null,yf:null,Ha:null,Ap:"",zb:!1,vv:null,ctor:function(){this._offset=q.Kd();this.Vf=q.Kd();this.zd=q.Um();this.Ad=!1;this.yf=q.Um();this.Ap="";this.Ha=null;this.zb=!1},SL:function(){return this.zb},eg:function(a,c){null==this.vv&&(this.vv=[]);this.vv.push({eventCallback:a,wi:c})},re:function(){var a=this.vv;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.wi,this)}a.length=0}},oT:function(){var a=this.af;return q.rect(a.x,
a.y,a.width,a.height)},mba:function(a){this.af||(this.af=q.rect(0,0,0,0));this.af.x=a.x;this.af.y=a.y;this.af.width=a.width;this.af.height=a.height;this.Aa=q.Dq(a)},l8:function(){return this.Ad},rba:function(a){this.Ad=a},qd:function(){var a=this.Aa;return q.rect(a.x,a.y,a.width,a.height)},iL:function(a){this.Aa||(this.Aa=q.rect(0,0,0,0));this.Aa.x=a.x;this.Aa.y=a.y;this.Aa.width=a.width;this.Aa.height=a.height;this.af=q.oo(this.Aa)},E5:function(){return this.Vf},aba:function(a){this.Vf.I=a.x;this.Vf.U=
a.y;q.Xu(this.Vf,this._offset)},L5:function(){return this.yf},dba:function(a){this.yf.Ia=a.width;this.yf.ya=a.height},jT:function(){return this.zd},cba:function(a){this.zd.Ia=a.width;this.zd.ya=a.height},ja:function(){if(this.Ha)return this.Ha;if(""!==this.Ap){var a=q.ga.g().la(this.Ap);a&&(this.zb=a.Vg());return a}return null},ka:function(a){if(this.Ha!=a){var c=a.Vg();this.zb=c;this.Ha=a;c||a.eg(function(a){this.zb=!0;if(this.Ad&&q.Td===q.vg){var c=a.Ec,c=q.hI(c,this.qd()),f=new q.oc;f.of(c);f.fe();
this.ka(f);c=this.qd();this.iL(q.rect(0,0,c.width,c.height))}c=this.Aa;0===c.width&&0===c.height&&(a=a.c(),this.Aa.width=a.width,this.Aa.height=a.height,this.af=q.oo(this.Aa),this.yf.Ia=this.af.width,this.yf.ya=this.af.height,this.zd.Ia=a.width,this.zd.ya=a.height);this.re()},this)}},D5:function(){return this._offset},$aa:function(a){this._offset.I=a.x;this._offset.U=a.y},clone:function(){var a=new q.Yd;a.nx(this.Ap,this.af,this.Ad,this.Vf,this.yf);a.ka(this.Ha);return a},Tw:function(){var a=new q.Yd;
a.nx(this.Ap,this.af,this.Ad,this.Vf,this.yf);a.ka(this.Ha);return a},copy:function(){return this.Tw()},Ta:function(a,c,d,e,f){2===arguments.length&&(c=q.oo(c));e=e||q.a(0,0);f=f||c.Ya;this.ka(a);this.af=c;this.Aa=q.Dq(c);this.Vf.I=e.x;this.Vf.U=e.y;q.Xu(e,this._offset);this.yf.Ia=f.width;this.yf.ya=f.height;q.Dz(f,this.zd);this.Ad=d||!1;return!0},nx:function(a,c,d,e,f){2===arguments.length&&(c=q.oo(c));e=e||q.a(0,0);f=f||c.Ya;this.Ha=null;this.Ap=a;this.af=c;this.Aa=q.Dq(c);this.Ad=d||!1;this.Vf.I=
e.x;this.Vf.U=e.y;q.Xu(e,this._offset);this.yf.Ia=f.width;this.yf.ya=f.height;q.Dz(f,this.zd);return!0}});q.Yd.create=function(a,c,d,e,f){var g=new q.Yd;switch(arguments.length){case 2:g.nx(a,c);break;case 5:g.nx(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.Yd.La=function(a,c,d,e,f){var g=new q.Yd;switch(arguments.length){case 2:g.Ta(a,c);break;case 5:g.Ta(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.Yd.V0=function(a,c,d,e,f){var g=new q.Yd;g.Ha=a;g.af=c;g.Aa=q.Dq(c);g.Vf.I=e.x;g.Vf.U=e.y;q.Xu(g.Vf,g._offset);g.yf.Ia=f.width;g.yf.ya=f.height;q.Dz(g.yf,g.zd);g.Ad=d;return g};q.Ag=q.Oa.extend({cf:null,nl:null,Mr:null,ctor:function(){this.cf={};this.nl={};this.Mr=[]},Mz:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.cf[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),p=parseFloat(d.offsetX),s=parseFloat(d.offsetY),u=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);u&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");u=Math.abs(u);d=Math.abs(d);h=q.Yd.La(c,q.rect(h,k,l,m),!1,q.a(p,s),q.size(u,d))}else if(1==f||2==f)h=q.zF(d.frame),k=!1,2==f&&(k=d.rotated),l=q.yF(d.offset),d=q.pz(d.sourceSize),h=q.Yd.La(c,h,k,l,d);else if(3==f){var h=q.pz(d.spriteSize),k=q.yF(d.spriteOffset),l=q.pz(d.spriteSourceSize),m=q.zF(d.textureRect),p=d.textureRotated,
s=d.aliases,u=g.toString(),w;for(w in s)this.nl.hasOwnProperty(s[w])&&q.log("cocos2d: WARNING: an alias with name "+w+" already exists"),this.nl[s[w]]=u;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.Yd.La(c,m,p,k,l)}else var x=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.hM,k.h),d=d.rotated,l=q.a(0,0),h=q.size(h.hM,h.h),h=q.Yd.La(c,k,d,l,h);q.Td===q.vg&&h.Ad&&h.ja().Vg()&&(d=h.ja().Ec,d=q.hI(d,h.oT()),k=new q.oc,k.of(d),k.fe(),h.ka(k),d=h.Aa,h.iL(q.rect(0,0,d.width,
d.height)));this.cf[null!=x?x:g]=h}}},RH:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.Wd.g(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.He(a),e=d.Xw(e)):e=JSON.parse(d.XI(a));switch(arguments.length){case 1:if(!q.zy(this.Mr,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.EI(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.ga.g().la(f))?this.Mz(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.oc)this.Mz(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.ga.g().la(c))?this.Mz(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},fC:function(a,c){this.cf[c]=a},E$:function(){this.cf=[];this.nl=[];this.Mr={}},D$:function(a){a&&(this.nl.hasOwnProperty(a)&&delete this.nl[a],this.cf.hasOwnProperty(a)&&delete this.cf[a],this.Mr={})},F$:function(a){var c=
q.Wd.g(),d=c.He(a),c=c.Xw(d);this.QP(c);q.zy(this.Mr,a)&&q.le(a)},QP:function(a){a=a.frames;for(var c in a)this.cf.hasOwnProperty(c)&&delete this.cf[c]},G$:function(a){for(var c in this.cf){var d=this.cf[c];d&&d.ja()==a&&delete this.cf[c]}},Mh:function(a){var c;this.cf.hasOwnProperty(a)&&(c=this.cf[a]);if(!c){var d;this.nl.hasOwnProperty(a)&&(d=this.nl[a]);d&&(this.cf.hasOwnProperty(d.toString())&&(c=this.cf[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.Mx=null;q.Ag.g=function(){q.Mx||(q.Mx=new q.Ag);return q.Mx};q.Ag.GV=function(){q.Mx=null};q.Bq=29;
q.Fb=q.G.extend({Va:null,qa:null,Hd:null,N1:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.v))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Qe(c);var e=0,f=this.Hd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.nd>=c&&++e}this.Hd=q.jm(f,a,e);q.G.prototype.f.call(this,a,c,d);this.yK(!1);return this},YI:function(){return this.Va},pq:function(a){a!=this.Va&&
(this.Va=a)},B4:function(){return this.Hd},uj:function(a,c){var d=q.ga.g().iy(a);d||(d=q.ga.g().la(a));return this.Ta(d,c)},Tm:function(){this.dG=!0},w:function(a,c){var d=q.ga.g().iy(a);d||(d=q.ga.g().la(a));return this.Ta(d,c)},hx:function(){var a=this.Va.xd,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Va.lW(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},y$:function(a,c){this.removeChild(this.C[a],c)},
rK:function(a,c){var d=a.C;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.ob&&(c=this.rK(f,c))}!a==this&&(a.Qe(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.ob&&(c=this.rK(f,c));return c},$C:function(a){var c=a.C;return c&&0!=c.length?this.$C(c[c.length-1]):a.nd},IU:function(a){var c=a.C;return c&&0!=c.length?this.IU(c[c.length-1]):a.nd},AR:function(a,c){var d=a.getParent().C,e=q.By(d,a),f=a.getParent()==this,g=null;0<e&&e<q.TN&&(g=d[e-1]);if(f)return 0==e?0:this.$C(g)+
1;if(0==e)return d=a.getParent(),0>c?d.nd:d.nd+1;if(0>g.ob&&0>c||0<=g.ob&&0<=c)return this.$C(g)+1;d=a.getParent();return d.nd+1},yK:function(a){this.Ae=a},Tl:function(a,c){this.qa=1==arguments.length?a:{src:a,Qb:c}},Os:function(){return this.qa},gt:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.C.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.ob&&(q.G.prototype.gt.call(this,a,c),this.gb())},removeChild:function(a,
c){null!=a&&(-1===this.C.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.Pn(a),q.G.prototype.removeChild.call(this,a,c)))},vP:null,$m:null,z1:!1,Xf:null,ctor:null,$h:function(a){q.G.prototype.ctor.call(this);a&&this.w(a,q.Bq)},ai:function(a){q.G.prototype.ctor.call(this);this.vP=new q.Nh;a&&this.w(a,q.Bq)},cM:null,aR:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.Re(this),a.Qe(c),
a.fh(!0),a.tg()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},bR:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Va.xd;c>=d||d==this.Va.cb;)this.hx();a.Re(this);a.Qe(c);a.fh(!0);a.tg()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},tw:function(a,c){var d=this.Hd,e=this.Va,f=e.Ze,g=d[a],
h=q.Bz(f[a]);d[c].Qe(a);d[a]=d[c];e.oy(f[c],a);d[c]=g;e.oy(h,c)},tJ:null,jP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.v?(a.Re(this),a.Qe(c),a.fh(!0),a.tg(),this.C=q.jm(this.C,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},kP:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.v){for(var d=this.Va;c>=d.xd||
d.xd===d.cb;)this.hx();a.Re(this);a.Qe(c);d.hD(a.Ub,c);a.fh(!0);a.tg()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},xH:function(a,c){var d=0,e=a.C;e&&(d=e.length);var f=0;if(0===d)f=a.nd,a.Qe(c),a.mq(0),f!=c&&this.tw(f,c),c++;else{f=!0;0<=e[0].ob&&(f=a.nd,a.Qe(c),a.mq(0),f!=c&&this.tw(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.ob&&(f=a.nd,a.Qe(c),a.mq(0),f!=c&&this.tw(f,c),c++,f=!1);c=this.xH(g,c)}f&&(f=a.nd,a.Qe(c),
a.mq(0),f!=c&&this.tw(f,c),c++)}return c},gn:function(){this.Va.ja().Xs()||(this.qa.src=770,this.qa.Qb=771)},Ta:null,Fr:function(a){this.C=[];this.Hd=[];this.qa=new q.lm(q.Te,q.Se);this.$m=this.Xf=a;return!0},Gr:function(a,c){this.C=[];this.Hd=[];this.qa=new q.lm(q.Te,q.Se);c=c||q.Bq;this.Va=new q.uo;this.Va.Ta(a,c);this.gn();this.gh(q.Zh.g().Hi(q.lz));return!0},kU:function(a,c){a.Re(this);a.Qe(c);a.fh(!0);var d=this.Va;d.cb>=d.xd&&this.hx();d.hD(a.Ub,c);this.Hd=q.jm(this.Hd,a,c);var d=c+1,e=this.Hd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].Qe(e[d].nd+1);if((e=a.C)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.AR(e[d],e[d].ob);this.kU(e[d],f)}},appendChild:null,kO:function(a){this.Ae=!0;a.Re(this);a.fh(!0);this.Hd.push(a);a.Qe(this.Hd.length-1);a=a.C;for(var c=0;c<a.length;c++)this.appendChild(a[c])},lO:function(a){this.Ae=!0;a.Re(this);a.fh(!0);this.Hd.push(a);var c=this.Hd.length-1;a.Qe(c);var d=this.Va;d.cb==d.xd&&this.hx();d.hD(a.Ub,c);a=a.C;for(c=0;c<a.length;c++)this.appendChild(a[c])},
Pn:null,RP:function(a){a.Re(null);var c=this.Hd,d=q.By(c,a);if(-1!=d){q.wq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Qe(f.nd-1)}}if((a=a.C)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Pn(a[c])},SP:function(a){this.Va.gW(a.nd);a.Re(null);var c=this.Hd,d=q.By(c,a);if(-1!=d){q.wq(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Qe(f.nd-1)}}if((a=a.C)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.Pn(a[c])},ja:null,CA:function(){return this.$m},DA:function(){return this.Va.ja()},ka:null,bs:function(a){this.$m=
a;for(var c=this.C,d=0;d<c.length;d++)c[d].ka(a)},cs:function(a){this.Va.ka(a);this.gn()},Ba:null,hn:function(a){var c=a||q.da;if(this.za){c.save();this.transform(a);var d=this.C;if(d)for(this.ke(),a=0;a<d.length;a++)d[a]&&d[a].Ba(c);c.restore()}},jn:function(a){a=a||q.da;if(this.za){q.gq();var c=this.$k;c&&c.dq()&&(c.kC(),this.my());this.ke();this.transform(a);this.Za(a);c&&c.dq()&&c.gC(this);q.fq();this.mq(0)}},f:null,Jz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.v?(c=null==c?a.ob:c,d=null==d?a.Cd:d,q.G.prototype.f.call(this,a,c,d),this.appendChild(a),this.gb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Kz:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.v?a.ja()!=this.Va.ja()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.ob:c,d=null==d?a.Cd:d,q.G.prototype.f.call(this,a,c,d),this.appendChild(a),
this.gb()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},$b:null,NP:function(a){var c=this.Hd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Re(null);q.G.prototype.$b.call(this,a);this.Hd=[]},OP:function(a){var c=this.Hd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Re(null);q.G.prototype.$b.call(this,a);this.Hd=[];this.Va.aW()},ke:null,FQ:function(){if(this.Ae){var a,c=0,d=this.C,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.ob<f.ob||g.ob==f.ob&&g.Wf<f.Wf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.Cg(d,q.G.Rf.ke);this.Ae=!1}},GQ:function(){if(this.Ae){var a=this.C,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.ob<f.ob||g.ob==f.ob&&g.Wf<f.Wf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.Cg(a,q.G.Rf.ke),c=d=0;c<a.length;c++)d=this.xH(a[c],d);this.Ae=!1}},Za:null,Fg:function(){0!==this.Va.cb&&(this.Zc.uf(),this.Zc.ih(),this.Cg(this.C,q.G.Rf.tg),q.wk(this.qa.src,
this.qa.Qb),this.Va.ES())}});
q.Ja.ed?(b=q.Fb.prototype,b.ctor=q.Fb.prototype.ai,b.cM=q.Fb.prototype.bR,b.tJ=q.Fb.prototype.kP,b.Ta=q.Fb.prototype.Gr,b.appendChild=q.Fb.prototype.lO,b.Pn=q.Fb.prototype.SP,b.ja=q.Fb.prototype.DA,b.ka=q.Fb.prototype.cs,b.Ba=q.Fb.prototype.jn,b.f=q.Fb.prototype.Kz,b.$b=q.Fb.prototype.OP,b.ke=q.Fb.prototype.GQ,b.Za=q.Fb.prototype.Fg):(b=q.Fb.prototype,b.ctor=q.Fb.prototype.$h,b.cM=q.Fb.prototype.aR,b.tJ=q.Fb.prototype.jP,b.Ta=q.Fb.prototype.Fr,b.appendChild=q.Fb.prototype.kO,b.Pn=q.Fb.prototype.RP,
b.ja=q.Fb.prototype.CA,b.ka=q.Fb.prototype.bs,b.Ba=q.Fb.prototype.hn,b.$b=q.Fb.prototype.NP,b.f=q.Fb.prototype.Jz,b.ke=q.Fb.prototype.FQ,b.Za=q.G.prototype.Za);q.Fb.create=function(a,c){c=c||q.Bq;var d=new q.Fb;d.w(a,c);return d};q.Fb.La=function(a,c){c=c||q.Bq;var d=new q.Fb;d.Ta(a,c);return d};q.qZ={nZ:0,pZ:1,oZ:2,mZ:3,lZ:4};
q.Ue=q.Oa.extend({Or:0,HG:0,ms:!1,ls:!1,pw:!1,qw:!1,rw:!1,sP:0,Uv:0,Oq:"",qk:null,ctor:function(){this.HG=this.Or=0;this.rw=this.qw=this.pw=this.ls=this.ms=!1;this.Uv=this.sP=0;this.Oq="";this.qk={}},n5:function(){return this.Or},m5:function(){return this.HG},o5:function(){return this.Uv},qca:function(){return this.ls},rca:function(){return this.ms},oca:function(){return this.pw},pca:function(){return this.qw},sca:function(){return this.rw},Mp:function(a){return-1<this.Oq.indexOf(a)},w:function(){var a=
this.qk;a["cocos2d.x.version"]=q.Pt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.cF;return!0},e4:function(a,c){var d=this.qk;return d.hasOwnProperty(a)?d[a]:c},Z3:function(a,c){null==c&&(c=!1);var d=this.qk;return d.hasOwnProperty(a)?d[a]:c},w5:function(a,c){null==c&&(c=0);var d=this.qk;return d.hasOwnProperty(a)?d[a]:c},y5:function(a){var c=this.qk;return c.hasOwnProperty(a)?c[a]:null},oX:function(a,c){this.qk[a]=c},HS:function(){0===q.cF&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},SS:function(){if(q.Td!==q.vg){var a=q.da,c=this.qk;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.Oq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.Oq+=d[e]+" ";this.Or=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.Or;this.Uv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.Uv;this.ms=this.Mp("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.ms;this.ls=!1;c["gl.supports_NPOT"]=this.ls;this.pw=this.Mp("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.pw;this.qw=this.Mp("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.qw;this.rw=this.Mp("vertex_array_object");c["gl.supports_vertex_array_object"]=this.rw;q.QE()}},O8:function(a){var c=q.Wd.g(),d=c.He(a),c=c.Xw(d);if(null!=c)if(c=c.data)for(var e in c)this.qk[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.Ue.es=null;
q.Ue.g=function(){q.Ue.es||(q.Ue.es=new q.Ue,q.Ue.es.w());return q.Ue.es};q.Ue.d$=function(){q.Ue.es=null};q.Jh=0;q.EM=0;q.$E=1;q.FM=3;q.GM=q.$E;q.vZ=0;q.tZ=1;q.wZ=2;q.uZ=3;q.sZ=2;q.zZ=q.Oa.extend({Xca:function(){}});q.dF=function(a){var c=new q.Nh;q.BU(q.qu,c);var d=new q.Nh;q.BU(q.pu,d);q.EU(a,c,d)};
q.fa=q.Oa.extend({g1:!1,Sr:!1,Om:!1,fw:!1,Sm:!1,qh:0,TA:0,ll:0,wo:0,Bm:1,ir:!1,Vk:0,yv:0,Ok:null,Qk:null,Wk:null,dc:null,ek:null,dj:null,Zv:null,wh:null,jj:null,dB:null,Bd:null,ve:0,PB:0,sB:0,S0:null,Mg:null,ph:null,gf:null,OA:null,$u:null,Qr:null,f1:!1,ctor:function(){this.ek=Date.now();if(!q.iD){var a=this;window.addEventListener("focus",function(){a.ek=Date.now()},!1)}},XP:function(){this.ek=Date.now()},w:function(){this.TA=this.qh=1/q.iS;this.jj=[];this.ll=q.GM;this.dB=null;this.yv=this.wo=0;
this.ir=!1;this.PB=this.ve=0;this.ek=Date.now();this.fw=this.Om=!1;this.dc=q.Um();this.wh=null;this.Bm=1;this.Mg=new q.GN;this.ph=new q.oM;this.Mg.EK(this.ph,q.tu,!1);q.sa&&(this.gf=new q.sa,this.gf.w());q.mo&&(this.OA=q.mo.g());q.Hk&&(this.$u=new q.Hk);q.pe&&(this.Qr=new q.pe,this.Qr.w());return!0},FR:function(){var a=Date.now();this.Sr?(this.Vk=0,this.Sr=!1):this.Vk=(a-this.ek)/1E3;0<q.Jt&&0.2<this.Vk&&(this.Vk=1/60);this.ek=a},$R:function(a){var c=new q.Nh;q.dF(c);var d=new q.Nh;q.G8(d,c);var c=
c.Oh[14]/c.Oh[15],e=this.wh.Rp();a=new q.hq(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.hq;q.GU(c,a,d);return q.a(c.x,c.y)},bS:function(a){var c=new q.Nh;q.dF(c);var d=new q.hq;a=new q.hq(a.x,a.y,0);q.GU(d,a,c);c=this.wh.Rp();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},FS:function(){this.FR();this.Om||this.Mg.update(this.Vk);this.fG();this.dj&&this.nX();this.Rz&&this.Rz();this.Bd&&this.Bd.Ba();this.Zv&&this.Zv.Ba();this.ir&&this.EQ();this.Nz&&this.Nz();this.PB++;this.ir&&this.sO()},
AO:function(){var a=this.wh.jf;q.da.clearRect(-a.x,a.y,a.width,-a.height)},HO:function(){var a=q.da;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Rz:null,Nz:null,nO:function(){q.gq()},jO:function(){q.fq()},end:function(){this.fw=!0},q4:function(){return this.Bm},v5:function(){return this.Zv},h7:function(){return this.dc},IT:function(){return q.size(this.dc.width*this.Bm,this.dc.height*this.Bm)},Ts:function(){return this.wh?this.wh.Ts():this.dc},cJ:function(){return this.wh?this.wh.cJ():q.tN},Vs:function(){return this.dc.height/
1.1566},pause:function(){this.Om||(this.TA=this.qh,this.it(0.25),this.Om=!0)},X9:function(){if(!this.Bd)throw"running scene should not null";this.jj.pop();var a=this.jj.length;0==a?this.end():(this.Sm=!0,this.dj=this.jj[a-1])},CD:function(){q.Zy.CD()},EV:function(){this.Jf().zt();this.gf&&this.gf.$V();this.Bd&&(this.Bd.Ph(),this.Bd.he(),this.Bd.fg());this.dj=this.Bd=null;this.jj=[];this.ML();q.Zy.CD();q.im.FV();q.Ag.GV();q.ga.HV();q.QE()},IV:function(a){if(!a)throw"the scene should not null";this.Sm=
!1;this.jj.push(a);this.dj=a},zK:function(a){if(!this.Bd)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.jj.length;0===c?(this.Sm=!0,this.jj[c]=a):(this.Sm=!0,this.jj[c-1]=a);this.dj=a},BK:function(){this.Om&&(this.it(this.TA),(this.ek=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.Om=!1,this.Vk=0)},tW:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Bd)throw"_runningScene should be null";
this.IV(a);this.JL()},HW:function(a){a?q.wk(q.Te,q.Se):q.wk(q.da.ONE,q.da.ZERO)},RW:function(a){a!=this.Bm&&(this.Bm=a,this.Po())},VW:function(a){if(q.Td!==q.vg){var c=q.da;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},oaa:function(){},VK:function(){this.HW(!0);this.VW(!1);this.Sx(this.ll);q.da.clearColor(0,0,0,1)},Waa:function(a){this.Sr=a},nX:function(){var a=!1,c=!1;q.OF&&(a=this.Bd?this.Bd instanceof q.OF:!1,c=this.dj?this.dj instanceof q.OF:!1);if(!c){if(c=
this.Bd)c.Ph(),c.he();this.Sm&&c&&c.fg()}this.Bd=this.dj;this.dj=null;a||null==this.Bd||(this.Bd.$g(),this.Bd.Gi())},Xaa:function(a){this.Zv=a},Ac:function(){return this.dB},pg:function(a){this.dB=a},tX:function(a){this.dc.nE(q.canvas.width);this.dc.bE(q.canvas.height);this.wh=a||q.ra.g();q.Td!==q.vg&&(a=q.Ue.g(),a.SS(),a.HS(),this.Po(),this.VK(),this.gf&&this.gf.WW(!0))},wL:function(){if(this.wh){var a=this.dc;this.wh.TX(0,0,a.width,a.height)}},Sx:function(a){var c=this.dc;if(q.Td===q.Nk){this.wL();
switch(a){case q.EM:q.An(q.qu);q.nD();var d=new q.Nh;q.FU(d,0,c.width,0,c.height,-1024,1024);q.qx(d);q.An(q.pu);q.nD();break;case q.$E:var e=this.Vs(),f=new q.Nh,d=new q.Nh;q.An(q.qu);q.nD();q.H8(f,60,c.width/c.height,0.1,2*e);q.qx(f);q.An(q.pu);q.nD();e=q.dt(null,c.width/2,c.height/2,e);c=q.dt(null,c.width/2,c.height/2,0);f=q.dt(null,0,1,0);q.DU(d,e,c,f);q.qx(d);break;case q.FM:break;default:q.log("cocos2d: Director: unrecognized projection")}this.ll=a;q.iba()}else this.ll=a},EQ:function(){this.ve++;
this.wo+=this.Vk;this.Ok&&this.Qk&&this.Wk?(this.wo>q.DM&&(this.Qk.na(this.sB.toFixed(3)),this.yv=this.ve/this.wo,this.wo=this.ve=0,this.Ok.na(this.yv.toFixed(1)),this.Wk.na((0|q.Jh).toString())),this.Ok.Ba(),this.Qk.Ba(),this.Wk.Ba()):this.Po();q.Jh=0},o8:function(){return this.Sm},k6:function(){return this.Bd},T3:function(){return this.qh},Q7:function(){return this.ir},saa:function(a){this.ir=a},q6:function(){return this.sB},J5:function(){return this.wh},b8:function(){return this.Sr},f8:function(){return this.Om},
P6:function(){return this.PB},Y5:function(){return this.ll},Y9:function(){this.sV(1)},sV:function(a){if(!this.Bd)throw"A running Scene is needed";var c=this.jj,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.bf&&(e.Ph(),e.he());e.fg();d--}this.dj=c[c.length-1];this.Sm=!1}},Jf:function(){return this.Mg},GX:function(a){this.Mg!=a&&(this.Mg=a)},hg:function(){return this.ph},FW:function(a){this.ph!=a&&(this.ph=a)},R6:function(){return this.gf},Lba:function(a){this.gf!=a&&(this.gf=
a)},dx:function(){if(!q.mo)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.OA},Kaa:function(a){if(!q.mo)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.OA=a},Qp:function(){if(!q.Hk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.$u},Y$:function(a){if(!q.Hk)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.$u!=
a&&(this.$u=a)},A4:function(){return this.Vk},If:function(){if(!q.pe)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.Qr},Uaa:function(a){if(!q.pe)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Qr!=a&&(this.Qr=a)},Po:null,KO:function(){if(!q.Yy)return this.iG();if(null!=q.fa.oG&&!1!=q.fa.oG){var a=new q.oc;a.of(q.fa.uA);a.fe();var c=q.ra.g().Rp().height/320;0===c&&(c=this.dc.height/320);var d=new q.Yy;
d.uB(!0);d.Dl("00.0",a,12,32,".");d.Ck(c);this.Ok=d;d=new q.Yy;d.uB(!0);d.Dl("0.000",a,12,32,".");d.Ck(c);this.Qk=d;d=new q.Yy;d.uB(!0);d.Dl("000",a,12,32,".");d.Ck(c);this.Wk=d;a=q.aF;this.Wk.l(q.bh(q.a(0,34*c),a));this.Qk.l(q.bh(q.a(0,17*c),a));this.Ok.l(a)}},iG:function(){var a=0,a=this.dc.width>this.dc.height?0|this.dc.height/320*24:0|this.dc.width/320*24;this.Ok=q.R.create("000.0","Arial",a);this.Qk=q.R.create("0.000","Arial",a);this.Wk=q.R.create("0000","Arial",a);var a=q.aF,c=this.Wk.c();this.Wk.l(q.bh(q.a(c.width/
2,5*c.height/2),a));c=this.Qk.c();this.Qk.l(q.bh(q.a(c.width/2,3*c.height/2),a));c=this.Ok.c();this.Ok.l(q.bh(q.a(c.width/2,c.height/2),a))},sO:function(){this.sB=(Date.now()-this.ek)/1E3}});q.Ja.ed?(q.fa.prototype.fG=q.fa.prototype.HO,q.fa.prototype.Rz=q.fa.prototype.nO,q.fa.prototype.Nz=q.fa.prototype.jO,q.fa.prototype.Po=q.fa.prototype.KO):(q.fa.prototype.fG=q.fa.prototype.AO,q.fa.prototype.Po=q.fa.prototype.iG);
q.HM=q.fa.extend({invalid:!1,JL:function(){this.Sr=!0;this.invalid=!1;q.Ik.g().it(this.qh)},TJ:function(){this.fw?(this.fw=!1,this.EV()):this.invalid||this.FS()},ML:function(){this.invalid=!0},it:function(a){this.qh=a;this.invalid||(this.ML(),this.JL())}});q.Lx=null;q.yI=!0;q.fa.g=function(){q.yI&&(q.yI=!1,q.Lx=new q.HM,q.Lx.w(),q.Lx.tX(q.ra.g()));return q.Lx};Object.defineProperties(q,{lda:{get:function(){return q.yS.dc},enumerable:!0,configurable:!0}});q.I3=!0;q.iS=60;q.fa.uA=new Image;
q.fa.uA.addEventListener("load",function(){q.fa.oG=!0;this.removeEventListener("load",arguments.callee,!1)});q.fa.uA.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.zq=q.Oa.extend({wr:null,xr:null,yr:null,Ko:null,Lo:null,Mo:null,ws:null,xs:null,ys:null,Ra:null,Qv:null,ctor:function(){this.Qv=new q.Nh;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.Ko+","+this.Lo+","+this.Mo+")\x3e"},fh:function(a){this.Ra=a},zJ:function(){return this.Ra},restore:function(){this.wr=this.xr=0;this.yr=q.zq.Vs();this.ws=this.Ko=this.Lo=this.Mo=0;this.xs=1;this.ys=0;q.F8(this.Qv);this.Ra=!1},PJ:function(){if(this.Ra){var a=new q.hq,c=new q.hq,d=new q.hq;
q.dt(a,this.wr,this.xr,this.yr);q.dt(c,this.Ko,this.Lo,this.Mo);q.dt(d,this.ws,this.xs,this.ys);q.DU(this.Qv,a,c,d);this.Ra=!1}q.qx(this.Qv)},xaa:function(a,c,d){this.SK(a,c,d)},SK:function(a,c,d){this.wr=a;this.xr=c;this.yr=d;this.Ra=!0},gaa:function(a,c,d){this.NW(a,c,d)},NW:function(a,c,d){this.Ko=a;this.Lo=c;this.Mo=d;this.Ra=!0},Mba:function(a,c,d){this.RX(a,c,d)},RX:function(a,c,d){this.ws=a;this.xs=c;this.ys=d;this.Ra=!0},J4:function(){return{x:this.wr,y:this.xr,z:this.yr}},KI:function(){return{x:this.wr,
y:this.xr,z:this.yr}},h4:function(){return{x:this.Ko,y:this.Lo,z:this.Mo}},II:function(){return{x:this.Ko,y:this.Lo,z:this.Mo}},W6:function(){return{x:this.ws,y:this.xs,z:this.ys}},GT:function(){return{x:this.ws,y:this.xs,z:this.ys}},G0:function(){}});q.zq.Vs=function(){return q.ju};q.tu=-2147483648;q.A_=q.tu+1;q.Gt=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.wq=function(a,c){a.splice(c,1)};q.le=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.cZ=function(a,c){for(var d=0,e=c.length;d<e;d++)q.le(a,c[d])};q.bZ=function(a,c){return a.indexOf(c)};q.$Y=function(a,c){a.push(c)};q.jm=function(a,c,d){a.splice(d,0,c);return a};
q.aZ=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.By=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.zy=function(a,c){return-1!=a.indexOf(c)};q.VZ=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.iF=function(a,c,d){this.next=null;this.target=a;this.oK=c;this.paused=d;this.Kl=!1};q.eF=function(a,c,d){this.list=a;this.un=c;this.target=d;this.hh=null};
q.SM=function(a,c){this.sg=null;this.target=a;this.rq=0;this.Is=this.Hs=null;this.paused=c;this.hh=null};
q.Ku=q.Oa.extend({dk:0,$f:null,aa:null,yc:0,ZG:!1,Hw:!1,Bp:0,lB:0,rv:0,ctor:function(){},e5:function(){return this.dk},setInterval:function(){},r6:function(){return this.$f},Ug:function(a,c,d,e,f){this.aa=a;this.$f=c;this.yc=-1;this.dk=d||0;this.rv=f||0;this.Hw=0<this.rv;this.lB=null==e?q.pm:e;this.ZG=this.lB==q.pm;return!0},Uz:function(){if("string"==typeof this.$f)this.aa[this.$f](this.yc);else this.$f.call(this.aa,this.yc)},update:function(a){if(-1==this.yc)this.Bp=this.yc=0;else{var c=this.aa,
d=this.$f;this.ZG&&!this.Hw?(this.yc+=a,this.yc>=this.dk&&(c&&d&&this.Uz(),this.yc=0)):(this.yc+=a,this.Hw?this.yc>=this.rv&&(c&&d&&this.Uz(),this.yc-=this.rv,this.Bp+=1,this.Hw=!1):this.yc>=this.dk&&(c&&d&&this.Uz(),this.yc=0,this.Bp+=1),this.Bp>this.lB&&q.fa.g().Jf().WL(c,d))}}});q.Ku.Kca=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.Ku;e.Ug(a,c,d||0,q.pm,0);return e};q.t1=null;
q.GN=q.Oa.extend({ps:1,Fh:null,qi:null,Pg:null,$j:null,cv:null,Zj:null,O0:null,wf:null,Xi:!1,Ew:!1,ctor:function(){this.ps=1;this.Fh=[];this.qi=[];this.Pg=[];this.$j={};this.cv=[];this.Zj={};this.Rk=[];this.wf=null;this.Ew=this.Xi=!1},kB:function(a){delete this.Zj[a.target.xc];q.le(this.Rk,a);a.Ku=null;a.target=null},U0:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},hw:function(a){if(a=this.$j[a.target.xc])q.le(a.list,a.un),delete this.$j[a.target.xc],q.le(this.cv,
a),a.un=null,a.target=null},SG:function(a,c,d,e){e=new q.iF(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].oK){a=q.jm(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.eF(a,e,c);this.cv.push(d);this.$j[c.xc]=d;return a},mO:function(a,c,d){d=new q.iF(c,0,d);a.push(d);a=new q.eF(a,d,c);this.cv.push(a);this.$j[c.xc]=a},Gba:function(a){this.ps=a},K6:function(){return this.ps},update:function(a){this.Ew=!0;1!=this.ps&&(a*=this.ps);var c,d;for(d=0;d<this.Fh.length;d++)c=this.Fh[d],c.paused||
c.Kl||c.target.update(a);for(d=0;d<this.qi.length;d++)c=this.qi[d],c.paused||c.Kl||c.target.update(a);for(d=0;d<this.Pg.length;d++)c=this.Pg[d],c.paused||c.Kl||c.target.update(a);for(d=0;d<this.Rk.length;d++){c=this.wf=this.Rk[d];this.Xi=!1;if(!this.wf.paused)for(c.rq=0;c.rq<c.sg.length;c.rq++)c.Hs=c.sg[c.rq],c.Is=!1,c.Hs.update(a),c.Hs=null;this.Xi&&0==this.wf.sg.length&&this.kB(this.wf)}for(d=0;d<this.Fh.length;d++)this.Fh[d].Kl&&this.hw(this.Fh[d]);for(d=0;d<this.qi.length;d++)this.qi[d].Kl&&this.hw(this.qi[d]);
for(d=0;d<this.Pg.length;d++)this.Pg[d].Kl&&this.hw(this.Pg[d]);this.Ew=!1;this.wf=null},wW:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.pm:e;f=f||0;g=g||!1;var h=this.Zj[a.xc];h||(h=new q.SM(a,g),this.Rk.push(h),this.Zj[a.xc]=h);if(null==h.sg)h.sg=[];else for(var k=0;k<h.sg.length;k++)if(g=h.sg[k],c==g.$f){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.dk.toFixed(4)+" to "+d.toFixed(4));g.dk=d;return}g=new q.Ku;g.Ug(a,c,d,e,f);h.sg.push(g)},EK:function(a,c,d){var e=this.$j[a.xc];e?e.un.Kl=!1:0==c?this.mO(this.qi,a,d):0>c?this.Fh=this.SG(this.Fh,a,c,d):this.Pg=this.SG(this.Pg,a,c,d)},WL:function(a,c){if(null!=a&&null!=c){var d=this.Zj[a.xc];if(null!=d)for(var e=0;e<d.sg.length;e++){var f=d.sg[e];if(c==f.$f){f!=d.Hs||d.Is||(d.Is=!0);q.wq(d.sg,e);d.rq>=e&&d.rq--;0==d.sg.length&&(this.wf==d?this.Xi=!0:this.kB(d));break}}}},sq:function(a){null!=a&&
(a=this.$j[a.xc],null!=a&&(this.Ew?a.un.Kl=!0:this.hw(a.un)))},VL:function(a){if(null!=a){var c=this.Zj[a.xc];c&&(!c.Is&&q.zy(c.sg,c.Hs)&&(c.Is=!0),c.sg.length=0,this.wf==c?this.Xi=!0:this.kB(c));this.sq(a)}},zt:function(){this.xY(q.tu)},xY:function(a){var c;for(c=0;c<this.Rk.length;c++)this.VL(this.Rk[c].target);if(0>a)for(c=0;c<this.Fh.length;c++)this.sq(this.Fh[c].target);if(0>=a)for(c=0;c<this.qi.length;c++)this.sq(this.qi[c].target);for(c=0;c<this.Pg.length;c++)this.Pg[c].oK>=a&&this.sq(this.Pg[c].target)},
V9:function(){return this.mV(q.tu)},mV:function(a){var c=[],d,e;for(d=0;d<this.Rk.length;d++)if(e=this.Rk[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Fh.length;d++)if(e=this.Fh[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.qi.length;d++)if(e=this.qi[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Pg.length;d++)if(e=this.Pg[d])e.paused=!0,c.push(e.target);return c},qW:function(a){if(a)for(var c=0;c<a.length;c++)this.Qn(a[c])},ft:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Zj[a.xc];c&&(c.paused=!0);if(a=this.$j[a.xc])a.un.paused=!0},Qn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Zj[a.xc];c&&(c.paused=!1);if(a=this.$j[a.xc])a.un.paused=!1},r8:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Zj[a.xc])?a.paused:!1}});q.iz={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Sb=q.Oa.extend({Qo:0,ss:0,Nr:0,Pm:null,qh:1/60,dk:null,AG:!1,ctor:function(){this.Pm=[]},mx:function(a,c,d){if(a){c&&(this.$f=c,this.aa=d);if(a!=this.Pm||0==this.Qo){this.Nr=this.Qo=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.Pm=this.Pm.concat(a[c]);else this.Pm=a;this.ss=this.Pm.length}this.aQ()}else console.log("resources should not null")},JW:function(a){this.AG=a},Ml:function(a){this.Nr++;q.log("cocos2d:Failed loading resource: "+a)},mg:function(){this.Nr++},ex:function(){var a=0;
return a=0==this.ss?100:0|this.Nr/this.ss*100},XV:function(a){if(a&&0<a.length)for(var c=q.ga.g(),d=q.Uh?q.Uh.g():null,e=q.Lk.g(),f=q.Wd.g(),g,h=0;h<a.length;h++){g=a[h];var k=this.rG(g);switch(k){case "IMAGE":c.iW(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Rca(g.src);break;case "XML":e.vY(g.src);break;case "BINARY":f.uY(g.src);break;case "TEXT":f.wY(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},HP:function(){this.Fw();
if(this.AG){var a=q.fa.g().yv;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.Qo<this.ss&&(this.pP(),this.Qo++)},pP:function(){var a=q.ga.g(),c=q.Uh?q.Uh.g():null,d=q.Lk.g(),e=q.Wd.g(),f=this.Pm[this.Qo],g=this.rG(f);switch(g){case "IMAGE":a.la(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.b$(f.src);break;case "XML":d.zV(f.src);break;case "BINARY":e.yV(f.src);break;case "TEXT":e.AV(f.src);break;case "FONT":this.JP(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},aQ:function(){var a=this;this.dk=setInterval(function(){a.HP()},1E3*this.qh)},RQ:function(){clearInterval(this.dk)},rG:function(a){if(null!=a.Ms)return q.iz.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.iz)if(-1!=q.iz[d].indexOf(a))return d;return a},Fw:function(){100<=this.ex()&&(this.RQ(),this.IO())},IO:function(){if(this.aa&&"string"==typeof this.$f)this.aa[this.$f](this);
else this.aa&&"function"==typeof this.$f?this.$f.call(this.aa,this):this.$f(this);this.ss=this.Nr=this.Qo=0},JP:function(a){var c=a.src,d=q.Wd.g();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Ms+"; src:",g=0;g<c.length;g++)f+="url('"+d.He(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Ms;c.innerHTML=
".";c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Sb.g().mg()},m1:function(a,c){var d=document.createElement("style");d.type="text/css";document.body.appendChild(d);d.textContent+="@font-face {font-family:"+a+";src: url(data:font/ttf;base64,"+c+") format('truetype');};";d=document.createElement("div");d.style.fontFamily=a;d.innerHTML="ajghl~!";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";document.body.appendChild(d);
q.Sb.g().mg()},x1:function(){}});q.Sb.AD=function(a,c,d){this.Mb||(this.Mb=new q.Sb);this.Mb.mx(a,c,d);return this.Mb};q.Sb.Z9=function(a,c,d){this.Mb||(this.Mb=new q.Sb);this.Mb.JW(!0);this.Mb.mx(a,c,d);return this.Mb};q.Sb.CD=function(a){this.Mb&&this.Mb.XV(a)};q.Sb.g=function(){this.Mb||(this.Mb=new q.Sb);return this.Mb};q.Sb.Mb=null;
q.$y=q.Fq.extend({Pv:null,hp:null,uw:null,ev:null,Kv:null,cC:null,ctor:function(){q.Fq.prototype.ctor.call(this);this.cC=q.fa.g().dc},w:function(){q.Fq.prototype.w.call(this);var a=q.a(this.cC.width/2,this.cC.height/2);this.hp=new Image;var c=this;this.hp.addEventListener("load",function(){c.aP(a);this.removeEventListener("load",arguments.callee,!1)});this.hp.src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAlAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MDBEMDY2QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MDBEMDY1QTU1MjExRTFBQTAzQjEzMUNFNzMxRkQwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU2RTk0OEM4OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU2RTk0OEM5OERCNDExRTE5NEUyRkE3M0M3QkE1NTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQADQkJCQoJDQoKDRMMCwwTFhENDREWGhUVFhUVGhkUFhUVFhQZGR0fIB8dGScnKionJzk4ODg5QEBAQEBAQEBAQAEODAwOEA4RDw8RFA4RDhQVERISERUfFRUXFRUfKB0ZGRkZHSgjJiAgICYjLCwoKCwsNzc1NzdAQEBAQEBAQEBA/8AAEQgAyACgAwEiAAIRAQMRAf/EALAAAAEFAQEAAAAAAAAAAAAAAAQAAgMFBgcBAQEAAwEBAAAAAAAAAAAAAAAAAQMEAgUQAAIBAgIEBwoLBgQGAwAAAAECAwAEEQUhMRIGQVFxsTITFGGBwdEiQlKSMzWRoeFicqKyI1NzFYJjJDQWB9KjVCbxwkNkJWXik3QRAAIBAgMFBQcDBQEAAAAAAAABAhEDIRIEMUFRcTJhwVIUBZGhsSJyEzOB0ULhYpIjUxX/2gAMAwEAAhEDEQA/AMJSpUqAVKlXuFAeUq9wpUB5XuFe4V6ooDzZHDox0CnGMinzwl7Z8NajaHeoO3vmTBZBtp9YUIqTEV5ROxHKnWRnaU8VRMhFBUjpV7hSoSeUq9pUB5Sr2lhQHlKvcK8oBV7hSFSRrtaKAZs07YNPM1pG2xJIAw1jSeandry/8X4m8VCKkWwaWwam7Xl/4v1W8VLtmX/i/VbxUoKkWwakSM407tmX/i/VbxUmzGwjQsjdY41IARie/U0IbZO0kNtCXnOCkEBeFu4KI3Bs7DNb27ya+jDx3kJeEnpJJEcQVbWDsk17u5urd591ucZkWhym2Vnd9RkCDEpFxDRpbw0bunu5mlp2De2FMLYXOD2wB2xbOeraUcYGJ72mlSUiqzzdzMd3Z3mixltA2yzcK/NlHM1DQyRXce1HocdNOEfJXZ88y9ZojOqhiBszIRiHQ8Y4cK5TvHuzLljHNMqxNoDjLFraHHnjPxcNCGVbxEUzYNTx5jZSxhpW6qTzlwJ+DCvO2Zf+L9VvFSgqyHYNLYNTdssPxfibxUu15f8Ai/VPiqCakOwa82DU/a8v/F+JvFTDdWPBL8R8VKCvYRYV5UzoMAy6QdIIqI0B4KJtxiRQwou16QoGUkntH5Tz0RbZbmF2hktraSVBo2lUkY8tDye0flPPXTslVUyiyVRsjqUOA4yMT8dW2ram2m6UVTNq9S7EIyUVJydMTn/6DnP+im9Wl+g5z/opvVrpteEhQWY4AaSTwAVf5WPiZh/9S5/zj7zltzlmYWkfWXNvJDGTgGcYDHirR7i7mSbwXParsFMrgb7w6jKw/wCmnc9I14kF3vpvCljbMyWMOJL4aEiB8qU/ObUK7HYWVrl1pFZWiCOCBQqKOLjPGTrNZZqKbUXVHq2nNwTuJRk1VpbgXN8s7Rk5ym0UQQzhIG2NAjhxHWbI+gCBVjBBFbwxwQqEiiUJGg1BVGAFe7dV28WYLYZFmF2Th1UD7JGjymGyn1iK5OyzIBGB1HgrLZhamzumQAGJwSqnSCh1q3GOCodxt4cxurdcpzuN4cyhiWaF5Bg09udUmnWw1H/jV9nFuJ7Quo+8h8peThFA+047vduyMtk7fYqTl07YFdfUufMPzT5p71UdtlmYXaGS2t3mQHAsgxANdadYJopLe4QS2867EsZ4QfCNYrCFbjdDPmgkYyWFxgVf04ifJf6ScNdRUW1XBb6FU5TjF5EpSSrGu/s5lN+g5z/opvVpfoOc/wCim9WtdHnatvObJXDW7xLGhB8nrPaY9/HCr+tEdPCVaSeDoYLnqF63lzW4/PFSW3ecxbI84VSzWUwUaSdg0DXXK5nvAipnd6qgKvWnQO7pri9ZUEmm3Vl2j1kr8pRlFRyquBNZjGxQ/S56Y1S2fu9OVueon11Szahoou06QoQUXadIVCD2FJJ7R+U89dMydv8Axdn+TH9muZye0flPPXQstlK5Tbka1gUjlC1q0vVLkeb6r+O3Tx9xcY1nt8c0NrZCyiOE1108NYjGv1joo7Js1jzKyScYLIvkzL6LDwHXVJksH9Sb49dKNq0tj1jA6uriOCL+02FWX7iVtZX1/AzaHTyeoauKn2MX9W79zebiZCuR5MjSrhfXuEtwTrUeZH+yNfdrRNcxI6IzhXlJEak6WIGJ2Rw4ChWnChndtlVBLMdQA0k1gbXNMzzDfDLs6mjaPKppJbWwJ1bOwwxw43OnHh71YT3DpfWUJmFlb5jHHDdeXBHIsrRea5TSqvxqG04cNN62vetoCS4tre5mgnkGE9q+3DKOkuI2WX6LDQRRHWDh1UCtwj7QRg2wdl8Djgw1qe7XvW0BQ3kfZ7mSLgU+T9E6RVbnuVrnWVSWqj+Lt8ZbRuHEdKPkYVcZ2MJY5fSGyeVar45+rkWQHAqccalPE5km1htWK5nK4Wnt5FuUBUwOMG4nGkA/BXUrW4S6torlOjMgcd/xVn7rLo7zKs0uEjCNeSvdwoBhgsZxX1l2j36k3Lu+uyprdj5Vs5A+i/lD48a0aaVJOPi7jB6lbzWozpjB48pf1NDXNN4vfl7+Z4BXS65pvF78vfzPAK71XTHmZ/S/yT+jvJ7L3fHytz1E+upbL+Qj5W56jfXWRnsIYKLtekKEFGWvSFQgyjk9o/Keet3YthlMP/5x9msJJ7R+U89biyb/AMXEv7gD6tadL1T+kwepRrC39ZkLDMbiwMvUHRPG0bjlGg8ore/23sxBldxfMPLupNhT8yL/AORNZbdzJ484scytxgLqJY5LZj6Q2sV5G1Vud1mjjyG0ij0NEGSZToKyhjtqw4waztuiXA3qKTbSxltfGhbZlE95ZtZqxVbgiOZhrER9ph3Svk9+pJILZ4Y4DGBFCUMKjRsGPobPFhUfW0NJmljE2xJcIrcI2vFUEln1lRXd6lrazXT9GCNpD+yNqoI7mOVduNw6nzlOIoPOUa6yye1XXcbMR5GdQ3xY0BSbj31/FcTQZirJ+q431q7anbHCTZ72Bw7lbPrKBMcBWNNgbMBBh+bsjBdni0VJ1lARZs6yWiupxCuMDy6KpS2IwOo6DTr3Mre3e5tZZVUM4ZBjqOOJoWO4jkXajcOOMHGgDISvWIrdAkKR80+TzVl908bPPL3LzxOuHdifxVfiTAg92qI/w+/8gGgSyN/mR7XPVlp0lF/3L3mbVKtu5Hjbk/8AHE2Fc03i9+Xv5ngFdKNc13i9+Xv5ngFaNV0x5nn+l/kn9HeEWXu+PlbnqJ9dS2Xu9OVueon11kZ7CGCjLXpCgxRlr0hUIPYUcntH5Tz1s8vb+Bt1/dqPirGSe0flPPWusG/g4Py15q06XqlyMWvVYQ+ruI9xJOqzO9hOto/sP8tbGOFIrmWeM7IuMDMnAXXQJOUjQeOsJk0nY96ip0CYunrjaHx1t+srPJUbXBm2LrFPikwTOb+T+VhbZxGMrDXp83x1QSy2tucJpUjPETp+Cn5/ftaRvKvtp3Kx48HG3erHMzOxZiWZtLMdJNQSbbL71Vk6yynViOkqnEEfOWtPbXi3EQkGg6mXiNckjeSJxJGxR10qw0GtxuxmvbImD4CZMFlA4fRfv0BqesqqzTMZNMEDbIHtHH2QeCiZJSqMQdOGiue53mz3czQwsRbIcNHnkec3c4qAMuriz68gTIToxwOOnlp0MjxMJYW741Gs3RVldtbygE/dMcHX/moDaxTiWNZB53B3arb8/wC+4SOF4sf/AKxU9kcBsfOGHfoUHtG/RbzY5Die5HHhXdvavqiZ9Q8Jdlq4/gbKua7xe/L38zwCuhpf2Uk/Zo50kmwJKIdogDjw1VzzeL35e/meAVp1LTgqY4nn+mRauzqmqwrjzCLL3fHytz1E+upLL+Qj5W56jfXWRnroYKLtekKEFF2vSFQg9hSSe0flPPWosm/hIfoLzVl5PaPynnrRWb/w0X0F5q06XqlyM2sVYx5gmbFre/t71NY2T+0h8VbSO5SWNJUOKSAMp7jDGspmMPaLRlXS6eWve1/FRO7WYdbZm1Y/eW/R7qHxHRXGojlm3ulid6aVbaW+OALvgCLq2Hm9WxHKWqjhj6xsK1e8dm15l4niG1LZkswGsxtrPeOmsvayBJA1VItlWjptLuTdPMo7LtjRDq9naK4+WF9IrUW7BaHOljGqVHB7w2hzVoZt87d8vaNYSLl02CcRsDEbJbj71Uu7UBkvJ7/D7q2QoDxySaAO8MTXdxRVMpRp5XZOWdF/ms7R5XdyKfKWJsO/5PhrG5XlNxmEywW6bTnTxAAcJNbGSMXkM1pjgbiNo1PziPJ+Os7u7m/6ReM00ZOgxSpqYYHT3wRXMKN4ll9zUG4bQfNshu8sZVuEA2hirA4qe/VOwwrVbzbww5mI44UKRRYkbWG0S3JWctbd7u5WFfOOLHiUdJqmaipfLsIsObhWe001lMkMVvJNjhghIALMcBxCs7fxXQmkupx1bXDswGPlaTidVaEyKNXkoo4eBV+Sq7L7Vs9zcBgeyQ4GQ/MB1crmoim2orezqcowTuSeEY48jQ7oZX2PLzdyLhNd6RjrEY6I7+uspvH78vfzPAK6UAAAFGAGgAcArmu8Xvy9/M8ArTfio24RW5nnaG67uou3H/KPuqT2X8hHytz1G+upLL3enK3PUb66ys9RDBRdr0hQgou06QqEGUkntH5Tz1e238vF9BeaqKT2j8p56vbb+Xi+gvNWjTdUuRn1XTHmTh8KrJTJlt8t1CPIY44cGnpJVjTJYkmjaN9Ib4u7V923njTethRauZJV3PaW1rfLIiXEDYg6R4VYc9CXW7thfOZbKdbGZtLW8uPVY/u3GrkNUkM9zlcxUjbhfWOA90cRq4gv4LhdqN+VToNYWmnRm9NNVWNTyHc6VWBv8wt4YeHqm6xyPmroq1Z7WGFLSxTq7WLSuPSdjrkfumq5yHXDUeA92oO2SKpVumNAaoJLMXH3myp0rpJ4uKhc3tbDM5BMri1zAj79j7KTiY8TcdBpcsith0286o+sPCagEX9Pzg4zXUCp6QYse8oouCG3tk6m1BYv05W6T+IdyolxbHDAAa2OgDlNCz3ryN2WxBd5PJMg1t81eId2ukqnLlTBbfcuY+9uJLiRcvtPvHdsHK+cfRHcHDWsyawjyy0WBcDI3lTP6TeIcFV+S5OmXx9bJg1048o8Cj0V8Jq2DVu09nL80up7OxHi+oal3P8AXB/IsZS8T/YOV65zvCcc7vfzPAK3ivWCz445zeH954BXOr6I8yfSfyz+jvCLP3fHytz1G+upLP3fHytz1E+usbPaQ0UXadIUIKLtekKhB7Ckk9o/Keer22/l4/oLzVRSe0flPPV7b/y8X0F5q0abqlyM+q6Y8yQsBTDMor1o8aiaE1pbluMqS3sbLLHIhSRQyngqukhaJ9uBjo+H5aOa3ao2t34qouRlLajTalGP8v0IY8ylXQ+PKPFU/bYXOLPge6CKia0LaxTOxHu1Q7cuBd9yPEJ7TbjXKO8CajbMIF6CNIeNvJHjqIWJ7tSpYkalqVblwIdyG+RGXur0hXYJFxal+Dhq5y3slkv3Y2pD0pTr+QUClpJRUdo9XW4OLrTHtM16cZLLWkeC7y4jvlNEpcRtw1Ux27Ci448NZrTFy3nn3IQWxlgGrDZ3pza7/M8ArZo+ArF5171uvp+CqdV0R5l/psUrs2vB3hdl7vTlbnqJ9dS2Xu+PlbnqJ9dY2eshooq16QoQUXa9IVCD2FLJ7RuU89WNtmUSQqkgYMgw0accKrpPaPynnrZWG4Vi+VWmY5tnMWXG+XrIYnA0rhj0mdcTgdNdwnKDqjmduM1SRR/qlr8/4KX6pa8T/BVzDuLZXudRZblmbxXcPUNPc3KqCIwrbOzgrHEnHjoyD+3eSXkht7DeKG4umDGOJVUklfouThXfmbnZ7Cvy1vt9pmv1W1+d8FL9VteJvgq5yrcOGfLmzHN80iyyETPbptAEFo2ZG8pmUa1OFNn3Ky6W/sbDKM5hv5bx2WTZA+7RF2y52WOPJTzE+z2Dy1vt9pT/AKpacTerS/U7Tib1a04/t7kDXPY03jhN0W6sQ7K7W3q2dnrMccaDy/8At80kuZfqWYxWNtlcvUPPhiGYhWDeUy7IwYU8xPs9g8tb7faUn6pacTerTxm9oOBvVq3v9z927aynuId44LiWKNnjhAXF2UYhRg516qpsryjLr21665zFLSTaK9U2GOA87SwqY37knRU+BzOzags0s1Oyr+BKM6sxwP6tSDPLMen6vy0rvdm3Sxlu7K/S7WDDrFUDUTxgnTU826eXW7KlxmqQuwDBXUKcD+1Xee/wXuKX5XDGWLapSVcOyhEM/seJ/V+WnjeGx4pPV+Wkm6kKZlFay3Jlt7iFpYZY8ASVK6DjtDDA0f8A0Tl340/1f8Ndx8xJVWXB0KbktFFpNzdVXAC/qOwA0CQni2flrO3Vwbm5lnI2TKxbDirX/wBE5d+NcfV/wVR7xZPa5U9utvI8nWhmbbw0YEAYYAVxfhfy5rlKR4Fulu6X7mW1mzT8S4Yis/5CPlbnqJ9dSWfu9OVueon11mZvQ2i7XpChKKtekKhBlNJ7R+U89bDfGTb3a3ZX0Lcj6kdY+T2j8p560288m1kWQr6MJ+ylSAr+2cnV5renjs3H1loX+3j9XvbbtxLN9lqW4UnV5jdnjtXHxihtyZNjeSBu5J9k1BJe7xy7W5CJ/wCzuD/mTVTf2+fq97LJuLrPsNRueS7W6aJ/38x+vLVXuY+xvHaNxbf2GoCezf8A36j/APsSf8w1sLnqczTefJluYoLm5uo5F61sBshItP1cNFYe1f8A3ir/APfE/wCZUe9bB94r5jwuPsrQFhmG4l/Z2M17HdW90tuu3IkTHaCjWdIw0VVZdks9/C06yJFEp2dp+E1bbqybGTZ8vpQD7L1XRv8A7blT96Oda7tpNuuNE37Cq9KSisjyuUoxrStKllHbLlWTXsMs8chuSuwEPDqwoLe5y+YRE/gLzmqRekvKKtd4327yM/ulHxmrHJStySWVRyrjxKI2XC/CTlnlPPKTpTdFbP0L1bgrf5Lp0G3dPhQHwV0S1lzBsns3sESR8Crh9WAJGjSOKuU3E+zdZQ3oJh8IArdZXFDmOTpHa3i2+YrI2KtKy4ricBsBuHHgFXSo440+Wa2qqxjvM9uMoy+WvzWpLCWWWE28HxL6e43ojgkeSCBY1Ri5BGIUDT51cl3vm276BBqSEH4WbxV0tlkyXJcxTMb+OW6uY9mGHrCzDQwwAbTp2uKuTZ9N1uYsfRRR8WPhrm419mSSjRyiqxVK7y23B/ftuTm2oSdJyzNVw3BFn7vTlbnqF9dS2fu9OVueon11lZuQ2iLdsGFD05H2dNQGV0ntG5Tz1dWm9N1b2kVq8EVwsI2UaQaQOKhmitZGLOmk68DhSFvY+gfWNSAg7z3Qvo7yKCKIohiaNR5LKxx8qpxvjcqS0VpbxvwOAcRQPZ7D0G9Y0uz2HoH1jUCpLY7zXlpbm3eKO5QuzjrBqZji3x17PvNcyT288VvDBJbMWUovS2hslW7mFQ9nsPQPrGl2ew9A+saCod/WNxtbYsrfb17WBxx5ddD2281xC88klvDcSXEnWuzrqOGGC9zRUPZ7D0G9Y0uzWHoH1jQVCLreq6ntZbaO3it1mGy7RjTs1X2mYy20ZiCq8ZOODcdEdmsPQb1jS7PYegfWNdJuLqnQiSUlRqpFLmryxtH1Ma7Qw2gNNPOdSt0oI27p007s9h6B9Y0uz2HoH1jXX3Z+I4+1b8IJdX89xLHKQFMXQUahpxoiPN5P+onfU+A0/s9h6DesaXZ7D0D6xpG7OLbUtu0StW5JJx2bBsmbtiSiEk+cxoCWWSaVpZOk2vDVo0VYdnsPQb1jSNvZcCH1jSd2c+p1XAmFqEOmOPEfaH+BQd1ueo211IzrgFUYKNAAqI1WztCpUqVCRUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoBUqVKgFSpUqAVKlSoD/9k\x3d";
this.hp.width=160;this.hp.height=200;this.ev=q.Z.create(q.nC(32,32,32,255));this.ev.l(0,0);this.f(this.ev,0)},aP:function(a){this.uw=new q.oc;this.uw.of(this.hp);this.uw.fe();this.Pv=q.v.La(this.uw);this.Pv.Ck(q.fd());this.Pv.l(a);this.ev.f(this.Pv,10)},$g:function(){q.G.prototype.$g.call(this);this.lc(this.lH,0.3)},he:function(){q.G.prototype.he.call(this);this.Kv&&this.Kv.na("Loading... 0%")},mx:function(a,c,d){this.nW=a;this.BW=c;this.target=d},lH:function(){this.Uc(this.lH);q.Sb.AD(this.nW,this.BW,
this.target);this.lc(this.Fw)},Fw:function(){if(this.Kv){var a=q.Sb.g().ex();this.Kv.na("Loading... "+a+"%")}100<=a&&this.Uc(this.Fw)}});q.$y.AD=function(a,c,d){this.Mb||(this.Mb=new q.$y,this.Mb.w());this.Mb.mx(a,c,d);a=q.fa.g();a.Bd?a.zK(this.Mb):a.tW(this.Mb);return this.Mb};q.Ly=q.Oa.extend({Hb:null,jL:function(a){this.Hb=a},d6:function(){return this.Hb},ctor:function(a){this.Hb=a},wC:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},sI:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},ui:function(){q.log("DrawingPrimitive.drawLine() not implement!")},tI:function(){q.log("DrawingPrimitive.drawRect() not implement!")},yC:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},ee:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
Zw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},pI:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},xC:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},qI:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},oI:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},Yw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.bF=q.Ly.extend({wC:function(a,c){c||(c=1);var d=q.ra.g().va,e=q.ra.g().Da,e=q.a(a.x*d,a.y*e);this.Hb.beginPath();this.Hb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.Hb.closePath();this.Hb.fill()},sI:function(a,c,d){if(null!=a){d||(d=1);c=this.Hb;var e=q.ra.g().va,f=q.ra.g().Da;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},ui:function(a,c){var d=this.Hb,e=q.ra.g().va,f=q.ra.g().Da;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},tI:function(a,c){this.ui(q.a(a.x,a.y),q.a(c.x,a.y));this.ui(q.a(c.x,a.y),q.a(c.x,c.y));this.ui(q.a(c.x,c.y),q.a(a.x,c.y));this.ui(q.a(a.x,c.y),q.a(a.x,a.y))},yC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Zw(a,4,d)},ee:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.Hb;var g=q.ra.g().va,h=q.ra.g().Da;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},Zw:function(a,c,d){this.RK(d.q,d.p,d.o,d.Q);this.ee(a,c,!0,!0)},pI:function(a,c,d,e,f){f=f||!1;e=this.Hb;var g=q.ra.g().va,h=q.ra.g().Da;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},xC:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.ee(f,e+1,!1,!1)},qI:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.ee(g,f+1,!1,!1)},oI:function(a,c){this.Yw(a,0.5,c)},Yw:function(a,c,d){q.da.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Fy(q.Kh(a,f-1),q.Kh(a,f-0),q.Kh(a,f+1),q.Kh(a,f+2),c,g),e.push(f);this.ee(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.Hb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.Hb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.Hb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},g3:function(a,c,d){a=a||this.Hb;c*=q.ra.g().va;d instanceof q.ne&&(d=new q.Ic(0|255*d.q,0|255*d.p,0|255*d.o));d="rgba("+d.q+","+d.p+","+d.o;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.mF,!1);a.closePath();a.fill()},e3:function(a,c,d){a=a||this.Hb;c*=q.ra.g().va;d instanceof q.ne&&(d=new q.Ic(0|255*d.q,0|255*d.p,0|255*d.o));d="rgba("+
d.q+","+d.p+","+d.o;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.mF,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.Hb.fillText(a,c,-d)},XW:function(a,c,d,e){this.Hb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.Hb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},RK:function(a,c,d,e){this.Hb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.Hb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},xX:function(){},gX:function(a){this.Hb.lineWidth=a*q.ra.g().va}});
q.KM=q.Ly.extend({Hr:!1,Vb:null,Vi:-1,Dc:null,ZA:-1,YA:-1,ctor:function(a){null==a&&(a=q.da);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.Ly.prototype.ctor.call(this,a);this.Dc=new q.ne(1,1,1,1)},yk:function(){this.Hr||(this.Vb=q.Zh.g().Hi(q.$_),this.Vi=this.Hb.getUniformLocation(this.Vb.fx(),"u_color"),this.ZA=this.Hb.getUniformLocation(this.Vb.fx(),"u_pointSize"),this.Hr=!0)},f3:function(){this.Hr=!1},wC:function(a){this.yk();
this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,new Float32Array(this.Dc.cc,0,4),1);this.Vb.sL(this.ZA,this.YA);var c=this.Hb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.We,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.Wh()},sI:function(a){if(a&&0!=a.length){this.yk();this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,new Float32Array(this.Dc.cc,0,4),1);this.Vb.sL(this.ZA,
this.YA);var c=this.Hb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.cw(a),c.STATIC_DRAW);c.vertexAttribPointer(q.We,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.Wh()}},cw:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},ui:function(a,c){this.yk();this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,new Float32Array(this.Dc.cc,0,4),1);var d=this.Hb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.cw([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.We,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.Wh()},tI:function(a,c){this.ui(q.a(a.x,a.y),q.a(c.x,a.y));this.ui(q.a(c.x,a.y),q.a(c.x,c.y));this.ui(q.a(c.x,c.y),q.a(a.x,c.y));this.ui(q.a(a.x,c.y),q.a(a.x,a.y))},yC:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.Zw(a,4,d)},ee:function(a,c,d){this.yk();this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,new Float32Array(this.Dc.cc,0,4),
1);c=this.Hb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.cw(a),c.STATIC_DRAW);c.vertexAttribPointer(q.We,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.Wh()},Zw:function(a,c,d){this.yk();d||(d=this.Dc);this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,new Float32Array(d.cc,0,4),1);c=this.Hb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.cw(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.We,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.Wh()},pI:function(a,c,d,e,f){this.yk();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,new Float32Array(this.Dc.cc,0,4),1);a=this.Hb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.Wh()}},xC:function(a,c,d,e){this.yk();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,new Float32Array(this.Dc.cc,0,4),1);a=this.Hb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.Wh()},qI:function(a,c,d,e,f){this.yk();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,new Float32Array(this.Dc.cc,0,4),1);a=this.Hb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.Wh()},oI:function(a,c){this.Yw(a,0.5,c)},Yw:function(a,c,d){this.yk();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Fy(q.Kh(a,f-1),q.Kh(a,f),q.Kh(a,f+1),q.Kh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Vb.uf();this.Vb.ih();q.Je(q.oh);this.Vb.Xl(this.Vi,
new Float32Array(this.Dc.cc,0,4),1);a=this.Hb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.We,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.Wh()},XW:function(a,c,d,e){this.Dc.q=a/255;this.Dc.p=c/255;this.Dc.o=d/255;this.Dc.Q=e/255},RK:function(a,c,d,e){this.Dc.q=a;this.Dc.p=c;this.Dc.o=d;this.Dc.Q=e},xX:function(a){this.YA=a*q.fd()},gX:function(a){this.Hb.lineWidth&&this.Hb.lineWidth(a)}});q.mF=2*Math.PI;q.FF={B0:0,g_:1,h_:2,SY:3,$Z:4,ZZ:5,eZ:6,n_:7,KZ:8,iN:100,rN:101};q.t_=0;q.u_=1;q.r_=2;q.s_=3;q.vg=0;q.Nk=1;q.De=null;q.da=null;q.canvas=null;q.QS=null;q.Td=q.vg;q.gV=q.size(0,0);window.ND=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.iD=!1;
q.Yl=function(a,c,d){function e(){if(q.Uh){var a=q.Uh.g();document[k]?(a.lV(),a.nV()):(q.fa.g().XP(),a.oW(),a.pW())}}a=q.Rb(a)||q.Rb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.sk=q.Gk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.rn(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer")):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.Gk("CANVAS"),
f.MH("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.sk=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px");h.margin="0 auto";h.position="relative";h.overflow="hidden";g.top="100%";if(!q.Fz){q.Ja.ed&&(q.da=q.kda=q.dI(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ja.vj,alpha:!1}));q.da?(q.Td=q.Nk,window.gl=q.da,q.De=new q.KM(q.da),q.ga.g().hP()):(q.da=f.getContext("2d"),q.KU=q.da,q.Td=q.vg,q.da.translate(0,f.height),q.De=q.bF?new q.bF(q.da):
null);q.gV=q.size(f.width,f.height);q.QS=g;q.log(q.Pt);q.Ue.g();q.TW();q.Ja.vj&&q.iO();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||"undefined"===typeof k?(q.iD=!1,window.addEventListener("focus",
function(){if(q.Uh){var a=q.Uh.g();a.oW();a.pW()}},!1),window.addEventListener("blur",function(){if(q.Uh){var a=q.Uh.g();a.lV();a.nV()}},!1)):(q.iD=!0,document.addEventListener(l,e,!1))}};q.iO=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};q.BG=!1;
q.TW=function(){q.BG=!1;q.canvas.oncontextmenu=q.BG?function(){}:function(){return!1}};q.Ik=q.Oa.extend({qh:null,ctor:function(){this.qh=0;if(q.BB)throw"Application has been initialized";q.BB=this},it:function(a){this.qh=a},lca:function(a){a&&q.rect(0,0,0,0)},G6:function(){return q.Ja.vj?q.FF.iN:q.FF.rN},rW:function(){if(!this.yR())return 0;var a,c=q.fa.g(),d=window;q.yS=c;d.ND&&this.qh==1/60?(a=function(){c.TJ();d.ND(a)},d.ND(a)):(a=function(){c.TJ()},setInterval(a,1E3*this.qh));return 0}});
q.Ik.g=function(){return q.BB};q.Ik.t4=function(){var a=q.XM,c=navigator.language;c||(c=navigator.browserLanguage||navigator.$ca);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.WM;break;case "fr":a=q.YM;break;case "it":a=q.aN;break;case "de":a=q.ZM;break;case "es":a=q.hN;break;case "ru":a=q.gN;break;case "ko":a=q.cN;break;case "ja":a=q.bN;break;case "hu":a=q.$M;break;case "pt":a=q.fN;break;case "ar":a=q.VM;break;case "no":a=q.dN;break;case "pl":a=q.eN}return a};q.BB=null;q.Lk=q.Oa.extend({mda:null,QG:null,Hp:null,MA:null,ctor:function(){this.Hp={};window.DOMParser?(this.MA=!0,this.QG=new DOMParser):this.MA=!1},parse:function(a){var c=a;a=this.MI(a);a=this.RG(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.WA(c)},Lca:function(a,c){if(null==c||!1===c)a=this.MI(a);return this.RG(a)},RG:function(a,
c){var d;this.MA?d=this.QG.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},WA:function(a){var c=null;switch(a.tagName){case "dict":c=this.EP(a);break;case "array":c=this.DP(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},DP:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.WA(f))}return c},EP:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.WA(g))}return c},zV:function(a){a=q.Wd.g().He(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Sb.g().mg(),d.Hp[a]=c.responseText,c=null):(q.Sb.g().mg(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},vY:function(a){this.Hp.hasOwnProperty(a)&&delete this.Hp[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
I4:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},MI:function(a){return null!=this.Hp?this.Hp[a]:null}});q.Lk.g=function(){this.Mb||(this.Mb=new q.Lk);return this.Mb};q.Lk.Mb=null;q.xy=q.Oa.extend({xS:function(){q.Ik.g().rW();return!0},Y1:function(){q.fa.g().pause()},X1:function(){q.fa.g().BK()},xR:function(){q.Ik.g().xR()},zR:function(){q.Ik.g().zR()},Z1:function(){}});q.xy.ZX=function(){null==q.Zx&&(q.Zx=new q.xy);if(!q.Zx)throw"Application initialize failure";return q.Zx};q.Zx=null;q.R=q.v.extend({Zd:null,al:q.Oj,tl:q.Ru,xf:null,$d:0,Og:"",VA:null,bp:!1,Xj:null,jk:!1,Ng:null,qp:0,ds:0,mw:null,pl:!1,js:null,yp:0,ow:null,zp:null,xv:null,MB:0,NB:0,yd:!1,Lv:null,Mv:null,ctor:function(){q.v.prototype.ctor.call(this);this.Zd=q.qm();this.al=q.Kq;this.tl=q.Ru;this.Fc=!1;this.Xj="";this.xf="Arial";this.jk=this.bp=!1;this.Ng=q.qm();this.ds=this.qp=0;this.mw="rgba(128, 128, 128, 0.5)";this.pl=!1;this.js=q.Eb();this.yp=0;this.ow="";this.zp=q.Eb();this.xv="rgba(255,255,255,1)";this.NB=this.MB=
0;this.yd=!1;this.li()},w:function(){return this.Dl(" ",this.xf,this.$d)},tP:function(){this.BA().font=this.Xj},Pr:function(a){return this.BA().measureText(a).width},wO:function(a,c){var d=this.Pr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.R.xO,m=q.R.ZP,p=q.R.vO,s=a.substr(e);k=l.exec(s);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.Pr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;s=a.substr(h)}if(d)return g;
s=a.substr(0,e);for(g=e;k=m.exec(s);)if(g=k[1].length,s=k[1],f=this.Pr(s),f<c){p.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.xf+" FontSize \x3d "+this.$d.toFixed(1)+"\x3e"},r:null,Zr:function(a){q.Ib.prototype.r.call(this,a);this.aH()},li:null,aH:function(){this.yd=!0;var a=this.Kc,c=this.hc,d=this.js,e=this.zp;this.mw="rgba("+(0|0.5*a.q)+","+(0|0.5*a.p)+","+(0|0.5*a.o)+","+this.qp+")";this.xv="rgba("+(0|a.q/255*e.q)+","+(0|a.p/255*e.p)+","+
(0|a.o/255*e.o)+", "+c/255+")";this.ow="rgba("+(0|a.q/255*d.q)+","+(0|a.p/255*d.p)+","+(0|a.o/255*d.o)+", "+c/255+")"},hQ:function(){this.yd=!0;var a=this.js,c=this.zp;this.mw="rgba(128,128,128,"+this.qp+")";this.xv="rgba("+(0|c.q)+","+(0|c.p)+","+(0|c.o)+", 1)";this.ow="rgba("+(0|a.q)+","+(0|a.p)+","+(0|a.o)+", 1)"},td:null,TB:function(a){q.Ib.prototype.td.call(this,a);this.li()},ta:null,as:function(a){this.fj!==a&&(q.v.prototype.ta.call(this,a),this.li(),this.yd=!0)},ud:null,Wca:function(a){q.Ib.prototype.ud.call(this,
a);this.li()},QC:function(){return this.Og},U4:function(){return this.al},b7:function(){return this.tl},D4:function(){return q.size(this.Zd.width,this.Zd.height)},O4:function(){return this.$d},N4:function(){return this.xf},Dl:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.Kq;g=g||q.Su;return q.v.prototype.w.call(this)?(this.Fc=!1,this.Zd=q.size(e.width,e.height),this.xf=c||"Arial",this.al=f,this.tl=g,this.$d=d*q.fd(),this.Xj=this.$d+"px '"+c+"'",this.Wj=q.R.Yu(c,this.$d),this.na(a),
this.li(),this.VB(),this.yd=!1,!0):!1},eD:null,dP:function(a,c){if(!q.v.prototype.w.call(this))return!1;this.WB(c,!1);this.na(a);return!0},eP:function(a,c){if(!q.v.prototype.w.call(this))return!1;this.gh(q.Zh.g().Hi(q.R.YN));this.WB(c,!1);this.na(a);return!0},Dba:function(a){a&&this.WB(a,!0)},H6:function(){return this.IP(!1)},JS:function(a,c,d){c=c||0.5;!1===this.jk&&(this.jk=!0);var e=this.Ng;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.qp!=c&&(this.qp=c);this.li();
this.ds!=d&&(this.ds=d);this.yd=!0},Y2:function(){this.jk&&(this.jk=!1,this.yd=!0)},KS:function(a,c){!1===this.pl&&(this.pl=!0);var d=this.js;if(d.q!==a.q||d.p!==a.p||d.o!==a.o)d.q=a.q,d.p=a.p,d.o=a.o,this.li();this.yp!==c&&(this.yp=c||0);this.yd=!0},Z2:function(){this.pl&&(this.pl=!1,this.yd=!0)},$D:null,lQ:function(a){var c=this.zp;if(c.q!=a.q||c.p!=a.p||c.o!=a.o)c.q=a.q,c.p=a.p,c.o=a.o,this.li(),this.yd=!0},mQ:function(a){var c=this.zp;if(c.q!=a.q||c.p!=a.p||c.o!=a.o)c.q=a.q,c.p=a.p,c.o=a.o,this.li(),
this.yd=!0},WB:function(a,c){a.Ls?(this.Zd.width=a.Ls.width,this.Zd.height=a.Ls.height):(this.Zd.width=0,this.Zd.height=0);this.al=a.zI;this.tl=a.AI;this.xf=a.Ms;this.$d=a.fontSize||12;this.Xj=this.$d+"px '"+this.xf+"'";this.Wj=q.R.Yu(this.xf,this.$d);a.BL&&this.JS(a.CL,a.DL,a.shadowBlur,!1);a.vE&&this.KS(a.strokeColor,a.PL,!1);this.$D(a.BI,!1);c&&this.VB()},IP:function(a){var c=new q.OM;a?(c.fontSize=this.$d,c.Ls=q.mz(this.Zd)):(c.fontSize=this.$d,c.Ls=q.size(this.Zd.width,this.Zd.height));c.Ms=
this.xf;c.zI=this.al;c.AI=this.tl;if(this.pl){c.vE=!0;var d=this.js;c.strokeColor=new q.Ic(d.q,d.p,d.o);c.PL=this.yp}else c.vE=!1;this.jk?(c.BL=!0,c.shadowBlur=this.ds,c.DL=this.qp,c.CL=a?q.mz(this.Ng):q.size(this.Ng.width,this.Ng.height)):c.jk=!1;a=this.zp;c.BI=new q.Ic(a.q,a.p,a.o);return c},Wj:18,na:function(a){a&&(a=String(a),a=a.replace("\x3cCOPYRIGHT\x3e","\u00a9"));this.VA!=a&&(this.VA=a+"",this.BH(),this.yd=!0)},BH:function(){this.Og=this.VA},Daa:function(a){a!==this.al&&(this.al=a,this.yd=
!0)},Qba:function(a){a!=this.tl&&(this.tl=a,this.yd=!0)},$a:function(a){if(a.width!=this.Zd.width||a.height!=this.Zd.height)this.Zd=a,this.BH(),this.yd=!0},Ox:function(a){this.$d!==a&&(this.$d=a*q.fd(),this.Xj=this.$d+"px '"+this.xf+"'",this.Wj=q.R.Yu(this.xf,this.$d),this.yd=!0)},aE:function(a){this.xf&&this.xf!=a&&(this.xf=a,this.Xj=this.$d+"px '"+a+"'",this.Wj=q.R.Yu(a,this.$d),this.yd=!0)},NO:function(a){if(a){var c=this.MB,d=this.NB,e=this.Ca.ya-d,f=this.tl,g=this.al,h=this.Wj,k=this.yp;a.setTransform(1,
0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Xj&&(a.font=this.Xj);a.fillStyle=this.xv;var l=d=0,m=this.pl;m&&(a.lineWidth=2*k,a.strokeStyle=this.ow);this.jk&&(k=this.Ng,a.shadowColor=this.mw,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.ds);a.textBaseline=q.R.LQ[f];a.textAlign=q.R.KQ[g];c=this.Ca.Ia-c;d=g===q.MN?d+c:g===q.Oj?d+Math.floor(c/2):d+0;a.lineHeight=this.Zd.height/this.lj.length;if(this.bp)for(g=this.lj.length,f===q.Su||f===q.Ru?l=h+e-h*g:f===q.Tu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=
this.lj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.Su&&(l=f===q.Uu?l-e:f===q.Ru?l+e:l-0.5*e),m&&a.strokeText(this.Og,d,l),a.fillText(this.Og,d,l)}},BA:function(){if(this.Mv)return this.Mv;if(!this.Lv){var a=document.createElement("canvas"),c=new q.oc;c.of(a);this.ka(c);this.Lv=a}return this.Mv=this.Lv.getContext("2d")},CH:function(){var a=this.Zd.width,c,d;this.FG=[];this.bp=!1;this.tP();if(0!==a){var e=this.Og;this.lj=[];c=0;for(d=this.Og.length;c<d;){var f=this.wO(e.substr(c),
a);this.lj.push(e.substr(c,f));c+=f}}else for(this.lj=this.Og.split("\n"),c=0,d=this.lj.length;c<d;c++)this.FG.push(this.Pr(this.lj[c]));0<this.lj.length&&(this.bp=!0);d=c=0;this.pl&&(c=d=2*this.yp);this.jk&&(e=this.Ng,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.bp?q.size(0|Math.max.apply(Math,this.FG)+c,0|this.Wj*this.lj.length+d):q.size(0|this.Pr(this.Og)+c,0|this.Wj+d):0===this.Zd.height?this.bp?q.size(0|a+c,0|this.Wj*this.lj.length+d):q.size(0|a+c,0|this.Wj+d):q.size(0|a+c,0|
this.Zd.height+d);this.O(a);this.MB=c;this.NB=d;e=this.vm;this.Fd.I=0.5*c+Math.round((a.width-c)*e.I);this.Fd.U=0.5*d+Math.round((a.height-d)*e.U)},c:function(){this.yd&&this.CH();return q.v.prototype.c.call(this)},VB:function(){var a=this.BA(),c=this.Lv,d=this.Ca;if(0===this.Og.length)return c.width=1,c.height=d.ya,this.ib(q.rect(0,0,1,d.ya)),!0;a.font=this.Xj;this.CH();var e=d.Ia,d=d.ya,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.NO(a);this.Ha.fe();this.IL=!0;this.ib(q.rect(0,
0,e,d));return!0},Ba:function(a){this.Og&&""!=this.Og&&(this.yd&&(this.yd=!1,this.VB()),q.v.prototype.Ba.call(this,a||q.da))},Za:null,Fg:function(a){if(this.Og&&""!=this.Og){a=a||q.da;var c=this.Ha;c&&c.Nc&&(this.Zc.uf(),this.Zc.ih(),q.wk(this.qa.src,this.qa.Qb),q.Rg(c),q.Je(q.Qu),a.bindBuffer(a.ARRAY_BUFFER,this.gw),this.Bf&&(a.bufferData(a.ARRAY_BUFFER,this.Ub.iC,a.STATIC_DRAW),this.Bf=!1),a.vertexAttribPointer(q.We,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.Nq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.Mq,
4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.Lj?(a=this.Ub,a=[q.a(a.ab.B.x,a.ab.B.y),q.a(a.Sa.B.x,a.Sa.B.y),q.a(a.eb.B.x,a.eb.B.y),q.a(a.Ua.B.x,a.Ua.B.y)],q.De.ee(a,4,!0)):2===q.Lj&&(a=this.RC().Ya,c=this.uc,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.De.ee(a,4,!0));q.Jh++}},xB:function(a,c,d){this.od=c||!1;d=d||q.size(a.width/q.fd(),a.height/q.fd());this.O(d);this.mE(a);this.IL&&(c=q.ra.g().va,d=q.ra.g().Da,this.Aa.width/=c,
this.Aa.height/=d);c=this.an;d=this.To;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.fm=!(0===c.width||0===c.height);d.width=c.width;d.height=c.height;d.fm=!(0===d.width||0===d.height);a=this.pi;this.pc&&(a.I=-a.I);this.qc&&(a.U=-a.U);this.uc.I=a.x+(this.Ca.Ia-this.Aa.width)/2;this.uc.U=a.y+(this.Ca.ya-this.Aa.height)/2;this.tb&&(this.Ra=!0)},Vj:function(a){if(this.zb){a=a||q.da;this.Hm&&(a.globalCompositeOperation="lighter");a.$T=this.rp;var c=q.ra.g().va,d=q.ra.g().Da;a.globalAlpha=this.hc/
255;var e=this.Aa,f=this.Ca,g=this.uc,h=this.To,k=0|g.I,l=-g.U-e.height,m=this.an;!0==this.fs&&(a.shadowBlur=30,a.shadowColor="black");if(this.pc||this.qc)a.save(),this.pc&&(k=-g.I-e.width,a.scale(-1,1)),this.qc&&(l=g.U,a.scale(1,-1));k*=c;l*=d;if(this.Ha&&m.fm)e=this.Ha.Ec,this.Yq?a.drawImage(e,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(e,m.x,m.y,m.width,m.height,k,l,h.width,h.height);else if(0!==f.Ia){var p=this.Dd();a.fillStyle="rgba("+p.q+","+p.p+","+p.o+",1)";a.fillRect(k,l,f.Ia*
c,f.ya*d)}!0==this.fs&&(a.shadowBlur=0);!0==this.CB&&(a.globalAlpha=1,a.beginPath(),a.strokeStyle="rgba("+p.q+","+p.p+","+p.o+",1)",a.lineWidth="1",ea(a,k,l,f.Ia*c,f.ya*d),a.stroke());2===q.Lj&&(a.strokeStyle="rgba(0,255,0,1)",p=this.Aa.Ya,l=-l,k=[q.a(k,l),q.a(k+p.width,l),q.a(k+p.width,l-p.height),q.a(k,l-p.height)],q.De.ee(k,4,!0));(this.pc||this.qc)&&a.restore();q.Jh++}},dH:function(a){var c=this.tb?this.Va.ja():this.Ha;if(c){var d=c.Wp(),e=c.Vp(),f,g=this.Ub;this.od?(q.iu?(c=(2*a.x+1)/(2*d),d=
c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.pc&&(e=f,f=a,a=e),this.qc&&(e=c,c=d,d=e),g.Sa.H.Wa=c,g.Sa.H.ua=f,g.eb.H.Wa=c,g.eb.H.ua=a,g.ab.H.Wa=d,g.ab.H.ua=f,g.Ua.H.Wa=d,g.Ua.H.ua=a):(q.iu?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.pc&&(e=c,c=d,d=e),this.qc&&(e=f,f=a,a=e),g.Sa.H.Wa=c,g.Sa.H.ua=a,g.eb.H.Wa=d,g.eb.H.ua=
a,g.ab.H.Wa=c,g.ab.H.ua=f,g.Ua.H.Wa=d,g.Ua.H.ua=f);this.Bf=!0}}});q.Ja.ed?(b=q.R.prototype,b.r=q.v.prototype.r,b.li=q.R.prototype.hQ,b.td=q.v.prototype.td,b.ta=q.v.prototype.ta,b.ud=q.v.prototype.ud,b.eD=q.R.prototype.eP,b.$D=q.R.prototype.mQ,b.Za=q.R.prototype.Fg,b.ib=q.v.prototype.eH):(b=q.R.prototype,b.r=q.R.prototype.Zr,b.li=q.R.prototype.aH,b.td=q.R.prototype.TB,b.ta=q.R.prototype.as,b.ud=q.R.prototype.yH,b.eD=q.R.prototype.dP,b.$D=q.R.prototype.lQ,b.Za=q.R.prototype.Vj,b.ib=q.R.prototype.xB);
q.R.KQ=["left","center","right"];q.R.LQ=["top","middle","bottom","alphabetic"];q.R.xO=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.R.ZP=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.R.vO=/[\s\-\/\\\:]/;q.R.create=function(a,c,d,e,f,g){var h=new q.R;return h.Dl(a,c,d,e,f,g)?h:null};q.R.O2=function(a,c){var d=new q.R;return d&&d.eD(a,c)?d:null};q.R.YN=q.UN?q.lz:q.X_;q.R.rm=document.createElement("div");q.R.rm.style.fontFamily="Arial";q.R.rm.style.position="absolute";
q.R.rm.style.left="-100px";q.R.rm.style.top="-100px";q.R.rm.style.lineHeight="normal";document.body.appendChild(q.R.rm);q.R.Yu=function(a,c){var d=q.R.SF[a+"."+c];if(0<d)return d;var e=q.R.rm;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.R.SF[a+"."+c]=d;e.innerHTML="";return d};q.R.SF={};q.RM=q.Oa.extend({ad:null,target:null,nn:0,Hh:null,tn:!1,paused:!1,hh:null,ctor:function(){this.ad=[];this.aa=null;this.nn=0;this.Hh=null;this.paused=this.tn=!1;this.hh=null}});
q.oM=q.Oa.extend({ci:null,zo:null,wf:null,Xi:!1,p1:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.ci={};this.zo=[];this.wf=null;this.Xi=!1},fR:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.ci[c.xc];e||(e=new q.RM,e.paused=d,e.target=c,this.ci[c.xc]=e,this.zo.push(e));this.cO(e);e.ad.push(a);a.ia(c)},q$:function(){for(var a=this.zo,
c=0;c<a.length;c++){var d=a[c];d&&this.wK(d.target,!0)}},wK:function(a,c){if(null!=a){var d=this.ci[a.xc];d&&(-1===d.ad.indexOf(d.Hh)||d.tn||(d.tn=!0),d.ad=[],this.wf!=d||c?this.iA(d):this.Xi=!0)}},vK:function(a){if(null!=a){var c=this.ci[a.Nm.xc];if(c)for(var d=0;d<c.ad.length;d++){if(c.ad[d]==a){c.ad.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},YV:function(a,c){a==q.fo&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.ci[c.xc];if(d)for(var e=d.ad.length,f=0;f<e;++f){var g=d.ad[f];if(g&&g.Cd===a&&g.Nm==c){this.MP(f,d);break}}},FC:function(a,c){a==q.fo&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.ci[c.xc];if(d){if(null!=d.ad)for(var e=0;e<d.ad.length;++e){var f=d.ad[e];if(f&&f.Cd===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},ZJ:function(a){return(a=this.ci[a.xc])?a.ad?a.ad.length:0:0},ft:function(a){if(a=this.ci[a.xc])a.paused=!0},
Qn:function(a){if(a=this.ci[a.xc])a.paused=!1},U9:function(){for(var a=[],c=this.zo,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},qW:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.Qn(a[c])},e$:function(){q.fa.g().Jf().sq(this)},MP:function(a,c){c.ad[a]!=c.Hh||c.tn||(c.tn=!0);q.wq(c.ad,a);c.nn>=a&&c.nn--;0==c.ad.length&&(this.wf==c?this.Xi=!0:this.iA(c))},iA:function(a){a&&(delete this.ci[a.target.xc],q.le(this.zo,a),a.ad=null,a.target=null)},cO:function(a){null==
a.ad&&(a.ad=[])},update:function(a){for(var c=this.zo,d,e=0;e<c.length;e++){d=this.wf=c[e];if(!d.paused)for(d.nn=0;d.nn<d.ad.length;d.nn++)if(d.Hh=d.ad[d.nn],d.Hh){d.tn=!1;d.Hh.step(a);if(d.tn)d.Hh=null;else if(d.Hh.Bi()){d.Hh.stop();var f=d.Hh;d.Hh=null;this.vK(f)}d.Hh=null}this.Xi&&0===d.ad.length&&this.iA(d)}}});q.vf=q.Oa.extend({S:null,ew:q.Kj(),Tf:0,ctor:function(a,c,d){this.S=q.a(a||0,c||0);this.Tf=d||0},g5:function(){return this.S},mT:function(){return this.ew},z4:function(){return q.Rd(this.S,this.ew)},X4:function(){return this.Tf},Y4:function(){return this.Tf},jE:function(a,c,d){this.ew=this.S;this.S=q.a(c||0,d||0);this.Tf=a},ag:function(a,c){this.ew=q.a(a||0,c||0)}});
q.NF=q.Oa.extend({T0:null,vb:function(){return!1},Qd:function(){},ah:function(){},Ak:function(){},cK:function(){},fK:function(){},eK:function(){},dK:function(){},Pca:function(){},Oca:function(){}});q.q0=q.NF.extend({vb:function(){return!1},Qd:function(){},ah:function(){},Ak:function(){}});q.g0=q.NF.extend({cK:function(){},fK:function(){},eK:function(){},dK:function(){}});q.vo=q.Oa.extend({Ea:null,Af:0,Uo:0,Ac:function(){return this.Ea},pg:function(a){this.Ea=a},nT:function(){return this.Af},pt:function(a){this.Af=a},ZS:function(){return this.Uo},YW:function(a){this.Uo=a},xk:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Ea=a;this.Af=c;this.Uo=0;return!0}});q.vo.create=function(a,c){var d=new q.vo;d&&d.xk(a,c);return d};q.qz=q.vo.extend({xk:function(a,c){return q.vo.prototype.xk.call(this,a,c)}});
q.qz.create=function(a,c){var d=new q.qz;d&&d.xk(a,c);return d};q.Ju=q.vo.extend({sw:!1,No:null,q8:function(){return this.sw},Aba:function(a){this.sw=a},k4:function(){return this.No},xk:function(a,c,d){return q.vo.prototype.xk.call(this,a,c)?(this.No=[],this.sw=d,!0):!1}});q.Ju.create=function(a,c,d){var e=new q.Ju;e&&e.xk(a,c,d);return e};q.PN=1;q.SN=2;q.RN=4;q.QN=8;q.t0=q.PN|q.SN|q.RN|q.QN;q.uz=0;q.xz=1;q.wz=2;q.vz=3;q.s0=4;q.OJ=function(a,c){return a.Af>c.Af};q.Nu=function(a){this.type=a};
q.sa=q.Oa.extend({gk:!1,ef:null,df:null,Jm:!1,rs:!1,Cw:!1,bl:null,Yj:null,Bw:!1,Uj:!1,XO:[new q.Nu(q.uz),new q.Nu(q.xz),new q.Nu(q.wz),new q.Nu(q.vz)],w:function(){this.Uj=!0;this.ef=[];this.df=[];this.bl=[];this.Yj=[];this.gk=this.Jm=this.Bw=this.rs=this.Cw=!1;q.sa.UV();return!0},$r:function(a){this.gk=a},SO:function(){return this.gk},P7:function(){return this.Uj},WW:function(a){this.Uj=a},gO:function(a,c){var d=q.qz.create(a,c||0);this.Jm?-1!=this.Yj.indexOf(a)?q.le(this.Yj,a):(this.bl.push(d),
this.rs=!0):this.df=this.Op(d,this.df)},hO:function(a,c,d){c=q.Ju.create(a,c,d);this.Jm?-1!=this.Yj.indexOf(a)?q.le(this.Yj,a):(this.bl.push(c),this.rs=!0):this.ef=this.Op(c,this.ef)},Op:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Af<a.Af&&++d,e.Ac()==a.Ac())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.jm(c,a,d)},CI:function(){this.df.length=0;this.ef.length=0},PP:function(a){if(null!=a)if(this.Jm){var c=this.xI(this.bl,a);c?q.le(this.bl,
c):(this.Yj.push(a),this.Cw=!0)}else this.DI(a)},$V:function(){this.Jm?this.Bw=!0:this.CI()},pt:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.xI(c);d?d.Af!=a&&(d.pt(a),this.qK(this.ef),this.qK(this.df)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.Jm=!0;var e=this.ef.length,f=this.df.length,g=e&&f,h=g?a.slice():a,k=this.XO[d];if(0<
e)for(var l,m,p=0;p<a.length;p++)for(var e=a[p],s=0;s<this.ef.length;s++){l=this.ef[s];if(!l)break;m=!1;if(d==q.uz)l.Ac().vb&&(m=l.Ac().vb(e,c))&&l.No.push(e);else if(0<l.No.length)switch(m=!0,k.type){case q.xz:q.Ja.vj?l.Ac().Qd&&l.Ac().Qd(e,c):this.gk&&l.Ac().Qd&&l.Ac().Qd(e,c);break;case q.wz:l.Ac().ah&&l.Ac().ah(e,c);l.No.length=0;break;case q.vz:l.Ac().Ak&&l.Ac().Ak(e,c),l.No.length=0}if(m&&l.sw){g&&q.le(h,e);break}}if(0<f)for(p=0;p<this.df.length&&(l=this.df[p],l);p++);this.Jm=!1;if(this.Cw){this.Cw=
!1;for(p=0;p<this.Yj.length;p++)this.DI(this.Yj[p]);this.Yj.length=0}if(this.rs){this.rs=!1;for(p=0;p<this.bl.length;p++){l=this.bl[p];if(!l)break;l instanceof q.Ju?this.ef=this.Op(l,this.ef):this.df=this.Op(l,this.df)}this.bl.length=0}this.Bw&&(this.Bw=!1,this.CI())},ky:function(a,c){this.Uj&&this.touches(a,c,q.uz)},ly:function(a,c){this.Uj&&this.touches(a,c,q.xz)},yt:function(a,c){this.Uj&&this.touches(a,c,q.wz)},BE:function(a,c){this.Uj&&this.touches(a,c,q.vz)},xI:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.ef.length;d++)if(this.ef[d].Ac()==c)return this.ef[d];for(d=0;d<this.df.length;d++)if(this.df[d].Ac()==c)return this.df[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Ac()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},DI:function(a){for(var c,d=0;d<this.df.length;d++)if((c=this.df[d])&&c.Ac()==a){q.le(this.df,c);break}for(d=0;d<this.ef.length;d++)if((c=this.ef[d])&&c.Ac()==a){q.le(this.ef,c);break}},qK:function(a){a.sort(q.OJ)}});q.sa.Db=q.a(0,0);q.sa.DJ=!1;
q.qj=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.zN=function(a,c){var d=q.qj(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.ra.g().tk(e,f,d);d=new q.vf(e.x,e.y);d.ag(q.sa.Db.x,q.sa.Db.y);q.sa.Db.x=e.x;q.sa.Db.y=e.y;e=[];e.push(d);q.ra.g().yt(e,null)};
q.sa.UV=function(){var a=q.canvas;if(!q.sa.DJ){if(q.Ja.vj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.qj(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.ra.g().tk(k,l,e);e=new q.vf(k.x,k.y);e.ag(q.sa.Db.x,q.sa.Db.y);q.sa.Db.x=k.x;q.sa.Db.y=k.y;q.fa.g().gf[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.qj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.ra.g().tk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.vf(k.x,k.y,h.identifier),l=q.sa.Av(h).S,h.ag(l.x,l.y),q.sa.bH(h)):(h=new q.vf(k.x,k.y),h.ag(q.sa.Db.x,q.sa.Db.y)),q.sa.Db.x=k.x,
q.sa.Db.y=k.y,d.push(h);q.ra.g().ky(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.qj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.ra.g().tk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.vf(k.x,k.y,h.identifier),l=q.sa.Av(h).S,h.ag(l.x,l.y),q.sa.bH(h)):(h=new q.vf(k.x,k.y),h.ag(q.sa.Db.x,q.sa.Db.y)),
q.sa.Db.x=k.x,q.sa.Db.y=k.y,d.push(h);q.ra.g().ly(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.qj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.ra.g().tk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.vf(k.x,k.y,h.identifier),l=q.sa.Av(h).S,h.ag(l.x,l.y),q.sa.jG(h)):(h=new q.vf(k.x,k.y),h.ag(q.sa.Db.x,
q.sa.Db.y)),q.sa.Db.x=k.x,q.sa.Db.y=k.y,d.push(h);q.ra.g().yt(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.qj(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,p=0;p<m;p++)if(h=c.changedTouches[p])k=h.clientX,l=h.clientY,k=q.ra.g().tk(k,l,g),h.hasOwnProperty("identifier")?(h=new q.vf(k.x,k.y,h.identifier),l=q.sa.Av(h).S,h.ag(l.x,l.y),q.sa.jG(h)):(h=new q.vf(k.x,
k.y),h.ag(q.sa.Db.x,q.sa.Db.y)),q.sa.Db.x=k.x,q.sa.Db.y=k.y,d.push(h);q.ra.g().BE(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.fa.g().gf.$r(!0)}),window.addEventListener("mouseup",function(c){q.fa.g().gf.$r(!1);var d=q.qj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.wb(new q.zg(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.ra.g().tk(g,c,d),d=new q.vf(g.x,
g.y),d.ag(q.sa.Db.x,q.sa.Db.y),q.sa.Db.x=g.x,q.sa.Db.y=g.y,g=[],g.push(d),q.ra.g().yt(g,null))}),a.addEventListener("mousedown",function(c){var d=q.qj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.ra.g().tk(g,c,d);d=new q.vf(g.x,g.y);d.ag(q.sa.Db.x,q.sa.Db.y);q.sa.Db.x=g.x;q.sa.Db.y=g.y;g=[];g.push(d);q.ra.g().ky(g,null)}),a.addEventListener("mouseup",function(c){q.zN(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.qj(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.ra.g().tk(g,c,d);d=new q.vf(g.x,g.y);d.ag(q.sa.Db.x,q.sa.Db.y);q.sa.Db.x=g.x;q.sa.Db.y=g.y;g=[];g.push(d);q.ra.g().ly(g,null)});q.sa.DJ=!0}};q.sa.Av=function(a){for(var c=null,d=q.sa.bB,e=a.Tf,f=d.length-1;0<=f;f--)if(d[f].Tf==e){c=d[f];break}c||(c=a);return c};
q.sa.bH=function(a){for(var c=!1,d=q.sa.bB,e=a.Tf,f=d.length-1;0<=f;f--)if(d[f].Tf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.sa.cB]=a,q.sa.cB=(q.sa.cB+1)%50))};q.sa.jG=function(a){var c,d=q.sa.bB;c=a.Tf;for(a=d.length-1;0<=a;a--)if(d[a].Tf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.sa.bB=[];q.sa.cB=0;q.GD=function(a,c,d){q.fa.g().gf.hO(d,a,c)};q.VV=function(a,c){q.fa.g().gf.gO(a,c)};q.UL=function(a){q.fa.g().gf.PP(a)};q.jN=1;q.jF=2;q.j_=4;q.nN=8;q.K_=16;q.L_=32;q.M_=64;q.w_=128;q.x_=256;q.y_=512;q.BF=1024;q.kN=2048;q.lN=4096;q.mN=0;q.k_=1;q.kF=2;q.m_=q.Oa.extend({UU:function(){return!1},VU:function(){return!1},Qh:function(){return!1},YU:function(){return!1},bV:function(){return!1},cV:function(){return!1},dV:function(){return!1},ZU:function(){return!1},$U:function(){return!1},aV:function(){return!1},eV:function(){return!1},WU:function(){return!1},XU:function(){return!1}});
q.oN=q.vf.extend({FH:0,bG:q.mN,g7:function(){return this.FH},xL:function(a){this.FH=a},c4:function(){return this.bG},LW:function(a){this.bG=a}});q.az=q.Oa.extend({Ea:null,Af:0,Uo:0,Ac:function(){return this.Ea},pg:function(a){this.Ea=a},nT:function(){return this.Af},pt:function(a){this.Af=a},ZS:function(){return this.Uo},YW:function(a){this.Uo=a},xk:function(a,c){this.Ea=a;this.Af=c}});q.az.create=function(a,c){var d=new q.az;d.xk(a,c);return d};
q.pe=q.Oa.extend({gk:!1,iw:!1,Uf:null,Uj:!1,w:function(){this.Uj=!0;this.Uf=[];this.iw=this.gk=!1;q.pe.KP();return!0},$r:function(a){this.gk=a},SO:function(){return this.gk},cH:function(a){this.iw=a},$0:function(){return this.iw},PH:function(a,c){var d=q.az.create(a,c);this.Uf=this.Op(d,this.Uf)},Op:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Af<a.Af&&++d,f.Ac()==a.Ac()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.jm(c,a,d)},xK:function(a){if(null!=
a)for(var c=0;c<this.Uf.length;c++){var d=this.Uf[c];if(d&&d.Ac()==a){q.le(this.Uf,d);break}}},QO:function(a){for(var c=0;c<this.Uf.length;c++)if(this.Uf[c]&&this.Uf[c].Ac()==a)return this.Uf[c];return null},pt:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.QO(c);d?d.Af!=a&&(d.pt(a),this.Uf.sort(q.OJ)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},t$:function(){this.Uf.length=0},Fn:function(a,c,d){for(c=0;c<this.Uf.length;c++){var e=
this.Uf[c];switch(d){case q.jF:this.gk||this.iw||!e.Ac().Qh||e.Ac().Qh(a)}}}});q.pe.dw=q.a(0,0);q.pe.nP=!1;
q.pe.KP=function(){var a=q.canvas;function c(c){var e=q.qj(a),f=c.pageX,g=c.pageY,h=q.ra.g(),f=(f-e.left)/h.va,e=(e.height-(g-e.top))/h.Da,g=new q.oN(f,e);g.ag(q.pe.dw.x,q.pe.dw.y);g.LW(c.button);q.pe.dw.x=f;q.pe.dw.y=e;return g}q.pe.nP||(window.addEventListener("mousedown",function(a){a.button==q.kF?q.fa.g().If().cH(!0):q.fa.g().If().$r(!0)}),window.addEventListener("mouseup",function(a){a.button==q.kF?q.fa.g().If().cH(!1):q.fa.g().If().$r(!1)}),a.addEventListener("mousedown",function(a){q.fa.g().If().Fn(c(a),
a,q.jN)}),a.addEventListener("mouseup",function(a){q.fa.g().If().Fn(c(a),a,q.nN)}),a.addEventListener("mousemove",function(a){q.fa.g().If().Fn(c(a),a,q.jF)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.xL(a.wheelDelta);q.fa.g().If().Fn(e,a,q.BF)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.xL(-120*a.detail);q.fa.g().If().Fn(e,a,q.BF)}),a.addEventListener("mouseout",function(a){q.fa.g().If().Fn(c(a),a,q.lN)},!1),a.addEventListener("mouseover",function(a){q.fa.g().If().Fn(c(a),
a,q.kN)},!1))};q.cda=function(){return{x:0,y:0}};q.em=function(a,c){return{x:a,y:c}};q.kh=function(a,c){return q.em(a.x+c.x,a.y+c.y)};q.Ed=function(a,c){return q.em(a.x-c.x,a.y-c.y)};q.ug=function(a,c){return q.em(a.x*c,a.y*c)};q.sy=function(a){return q.em(-a.y,a.x)};q.Fj=function(a){return q.em(-a.x,-a.y)};q.CY=function(a,c){return a.x*c.x+a.y*c.y};q.bda=function(a){return q.em(Math.cos(a),Math.sin(a))};q.GE=function(a){a=q.Rh(q.a(a.x,a.y));return q.em(a.x,a.y)};q.Pi=function(a){return q.em(a.x,a.y)};
q.Kb=function(a){return{Wa:a.x,ua:a.y}};
q.IM=q.G.extend({mb:null,qa:null,So:null,gp:null,Os:function(){return this.qa},Tl:function(a){this.qa=a},taa:function(a){this.So=q.i(a.q,a.p,a.o,a.Q)},Maa:function(a){this.gp=null==a?null:q.i(a.q,a.p,a.o,a.Q)},bx:function(){return q.i(this.So.q,this.So.p,this.So.o,this.So.Q)},LI:function(){return this.gp?q.i(this.gp.q,this.gp.p,this.gp.o,this.gp.Q):null},ctor:function(){q.G.prototype.ctor.call(this);this.mb=[];this.So=q.i(0,0,0,255);this.qa=new q.lm(q.Te,q.Se)},Za:function(a){a=a||q.da;var c=q.ra.g().va;
this.qa&&770==this.qa.src&&1==this.qa.Qb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.mb.length;d++){var e=this.mb[d];e.type===q.xg.KF&&(a.fillStyle="rgba("+(0|e.color.q)+","+(0|e.color.p)+","+(0|e.color.o)+","+e.color.Q/255+")",q.De.wC(e.position,e.ED));e.type===q.xg.LF&&(a.strokeStyle="rgba("+(0|e.color.q)+","+(0|e.color.p)+","+(0|e.color.o)+","+e.color.Q/255+")",a.lineWidth=2*e.ED*c,a.lineCap="round",q.De.ui(e.from,e.cm));e.type===q.xg.yz&&(a.fillStyle="rgba("+(0|e.fillColor.q)+","+
(0|e.fillColor.p)+","+(0|e.fillColor.o)+","+e.fillColor.Q/255+")",q.De.ee(e.ty,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|e.borderColor.q)+","+(0|e.borderColor.p)+","+(0|e.borderColor.o)+","+e.borderColor.Q/255+")",q.De.ee(e.ty,e.count,!0,!1))}},xC:function(a,c,d,e,f,g){f=f||this.h1;g=g||this.bx();null==g.Q&&(g.Q=255);for(var h=[],k=0,l=0;l<e;l++)h.push(q.a(Math.pow(1-k,2)*a.x+2*(1-k)*k*c.x+k*k*d.x,Math.pow(1-k,2)*a.y+2*(1-k)*k*c.y+k*k*d.y)),k+=1/e;h.push(q.a(d.x,
d.y));a=new q.Wu(q.xg.yz);a.ty=h;a.lineWidth=f;a.fillColor=g;a.borderColor=g;a.p8=!0;a.lineCap="round";this.mb.push(a)},CS:function(a,c,d){var e=new q.Wu(q.xg.KF);e.position=q.a(a.x,a.y);e.ED=c;e.color=d;this.mb.push(e)},GS:function(a,c,d,e){var f=new q.Wu(q.xg.LF);f.from=q.a(a.x,a.y);f.cm=q.a(c.x,c.y);f.ED=d?d:1;f.color=e?e:this.bx();this.mb.push(f)},ee:function(a,c,d,e){var f=new q.Wu(q.xg.yz);f.ty=a;f.count=a.length;f.fillColor=c?c:this.bx();f.borderWidth=d?d:1;f.borderColor=e?e:this.LI()?this.LI():
this.bx();this.mb.push(f)},clear:function(){this.mb.length=0}});
q.JM=q.G.extend({Eo:0,mb:null,sl:null,sH:null,rH:null,qa:null,Ra:!1,Os:function(){return this.qa},Tl:function(a){this.qa=a},ctor:function(){q.G.prototype.ctor.call(this);this.mb=[];this.qa=new q.lm(q.Te,q.Se)},w:function(){return q.G.prototype.w.call(this)?(this.gh(q.Zh.g().Hi(q.W_)),this.sA(512),this.sH=q.da.createBuffer(),this.Ra=!0):!1},VP:function(){var a=q.da;q.Je(q.Qu);a.bindBuffer(a.ARRAY_BUFFER,this.sH);this.Ra&&(a.bufferData(a.ARRAY_BUFFER,this.sl,a.STREAM_DRAW),this.Ra=!1);var c=q.gc.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.We,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Mq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Nq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.mb.length);q.Wh()},sA:function(a){if(this.mb.length+a>this.Eo){var c=q.Xc.BYTES_PER_ELEMENT;this.Eo+=Math.max(this.Eo,a);if(null==this.mb||0===this.mb.length)this.mb=[],this.sl=new ArrayBuffer(c*this.Eo),this.rH=new Uint8Array(this.sl);else{a=[];for(var d=new ArrayBuffer(c*this.Eo),e=0;e<this.mb.length;e++)a[e]=new q.Xc(this.mb[e].Q,
this.mb[e].o,this.mb[e].Ma,d,e*c);this.rH=new Uint8Array(d);this.mb=a;this.sl=d}}},Za:function(){q.wk(this.qa.src,this.qa.Qb);this.Zc.uf();this.Zc.tL();this.VP()},CS:function(a,c,d){d={q:0|255*d.q,p:0|255*d.p,o:0|255*d.o,Q:0|255*d.Q};var e={B:{x:a.x-c,y:a.y-c},W:d,H:{Wa:-1,ua:-1}},f={B:{x:a.x+c,y:a.y+c},W:d,H:{Wa:1,ua:1}},g={B:{x:a.x+c,y:a.y-c},W:d,H:{Wa:1,ua:-1}};this.mb.push(new q.Xc(e,{B:{x:a.x-c,y:a.y+c},W:d,H:{Wa:-1,ua:1}},f,this.sl,this.mb.length*q.Xc.BYTES_PER_ELEMENT));this.mb.push(new q.Xc(e,
f,g,this.sl,this.mb.length*q.Xc.BYTES_PER_ELEMENT));this.Ra=!0},GS:function(a,c,d,e){this.sA(18);e={q:0|255*e.q,p:0|255*e.p,o:0|255*e.o,Q:0|255*e.Q};var f=q.Pi(a);c=q.Pi(c);a=q.GE(q.sy(q.Ed(c,f)));var g=q.sy(a),h=q.ug(a,d);d=q.ug(g,d);var k=q.kh(c,q.Ed(h,d)),l=q.Ed(c,h),m=q.kh(c,h),p=q.Ed(f,h),s=q.kh(f,h),u=q.Ed(f,q.Ed(h,d)),f=q.kh(f,q.kh(h,d)),w=q.Xc.BYTES_PER_ELEMENT,x=this.sl;this.mb.push(new q.Xc({B:q.Ed(c,q.kh(h,d)),W:e,H:q.Kb(q.Fj(q.kh(a,g)))},{B:k,W:e,H:q.Kb(q.Ed(a,g))},{B:l,W:e,H:q.Kb(q.Fj(a))},
x,this.mb.length*w));this.mb.push(new q.Xc({B:m,W:e,H:q.Kb(a)},{B:k,W:e,H:q.Kb(q.Ed(a,g))},{B:l,W:e,H:q.Kb(q.Fj(a))},x,this.mb.length*w));this.mb.push(new q.Xc({B:m,W:e,H:q.Kb(a)},{B:p,W:e,H:q.Kb(q.Fj(a))},{B:l,W:e,H:q.Kb(q.Fj(a))},x,this.mb.length*w));this.mb.push(new q.Xc({B:m,W:e,H:q.Kb(a)},{B:p,W:e,H:q.Kb(q.Fj(a))},{B:s,W:e,H:q.Kb(a)},x,this.mb.length*w));this.mb.push(new q.Xc({B:u,W:e,H:q.Kb(q.Ed(g,a))},{B:p,W:e,H:q.Kb(q.Fj(a))},{B:s,W:e,H:q.Kb(a)},x,this.mb.length*w));this.mb.push(new q.Xc({B:u,
W:e,H:q.Kb(q.Ed(g,a))},{B:f,W:e,H:q.Kb(q.kh(a,g))},{B:s,W:e,H:q.Kb(a)},x,this.mb.length*w));this.Ra=!0},ee:function(a,c,d,e){c={q:0|255*c.q,p:0|255*c.p,o:0|255*c.o,Q:0|255*c.Q};e={q:0|255*e.q,p:0|255*e.p,o:0|255*e.o,Q:0|255*e.Q};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.Pi(a[(g-1+m)%m]);k=q.Pi(a[g]);l=q.Pi(a[(g+1)%m]);var p=q.GE(q.sy(q.Ed(k,h)));k=q.GE(q.sy(q.Ed(l,k)));f[g]={offset:q.ug(q.kh(p,k),1/(q.CY(p,k)+1)),UJ:k}}p=0<d;this.sA(3*(3*m-2));var s=q.Xc.BYTES_PER_ELEMENT,u=this.sl,w=this.mb,
x=!1==p?0.5:0;for(g=0;g<m-2;g++)h=q.Ed(q.Pi(a[0]),q.ug(f[0].offset,x)),k=q.Ed(q.Pi(a[g+1]),q.ug(f[g+1].offset,x)),l=q.Ed(q.Pi(a[g+2]),q.ug(f[g+2].offset,x)),w.push(new q.Xc({B:h,W:c,H:q.Kb({x:0,y:0})},{B:k,W:c,H:q.Kb({x:0,y:0})},{B:l,W:c,H:q.Kb({x:0,y:0})},u,w.length*s));for(g=0;g<m;g++){x=(g+1)%m;h=q.Pi(a[g]);k=q.Pi(a[x]);l=f[g].UJ;var F=f[g].offset,J=f[x].offset,x=p?q.Ed(h,q.ug(F,d)):q.Ed(h,q.ug(F,0.5)),E=p?q.Ed(k,q.ug(J,d)):q.Ed(k,q.ug(J,0.5));h=p?q.kh(h,q.ug(F,d)):q.kh(h,q.ug(F,0.5));k=p?q.kh(k,
q.ug(J,d)):q.kh(k,q.ug(J,0.5));p?(w.push(new q.Xc({B:x,W:e,H:q.Kb(q.Fj(l))},{B:E,W:e,H:q.Kb(q.Fj(l))},{B:k,W:e,H:q.Kb(l)},u,w.length*s)),w.push(new q.Xc({B:x,W:e,H:q.Kb(q.Fj(l))},{B:h,W:e,H:q.Kb(l)},{B:k,W:e,H:q.Kb(l)},u,w.length*s))):(w.push(new q.Xc({B:x,W:c,H:q.Kb({x:0,y:0})},{B:E,W:c,H:q.Kb({x:0,y:0})},{B:k,W:c,H:q.Kb(l)},u,w.length*s)),w.push(new q.Xc({B:x,W:c,H:q.Kb({x:0,y:0})},{B:h,W:c,H:q.Kb(l)},{B:k,W:c,H:q.Kb(l)},u,w.length*s)))}this.Ra=!0},clear:function(){this.mb.length=0;this.Ra=!0}});
q.xg=q.Ja.ed?q.JM:q.IM;q.xg.create=function(){var a=new q.xg;return a&&a.w()?a:null};q.Wu=function(a){this.type=a};q.xg.KF=0;q.xg.LF=1;q.xg.yz=2;q.vt=-1;q.hL=function(a,c){a.gh(c);var d=a.C;if(d)for(var e=0;e<d.length;e++)q.hL(d[e],c)};
q.Bb=q.G.extend({Gc:null,um:0,bj:!1,sG:!1,ctor:function(){q.G.prototype.ctor.call(this);this.Gc=null;this.um=0;this.bj=!1},w:null,IA:function(a){this.Gc=a;this.um=1;this.bj=!1;q.Bb.KA=!0;q.Bb.KA&&(q.vt=q.da.getParameter(q.da.STENCIL_BITS),0>=q.vt&&q.log("Stencil buffer is not enabled."),q.Bb.KA=!1);return!0},HA:function(a){this.Gc=a;this.um=1;this.bj=!1},$g:function(){q.G.prototype.$g.call(this);this.Gc.$g()},Gi:function(){q.G.prototype.Gi.call(this);this.Gc.Gi()},Ph:function(){this.Gc.Ph();q.G.prototype.Ph.call(this)},
he:function(){this.Gc.he();q.G.prototype.he.call(this)},Ba:null,jn:function(a){var c=a||q.da;if(1>q.vt)q.G.prototype.Ba.call(this,a);else if(this.Gc&&this.Gc.za)if(q.Bb.Lr=-1,q.Bb.Lr+1==q.vt)q.Bb.bC=!0,q.Bb.bC&&(q.log("Nesting more than "+q.vt+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.Bb.bC=!1),q.G.prototype.Ba.call(this,a);else{q.Bb.Lr++;var d=1<<q.Bb.Lr,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),p=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),s=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var u=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.bj?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.De.yC(q.Kj(),q.hV(),q.Ow(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.bj?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.um){var d=
q.Zh.g().Hi(q.Y_),w=c.getUniformLocation(d.fx(),q.v0);q.n7(d.fx());d.sL(w,this.um);q.hL(this.Gc,d)}q.gq();this.transform();this.Gc.Ba();q.fq();c.depthMask(u);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.G.prototype.Ba.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,p,s);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.Bb.Lr--}else this.bj&&q.G.prototype.Ba.call(this,a)},hn:function(a){if(this.Gc&&this.Gc.za){if(this.Vz()||this.Gc instanceof q.v){a=a||q.da;var c=a.canvas,d=q.Bb.VO();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.bj?"destination-out":"destination-in";this.transform(a);this.Gc.Ba();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.da;var d=this.C,e;a.save();this.transform(a);this.Gc.Ba(a);a.clip();this.Vz(!0);var f=d.length;if(0<f){this.ke();for(c=0;c<f;c++)if(e=d[c],0>e.ob)e.Ba(a);else break;for(this.Za(a);c<
f;c++)d[c].Ba(a)}else this.Za(a);this.Vz(!1)}a.restore()}else this.bj&&q.G.prototype.Ba.call(this,a)},D6:function(){return this.Gc},gE:null,zQ:function(a){this.Gc=a},yQ:function(a){this.Gc=a;var c=q.ra.g().va,d=q.ra.g().Da,e=q.da;!(a instanceof q.v)&&a instanceof q.xg&&(a.Za=function(){for(var f=0;f<a.mb.length;f++){var g=a.mb[f].ty,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},P3:function(){return this.um},baa:function(a){this.um=a},Y7:function(){return this.bj},
Jaa:function(a){this.bj=a},Vz:function(a){if(!0===a||!1===a)q.Bb.prototype.sG=a;return q.Bb.prototype.sG}});q.Ja.ed?(q.Bb.prototype.w=q.Bb.prototype.IA,q.Bb.prototype.Ba=q.Bb.prototype.jn,q.Bb.prototype.gE=q.Bb.prototype.zQ):(q.Bb.prototype.w=q.Bb.prototype.HA,q.Bb.prototype.Ba=q.Bb.prototype.hn,q.Bb.prototype.gE=q.Bb.prototype.yQ);q.Bb.KA=null;q.Bb.bC=null;q.Bb.Lr=null;q.Bb.hH=null;q.Bb.VO=function(){return q.Bb.hH||(q.Bb.hH=document.createElement("canvas"))};
q.Bb.create=function(a){var c=new q.Bb;c.w(a);return c};q.WZ=0;q.XZ=1;q.YZ=2;q.no=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.yb=q.G.extend({Fo:null,Go:null,wv:0,gr:0,aw:0,Ha:null,os:null,QQ:null,Yf:q.Nj,Cb:null,kv:0,Sj:null,aA:0,bA:0,Sq:!1,$z:null,ctor:null,$h:function(){q.G.prototype.ctor.call(this);this.Sj=q.Ow(1,1,1,1);this.$z="rgba(255,255,255,1)";this.Fo=document.createElement("canvas");this.Go=this.Fo.getContext("2d");this.A(0,0)},ai:function(){q.G.prototype.ctor.call(this);this.Sj=q.Ow(0,0,0,0)},fg:null,yO:function(){q.G.prototype.he.call(this);this.Fo=this.Go=null},zO:function(){q.G.prototype.he.call(this);this.os=
null;var a=q.da;a.deleteFramebuffer(this.wv);this.gr&&a.deleteRenderbuffer(this.gr);this.QQ=null},zT:function(){return this.Cb},qt:function(a){this.Cb=a},gD:null,fP:function(a,c){var d=this.Fo,e=q.fd();d.width=0|a*e;d.height=0|c*e;this.Go.translate(0,d.height);e=new q.oc;e.of(d);e.fe();this.Cb=q.v.La(e);return!0},gP:function(a,c,d,e){d==q.Hq&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.da,g=q.fd();a=0|a*g;c=0|c*g;
this.aw=f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.Ue.g().ls?(g=a,h=c):(g=q.no(a),h=q.no(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Yf=d;this.Ha=new q.oc;if(!this.Ha)return!1;l=this.Ha;l.kx(k,this.Yf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.Ue.g().Mp("GL_QCOM")){this.os=new q.oc;if(!this.os)return!1;this.os.kx(k,this.Yf,g,h,q.size(a,c))}this.wv=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.wv);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.si,0);0!=e&&(this.gr=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.gr),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.gr));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.GK();a=this.Cb=q.v.La(l);a.Vn(-1);a.Tl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.aw);this.Sq=
!1;this.f(a);return!0},rk:null,oO:function(){q.da=this.Go;q.De.jL(q.da);q.ra.g().vQ()},pO:function(){q.An(q.qu);q.gq();q.An(q.pu);q.gq();var a=q.fa.g();a.Sx(a.ll);var c=this.Ha.Ca,d=q.fa.g().IT(),a=d.width/c.width,d=d.height/c.height,e=q.da;e.viewport(0,0,c.width,c.height);c=new q.Nh;q.FU(c,-1/a,1/a,-1/d,1/d,-1,1);q.qx(c);this.aw=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.wv);q.Ue.g().Mp("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,
this.os.si,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Ha.si,0))},lC:function(a,c,d,e,f,g){var h=q.da;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Sz(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Sz:null,qO:function(a,c,d,e){this.rk();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.Go,g=this.Fo;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+
e+")";f.clearRect(0,0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},rO:function(a,c,d,e,f,g,h){this.rk();var k=q.da,l=[0,0,0,0],m=0,p=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(p=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);
h&k.STENCIL_BUFFER_BIT&&k.clearStencil(p)},end:null,OO:function(){q.da=q.KU;q.De.jL(q.da);q.ra.g().YP()},PO:function(){var a=q.da,c=q.fa.g();a.bindFramebuffer(a.FRAMEBUFFER,this.aw);c.wL();q.An(q.qu);q.fq();q.An(q.pu);q.fq()},clear:function(a,c,d,e){this.lC(a,c,d,e);this.end()},clearRect:null,DO:function(a,c,d,e){this.Go.clearRect(a,c,d,-e)},EO:function(){},clearDepth:null,BO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},CO:function(a){this.rk();var c=q.da,d=c.getParameter(c.DEPTH_CLEAR_VALUE);
c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);c.clearDepth(d);this.end()},clearStencil:null,FO:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},GO:function(a){var c=q.da,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},Ba:null,hn:function(a){this.za&&(a=a||q.da,a.save(),this.Za(a),this.transform(a),this.Cb.Ba(),a.restore(),this.Wf=0)},jn:function(a){if(this.za){q.gq();var c=this.$k;c&&c.dq()&&(c.kC(),this.my());this.transform(a);
this.Cb.Ba();this.Za(a);c&&c.dq()&&c.gC(this);q.fq();this.Wf=0}},Za:null,Vj:function(a){a=a||q.da;if(this.Sq){this.rk();if(this.kv){var c=this.Fo;a.save();a.fillStyle=this.$z;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.ke();a=this.C;for(var c=a.length,d=this.Cb,e=0;e<c;e++){var f=a[e];f!=d&&f.Ba()}this.end()}},Fg:function(){var a=q.da;if(this.Sq){this.rk();var c=this.kv;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),
a.clearColor(this.Sj.q,this.Sj.p,this.Sj.o,this.Sj.Q));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.aA));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.bA));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.ke();a=this.C;for(c=0;c<a.length;c++)d=a[c],d!=this.Cb&&d.Ba();this.end()}},VJ:null,wP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");
return null},xP:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.Ht(this.Yf==q.Nj,"only RGBA8888 can be saved as image");if(!this.Ha)return null;var a=this.Ha.Ca,c=a.width,a=a.height,d=new q.TM,e=q.da,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.rk();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.uP(f,e*c*4,g,(a-e-1)*c*4,4*c);d.z7(f,c*a*4,q.PZ,c,a,8);return d},uP:function(a,
c,d,e,f){for(var g=0;g<f;g++)a[c+g]=d[e+g]},Q$:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},M8:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},N8:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},n4:function(){return this.kv},iaa:function(a){this.kv=a},l4:function(){return this.Sj},NK:null,fQ:function(a){var c=this.Sj;c.q=a.q;c.p=a.p;c.o=a.o;c.Q=a.Q;this.$z="rgba("+(0|255*a.q)+","+(0|255*a.p)+","+(0|255*a.o)+","+a.Q+")"},gQ:function(a){var c=
this.Sj;c.q=a.q;c.p=a.p;c.o=a.o;c.Q=a.Q},m4:function(){return this.aA},haa:function(a){this.aA=a},o4:function(){return this.bA},jaa:function(a){this.bA=a},J7:function(){return this.Sq},daa:function(a){this.Sq=a}});
q.Ja.ed?(b=q.yb.prototype,b.ctor=q.yb.prototype.ai,b.fg=q.yb.prototype.zO,b.gD=q.yb.prototype.gP,b.rk=q.yb.prototype.pO,b.Sz=q.yb.prototype.rO,b.end=q.yb.prototype.PO,b.clearRect=q.yb.prototype.EO,b.clearDepth=q.yb.prototype.CO,b.clearStencil=q.yb.prototype.GO,b.Ba=q.yb.prototype.jn,b.Za=q.yb.prototype.Fg,b.VJ=q.yb.prototype.xP,b.NK=q.yb.prototype.gQ):(b=q.yb.prototype,b.ctor=q.yb.prototype.$h,b.fg=q.yb.prototype.yO,b.gD=q.yb.prototype.fP,b.rk=q.yb.prototype.oO,b.Sz=q.yb.prototype.qO,b.end=q.yb.prototype.OO,
b.clearRect=q.yb.prototype.DO,b.clearDepth=q.yb.prototype.BO,b.clearStencil=q.yb.prototype.FO,b.Ba=q.yb.prototype.hn,b.Za=q.yb.prototype.Vj,b.VJ=q.yb.prototype.wP,b.NK=q.yb.prototype.fQ);q.yb.create=function(a,c,d,e){d=d||q.Nj;e=e||0;var f=new q.yb;return f&&f.gD(a,c,d,e)?f:null};q.fo=-1;
q.Vd=q.Oa.extend({Nm:null,aa:null,Cd:q.fo,ctor:function(){this.aa=this.Nm=null;this.Cd=q.fo},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Cd+"\x3e"},copy:function(){return q.clone(this)},clone:function(){var a=new q.Vd;a.Nm=null;a.aa=null;a.Cd=this.Cd;return a},Bi:function(){return!0},ia:function(a){this.aa=this.Nm=a},stop:function(){this.aa=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},DT:function(){return this.aa},Bba:function(a){this.aa=
a},M5:function(){return this.Nm},eba:function(a){this.Nm=a},CT:function(){return this.Cd},qL:function(a){this.Cd=a},CK:function(){},uK:function(){}});q.Vd.create=function(){return new q.Vd};q.Jj=q.Vd.extend({Ga:0,ctor:function(){q.Vd.prototype.ctor.call(this);this.Ga=0},Gf:function(){return this.Ga},uaa:function(a){this.Ga=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},clone:function(){return new q.Jj}});
q.Gu=q.Vd.extend({Vm:0,Lb:null,ctor:function(){q.Vd.prototype.ctor.call(this);this.Vm=0;this.Lb=null},w6:function(){return this.Vm},uba:function(a){this.Vm=a},wa:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.Lb=a;this.Vm=c;return!0},clone:function(){var a=new q.Gu;a.wa(this.Lb.clone(),this.Vm);return a},ia:function(a){q.Vd.prototype.ia.call(this,a);this.Lb.ia(a)},stop:function(){this.Lb.stop();q.Vd.prototype.stop.call(this)},step:function(a){this.Lb.step(a*this.Vm)},
Bi:function(){return this.Lb.Bi()},reverse:function(){return q.Gu.create(this.Lb.reverse(),this.Vm)},WK:function(a){this.Lb!=a&&(this.Lb=a)},HC:function(){return this.Lb}});q.Gu.create=function(a,c){var d=new q.Gu;return d&&d.wa(a,c)?d:null};
q.Ty=q.Vd.extend({Yo:null,Co:!1,fv:!1,Cv:null,Ar:null,Bn:0,Rn:0,$n:0,sn:0,dC:null,ctor:function(){q.Vd.prototype.ctor.call(this);this.Yo=null;this.fv=this.Co=!1;this.Ar=this.Cv=null;this.sn=this.$n=this.Rn=this.Bn=0;this.dC=q.wd()},clone:function(){var a=new q.Ty,c=this.dC,c=new q.zg(c.x,c.y,c.width,c.height);a.Ug(this.Yo,c);return a},L7:function(){return this.Co},faa:function(a){this.Co=a},Ug:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.wd();this.Yo=
a;this.dC=c;this.Co=!q.Wr(c);this.fv=!1;var d=q.fa.g().dc;this.Ar=q.a(d.width,d.height);this.Cv=q.yj(this.Ar,0.5);this.Co&&(this.Bn=-(c.x+c.width-this.Ar.x),this.Rn=-c.x,this.$n=-c.y,this.sn=-(c.y+c.height-this.Ar.y),this.Rn<this.Bn&&(this.Rn=this.Bn=(this.Bn+this.Rn)/2),this.$n<this.sn&&(this.$n=this.sn=(this.$n+this.sn)/2),this.$n==this.sn&&this.Bn==this.Rn&&(this.fv=!0));return!0},step:function(){var a=this.Yo.u.I,c=this.Yo.u.U,a=this.Cv.x-a,c=this.Cv.y-c;this.Co?this.fv||this.aa.l(q.Fs(a,this.Bn,
this.Rn),q.Fs(c,this.sn,this.$n)):this.aa.l(a,c)},Bi:function(){return!this.Yo.bf},stop:function(){this.aa=null;q.Vd.prototype.stop.call(this)}});q.Ty.create=function(a,c){c=c||new q.wd;var d=new q.Ty;return null!=c&&d&&d.Ug(a,c)||d&&d.Ug(a)?d:null};q.Y=q.Jj.extend({yc:0,zr:!1,ctor:function(){q.Jj.prototype.ctor.call(this);this.yc=0;this.zr=!1},F4:function(){return this.yc},X:function(a){this.Ga=0===a?q.ju:a;this.yc=0;return this.zr=!0},Bi:function(){return this.yc>=this.Ga},clone:function(){var a=new q.Y;a.X(this.Ga);return a},step:function(a){this.zr?(this.zr=!1,this.yc=0):this.yc+=a;a=this.yc/(1.192092896E-7<this.Ga?this.Ga:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},ia:function(a){q.Vd.prototype.ia.call(this,a);this.yc=0;this.zr=!0},
reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");return null},caa:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},Q3:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.Y.create=function(a){var c=new q.Y;c.X(a);return c};
q.Mj=q.Y.extend({Qi:null,DB:null,fp:0,ctor:function(){q.Y.prototype.ctor.call(this);this.Qi=[];this.DB=null;this.fp=0},$s:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.X(a.Gf()+c.Gf());this.Qi[0]=a;this.Qi[1]=c;return!0},clone:function(){var a=new q.Mj;a.$s(this.Qi[0].clone(),this.Qi[1].clone());return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.DB=this.Qi[0].Gf()/this.Ga;this.fp=-1},stop:function(){-1!==this.fp&&this.Qi[this.fp].stop();
q.Vd.prototype.stop.call(this)},update:function(a){var c=0,d=this.DB,e=this.Qi,f=this.fp;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].ia(this.aa),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].Bi()||(f!==c&&e[c].ia(this.aa),e[c].update(a),this.fp=c)},reverse:function(){return q.Mj.sm(this.Qi[1].reverse(),this.Qi[0].reverse())},copy:function(){return this.clone()}});
q.Mj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.Mj.sm(d,c[e]));return d};q.Mj.sm=function(a,c){var d=new q.Mj;d.$s(a,c);return d};
q.xu=q.Y.extend({cg:0,lk:0,Yv:0,UF:!1,Lb:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Yv=this.lk=this.cg=0;this.UF=!1;this.Lb=null},wa:function(a,c){return this.X(a.Gf()*c)?(this.cg=c,this.Lb=a,a instanceof q.Ki&&(this.cg-=1),this.lk=0,!0):!1},clone:function(){var a=new q.xu;a.wa(this.Lb.clone(),this.cg);return a},ia:function(a){this.lk=0;this.Yv=this.Lb.Gf()/this.Ga;q.Y.prototype.ia.call(this,a);this.Lb.ia(a)},stop:function(){this.Lb.stop();q.Vd.prototype.stop.call(this)},update:function(a){var c=
this.Lb,d=this.Ga,e=this.cg,f=this.Yv;if(a>=f){for(;a>f&&this.lk<e;)c.update(1),this.lk++,c.stop(),c.ia(this.aa),this.Yv=f+=c.Gf()/d;1<=a&&this.lk<e&&this.lk++;this.UF&&(this.lk==e?(c.update(1),c.stop()):c.update(a-(f-c.Gf()/d)))}else c.update(a*e%1)},Bi:function(){return this.lk==this.cg},reverse:function(){return q.xu.create(this.Lb.reverse(),this.cg)},WK:function(a){this.Lb!=a&&(this.Lb=a)},HC:function(){return this.Lb}});q.xu.create=function(a,c){var d=new q.xu;d.wa(a,c);return d};
q.yu=q.Y.extend({Lb:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Lb=null},wa:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.Lb=a;return!0},clone:function(){var a=new q.yu;a.wa(this.Lb.clone());return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.Lb.ia(a)},step:function(a){var c=this.Lb;c.step(a);c.Bi()&&(c.ia(this.aa),c.step(c.yc-c.Gf()))},Bi:function(){return!1},reverse:function(){return q.yu.create(this.Lb.reverse())},WK:function(a){this.Lb!=
a&&(this.Lb=a)},HC:function(){return this.Lb}});q.yu.create=function(a){var c=new q.yu;return c&&c.wa(a)?c:null};
q.Gq=q.Y.extend({hk:null,pk:null,ctor:function(){q.Y.prototype.ctor.call(this);this.pk=this.hk=null},$s:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Gf(),f=c.Gf();this.X(Math.max(e,f))&&(this.hk=a,this.pk=c,e>f?this.pk=q.Mj.sm(c,q.io.create(e-f)):e<f&&(this.hk=q.Mj.sm(a,q.io.create(f-e))),d=!0);return d},clone:function(){var a=new q.Gq;a.$s(this.hk.clone(),this.pk.clone());return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.hk.ia(a);
this.pk.ia(a)},stop:function(){this.hk.stop();this.pk.stop();q.Vd.prototype.stop.call(this)},update:function(a){this.hk&&this.hk.update(a);this.pk&&this.pk.update(a)},reverse:function(){return q.Gq.sm(this.hk.reverse(),this.pk.reverse())}});q.Gq.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.sm(d,c[e]));return d};
q.Gq.sm=function(a,c){var d=new q.Gq;d.$s(a,c);return d};
q.kz=q.Y.extend({kr:0,Wm:0,mA:0,uv:0,ol:0,nA:0,ctor:function(){q.Y.prototype.ctor.call(this);this.nA=this.ol=this.uv=this.mA=this.Wm=this.kr=0},X:function(a,c,d){return q.Y.prototype.X.call(this,a)?(this.kr=c||0,this.uv=d||this.kr,!0):!1},clone:function(){var a=new q.kz;a.X(this.Ga,this.kr,this.uv);return a},ia:function(a){q.Y.prototype.ia.call(this,a);var c=a.Lg%360,d=this.kr-c;180<d&&(d-=360);-180>d&&(d+=360);this.Wm=c;this.mA=d;this.ol=a.ji%360;a=this.uv-this.ol;180<a&&(a-=360);-180>a&&(a+=360);
this.nA=a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.aa&&(this.aa.Vx(this.Wm+this.mA*a),this.aa.Wx(this.ol+this.nA*a))}});q.kz.create=function(a,c,d){var e=new q.kz;e.X(a,c,d);return e};
q.Au=q.Y.extend({Bg:0,Wm:0,Rq:0,ol:0,ctor:function(){q.Y.prototype.ctor.call(this);this.ol=this.Rq=this.Wm=this.Bg=0},X:function(a,c,d){return q.Y.prototype.X.call(this,a)?(this.Bg=c||0,this.Rq=d||this.Bg,!0):!1},clone:function(){var a=new q.Au;a.X(this.Ga,this.Bg,this.Rq);return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.Wm=a.Lg;this.ol=a.ji},update:function(a){this.aa&&(this.aa.Vx(this.Wm+this.Bg*a),this.aa.Wx(this.ol+this.Rq*a))},reverse:function(){return q.Au.create(this.Ga,-this.Bg,
-this.Rq)}});q.Au.create=function(a,c,d){var e=new q.Au;e.X(a,c,d);return e};
q.Jk=q.Y.extend({hj:null,jd:null,hd:null,ctor:function(){q.Y.prototype.ctor.call(this);this.hj=q.a(0,0);this.jd=q.a(0,0);this.hd=q.a(0,0)},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.hj.x=c.x,this.hj.y=c.y,!0):!1},clone:function(){var a=new q.Jk;a.X(this.Ga,this.hj);return a},ia:function(a){q.Y.prototype.ia.call(this,a);var c=a.u.I;a=a.u.U;this.hd.x=c;this.hd.y=a;this.jd.x=c;this.jd.y=a},update:function(a){if(this.aa){var c=this.hj.x*a;a*=this.hj.y;var d=this.jd;if(q.Ot){var e=this.aa.u.U,
f=this.hd;d.x=d.x+this.aa.u.I-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.aa.l(c,a);f.x=c;f.y=a}else this.aa.l(d.x+c,d.y+a)}},reverse:function(){return q.Jk.create(this.Ga,q.a(-this.hj.x,-this.hj.y))}});q.Jk.create=function(a,c){var d=new q.Jk;d.X(a,c);return d};
q.su=q.Jk.extend({Xo:null,ctor:function(){q.Jk.prototype.ctor.call(this);this.Xo=q.a(0,0)},X:function(a,c){return q.Jk.prototype.X.call(this,a,c)?(this.Xo.x=c.x,this.Xo.y=c.y,!0):!1},clone:function(){var a=new q.su;a.X(this.Ga,this.Xo);return a},ia:function(a){q.Jk.prototype.ia.call(this,a);this.hj.x=this.Xo.x-a.u.I;this.hj.y=this.Xo.y-a.u.U}});q.su.create=function(a,c){var d=new q.su;d.X(a,c);return d};
q.to=q.Y.extend({Be:0,Ce:0,hs:0,is:0,tr:0,ur:0,Xe:0,Ye:0,ctor:function(){q.Y.prototype.ctor.call(this);this.Ye=this.Xe=this.ur=this.tr=this.is=this.hs=this.Ce=this.Be=0},X:function(a,c,d){var e=!1;q.Y.prototype.X.call(this,a)&&(this.tr=c,this.ur=d,e=!0);return e},clone:function(){var a=new q.to;a.X(this.Ga,this.tr,this.ur);return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.hs=a.Be%180;this.Xe=this.tr-this.hs;180<this.Xe&&(this.Xe-=360);-180>this.Xe&&(this.Xe+=360);this.is=a.Ce%360;this.Ye=
this.ur-this.is;180<this.Ye&&(this.Ye-=360);-180>this.Ye&&(this.Ye+=360)},update:function(a){this.aa.Xx(this.hs+this.Xe*a);this.aa.Yx(this.is+this.Ye*a)}});q.to.create=function(a,c,d){var e=new q.to;e&&e.X(a,c,d);return e};
q.Eu=q.to.extend({X:function(a,c,d){var e=!1;q.to.prototype.X.call(this,a,c,d)&&(this.Be=c,this.Ce=d,e=!0);return e},clone:function(){var a=new q.Eu;a.X(this.Ga,this.Be,this.Ce);return a},ia:function(a){q.to.prototype.ia.call(this,a);this.Xe=this.Be;this.Ye=this.Ce;this.tr=this.hs+this.Xe;this.ur=this.is+this.Ye},reverse:function(){return q.Eu.create(this.Ga,-this.Be,-this.Ce)}});q.Eu.create=function(a,c,d){var e=new q.Eu;e&&e.X(a,c,d);return e};
q.lo=q.Y.extend({jd:null,Eg:null,ya:0,dp:0,hd:null,ctor:function(){q.Y.prototype.ctor.call(this);this.jd=q.a(0,0);this.hd=q.a(0,0);this.Eg=q.a(0,0);this.dp=this.ya=0},X:function(a,c,d,e){return q.Y.prototype.X.call(this,a)?(this.Eg.x=c.x,this.Eg.y=c.y,this.ya=d,this.dp=e,!0):!1},clone:function(){var a=new q.lo;a.X(this.Ga,this.Eg,this.ya,this.dp);return a},ia:function(a){q.Y.prototype.ia.call(this,a);var c=a.u.I;a=a.u.U;this.hd.x=c;this.hd.y=a;this.jd.x=c;this.jd.y=a},update:function(a){if(this.aa){var c=
a*this.dp%1,c=4*this.ya*c*(1-c),c=c+this.Eg.y*a;a*=this.Eg.x;var d=this.jd;if(q.Ot){var e=this.aa.u.U,f=this.hd;d.x=d.x+this.aa.u.I-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.aa.l(a,c);f.x=a;f.y=c}else this.aa.l(d.x+a,d.y+c)}},reverse:function(){return q.lo.create(this.Ga,q.a(-this.Eg.x,-this.Eg.y),this.ya,this.dp)}});q.lo.create=function(a,c,d,e){var f=new q.lo;f.X(a,c,d,e);return f};
q.Wy=q.lo.extend({ia:function(a){q.lo.prototype.ia.call(this,a);this.Eg.x-=this.jd.x;this.Eg.y-=this.jd.y},clone:function(){var a=new q.Wy;a.X(this.Ga,this.Eg,this.ya,this.dp);return a}});q.Wy.create=function(a,c,d,e){var f=new q.Wy;f.X(a,c,d,e);return f};q.ZH=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.km=q.Y.extend({Am:null,jd:null,hd:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Am=[];this.jd=q.a(0,0);this.hd=q.a(0,0)},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.Am=c,!0):!1},clone:function(){for(var a=new q.km,c=[],d=0;d<this.Am.length;d++){var e=this.Am[d];c.push(q.a(e.x,e.y))}a.X(this.Ga,c);return a},ia:function(a){q.Y.prototype.ia.call(this,a);var c=a.u.I;a=a.u.U;this.hd.x=c;this.hd.y=a;this.jd.x=c;this.jd.y=a},update:function(a){if(this.aa){var c=this.Am,d=q.ZH(c[0].x,
c[1].x,c[2].x,a);a=q.ZH(c[0].y,c[1].y,c[2].y,a);c=this.jd;if(q.Ot){var e=this.aa.u.U,f=this.hd;c.x=c.x+this.aa.u.I-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.aa.l(d,a);f.x=d;f.y=a}else this.aa.l(c.x+d,c.y+a)}},reverse:function(){var a=this.Am,a=[q.bh(a[1],q.zD(a[2])),q.bh(a[0],q.zD(a[2])),q.zD(a[2])];return q.km.create(this.Ga,a)}});q.km.create=function(a,c){var d=new q.km;d.X(a,c);return d};
q.Cy=q.km.extend({zw:null,ctor:function(){q.km.prototype.ctor.call(this);this.zw=[]},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.zw=c,!0):!1},clone:function(){var a=new q.Cy;a.X(this.Ga,this.zw);return a},ia:function(a){q.km.prototype.ia.call(this,a);a=this.jd;var c=this.zw,d=this.Am;d[0]=q.Rd(c[0],a);d[1]=q.Rd(c[1],a);d[2]=q.Rd(c[2],a)}});q.Cy.create=function(a,c){var d=new q.Cy;d.X(a,c);return d};
q.so=q.Y.extend({va:1,Da:1,vp:1,wp:1,Cm:0,Dm:0,Xe:0,Ye:0,ctor:function(){q.Y.prototype.ctor.call(this);this.wp=this.vp=this.Da=this.va=1;this.Ye=this.Xe=this.Dm=this.Cm=0},X:function(a,c,d){return q.Y.prototype.X.call(this,a)?(this.Cm=c,this.Dm=null!=d?d:c,!0):!1},clone:function(){var a=new q.so;a.X(this.Ga,this.Cm,this.Dm);return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.vp=a.va;this.wp=a.Da;this.Xe=this.Cm-this.vp;this.Ye=this.Dm-this.wp},update:function(a){this.aa&&this.aa.Ck(this.vp+
this.Xe*a,this.wp+this.Ye*a)}});q.so.create=function(a,c,d){var e=new q.so;e.X(a,c,d);return e};q.Cu=q.so.extend({ia:function(a){q.so.prototype.ia.call(this,a);this.Xe=this.vp*this.Cm-this.vp;this.Ye=this.wp*this.Dm-this.wp},reverse:function(){return q.Cu.create(this.Ga,1/this.Cm,1/this.Dm)},clone:function(){var a=new q.Cu;a.X(this.Ga,this.Cm,this.Dm);return a}});q.Cu.create=function(a,c,d){var e=new q.Cu;e.X(a,c,d);return e};
q.It=q.Y.extend({cg:0,UA:!1,ctor:function(){q.Y.prototype.ctor.call(this);this.cg=0;this.UA=!1},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.cg=c,!0):!1},clone:function(){var a=new q.It;a.X(this.Ga,this.cg);return a},update:function(a){if(this.aa&&!this.Bi()){var c=1/this.cg;this.aa.D(a%c>c/2)}},ia:function(a){q.Y.prototype.ia.call(this,a);this.UA=a.za},stop:function(){this.aa.D(this.UA);q.Y.prototype.stop.call(this)},reverse:function(){return q.It.create(this.Ga,this.cg)}});
q.It.create=function(a,c){var d=new q.It;d.X(a,c);return d};q.ku=q.Y.extend({update:function(a){this.aa.xb&&this.aa.ta(255*a)},reverse:function(){return q.lu.create(this.Ga)},clone:function(){var a=new q.ku;a.X(this.Ga);return a}});q.ku.create=function(a){var c=new q.ku;c.X(a);return c};q.lu=q.Y.extend({update:function(a){this.aa.xb&&this.aa.ta(255*(1-a))},reverse:function(){return q.ku.create(this.Ga)},clone:function(){var a=new q.lu;a.X(this.Ga);return a}});
q.lu.create=function(a){var c=new q.lu;c.X(a);return c};q.Sy=q.Y.extend({Aw:null,zv:null,ctor:function(){q.Y.prototype.ctor.call(this);this.zv=this.Aw=0},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.Aw=c,!0):!1},clone:function(){var a=new q.Sy;a.X(this.Ga,this.Aw);return a},update:function(a){this.aa.xb&&this.aa.ta(this.zv+(this.Aw-this.zv)*a)},ia:function(a){q.Y.prototype.ia.call(this,a);this.aa.xb&&(this.zv=a.rj())}});q.Sy.create=function(a,c){var d=new q.Sy;d.X(a,c);return d};
q.Az=q.Y.extend({Ef:null,we:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Ef=q.n(0,0,0);this.we=q.n(0,0,0)},X:function(a,c,d,e){return q.Y.prototype.X.call(this,a)?(this.Ef=q.n(c,d,e),!0):!1},clone:function(){var a=new q.Az,c=this.Ef;a.X(this.Ga,c.q,c.p,c.o);return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.aa.xb&&(this.we=this.aa.Dd())},update:function(a){var c=this.we,d=this.Ef;this.aa.xb&&this.aa.r(q.n(c.q+(d.q-c.q)*a,c.p+(d.p-c.p)*a,c.o+(d.o-c.o)*a))}});
q.Az.create=function(a,c,d,e){var f=new q.Az;f.X(a,c,d,e);return f};
q.Lu=q.Y.extend({fr:0,er:0,dr:0,yA:0,xA:0,wA:0,ctor:function(){q.Y.prototype.ctor.call(this);this.wA=this.xA=this.yA=this.dr=this.er=this.fr=0},X:function(a,c,d,e){return q.Y.prototype.X.call(this,a)?(this.fr=c,this.er=d,this.dr=e,!0):!1},clone:function(){var a=new q.Lu;a.X(this.Ga,this.fr,this.er,this.dr);return a},ia:function(a){q.Y.prototype.ia.call(this,a);a.xb&&(a=a.Dd(),this.yA=a.q,this.xA=a.p,this.wA=a.o)},update:function(a){this.aa.xb&&this.aa.r(q.n(this.yA+this.fr*a,this.xA+this.er*a,this.wA+
this.dr*a))},reverse:function(){return q.Lu.create(this.Ga,-this.fr,-this.er,-this.dr)}});q.Lu.create=function(a,c,d,e){var f=new q.Lu;f.X(a,c,d,e);return f};q.io=q.Y.extend({update:function(){},reverse:function(){return q.io.create(this.Ga)},clone:function(){var a=new q.io;a.X(this.Ga);return a}});q.io.create=function(a){var c=new q.io;c.X(a);return c};
q.zu=q.Y.extend({ik:null,ctor:function(){q.Y.prototype.ctor.call(this);this.ik=null},wa:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.ik)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.Y.prototype.X.call(this,a.Gf())?(this.ik=a,!0):!1},clone:function(){var a=new q.zu;a.wa(this.ik.clone());return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.ik.ia(a)},update:function(a){this.ik&&this.ik.update(1-a)},reverse:function(){return this.ik.clone()},
stop:function(){this.ik.stop();q.Vd.prototype.stop.call(this)}});q.zu.create=function(a){var c=new q.zu;c.wa(a);return c};
q.Ft=q.Y.extend({Pj:null,jp:0,bw:null,vr:0,EB:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Pj=null;this.jp=0;this.bw=null;this.vr=0;this.EB=null},GI:function(){return this.Pj},IW:function(a){this.Pj=a},lJ:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Gf();if(this.X(c*a.fk)){this.jp=0;this.IW(a);this.bw=null;this.vr=0;var d=[],e=0,f=c/a.cn;a=a.ve;q.Gt(a,q.Hj);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].te;d.push(h)}this.EB=d;return!0}return!1},
clone:function(){var a=new q.Ft;a.lJ(this.Pj.clone());return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.Pj.Qm&&(this.bw=a.zS());this.vr=this.jp=0},update:function(a){1>a&&(a*=this.Pj.fk,(0|a)>this.vr&&(this.jp=0,this.vr++),a%=1);for(var c=this.Pj.ve,d=c.length,e=this.EB,f=this.jp;f<d;f++)if(e[f]<=a)this.aa.jq(c[f].Mh()),this.jp=f+1;else break},reverse:function(){var a=this.Pj,c=a.ve,d=[];q.Gt(c,q.Hj);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.clone())}c=
q.Gj.eI(d,a.te,a.fk);c.Tx(a.Qm);return q.Ft.create(c)},stop:function(){this.Pj.Qm&&this.aa&&this.aa.jq(this.bw);q.Vd.prototype.stop.call(this)}});q.Ft.create=function(a){var c=new q.Ft;c.lJ(a);return c};
q.zz=q.Y.extend({Sf:null,Em:null,ctor:function(){q.Y.prototype.ctor.call(this);this.Em=this.Sf=null},Ug:function(a,c){return this.X(c.Gf())?(this.Em=a,this.Sf=c,!0):!1},clone:function(){var a=new q.zz;a.Ug(this.Em,this.Sf.clone());return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.Sf.ia(this.Em)},stop:function(){this.Sf.stop()},update:function(a){this.Sf.update(a)},P4:function(){return this.Em},yaa:function(a){this.Em!=a&&(this.Em=a)}});
q.zz.create=function(a,c){var d=new q.zz;d.Ug(a,c);return d};q.Ki=q.Jj.extend({Bi:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.clone()},clone:function(){return new q.Ki}});q.Du=q.Ki.extend({update:function(){this.aa.D(!0)},reverse:function(){return q.ou.create()},clone:function(){return new q.Du}});q.Du.create=function(){return new q.Du};q.ou=q.Ki.extend({update:function(){this.aa.D(!1)},reverse:function(){return q.Du.create()},clone:function(){return new q.ou}});q.ou.create=function(){return new q.ou};
q.Mu=q.Ki.extend({update:function(){this.aa.D(!this.aa.za)},reverse:function(){return new q.Mu},clone:function(){return new q.Mu}});q.Mu.create=function(){return new q.Mu};q.wu=q.Ki.extend({Ir:!0,ctor:function(){q.Jj.prototype.ctor.call(this);this.Ir=!0},update:function(){this.aa.K(this.Ir)},w:function(a){this.Ir=a;return!0},reverse:function(){return new q.wu(this.Ir)},clone:function(){return new q.wu(this.Ir)}});q.wu.create=function(a){null==a&&(a=!0);var c=new q.wu;c&&c.w(a);return c};
q.mu=q.Ki.extend({pc:!1,ctor:function(){q.Jj.prototype.ctor.call(this);this.pc=!1},nJ:function(a){this.pc=a;return!0},update:function(){this.aa.$W(this.pc)},reverse:function(){return q.mu.create(!this.pc)},clone:function(){var a=new q.mu;a.nJ(this.pc);return a}});q.mu.create=function(a){var c=new q.mu;return c.nJ(a)?c:null};
q.nu=q.Ki.extend({qc:!1,ctor:function(){q.Jj.prototype.ctor.call(this);this.qc=!1},oJ:function(a){this.qc=a;return!0},update:function(){this.aa.aX(this.qc)},reverse:function(){return q.nu.create(!this.qc)},clone:function(){var a=new q.nu;a.oJ(this.qc);return a}});q.nu.create=function(a){var c=new q.nu;return c.oJ(a)?c:null};
q.fz=q.Ki.extend({u:null,ctor:function(){q.Jj.prototype.ctor.call(this);this.u=q.a(0,0)},qJ:function(a){this.u.x=a.x;this.u.y=a.y;return!0},update:function(){this.aa.l(this.u)},clone:function(){var a=new q.fz;a.qJ(this.u);return a}});q.fz.create=function(a){var c=new q.fz;c.qJ(a);return c};
q.yq=q.Ki.extend({Ah:null,zm:null,Zk:null,br:null,ctor:function(){q.Jj.prototype.ctor.call(this);this.br=this.Zk=this.zm=this.Ah=null},Ug:function(a,c,d){this.br=d;this.zm=a;this.Ah=c;return!0},aD:function(a){this.Zk=a;return!0},execute:function(){null!=this.zm?this.zm.call(this.Ah,this.aa,this.br):this.Zk&&this.Zk.call(null,this.aa)},update:function(){this.execute()},F6:function(){return this.Ah},Cba:function(a){a!=this.Ah&&(this.Ah&&(this.Ah=null),this.Ah=a)},copy:function(){var a=new q.yq;this.Ah?
a.Ug(this.zm,this.Ah,this.br):this.Zk&&a.aD(this.Zk);return a},clone:function(){var a=new q.yq;this.Ah?a.Ug(this.zm,this.Ah,this.br):this.Zk&&a.aD(this.Zk);return a}});q.yq.create=function(a,c,d){var e=new q.yq;if(1==arguments.length){if(e&&e.aD(a))return e}else if(e&&e.Ug(a,c,d))return e.zm=a,e;return null};q.vy=q.Y.extend({Xz:0,Yz:0,Zz:0,kG:0,lG:0,mG:0,uH:0,vH:0,wH:0,ctor:function(){q.Y.prototype.ctor.call(this);this.wH=this.vH=this.uH=this.mG=this.lG=this.kG=this.Zz=this.Yz=this.Xz=0},ia:function(a){q.Y.prototype.ia.call(this,a);a=a.GC();var c=a.II();this.Xz=c.x;this.Yz=c.y;this.Zz=c.z;c=a.KI();this.kG=c.x;this.lG=c.y;this.mG=c.z;a=a.GT();this.uH=a.x;this.vH=a.y;this.wH=a.z},clone:function(){return new q.vy},reverse:function(){return q.zu.create(this)}});
q.dz=q.vy.extend({ij:0,sv:0,yo:0,kA:0,Bg:0,jA:0,jB:0,hB:0,iB:0,gB:0,ctor:function(){q.vy.prototype.ctor.call(this);this.gB=this.iB=this.hB=this.jB=this.jA=this.Bg=this.kA=this.yo=this.sv=this.ij=0},X:function(a,c,d,e,f,g,h){return q.Y.prototype.X.call(this,a)?(this.ij=c,this.sv=d,this.yo=e,this.kA=f,this.Bg=g,this.jA=h,this.hB=q.Ij(f),this.gB=q.Ij(h),!0):!1},lY:function(){var a=this.aa.GC(),c=a.KI(),d=a.II(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.ju);0===d&&(d=q.ju);return{RU:d/q.zq.Vs(),HY:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},ia:function(a){q.Y.prototype.ia.call(this,a);a=this.lY();isNaN(this.ij)&&(this.ij=a.RU);isNaN(this.yo)&&(this.yo=q.hz(a.HY));isNaN(this.Bg)&&(this.Bg=q.hz(a.azimuth));this.jB=q.Ij(this.yo);this.iB=q.Ij(this.Bg)},clone:function(){var a=new q.dz;a.X(this.Ga,this.ij,this.sv,this.yo,this.kA,this.Bg,this.jA);return a},update:function(a){var c=(this.ij+this.sv*a)*
q.zq.Vs(),d=this.jB+this.hB*a,e=this.iB+this.gB*a;a=Math.sin(d)*Math.cos(e)*c+this.Xz;e=Math.sin(d)*Math.sin(e)*c+this.Yz;c=Math.cos(d)*c+this.Zz;this.aa.GC().SK(a,e,c)}});q.dz.create=function(a,c,d,e,f,g,h){var k=new q.dz;return k.X(a,c,d,e,f,g,h)?k:null};q.vd=q.Y.extend({oa:null,ctor:function(){q.Y.prototype.ctor.call(this);this.oa=null},wa:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.X(a.Gf())?(this.oa=a,!0):!1},clone:function(){var a=new q.vd;a.wa(this.oa.clone());return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.oa.ia(this.aa)},stop:function(){this.oa.stop();q.Y.prototype.stop.call(this)},update:function(a){this.oa.update(a)},reverse:function(){return q.vd.create(this.oa.reverse())},HC:function(){return this.oa}});
q.vd.create=function(a){var c=new q.vd;c&&c.wa(a);return c};q.om=q.vd.extend({$e:0,ctor:function(){q.vd.prototype.ctor.call(this);this.$e=0},lba:function(a){this.$e=a},c6:function(){return this.$e},wa:function(a,c){return q.vd.prototype.wa.call(this,a)?(this.$e=c,!0):!1},clone:function(){var a=new q.om;a.wa(this.oa.clone(),this.$e);return a},reverse:function(){return q.om.create(this.oa.reverse(),1/this.$e)}});q.om.create=function(a,c){var d=new q.om;d&&d.wa(a,c);return d};
q.cu=q.om.extend({update:function(a){this.oa.update(Math.pow(a,this.$e))},reverse:function(){return q.cu.create(this.oa.reverse(),1/this.$e)},clone:function(){var a=new q.cu;a.wa(this.oa.clone(),this.$e);return a}});q.cu.create=function(a,c){var d=new q.cu;d&&d.wa(a,c);return d};q.eu=q.om.extend({update:function(a){this.oa.update(Math.pow(a,1/this.$e))},reverse:function(){return q.eu.create(this.oa.reverse(),1/this.$e)},clone:function(){var a=new q.eu;a.wa(this.oa.clone(),this.$e);return a}});
q.eu.create=function(a,c){var d=new q.eu;d&&d.wa(a,c);return d};q.du=q.om.extend({update:function(a){a*=2;1>a?this.oa.update(0.5*Math.pow(a,this.$e)):this.oa.update(1-0.5*Math.pow(2-a,this.$e))},clone:function(){var a=new q.du;a.wa(this.oa.clone(),this.$e);return a},reverse:function(){return q.du.create(this.oa.reverse(),this.$e)}});q.du.create=function(a,c){var d=new q.du;d&&d.wa(a,c);return d};
q.$t=q.vd.extend({update:function(a){this.oa.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.bu.create(this.oa.reverse())},clone:function(){var a=new q.$t;a.wa(this.oa.clone());return a}});q.$t.create=function(a){var c=new q.$t;c&&c.wa(a);return c};q.bu=q.vd.extend({update:function(a){this.oa.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.$t.create(this.oa.reverse())},clone:function(){var a=new q.bu;a.wa(this.oa.clone());return a}});
q.bu.create=function(a){var c=new q.bu;c&&c.wa(a);return c};q.au=q.vd.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.oa.update(a)},reverse:function(){return q.au.create(this.oa.reverse())},clone:function(){var a=new q.au;a.wa(this.oa.clone());return a}});q.au.create=function(a){var c=new q.au;c&&c.wa(a);return c};
q.fu=q.vd.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.oa.update(a)},reverse:function(){return q.hu.create(this.oa.reverse())},clone:function(){var a=new q.fu;a.wa(this.oa.clone());return a}});q.fu.create=function(a){var c=new q.fu;c&&c.wa(a);return c};q.hu=q.vd.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.oa.update(a)},reverse:function(){return q.fu.create(this.oa.reverse())},clone:function(){var a=new q.hu;a.wa(this.oa.clone());return a}});
q.hu.create=function(a){var c=new q.hu;c&&c.wa(a);return c};q.gu=q.vd.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.oa.update(a)},clone:function(){var a=new q.gu;a.wa(this.oa.clone());return a},reverse:function(){return q.gu.create(this.oa.reverse())}});q.gu.create=function(a){var c=new q.gu;c&&c.wa(a);return c};
q.jo=q.vd.extend({xe:null,ctor:function(){q.vd.prototype.ctor.call(this);this.xe=0.3},O5:function(){return this.xe},fba:function(a){this.xe=a},wa:function(a,c){q.vd.prototype.wa.call(this,a);this.xe=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},clone:function(){var a=new q.jo;a.wa(this.oa.clone(),this.xe);return a}});q.jo.create=function(a,c){var d=new q.jo;return d&&d.wa(a,c)?d:null};
q.Xt=q.jo.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.xe/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.xe));this.oa.update(c)},reverse:function(){return q.Zt.create(this.oa.reverse(),this.xe)},clone:function(){var a=new q.Xt;a.wa(this.oa.clone(),this.xe);return a}});q.Xt.create=function(a,c){var d=new q.Xt;return d&&d.wa(a,c)?d:null};
q.Zt=q.jo.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.xe/4)*Math.PI*2/this.xe)+1;this.oa.update(c)},reverse:function(){return q.Xt.create(this.oa.reverse(),this.xe)},clone:function(){var a=new q.Zt;a.wa(this.oa.clone(),this.xe);return a}});q.Zt.create=function(a,c){var d=new q.Zt;d&&d.wa(a,c);return d};
q.Yt=q.jo.extend({update:function(a){var c=0,c=this.xe;if(0===a||1==a)c=a;else{c||(c=this.xe=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.oa.update(c)},reverse:function(){return q.Yt.create(this.oa.reverse(),this.xe)},clone:function(){var a=new q.Yt;a.wa(this.oa.clone(),this.xe);return a}});q.Yt.create=function(a,c){var d=new q.Yt;d&&d.wa(a,c);return d};
q.nm=q.vd.extend({Nw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},clone:function(){var a=new q.nm;a.wa(this.oa.clone());return a},reverse:function(){return q.nm.create(this.oa.reverse())}});q.nm.create=function(a){var c=new q.nm;c&&c.wa(a);return c};
q.Ut=q.nm.extend({update:function(a){this.oa.update(1-this.Nw(1-a))},reverse:function(){return q.Wt.create(this.oa.reverse())},clone:function(){var a=new q.Ut;a.wa(this.oa.clone());return a}});q.Ut.create=function(a){var c=new q.Ut;c&&c.wa(a);return c};q.Wt=q.nm.extend({update:function(a){this.oa.update(this.Nw(a))},reverse:function(){return q.Ut.create(this.oa.reverse())},clone:function(){var a=new q.Wt;a.wa(this.oa.clone());return a}});q.Wt.create=function(a){var c=new q.Wt;c&&c.wa(a);return c};
q.Vt=q.nm.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.Nw(1-2*a)):0.5*this.Nw(2*a-1)+0.5;this.oa.update(c)},clone:function(){var a=new q.Vt;a.wa(this.oa.clone());return a},reverse:function(){return q.Vt.create(this.oa.reverse())}});q.Vt.create=function(a){var c=new q.Vt;c&&c.wa(a);return c};
q.Rt=q.vd.extend({update:function(a){this.oa.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.Tt.create(this.oa.reverse())},clone:function(){var a=new q.Rt;a.wa(this.oa.clone());return a}});q.Rt.create=function(a){var c=new q.Rt;c&&c.wa(a);return c};q.Tt=q.vd.extend({update:function(a){a-=1;this.oa.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.Rt.create(this.oa.reverse())},clone:function(){var a=new q.Tt;a.wa(this.oa.clone());return a}});
q.Tt.create=function(a){var c=new q.Tt;c&&c.wa(a);return c};q.St=q.vd.extend({update:function(a){a*=2;1>a?this.oa.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.oa.update(a*a*(3.5949095*a+2.5949095)/2+1))},clone:function(){var a=new q.St;a.wa(this.oa.clone());return a},reverse:function(){return q.St.create(this.oa.reverse())}});q.St.create=function(a){var c=new q.St;c&&c.wa(a);return c};q.Fy=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.DK=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.Sw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.Kh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.P$=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.Mi=q.Y.extend({fi:null,lA:0,Ym:0,hd:null,Iz:null,ctor:function(){q.Y.prototype.ctor.call(this);this.fi=[];this.Ym=this.lA=0;this.Iz=this.hd=null},X:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.Y.prototype.X.call(this,a)?(this.yX(c),this.Ym=d,!0):!1},clone:function(){var a=new q.Mi;a.X(this.Ga,q.Sw(this.fi),this.Ym);return a},ia:function(a){q.Y.prototype.ia.call(this,a);this.lA=1/(this.fi.length-1);a=this.aa.u;this.hd=q.a(a.x,a.y);
this.Iz=q.a(0,0)},update:function(a){var c,d=this.fi;if(1==a)c=d.length-1,a=1;else{var e=this.lA;c=0|a/e;a=(a-e*c)/e}c=q.Fy(q.Kh(d,c-1),q.Kh(d,c-0),q.Kh(d,c+1),q.Kh(d,c+2),this.Ym,a);q.Ot&&(d=this.aa.u.I-this.hd.x,a=this.aa.u.U-this.hd.y,0!=d||0!=a)&&(e=this.Iz,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.bM(c)},reverse:function(){var a=q.DK(this.fi);return q.Mi.create(this.Ga,a,this.Ym)},bM:function(a){this.aa.l(a);this.hd=a},S5:function(){return this.fi},yX:function(a){this.fi=a}});
q.Mi.create=function(a,c,d){var e=new q.Mi;return e.X(a,c,d)?e:null};
q.Aq=q.Mi.extend({jd:null,ctor:function(){q.Mi.prototype.ctor.call(this);this.jd=q.a(0,0)},ia:function(a){q.Mi.prototype.ia.call(this,a);a=a.u;this.jd.x=a.x;this.jd.y=a.y},reverse:function(){for(var a=this.fi.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.Rd(c,d),d=c;a=q.DK(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.Aq.create(this.Ga,a,this.Ym)},bM:function(a){var c=this.jd,d=a.x+c.x;a=a.y+c.y;this.aa.l(d,
a);this.hd.x=d;this.hd.y=a},clone:function(){var a=new q.Aq;a.X(this.Ga,q.Sw(this.fi),this.Ym);return a}});q.Aq.create=function(a,c,d){var e=new q.Aq;return e.X(a,c,d)?e:null};q.Hy=q.Mi.extend({X:function(a,c){return q.Mi.prototype.X.call(this,a,c,0.5)},clone:function(){var a=new q.Hy;a.X(this.Ga,q.Sw(this.fi));return a}});q.Hy.create=function(a,c){var d=new q.Hy;return d.X(a,c)?d:null};
q.Gy=q.Aq.extend({X:function(a,c){return q.Mi.prototype.X.call(this,a,c,0.5)},clone:function(){var a=new q.Gy;a.X(this.Ga,q.Sw(this.fi));return a}});q.Gy.create=function(a,c){var d=new q.Gy;return d.X(a,c)?d:null};q.TY=q.Oa.extend({FE:function(){}});
q.ho=q.Y.extend({key:"",from:0,cm:0,sC:0,ctor:function(){q.Y.prototype.ctor.call(this);this.key="";this.sC=this.cm=this.from=0},X:function(a,c,d,e){return q.Y.prototype.X.call(this,a)?(this.key=c,this.cm=e,this.from=d,!0):!1},ia:function(a){if(!a||!a.FE)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.Y.prototype.ia.call(this,a);this.sC=this.cm-this.from},update:function(a){this.aa.FE(this.cm-this.sC*(1-a),this.key)},reverse:function(){return q.ho.create(this.duration,
this.key,this.cm,this.from)},clone:function(){var a=new q.ho;a.X(this.Ga,this.key,this.from,this.cm);return a}});q.ho.create=function(a,c,d,e){var f=new q.ho;return f.X(a,c,d,e)?f:null};q.Kk=0;q.ez=1;q.wF=4;q.vN=75;
q.Wc=q.Ib.extend({Ff:null,gj:0,Cb:null,di:null,ym:null,de:!1,q5:function(){return q.a(this.di.x,this.di)},aL:function(a){this.di=q.hK(a)},W3:function(){return q.a(this.ym.x,this.ym.y)},KK:function(a){this.ym=q.hK(a)},V6:function(){return this.Ff},ex:function(){return this.gj},zT:function(){return this.Cb},ot:function(a){this.gj!=a&&(this.gj=q.Fs(a,0,100),this.UB())},Mf:function(){},El:function(){return!1},k8:function(){return this.de},Tz:function(a){if(a<q.wF){var c=q.vN;return this.de?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.Kj()},gd:null,LB:270,rA:270,ij:0,eA:!1,Qz:null,Md:0,$c:null,dg:null,EH:null,Bs:!1,ctor:null,$h:function(){q.Ib.prototype.ctor.call(this);this.Ff=q.Kk;this.gj=0;this.di=q.a(0,0);this.ym=q.a(0,0);this.de=!1;this.Cb=null;this.gd=q.Kj();this.rA=this.LB=270;this.ij=0;this.eA=!1;this.Qz=q.wd()},ai:function(){q.Ib.prototype.ctor.call(this);this.Ff=q.Kk;this.gj=0;this.di=q.a(0,0);this.ym=q.a(0,0);this.de=!1;this.Cb=null;this.EH=q.da.createBuffer();
this.Md=0;this.dg=this.$c=null;this.Bs=!1},r:function(a){this.Cb.r(a);this.Ld()},ta:function(a){this.Cb.ta(a);this.Ld()},Dd:function(){return this.Cb.Dd()},rj:function(){return this.Cb.rj()},mL:null,tQ:function(a){this.de!==a&&(this.de=a)},uQ:function(a){this.de!==a&&(this.de=a,this.dg=this.$c=null,this.Md=0)},qt:null,wQ:function(a){this.Cb!=a&&(this.Cb=a,this.O(this.Cb.c()))},xQ:function(a){a&&this.Cb!=a&&(this.Cb=a,this.O(a.c()),this.$c&&(this.dg=this.$c=null,this.Md=0))},rL:null,AQ:function(a){a!==
this.Ff&&(this.Ff=a)},BQ:function(a){a!==this.Ff&&(this.$c&&(this.dg=this.$c=null,this.Md=0),this.Ff=a)},lL:null,rQ:function(a){this.de!==a&&(this.de=a)},sQ:function(a){this.de!==a&&(this.de=a,this.dg=this.$c=null,this.Md=0)},ff:function(a){var c=this.Cb;if(!c)return{Wa:0,ua:0};var d=c.Ub,e=q.a(d.Sa.H.Wa,d.Sa.H.ua),d=q.a(d.Ua.H.Wa,d.Ua.H.ua);c.od&&(c=a.x,a.x=a.y,a.y=c);return{Wa:e.x*(1-a.x)+d.x*a.x,ua:e.y*(1-a.y)+d.y*a.y}},hf:function(a){if(!this.Cb)return{x:0,y:0};var c=this.Cb.Ub,d=q.a(c.Sa.B.x,
c.Sa.B.y),c=q.a(c.Ua.B.x,c.Ua.B.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},dD:null,bP:function(a){this.ot(0);this.A(0.5,0.5);this.Ff=q.Kk;this.de=!1;this.aL(q.a(0.5,0.5));this.KK(q.a(1,1));this.qt(a);return!0},cP:function(a){this.ot(0);this.dg=this.$c=null;this.Md=0;this.A(0.5,0.5);this.Ff=q.Kk;this.de=!1;this.aL(q.a(0.5,0.5));this.KK(q.a(1,1));this.qt(a);this.gh(q.Zh.g().Hi(q.lz));return!0},Za:null,Vj:function(a){a=a||q.da;var c=this.Cb;c.Hm&&(a.globalCompositeOperation="lighter");var d=
q.ra.g().va,e=q.ra.g().Da;a.globalAlpha=c.hc/255;var f=c.Aa,g=c.Ca,h=c.uc,k=c.To,l=0|h.x,m=-h.y-f.height,p=c.an;k.width=f.width*d;k.height=f.height*e;a.save();c.pc&&(l=-h.x-f.width,a.scale(-1,1));c.qc&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Ff==q.ez?(f=this.Qz,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Ff==q.Kk&&(f=this.gd.x*d,h=this.gd.y*e,a.beginPath(),a.arc(f,h,this.ij*e,Math.PI/180*this.LB,Math.PI/180*this.rA,this.eA),a.lineTo(f,h),a.clip(),a.closePath());
c.Ha&&p.fm?(d=c.Ha.Ec,this.Yq?a.drawImage(d,0,0,p.width,p.height,l,m,k.width,k.height):a.drawImage(d,p.x,p.y,p.width,p.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Dd(),a.fillStyle="rgba("+k.q+","+k.p+","+k.o+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.Wh()},Fg:function(a){a=a||q.da;if(this.$c&&this.Cb){q.bz(this);var c=this.Cb.qa;q.wk(c.src,c.Qb);q.Je(q.Qu);this.Cb.ja()?q.Rg(this.Cb.ja()):q.Rg(null);a.bindBuffer(a.ARRAY_BUFFER,this.EH);this.Bs&&(a.bufferData(a.ARRAY_BUFFER,this.dg,
a.DYNAMIC_DRAW),this.Bs=!1);c=q.gc.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.We,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.Mq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.Nq,2,a.FLOAT,!1,c,12);this.Ff===q.Kk?a.drawArrays(a.TRIANGLE_FAN,0,this.Md):this.Ff==q.ez&&(this.de?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Md/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Md/2),q.Jh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Md));q.Jh++}},cR:function(){if(this.Cb){var a,c=this.di;a=this.gj/100;var d=2*q.PI*(this.de?a:
1-a),e=q.a(c.x,1),f=q.jV(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.LM,h=q.wF;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Tz(a%h),k=this.Tz(k);0==a?k=q.jK(l,k,1-c.x):4==a&&(l=q.jK(l,k,1-c.x));var m=q.a(0,0);q.xD(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.bh(c,q.yj(q.Rd(f,c),g))}g=!0;this.Md!=d+3&&(g=!1,this.dg=this.$c=null,this.Md=0);if(!this.$c){h=this.Md=d+3;l=q.gc.BYTES_PER_ELEMENT;this.dg=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.gc(null,
null,null,this.dg,a*l);this.$c=k;if(!this.$c){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Ld();h=this.$c;if(!g)for(h[0].H=this.ff(c),h[0].B=this.hf(c),h[1].H=this.ff(e),h[1].B=this.hf(e),a=0;a<d;a++)c=this.Tz(a),h[a+2].H=this.ff(c),h[a+2].B=this.hf(c);h[this.Md-1].H=this.ff(f);h[this.Md-1].B=this.hf(f)}},SQ:function(){if(this.Cb){var a,c=this.gj/100,d=this.ym,d=q.yj(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.Rd(this.di,d),d=q.bh(this.di,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.de){if(!this.$c){this.Md=8;var e=q.gc.BYTES_PER_ELEMENT;this.dg=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.gc(null,null,null,this.dg,a*e);f[0].H=this.ff(q.a(0,1));f[0].B=this.hf(q.a(0,1));f[1].H=this.ff(q.a(0,0));f[1].B=this.hf(q.a(0,0));f[6].H=this.ff(q.a(1,1));f[6].B=this.hf(q.a(1,1));f[7].H=this.ff(q.a(1,0));f[7].B=this.hf(q.a(1,0));this.$c=f}a=this.$c;a[2].H=this.ff(q.a(c.x,d.y));a[2].B=this.hf(q.a(c.x,
d.y));a[3].H=this.ff(q.a(c.x,c.y));a[3].B=this.hf(q.a(c.x,c.y));a[4].H=this.ff(q.a(d.x,d.y));a[4].B=this.hf(q.a(d.x,d.y));a[5].H=this.ff(q.a(d.x,c.y));a[5].B=this.hf(q.a(d.x,c.y))}else{if(!this.$c)for(this.Md=4,e=q.gc.BYTES_PER_ELEMENT,this.dg=new ArrayBuffer(4*e),this.$c=[],a=0;4>a;a++)this.$c[a]=new q.gc(null,null,null,this.dg,a*e);a=this.$c;a[0].H=this.ff(q.a(c.x,d.y));a[0].B=this.hf(q.a(c.x,d.y));a[1].H=this.ff(q.a(c.x,c.y));a[1].B=this.hf(q.a(c.x,c.y));a[2].H=this.ff(q.a(d.x,d.y));a[2].B=this.hf(q.a(d.x,
d.y));a[3].H=this.ff(q.a(d.x,c.y));a[3].B=this.hf(q.a(d.x,c.y))}this.Ld()}},Ld:function(){if(this.Cb&&this.$c){for(var a=this.Cb.Ub.ab.W,c=this.$c,d=0,e=this.Md;d<e;++d)c[d].W=a;this.Bs=!0}},UB:null,ZQ:function(){var a=this.Cb,c=a.c(),d=this.di;if(this.Ff==q.Kk){this.ij=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.gd;g.x=c.width*d.x;g.y=-c.height*d.y;this.de?(e=270,d=270-3.6*this.gj):(d=-90,e=-90+3.6*this.gj);a.pc&&(g.x-=2*c.width*this.di.x,d=-d-180,e=-e-180,f=!f);a.qc&&
(g.y+=2*c.height*this.di.y,f=!f,d=-d,e=-e);this.LB=d;this.rA=e;this.eA=f}else{e=this.ym;g=this.gj/100;f=this.Qz;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.pc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.qc&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},$Q:function(){var a=this.Ff;a===q.Kk?this.cR():a===q.ez&&this.SQ();this.Bs=!0}});
q.Ja.ed?(b=q.Wc.prototype,b.ctor=q.Wc.prototype.ai,b.mL=q.Wc.prototype.uQ,b.qt=q.Wc.prototype.xQ,b.rL=q.Wc.prototype.BQ,b.lL=q.Wc.prototype.sQ,b.dD=q.Wc.prototype.cP,b.Za=q.Wc.prototype.Fg,b.UB=q.Wc.prototype.$Q):(b=q.Wc.prototype,b.ctor=q.Wc.prototype.$h,b.mL=q.Wc.prototype.tQ,b.qt=q.Wc.prototype.wQ,b.rL=q.Wc.prototype.AQ,b.lL=q.Wc.prototype.rQ,b.dD=q.Wc.prototype.bP,b.Za=q.Wc.prototype.Vj,b.UB=q.Wc.prototype.ZQ);q.Wc.create=function(a){var c=new q.Wc;return c.dD(a)?c:null};q.gz=q.Y.extend({Ef:0,we:0,ctor:function(){q.Y.prototype.ctor.call(this);this.we=this.Ef=0},X:function(a,c){return q.Y.prototype.X.call(this,a)?(this.Ef=c,!0):!1},clone:function(){var a=new q.gz;a.X(this.Ga,this.Ef);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},ia:function(a){q.Y.prototype.ia.call(this,a);this.we=a.ex();100==this.we&&(this.we=0)},update:function(a){this.aa instanceof q.Wc&&this.aa.ot(this.we+(this.Ef-this.we)*a)}});
q.gz.create=function(a,c){var d=new q.gz;d.X(a,c);return d};q.uu=q.Y.extend({Ef:0,we:0,ctor:function(){q.Y.prototype.ctor.call(this);this.we=this.Ef=0},X:function(a,c,d){return q.Y.prototype.X.call(this,a)?(this.Ef=d,this.we=c,!0):!1},clone:function(){var a=new q.uu;a.X(this.Ga,this.we,this.Ef);return a},reverse:function(){return q.uu.create(this.Ga,this.Ef,this.we)},ia:function(a){q.Y.prototype.ia.call(this,a)},update:function(a){this.aa instanceof q.Wc&&this.aa.ot(this.we+(this.Ef-this.we)*a)}});
q.uu.create=function(a,c,d){var e=new q.uu;e.X(a,c,d);return e};q.Dy=9;q.rM=1;q.uM=2;q.vM=4;q.sM=8;q.tM=16;q.Kt=32;q.wM=64;q.qM=128;q.Li=256;q.wg=1;q.Mt=2;q.Lt=4;q.kZ=8;q.jZ=8;
q.fc=q.Xh.extend({CG:!1,c1:!1,El:function(){return this.CG},Mf:function(a){this.CG=a;for(var c=this.C,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.xb&&f.Mf(a)}},kj:q.wg,C6:function(){return this.kj},sr:!1,pp:!1,ak:!1,tv:null,Lf:function(a){this.kj=(this.sr=a)?q.wg:q.Lt;this.sd()},isEnabled:function(){return this.sr},oq:function(a){this.pp=a;this.sd()},n8:function(){return this.pp},Vl:function(a){this.ak=a;this.sd()},W7:function(){return this.ak},XT:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.za)return!1;
return!0},ctor:function(){q.Xh.prototype.ctor.call(this);this.tv={};this.Dc=q.Eb()},w:function(){return q.Xh.prototype.w.call(this)?(this.kj=q.wg,this.sr=!0,this.ak=this.pp=!1,this.qq(1),!0):!1},Hx:function(){q.GD(this.rl,!0,this)},rf:function(a){for(var c=0,d=q.Dy;c<d;c++)if(a&1<<c)for(var e=this.qA(1<<c),f=0,g=e.length;f<g;f++)e[f].qU(this)},SH:function(a,c,d){for(var e=0,f=q.Dy;e<f;e++)d&1<<e&&this.av(a,c,1<<e)},I$:function(a,c,d){for(var e=0,f=q.Dy;e<f;e++)d&1<<e&&this.TP(a,c,1<<e)},sj:function(a){return this.Ka(a.S)},
Ci:function(a){a=a.S;a=this.getParent().Ka(a);return q.wb(this.pb(),a)},e1:function(){return null},qA:function(a){a=a.toString();this.tv.hasOwnProperty(a)||(this.tv[a]=[]);return this.tv[a]},av:function(a,c,d){a=new q.UM(a,c,d);this.qA(d).push(a)},TP:function(a,c,d){d=this.qA(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.aa);c&&(g=g&&c==f.Sf);g?q.le(d,f):e++}else d.length=0},sd:function(){}});q.fc.create=function(){var a=new q.fc;return a&&a.w()?a:null};q.UE=3435855873;
q.Vh=q.fc.extend({jr:!1,Cs:!1,Hg:null,Kr:null,ar:null,qv:null,bn:null,qe:null,fj:0,cp:!1,xw:null,qs:null,yw:null,xm:null,PG:!1,Sv:0,Rv:0,ctor:function(){q.fc.prototype.ctor.call(this);this.Hg=new q.Mk(0,0);this.Kr=new q.mh(0,0);this.ar="";this.qv=q.Eb();this.xw={};this.qs={};this.yw={};this.xm={}},w:function(){return this.lx(q.R.create("","Arial",12),q.Xd.create())},sd:function(){if(this.PG){this.bn&&this.bn.D(!1);this.qe&&this.qe.D(!1);this.fX(this.Kr);var a=this.kj;this.ar=this.SC(a);this.qv=this.FT(a);
var c=this.bn=this.Ss(a);c&&c.na&&c.na(this.ar);c&&c.xb&&c.r(this.qv);var d=this.c();c&&c.l(d.width/2,d.height/2);(a=this.qe=this.US(a))&&a.l(d.width/2,d.height/2);d=c?c.pb().Ya:q.size(0,0);if(this.jr)a&&a.O(d.width+2*this.Rv,d.height+2*this.Sv);else if(a){var e=a.Hg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.O(e)}d=c?c.pb():q.rect(0,0,0,0);e=a?a.pb():q.rect(0,0,0,0);d=q.Gx(d,e);this.O(d.width,d.height);d=this.c();c&&(c.l(d.width/2,d.height/2),c.D(!0));
a&&(a.l(d.width/2,d.height/2),a.D(!0))}},lx:function(a,c){if(!a||!a.xb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.fc.prototype.w.call(this,!0)?(this.PG=!0,this.xw={},this.qs={},this.yw={},this.xm={},this.nc(!0),this.cp=!1,this.Cs=!0,this.ar=null,this.GW(!0),this.Ji(q.size(0,0)),this.Cs=!0,this.tj(!1),this.A(0.5,0.5),this.bn=a,this.qe=c,this.ta(255),
this.Mf(!0),this.QX(a.QC(),q.wg),this.PX(a.Dd(),q.wg),this.iE(a,q.wg),this.Sl(c,q.wg),this.kj=q.wg,this.Rv=24,this.Sv=12,this.Kr=new q.mh(0.5,0.5),this.Ji(q.qm()),this.sd(),!0):!1},hU:function(a,c,d){a=q.R.create(a,c,d);return this.lx(a,q.Xd.create())},ix:function(a){var c=q.R.create("","Arial",30);return this.lx(c,a)},c3:function(){return this.jr},GW:function(a){this.jr=a;this.sd()},l7:function(){return this.Cs},oE:function(a){return this.Cs=a},lT:function(){return this.Hg},Ji:function(a){if(0===
a.width&&0===a.height)this.jr=!0;else{this.jr=!1;var c=this.xm,d;for(d in c)c[d].Ji(a)}this.Hg=a;this.sd()},f5:function(){return this.Kr},fX:function(a){this.Kr=a;this.bn&&this.bn.A(a)},W0:function(){return this.ar},X0:function(){return this.qv},rj:function(){return this.fj},ta:function(a){q.fc.prototype.ta.call(this,a);var c=this.xm,d;for(d in c)c[d].ta(a)},r:function(a){q.fc.prototype.r.call(this,a);var c=this.xm,d;for(d in c)c[d].r(a)},Dd:function(){return this.ze},j8:function(){return this.cp},
a1:function(){return this.Sv},Z0:function(){return this.Rv},Paa:function(a,c){this.Sv=c;this.Rv=a;this.sd()},Lf:function(a){q.fc.prototype.Lf.call(this,a);this.sd()},oq:function(a){q.fc.prototype.oq.call(this,a);this.sd()},Vl:function(a){this.kj=a?q.Mt:q.wg;q.fc.prototype.Vl.call(this,a);(a=this.FC(q.UE))&&this.mY(a);this.sd();this.Cs&&(a=q.so.create(0.05,this.ak&&this.isEnabled()&&!this.pp?1.1:1),a.qL(q.UE),this.Kx(a))},vb:function(a){if(!(this.Ci(a)&&this.isEnabled()&&this.za&&this.XT()))return!1;
this.cp=!0;this.Vl(!0);this.rf(q.rM);return!0},Qd:function(a){this.sr&&this.cp&&!this.pp?(a=this.Ci(a))&&!this.ak?(this.Vl(!0),this.rf(q.sM)):a&&this.ak?this.rf(q.uM):!a&&this.ak?(this.Vl(!1),this.rf(q.tM)):a||this.ak||this.rf(q.vM):this.ak&&this.Vl(!1)},ah:function(a){this.cp=!1;this.Vl(!1);this.Ci(a)?this.rf(q.Kt):this.rf(q.wM)},Ak:function(){this.cp=!1;this.Vl(!1);this.rf(q.qM)},SC:function(a){var c=this.xw;return c?c[a]?c[a]:c[q.wg]:""},QX:function(a,c){this.xw[c]=a||"";this.kj==c&&this.sd()},
FT:function(a){return(a=this.qs[a])?a:(a=this.qs[q.wg])?a:q.Eb()},PX:function(a,c){this.qs[c]=a;this.kj==c&&this.sd()},Ss:function(a){var c=this.yw;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.wg]},iE:function(a,c){var d=this.yw;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.A(0.5,0.5);this.f(a,1);this.kj==c&&this.sd()},Iba:function(a,c){var d=this.SC(c);d||(d="");this.iE(q.R.create(d,a,12),c)},M6:function(a){a=this.Ss(a);return null!=a&&a instanceof q.R?a.xf:""},Jba:function(a,
c){var d=this.Ss(c);null!=d&&d instanceof q.R&&d.Ox(a)},N6:function(a){a=this.Ss(a);return null!=a&&a instanceof q.R?a.$d:0},Hba:function(a,c){var d=this.SC(c);d||(d="");this.iE(q.Zy.create(d,a),c)},L6:function(a){a=this.Ss(a);return null!=a&&a instanceof q.Zy?a.M4():""},US:function(a){var c=this.xm;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.wg]},Sl:function(a,c){var d=this.xm;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.A(0.5,0.5);this.f(a);d=this.Hg;0===d.width&&
0===d.height||a.Ji(d);this.kj===c&&this.sd()},eaa:function(a,c){var d=q.Xd.fI(a);this.Sl(d,c)}});q.Vh.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Vh)&&d.w()?d:null;1==arguments.length?(d=new q.Vh,d.ix(arguments[0])):2==arguments.length?(d=new q.Vh,d.lx(a,c)):3==arguments.length&&(d=new q.Vh,d.hU(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.q=a;this.p=c;this.o=d;this.Q=e};q.Uy=function(a,c,d){this.h=a;this.s=c;this.ua=d};q.oe={};q.oe.pn=function(a,c,d,e){a=q.v.gI(a);if(!a)return null;a.l(d);a.A(e);c.f(a);return a};q.oe.QM=function(a){var c=new q.Uy,d,e;d=a.q<a.p?a.q:a.p;d=d<a.o?d:a.o;e=a.q>a.p?a.q:a.p;e=e>a.o?e:a.o;c.ua=e;d=e-d;if(0<e)c.s=d/e;else return c.s=0,c.h=-1,c;c.h=a.q>=e?(a.p-a.o)/d:a.p>=e?2+(a.o-a.q)/d:4+(a.q-a.p)/d;c.h*=60;0>c.h&&(c.h+=360);return c};
q.oe.jz=function(a){var c,d,e,f,g=new q.RGBA;g.Q=1;if(0>=a.s){if(!a.h)return g.q=a.ua,g.p=a.ua,g.o=a.ua,g;g.q=0;g.p=0;g.o=0;return g}c=a.h;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ua*(1-a.s);d=a.ua*(1-a.s*e);e=a.ua*(1-a.s*(1-e));switch(f){case 0:g.q=a.ua;g.p=e;g.o=c;break;case 1:g.q=d;g.p=a.ua;g.o=c;break;case 2:g.q=c;g.p=a.ua;g.o=e;break;case 3:g.q=c;g.p=d;g.o=a.ua;break;case 4:g.q=e;g.p=c;g.o=a.ua;break;default:g.q=a.ua,g.p=c,g.o=d}return g};q.oe.PE=function(a,c){return q.Gx(a,c)};q.UM=q.Oa.extend({Sf:null,aa:null,pv:null,ctor:function(a,c,d){this.aa=a;this.Sf=c;this.pv=d},O3:function(){return this.Sf},DT:function(){return this.aa},s4:function(){return this.pv},qU:function(a){if(this.aa&&this.Sf)if("string"==typeof this.Sf)this.aa[this.Sf](a,this.pv);else this.Sf.call(this.aa,a,this.pv)}});q.qF=0;q.tF=1;q.rF=2;q.sF=3;q.oF=4;q.vF=5;q.uF=6;q.uN=7;q.pF=8;
q.Xd=q.Ib.extend({xb:!0,sp:null,eG:null,jl:!1,Cf:null,oi:null,ni:null,Ch:null,cj:null,Rj:null,ii:null,Si:null,Ri:null,Ti:null,Tj:null,Fc:!1,zd:null,Hg:null,fj:0,Dc:null,Io:null,Ev:0,Gv:0,Fv:0,Dv:0,iH:!1,GB:!1,zb:!1,be:null,SL:function(){return this.zb},eg:function(a,c){this.be.push({eventCallback:a,wi:c})},re:function(){this.zb=!0;for(var a=this.be,c=0,d=a.length;c<d;c++){var e=a[c];e.eventCallback.call(e.wi,this)}a.length=0},Dw:function(){var a;a=this.Ev;var c=this.Gv,d=this.Fv,e=this.sp,f=this.Dv;
a=0===a&&0===c&&0===d&&0===f?q.wd():this.GB?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.MW(a)},YQ:function(){if(this.oi&&this.Ch&&this.Ti&&this.Si&&this.Rj){var a=this.Ca,c=this.oi,d=this.Ch,e=this.Ti,f=this.Si,g=this.Rj,h=this.Rj.c(),k=c.c(),l=f.c(),m=a.Ia-k.width-d.c().width,a=a.ya-k.height-e.c().height,m=m/h.width,a=a/h.height,k=h.width*m,p=h.height*a,s=l.width,l=l.height;if(!q.Ja.ed){var u=Math.round(k);k!=u&&(k=u,m=k/h.width);u=Math.round(p);p!=u&&(p=u,a=p/
h.height)}g.nq(m);g.Vn(a);var h=this.cj,u=this.ii,w=this.ni,x=this.Ri,F=q.a(0,0);f.A(F);e.A(F);c.A(F);d.A(F);h.A(F);u.A(F);w.A(F);x.A(F);g.A(F);f.l(0,0);e.l(s+k,0);c.l(0,l+p);d.l(s+k,l+p);h.l(0,l);h.Vn(a);u.l(s+k,l);u.Vn(a);x.l(s,0);x.nq(m);w.l(s,l+p);w.nq(m);g.l(s,l)}},ctor:function(){q.Ib.prototype.ctor.call(this);this.sp=q.wd();this.eG=q.wd();this.Tj=q.Eb();this.zd=new q.Mk(0,0);this.Hg=new q.Mk(0,0);this.Dc=q.Eb();this.fj=255;this.Io=q.wd();this.be=[]},jT:function(){return this.zd},lT:function(){return this.Hg},
Ji:function(a){this.O(a);this.Hg=a},rj:function(){return this.fj},ta:function(a){if(this.Cf){this.fj=a;for(var c=this.Cf.C,d=0;d<c.length;d++){var e=c[d];e&&e.xb&&e.ta(a)}}},Dd:function(){return this.Dc},r:function(a){if(this.Cf){this.Dc=a;for(var c=this.Cf.C,d=0;d<c.length;d++){var e=c[d];e&&e.xb&&e.r(a)}}},f4:function(){return this.Io},MW:function(a){if(this.Cf){var c=this.Ca,d=c.Ia,c=c.ya;this.uq(this.Cf,this.sp,this.GB,a);this.O(d,c)}},b5:function(){return this.Ev},Gaa:function(a){this.Ev=a;this.Dw()},
d5:function(){return this.Gv},Iaa:function(a){this.Gv=a;this.Dw()},c5:function(){return this.Fv},Haa:function(a){this.Fv=a;this.Dw()},a5:function(){return this.Dv},Faa:function(a){this.Dv=a;this.Dw()},O:function(a,c){2===arguments.length?q.G.prototype.O.call(this,a,c):q.G.prototype.O.call(this,a);this.jl=!0},Ba:function(a){this.jl&&(this.YQ(),this.jl=!1);q.Ib.prototype.Ba.call(this,a)},w:function(){return this.jx(null,q.wd(),!1,q.wd())},jx:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.uq(a,
c,d,e);this.A(0.5,0.5);return this.jl=!0},uj:function(a,c,d){a instanceof q.zg?(d=a=c,c=q.wd()):(c=c||q.wd(),d=d||q.wd());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.ga.g().iy(a);if(!e){var e=q.ga.g().la(a),f=e.Vg();(this.zb=f)||e.eg(function(a){var c=this.Hg,c=q.size(c.width,c.height);a=a.c();this.uq(this.Cf,q.rect(0,0,a.width,a.height),!1,this.Io);this.Ji(c);this.jl=!0;this.re()},this)}a=q.Fb.create(a,9);return this.jx(a,c,!1,d)},Me:function(a,c){if(!a||!a.ja())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.wd();var d=a.zb;(this.zb=d)||a.eg(function(a){var c=this.Hg,c=q.size(c.width,c.height);this.uq(this.Cf,a.qd(),q.Ja.ed?a.Ad:!1,this.Io);this.Ji(c);this.jl=!0;this.re()},this);d=q.Fb.La(a.ja(),9);return this.jx(d,a.qd(),q.Ja.ed?a.Ad:!1,c)},rJ:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.wd();var d=q.Ag.g().Mh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),
!1):this.Me(d,c)},L$:function(a){var c=new q.Xd;return c&&c.jx(this.Cf,this.sp,!1,a)?c:null},Mf:function(a){if(this.Cf){this.Fc=a;var c=this.Cf.C;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Mf(a)}},El:function(){return this.Fc},uq:function(a,c,d,e){var f=this.rj(),g=this.Dd();c=q.rect(c.x,c.y,c.width,c.height);this.$b(!0);this.Cf!=a&&(this.Cf=a);a=a.ja();var h=a.Vg();if(this.zb=h){a=this.Cf;a.$b(!0);h=this.Io;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.GB=d;h=a.ja();q.Wr(c)&&(c=h.c(),c=q.rect(0,
0,c.width,c.height));var k=this.sp=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Ya;this.zd.width=l.width;this.zd.height=l.height;k=this.Hg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.eG;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.Wr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var p=k.x,s=k.width,u=m-(p+s),w=k.y,x=k.height,F=e-(w+x),J=0,E=0;e=q.rect(J,E,p,w);var J=J+p,k=q.rect(J,E,s,w),m=q.rect(J+s,E,u,w),J=0,E=0+w,l=
q.rect(J,E,p,x),J=J+p,fa=q.rect(J,E,s,x),J=J+s,ga=q.rect(J,E,u,x),J=0,E=0+w+x,w=q.rect(J,E,p,F),J=J+p,p=q.rect(J,E,s,F),J=J+s,s=q.rect(J,E,u,F),u={Q:1,o:0,Ma:0,d:1,jb:0,kb:0};if(d){d=fa;var F=s,J=w,E=m,x=e,ta=ga,ha=l,ua=p,va=k,u=q.wy(u,c.height+c.x,c.y),u=q.pM(u),fa=q.Qf(fa,u),s=q.Qf(s,u),w=q.Qf(w,u),m=q.Qf(m,u);e=q.Qf(e,u);ga=q.Qf(ga,u);l=q.Qf(l,u);p=q.Qf(p,u);k=q.Qf(k,u);d.x=fa.x;d.y=fa.y;F.x=s.x;F.y=s.y;J.x=w.x;J.y=w.y;E.x=m.x;E.y=m.y;x.x=e.x;x.y=e.y;ta.x=ga.x;ta.y=ga.y;ha.x=l.x;ha.y=l.y;ua.x=
p.x;ua.y=p.y;va.x=k.x;va.y=k.y;this.Rj=new q.v;this.Rj.Ta(h,d,!0);a.f(this.Rj,0,q.qF);this.ni=new q.v;this.ni.Ta(h,va,!0);a.f(this.ni,1,q.tF);this.Ri=new q.v;this.Ri.Ta(h,ua,!0);a.f(this.Ri,1,q.oF);this.cj=new q.v;this.cj.Ta(h,ha,!0);a.f(this.cj,1,q.rF);this.ii=new q.v;this.ii.Ta(h,ta,!0);a.f(this.ii,1,q.sF);this.oi=new q.v;this.oi.Ta(h,x,!0);a.f(this.oi,2,q.uF);this.Ch=new q.v;this.Ch.Ta(h,E,!0);a.f(this.Ch,2,q.vF);this.Si=new q.v;this.Si.Ta(h,J,!0);a.f(this.Si,2,q.pF);this.Ti=new q.v;this.Ti.Ta(h,
F,!0)}else u=q.wy(u,c.x,c.y),q.Oi(fa,u),q.Oi(s,u),q.Oi(w,u),q.Oi(m,u),q.Oi(e,u),q.Oi(ga,u),q.Oi(l,u),q.Oi(p,u),q.Oi(k,u),this.Rj=new q.v,this.Rj.Ta(h,fa),a.f(this.Rj,0,q.qF),this.ni=new q.v,this.ni.Ta(h,k),a.f(this.ni,1,q.tF),this.Ri=new q.v,this.Ri.Ta(h,p),a.f(this.Ri,1,q.oF),this.cj=new q.v,this.cj.Ta(h,l),a.f(this.cj,1,q.rF),this.ii=new q.v,this.ii.Ta(h,ga),a.f(this.ii,1,q.sF),this.oi=new q.v,this.oi.Ta(h,e),a.f(this.oi,2,q.uF),this.Ch=new q.v,this.Ch.Ta(h,m),a.f(this.Ch,2,q.vF),this.Si=new q.v,
this.Si.Ta(h,w),a.f(this.Si,2,q.pF),this.Ti=new q.v,this.Ti.Ta(h,s);a.f(this.Ti,2,q.uN);this.O(c.Ya);this.f(a);this.iH&&(this.ta(f),255===g.q&&255===g.p&&255===g.o||this.r(g));return this.iH=!0}a.eg(function(){this.jl=!0;this.re()},this)},Nf:function(a){var c=q.Fb.La(a.ja(),9),d=a.zb;(this.zb=d)||a.eg(function(a){var c=this.Hg,c=q.size(c.width,c.height);this.uq(this.Cf,a.qd(),q.Ja.ed?a.Ad:!1,this.Io);this.Ji(c);this.jl=!0;this.re()},this);this.uq(c,a.qd(),q.Ja.ed?a.Ad:!1,q.wd());this.Dv=this.Fv=this.Gv=
this.Ev=0}});q.Xd.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.Xd)&&e.uj(a,c))return e}else{if(a instanceof q.zg&&(e=new q.Xd)&&e.uj(a,d))return e}else if(3===arguments.length){if((e=new q.Xd)&&e.uj(a,c,d))return e}else if(1===arguments.length){if((e=new q.Xd)&&e.uj(a))return e}else if(0===arguments.length&&(e=new q.Xd)&&e.w())return e;return null};q.Xd.fI=function(a,c){var d=new q.Xd;return d&&d.Me(a,c)?d:null};
q.Xd.gI=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.Xd;return d&&d.rJ(a,c)?d:null};q.Fu=q.Vc.extend({});q.Fu.gda=function(a){var c=new q.Fu;c.w();c.O(0,a);return c};q.Fu.s7=function(a){var c=new q.Fu;c.w();c.O(a,0);return c};
q.ru=q.Vc.extend({xb:!0,Dc:null,fj:0,ctor:function(){},Dd:function(){return this.Dc},r:function(a){this.Dc=a;if(this.C&&0<this.C.length)for(var c=0;c<this.C.length;c++)this.C[c]&&this.C[c].xb&&this.C[c].r(a)},rj:function(){return this.fj},ta:function(a){this.fj=a;if(this.C&&0<this.C.length)for(var c=0;c<this.C.length;c++)this.C[c]&&this.C[c].xb&&this.C[c].ta(a)},bU:function(a,c){if(this.w()){var d=q.fa.g().dc;this.tj(!0);this.A(0.5,0.5);this.O(d);this.l(d.width/2,d.height/2);d=0;if(a){this.f(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.f(c[e],d))}return!0}return!1},T1:function(){this.uR(q.BM)},uR:function(a){var c=-a,d;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(c+=this.C[d].c().height*this.C[d].Da+a);var e=0,f=c/2;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(e=Math.max(e,this.C[d].c().width),this.C[d].l(0,f-this.C[d].c().height*this.C[d].Da/2),f-=this.C[d].c().height*this.C[d].Da+a);this.O(e,c)},Q1:function(){this.tR(q.BM)},tR:function(a){var c=
-a,d;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(c+=this.C[d].c().width*this.C[d].va+a);var e=0,f=-c/2;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(e=Math.max(e,this.C[d].c().height),this.C[d].l(f+this.C[d].c().width*this.C[d].va/2,0),f+=this.C[d].c().width*this.C[d].va+a);this.O(c,e)},R1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.C[d].c().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.fa.g().dc,p=k=g=f=0,s=0,e=e/2;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(0==k&&(k=c[f],s=p=m.width/(1+k)),l=this.C[d].c().height,g=0|(g>=l||null==l?g:l),this.C[d].l(s-m.width/2,e-this.C[d].c().height/2),s+=p,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},S1:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,p,s;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(p=c[k])?(s=this.C[d].c().width,l=0|(l>=s||null==s?l:s),h+=0|this.C[d].c().height+5,++m,m>=p&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.fa.g().dc;l=k=0;p=null;var g=-g/2,u=0;if(this.C&&0<this.C.length)for(d=0;d<this.C.length;d++)this.C[d]&&(null==p&&(p=c[k],u=f[k]),s=this.C[d].c().width,l=0|(l>=s||null==s?l:s),this.C[d].l(g+e[k]/2,u-h.height/2),u-=this.C[d].c().height+10,++m,m>=p&&(g+=l+5,l=p=m=0,++k))},Mf:function(){},El:function(){return!1}});q.ru.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.ru)&&d.bU(a,c)?d:null};
q.ru.P2=function(a){return q.ru.create(a,null)};q.Jy=q.fc.extend({qB:0,gv:0,Yc:null,BP:null,gH:null,Bh:null,Lc:null,Dg:0,Qj:0,l6:function(){return this.qB},b4:function(){return this.gv},HI:function(){return this.Yc},N5:function(){return this.gv},s6:function(){return this.gH},yT:function(){return this.Bh},AT:function(){return this.Lc},fD:function(a,c){return q.fc.prototype.w.call(this)?(this.nc(!0),this.Yc=q.oe.pn("colourPickerBackground.png",a,c,q.a(0,0)),this.BP=q.oe.pn("colourPickerOverlay.png",a,c,q.a(0,0)),this.gH=q.oe.pn("colourPickerShadow.png",
a,c,q.a(0,0)),this.Bh=q.oe.pn("colourPicker.png",a,c,q.a(0.5,0.5)),this.Lc=c,this.Dg=35,this.Qj=this.Yc.c().width/2,!0):!1},Lf:function(a){q.fc.prototype.Lf.call(this,a);this.Bh&&this.Bh.ta(a?255:128)},gM:function(a){var c=new q.Uy;c.s=1;c.h=a.h;c.ua=1;a=q.oe.jz(c);this.Yc.r(q.mC(0|255*a.q,0|255*a.p,0|255*a.o))},yY:function(a){a=q.a(this.Lc.x+this.Dg+this.Qj*(1-a.s),this.Lc.y+this.Dg+this.Qj*a.ua);this.Gw(a)},Gw:function(a){var c=this.Lc.x+0.5*this.Yc.pb().width,d=this.Lc.y+0.5*this.Yc.pb().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.Yc.pb().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Bh.l(a);a.x<this.Lc.x+this.Dg?a.x=this.Lc.x+this.Dg:a.x>this.Lc.x+this.Dg+this.Qj-1&&(a.x=this.Lc.x+this.Dg+this.Qj-1);a.y<this.Lc.y+this.Dg?a.y=this.Lc.y+this.Dg:a.y>this.Lc.y+this.Dg+this.Qj&&(a.y=this.Lc.y+this.Dg+this.Qj);this.qB=1-Math.abs((this.Lc.x+this.Dg-a.x)/this.Qj);this.gv=Math.abs((this.Lc.y+this.Dg-a.y)/this.Qj)},Wq:function(a){var c=this.Lc.x+0.5*this.Yc.pb().width,
d=this.Lc.y+0.5*this.Yc.pb().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.Yc.pb().width?(this.Gw(a),this.rf(q.Li),!0):!1},vb:function(a){if(!this.isEnabled()||!this.za)return!1;a=this.sj(a);return this.Wq(a)},Qd:function(a){a=this.sj(a);this.Wq(a)}});q.Jy.create=function(a,c){var d=new q.Jy;d.fD(a,c);return d};q.Iy=q.fc.extend({$o:0,Dr:0,Yc:null,Bh:null,Lc:null,V4:function(){return this.$o},cE:function(a){this.$o=a;this.bX(this.$o/360)},W4:function(){return this.Dr},bX:function(a){this.Dr=a;this.$o=360*this.Dr;a=this.Yc.pb();var c=0.5*a.width-15,d=q.Ij(360*this.Dr-180);this.Bh.l(this.Lc.x+0.5*a.width+c*Math.cos(d),this.Lc.y+0.5*a.height+c*Math.sin(d))},Lf:function(a){q.fc.prototype.Lf.call(this,a);this.Bh&&this.Bh.ta(a?255:128)},HI:function(){return this.Yc},yT:function(){return this.Bh},AT:function(){return this.Lc},
fD:function(a,c){return q.fc.prototype.w.call(this)?(this.nc(!0),this.Yc=q.oe.pn("huePickerBackground.png",a,c,q.a(0,0)),this.Bh=q.oe.pn("colourPicker.png",a,c,q.a(0.5,0.5)),this.Bh.l(c.x,c.y+0.5*this.Yc.pb().height),this.Lc=c,this.Dr=this.$o=0,!0):!1},Gw:function(a){var c=this.Yc.pb();this.cE(q.hz(Math.atan2(a.y-(this.Lc.y+0.5*c.height),a.x-(this.Lc.x+0.5*c.width)))+180);this.rf(q.Li)},Wq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Gw(a),!0):!1},vb:function(a){if(!this.isEnabled()||
!this.za)return!1;a=this.sj(a);return this.Wq(a)},Qd:function(a){a=this.sj(a);this.Wq(a)}});q.Iy.create=function(a,c){var d=new q.Iy;d.fD(a,c);return d};q.VE=q.fc.extend({rh:null,Uk:null,Gm:null,Yc:null,ZT:function(a){this.rh.h=a.$o;a=q.oe.jz(this.rh);q.fc.prototype.r.call(this,q.mC(0|255*a.q,0|255*a.p,0|255*a.o));this.rf(q.Li);this.VQ()},WR:function(a){this.rh.s=a.qB;this.rh.ua=a.gv;a=q.oe.jz(this.rh);q.fc.prototype.r.call(this,q.mC(0|255*a.q,0|255*a.p,0|255*a.o));this.rf(q.Li)},r:function(a){q.fc.prototype.r.call(this,a);var c=new q.RGBA;c.q=a.q/255;c.p=a.p/255;c.o=a.o/255;c.Q=1;this.rh=q.oe.QM(c);this.zH()},HI:function(){return this.Yc},w:function(){if(q.fc.prototype.w.call(this)){this.nc(!0);
q.Ag.g().RH(aa.NE);var a=q.Fb.create(aa.OE);this.f(a);this.rh=new q.Uy(0,0,0);this.Yc=q.oe.pn("menuColourPanelBackground.png",a,q.Kj(),q.a(0.5,0.5));var c=q.Rd(this.Yc.u,q.a(this.Yc.c().width/2,this.Yc.c().height/2));this.Gm=q.Iy.create(a,q.a(c.x+8,c.y+8));this.Uk=q.Jy.create(a,q.a(c.x+28,c.y+28));this.Gm.SH(this,this.ZT,q.Li);this.Uk.SH(this,this.WR,q.Li);this.zH();this.f(this.Gm);this.f(this.Uk);this.O(this.Yc.c());return!0}return!1},VQ:function(){this.Gm.cE(this.rh.h);this.Uk.gM(this.rh)},zH:function(){this.Gm.cE(this.rh.h);
this.Uk.gM(this.rh);this.Uk.yY(this.rh)},Lf:function(a){q.fc.prototype.Lf.call(this,a);null!=this.Gm&&this.Gm.Lf(a);this.Uk&&this.Uk.Lf(a)},vb:function(){return!1}});q.VE.create=function(){var a=new q.VE;a.w();return a};aa=aa||{};aa.NE=aa.NE||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.OE=aa.OE||"res/extensions/CCControlColourPickerSpriteSheet.png";q.CF=24;q.b0=8;
q.XE=q.fc.extend({kd:0,ub:0,Nb:0,Xv:0,Vv:0,Ob:null,kl:null,qe:null,bJ:function(){return this.kd},sf:function(a){a=Math.max(a,this.ub);this.kd=a=Math.min(a,this.Nb);this.sd();this.rf(q.Li)},fT:function(){return this.ub},bL:function(a){this.Xv=this.ub=a;this.ub>=this.Nb&&(this.Nb=this.ub+1);this.sf(this.kd)},eT:function(){return this.Nb},$K:function(a){this.Vv=this.Nb=a;this.Nb<=this.ub&&(this.ub=this.Nb-1);this.sf(this.kd)},Ci:function(a){a=a.S;a=this.getParent().Ka(a);var c=this.pb();c.Ya.width+=
this.Ob.c().width;c.gd.x-=this.Ob.c().width/2;return q.wb(c,a)},Dn:function(a){a=a.S;a=this.Ka(a);0>a.x?a.x=0:a.x>this.qe.c().width&&(a.x=this.qe.c().width);return a},r5:function(){return this.Xv},Taa:function(a){this.Xv=a},p5:function(){return this.Vv},Saa:function(a){this.Vv=a},$I:function(){return this.Ob},W5:function(){return this.kl},V3:function(){return this.qe},fU:function(a,c,d){return q.fc.prototype.w.call(this)?(this.tj(!1),this.nc(!0),this.qe=a,this.kl=c,this.Ob=d,a=q.oe.PE(a.pb(),d.pb()),
this.O(a.width,a.height),this.qe.A(0.5,0.5),this.qe.l(a.width/2,a.height/2),this.f(this.qe),this.kl.A(0,0.5),this.kl.l(0,a.height/2),this.f(this.kl),this.Ob.l(0,a.height/2),this.f(this.Ob),this.ub=0,this.Nb=1,this.sf(this.ub),!0):!1},Lf:function(a){q.fc.prototype.Lf.call(this,a);this.Ob&&this.Ob.ta(a?255:128)},iY:function(a){this.oq(!0);this.Ob.r(q.Cl());this.sf(this.HE(a))},kY:function(a){this.sf(this.HE(a))},jY:function(){this.pp&&this.sf(this.HE(this.Ob.u));this.Ob.r(q.Eb());this.oq(!1)},S6:function(a){a=
a.S;a=this.Ka(a);0>a.x?a.x=0:a.x>this.qe.c().width+q.CF&&(a.x=this.qe.c().width+q.CF);return a},vb:function(a){if(!this.Ci(a)||!this.isEnabled()||!this.za)return!1;a=this.Dn(a);this.iY(a);return!0},Qd:function(a){a=this.Dn(a);this.kY(a)},ah:function(){this.jY(q.Kj())},sd:function(){this.Ob.Na((this.kd-this.ub)/(this.Nb-this.ub)*this.qe.c().width);var a=this.kl.RC(),a=q.rect(a.x,a.y,this.Ob.u.I,a.height);this.kl.ib(a,this.kl.od,a.Ya)},HE:function(a){a=a.x/this.qe.c().width;return Math.max(Math.min(this.ub+
a*(this.Nb-this.ub),this.Vv),this.Xv)}});q.XE.create=function(a,c,d){"string"==typeof a&&(a=q.v.create(a),c=q.v.create(c),d=q.v.create(d));var e=new q.XE;e.fU(a,c,d);return e};q.ZE=q.fc.extend({pd:null,wG:0,Rr:!1,kp:!1,ctor:function(){q.fc.prototype.ctor.call(this)},cD:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.w()?(this.nc(!0),this.kp=!0,this.pd=new q.AM,
this.pd.cD(a,c,d,e,f,g),this.pd.l(this.pd.c().width/2,this.pd.c().height/2),this.f(this.pd),this.tj(!1),this.A(0.5,0.5),this.O(this.pd.c()),!0):!1},Rx:function(a,c){var d=(this.kp=a)?this.pd.hl:this.pd.Lm;c?this.pd.Kx(q.ho.create(0.2,"sliderXPosition",this.pd.kk,d)):this.pd.fE(d);this.rf(q.Li)},d8:function(){return this.kp},q7:function(){return this.Rr},Lf:function(a){this.sr=a;this.pd.ta(a?255:128)},Dn:function(a){a=a.S;return a=this.Ka(a)},vb:function(a){if(!this.Ci(a)||!this.isEnabled()||!this.za)return!1;
this.Rr=!1;this.wG=this.Dn(a).x-this.pd.kk;this.pd.Ob.r(q.Cl());this.pd.sd();return!0},Qd:function(a){a=this.Dn(a);a=q.a(a.x-this.wG,0);this.Rr=!0;this.pd.fE(a.x)},ah:function(a){a=this.Dn(a);this.pd.Ob.r(q.Eb());this.Rr?this.Rx(!(a.x<this.pd.c().width/2),!0):this.Rx(!this.kp,!0)},Ak:function(a){a=this.Dn(a);this.pd.Ob.r(q.Eb());this.Rr?this.Rx(!(a.x<this.pd.c().width/2),!0):this.Rx(!this.kp,!0)}});q.ZE.create=function(a,c,d,e,f,g){var h=new q.ZE;return h&&h.cD(a,c,d,e,f,g)?h:null};
q.AM=q.v.extend({kk:0,hl:0,Lm:0,nH:0,PA:0,QA:null,vh:null,ej:null,Ob:null,Mm:null,Km:null,Oo:null,Gc:null,dv:null,ctor:function(){q.v.prototype.ctor.call(this);this.PA=this.Lm=this.hl=this.kk=0;this.QA=q.size(0,0);this.Km=this.Mm=this.Ob=this.ej=this.vh=null},cD:function(a,c,d,e,f,g){return q.v.prototype.Ta.call(this,a.ja())?(this.hl=0,this.Lm=-c.c().width+e.c().width/2,this.kk=this.hl,this.sX(c),this.qX(d),this.hE(e),this.rX(f),this.pX(g),this.Gc=a,a=this.QA=this.Gc.c(),this.Gc.l(0,0),this.Oo=q.Bb.create(),
this.Oo.A(0.5,0.5),this.Oo.l(a.width/2,a.height/2),this.Oo.gE(this.Gc),this.dv=q.yb.create(a.width,a.height),this.Oo.f(this.dv.Cb),this.f(this.Oo),this.f(this.Ob),this.sd(),!0):!1},sd:function(){this.vh.l(this.vh.c().width/2+this.kk,this.vh.c().height/2);this.ej.l(this.vh.c().width+this.ej.c().width/2+this.kk,this.ej.c().height/2);this.Mm&&this.Mm.l(this.vh.u.x-this.Ob.c().width/6,this.vh.c().height/2);this.Km&&this.Km.l(this.ej.u.x+this.Ob.c().width/6,this.ej.c().height/2);this.Ob.l(this.vh.c().width+
this.kk,this.QA.height/2);this.dv.rk();this.vh.Ba();this.ej.Ba();this.Mm&&this.Mm.Ba();this.Km&&this.Km.Ba();this.dv.end()},fE:function(a){a<=this.Lm?a=this.Lm:a>=this.hl&&(a=this.hl);this.kk=a;this.sd()},v6:function(){return this.kk},s9:function(){return this.vh.c().width},q9:function(){return this.ej.c().height},FE:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.fE(a)},bba:function(a){this.hl=a},H5:function(){return this.hl},Zaa:function(a){this.Lm=a},B5:function(){return this.Lm},Raa:function(a){this.Gc.ka(a)},
l5:function(){return this.Gc.ja()},Fba:function(a){this.nH=a},I6:function(){return this.nH},Qaa:function(a){this.PA=a},k5:function(){return this.PA},sX:function(a){this.vh=a},I5:function(){return this.vh},qX:function(a){this.ej=a},C5:function(){return this.ej},hE:function(a){this.Ob=a},$I:function(){return this.Ob},rX:function(a){this.Mm=a},G5:function(){return this.Mm},pX:function(a){this.Km=a},A5:function(){return this.Km}});q.SE=0;q.TE=1;q.Nt=2;q.xq=q.n(55,55,55);q.Ey=q.n(147,147,147);q.RE="CourierNewPSMT";q.LE=0.15;q.nM=12;
q.YE=q.fc.extend({ce:null,zf:null,fl:null,il:null,kd:0,$q:!1,Ao:!1,kn:!1,ub:0,Nb:0,Xm:0,ts:!1,dn:q.Nt,Tq:0,ctor:function(){q.fc.prototype.ctor.call(this);this.il=this.fl=this.zf=this.ce=null;this.kd=0;this.kn=this.Ao=this.$q=!1;this.Xm=this.Nb=this.ub=0;this.ts=!1;this.dn=q.Nt;this.Tq=0},dU:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.w()){this.nc(!0);this.$q=this.Ao=!0;this.ub=0;this.Nb=100;this.kd=0;this.Xm=1;this.kn=!1;this.tj(!1);this.lX(a);this.ce.l(a.c().width/2,a.c().height/2);this.f(this.ce);this.kX(q.R.create("-",q.RE,40,q.size(40,40),q.Oj,q.Tu));this.fl.r(q.Ey);this.fl.l(this.ce.c().width/2,this.ce.c().height/2);this.ce.f(this.fl);this.wX(c);this.zf.l(a.c().width+c.c().width/2,a.c().height/2);this.f(this.zf);this.vX(q.R.create("+",q.RE,40,q.size(40,40),q.Oj,q.Tu));this.il.r(q.xq);this.il.l(this.zf.c().width/2,
this.zf.c().height/2);this.zf.f(this.il);var d=q.oe.PE(this.ce.pb(),this.zf.pb());this.O(this.ce.c().width+this.zf.c().height,d.Ya.height);return!0}return!1},Tba:function(a){if(this.kn=a)this.fl.r(q.xq),this.il.r(q.xq);this.sf(this.kd)},bL:function(a){if(a>=this.Nb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.ub=a;this.sf(this.kd)},$K:function(a){if(a<=this.ub)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.Nb=a;this.sf(this.kd)},sf:function(a){this.lE(a,!0)},bJ:function(){return this.kd},yba:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Xm=a},O7:function(){return this.$q},lE:function(a,c){a<this.ub?a=this.kn?this.Nb:this.ub:a>this.Nb&&(a=this.kn?this.ub:this.Nb);this.kd=a;this.kn||(this.fl.r(a==this.ub?q.Ey:q.xq),this.il.r(a==this.Nb?q.Ey:q.xq));c&&this.rf(q.Li)},KL:function(){this.Tq=-1;this.lc(this.update,q.LE,q.pm,3*q.LE)},
NL:function(){this.Uc(this.update)},update:function(){this.Tq++;this.Tq<q.nM&&0!=this.Tq%3||(this.dn==q.SE?this.lE(this.kd-this.Xm,this.$q):this.dn==q.TE&&this.lE(this.kd+this.Xm,this.$q))},XL:function(a){a.x<this.ce.c().width&&this.kd>this.ub?(this.dn=q.SE,this.ce.r(q.Cl()),this.zf.r(q.Eb())):a.x>=this.ce.c().width&&this.kd<this.Nb?(this.dn=q.TE,this.ce.r(q.Eb()),this.zf.r(q.Cl())):(this.dn=q.Nt,this.ce.r(q.Eb()),this.zf.r(q.Eb()))},vb:function(a){if(!this.Ci(a)||!this.isEnabled()||!this.za)return!1;
a=this.sj(a);this.XL(a);this.ts=!0;this.Ao&&this.KL();return!0},Qd:function(a){this.Ci(a)?(a=this.sj(a),this.XL(a),this.ts||(this.ts=!0,this.Ao&&this.KL())):(this.ts=!1,this.dn=q.Nt,this.ce.r(q.Eb()),this.zf.r(q.Eb()),this.Ao&&this.NL())},ah:function(a){this.ce.r(q.Eb());this.zf.r(q.Eb());this.Ao&&this.NL();this.Ci(a)&&(a=this.sj(a),this.sf(this.kd+(a.x<this.ce.c().width?0-this.Xm:this.Xm)))},lX:function(a){this.ce=a},t5:function(){return this.ce},wX:function(a){this.zf=a},R5:function(){return this.zf},
kX:function(a){this.fl=a},s5:function(){return this.fl},vX:function(a){this.il=a},Q5:function(){return this.il}});q.YE.create=function(a,c){var d=new q.YE;return d&&d.dU(a,c)?d:null};q.WE=q.fc.extend({Ob:null,np:null,mp:null,kd:0,ub:0,Nb:1,iU:function(a,c,d){return this.w()?(this.nc(!0),this.AX(c),this.hE(d),this.Ob.l(c.u),this.f(d,2),this.f(c,1),this.f(a),this.O(a.c()),this.ub=0,this.Nb=1,this.sf(this.ub),!0):!1},Lf:function(a){this.Lf(a);this.Ob!=NULL&&this.Ob.ta(a?255:128)},sf:function(a){a<this.ub&&(a=this.ub);a>this.Nb&&(a=this.Nb);this.kd=a;a=(a-this.ub)/(this.Nb-this.ub);this.np.ot(100*a);this.Ob.Ux(360*a);this.rf(q.Li)},bJ:function(){return this.kd},bL:function(a){this.ub=
a;this.ub>=this.Nb&&(this.Nb=this.ub+1);this.sf(this.Nb)},fT:function(){return this.ub},$K:function(a){this.Nb=a;this.Nb<=this.ub&&(this.ub=this.Nb-1);this.sf(this.ub)},eT:function(){return this.Nb},Ci:function(a){a=this.sj(a);return this.AS(this.np.u,a)<Math.min(this.c().width/2,this.c().height/2)},vb:function(a){if(!this.Ci(a)||!this.isEnabled()||!this.za)return!1;this.mp=this.sj(a);this.uV(this.mp);return!0},Qd:function(a){a=this.sj(a);this.wV(a)},ah:function(){this.vV(q.a(0,0))},AS:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},wR:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},uV:function(){this.oq(!0);this.Ob.r(q.Cl())},wV:function(a){var c=this.wR(this.np.u,a,this.np.u,this.mp);180<c?c-=360:-180>c&&(c+=360);this.sf(this.kd+c/360*(this.Nb-this.ub));this.mp=a},vV:function(){this.Ob.r(q.Eb());this.oq(!1)},hE:function(a){this.Ob=a},$I:function(){return this.Ob},AX:function(a){this.np=a},X5:function(){return this.np},hba:function(a){this.mp=
a},mT:function(){return this.mp}});q.WE.create=function(a,c,d){var e=new q.WE;return e&&(a=q.v.create(a),d=q.v.create(d),c=q.Wc.create(q.v.create(c)),e.iU(a,c,d))?e:null};q.AF=-1;q.ro=0;q.Eq=1;q.Bu=2;q.ZR=function(a){var c=q.ra.g();return(c.va+c.Da)/2*a/160};q.HN=q.Oa.extend({zW:function(){},AW:function(){}});
q.Yh=q.Vc.extend({B1:0,k1:0,i1:0,Ea:null,Yi:q.Bu,Zi:!1,JO:null,Xa:null,Dh:!1,Tv:null,Wv:null,Uq:!1,Xq:!1,Yr:null,Dp:null,us:0,Eh:null,ri:null,KG:0,IG:0,Tr:null,rB:!1,oH:null,ctor:function(){q.Vc.prototype.ctor.call(this);this.JO=new q.mh(0,0);this.Tv=new q.mh(0,0);this.Wv=new q.mh(0,0);this.Yr=new q.mh(0,0);this.Dp=new q.mh(0,0);this.Eh=[];this.ri=new q.Mk(0,0);this.Tr=new q.zg(0,0,0,0);this.oH=new q.zg(0,0,0,0)},w:function(){return this.cq(q.size(200,200),null)},Hx:function(){q.GD(this.rl,!1,this)},
cq:function(a,c){var d=q.a(0,0);return q.Vc.prototype.w.call(this)?(this.Xa=c,this.Xa||(this.Xa=q.Vc.create(),this.Xa.tj(!1),this.Xa.A(d)),this.vL(a),this.nc(!0),this.Eh.length=0,this.Ea=null,this.Xq=this.Uq=!0,this.Yi=q.Bu,this.Xa.l(d),this.us=0,this.f(this.Xa),this.KG=this.IG=1,!0):!1},Ul:function(a,c){if(c)this.QW(a,0.15);else{if(!this.Uq){var d=this.En(),e=this.et();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Xa.l(a)}},JI:function(){var a=this.Xa.u;return q.a(a.x,
a.y)},QW:function(a,c){var d=q.su.create(c,a),e=q.yq.create(this.JQ,this);this.Xa.Kx(q.Mj.create(d,e));this.lc(this.XA)},AL:function(a,c){if(c)this.VX(a,0.15);else{var d=this.Xa;if(d.NC()!=a){var e,f;0==this.us?(f=this.ri,f=q.a(0.5*f.width,0.5*f.height),f=this.ul(f)):f=this.Dp;e=d.Ka(f);d.Ck(Math.max(this.KG,Math.min(this.IG,a)));e=d.ul(e);f=q.Rd(f,e);this.Ul(q.bh(d.u,f))}}},eJ:function(){return this.Xa.NC()},VX:function(a,c){if(0<c){var d=this.Xa.NC();d!=a&&(d=q.ho.create(c,"zoomScale",d,a),this.Kx(d))}else this.AL(a)},
En:function(){var a=this.Xa,c=a.c(),d=this.ri;return q.a(d.width-c.width*a.va,d.height-c.height*a.Da)},et:function(){return q.a(0,0)},c8:function(a){var c=this.JI(),d=this.ri,e=this.eJ(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.KV(c,a.pb())},pause:function(){this.Xa.Dx();for(var a=this.Xa.C,c=0;c<a.length;c++)a[c].Dx()},BK:function(){for(var a=this.Xa.C,c=0,d=a.length;c<d;c++)a[c].Jx();this.Xa.Jx()},R7:function(){return this.Zi},u8:function(){return this.Dh},K7:function(){return this.Uq},
KW:function(a){this.Uq=a},f7:function(){return this.ri},vL:function(a){this.ri=a;q.G.prototype.O.call(this,a)},p4:function(){return this.Xa},OW:function(a){a&&(this.$b(!0),this.Xa=a,a.tj(!1),a.A(0,0),this.f(a),this.vL(this.ri))},E4:function(){return this.Yi},OK:function(a){this.Yi=a},Ac:function(){return this.Ea},pg:function(a){this.Ea=a},vb:function(a){if(!this.za)return!1;var c=this.EA(),d=this.Xa,e=d.ul(d.ti(a)),f=this.Eh;if(2<f.length||this.Dh||!q.wb(c,e))return!1;f.push(a);1===f.length?(this.Dp=
this.ti(a),this.Dh=!1,this.Zi=!0,this.Yr.x=0,this.us=this.Yr.y=0):2==f.length&&(this.Dp=q.yD(this.ti(f[0]),this.ti(f[1])),this.us=q.vD(d.ti(f[0]),d.ti(f[1])),this.Zi=!1);return!0},Qd:function(a){if(this.za)if(1===this.Eh.length&&this.Zi){this.Dh=!0;var c=this.EA(),d=this.ti(a);a=q.Rd(d,this.Dp);var e=0,f=this.Yi,e=f===q.Eq?a.y:f===q.ro?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Dh||!(0.04375>Math.abs(q.ZR(e))))if(this.Dh||(a.x=0,a.y=0),this.Dp=d,this.Dh=!0,q.wb(c,this.ul(d))){switch(f){case q.Eq:a.x=
0;break;case q.ro:a.y=0}d=this.Xa.u;c=d.x+a.x;d=d.y+a.y;this.Yr=a;this.Ul(q.a(c,d))}}else 2!==this.Eh.length||this.Zi||(a=q.vD(this.Xa.ti(this.Eh[0]),this.Xa.ti(this.Eh[1])),this.AL(this.eJ()*a/this.us))},ah:function(){this.za&&(1==this.Eh.length&&this.Dh&&this.lc(this.gA),this.Eh.length=0,this.Dh=this.Zi=!1)},Ak:function(){this.za&&(this.Eh.length=0,this.Dh=this.Zi=!1)},O:function(a,c){null!=this.Xa&&(2===arguments.length?this.Xa.O(a,c):this.Xa.O(a),this.zY())},c:function(){return this.Xa.c()},zY:function(){if(null!=
this.Xa){var a=this.ri,c=this.et();this.Tv.x=c.x+0.2*a.width;this.Tv.y=c.y+0.2*a.height;c=this.En();this.Wv.x=c.x-0.2*a.width;this.Wv.y=c.y-0.2*a.height}},M7:function(){return this.Xq},kaa:function(a){this.Xq=a},Ba:function(a){if(this.za){a=a||q.da;var c,d=this.C,e,f;if(q.Td===q.vg){a.save();this.transform(a);this.ZF(a);if(d&&0<d.length){f=d.length;this.ke();for(c=0;c<f;c++)if((e=d[c])&&0>e.ob)e.Ba(a);else break;for(this.Za(a);c<f;c++)d[c].Ba(a)}else this.Za(a);this.XF();a.restore()}else{q.gq();var g=
this.$k;g&&g.dq()&&(g.kC(),this.my());this.transform(a);this.ZF(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.ob)e.Ba();else break;for(this.Za(a);c<f;c++)d[c].Ba()}else this.Za(a);this.XF(a);g&&g.dq()&&g.gC(this);q.fq()}}},f:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.ob;d=d||a.Cd;a.tj(!1);a.A(0,0);this.Xa!=a?this.Xa.f(a,c,d):q.Vc.prototype.f.call(this,a,c,d)},nc:function(a){q.Vc.prototype.nc.call(this,a);a||(this.Dh=this.Zi=!1,this.Eh.length=0)},d1:function(){return null},
LP:function(a){var c=this.En(),d=this.et(),e=this.Yi,f=this.Xa.u,g=f.x,h=f.y;if(e===q.Bu||e===q.ro)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.Bu||e==q.Eq)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Ul(q.a(g,h),a)},gA:function(){if(this.Zi)this.Uc(this.gA);else{var a,c;a=this.Xa.u;var d=this.Yr;this.Xa.l(a.x+d.x,a.y+d.y);this.Uq?(a=this.Tv,c=this.Wv):(a=this.et(),c=this.En());var e=this.Xa.u.I,f=this.Xa.u.U;d.x*=0.95;d.y*=0.95;this.Ul(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Uc(this.gA),this.LP(!0)}},XA:function(){this.Zi&&this.Uc(this.XA)},JQ:function(){this.Uc(this.XA)},ZF:function(a){if(this.Xq){this.rB=!1;var c=this.EA(),d=q.ra.g(),e=this.va,f=this.Da;a=a||q.da;if(q.Td===q.vg)c=this.ri.width*e*d.va,d=this.ri.height*f*d.Da,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.ra.g(),d.vU()){if(this.rB=!0,this.Tr=d.sT(),q.JV(c,this.Tr)){var g=this.Tr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);
e=Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.dE(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.dE(c.x,c.y,c.width,c.height)}},XF:function(a){this.Xq&&q.Td===q.Nk&&(this.rB?(a=this.Tr,q.ra.g().dE(a.x,a.y,a.width,a.height)):(a=a||q.da,a.disable(a.SCISSOR_TEST)))},b1:function(){},EA:function(){for(var a=this.ul(q.Kj()),c=this.ri,d=this.va,e=this.Da,f=this.ea;null!=f;f=f.getParent())d*=f.va,e*=f.Da;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.oH;f.x=a.x;
f.y=a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.Yh.create=function(a,c){var d=new q.Yh;if(2==arguments.length){if(d&&d.cq(a,c))return d}else if(d&&d.w())return d;return null};q.IN=q.Oa.extend({Qx:function(){},zi:function(){return 0}});q.JN=q.IN.extend({SA:0,ctor:function(){this.SA=0},Qx:function(a){this.SA=a},zi:function(){return this.SA}});function ia(a,c){return a.zi()-c.zi()}
q.Ay=q.Oa.extend({zh:null,ctor:function(){this.zh=[]},uJ:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.lU(a,this.bq(a))},hW:function(a){if(0!=this.count()){var c=this.bq(a);c<this.count()&&c!=q.Ni&&this.In(c).zi()==a.zi()&&this.LD(c)}},Yaa:function(a,c){var d=this.bq(c);if(d<this.count()&&d!=q.Ni){var e=this.In(d);e.zi()==c.zi()&&(this.LD(d),e.Qx(a),this.uJ(e))}},aK:function(a){if(0==this.count())return null;var c=new q.JN;c.Qx(a);var d=
this.bq(c);d<this.count()&&d!=q.Ni&&(c=this.In(d),c.zi()!=a&&(c=null));return c},z5:function(){return null},bq:function(a){var c=0;if(a){var d=0;a=a.zi();for(var e=this.zh,f=0;f<e.length;f++){var g=e[f].zi();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.Ni;return c},count:function(){return this.zh.length},J8:function(){var a=this.zh;return 0==a.length?null:a[a.length-1]},In:function(a){return this.zh[a]},QH:function(a){this.zh.push(a);this.zh.sort(ia)},LD:function(a){q.wq(this.zh,a);this.zh.sort(ia)},
lU:function(a,c){this.zh=q.jm(this.zh,a,c);this.zh.sort(ia)}});q.EF=0;q.LN=1;q.n0=q.G.extend({bk:0,Z4:function(){return this.bk},dX:function(a){this.bk=a},reset:function(){this.bk=q.Ni},Qx:function(a){this.bk=a},zi:function(){return this.bk}});q.p0=q.HN.extend({Aca:function(){},zca:function(){},Bca:function(){},Cca:function(){}});q.o0=q.Oa.extend({rY:function(a){return this.GR(a)},GR:function(){return q.DN},yca:function(){return null},m9:function(){return 0}});
q.MF=q.Yh.extend({Fp:null,Jd:null,Jo:null,fA:null,OB:null,$v:null,iv:null,mk:null,ctor:function(){q.Yh.prototype.ctor.call(this);this.$v=q.AF;this.iv=[]},$N:function(a){var c=0,d=-1;switch(this.Yi){case q.ro:a=a.x;break;default:a=a.y}for(var e=this.iv;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},YO:function(a){a={x:a.x,y:a.y};this.Fp===q.EF&&(a.y=this.Xa.c().height-a.y);a=this.$N(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.Ni));return a},aO:function(a){switch(this.Yi){case q.ro:a=
q.a(this.iv[a],0);break;default:a=q.a(0,this.iv[a])}return a},AP:function(a){var c=this.aO(a);a=this.fA.rY(this,a);this.Fp===q.EF&&(c.y=this.Xa.c().height-c.y-a.height);return c},y1:function(){},SB:function(){var a=q.qm();this.O(a);this.$v!=this.Yi&&(this.Yi==q.ro?this.Ul(q.a(0,0)):this.Ul(q.a(0,this.En().y)),this.$v=this.Yi)},LG:function(a){this.Jo.QH(a);this.Tk.hW(a);q.le(this.Jd,a.bk);a.reset();a.getParent()==this.Xa&&this.Xa.removeChild(a,!0)},jw:function(a,c){c.A(0,0);c.l(this.AP(a));c.dX(a)},
VF:function(a){a.getParent()!=this.Xa&&this.Xa.f(a);this.Tk.uJ(a);var c=this.Jd;a=a.bk;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},v4:function(){return this.fA},UW:function(a){this.fA=a},Ac:function(){return this.OB},pg:function(a){this.OB=a},Rba:function(a){this.Fp!=a&&(this.Fp=a,0<this.Tk.count()&&this.KD())},c7:function(){return this.Fp},cq:function(a,c){return q.Yh.prototype.cq.call(this,a,c)?(this.Tk=new q.Ay,this.Jo=new q.Ay,this.Jd=[],this.OB=null,this.Fp=q.LN,this.OK(q.Eq),
q.Yh.prototype.pg.call(this,this),!0):!1},Vca:function(a){if(!(a==q.Ni||-1<a)){var c=this.oC(a);c&&this.LG(c);c=null;this.jw(a,c);this.VF(c)}},C7:function(a){if(!(a==q.Ni||-1<a)){var c,d=this.Tk;if(c=d.aK(a))for(var e=c=d.bq(c);e<d.count();e++)c=d.In(e),this.jw(c.bk+1,c);c=null;this.jw(a,c);this.VF(c);this.SB()}},x$:function(a){if(!(a==q.Ni||-1<a)){var c=this.oC(a);if(c){var d=this.Tk,e=d.bq(c);this.LG(c);q.le(this.Jd,a);for(a=d.count()-1;a>e;a--)c=d.In(a),this.jw(c.bk-1,c)}}},KD:function(){this.$v=
q.AF;for(var a=this.Tk,c=this.Jo,d=this.Xa,e=0,f=a.count();e<f;e++){var g=a.In(e);c.QH(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Jd=[];this.Tk=new q.Ay;this.SB()},W2:function(){if(0===this.Jo.count())return null;var a=this.Jo.In(0);this.Jo.LD(0);return a},oC:function(a){return-1==this.Jd.indexOf(a)?null:this.Tk.aK(a)},zW:function(){},AW:function(){},ah:function(a,c){if(this.za){if(this.mk){var d=this.pb();d.gd=this.ea.ul(d.origin);this.mk=null}q.Yh.prototype.ah.call(this,a,c)}},vb:function(a,
c){if(!this.za)return!1;var d=q.Yh.prototype.vb.call(this,a,c);if(1===this.Eh.length){var e;e=this.Xa.ti(a);e=this.YO(e);this.mk=e===q.Ni?null:this.oC(e)}else this.mk&&(this.mk=null);return d},Qd:function(a,c){q.Yh.prototype.Qd.call(this,a,c);this.mk&&this.Dh&&(this.mk=null)},Ak:function(a,c){q.Yh.prototype.Ak.call(this,a,c);this.mk&&(this.mk=null)}});q.MF.create=function(a,c,d){var e=new q.MF;e.cq(c,d);e.UW(a);e.SB();return e};q.tc={};q.tc.OH=function(a){for(var c in q.tc.qD)a[c]=q.tc.qD[c]};
q.tc.qD={l:function(a,c){2==arguments.length?(this.u.I=a,this.u.U=c):(this.u.I=a.x,this.u.U=a.y);this.gb();this.ha.CE(this.u.I,-this.u.U)},Cc:function(a){this.u.U=a;this.gb();this.ha.CE(this.u.I,-this.u.U)},Na:function(a){this.u.I=a;this.gb();this.ha.CE(this.u.I,-this.u.U)},Ck:function(a,c){this.va=a;this.Da=c||a;this.gb();this.ha.resize(this.va,this.Da)},nq:function(a){this.va=a;this.gb();this.ha.resize(this.va,this.Da)},Vn:function(a){this.Da=a;this.gb();this.ha.resize(this.va,this.Da)},A:function(a,
c){var d=this.vm;if(2===arguments.length){if(a===d.I&&c===d.U)return;d.I=a;d.U=c}else{if(a.x===d.I&&a.y===d.U)return;d.I=a.x;d.U=a.y}var e=this.Fd,f=this.Ca;e.I=f.Ia*d.I;e.U=f.ya*d.U;this.ha.style[q.Rb.Jn+"TransformOrigin"]=""+e.I+"px "+-e.U+"px";this.ck?(this.ha.style.marginLeft=0,this.ha.style.marginBottom=0):(this.ha.style.marginLeft=this.yU?0:-e.I+"px",this.ha.style.marginBottom=-e.U+"px");this.gb()},Dt:function(){var a=this.Fd;this.ha.style[q.Rb.Jn+"TransformOrigin"]=""+a.I+"px "+-a.U+"px";this.ck?
(this.ha.style.marginLeft=0,this.ha.style.marginBottom=0):(this.ha.style.marginLeft=this.yU?0:-a.I+"px",this.ha.style.marginBottom=-a.U+"px")},O:function(a,c){var d=this.Ca;if(2===arguments.length){if(a===d.Ia&&c===d.ya)return;d.Ia=a;d.ya=c}else{if(a.width===d.Ia&&a.height===d.ya)return;d.Ia=a.width;d.ya=a.height}var e=this.Fd,f=this.vm;e.I=d.Ia*f.I;e.U=d.ya*f.U;this.ha.width=d.Ia;this.ha.height=d.ya;this.Dt();this.canvas&&(this.canvas.width=d.Ia,this.canvas.height=d.ya);this.gb();this.LV()},Ux:function(a){this.$P!=
a&&(this.Lg=this.ji=a,this.Rm=Math.PI/180*this.Lg,this.Xr=Math.PI/180*this.ji,this.gb(),this.ha.rotate(a))},Xx:function(a){this.Be=a;this.gb();this.ha.oL(this.Be,this.Ce)},Yx:function(a){this.Ce=a;this.gb();this.ha.oL(this.Be,this.Ce)},D:function(a){this.za=a;this.gb();this.ha&&(this.ha.style.display=a?"block":"none")},lw:function(a){this.ob=a;this.gb();this.ha&&(this.ha.zIndex=a)},nt:function(a){this.ea=a;null!==a&&(a.Dt(),this.gb(),q.tc.Cx(this))},Jx:function(){this.Jf().Qn(this);this.hg().Qn(this);
this.ha&&!this.ha.parentNode&&(this.getParent()?q.tc.Cx(this):this.ha.rn(q.sk));this.ha&&(this.ha.style.visibility="visible")},Dx:function(){this.Jf().ft(this);this.hg().ft(this);this.ha&&(this.ha.style.visibility="hidden")},fg:function(){this.tE();this.zt();this.Cg(this.C,q.G.Rf.fg);this.ha&&this.ha.remove()},dW:function(){this.ha.remove()},ta:function(a){this.fj=a;this.ha.style.opacity=a/255},LV:function(){if(this.GJ){var a=this.C;this.C=[];q.v.prototype.Ba.call(this,this.Np);this.C=a}else q.v.prototype.Ba.call(this,
this.Np)}};q.tc.WP=function(){var a=q.Rb("#EGLViewDiv");if(a){var c=q.ra.g(),d=c.Rp(),e=c.jf,f=c.vn(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);var d=e.Ya.width,k=e.Ya.height;0===e.Ya.width&&0===e.Ya.height&&(d=f.width,k=f.height);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.va,c.Da);a.style.left=d<f.width?(d-g)/2+(f.width-d)/2+"px":(d-g)/2+"px";a.style.bottom=k<f.height?(f.height-k)/2+"px":"0px"}};
q.tc.Cx=function(a){var c=a.getParent();if(c&&a.ha)if(c.ha||(q.tc.qV(c),c.nt=q.tc.qD.nt),a.ha.rn(c.ha),c.Dt(),c.getParent())q.tc.Cx(c);else if(c.bf)if(a=q.Rb("#EGLViewDiv"))c.ha.rn(a);else{a=q.Gk("div");a.id="EGLViewDiv";var d=q.ra.g(),e=d.Rp(),f=d.jf,g=d.vn(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);var e=f.Ya.width,l=f.Ya.height;0===f.Ya.width&&0===f.Ya.height&&(e=g.width,l=g.height);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=
0;a.resize(d.va,d.Da);a.style.left=e<g.width?(e-h)/2+(g.width-e)/2+"px":(e-h)/2+"px";a.style.bottom=l<g.height?(g.height-l)/2+"px":"0px";c.ha.rn(a);a.rn(q.sk)}};q.tc.setTransform=function(a){if(a.Np)if(a.Np.translate(a.Fd.x,a.Fd.y),a.GJ){var c=a.C;a.C=[];q.v.prototype.Ba.call(a,a.Np);a.C=c}else q.v.prototype.Ba.call(a,a.Np);a.ha&&(a.ha.position.x=a.u.x,a.ha.position.y=-a.u.y,a.ha.rotation=a.pT(),a.ha.scale={x:a.va,y:a.Da},a.ha.Zl={x:a.Be,y:a.Ce},a.Dt&&a.Dt(),a.ha.ao())};
q.tc.PS=function(a){a.ha=q.Gk("div");a.canvas=q.Gk("canvas");var c=a.c();a.canvas.width=c.width;a.canvas.height=c.height;a.ha.style.position="absolute";a.ha.style.bottom=0;a.Np=a.canvas.getContext("2d");a.ha.appendChild(a.canvas);a.getParent()&&q.tc.Cx(a);a.GJ=!0};
q.tc.qV=function(a){a.ha=q.Gk("div");a.placeholder=!0;a.ha.style.position="absolute";a.ha.style.bottom=0;a.ha.style.width=(a.c().width||q.fa.g().dc.width)+"px";a.ha.style.maxHeight=(a.c().height||q.fa.g().dc.height)+"px";a.ha.style.margin=0;q.tc.setTransform(a);a.ha.ao();q.tc.OH(a)};
q.tc.Gs=function(a){if(1<arguments.length)q.tc.Gs(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.v?c[d].ha||q.tc.PS(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.tc.OH(c[d]),c[d].Ba=function(){},c[d].transform=function(){},q.tc.setTransform(c[d]),c[d].D(c[d].za);else q.tc.Gs([arguments[0]])};q.Xy=0;q.a_=1;q.d_=2;q.c_=3;q.b_=4;q.Oy=0;q.FZ=1;q.GZ=2;q.HZ=3;q.JZ=4;q.EZ=5;q.IZ=6;q.My=0;q.Ny=1;q.DZ=2;q.BZ=3;q.AZ=4;q.MZ=q.Oa.extend({xl:function(){},yl:function(){},vi:function(){},l3:function(){}});
q.ko=q.Vh.extend({Tb:null,Ea:null,or:q.Oy,nr:q.Ny,Jr:q.Xy,mH:"",Gb:"",bg:null,ye:null,el:50,Qq:18,P:null,ue:14,bi:"Arial",ei:"",Zf:14,ae:"",Gg:!0,pH:!1,$G:0,ctor:function(a){function c(){this.focus()}function d(){e.Ea&&e.Ea.vi&&(e.Gg?e.Ea.vi(e,this.value):(e.Ea.vi(e,e.ae),this.value=" "))}q.Vh.prototype.ctor.call(this);this.bg=q.Eb();this.ye=q.Cl();this.O(a);this.Tb=new q.v;this.Tb.Za=function(){};this.f(this.Tb);var e=this;this.P=document.createElement("input");this.P.type="text";this.P.style.fontSize=
this.ue+"px";this.P.style.color="#000000";this.P.style.border=0;this.P["vertical-align"]="middle";this.P.style.background="transparent";this.P.style.width="100%";this.P.style.height="100%";this.P.style.IH=0;this.P.style.outline="medium";this.P.attachEvent?(this.P.attachEvent("oninput",d),this.P.attachEvent("onclick",c)):(this.P.addEventListener("input",d),this.P.addEventListener("click",c,!1));this.P.addEventListener("keypress",function(a){var c="number"==typeof a.which?a.which:a.keyCode;a.stopPropagation();
c===q.Cq.BC?(a.preventDefault(),q.canvas.focus()):e.Gg||c===q.Cq.XH||(e.ae+=String.fromCharCode(c),e.Ea.vi(e,e.ae))});this.P.addEventListener("keydown",function(a){a.stopPropagation();!e.Gg&&("number"==typeof a.which?a.which:a.keyCode)===q.Cq.XH&&0<e.ae.length&&(e.ae=e.ae.substring(0,e.ae.length-1),e.Ea.vi(e,e.ae))});this.P.addEventListener("focus",function(){e.Gg?this.value==e.Gb&&(this.value="",this.style.fontSize=e.ue+"px",this.style.color=q.Oc(e.bg)):(this.style.position="absolute",this.$G=this.style.top,
this.style.top="-1000000px",e.ae==e.Gb&&(e.ae="",this.value="                                                 "));e.Ea&&e.Ea.xl&&e.Ea.xl(e)});this.P.addEventListener("blur",function(){e.Gg?""==this.value&&(this.value=e.Gb,this.style.fontSize=e.Zf+"px",this.style.color=q.Oc(e.ye)):(this.style.position="relative",this.style.top=this.$G,""==e.ae&&(this.value=" ",e.ae=e.Gb));e.Ea&&e.Ea.yl&&e.Ea.yl(e)});q.tc.Gs(this.Tb);this.Tb.ha.appendChild(this.P);this.Tb.ha.HL=!1;this.Tb.ha.style.width=a.width-6+"px";
this.Tb.ha.style.height=a.height-6+"px";this.Tb.canvas.remove()},TK:function(a,c){this.ue=c;this.bi=a;this.mi()},aE:function(a){this.bi=a;this.mi()},Ox:function(a){this.ue=a;this.mi()},mi:function(){this.Gg&&this.P.value!=this.Gb&&(this.P.style.fontFamily=this.bi,this.P.style.fontSize=this.ue+"px")},je:function(a){null!=a&&(""==a?this.Gg?(this.P.value=this.Gb,this.P.style.color=q.Oc(this.ye)):(this.P.value=" ",this.ae=this.Gb):this.Gg?(this.P.value=a,this.P.style.color=q.Oc(this.bg)):this.ae=a)},
ZD:function(a){this.Gg&&(this.bg=a,this.P.value!=this.Gb&&(this.P.style.color=q.Oc(a)))},ZK:function(a){!isNaN(a)&&0<a&&(this.el=a,this.P.maxLength=a)},QI:function(){return this.el},cL:function(a){if(null!=a){var c=this.Gb;this.Gb=a;this.Gg?this.P.value==c&&(this.P.value=a,this.P.style.color=q.Oc(this.ye),this.Df()):this.ae==c&&(this.ae=a,this.P.value=" ",this.Df())}},dL:function(a,c){this.ei=a;this.Zf=c;this.Df()},fL:function(a){this.ei=a;this.Df()},gL:function(a){this.Zf=a;this.Df()},Df:function(){this.Gg&&
this.P.value==this.Gb&&(this.P.style.fontFamily=this.ei,this.P.style.fontSize=this.Zf+"px")},eL:function(a){this.Gg&&(this.ye=a,this.P.value==this.Gb&&(this.P.style.color=q.Oc(a)))},kq:function(a){this.nr=a;this.P.type=a==q.My?"password":"text"},ba:function(){return this.Gg?this.P.value:this.ae},Zs:function(a,c){return this.ix(c)?(this.Tb.l(3,3),this.oE(!1),this.Ji(a),this.l(0,0),this.av(this,this.xt,q.Kt),!0):!1},pg:function(a){this.Ea=a},UI:function(){return this.Gb},XK:function(a){this.or=a},kL:function(a){this.Jr=
a},MJ:function(a){var c=q.ko.qd(this);c.y-=4;c.vJ(a.end)?this.Qq=a.end.RI()-c.SI():q.log("needn't to adjust view layout.")},KJ:function(){},LJ:function(){},JJ:function(){},xt:function(){},mJ:function(a,c){this.mr=a.width;this.ha.style.width=this.mr.toString()+"px";this.lr=a.height;this.ha.style.height=this.lr.toString()+"px";this.ha.style.backgroundColor=q.Oc(c)}});q.ko.qd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Qf(c,a.Hn())};
q.ko.create=function(a,c,d,e){var f=new q.ko(a);c instanceof q.Ic?f.jt(c):f.Zs(a,c)&&(d&&f.Sl(d,q.Mt),e&&f.Sl(e,q.Lt));return f};if(!ja)var ja={};
ja.EN={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.8",LOGIN:"ISSECTION","Auto Login Next":"Auto login next time.","Save Login Cred":"Remember Login","Play Button Text":"Play","Register Button Text":"Register","Back From Reg Button Text":"Go Back","Reg Confirm Button Text":"Register","System Message":"Accounts are culled daily 00:00 and on software git updates.","Credit Button Text":"Credits","News Button Text":"News","Login Message":"This game saves data automatically.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server is offline!","User Pass Empty":"Please enter a User and Password","Incorrect Email Format":"Please use a correct email address.","Registering Message":"Registering please wait...","Register Empty Fields":"Please fill all fields.","Registration Success":"Registration Successful","Username Label":"Username","Password Label":"Password","Eail Label":"Email Address","Register User Taken":"Registration failed, user already exists.","Logging In Message":"Logging In",
CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.","Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!",
"Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e","Inventory Full":"Your inventory is full",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To \x3cNPC\x3e","NPC Dropdown Walk To":"Walk To \x3cNPC\x3e",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank","NPC Out-of-range":"\x3cNPC\x3e is too far away!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Bank Header":"Bank","Shop Header":"Shop","Inventory Header":"Inventory","Skills Header":"Skills","Quest Header":"Quest Log","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION",
"/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e","/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e","Help Text":"-------HELP------\n- Press C to expand the chat, I for Inventory\n- Space to grab Items and E for Equipment.\n- Enter /commands for command list\n-------------------","Command Text":"Commands: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};ja||(ja={});
ja.CZ={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.8",LOGIN:"ISSECTION","Auto Login Next":"Automaticky p\u0159ihla\u0161ovat.","Save Login Cred":"Pamatovat Login","Play Button Text":"Hr\u00e1t","Register Button Text":"Registrovat","Back From Reg Button Text":"J\u00edt zp\u011bt","Reg Confirm Button Text":"Registrovat","System Message":"\u00da\u010dty jsou automaticky maz\u00e1ny denn\u011b v 00:00 a v software git updatech.","Credit Button Text":"Credits","News Button Text":"Novinky",
"Login Message":"Tato hra ukl\u00e1d\u00e1 data automaticky.","Offline Server":"Server:Offline","Online Server":"Server:Online","Offline Server Message":"Server je offline!","User Pass Empty":"Pros\u00edme vlo\u017ete Jm\u00e9no a Heslo","Incorrect Email Format":"Pros\u00edme pou\u017eijte platnou emailovou adresu.","Registering Message":"Registrov\u00e1n\u00ed. Pros\u00edme, po\u010dkejte...","Register Empty Fields":"Vypl\u0148te pros\u00edm v\u0161echny pole.","Registration Success":"Registrace \u00fasp\u011b\u0161n\u00e1",
"Username Label":"P\u0159ihla\u0161ovac\u00ed jm\u00e9no","Password Label":"Heslo","Eail Label":"Emailov\u00e1 Adresa","Register User Taken":"Registrace selhala, u\u017eivatel ji\u017e existuje.","Logging In Message":"P\u0159ihla\u0161ov\u00e1n\u00ed...",CHATBAR:"ISSECTION","Welcome Message":"V\u00edtejte do Powder Engine! Napi\u0161te /help pro pomocn\u00e9 p\u0159\u00edkazy.","Join Message":"\x3cPLAYER\x3e se p\u0159idal/a do hry!","Leave Message":"\x3cPLAYER\x3e opustil/a hru!","Default ChatBar Message":"C pro zv\u011bt\u0161en\u00ed/zmen\u0161en\u00ed, enter pro chatov\u00e1n\u00ed. Napi\u0161te /help pro pomoc.",
ITEMS:"ISSECTION","Item Dropdown Pick Up":"Sebrat \x3cITEM\x3e","Item Dropdown Walk To":"P\u0159ej\u00edt k \x3cITEM\x3e","Item Pick Up":"Sebr\u00e1no \x3cITEM\x3e.","Item Dropped":"Odlo\u017eeno \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e je p\u0159\u00edli\u0161 daleko ke zvednut\u00ed!","Item Dropdown Examine":"Prozkoumat \x3cITEM\x3e","Item Dropdown Equip":"Nasadit \x3cITEM\x3e","Item Dropdown Read":"P\u0159e\u010d\u00edst \x3cITEM\x3e","Item Dropdown Eat":"Sn\u00edst \x3cITEM\x3e","Item Dropdown Use":"Pou\u017e\u00edt \x3cITEM\x3e",
"Item Dropdown Unequip":"Svl\u00e9knout \x3cITEM\x3e","Item Dropdown Drop":"Odhodit \x3cITEM\x3e","Inventory Full":"V\u00e1\u0161 invent\u00e1\u0159 je pln\u00fd!",NPCS:"ISSECTION","NPC Dropdown Examine":"Prozkoumat","NPC Dropdown Attack":"\u00datok","NPC Dropdown Talk":"Promluvit s \x3cNPC\x3e","NPC Dropdown Walk To":"P\u0159ej\u00edt k \x3cNPC\x3e","NPC Dropdown Follow":"N\u00e1sledovat","NPC Dropdown Trade":"Obchodovat","NPC Dropdown Bank":"Otev\u0159\u00edt banku","NPC Out-of-range":"\x3cNPC\x3e je p\u0159\u00edli\u0161 daleko!",
SIGNS:"ISSECTION","Sign Dropdown list Read":"P\u0159e\u010d\u00edst ceduli \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e je p\u0159\u00edli\u0161 daleko k p\u0159e\u010dten\u00ed!",PANELS:"ISSECTION","Equipment Header":"Vybaven\u00ed","Bank Header":"Banka","Shop Header":"Obchod","Inventory Header":"Invent\u00e1\u0159","Skills Header":"Seznam schopnost\u00ed","Quest Header":"Quest Log","No Quests":"There are no quests to show.",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e zatancoval tanec jeho kmene.",
"/diceroll":"\x3cPLAYER\x3e hodil kostkou a dostal \x3cVALUE\x3e","/coinflip":"\x3cPLAYER\x3e hodil minc\u00ed a dostal \x3cVALUE\x3e","Help Text":"-------HELP------\n- Stiskn\u011bte C ke zv\u011bt\u0161en\u00ed chatu, I pro Invent\u00e1\u0159\n- Mezern\u00edk k sebr\u00e1n\u00ed p\u0159edm\u011btu a E pro V\u00fdbavu.\n- Napi\u0161te /commands pro seznam p\u0159\u00edkaz\u016f\n-------------------","Command Text":"P\u0159\u00edkazy: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};ja||(ja={});
ja.LA={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",LOGIN:"ISSECTION","Auto Login Next":"Auto login next time.","Save Login Cred":"Remember Login","Play Button Text":"Play","Register Button Text":"Register","Back From Reg Button Text":"Go Back","Reg Confirm Button Text":"Register","System Message":"Accounts are culled daily 00:00 and on software git updates.","Credit Button Text":"Credits","News Button Text":"News","Login Message":"This game saves data automatically.","Offline Server":"Server:Offline",
"Online Server":"Server:Online","Offline Server Message":"Server is offline!","User Pass Empty":"Please enter a User and Password","Incorrect Email Format":"Please use a correct email address.","Registering Message":"Registering please wait...","Register Empty Fields":"Please fill all fields.","Registration Success":"Registration Successful","Username Label":"Username","Password Label":"Password","Eail Label":"Email Address","Register User Taken":"Registration failed, user already exists.","Logging In Message":"Logging In",
CHATBAR:"ISSECTION","Welcome Message":"Gratior Powder Engine! Intra /help enim auxilium.","Join Message":"\x3cPLAYER\x3e Coninguit ludo!","Leave Message":"\x3cPLAYER\x3e Discessiit ludo!","Default ChatBar Message":"C explodere/dimittere, enter enim colloquium. Dice /help enim iuva.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Elege \x3cITEM\x3e","Item Dropdown Walk To":"Ambula ad \x3cITEM\x3e","Item Pick Up":"Elegit super \x3cITEM\x3e.","Item Dropped":"Roravit \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e est nimis procul elegere super!",
"Item Dropdown Examine":"vide \x3cITEM\x3e","Item Dropdown Equip":"Apte \x3cITEM\x3e","Item Dropdown Read":"Lege \x3cITEM\x3e","Item Dropdown Eat":"Cena \x3cITEM\x3e","Item Dropdown Use":"Face \x3cITEM\x3e","Item Dropdown Unequip":"Aufer \x3cITEM\x3e","Item Dropdown Drop":"Pone \x3cITEM\x3e","Inventory Full":"Tuus inventarium est plenum",NPCS:"ISSECTION","NPC Dropdown Examine":"Vide","NPC Dropdown Attack":"Oppugne","NPC Dropdown Talk":"Dice \x3cNPC\x3e","NPC Dropdown Walk To":"Ambula ad \x3cNPC\x3e",
"NPC Dropdown Follow":"Immine","NPC Dropdown Trade":"Eme","NPC Dropdown Bank":"Pateface Ripa","NPC Out-of-range":"\x3cNPC\x3e est nimis procul!",SIGNS:"ISSECTION","Sign Dropdown list Read":"Lege signum \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e est nimis procul legere!",PANELS:"ISSECTION","Equipment Header":"Armorum","Bank Header":"Ripa","Shop Header":"Taberna","Inventory Header":"Inventarium","Skills Header":"Peritia index","Quest Header":"Investigatio stipes","No Quests":"There are no quests to show.",
COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e Ballavit ballar populo.","/diceroll":"\x3cPLAYER\x3e Misit aleam et accepit \x3cVALUE\x3e","/coinflip":"\x3cPLAYER\x3e Vertit numismam et accepit \x3cVALUE\x3e","Help Text":"-------HELP------\n- Urge C expandere colloquium, I enim Inventarum\n- Space captere Itema et E enim Armorum.\n- Enter /Imperia enim imperium index\n-------------------","Command Text":"Imperia: /editskill, /editsign, /editnpc,/editmap,/editwarp,/edititem,/whereami,/dance,/coinflip,/diceroll,/warpmeto map x y"};SingleLineBox=q.Vh.extend({Tb:null,Ea:null,or:q.Oy,nr:q.Ny,Jr:q.Xy,mH:"",Gb:"",bg:null,ye:null,el:50,Qq:18,P:null,ue:14,bi:"Arial",pr:!1,ei:"",Zf:14,pH:!1,ctor:function(a){q.Vh.prototype.ctor.call(this);this.pr=!1;this.bg=q.Eb();this.ye=q.Cl();this.O(a);this.Tb=new q.v;this.Tb.Za=function(){};this.f(this.Tb);var c=this;this.P=document.createElement("input");this.P.type="text";this.P.style.fontSize=this.ue+"px";this.P.style.color="#000000";this.P.style.border=0;this.P.style.background="transparent";
this.P.style.width="100%";this.P.style.height="100%";this.P.style.IH=0;this.P.style.outline="medium";this.P.addEventListener("input",function(){c.Ea&&c.Ea.vi&&c.Ea.vi(c,this.value)});this.P.addEventListener("keyup",function(a){a.keyCode===q.Cq.BC&&!1==c.pr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.P.addEventListener("focus",function(){this.value==c.Gb&&(this.value="",this.style.fontSize=c.ue+"px",this.style.color=q.Oc(c.bg));c.Ea&&c.Ea.xl&&c.Ea.xl(c)});this.P.addEventListener("blur",
function(){""==this.value&&(this.value=c.Gb,this.style.fontSize=c.Zf+"px",this.style.color=q.Oc(c.ye));c.Ea&&c.Ea.yl&&c.Ea.yl(c)});q.tc.Gs(this.Tb);this.Tb.ha.appendChild(this.P);this.Tb.ha.HL=!1;this.Tb.ha.style.width=a.width-6+"px";this.Tb.ha.style.height=a.height-6+"px";this.Tb.canvas.remove()},TK:function(a,c){this.ue=c;this.bi=a;this.mi()},SX:function(){},aE:function(a){this.bi=a;this.mi()},Ox:function(a){this.ue=a;this.mi()},mi:function(){this.P.value!=this.Gb&&(this.P.style.fontFamily=this.bi,
this.P.style.fontSize=this.ue+"px")},je:function(a){null!=a&&(""==a?(this.P.value=this.Gb,this.P.style.color=q.Oc(this.ye)):(this.P.value=a,this.P.style.color=q.Oc(this.bg)))},ZD:function(a){this.bg=a;this.P.value!=this.Gb&&(this.P.style.color=q.Oc(a))},ZK:function(a){!isNaN(a)&&0<a&&(this.el=a,this.P.maxLength=a)},QI:function(){return this.el},cL:function(a){if(null!=a){var c=this.Gb;this.Gb=a;this.P.value==c&&(this.P.value=a,this.P.style.color=q.Oc(this.ye),this.Df())}},dL:function(a,c){this.ei=
a;this.Zf=c;this.Df()},fL:function(a){this.ei=a;this.Df()},gL:function(a){this.Zf=a;this.Df()},Df:function(){this.P.value==this.Gb&&(this.P.style.fontFamily=this.ei,this.P.style.fontSize=this.Zf+"px")},eL:function(a){this.ye=a;this.P.value==this.Gb&&(this.P.style.color=q.Oc(a))},kq:function(a){this.nr=a;this.P.type=a==q.My?"password":"text"},ba:function(){return this.P.value},Zs:function(a,c){return this.ix(c)?(this.Tb.l(3,3),this.oE(!1),this.Ji(a),this.l(0,0),this.av(this,this.xt,q.Kt),!0):!1},pg:function(a){this.Ea=
a},UI:function(){return this.Gb},XK:function(a){this.or=a},kL:function(a){this.Jr=a},MJ:function(a){var c=q.ko.qd(this);c.y-=4;c.vJ(a.end)?this.Qq=a.end.RI()-c.SI():q.log("needn't to adjust view layout.")},KJ:function(){},LJ:function(){},JJ:function(){},xt:function(){},jt:function(a){a=ka(a.q,a.p,a.o);this.P.style.background=a},mJ:function(a,c){this.mr=a.width;this.ha.style.width=this.mr.toString()+"px";this.lr=a.height;this.ha.style.height=this.lr.toString()+"px";this.ha.style.backgroundColor=q.Oc(c)}});
SingleLineBox.qd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Qf(c,a.Hn())};SingleLineBox.create=function(a,c,d,e){var f=new SingleLineBox(a);c instanceof q.Ic?f.jt(c):f.Zs(a,c)&&(d&&f.Sl(d,q.Mt),e&&f.Sl(e,q.Lt));return f};MultiLineBox=q.Vh.extend({Tb:null,Ea:null,or:q.Oy,nr:q.Ny,Jr:q.Xy,mH:"",Gb:"",bg:null,ye:null,el:50,Qq:18,P:null,ue:14,bi:"Arial",pr:!1,ei:"",Zf:14,pH:!1,ctor:function(a){q.Vh.prototype.ctor.call(this);this.pr=!1;this.bg=q.Eb();this.ye=q.Cl();this.O(a);this.Tb=new q.v;this.Tb.Za=function(){};this.f(this.Tb);var c=this;this.P=document.createElement("TEXTAREA");this.P.type="text";this.P.style.fontSize=this.ue+"px";this.P.style.color="#000000";this.P.style.border=0;this.P.style.background="transparent";
this.P.style.width="100%";this.P.style.height="100%";this.P.style.IH=0;this.P.style.outline="medium";this.P.addEventListener("input",function(){c.Ea&&c.Ea.vi&&c.Ea.vi(c,this.value)});this.P.addEventListener("keyup",function(a){a.keyCode===q.Cq.BC&&!1==c.pr&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.P.addEventListener("focus",function(){this.value==c.Gb&&(this.value="",this.style.fontSize=c.ue+"px",this.style.color=q.Oc(c.bg));c.Ea&&c.Ea.xl&&c.Ea.xl(c)});this.P.addEventListener("blur",
function(){""==this.value&&(this.value=c.Gb,this.style.fontSize=c.Zf+"px",this.style.color=q.Oc(c.ye));c.Ea&&c.Ea.yl&&c.Ea.yl(c)});q.tc.Gs(this.Tb);this.Tb.ha.appendChild(this.P);this.Tb.ha.HL=!1;this.Tb.ha.style.width=a.width-6+"px";this.Tb.ha.style.height=a.height-6+"px";this.Tb.canvas.remove()},TK:function(a,c){this.ue=c;this.bi=a;this.mi()},SX:function(){},aE:function(a){this.bi=a;this.mi()},Ox:function(a){this.ue=a;this.mi()},mi:function(){this.P.value!=this.Gb&&(this.P.style.fontFamily=this.bi,
this.P.style.fontSize=this.ue+"px")},je:function(a){null!=a&&(""==a?(this.P.value=this.Gb,this.P.style.color=q.Oc(this.ye)):(this.P.value=a,this.P.style.color=q.Oc(this.bg)))},ZD:function(a){this.bg=a;this.P.value!=this.Gb&&(this.P.style.color=q.Oc(a))},ZK:function(a){!isNaN(a)&&0<a&&(this.el=a,this.P.maxLength=a)},QI:function(){return this.el},cL:function(a){if(null!=a){var c=this.Gb;this.Gb=a;this.P.value==c&&(this.P.value=a,this.P.style.color=q.Oc(this.ye),this.Df())}},dL:function(a,c){this.ei=
a;this.Zf=c;this.Df()},fL:function(a){this.ei=a;this.Df()},gL:function(a){this.Zf=a;this.Df()},Df:function(){this.P.value==this.Gb&&(this.P.style.fontFamily=this.ei,this.P.style.fontSize=this.Zf+"px")},eL:function(a){this.ye=a;this.P.value==this.Gb&&(this.P.style.color=q.Oc(a))},kq:function(a){this.nr=a;this.P.type=a==q.My?"password":"text"},ba:function(){return this.P.value},Zs:function(a,c){return this.ix(c)?(this.Tb.l(3,3),this.oE(!1),this.Ji(a),this.l(0,0),this.av(this,this.xt,q.Kt),!0):!1},pg:function(a){this.Ea=
a},UI:function(){return this.Gb},XK:function(a){this.or=a},kL:function(a){this.Jr=a},MJ:function(a){var c=q.ko.qd(this);c.y-=4;c.vJ(a.end)?this.Qq=a.end.RI()-c.SI():q.log("needn't to adjust view layout.")},KJ:function(){},LJ:function(){},JJ:function(){},xt:function(){},jt:function(a){a=ka(a.q,a.p,a.o);this.P.style.background=a},mJ:function(a,c){this.mr=a.width;this.ha.style.width=this.mr.toString()+"px";this.lr=a.height;this.ha.style.height=this.lr.toString()+"px";this.ha.style.backgroundColor=q.Oc(c)}});
MultiLineBox.qd=function(a){var c=a.c(),c=q.rect(0,0,c.width,c.height);return q.Qf(c,a.Hn())};MultiLineBox.create=function(a,c,d,e){var f=new MultiLineBox(a);c instanceof q.Ic?f.jt(c):f.Zs(a,c)&&(d&&f.Sl(d,q.Mt),e&&f.Sl(e,q.Lt));return f};var la=document.ccConfig,ma={},na=!1,v=[],y=[];q.Wd.g().nL(["res/Graphics"]);for(var oa in document.ccConfig.tileSheets)v.push({name:document.ccConfig.tileSheets[oa],texture:q.ga.g().la(document.ccConfig.tileSheets[oa])});for(oa in document.ccConfig.characterSheets)y.push({name:document.ccConfig.characterSheets[oa],texture:q.ga.g().la(document.ccConfig.characterSheets[oa])});document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();ma[a.keyCode]=!0};window.onbeforeunload=function(){z({disconnect:!0})};
window.onfocus=function(){for(var a=[],c=A.length-1;0<=c;c--){var d=JSON.parse(A[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=1,d.moveTo=null,A[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&A.splice(c,1)}};var B=q.i(255,255,255,255),pa=q.i(0,255,0,255),C=q.i(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){ma[a.keyCode]=!1;if(null!=D.g().ld){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&D.g().ld.Ll(c)}};rememberLoginNextTime=autoLoginNextTime=!1;var G=ja[la.language];console.log(G);function H(a,c){return a?(a.HJ&&a.za||!a.HJ)&&q.wb(q.rect(a.u.I,a.u.U,a.c().width,a.c().height),c):!1}
function I(a){if(!a)return null;var c=null;"object"==typeof a&&(c={});a instanceof Array&&(c=[]);for(var d in a)c[d]=a[d]&&("object"==typeof a[d]||a[d]instanceof Array)?I(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function qa(){K.Ud(function(){})}function ra(a,c){var d=c?a:a.sc();return sa(d,"panels")}
function sa(a,c,d){if(c=d?d[c]:a[c]){"undefined"!=typeof c.tU?d=wa.Ky(c.sY):"undefined"!=typeof c.$?d=q.v.La(q.ga.g().la(c.$)):"undefined"!=typeof c.label?d=q.R.create(c.label,c.font?c.K3:"Arial",c.fontSize?c.fontSize:14):"undefined"!=typeof c.color&&"undefined"!=typeof c.size?(d=q.v.create(),d.ib(q.rect(0,0,c.size.width,c.size.height)),d.A(q.a(0,0))):d=q.G.create();"undefined"!=typeof c.size&&d.O(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.l(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.D(c.visible);"undefined"!=typeof c.e&&d.A(c.e);"undefined"!=typeof c.color&&d.r&&(d.r(c.color),c.color.Q&&d.ta(c.color.Q));"undefined"!=typeof c.opacity&&d.ta(c.opacity);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=sa(a,e,c.children),d[e]&&d.f(d[e]);return d}}
function xa(a,c,d){a=a[c];"undefined"!=typeof a.size&&d.O(Math.floor(a.size.width),Math.floor(a.size.height));"undefined"!=typeof a.position&&d.l(q.a(Math.floor(a.position.x),Math.floor(a.position.y)));"undefined"!=typeof a.visible&&d.D(a.visible);"undefined"!=typeof a.e&&d.A(a.e);"undefined"!=typeof a.opacity&&d.ta(a.opacity);"undefined"!=typeof a.color&&d.r(a.color);if("undefined"!=typeof a.children)for(var e in a.children)xa(a.children,e,d[e])}
function ya(a){a=a.toString(16);return 1==a.length?"0"+a:a}function ka(a,c,d){return"#"+ya(a)+ya(c)+ya(d)}var L=null,M=la.tileSize,za=la.characterSize,N=Math.floor(36),O=Math.floor(36);function Aa(){P=q.ra.g().vn();q.size(P.width,P.height);L=q.size(O*M,N*M)}function Q(a,c){return parseInt(O*(N-c))+parseInt(a)}function Ba(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d}
function Ca(a,c,d){if(0==a.length)return!0;for(var e=0;e<a.length;e++)switch(a[e].type){case "Is Quest Point":var f=R.t.N.uk(a[e].data.quest);f||(f=0);if(f!=a[e].data.objective)return!1;break;case "Script Requirement":if("Tile"==c)var g=I(R.t.N.Sp(d.Rc));else"NPC"==c?g=I(R.t.N.Sp(d.Rc)):"Item"==c&&(g=I(R.t.N.Sp(d.script)));g||(g={});try{var h=a[e].data.functionContent.replace(/,/g,"").split(":"),f="{",k;for(k in h)f=0==k%2?f+('"'+h[k]+'":'):k!=h.length-1?f+('"'+h[k]+'",'):f+('"'+h[k]+'"');var f=f+
"}",l=JSON.parse(f);for(k in l)if(g[k]||(g[k]="null"),g[k]!=l[k])return!1}catch(m){return S.rc("your custom require script failed"),!1}break;case "Is Panel Visibility":f=1==a[e].data.visible?!0:!1;switch(a[e].data.panel){case 0:null==Inventory||Inventory.ea||(Inventory=null);if(Inventory&&!f||!Inventory&&f)return!1;break;case 1:null==Equipment||Equipment.ea||(Equipment=null);if(Equipment&&!f||!Equipment&&f)return!1;break;case 2:if(null==Skills||Skills.ea||(Skills=null),Skills&&!f||!Skills&&f)return!1}break;
case "Is Player Inventory Space":for(var p=a[e].data.space?a[e].data.space:0,s=f=0;40>s;s++)userItems.stored[s]||f++;if(f<p)return!1;break;case "Has Player Item":if(a[e].data.item){p=a[e].data.amount?a[e].data.amount:0;f=0;s=ObjectLists.Xb()[a[e].data.item].name;for(k in userItems.stored)userItems.stored[k]&&userItems.stored[k].name==s&&f++;if(f<p)return!1}break;case "Is Player Statistics":f=ObjectLists.vk()[a[e].data.skill].name;a[e].data.levelUpper||(a[e].data.levelUpper=0);a[e].data.levelLower||
(a[e].data.levelLower=0);a[e].data.healthUpper||(a[e].data.healthUpper=0);a[e].data.healthLower||(a[e].data.healthLower=0);a[e].data.xpUpper||(a[e].data.xpUpper=0);a[e].data.xpLower||(a[e].data.xpLower=0);if(0!=a[e].data.levelUpper||0!=a[e].data.levelLower)if(p=SkillBarsInstance.Tc[f].level+1,p>a[e].data.levelUpper||p<a[e].data.levelLower)return!1;if(0!=a[e].data.healthUpper||0!=a[e].data.healthLower)if(p=SkillBarsInstance.Tc[f].currenthealth,p>a[e].data.healthUpper||p<a[e].data.healthLower)return!1;
if(0!=a[e].data.xpUpper||0!=a[e].data.xpLower)if(p=SkillBarsInstance.Tc[f].experience,p>a[e].data.xpUpper||p<a[e].data.xpLower)return!1}return!0}
function Da(a,c,d,e,f,g){var h=[];if(!(1>a.length)){for(var k=R.t.N.items,l=0;l<a.length;l++)e&&e[a[l].type]||h.push([l,function(){switch(a[l].type){case "Spawn NPC":return function(c){null!=a[c].data.npc&&"undefined"!==a[c].data.npc&&R.iR(ObjectLists.Up()[a[c].data.npc],q.a(d.u.x/M,d.u.y/M))};case "Equip Item":return function(c){c=a[c].data.equip;"bothArms"==c&&(c="lArm",k.equipped.rArm||(c="rArm"));var e=null;k.equipped[c]&&(e=I(k.equipped[c]),T("On Dequip",e,"Item"));var f=ObjectLists.Xb(),g;for(g in f)if(f[g].name==
d.name){k.equipped[c]={number:g,amount:d.amount};break}k.stored[d.IJ]=e;Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()};case "Read Item":return function(c){K.$X(d.name,a[c].data.say)};case "Spawn Item":return function(c){d.NH(a[c].data.item,a[c].data.amount)};case "Talk":return function(c){K.bY(d,f,g,d.name,a[c].data.say,a[c].data.options)};case "Script Response":return function(e){if("Tile"==c)var f=I(R.t.N.Sp(d.Rc));else"NPC"==c?f=I(R.t.N.Sp(d.Rc)):"Item"==c&&(f=I(R.t.N.Sp(d.script)));f||(f=
{});try{var g=a[e].data.functionContent.replace(/,/g,"").split(":");e="{";for(var h in g)e=0==h%2?e+('"'+g[h]+'":'):h!=g.length-1?e+('"'+g[h]+'",'):e+('"'+g[h]+'"');var k=JSON.parse(e+"}"),g=f;h={};for(var l in g)h[l]=g[l];for(l in k)h[l]=k[l];f=h;"Tile"==c?R.t.N.XD(d.Rc,I(f)):"NPC"==c?R.t.N.XD(d.Rc,I(f)):"Item"==c&&R.t.N.XD(d.script,I(f))}catch(F){S.rc("Your custom response script failed")}};case "Give /Take Item":return function(c){var d=ObjectLists.Xb()[a[c].data.item];if(0<a[c].data.amount){var e=
a[c].data.amount;if(!0==d.stackable){for(var f=0;40>f;f++)k.stored[f]&&k.stored[f].name==d.name&&(e=0);0!=g&&(e=1)}else for(var g=0,f=0;40>f;f++)k.stored[f]||g++;if(g<e)return;if(!0==d.stackable){g=!1;for(f=0;40>f;f++)if(k.stored[f]&&k.stored[f].name==d.name){k.stored[f].amount+=a[c].data.amount;Inventory&&Inventory.Dk(f,k.stored[f].amount);g=!0;break}if(!1==g)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=I(d);k.stored[f].amount=a[c].data.amount;Inventory&&Inventory.Dk(f,k.stored[f].amount);break}}else for(g=
0;g<a[c].data.amount;g++)for(f=0;40>f;f++)if(!k.stored[f]){k.stored[f]=I(d);break}}else if(0>a[c].data.amount){e=Math.abs(a[c].data.amount);g=0;d=d.name;for(f in k.stored)k.stored[f]&&k.stored[f].name==d&&g++;if(g<e)return;for(g=0;g<Math.abs(a[c].data.amount);g++)for(f in k.stored)if(k.stored[f]&&k.stored[f].name==d){console.log("gettin rid"+g);user.stored[f]=null;break}}Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()};case "Modify Player Stats":return function(c){if(ObjectLists.vk()[a[c].data.skill]){var d=
ObjectLists.vk()[a[c].data.skill].name;U.NU(d,a[c].data.level);U.MU(d,a[c].data.health);U.OU(d,a[c].data.xp)}};case "Show Sign":return function(c){K.dY(a[c].data.title,a[c].data.content)};case "Set Quest Point":return function(c){R.t.N.BX(a[c].data.quest,a[c].data.objective)};case "Warp Player":return function(c){var d=a[c].data.index%O,e=Math.floor(a[c].data.index/O)+1;R.t.N.l(d*M,e*M);z({changemap:""+a[c].data.mapnum,setTo:a[c].data.index});V.Yp(a[c].data.mapnum);V.Al(d*M,e*M)};case "Open/Close Panel":return function(c){var d=
1==a[c].data.visible?!0:!1;switch(a[c].data.panel){case 0:null==Inventory||Inventory.ea||(Inventory=null);!0==d?Inventory?Inventory.Qa():(Inventory=new InventoryPanel,Inventory.w(),Inventory.pa(),K.f(Inventory)):Inventory&&(Inventory.xa(),Inventory.K(),Inventory=null);break;case 1:null==Equipment||Equipment.ea||(Equipment=null);!0==d?Equipment?Equipment.Qa():(Equipment=new EquipmentPanel,Equipment.w(),Equipment.pa(),K.f(Equipment)):Equipment&&(Equipment.xa(),Equipment.K(),Equipment=null);break;case 2:null==
Skills||Skills.ea||(Skills=null);!0==d?Skills?Skills.Qa():(Skills=new SkillsPanel,Skills.w(),Skills.pa(),K.f(Skills)):Skills&&(Skills.xa(),Skills.K(),Skills=null);break;case 3:null==Quests||Quests.ea||(Quests=null);!0==d?Quests?Quests.Qa():(Quests=new QuestsPanel,Quests.w(),Quests.pa(),K.f(Quests)):Quests&&(Quests.xa(),Quests.K(),Quests=null);break;case 4:null==Inventory||Inventory.ea||(Inventory=null),Inventory&&(Inventory.xa(),Inventory.K(),Inventory=null),null==Bank||Bank.ea||(Bank=null),!0==d?
Bank?Bank.Qa():(Bank=new BankPanel,Bank.w(),Bank.pa(),K.f(Bank)):Bank&&(Bank.xa(),Bank.K(),Bank=null)}};case "Destroy":item=null,Inventory&&Inventory.Qa(),l=a.length}}()]);for(e=0;e<h.length;e++)h[e][1](h[e][0]),h.splice(e,1),e--}}
function T(a,c,d,e,f){K.Ud(function(){var g=[];c&&("Item"==d?c.script&&ObjectLists.Ie()[c.script]&&(f&&(c.IJ=f),g=ObjectLists.Ie()[c.script].data):"Tile"==d?c.Lh()&&(g=c.Lh().data):"NPC"==d&&c.Rc&&(g=ObjectLists.Ie()[c.Rc].data));for(var h=0;h<g.length;h++)g[h].type==a&&Ca(g[h].requirements,d,e)&&Da(g[h].responses,d,c,e,g,h);f&&(c.IJ=null)})};var W=q.Oa.extend({t:null,qb:function(a){return(a=t.localStorage.getItem("last_"+a))?a:null},Dj:function(a,c){return(c=t.localStorage.setItem("last_"+a,c))?c:null}}),X=null;W.Ky=function(){X||(X=new W);return X};W.g=function(){return X};W.uX=function(a,c){var d=t.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};t.localStorage.setItem("panelStore",JSON.stringify(d))};W.kT=function(){return t.localStorage.getItem("panelStore")};
W.IC=function(a){if(X.qb("maps")){if(a){var c=JSON.parse(t.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};W.YL=function(a,c){X.Dj("maps",c);t.localStorage.setItem("map_data",JSON.stringify(a))};W.IR=function(a,c,d){var e=X.qb("maps")?JSON.parse(t.localStorage.getItem("map_data")):[];e[a]=c;W.YL(e,d)};W.tT=function(){if(X.qb("scripts")){if(""!=t.localStorage.getItem("scripts_data"))var a=JSON.parse(t.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
W.eM=function(a,c){X.Dj("scripts",c);t.localStorage.setItem("scripts_data",JSON.stringify(a))};W.NR=function(a,c,d){var e=X.qb("scripts")?""!=t.localStorage.getItem("scripts_data")?JSON.parse(t.localStorage.getItem("scripts_data")):[]:[];e[a]=c;W.eM(e,d)};W.PV=function(a,c){scriptarray=a;W.ry(scriptarray,c)};W.HT=function(){if(X.qb("warps")){if(""!=t.localStorage.getItem("warps_data"))var a=JSON.parse(t.localStorage.getItem("warps_data"));return a?a:[]}return[]};
W.ry=function(a,c){X.Dj("warps",c);t.localStorage.setItem("warps_data",JSON.stringify(a))};W.SR=function(a,c,d){var e=X.qb("warps")?""!=t.localStorage.getItem("warps_data")?JSON.parse(t.localStorage.getItem("warps_data")):[]:[];e[a]=c;W.ry(e,d)};W.TV=function(a,c){warparray=a;W.ry(warparray,c)};W.aT=function(){if(X.qb("items")){if(""!=t.localStorage.getItem("items_data"))var a=JSON.parse(t.localStorage.getItem("items_data"));return a?a:[]}return[]};
W.Bt=function(a,c){X.Dj("items",c);t.localStorage.setItem("items_data",JSON.stringify(a))};W.HR=function(a,c,d){var e=X.qb("items")?""!=t.localStorage.getItem("items_data")?JSON.parse(t.localStorage.getItem("items_data")):[]:[];e[a]=c;W.Bt(e,d)};W.MV=function(a,c){itemsarray=a;W.Bt(itemsarray,c)};W.xT=function(){if(X.qb("skills")){if(""!=t.localStorage.getItem("skills_data"))var a=JSON.parse(t.localStorage.getItem("skills_data"));return a?a:[]}return[]};
W.EE=function(a,c){X.Dj("skills",c);t.localStorage.setItem("skills_data",JSON.stringify(a))};W.QR=function(a,c,d){var e=X.qb("skills")?""!=t.localStorage.getItem("skills_data")?JSON.parse(t.localStorage.getItem("skills_data")):[]:[];e[a]=c;W.EE(e,d)};W.SV=function(a,c){skillarray=a;W.EE(skillarray,c)};W.vT=function(){if(X.qb("signs")){if(""!=t.localStorage.getItem("signs_data"))var a=JSON.parse(t.localStorage.getItem("signs_data"));return a?a:[]}return[]};
W.qy=function(a,c){X.Dj("signs",c);t.localStorage.setItem("signs_data",JSON.stringify(a))};W.PR=function(a,c,d){var e=X.qb("signs")?""!=t.localStorage.getItem("signs_data")?JSON.parse(t.localStorage.getItem("signs_data")):[]:[];e[a]=c;W.qy(e,d)};W.RV=function(a,c){signarray=a;W.qy(signarray,c)};W.gT=function(){if(X.qb("npcs")){if(""!=t.localStorage.getItem("npcs_data"))var a=JSON.parse(t.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
W.ZL=function(a,c){X.Dj("npcs",c);t.localStorage.setItem("npcs_data",JSON.stringify(a))};W.JR=function(a,c,d){var e=X.qb("npcs")?""!=t.localStorage.getItem("npcs_data")?JSON.parse(t.localStorage.getItem("npcs_data")):[]:[];e[a]=c;W.ZL(e,d)};W.NV=function(a,c){npcsarray=a;W.qy(npcsarray,c)};W.uk=function(){if(X.qb("quests")){if(""!=t.localStorage.getItem("quests_data"))var a=JSON.parse(t.localStorage.getItem("quests_data"));return a?a:[]}return[]};
W.py=function(a,c){X.Dj("quests",c);t.localStorage.setItem("quests_data",JSON.stringify(a))};W.MR=function(a,c,d){var e=X.qb("quests")?""!=t.localStorage.getItem("quests_data")?JSON.parse(t.localStorage.getItem("quests_data")):[]:[];e[a]=c;W.py(e,d)};W.OV=function(a,c){questsarray=a;W.py(questsarray,c)};W.uT=function(){if(X.qb("shops")){if(""!=t.localStorage.getItem("shops_data"))var a=JSON.parse(t.localStorage.getItem("shops_data"));return a?a:[]}return[]};
W.fM=function(a,c){X.Dj("shops",c);t.localStorage.setItem("shops_data",JSON.stringify(a))};W.OR=function(a,c,d){var e=X.qb("shops")?""!=t.localStorage.getItem("shops_data")?JSON.parse(t.localStorage.getItem("shops_data")):[]:[];e[a]=c;W.py(e,d)};W.QV=function(a,c){shopsarray=a;W.fM(shopsarray,c)};W.OC=function(){if(X.qb("settings")){if(""!=t.localStorage.getItem("settings_data"))var a=JSON.parse(t.localStorage.getItem("settings_data"));return a?a:[]}return[]};
W.DE=function(a,c){X.Dj("settings",c);t.localStorage.setItem("settings_data",JSON.stringify(a))};
W.yM=function(){t.localStorage.setItem("map_data",[]);t.localStorage.setItem("last_maps",2);t.localStorage.setItem("warps_data",[]);t.localStorage.setItem("last_warps",2);t.localStorage.setItem("items_data",[]);t.localStorage.setItem("last_items",2);t.localStorage.setItem("skills_data",[]);t.localStorage.setItem("last_skills",2);t.localStorage.setItem("signs_data",[]);t.localStorage.setItem("last_signs",2);t.localStorage.setItem("npcs_data",[]);t.localStorage.setItem("last_npcs",2);t.localStorage.setItem("quests_data",
[]);t.localStorage.setItem("last_quests",2);t.localStorage.setItem("shops_data",[]);t.localStorage.setItem("last_shops",2);t.localStorage.setItem("settings_data",[]);t.localStorage.setItem("last_settings",2);t.localStorage.setItem("scripts_data",[]);t.localStorage.setItem("last_scripts",2);t.localStorage.setItem("panelStore",null)};
W.KN=function(){z({sync:!0,mapupdate:null!=X.qb("maps")?X.qb("maps"):2,warpupdate:null!=X.qb("warps")?X.qb("warps"):2,itemupdate:null!=X.qb("items")?X.qb("items"):2,skillsupdate:null!=X.qb("skills")?X.qb("skills"):2,signsupdate:null!=X.qb("signs")?X.qb("signs"):2,npcsupdate:null!=X.qb("npcs")?X.qb("npcs"):2,questsupdate:null!=X.qb("quests")?X.qb("quests"):2,shopsupdate:null!=X.qb("shops")?X.qb("shops"):2,settingsupdate:null!=X.qb("settings")?X.qb("settings"):2,scriptsupdate:null!=X.qb("scripts")?
X.qb("scripts"):2})};W.Oaa=function(a){!0!=a&&!1!=a||t.localStorage.setItem("mapedit_saveonexit",a)};W.j5=function(){return null==t.localStorage.getItem("mapedit_saveonexit")?!1:t.localStorage.getItem("mapedit_saveonexit")};W.FX=function(a,c){t.localStorage.setItem("savedcredentials",JSON.stringify({user:a,pass:c}))};W.IK=function(a){t.localStorage.setItem("autologin",JSON.stringify(a))};W.yJ=function(){var a=t.localStorage.getItem("autologin");return null!=a?JSON.parse(a):!1};
W.EJ=function(){return t.localStorage.getItem("savedcredentials")?!0:!1};W.BT=function(){var a=t.localStorage.getItem("savedcredentials");return a?JSON.parse(a):!1};ListView=q.Yh.extend({Fl:null,k:null,Pw:null,yx:!1,og:null,Cj:null,OL:null,KD:function(){if(this.k){this.Cj&&(this.Cj.K(),this.og.K());var a=this.k.ec();a.height<this.k.c().height&&(a=this.k.c(),this.yx=!0);this.Fl=[];for(var c=0,d=0;d<this.k.Yb();d++){var e=this.k.kc(d),c=c+e.height;this.Fl[d]=q.G.create();this.Fl[d].O(e);this.Fl[d].l(q.a(0,a.height-c));this.Fl[d].A(q.a(0,1));this.f(this.Fl[d]);this.Fl[d].f(this.k.jc(d))}this.qq(-300);this.kE(0);!1==this.yx&&(this.Cj=q.v.create(),this.Cj.ib(q.rect(0,
0,1,this.k.c().height)),this.Cj.r(q.i(0,0,0,255)),this.Cj.A(q.a(0,0)),this.Cj.l(q.a(this.k.c().width+20,0)),this.og=q.v.create(),this.og.A(q.a(0,0)),this.og.ib(q.rect(0,0,20,this.k.c().height/5)),this.og.r(q.i(90,90,255,255)),this.og.l(q.a(this.k.c().width+10,0)),this.k.f(this.Cj),this.k.f(this.og),this.Ul(q.a(0,this.et().y),!1));this.k.l(this.OL)}},w:function(a){this.k=a;this.A(q.a(0,0));this.OL=q.a(a.u.I,a.u.U);this.cq(this.k.c(),this.k);this.OK(q.Eq);this.KW(!1);a=this.k.ec();var c=q.G.create();
c.O(a);this.OW(c)},mc:function(a){this.Pw=a},PD:!1,Nx:null,Zb:function(a){if(!this.k.Hf)return!1;for(var c=0;c<this.k.Yb();c++)this.k.Hf(c).r(q.i(255,255,255,255));this.k.Hf(a).r(q.i(255,0,0,255))},vb:function(a){for(var c=a.S,d=0;d<this.k.Yb();d++)for(var e in this.Pw[d]){var f=this.Fl[d].Ka(c),g=this.k.Ka(c);g.x+=this.k.u.I;H(this.k,g);if(H(this.Pw[d][e],f))return this.k.sb(this.Pw[d][e].Pa,d,a),this.PD=!0}if(!1==this.yx){a=this.k.Ka(c);if(H(this.og,a))return this.Nx=a.y-this.og.u.U,!0;this.Nx=
null}},Qd:function(a){if(!0==this.PD)return this.PD=!1;if(!1==this.yx){var c=a.S;if(null!=this.Nx&&(c=this.k.Ka(c),c.y-=this.Nx,0<=c.y&&c.y+this.og.c().height<=this.k.c().height))return a=c.y/(this.Cj.c().height-this.og.c().height),this.Ul(q.a(0,this.En().y*a),!1),this.og.Cc(c.y),!0;c=this._super(a);a=this.JI().y/this.En().y;this.og.Cc((this.Cj.c().height-this.og.c().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.w(a);c.KD();return c};var wa=q.G.extend({Ke:null,Le:null,Sg:null,Ne:null,Oe:null,Pe:null,item:null,Yg:null,Ee:null,Fe:null,Ge:null,position:null,string:null,type:null,Rc:null,ctor:function(){this._super()},w:function(){this._super();this.string=q.R.create("","Arial",16);this.string.A(0.5,0.5);this.string.l(16,-16);this.string.ta(0);this.string.r(q.n(0,0,0));this.f(this.string,900);this.Yg=[]},NH:function(a,c){c||(c=1);var d=ObjectLists.Xb()[a];d&&(this.Wl(d.sprite.texture,d.sprite.position,"item"),this.Yg.push({Fi:a,Gh:c}))},
removeItem:function(){0<this.Yg.length&&this.Yg.splice(this.Yg.length-1,1);if(0<this.Yg.length){var a=ObjectLists.Xb()[this.Yg[this.Yg.length-1].Fi];this.Wl(a.sprite.texture,a.sprite.position,"item")}else this.item.K(),this.item=null},xn:function(){return 0==this.Yg.length?null:this.Yg[this.Yg.length-1]},Wl:function(a,c,d){a=q.v.La(q.ga.g().la(a));a.ib(q.rect(Math.floor(M*c.x),Math.floor(M*c.y),M,M));a.r(q.i(255,255,255,255));a.A(0,1);switch(d){case "ground1":null!=this.Ke&&this.Ke.K();this.Ke=a;
this.f(this.Ke);break;case "ground2":null!=this.Le&&this.Le.K();this.Le=a;this.f(this.Le,1);break;case "ground3":null!=this.Sg&&this.Sg.K();this.Sg=a;this.f(this.Sg,2);break;case "mask1":null!=this.Ne&&this.Ne.K();this.Ne=a;this.f(this.Ne,3);break;case "mask2":null!=this.Oe&&this.Oe.K();this.Oe=a;this.f(this.Oe,4);break;case "mask3":null!=this.Pe&&this.Pe.K();this.Pe=a;this.f(this.Pe,5);break;case "item":null!=this.item&&this.item.K();this.item=a;this.f(this.item,6);break;case "fringe1":null!=this.Ee&&
this.Ee.K();this.Ee=a;this.f(this.Ee,7);break;case "fringe2":null!=this.Fe&&this.Fe.K();this.Fe=a;this.f(this.Fe,8);break;case "fringe3":null!=this.Ge&&this.Ge.K(),this.Ge=a,this.f(this.Ge,10)}},Vg:function(){var a=!0;null!=this.Ke&&this.Ke.ja()&&!1==this.Ke.ja().Nc?a=!1:null!=this.Le&&this.Le.ja()&&!1==this.Le.ja().Nc?a=!1:null!=this.Sg&&this.Sg.ja()&&!1==this.Sg.J6?a=!1:null!=this.Ne&&this.Ne.ja()&&!1==this.Ne.ja().Nc?a=!1:null!=this.Oe&&this.Oe.ja()&&!1==this.Oe.ja().Nc?a=!1:null!=this.Pe&&this.Pe.ja()&&
!1==this.Pe.ja().Nc?a=!1:null!=this.item&&this.item.ja()&&!1==this.item.ja().Nc?a=!1:null!=this.Ee&&this.Ee.ja()&&!1==this.Ee.ja().Nc?a=!1:null!=this.Fe&&this.Fe.ja()&&!1==this.Fe.ja().Nc?a=!1:null!=this.Ge&&this.Ge.ja()&&!1==this.Ge.ja().Nc&&(a=!1);return a},kf:function(){null!=this.Ke&&this.Ke.K();this.Ke=null;null!=this.Le&&this.Le.K();this.Le=null;null!=this.Sg&&this.Sg.K();this.Sg=null;null!=this.Ne&&this.Ne.K();this.Ne=null;null!=this.Oe&&this.Oe.K();this.Oe=null;null!=this.Pe&&this.Pe.K();
this.Pe=null;null!=this.item&&this.item.K();this.item=null;this.Yg=[];null!=this.Ee&&this.Ee.K();this.Ee=null;null!=this.Fe&&this.Fe.K();this.Fe=null;null!=this.Ge&&this.Ge.K();this.Rc=this.Ge=null},uC:function(a){switch(a){case "ground1":null!=this.Ke&&this.Ke.K();this.Ke=null;break;case "ground2":null!=this.Le&&this.Le.K();this.Le=null;break;case "ground3":null!=this.Sg&&this.Sg.K();this.Sg=null;break;case "mask1":null!=this.Ne&&this.Ne.K();this.Ne=null;break;case "mask2":null!=this.Oe&&this.Oe.K();
this.Oe=null;break;case "mask3":null!=this.Pe&&this.Pe.K();this.Pe=null;break;case "item":null!=this.item&&this.item.K();this.item=null;this.Yg=[];break;case "fringe1":null!=this.Ee&&this.Ee.K();this.Ee=null;break;case "fringe2":null!=this.Fe&&this.Fe.K();this.Fe=null;break;case "fringe3":null!=this.Ge&&this.Ge.K(),this.Ge=null}},eE:function(a){if(!c)var c=!1;this.Rc=a;ObjectLists.Ie()[a]?this.string.na(ObjectLists.Ie()[a].abbr):this.string.na("_")},vS:function(){this.Rc=null;this.string.na("")},
Lh:function(){return ObjectLists.Ie()[this.Rc]},m6:function(){return this.Rc},LX:function(a){this.string.ta(!0==a?255:0)}});wa.Ky=function(a){var c=new wa;c.w();c.position=q.a(a.x,a.y);return c};StatsController=q.v.extend({data:null,rx:null,k:null,w:function(a,c){this.data=a;this.k=c;this.xW()},update:function(){for(var a in this.data)this.rx&&(0==this.data[a].value&&0<this.rx[a]&&this.k.ica(a),this.data[a].bd>this.rx[a].bd&&this.k.kca(a)),this.rx[a]=this.data[a]},B6:function(a){return this.data[a].value},A6:function(a){return this.data[a].bd},X8:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].jg&&(this.data[a].value=this.data[a].jg);0>this.data[a].value&&(this.data[a].value=
0)},RR:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].jg&&(this.data[a].value=this.data[a].jg);0>this.data[a].value&&(this.data[a].value=0)},W8:function(a,c){this.data[a].bd+=c;this.data[a].bd>this.data[a].ig&&(this.data[a].bd=this.data[a].ig);0>this.data[a].bd&&(this.data[a].bd=0)},RR:function(a,c){this.data[a].bd=c;this.data[a].bd>this.data[a].ig&&(this.data[a].bd=this.data[a].ig);0>this.data[a].bd&&(this.data[a].bd=0)},y2:function(a,c){this.data[a].ig=c},z2:function(a,c){this.data[a].jg=
c}});ObjectLists=q.Oa.extend({KE:null,mD:null,sE:null,rE:null,rD:null,DD:null,TD:null,pE:null});var Y;ObjectLists.g=function(){Y||(Y=new ObjectLists,Y.KE=W.HT(),Y.mD=W.aT(),Y.sE=W.xT(),Y.rE=W.vT(),Y.rD=W.gT(),Y.DD=W.uk(),Y.TD=W.tT(),Y.pE=W.uT());return Y};ObjectLists.dJ=function(){return Y.KE};ObjectLists.UX=function(a){Y.KE=a};ObjectLists.Xb=function(){return Y.mD};ObjectLists.eX=function(a){Y.mD=a};ObjectLists.vk=function(){return Y.sE};ObjectLists.KX=function(a){Y.sE=a};ObjectLists.WI=function(){return Y.rE};
ObjectLists.JX=function(a){Y.rE=a};ObjectLists.Up=function(){return Y.rD};ObjectLists.mX=function(a){Y.rD=a};ObjectLists.Xp=function(){return Y.DD};ObjectLists.CX=function(a){Y.DD=a};ObjectLists.Ie=function(){return Y.TD};ObjectLists.HX=function(a){Y.TD=a};ObjectLists.Rs=function(){return Y.pE};ObjectLists.IX=function(a){Y.pE=a};gameMapInstance=null;
var V=q.Vc.extend({ac:null,J:null,Wg:!1,Pf:null,Kf:null,Kn:null,yn:null,Jl:null,Gl:null,Hl:null,Il:null,Ei:null,Di:null,V:q.a(0,0),vl:1,bt:function(a){if("string"===typeof a){if(0==this.J[a].Rc)return!0;a=this.J[a].Lh()}else{if(0==a.Rc)return!0;a=a.Lh()}if(a)for(var c=["Will Enter","On Enter"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ca(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Block Entry"==e[f].type)return!0;return!1},xU:function(a){if("string"===typeof a){if(0==
this.J[a].Rc)return!1;a=this.J[a].Lh()}else{if(0==a.Rc)return!1;a=a.Lh()}if(a)for(var c=["Interact On","Interact Facing"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ca(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Show Sign"==e[f].type)return!0;return!1},uU:function(a){if(a=ObjectLists.Ie()[a.Rc])for(var c=["Default Event"],d=0;d<a.data.length;d++)if(-1<c.indexOf(a.data[d].type)&&Ca(a.data[d].requirements))for(var e=a.data[d].responses,f=0;f<e.length;f++)if("Talk"==
e[f].type)return!0;return!1},Ks:function(a,c){function d(a,c){return{yN:a,value:c.x+c.y*O,x:c.x,y:c.y,ax:0,p:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.J["tile"+Q(a,d)]&&!f.bt("tile"+Q(a,d));myS=e<O&&f.J["tile"+Q(a,e)]&&!f.bt("tile"+Q(a,e));myE=g<O&&f.J["tile"+Q(g,c)]&&!f.bt("tile"+Q(g,c));myW=-1<h&&f.J["tile"+Q(h,c)]&&!f.bt("tile"+Q(h,c));result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,
g=d(null,c),h,k,l,m,p,s=[],u=[],w=[d(null,a)],x=Array(N*O);h=w.length;){k=N*O;l=-1;for(m=0;m<h;m++)w[m].ax<k&&(k=w[m].ax,l=m);k=w.splice(l,1)[0];if(k.value===g.value){l=u[u.push(k)-1];do s.push(q.a(l.x,l.y));while(l=l.yN);x=u=w=[];s.reverse()}else{h=e(k.x,k.y);m=0;for(p=h.length;m<p;m++)l=d(k,h[m]),x[l.value]||(l.p=k.p+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.ax=l.p+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),w.push(l),x[l.value]=!0);u.push(k)}}return s},XX:function(a){this.ac={};this.ac.mapdata=
{};for(var c in this.J)"tile"==c.substring(0,4)&&(this.J[c].kf(),this.ac[c]={});if(a){if(a.mapdata){this.Jl=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.Gl=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.Hl=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.Il=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?
a.mapdata.mapConnectors.right:null;if(gameMapInstance.Ei!=a.mapdata.mapConnectors.width||gameMapInstance.Di!=a.mapdata.mapConnectors.height){O=a.mapdata.mapConnectors.width;N=a.mapdata.mapConnectors.height;Aa();gameMapInstance.J.K();var d=0;for(c in gameMapInstance.ac)"mapdata"!=c&&d++;if(d>O*N)for(c=O*N;c<d;c++)delete gameMapInstance.ac["tile"+c];for(c=0;c<O*N;c++)gameMapInstance.ac["tile"+c]||(gameMapInstance.ac["tile"+c]={})}this.Ei=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?
a.mapdata.mapConnectors.width:36;this.Di=""!=a.mapdata.mapConnectors.height&&null!=a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;R&&R.t.N&&(d=R.t.N.ic(),d.y>this.Di&&R.t.N.Cc(M*this.Di),d.x>this.Ei-1&&R.t.N.Na(M*(this.Ei-1)));this.J.K();this.Pf.K();this.Kf.K();this.Kn.K();this.J=ra(this);this.f(this.J);this.Pf=q.yb.create(L.width,L.height);this.Pf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Pf);this.f(this.Kn);this.Kf=q.yb.create(L.width,L.height);this.Kf.l(q.a(Math.floor(L.width/
2),Math.floor(L.height/2)));this.f(this.Kf)}this.ac=a;for(c in a)if("tile"==c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.J[c]&&this.J[c].Wl(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.J[c]&&(this.J[c].eE(a[c][e].script),T("On Game load",this.J[c],"Tile"))}R&&R.t.N&&(a=R.t.N.ic(),V.Al(a.x*M,a.y*M),this.lc(this.FD))},Yl:function(a){a=W.IC(a);this.ac={};this.ac.mapdata={};for(var c in this.J)"tile"==c.substring(0,4)&&(this.J[c].kf(),this.ac[c]=
{});if(a){if(a.mapdata){this.Jl=""!=a.mapdata.mapConnectors.up&&null!=a.mapdata.mapConnectors.up?a.mapdata.mapConnectors.up:null;this.Gl=""!=a.mapdata.mapConnectors.down&&null!=a.mapdata.mapConnectors.down?a.mapdata.mapConnectors.down:null;this.Hl=""!=a.mapdata.mapConnectors.left&&null!=a.mapdata.mapConnectors.left?a.mapdata.mapConnectors.left:null;this.Il=""!=a.mapdata.mapConnectors.right&&null!=a.mapdata.mapConnectors.right?a.mapdata.mapConnectors.right:null;if(gameMapInstance.Ei!=a.mapdata.mapConnectors.width||
gameMapInstance.Di!=a.mapdata.mapConnectors.height){O=a.mapdata.mapConnectors.width;N=a.mapdata.mapConnectors.height;Aa();gameMapInstance.J.K();var d=0;for(c in gameMapInstance.ac)"mapdata"!=c&&d++;if(d>O*N)for(c=O*N;c<d;c++)delete gameMapInstance.ac["tile"+c];for(c=0;c<O*N;c++)gameMapInstance.ac["tile"+c]||(gameMapInstance.ac["tile"+c]={})}this.Ei=""!=a.mapdata.mapConnectors.width&&null!=a.mapdata.mapConnectors.width?a.mapdata.mapConnectors.width:36;this.Di=""!=a.mapdata.mapConnectors.height&&null!=
a.mapdata.mapConnectors.height?a.mapdata.mapConnectors.height:36;R&&R.t.N&&(d=R.t.N.ic(),d.y>this.Di&&R.t.N.Cc(M*this.Di),d.x>this.Ei-1&&R.t.N.Na(M*(this.Ei-1)));this.J.K();this.Pf.K();this.Kf.K();this.Kn.K();this.J=ra(this);this.f(this.J);this.Pf=q.yb.create(L.width,L.height);this.Pf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Pf);this.f(this.Kn);this.Kf=q.yb.create(L.width,L.height);this.Kf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2)));this.f(this.Kf)}this.ac=a;for(c in a)if("tile"==
c.substring(0,4))for(var e in a[c])"info"!=e?null!=a[c][e]&&this.J[c]&&this.J[c].Wl(a[c][e].texture,a[c][e].frame,e):null!=a[c][e].script&&"undefined"!==a[c][e].script&&this.J[c]&&(this.J[c].eE(a[c][e].script),T("On Game load",this.J[c],"Tile"))}R&&R.t.N&&(c=R.t.N.ic(),V.Al(c.x*M,c.y*M),this.lc(this.FD))},FD:function(){for(var a in this.J)if("tile"==a.substring(0,4)&&!1==this.J[a].Vg())return;R.g().D(!0);R.Ek();this.Uc(this.FD);this.Kf.D(!0);this.Pf.D(!0);this.Wg=!0},sc:function(){for(var a={},c=
0;c<O;c++)for(var d=0;d<N;d++)a["tile"+(c+d*O)]={size:q.size(M,M),e:q.a(0,0),position:q.a(c*M,(N-d)*M),tU:!0,sY:q.a(d,c),visible:!1};return{panels:{children:a}}},w:function(){this.nc(!0);this.kE(1)},vb:function(a){!this.yn||Mapeditor&&Mapeditor.ea||(this.yn=Mapeditor=null);if(this.yn)for(var c in this.J)"tile"==c.substring(0,4)&&q.wb(this.J[c].pb(),q.a(a.S.x-this.V.x,a.S.y+M-this.V.y))&&(this.yn.TL(this.J,c),V.Ct());else for(c in this.J)if("tile"==c.substring(0,4)&&q.wb(this.J[c].pb(),q.a(a.S.x-this.V.x,
a.S.y+M-this.V.y))){var d=V.TI(this.J[c].u.I/M,this.J[c].u.U/M),e=this.xU(c);if(this.J[c].xn()){var d=ObjectLists.Xb()[this.J[c].xn().number],f=G["Item Dropdown Pick Up"]+"",e=G["Item Dropdown Walk To"]+"",f=f.replace("\x3cITEM\x3e",d.name),e=e.replace("\x3cITEM\x3e",d.name);this.ea.f(DropDownList.Pc(this,this.zU,[f,e],a.S));this.Nd=c}else if(d){if(this.uU(d))var g=G["NPC Dropdown Talk"]+"",g=g.replace("\x3cNPC\x3e",d.name);e=G["NPC Dropdown Walk To"]+"";e=e.replace("\x3cNPC\x3e",d.name);g?this.ea.f(DropDownList.Pc(this,
this.WJ,[g,e],a.S,null,{zx:d})):this.ea.f(DropDownList.Pc(this,this.WJ,[e],a.S));this.Nd=c}else e?(e=G["Sign Dropdown list Read"]+"",e=e.replace("\x3cSIGN\x3e",this.J[c].Lh().name),this.ea.f(DropDownList.Pc(this,this.fY,[e],a.S)),this.Nd=c):(e=R.t.N.ic(),R.t.N.rt(this.Ks(q.a(Math.floor(e.x),Math.ceil(e.y)),q.a(this.J[c].u.x/M,this.J[c].u.y/M))))}return!0},Nd:null,zU:function(a){if(null!=this.k.Nd){var c=ObjectLists.Xb()[this.k.J[gameMapInstance.Nd].xn().number],d=R.t.N.ic(),e=q.a(gameMapInstance.J[gameMapInstance.Nd].u.x/
M,gameMapInstance.J[gameMapInstance.Nd].u.y/M);switch(a){case 0:a=d.x>e.x?d.x-e.x:e.x-d.x;d=d.y>e.y?d.y-e.y:e.y-d.y;5>Math.sqrt(a*a+d*d)?R.t.N.oU(gameMapInstance.J[gameMapInstance.Nd]):(d=G["Item Out-of-range"]+"",d=d.replace("\x3cITEM\x3e",c.name),S.rc(d));break;case 1:R.t.N.rt(gameMapInstance.Ks(q.a(Math.floor(d.x),Math.ceil(d.y)),e)),this.k.Nd=null}}},WJ:function(a,c,d,e){if(null!=this.k.Nd)if(c=R.t.N.ic(),1==d.length)R.t.N.rt(gameMapInstance.Ks(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),
this.k.Nd=null;else switch(d=q.a(e.zx.u.x/M,e.zx.u.y/M),a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?(T("Default Event",e.zx,"NPC"),this.k.Nd=null):(a=G["NPC Out-of-range"]+"",a=a.replace("\x3cNPC\x3e",e.zx.name),S.rc(a));break;case 1:R.t.N.rt(gameMapInstance.Ks(q.a(Math.floor(c.x),Math.ceil(c.y)),itemPosition)),this.k.Nd=null}},fY:function(a){if(null!=this.k.Nd){var c=R.t.N.ic(),d=q.a(gameMapInstance.J[gameMapInstance.Nd].u.x/M,gameMapInstance.J[gameMapInstance.Nd].u.y/
M);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?(T("Interact Facing",this.k.J[gameMapInstance.Nd],"Tile"),this.k.Nd=null):(c=G["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.k.J[gameMapInstance.Nd].Lh().name),S.rc(c))}}},Qd:function(a){if(this.yn){for(var c in this.J)"tile"==c.substring(0,4)&&q.wb(this.J[c].pb(),q.a(a.S.x-this.V.x,a.S.y+M-this.V.y))&&(this.yn.TL(this.J,c,"moved"),V.Ct());return!0}for(c in this.J)if("tile"==c.substring(0,4)&&q.wb(this.J[c].pb(),
q.a(a.S.x-this.V.x,a.S.y+M-this.V.y))){var d=R.t.N.ic();R.t.N.rt(this.Ks(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.J[c].u.x/M,this.J[c].u.y/M)))}},Ba:function(){this._super();if(!0==this.Wg){this.Pf.lC(0,0,0,0);for(var a in this.J)"tile"==a.substring(0,4)&&(this.J[a].D(!0),null!=this.J[a].Ee&&this.J[a].Ee.D(!1),null!=this.J[a].Fe&&this.J[a].Fe.D(!1),null!=this.J[a].DC&&this.J[a].DC.D(!1),null!=this.J[a].Ge&&this.J[a].Ge.D(!1),this.J[a].Ba(),null!=this.J[a].Ee&&this.J[a].Ee.D(!0),null!=this.J[a].Fe&&
this.J[a].Fe.D(!0),null!=this.J[a].DC&&this.J[a].DC.D(!0),null!=this.J[a].Ge&&this.J[a].Ge.D(!0),this.J[a].D(!1));this.Pf.end();this.Kf.lC(0,0,0,0);for(a in this.J)"tile"==a.substring(0,4)&&(this.J[a].D(!0),null!=this.J[a].Ke&&this.J[a].Ke.D(!1),null!=this.J[a].Le&&this.J[a].Le.D(!1),null!=this.J[a].XC&&this.J[a].XC.D(!1),null!=this.J[a].Ne&&this.J[a].Ne.D(!1),null!=this.J[a].Oe&&this.J[a].Oe.D(!1),null!=this.J[a].Pe&&this.J[a].Pe.D(!1),null!=this.J[a].item&&this.J[a].item.D(!1),this.J[a].Ba(),null!=
this.J[a].Ke&&this.J[a].Ke.D(!0),null!=this.J[a].Le&&this.J[a].Le.D(!0),null!=this.J[a].XC&&this.J[a].XC.D(!0),null!=this.J[a].Ne&&this.J[a].Ne.D(!0),null!=this.J[a].Oe&&this.J[a].Oe.D(!0),null!=this.J[a].Pe&&this.J[a].Pe.D(!0),null!=this.J[a].item&&this.J[a].item.D(!0),this.J[a].D(!1));this.Kf.end();this.Wg=!1}}});
V.updateOffset=function(a,c){0<=gameMapInstance.V.x+(L.width-P.width/2)+a&&R.t.N.u.x<L.width-P.width/2&&0>=gameMapInstance.V.x+a&&R.t.N.u.x>P.width/2&&(gameMapInstance.V.x+=a);0<=gameMapInstance.V.y+(L.height-P.height/2)+c&&R.t.N.u.y<L.height-P.height/2&&0>=gameMapInstance.V.y+c&&R.t.N.u.y>P.height/2&&(gameMapInstance.V.y+=c);L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2);L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2);gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y)};
V.Al=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.Wg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.lc(V.FK)):(gameMapInstance.V.x=a>L.width-P.width/2?-(L.width-P.width):a<P.width/2?0:-(a-P.width/2),gameMapInstance.V.y=c>L.height-P.height/2?-(L.height-P.height):c<P.height/2?0:-(c-P.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.Uc(V.FK),L.height<
P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;V.FK=function(){V.Al(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};
V.VC=function(){!0==gameMapInstance.Wg?gameMapInstance.lc(V.VC):(gameMapInstance.Uc(V.VC),gameMapInstance.V.x=-(L.width-P.width),L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};
V.UC=function(){!0==gameMapInstance.Wg?gameMapInstance.lc(V.UC):(gameMapInstance.Uc(V.UC),gameMapInstance.V.x=0,L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};
V.TC=function(){!0==gameMapInstance.Wg?gameMapInstance.lc(V.TC):(gameMapInstance.Uc(V.TC),gameMapInstance.V.y=-(L.height-P.height),L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};
V.WC=function(){!0==gameMapInstance.Wg?gameMapInstance.lc(V.WC):(gameMapInstance.Uc(V.WC),gameMapInstance.V.y=0,L.height<P.height&&(gameMapInstance.V.y=(P.height-L.height)/2),L.width<P.width&&(gameMapInstance.V.x=(P.width-L.width)/2),gameMapInstance.l(gameMapInstance.V.x,gameMapInstance.V.y))};
V.create=function(){gameMapInstance||(gameMapInstance=new V,gameMapInstance.J=ra(gameMapInstance),gameMapInstance.f(gameMapInstance.J),gameMapInstance.Pf=q.yb.create(L.width,L.height),gameMapInstance.Pf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/2))),gameMapInstance.f(gameMapInstance.Pf),gameMapInstance.Pf.D(!1),gameMapInstance.Kn=q.G.create(),gameMapInstance.f(gameMapInstance.Kn),gameMapInstance.Kf=q.yb.create(L.width,L.height),gameMapInstance.Kf.l(q.a(Math.floor(L.width/2),Math.floor(L.height/
2))),gameMapInstance.f(gameMapInstance.Kf),gameMapInstance.Kf.D(!1),gameMapInstance.qq(-15),gameMapInstance.w());return gameMapInstance};V.g=function(){return gameMapInstance};V.kt=function(){gameMapInstance.K();gameMapInstance=null};V.Ct=function(){gameMapInstance||(gameMapInstance=V.create());gameMapInstance.Wg=!0};V.YX=function(a){gameMapInstance.XX(a)};V.g=function(){return gameMapInstance};
V.Wl=function(a,c,d,e){gameMapInstance.ac[a]&&(gameMapInstance.J[a].Wl(c,d,e),gameMapInstance.ac[a][e]={texture:c,frame:d})};V.AY=function(){R.vC();z({savemap:gameMapInstance.vl,mapdata:gameMapInstance.ac})};V.uC=function(a,c){gameMapInstance.ac[a][c]=null;gameMapInstance.J[a].uC(c)};V.OX=function(a,c){null!=c&&"undefined"!==c&&(gameMapInstance.J[a].eE(c),gameMapInstance.ac[a].info={script:c})};V.ET=function(a){return gameMapInstance.J[a].Lh()};
V.wS=function(a){gameMapInstance.J[a].vS();gameMapInstance.ac[a].info={script:null}};
V.hX=function(a){gameMapInstance.ac.mapdata.mapConnectors=a;gameMapInstance.Jl=a.up;gameMapInstance.Gl=a.down;gameMapInstance.Hl=a.left;gameMapInstance.Il=a.right;if(gameMapInstance.Ei!=a.width||gameMapInstance.Di!=a.height){O=a.width;N=a.height;Aa();gameMapInstance.J.K();var c=0,d;for(d in gameMapInstance.ac)"mapdata"!=d&&c++;if(c>O*N)for(d=O*N;d<c;d++)delete gameMapInstance.ac["tile"+d];for(d=0;d<O*N;d++)gameMapInstance.ac["tile"+d]||(gameMapInstance.ac["tile"+d]={})}gameMapInstance.Ei=a.width;
gameMapInstance.Di=a.height};V.OS=function(a,c,d){for(var e in gameMapInstance.J)"tile"==e.substring(0,4)&&gameMapInstance.ac[e]&&(gameMapInstance.J[e].Wl(a,c,d),gameMapInstance.ac[e][d]={texture:a,frame:c})};V.pL=function(a){for(var c in gameMapInstance.J)"tile"==c.substring(0,4)&&gameMapInstance.J[c].LX(a);SkillBarsInstance.D(!a);Z.D(!a);gameMapInstance.Wg=!0};
V.zba=function(){for(var a in gameMapInstance.J)"tile"==a.substring(0,4)&&gameMapInstance.J[a].string.na(a.substring(4));gameMapInstance.Wg=!0};V.iJ=function(){return null!=gameMapInstance.Jl};V.fJ=function(){return null!=gameMapInstance.Gl};V.gJ=function(){return null!=gameMapInstance.Hl};V.hJ=function(){return null!=gameMapInstance.Il};V.nf=function(){return gameMapInstance.vl};V.MC=function(){return gameMapInstance.Jl};V.JC=function(){return gameMapInstance.Gl};V.KC=function(){return gameMapInstance.Hl};
V.LC=function(){return gameMapInstance.Il};V.OI=function(){return gameMapInstance.Ei};V.NI=function(){return gameMapInstance.Di};V.Yp=function(a,c){c||(MapMaster=!1);R.g().D(!1);R.vC();V.kf();gameMapInstance.vl=a;R.t.N.lq(a);R.Ek();gameMapInstance.Yl(a)};V.OT=function(a){R.vC();V.kf();gameMapInstance.vl=a;gameMapInstance.Yl(a)};V.NT=function(){R.g().D(!1);V.kf();gameMapInstance.vl=gameMapInstance.Jl;R.t.N.lq(gameMapInstance.Jl);R.Ek();gameMapInstance.Yl(gameMapInstance.Jl)};
V.JT=function(){R.g().D(!1);V.kf();gameMapInstance.vl=gameMapInstance.Gl;R.t.N.lq(gameMapInstance.Gl);R.Ek();gameMapInstance.Yl(gameMapInstance.Gl)};V.KT=function(){R.g().D(!1);V.kf();gameMapInstance.vl=gameMapInstance.Hl;R.t.N.lq(gameMapInstance.Hl);R.Ek();gameMapInstance.Yl(gameMapInstance.Hl)};V.yi=function(a){if(!W.IC(a))return q.size(36,36);a=W.IC(a).mapdata.mapConnectors;return q.size(a.width,a.height)};
V.MT=function(){R.g().D(!1);V.kf();gameMapInstance.vl=gameMapInstance.Il;R.t.N.lq(gameMapInstance.Il);R.Ek();gameMapInstance.Yl(gameMapInstance.Il)};V.lt=function(a){gameMapInstance.yn=a};V.wn=function(a,c){return a>O-1||0>a?void 0:gameMapInstance.J["tile"+(a+(N-c)*O)]};V.TI=function(a,c){for(var d in R.g().ge){var e=R.g().ge[d].ic();if(e.x==a&&e.y==c)return R.g().ge[d]}return null};V.aJ=function(a){return gameMapInstance.J["tile"+a]};
V.oR=function(){var a=R.g();gameMapInstance.Kn.f(a);V.Al(R.t.N.u.I,R.t.N.u.U)};V.kf=function(){gameMapInstance.ac={};for(var a in gameMapInstance.J)"tile"==a.substring(0,4)&&(gameMapInstance.J[a].kf(),gameMapInstance.ac[a]={});gameMapInstance.ac.mapdata={};gameMapInstance.Wg=!0};var R=q.Vc.extend({t:null,Bc:[],ge:[],N:null});R.g=function(){return this.t};R.kt=function(){this.t.K();this.t=null};R.create=function(a){this.t||(this.t=new R,this.t.N=PlayerCharacter.create(a),this.t.f(this.t.N));return this.t};R.pN=function(){var a=V.nf(),c=[],d;for(d in this.t.ge)this.t.ge[d].lg==a&&c.push(this.t.ge[d]);return c};R.Tp=function(a){return this.t.ge[a]};R.PU=function(a,c,d){this.t.ge[a]&&"default"!=c&&this.t.N.lg==d&&this.t.ge[a].iM(c)};
R.jW=function(a,c){this.t.ge[a]&&"default"!=c&&this.t.ge[a].l(q.a(c%O*M,Math.floor(c/O)*M))};R.vC=function(){for(var a in this.t.ge)this.t.ge[a].K();this.t.ge=[]};R.iR=function(a,c){var d=V.nf();if(a&&a.sprite){var e=parseInt(this.t.ge.length);this.t.ge.push(NonPlayerCharacter.create({name:a.name,Yn:{health:{bd:1,value:100,jg:200,ig:900},mana:{bd:1,value:100,jg:200,ig:99}},map:d,wt:"sprites1.png",ut:a.sprite.number,zn:e,Rc:a.script}));this.t.ge[e].l(c.x*M,c.y*M);this.t.f(this.t.ge[e])}};R.j7=function(){return this.t.N};
R.Ai=function(a){return this.t.Bc[a]};R.nR=function(a){this.t.Bc[a.id]=PlayerCharacter.create({name:a.id,Yn:{health:{bd:1,value:100,jg:200,ig:900},mana:{bd:1,value:100,jg:200,ig:99}},map:a.location.mapnumber,wt:"sprites1.png",ut:1});var c=a.location.position,d=V.yi(a.location.mapnumber);this.t.Bc[a.id].l(c%d.width*M,Math.floor(c/d.width)*M);R.Ek();this.t.f(this.t.Bc[a.id]);c=G["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.rc(c)};
R.mI=function(a){if(this.t.Bc[a]){this.t.Bc[a].K();this.t.Bc[a]=null;var c=G["Leave Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);S.rc(c);for(c=0;c<A.length;c++){var d=JSON.parse(A[c]);d.id&&d.id==a&&(A.splice(c,1),c--)}}};
R.QU=function(a){console.log(a.location.position);if(this.t.Bc[a.id])this.t.Bc[a.id].iM(a.location.position);else{this.t.Bc[id]=PlayerCharacter.create({name:a.id,Yn:{health:{bd:1,value:100,jg:200,ig:900},mana:{bd:1,value:100,jg:200,ig:99}},map:a.location.mapnumber,wt:"sprites1.png",ut:1});var c=a.location.position,d=V.yi(a.location.mapnumber);this.t.Bc[id].l(q.a(c%d.width*M,Math.floor(c/d.width)*M));R.Ek();this.t.f(this.t.Bc[a.id]);c=G["Join Message"]+"";c=c.replace("\x3cPLAYER\x3e",a.id);S.rc(c)}};
R.tV=function(a){if(this.t.Bc[a.id])this.t.Bc[a.id].l(q.a(a.location.position%O*M,Math.floor(a.location.position/O)*M));else{this.t.Bc[a.id]=PlayerCharacter.create({name:a.id,Yn:{health:{bd:1,value:100,jg:200,ig:900},mana:{bd:1,value:100,jg:200,ig:99}},map:a.location.mapnumber,wt:"sprites1.png",ut:1});var c=a.location.position,d=V.yi(a.location.mapnumber);this.t.Bc[a.id].l(q.a(c%d.width*M,Math.floor(c/d.width)*M));R.Ek();this.t.f(this.t.Bc[a.id]);c=G["Join Message"];c=c.replace("\x3cPLAYER\x3e",a.id);
S.rc(c)}};R.LR=function(a){this.t.Bc[a]&&this.t.Bc[a].updateStatus("AFK")};R.Ek=function(){var a=this.t.N.lg,c;for(c in this.t.Bc)null!=this.t.Bc[c]&&this.t.Bc[c].D(this.t.Bc[c].lg==a)};R.kf=function(){for(var a in this.t.Bc)null!=this.t.Bc[a]&&R.mI(a);this.t.N.K();this.t.N=null};R.KR=function(a,c){this.t.Bc[a].lq(c);this.t.Bc[a].D(this.t.N.lg==c)};Character=q.v.extend({name:null,Yn:null,RL:null,W1:null,tf:null,Xg:!1,Gn:null,gy:null,wj:!1,zn:-1,status:null,lg:null,path:null,CC:"DOWN",w:function(a){this.NX(a.wt,a.ut);this.Yn=new StatsController(a.jca,this);this.f(this.Yn);this.name=a.name;a.Rc&&(this.Rc=a.Rc);a.wj&&(this.wj=a.wj);a.map&&(this.lg=a.map);null!=a.zn&&"undefined"!==a.zn&&(this.zn=a.zn);this.A(0,1);this.Gn=q.R.create("","Arial",12);this.Gn.A(0.5,0);this.Gn.r(255,0,0);this.Gn.l(Math.floor(this.c().width/2),this.c().width+3);this.f(this.Gn);
this.$L()},K4:function(){return this.CC},lq:function(a){this.lg=a},i5:function(){return this.lg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.$L()},$L:function(){null!=this.status?this.Gn.na(this.name+"-"+this.status):this.Gn.na(this.name)},getName:function(){return this.name},Nf:function(a,c,d){this.ib(q.rect(a*za,4*this.RL.id*za+c*za,za,za));this.gy=q.a(a,c);this.CC=d},Mh:function(){return this.gy},NX:function(a,c){this.RL={name:a,id:c};this.ka(q.ga.g().la(a));this.Nf(1,0)},
ic:function(){return q.a(this.u.x/M,this.u.y/M)},Lw:0.24,DY:0.24,wl:2,hda:function(a){var c=a.position%O,d=Math.floor(a.position/O);this.l(c*M,d*M);z({changemap:a.mapTo,setTo:a.position});V.Yp(a.mapTo);V.Al(c*M,d*M)},pU:function(){if(!this.Xg){var a=this.ic();if(a=V.wn(a.x,a.y))a.xn()&&this.oV(a.xn()),a.Lh()&&T("Interact On",a,"Tile")}},oU:function(a){a&&(this.Xg||a&&(a.xn()?this.pV(a.xn(),a):a.Lh()&&T("Interact On",a,"Tile")))},nU:function(){if(!this.Xg){var a=this.ic();switch(this.CC){case "RIGHT":a.x+=
1;break;case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}var c=V.TI(a.x,a.y);c?T("Default Event",c,"NPC"):(a=V.wn(a.x,a.y))&&a.Lh()&&T("Interact Facing",a,"Tile")}},Et:function(a){this.Lw+=a;a=this.u;var c=this.Mh();this.Lw>this.DY&&(this.Lw=0,this.tf.x<a.x?this.Nf((c.x+1)%3,1,"LEFT"):this.tf.x>a.x?this.Nf((c.x+1)%3,2,"RIGHT"):this.tf.y<a.y?this.Nf((c.x+1)%3,0,"DOWN"):this.tf.y>a.y&&this.Nf((c.x+1)%3,3,"UP"));this.tf.x<a.x?(this.Na(a.x-this.wl),this.wj&&V.updateOffset(+this.wl,0)):
this.tf.x>a.x?(this.Na(a.x+this.wl),this.wj&&V.updateOffset(-this.wl,0)):this.tf.y<a.y?(this.Cc(a.y-this.wl),this.wj&&V.updateOffset(0,this.wl)):this.tf.y>a.y&&(this.Cc(a.y+this.wl),this.wj&&V.updateOffset(0,-this.wl));a.y==this.tf.y&&a.x==this.tf.x&&(this.Xg=!1,this.sx&&T("On Leave",V.wn(this.sx.x,this.sx.y),"Tile"),this.sx=null,T("On Enter",V.wn(this.ic().x,this.ic().y),"Tile"),this.Uc(this.Et),null!=this.path&&this.YH())},vq:function(a,c){if(!1!=this.za){var d=V.wn(a,c),e=this.gy,f=this.ic();f.x>
a?this.Nf(e.x,1,"LEFT"):f.x<a&&this.Nf(e.x,2,"RIGHT");f.y>c?this.Nf(e.x,0,"DOWN"):f.y<c&&this.Nf(e.x,3,"UP");d?!1==this.Xg&&d&&!gameMapInstance.bt(d)&&(T("Will Leave",V.wn(this.ic().x,this.ic().y),"Tile"),this.sx=q.a(this.ic().x,this.ic().y),this.tf=q.a(M*a,M*c),this.Xg=!0,T("Will Enter",V.wn(a,c),"Tile"),this.lc(this.Et),this.Et(0),this.wj?z({moveTo:this.tf.x/M+this.tf.y/M*O}):-1<this.zn&&z({npcID:this.zn+"",mapnumber:this.lg,moveNPC:this.tf.x/M+this.tf.y/M*O})):(null==Mapeditor||Mapeditor.ea||(Mapeditor=
null),this.wj&&null==Mapeditor&&(f.x<a&&V.hJ()?(d=V.yi(V.LC()),this.l(0,M*c),z({changemap:parseInt(V.LC()),setTo:0+c*d.width}),V.MT(),V.UC()):f.x>a&&V.gJ()&&(d=V.yi(V.KC()),this.l(M*(d.width-1),M*c),z({changemap:parseInt(V.KC()),setTo:d.width-1+c*d.width}),V.KT(),V.VC()),f.y<c&&V.iJ()?(d=V.yi(V.MC()),this.l(M*a,M),z({changemap:parseInt(V.MC()),setTo:a+1*d.width}),V.NT(),V.WC()):f.y>c&&V.fJ()&&(d=V.yi(V.JC()),z({changemap:parseInt(V.JC()),setTo:a+d.height*d.width}),this.l(M*a,M*d.height),V.JT(),V.TC())))}},
YH:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.vq(this.path[0].x,this.path[0].y))},rt:function(a){if(null==this.path||0!=a.length)this.path=a,this.YH()},iM:function(a){if(!1!=this.za){var c=a%O;a=Math.floor(a/O);if(!1==this.Xg){var d=this.gy,e=this.ic();4<Math.abs(q.vD(q.a(c,a),e))?this.l(q.a(M*c,M*a)):(e.x>c?this.Nf(d.x,1,"LEFT"):e.x<c?this.Nf(d.x,2,"RIGHT"):e.y>a?this.Nf(d.x,0,"DOWN"):e.y<a&&this.Nf(d.x,3,"UP"),this.tf=q.a(M*c,M*a),
this.Xg=!0,this.lc(this.Et),this.Et(0))}}}});
PlayerCharacter=Character.extend({items:null,Ip:3,xi:null,Ol:null,w:function(a){this._super(a);this.xi=[];this.Ol=[];a.Ip&&(this.Ip=a.Ip);this.items={stored:[],equipped:{},bank:[]};if(a.position){var c=V.yi(a.map),d=a.position%c.width,c=Math.floor(a.position/c.width);this.l(d*M,c*M);V.OT(a.map);V.Al(d*M,c*M);this.lg=a.map}a.wJ&&(this.items.stored=a.wJ);a.CR&&(this.items.bank=a.CR);a.xi&&(this.xi=a.xi);a.Ol&&(this.Ol=a.Ol);if(a.vI){this.items.equipped=a.vI;for(var e in this.items.equipped)T("Default Event",
this.items.equipped[e],"Item",{"Equip Item":!0,"Give /Take Item":!0,"Warp Player":!0,"Read Item":!0,"Open/Close Panel":!0,Destroy:!0})}this.VR()},VR:function(){this.xi=[];z({saveUserExtra:[],name:this.getName()})},XD:function(a,c){this.xi[a]=c;z({saveUserExtra:this.xi,name:this.getName()})},Sp:function(a){return this.xi[a]?this.xi[a]:null},BX:function(a,c){this.Ol[a]=c},uk:function(a){return this.Ol[a]},Bt:function(){Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()},TH:function(a){for(var c=0,
d=0;d<this.items.bank.length;d++)if(!this.items.bank[d]){c=d;break}this.items.bank[c]=a},UH:function(a){for(var c=0,d=0;d<this.items.stored.length;d++)if(!this.items.stored[d]){c=d;break}this.items.stored[c]=a},oV:function(a){item=ObjectLists.Xb()[a.Fi];var c=this.ic();T("On Pickup",item,"Item");if(!0==item.stackable)for(var d=0;40>d;d++)if(this.items.stored[d]&&this.items.stored[d].number==a.Fi){Inventory&&(this.items.stored[d].amount+=a.Gh,Inventory.Dk(d,this.items.stored[d].amount));a=G["Item Pick Up"];
a=a.replace("\x3cITEM\x3e",item.name);S.rc(a);z({pickupitem:Q(c.x,c.y),mapnumber:V.nf()});return}for(var e=!1,d=0;40>d;d++)if(null==this.items.stored[d]){this.items.stored[d]={number:a.Fi,amount:a.Gh};Inventory&&Inventory.Dk(d,a.Gh);a=G["Item Pick Up"];a=a.replace("\x3cITEM\x3e",item.name);S.rc(a);z({pickupitem:Q(c.x,c.y),mapnumber:V.nf()});e=!0;break}!1==e&&S.rc(G["Inventory Full"]);Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()},pV:function(a,c){item=ObjectLists.Xb()[a.Fi];var d=q.a(c.u.I/
M,c.u.U/M);T("On Pickup",item,"Item");if(!0==item.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].number==a.Fi){Inventory&&(this.items.stored[e].amount+=a.Gh,Inventory.Dk(e,this.items.stored[e].amount));e=G["Item Pick Up"];e=e.replace("\x3cITEM\x3e",item.name);S.rc(e);z({pickupitem:Q(d.x,d.y),mapnumber:V.nf()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]={number:a.Fi,amount:a.Gh};Inventory&&Inventory.Dk(e,a.Gh);e=G["Item Pick Up"];
e=e.replace("\x3cITEM\x3e",item.name);S.rc(e);z({pickupitem:Q(d.x,d.y),mapnumber:V.nf()});f=!0;break}!1==f&&S.rc(G["Inventory Full"]);Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()},zC:function(a,c){var d=this.ic(),e=this.items[c][a],f=ObjectLists.Xb()[e.number];T("On Drop",f,"Item");if(this.items[c][a]){var g=G["Item Dropped"],g=g.replace("\x3cITEM\x3e",f.name);S.rc(g);z({droppeditem:e.number,mapnumber:V.nf(),index:Q(d.x,d.y),amount:e.amount});!0==f.stackable&&1<e.amount&&Inventory.Dk(a,0);
this.items[c][a]=null}Inventory&&Inventory.Qa();Equipment&&Equipment.Qa()},BY:function(a){T("Default Event",ObjectLists.Xb()[this.items.stored[a].number],"Item",{},a)},uS:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=I(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.Qa();Equipment&&Equipment.Qa();T("On Dequip",this.items.stored[c],"Item");return}S.rc("No space in inventory to dequip this item.")},mf:function(){return this.items.stored},
zl:function(){return this.items.bank},cx:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.w(a);return c};NonPlayerCharacter=Character.extend({T8:null,Fx:!1,zX:function(a,c){this.Fx=!0;this.Ud(function(){this.vq(a.x,a.y);this.Fx=!1},c)},i8:function(){return this.Fx}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.w(a);return c};var Ea=q.Vc.extend({RD:null,b:null,uD:function(){},ctor:function(){this._super()},jM:function(){},Wn:function(){},Qh:function(){},pa:function(){this.b&&this.b.K();this.b=ra(this);this.f(this.b)},xa:function(){},w:function(){this.kE(1);this.Px(!0);this.nc(!0);D.Un(this);this._super()},tD:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},Ll:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},cX:function(a){this.RD=a},Hc:function(){return this.RD}});DropDownList=Ea.extend({list:null,fS:null,selected:null,b:null,k:null,jI:null,nK:null,st:null,ctor:function(){this._super();this.list=[];this.fS=0},w:function(a,c,d,e,f){this._super();a&&(this.k=a,this.jI=c,d&&(this.list=d),e&&this.l(e),this.MS=f?f:{},this.nK=D.TS(),D.Un(this),this.qq(-1001),this.Px(!0))},vb:function(a){for(var c=this.b.control_menu.Ka(a.S),d=0;d<this.list.length;d++)this.st&&!0!=this.st[d].enabled||q.wb(q.rect(this.b.control_menu[d+""].u.I,this.b.control_menu[d+""].u.U,this.b.control_menu[d+
""].c().width,this.b.control_menu[d+""].c().height),c)&&this.jI(d,a,this.list,this.MS);this.BV();return!0},BV:function(){D.Un(this.nK);this.K();qa()},kW:function(){this.Cc(this.u.U-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.c().width>a&&(a=this.b.control_menu[c+""].content.c().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].O(a+8,this.b.control_menu[c+""].c().height);this.b.control_menu.O(a+8,this.b.control_menu.c().height)},sc:function(){for(var a=
{},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*c),size:q.size(96,24),e:q.a(0,0),color:q.i(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.n(0,0,0),e:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),color:q.i(200,200,200,0),size:q.size(96,24),children:a}}}}},Qh:function(a){a=this.b.control_menu.Ka(a.S);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].r(q.i(200,200,200,200)),this.st&&!0!=
this.st[c].enabled||q.wb(q.rect(this.b.control_menu[c+""].u.I,this.b.control_menu[c+""].u.U,this.b.control_menu[c+""].c().width,this.b.control_menu[c+""].c().height),a)&&this.b.control_menu[c+""].r(q.i(255,0,0,255))}});DropDownList.Pc=function(a,c,d,e,f,g){var h=new DropDownList;h.w(a,c,d,e,g);h.b=ra(h.sc(),!0);if(f){for(a=0;a<h.list.length;a++)!1==f[a].enabled&&h.b.control_menu[a+""].content.r(q.i(127,127,127,200));h.st=f}h.f(h.b);h.kW();return h};Popup=Ea.extend({Sd:null,Tg:!1,w:function(){this.RD=this.Hc();this._super();D.Un(this);this.qq(-300)},s3:function(){this.K()},vb:function(a){var c=a.S;D.Un(this);c=this.b.control_panel.Ka(c);if(q.wb(q.rect(this.b.control_panel.exitBtn.u.I,this.b.control_panel.exitBtn.u.U,this.b.control_panel.exitBtn.c().width,this.b.control_panel.exitBtn.c().height),c)){var d=this;this.ea.Ud(function(){!1==d.Tg&&d.xa();d.K();d=null});return!0}return q.wb(q.rect(this.b.u.x,this.b.u.y+this.b.control_panel.u.y,this.b.control_panel.c().width,
this.b.control_panel.c().height),a.S)?(this.Sd=this.b.ti(a),!0):!1},Qd:function(a){return this.Sd?(a=a.S,this.b.l(a.x-this.Sd.x,a.y-this.Sd.y),!0):!1},ah:function(){this.Sd&&(this.Sd=null);W.uX(this.Hc(),this.b.u)},Hc:function(){q.log("No id given... using default 'Popup'");return"Popup"},pa:function(){this._super();var a=W.kT();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Hc()])){a=q.a(a.x,a.y);if(a.x>P.width-10||a.y>P.height)a=q.a(8,100);this.b.l(a)}}});Book=null;
BookPanel=Popup.extend({name:null,content:null,ng:null,Hc:function(){return"Book"},sc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(514,313),$:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),$:"GUI/btnLeft.png",e:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),$:"GUI/btnRight.png",e:q.a(0,0)},leftPage:{label:this.ng[0],e:q.a(0,1),position:q.a(4,308),color:q.n(0,0,0)},rightPage:{label:1<this.ng.length?
this.ng[1]:"",e:q.a(0,1),position:q.a(260,308),color:q.n(0,0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.name,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},w:function(a,c){this._super();this.name=a;this.content=c;this.ng=[];for(var d=c;d;)if(470>d.length){this.ng.push(d);break}else this.ng.push(d.substr(0,470)+"..."),d=d.substr(470);this.kV=Math.floor(this.ng.length/
2)-1;this.nj=0},pa:function(){this._super();this.b.main_panel.leftPage.$a(q.size(248,0));this.b.main_panel.rightPage.$a(q.size(248,0));this.b.main_panel.pageBackbtn.D(!1);2>this.ng.length&&this.b.main_panel.pageForwardbtn.D(!1)},PT:function(){this.nj++;this.b.main_panel.pageBackbtn.D(!0);this.nj==this.kV&&this.b.main_panel.pageForwardbtn.D(!1);this.b.main_panel.leftPage.na(this.ng[2*this.nj]);this.ng[2*this.nj+1]?this.b.main_panel.rightPage.na(this.ng[2*this.nj+1]):this.b.main_panel.rightPage.na("")},
QT:function(){this.nj--;this.b.main_panel.pageForwardbtn.D(!0);0==this.nj&&this.b.main_panel.pageBackbtn.D(!1);this.b.main_panel.leftPage.na(this.ng[2*this.nj]);this.ng[2*this.nj+1]&&this.b.main_panel.rightPage.na(this.ng[2*this.nj+1])},vb:function(a){if(this._super(a))return!0;this.Sd=null;a=this.b.main_panel.Ka(a.S);if(H(this.b.main_panel.pageForwardbtn,a))return this.PT(),!0;if(H(this.b.main_panel.pageBackbtn,a))return this.QT(),!0}});NpcChat=null;
NpcChatPanel=Popup.extend({name:null,content:null,Qw:null,Rc:null,wI:null,XJ:null,F:null,Hc:function(){return"Book"},sc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(512,138),$:"GUI/npctalk.png",children:{chatText:{label:this.content?this.content:"",e:q.a(0,1),position:q.a(138,134),color:q.n(0,0,0)},list:{size:q.size(320,80),position:q.a(154,4),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,138),size:q.size(512,32),children:{header:{label:this.name?
this.name:"",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(488,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},nb:function(){this.F&&this.F.$b();var a=[],c=[];q.ga.g();for(var d in this.Qw){a[d]=q.G.create();a[d].O(324,32);var e=q.Z.create(q.i(200,200,200,200),300,10);e.l(q.a(12,1));var f=q.R.create("\x3e"+this.Qw[d],"Arial",14);f.A(q.a(0,0));f.l(q.a(4,2));f.$a(q.size(300,0));f.r(q.n(100,0,0));a[d].f(e);e.f(f);a[d].O(324,f.c().height+8);e.O(300,f.c().height+4);e.Pa=
"Use";c.push([e])}this.F=this.b.main_panel.list;var g=this;this.F.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Yb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.sb=function(a,c){switch(a){case "Use":K.YT(),T("On Talk Option Selected for event:"+g.wI+", option:"+c,g.XJ,"NPC")}};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T)},w:function(a,c,d,e,f,g){this._super();this.name=
e;this.content=f;this.Rc=c;this.wI=d;this.XJ=a;g&&(this.Qw=g)},pa:function(){this._super();this.b.main_panel.chatText.$a(q.size(350,0));this.Qw&&this.nb()},vb:function(a){if(this._super(a))return!0}});Equipment=null;
EquipmentPanel=Popup.extend({Hc:function(){return"Equipment"},sc:function(){var a={};a.head={$:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),e:q.a(0,1)};a.legs={$:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),e:q.a(0,1)};a.feet={$:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),e:q.a(0,1)};a.body={$:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),e:q.a(0,1)};a.lArm={$:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),e:q.a(0,1)};
a.rArm={$:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),e:q.a(0,1)};a.mod={$:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),e:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{e:q.a(0,0),size:q.size(168,168),$:"GUI/equipment.png",children:a},control_panel:{e:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:G["Equipment Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),e:q.a(0,
0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},Qa:function(){var a=R.t.N.cx();this.b.main_panel.head.ka(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.body.ka(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.legs.ka(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.feet.ka(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.lArm.ka(q.ga.g().la("GUI/defaultitem.png"));
this.b.main_panel.rArm.ka(q.ga.g().la("GUI/defaultitem.png"));this.b.main_panel.mod.ka(q.ga.g().la("GUI/defaultitem.png"));for(var c in a)if(a[c]){var d=ObjectLists.Xb()[a[c].number],e;for(e in v)if(v[e].name==d.sprite.texture)var f=v[e].texture;this.b.main_panel[c]&&(this.b.main_panel[c].A(0,1),this.b.main_panel[c].ka(f),this.b.main_panel[c].ib(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32)))}},tx:function(a){switch(a){case 0:R.t.N.uS(this.k.vc);break;case 1:R.t.N.zC(this.k.vc,"equipped")}},
vb:function(a){if(this._super(a))return!0;this.Sd=null;var c=this.b.main_panel.Ka(a.S),d=R.t.N.cx(),e;for(e in d)if(d[e]){var f=ObjectLists.Xb()[d[e].number];if(H(this.b.main_panel[e],q.a(c.x,c.y+32)))return this.vc=e,this.b.item_name.D(!1),c=G["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",f.name),d=G["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",f.name),this.f(DropDownList.Pc(this,this.tx,[c,d],a.S)),!0}},Qh:function(a){a=this.b.main_panel.Ka(a.S);this.b.item_name.D(!1);var c=R.t.N.cx(),
d;for(d in c)if(c[d]){var e=ObjectLists.Xb()[c[d].number];if(H(this.b.main_panel[d],q.a(a.x,a.y+32)))return this.b.item_name.content.na(e.name),this.b.item_name.D(!0),this.b.item_name.O(this.b.item_name.content.c()),this.b.item_name.content.Na(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel[d].u.I-this.b.item_name.content.c().width/2+16,this.b.main_panel[d].u.U)),!0}},Rl:function(){this.b.main_panel.head.ja()&&(this.Uc(this.Rl),this.Qa())},pa:function(){this._super();
this.b.main_panel.head.ja()?this.Qa():this.lc(this.Rl)}});Inventory=null;
InventoryPanel=Popup.extend({vc:null,ct:!1,Hc:function(){return"Inventory"},sc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:G["Inventory Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},Dk:function(a,c){this.b.main_panel[a+""].stacklabelbg.D(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.D(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.na(c),this.b.main_panel[a+""].stacklabelbg.O(this.b.main_panel[a+""].stacklabelbg.stacklabel.c()))},Qa:function(){for(var a=R.t.N.mf(),c=0;40>c;c++)if(a[c]){var d=ObjectLists.Xb()[a[c].number],e;for(e in v)if(v[e].name==d.sprite.texture)var f=v[e].texture;this.b.main_panel[c+""].A(0,1);this.b.main_panel[c+""].ka(f);this.b.main_panel[c+""].ib(q.rect(32*d.sprite.position.x,32*d.sprite.position.y,32,32));
this.Dk(c,a[c].amount)}else this.b.main_panel[c+""].ka(q.ga.g().la("GUI/defaultitem.png")),this.Dk(c,0)},Rl:function(){this.b.main_panel[oa+""].ja()&&(this.Uc(this.Rl),this.Qa())},pa:function(){this._super();this.b.main_panel[oa+""].ja()?this.Qa():this.lc(this.Rl)},tx:function(a){switch(a){case 0:!0==this.k.ct?R.t.N.BY(this.k.vc):R.t.N.zC(this.k.vc,"stored");break;case 1:R.t.N.zC(this.k.vc,"stored")}this.k.ct=!1},vb:function(a){if(this._super(a))return!0;this.Sd=null;for(var c=this.b.main_panel.Ka(a.S),
d=0;40>d;d++)if(R.t.N.mf()[d]&&H(this.b.main_panel[d+""],q.a(c.x,c.y+32))){var e=ObjectLists.Xb()[R.t.N.mf()[d].number],f=[];e.script&&ObjectLists.Ie()[e.script]&&(f=ObjectLists.Ie()[e.script].data);if(f){for(c=0;c<f.length;c++)if("Default Event"==f[c].type)for(var g="Use Item",h=f[c].responses,k=0;k<h.length;k++)switch(console.log(h[k].type),h[k].type){case "Equip Item":g=G["Item Dropdown Equip"]+"";break;case "Read Item":g=G["Item Dropdown Read"]+""}f=G["Item Dropdown Drop"]+"";f=f.replace("\x3cITEM\x3e",
e.name);g?(this.ct=!0,g=g.replace("\x3cITEM\x3e",e.name),this.f(DropDownList.Pc(this,this.tx,[g,f],a.S))):this.f(DropDownList.Pc(this,this.tx,[f],a.S));this.vc=d;this.b.item_name.D(!1);return!0}}},Qh:function(a){a=this.b.main_panel.Ka(a.S);for(var c=0;40>c;c++)if(R.t.N.mf()[c]&&H(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.na(ObjectLists.Xb()[R.t.N.mf()[c].number].name),this.b.item_name.D(!0),this.b.item_name.O(this.b.item_name.content.c()),this.b.item_name.content.Na(this.b.item_name.content.c().width/
2),this.b.item_name.l(q.a(this.b.main_panel[c+""].u.I-this.b.item_name.content.c().width/2+16,this.b.main_panel[c+""].u.U)),!0}});Bank=null;
BankPanel=Popup.extend({vc:null,ct:!1,Hc:function(){return"Bank"},sc:function(){for(var a={},c={},d=0;5>d;d++)for(var e=0;8>e;e++)a[5*e+d+""]={size:q.size(32,32),position:q.a(40*d+8,40*(7-e)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};for(d=0;9>d;d++)for(e=0;8>e;e++)c[9*e+d+""]={size:q.size(32,32),position:q.a(220+(40*
d+8),40*(7-e)+40),$:"GUI/defaultitem.png",e:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),e:q.a(0,0),color:q.i(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.n(0,0,0),e:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/bank.png",size:q.size(590,348),children:{inventory:{children:a},inventory_label:{label:G["Bank Header"],color:q.n(255,255,255),position:q.a(8,324),fontSize:16,e:q.a(0,0)},bank:{children:c},
bank_label:{label:"Stored",color:q.n(255,255,255),position:q.a(228,324),fontSize:16,e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,348),size:q.size(590,32),children:{header:{label:G["Bank Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},item_name:{position:q.a(0,0),color:q.i(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(32,
8)}}}}}}},YK:function(a,c){this.b.main_panel.inventory[a+""].stacklabelbg.D(!1);1<c&&(this.b.main_panel.inventory[a+""].stacklabelbg.D(!0),this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.na(c),this.b.main_panel.inventory[a+""].stacklabelbg.O(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},JK:function(a,c){this.b.main_panel.bank[a+""].stacklabelbg.D(!1);1<c&&(this.b.main_panel.bank[a+""].stacklabelbg.D(!0),this.b.main_panel.bank[a+""].stacklabelbg.stacklabel.na(c),this.b.main_panel.bank[a+
""].stacklabelbg.O(this.b.main_panel.inventory[a+""].stacklabelbg.stacklabel.c()))},Qa:function(){for(var a=R.t.N.mf(),c=R.t.N.zl(),d=0;40>d;d++)if(a[d]){var e=ObjectLists.Xb()[a[d].number],f;for(f in v)if(v[f].name==e.sprite.texture)var g=v[f].texture;this.b.main_panel.inventory[d+""].A(0,1);this.b.main_panel.inventory[d+""].ka(g);this.b.main_panel.inventory[d+""].ib(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.YK(d,a[d].amount)}else this.b.main_panel.inventory[d+""].ka(q.ga.g().la("GUI/defaultitem.png")),
this.YK(d,0);for(d=0;72>d;d++)if(c[d]){e=ObjectLists.Xb()[c[d].number];for(f in v)v[f].name==e.sprite.texture&&(g=v[f].texture);this.b.main_panel.bank[d+""].A(0,1);this.b.main_panel.bank[d+""].ka(g);this.b.main_panel.bank[d+""].ib(q.rect(32*e.sprite.position.x,32*e.sprite.position.y,32,32));this.JK(d,c[d].amount)}else this.b.main_panel.bank[d+""].ka(q.ga.g().la("GUI/defaultitem.png")),this.JK(d,0)},Rl:function(){this.b.main_panel.inventory[oa+""].ja()&&(this.Uc(this.Rl),this.Qa())},pa:function(){this._super();
this.b.main_panel.inventory[oa+""].ja()?this.Qa():this.lc(this.Rl)},kM:function(a){0==a&&(a=R.t.N.zl()[this.k.vc],R.t.N.UH({number:a.number,amount:a.amount}),R.t.N.zl().splice(this.k.vc,1),Inventory&&Inventory.Qa(),Equipment&&Equipment.Qa(),this.k.Qa());this.k.vc=null},lI:function(a){0==a&&(a=R.t.N.mf()[this.k.vc],R.t.N.TH({number:a.number,amount:a.amount}),R.t.N.mf().splice(this.k.vc,1),Inventory&&Inventory.Qa(),Equipment&&Equipment.Qa(),this.k.Qa());this.k.vc=null},vb:function(a){if(this._super(a))return!0;
this.Sd=null;for(var c=this.b.main_panel.inventory.Ka(a.S),d=!1,e=!1,f=0;40>f;f++)if(!R.t.N.mf()[f]){d=!0;break}for(f=0;72>f;f++)if(!R.t.N.zl()[f]){e=!0;break}for(f=0;40>f;f++)if(R.t.N.mf()[f]){var g=32;if(H(this.b.main_panel.inventory[f+""],q.a(c.x,c.y+g)))return this.f(DropDownList.Pc(this,this.lI,["Deposit","Cancel"],a.S,[{enabled:d},{enabled:!0}])),this.vc=f,this.b.item_name.D(!1),!0}for(f=0;72>f;f++)if(R.t.N.zl()[f]&&(g=32,H(this.b.main_panel.bank[f+""],q.a(c.x,c.y+g))))return this.f(DropDownList.Pc(this,
this.kM,["Withdraw","Cancel"],a.S,[{enabled:e},{enabled:!0}])),this.vc=f,this.b.item_name.D(!1),!0},Qh:function(a){a=this.b.main_panel.inventory.Ka(a.S);for(var c=0;40>c;c++)if(R.t.N.mf()[c]&&H(this.b.main_panel.inventory[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.na(ObjectLists.Xb()[R.t.N.mf()[c].number].name),this.b.item_name.D(!0),this.b.item_name.O(this.b.item_name.content.c()),this.b.item_name.content.Na(this.b.item_name.content.c().width/2),this.b.item_name.l(q.a(this.b.main_panel.inventory[c+
""].u.I-this.b.item_name.content.c().width/2+16,this.b.main_panel.inventory[c+""].u.U)),!0}});Shop=null;
ShopPanel=Popup.extend({vc:null,ct:!1,F:null,Zg:null,dh:null,gg:null,Ii:null,Hc:function(){return"Shop"},nb:function(){this.F&&this.F.$b();for(var a=[],c=[],d=q.ga.g(),e=["Buy","Sell"],f=0;f<e.length;f++){a[f]=q.Z.create(q.i(0,0,0,0),118,32);var g=q.Z.create(q.i(0,0,0,127),118,1);g.l(q.a(0,0));var h=q.R.create(e[f],"Arial",15);h.r(q.n(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));h.$a(q.size(90,0));a[f].O(118,h.c().height+8);if(this.zc==f+1){a[f]=q.Z.create(q.i(100,0,0,255),118,h.c().height+8);var k=q.v.La(d.la("GUI/selected.png"));
k.l(q.a(94,(h.c().height+8-20)/2));k.A(q.a(0,0));a[f].f(k);h.r(q.n(255,255,255))}a[f].f(g);a[f].f(h);a[f].Pa="Use";c.push([a[f]])}this.F=this.b.main_panel.buyselllist;var l=this;this.F.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.F.Yb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.sb=function(a,c){"Use"==a&&(l.ie(c+1),l.nb())};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T)},
dM:function(){this.dh&&this.dh.$b();var a=[],c=[];q.ga.g();var d=ObjectLists.Xb();if(1==this.zc){this.gg=[];for(var e in d)for(var f in d[e].value)if(d[e].value[f].shopid==this.EL&&d[e].value[f].sell&&0<d[e].value[f].sell.length){this.gg.push({name:d[e].name,value:d[e].value[f]});break}}else{d=R.t.N.mf();this.gg=[];items=[];gameitems=ObjectLists.Xb();for(e in d)d[e]&&items.push(gameitems[d[e].number]);for(e in items)for(f in items[e].value)if(items[e].value[f].shopid==this.EL&&items[e].value[f].buy&&
0<items[e].value[f].buy.length){this.gg.push({name:items[e].name,value:items[e].value[f]});break}}d=this.gg;for(e=0;e<d.length;e++){a[e]=this.Ii&&this.Ii[e]&&!0==this.Ii[e]?q.Z.create(q.i(255,255,255,127),218,32):q.Z.create(q.i(0,0,0,0),218,32);f=q.Z.create(q.i(0,0,0,127),218,1);f.l(q.a(0,0));var g=q.R.create(d[e].name,"Arial",15);g.r(q.n(0,0,0));g.A(q.a(0,0));g.l(q.a(4,4));g.$a(q.size(180,0));a[e].O(218,g.c().height+8);a[e].f(f);a[e].f(g);a[e].Pa="Use";c.push([a[e]])}this.dh=this.b.main_panel.sale_list;
var h=this;this.dh.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(218,c)};this.dh.Yb=function(){return a.length};this.dh.kc=function(c){return a[c].c()};this.dh.jc=function(c){return a[c]};this.dh.sb=function(a,c){h.Ii?h.Ii[c]=!h.Ii[c]:(h.Ii=[],h.Ii[c]=!0);h.dM();h.aM()};this.dh.T=ListView.create(this.dh);this.dh.T.mc(c);this.dh.f(this.dh.T)},aM:function(){this.Zg&&this.Zg.$b();var a=[],c=[];q.ga.g();var d=[],e=[],e=ObjectLists.Xb(),f;for(f in this.gg)if(1==this.zc)for(var g in this.gg[f].value.sell)!0==
this.Ii[f]&&d.push({name:e[this.gg[f].value.sell[g].id].name,Gh:this.gg[f].value.sell[g].amount,Fi:this.gg[f].value.sell[g].id});else for(g in this.gg[f].value.buy)!0==this.Ii[f]&&d.push({name:e[this.gg[f].value.buy[g].id].name,Gh:this.gg[f].value.buy[g].amount,Fi:this.gg[f].value.buy[g].id});d.sort(function(a,c){return a.name>c.name});for(g=0;g<d.length;g++)for(f=g+1;f<d.length;f++)d[g].Fi==d[f].Fi&&(d[g].Gh=parseInt(d[g].Gh)+parseInt(d[f].Gh),d.splice(f,1),f--);e=d;for(g=0;g<e.length;g++){a[g]=
q.Z.create(q.i(0,0,0,0),158,32);d=q.Z.create(q.i(0,0,0,127),158,1);d.l(q.a(0,0));f=q.R.create(e[g].name,"Arial",15);f.r(q.n(0,0,0));f.A(q.a(0,0));f.l(q.a(4,4));f.$a(q.size(90,0));var h=q.R.create("x"+e[g].Gh,"Arial",15);h.r(q.n(0,0,0));h.A(q.a(0,0));h.l(q.a(102,4));h.$a(q.size(54,0));a[g].O(158,f.c().height+8);a[g].f(d);a[g].f(f);a[g].f(h);a[g].Pa="Use";c.push([a[g]])}this.Zg=this.b.main_panel.offer_list;this.Zg.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};
this.Zg.Yb=function(){return a.length};this.Zg.kc=function(c){return a[c].c()};this.Zg.jc=function(c){return a[c]};this.Zg.sb=function(){};this.Zg.T=ListView.create(this.Zg);this.Zg.T.mc(c);this.Zg.f(this.Zg.T)},sc:function(){return{panels:{position:q.a(300,200),children:{main_panel:{e:q.a(0,0),$:"GUI/shop.png",size:q.size(590,388),children:{buyselllist:{size:q.size(118,386),position:q.a(2,2),e:q.a(0,0)},sale_list:{position:q.a(127,2),size:q.size(218,358)},offer_list:{size:q.size(158,358),position:q.a(389,
1)},inventory_label:{label:"Store Items",color:q.n(255,255,255),position:q.a(138,364),fontSize:16,e:q.a(0,0)},offer_label:{label:"Price",color:q.n(255,255,255),position:q.a(400,364),fontSize:16,e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,388),size:q.size(590,32),children:{header:{label:G["Shop Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(566,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},pa:function(){this._super();this.EL=0;this.ie(2);this.nb()},
ie:function(a){this.zc=a;this.Ii=[];2==a&&(this.b.main_panel.inventory_label.na("Inventory"),this.b.main_panel.offer_label.na("Offer"));1==a&&(this.b.main_panel.inventory_label.na("Store Items"),this.b.main_panel.offer_label.na("Price"));this.aM();this.dM()},kM:function(a){0==a&&(a=R.t.N.zl()[this.k.vc],R.t.N.UH({number:a.number,amount:a.amount}),R.t.N.zl().splice(this.k.vc,1),Inventory&&Inventory.Qa(),Equipment&&Equipment.Qa(),this.k.Qa());this.k.vc=null},lI:function(a){0==a&&(a=R.t.N.mf()[this.k.vc],
R.t.N.TH({number:a.number,amount:a.amount}),R.t.N.mf().splice(this.k.vc,1),Inventory&&Inventory.Qa(),Equipment&&Equipment.Qa(),this.k.Qa());this.k.vc=null},vb:function(a){if(this._super(a))return!0;this.Sd=null},Qh:function(){}});Sign=null;
SignPanel=Popup.extend({title:null,content:null,Hc:function(){return"Sign"},sc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{e:q.a(0,0),size:q.size(128,96),$:"GUI/signpost.png",children:{content:{label:this.content,fontSize:12,color:q.n(255,255,255),e:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},w:function(a,c){this._super();this.content=c},pa:function(){this._super();this.b.control_panel.content.$a(q.size(120,0))}});Quests=null;
QuestsPanel=Popup.extend({F:null,jh:null,UD:null,Hc:function(){return"Quests"},nb:function(){this.F&&this.F.$b();for(var a=[],c=[],d=q.ga.g(),e=0;e<this.data.length;e++)if(!(null==R.t.N.uk(e)||"undefined"===R.t.N.uk(e)&&1>R.t.N.uk(e))){a[e]=q.Z.create(q.i(0,0,0,0),420,32);var f=q.Z.create(q.i(0,0,0,127),212,1);f.l(q.a(4,0));var g=q.R.create(this.data[e].name,"Arial",15);g.r(q.n(0,0,0));g.A(q.a(0,0));g.l(q.a(4,4));g.$a(q.size(216,0));a[e].O(216,g.c().height+8);if(null!=this.UD&&this.UD==e){a[e]=q.Z.create(q.i(100,
0,0,255),216,g.c().height+8);var h=q.v.La(d.la("GUI/selected.png"));h.l(q.a(192,(g.c().height+8-20)/2));h.A(q.a(0,0));a[e].f(h);g.r(q.n(255,255,255))}a[e].f(f);a[e].f(g);a[e].Pa="Use";c.push([a[e]])}1>a.length&&(a[0]=q.Z.create(q.i(0,0,0,0),420,32),f=q.Z.create(q.i(0,0,0,127),212,1),f.l(q.a(4,0)),g=q.R.create(G["No Quests"],"Arial",15),g.r(q.n(0,0,0)),g.A(q.a(0,0)),g.l(q.a(4,4)),g.$a(q.size(216,0)),a[0].O(216,g.c().height+8),a[0].f(g),c.push([]));this.F=this.b.main_panel.list;var k=this;this.F.ec=
function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(216,c)};this.F.Yb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.sb=function(a,c){"Use"==a&&(k.UD=c,k.CV(c),k.nb())};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T)},CV:function(a){this.jh&&this.jh.$b();var c=this.data[a].objectiveList,d=[],e=[];q.ga.g();if(0<R.t.N.uk(a))for(var f=0;f<c.length;f++)if(!(R.t.N.uk(a)<f)){if(0==f)d[f]=q.Z.create(q.i(0,
0,0,0),1,1);else if(f==c.length)d[f]=q.Z.create(q.i(0,0,0,0),1,1);else{d[f]=q.Z.create(q.i(0,0,0,0),208,32);var g=q.Z.create(q.i(0,0,0,127),208,1);g.l(q.a(4,0));var h=q.R.create(c[f],"Arial",15);h.r(q.n(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));h.$a(q.size(208,0));d[f].O(208,h.c().height+8);R.t.N.uk(a)>f&&h.ta(200);d[f].f(g);d[f].f(h)}e.push([])}this.jh=this.b.main_panel.sublist;this.jh.ec=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(212,a)};this.jh.Yb=function(){return d.length};
this.jh.kc=function(a){return d[a].c()};this.jh.jc=function(a){return d[a]};this.jh.sb=function(){};this.jh.T=ListView.create(this.jh);this.jh.T.mc(e);this.jh.f(this.jh.T)},sc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/quest_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(512,328),children:{list:{size:q.size(216,328),color:q.i(0,200,200,0),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(212,328),color:q.i(0,200,200,0),position:q.a(258,0),e:q.a(0,
0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:G["Quest Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(484,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Qa:function(){},pa:function(){this._super();this.Qa();this.data=ObjectLists.Xp();this.nb()}});Skills=null;
SkillsPanel=Popup.extend({F:null,Hc:function(){return"Skills"},nb:function(){this.F&&this.F.$b();var a=[],c=[];q.ga.g();var d=0,e=0,f;for(f in this.data){e+=this.data[f].level+1;a[d]=q.G.create();a[d].O(420,32);var g=q.Z.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.R.create("Lvl "+(this.data[f].level+1+this.data[f].modifier)+"/"+(this.data[f].level+1),"Arial",15);h.r(q.n(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));var k=q.R.create(f,"Arial",15);k.r(q.n(0,0,0));k.A(q.a(0.5,0));k.l(q.a(h.c().width+65,
4));var l=q.Z.create(q.i(255,255,255,255),144,k.c().height),m=q.Z.create(q.i(100,120,200,255),this.data[f].experience/this.data[f].requirement*144,k.c().height);l.f(m);m.A(q.a(0,0));m=q.R.create(this.data[f].experience+"/"+this.data[f].requirement,"Arial",14);m.A(q.a(0,0));m.r(q.n(0,0,0));l.f(m);m.Cc(1);l.A(q.a(0,0));l.l(q.a(172,4));c.push([]);a[d].f(g);a[d].f(k);a[d].f(h);a[d].f(l);a[d].O(324,k.c().height+8);d++}this.F=this.b.main_panel.list;this.F.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].c().height;return q.size(324,c)};this.F.Yb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.sb=function(){};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T);this.b.main_panel.character_level.na("LEVEL: "+e);this.b.main_panel.character_level.Na(306);this.b.main_panel.character_level.A(q.a(1,0))},sc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,
0),size:q.size(365,328),children:{character_level:{label:"",position:q.a(2,310),e:q.a(0,0),color:q.n(0,0,0)},list:{size:q.size(324,308),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:G["Skills Header"],fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Qa:function(){},pa:function(){this._super();this.Qa();this.data=U.wT();
this.nb()}});
var U=q.Vc.extend({Mw:[],Tc:null,tq:function(){var a=ObjectLists.vk(),c;for(c in this.Mw)this.Mw[c].K();this.Mw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.eS(a[c].name,a[c].healthbar,d);this.f(e);this.Mw.push(e);d++}this.l(q.a(0,P.height-32*d))},eS:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.Z.create(q.i(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),0<
this.Tc[a].currenthealth?this.Tc[a].currenthealth/this.Tc[a].maxhealth*300:1,23);e.jC=q.v.La(q.ga.g().la("GUI/healthbar.png"));e.l(10,32*d- -5*d-10);e.A(q.a(0,0));e.jC.l(-5,-4);e.jC.A(q.a(0,0));e.f(e.jC);a=q.R.create(a,"Arial",16);a.l(10,11.5);a.A(q.a(0,0.5));e.f(a);return e}});SkillBarsInstance=null;U.create=function(a){null==SkillBarsInstance&&(SkillBarsInstance=new U,SkillBarsInstance.Tc=a,SkillBarsInstance.tq());return SkillBarsInstance};
U.MU=function(a,c){SkillBarsInstance.Tc[a].currenthealth+=c;0>SkillBarsInstance.Tc[a].currenthealth&&(SkillBarsInstance.Tc[a].currenthealth=0);SkillBarsInstance.Tc[a].currenthealth>SkillBarsInstance.Tc[a].maxhealth&&(SkillBarsInstance.Tc[a].currenthealth=SkillBarsInstance.Tc[a].maxhealth);SkillBarsInstance.tq();Skills&&Skills.nb()};U.OU=function(a,c){SkillBarsInstance.Tc[a].experience+=c;0>SkillBarsInstance.Tc[a].experience&&(SkillBarsInstance.Tc[a].experience=0);SkillBarsInstance.tq();Skills&&Skills.nb()};
U.NU=function(a,c){SkillBarsInstance.Tc[a].modifier+=c;0>SkillBarsInstance.Tc[a].modifier&&(SkillBarsInstance.Tc[a].modifier=0);SkillBarsInstance.tq();Skills&&Skills.nb()};U.wT=function(){return SkillBarsInstance.Tc};U.update=function(){SkillBarsInstance.tq()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,F:null,fb:null,xj:null,pf:null,qf:null,S2:null,k:null,rb:null,fca:null,U2:null,ma:null,j:null,Zn:null,Aj:function(a){z({savescripts:a+"",scriptsdata:this.data})},oj:function(a,c){z({savescriptswhole:c})},Hc:function(){return"Scripts"},xa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Ud(function(){c.Pd(null)})}},w:function(a){this._super();this.data={data:[],name:null};this.rb=null;a.data&&(this.data=a.data);a.SD&&(this.data.specifier=a.SD);this.k=
a.k},pa:function(){this._super();this.rb=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.c().width,this.b.main_panel.nameEntry.c().height),q.a(0,this.b.main_panel.nameEntry.c().height),this.data.name,q.i(255,255,255),q.n(0,0,0));this.rb.lb(!0);this.b.main_panel.abbrEntry&&(this.Kw=new $(this.b.main_panel.abbrEntry,q.size(this.b.main_panel.abbrEntry.c().width,this.b.main_panel.abbrEntry.c().height),q.a(0,this.b.main_panel.abbrEntry.c().height),this.data.abbr,q.i(255,255,255),q.n(0,
0,0)),this.Kw.lb(!0));this.nb()},nb:function(){this.F&&this.F.$b();for(var a in this.pf)this.pf[a].$b(),this.pf[a].K();for(a in this.qf)this.qf[a].$b(),this.qf[a].K();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.ga.g();this.pf=[];this.qf=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=[];c[a]=q.G.create();c[a].O(758,100);var l=q.Z.create(q.i(0,0,0,127),750,1);l.l(q.a(4,0));var m=q.Z.create(q.i(0,0,0,127),1,92);m.l(q.a(152,4));var p=q.Z.create(q.i(0,0,0,127),1,92);p.l(q.a(451,4));var s=
this.data.data[a].type;"On Talk Close"==s&&(s+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");s=q.R.create(a+": "+s,"Arial",15);s.r(q.n(0,0,0));s.A(q.a(0,1));s.l(q.a(4,96));s.$a(q.size(100,0));var u=q.Z.create(q.i(0,255,0,60),259,100);u.O(q.size(259,100));u.Na(451);u.A(q.a(0,0));c[a].f(u);var w=q.Z.create(q.i(0,255,0,60),259,100);w.O(q.size(259,100));w.Na(152);w.A(q.a(0,0));c[a].f(w);var x=q.v.La(k.la("GUI/trash.png"));x.l(q.a(120,4));
x.A(q.a(0,0));x.Pa="Delete";c[a].f(x);var F=q.v.La(k.la("GUI/edit.png"));F.l(q.a(96,4));F.A(q.a(0,0));F.Pa="Edit";c[a].f(F);f.push([x,F]);for(x=0;x<this.data.data[a].responses.length;x++){d[a].push(q.G.create());d[a][x].O(259,32);var F=!0,J=q.R.create(x+1+": "+this.data.data[a].responses[x].type,"Arial",15);J.r(q.n(0,0,0));J.A(q.a(0,0));J.l(q.a(4,4));J.$a(q.size(180,0));d[a][x].O(259,J.c().height+8);d[a][x].f(J);J=q.v.La(k.la("GUI/trash.png"));J.l(q.a(229,0));J.A(q.a(0,0));J.Pa="Delete";d[a][x].f(J);
switch(this.data.data[a].responses[x].type){case "Destroy":case "Attack":case "Run Away":F=!1}F?(F=q.v.La(k.la("GUI/edit.png")),F.l(q.a(205,0)),F.A(q.a(0,0)),F.Pa="Edit",d[a][x].f(F),g[a].push([J,F])):g[a].push([J])}x=q.Z.create(q.i(70,200,70,255),90,26);F=q.R.create("+","Arial",20);F.l(45,13);F.A(q.a(0.5,0.5));x.l(q.a(84.5,0));x.Pa="Add";x.f(F);g[a].push([x]);d[a].push(x);this.qf[a]=w;this.qf[a].identifier=a;var E=this;this.qf[a].ec=function(){for(var a=0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].c().height;
return q.size(259,a)};this.qf[a].Yb=function(){return d[this.identifier].length};this.qf[a].kc=function(a){return d[this.identifier][a].c()};this.qf[a].jc=function(a){return d[this.identifier][a]};this.qf[a].sb=function(a,c,d){E.Ka(d.S);if(null==E.j)switch(a){case "Delete":E.ea.f(DropDownList.Pc(E,E.pS,["Cancel","Delete"],d.S));E.fb=c;E.xj=this.identifier;break;case "Edit":E.uI(this.identifier,"responses",c);break;case "Add":a="Talk;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Repeat Responses;Open/Close Panel;Modify Player Stats;Script Response".split(";");
c=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}];for(var e=0;e<E.data.data[this.identifier].responses.length;e++)"Repeat Responses"==E.data.data[this.identifier].responses[e].type&&(c[7].enabled=!1);switch(E.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Item":a.push("Equip Item","Read Item");c.push({enabled:!0},
{enabled:!0});break;case "Tile":a.push("Block Entry","Add Layer Graphic","Show Sign","Spawn NPC","Spawn Item"),c.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}E.ea.f(DropDownList.Pc(E,E.qR,a,d.S,c));E.xj=this.identifier;break;case "Use":E.k.Xn(c,E.hb[c])}};this.qf[a].T=ListView.create(this.qf[a]);this.qf[a].T.mc(g[a]);this.qf[a].f(this.qf[a].T);for(x=0;x<this.data.data[a].requirements.length;x++)e[a].push(q.G.create()),e[a][x].O(259,32),w=q.R.create(x+1+": "+this.data.data[a].requirements[x].type,
"Arial",15),w.r(q.n(0,0,0)),w.A(q.a(0,0)),w.l(q.a(4,4)),w.$a(q.size(180,0)),e[a][x].O(259,w.c().height+8),e[a][x].f(w),J=q.v.La(k.la("GUI/trash.png")),J.l(q.a(229,0)),J.A(q.a(0,0)),J.Pa="Delete",e[a][x].f(J),F=q.v.La(k.la("GUI/edit.png")),F.l(q.a(205,0)),F.A(q.a(0,0)),F.Pa="Edit",e[a][x].f(F),h[a].push([J,F]);w=q.Z.create(q.i(70,200,70,255),90,26);x=q.R.create("+","Arial",20);x.l(45,13);x.A(q.a(0.5,0.5));w.l(q.a(84.5,0));w.Pa="Add";w.f(x);h[a].push([w]);e[a].push(w);this.pf[a]=u;this.pf[a].identifier=
a;E=this;this.pf[a].ec=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].c().height;return q.size(259,a)};this.pf[a].Yb=function(){return e[this.identifier].length};this.pf[a].kc=function(a){return e[this.identifier][a].c()};this.pf[a].jc=function(a){return e[this.identifier][a]};this.pf[a].sb=function(a,c,d){E.Ka(d.S);if(null==E.j)switch(a){case "Delete":E.ea.f(DropDownList.Pc(E,E.oS,["Cancel","Delete"],d.S));E.fb=c;E.xj=this.identifier;break;case "Edit":E.uI(this.identifier,
"requirements",c);break;case "Add":a="Has Player Item;Is Player Statistics;Is Quest Point;Is Panel Visibility;Is Player Inventory Space;Script Requirement".split(";");switch(E.data.specifier){case "Tile":a.push("Is Event Fired By");break;case "NPC":a.push("Is NPC Statistics","Is NPC Actioning")}E.ea.f(DropDownList.Pc(E,E.pR,a,d.S));E.xj=this.identifier;break;case "Use":E.k.Xn(c,E.hb[c])}};this.pf[a].T=ListView.create(this.pf[a]);this.pf[a].T.mc(h[a]);this.pf[a].f(this.pf[a].T);c[a].f(s);c[a].f(l);
c[a].f(m);c[a].f(p)}a=q.Z.create(q.i(70,200,70,255),90,26);g=q.R.create("+","Arial",20);g.l(45,13);g.A(q.a(0.5,0.5));a.l(q.a(334,0));a.Pa="Add";a.f(g);f.push([a]);c.push(a);this.F=this.b.main_panel.list;E=this;this.F.ec=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].c().height;return q.size(758,a)};this.F.Yb=function(){return c.length};this.F.kc=function(a){return c[a].c()};this.F.jc=function(a){return c[a]};this.F.sb=function(a,c,d){E.Ka(d.S);if(null==E.j)switch(a){case "Delete":var e="Delete";
E.VT(c)&&(e="Delete (Will destroy all child events)");E.ea.f(DropDownList.Pc(E,E.nS,["Cancel",e],d.S));E.fb=c;break;case "Add":a=["Default Interaction","On Examine","On Talk Close","On Talk Option Selected","On Game Load"];var f=[{enabled:!0},{enabled:!1},{enabled:!1},{enabled:!1},{enabled:!0}];for(e in E.data.data)if(E.data.data[e])for(var g=0;g<E.data.data[e].responses.length;g++)if("Talk"==E.data.data[e].responses[g].type){f[2].enabled=!0;break}0==E.data.data.length&&(f[1].enabled=!1);E.LS()&&
(f[3].enabled=!0);switch(E.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Interact On","Interact Facing","Will Enter","On Enter","Will Leave","On Leave","On Come Near"),f.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0}),f[0].enabled=!1}E.ea.f(DropDownList.Pc(E,E.hR,a,d.S,f));E.fb=c;break;case "Use":E.k.Xn(c,E.hb[c])}};this.F.T=ListView.create(this.F);
this.F.T.mc(f);this.F.f(this.F.T)},kI:function(a){for(var c=0;c<this.data.data.length;c++)"On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.kI(c),this.data.data.splice(c,1))},VT:function(a){for(var c=0;c<this.data.data.length;c++)if("On Talk Close"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a)return!0;return!1},LS:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Talk"==this.data.data[a].responses[c].type)return!0;
return!1},nS:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.kI(this.k.fb),this.k.data.data.splice(this.k.fb,1),this.k.nb(),this.k.fb=null)}},pS:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.data.data[this.k.xj].responses.splice(this.k.fb,1),this.k.nb(),this.k.fb=null,this.k.xj=null)}},oS:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.data.data[this.k.xj].requirements.splice(this.k.fb,1),this.k.nb(),this.k.fb=null,this.k.xj=null)}},rR:function(a){this.k.data.data.push({type:"On Talk Close",
responses:[],requirements:[],data:{attachedEvent:a}});this.k.nb()},sR:function(a,c){this.k.zE=a;for(var d=[],e=0;e<this.k.data.data[a].responses.length;e++)if("Talk"==this.k.data.data[a].responses[e].type)for(var f in this.k.data.data[a].responses[e].data.options)d.push(f+": "+this.k.data.data[a].responses[e].data.options[f]);this.ea.f(DropDownList.Pc(this.k,this.k.UR,d,c.S))},UR:function(a){this.k.data.data.push({type:"On Talk Option Selected for event:"+this.k.zE+", option:"+a,responses:[],requirements:[],
data:{attachedEvent:this.k.zE,attachedOption:a}});this.k.nb();this.k.zE=null},hR:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:d="On Examine";break;case 2:var d=[],e;for(e in this.k.data.data)if(this.k.data.data[e])for(var f=0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&d.push(e+": "+this.k.data.data[e].type);this.ea.f(DropDownList.Pc(this.k,this.k.rR,d,c.S));return;case 3:d=[];for(e in this.k.data.data)if(this.k.data.data[e])for(f=
0;f<this.k.data.data[e].responses.length;f++)"Talk"==this.k.data.data[e].responses[f].type&&this.k.data.data[e].responses[f].data.options&&0<this.k.data.data[e].responses[f].data.options.length&&d.push(e+": "+this.k.data.data[e].type);this.ea.f(DropDownList.Pc(this.k,this.k.sR,d,c.S));return;case 4:d="On Game load"}if(""==d)switch(this.k.data.specifier){case "Item":switch(a){case 5:d="On Pickup";break;case 6:d="On Drop";break;case 7:d="On Dequip";break;case 8:d="On Trade"}break;case "Tile":switch(a){case 5:d=
"Interact On";break;case 6:d="Interact Facing";break;case 7:d="Will Enter";break;case 8:d="On Enter";break;case 9:d="Will Leave";break;case 10:d="On Leave";break;case 11:d="On Come Near"}}this.k.data.data.push({type:d,responses:[],requirements:[],data:{}});this.k.nb()},qR:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Destroy";break;case 2:c="Give /Take Item";break;case 3:c="Set Quest Point";break;case 4:c="Warp Player";break;case 5:c="Wait";break;case 6:c="Repeat Responses";break;
case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats";break;case 9:c="Script Response"}if(""==c)switch(this.k.data.specifier){case "NPC":switch(a){case 10:c="Attack";break;case 11:c="Run Away";break;case 12:c="Defend";break;case 13:c="Modify NPC Stats"}break;case "Item":switch(a){case 10:c="Equip Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 10:c="Block Entry";break;case 11:c="Add Layer Graphic";break;case 12:c="Show Sign";break;case 13:c="Spawn NPC";break;case 14:c=
"Spawn Item"}}this.k.data.data[this.k.xj].responses.push({type:c,data:{}});this.k.nb()},pR:function(a){var c="";switch(a){case 0:c="Has Player Item";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Panel Visibility";break;case 4:c="Is Player Inventory Space";break;case 5:c="Script Requirement"}if(""==c)switch(this.k.data.specifier){case "Tile":switch(a){case 6:c="Is Event Fired By"}break;case "NPC":switch(a){case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}}this.k.data.data[this.k.xj].requirements.push({type:c,
data:{}});this.k.nb()},sc:function(){return{panels:{children:{background_image:{$:"GUI/event_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(1E3,400),children:{list:{size:q.size(758,360),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)},abbrlbl:"Tile"==this.data.specifier?{label:"Abbr",fontSize:20,e:q.a(0,0),position:q.a(550,
368),size:q.size(36,32),color:q.n(0,0,0)}:null,abbrEntry:"Tile"==this.data.specifier?{position:q.a(595,364),size:q.size(36,32),color:q.n(255,255,255)}:null,namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(110,368),color:q.n(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),color:q.i(255,255,255,255)}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(1E3,32),children:{header:{label:"Script Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(976,
6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}},subEditorOver:{visible:!1,color:q.i(0,0,0,127),position:q.a(0,0),size:q.size(800,400)},mainEditorOver:{color:q.i(0,0,0,127),position:q.a(800,0),size:q.size(200,400)}}}}},uI:function(a,c,d){this.ma={event:a,listtype:c,id:d};this.Zn=this.data.data[a][c][d].type;this.xV=I(this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data);this.tt()},O$:function(a){this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data=I(a);this.gx();this.ma=
null;this.nb()},N$:function(){this.gx();this.ma=null},a3:function(){},uy:null,IE:null,JE:null,cd:null,pK:null,bK:null,px:null,vc:null,by:null,am:null,bm:null,$l:null,dy:null,ey:null,cy:null,kK:null,eo:0,$J:null,HH:null,ox:null,Qc:null,jy:null,IS:function(a,c){var d={panels:{children:{editArea:{color:q.i(127,127,127,255),e:q.a(0,0),position:q.a(0,0),size:q.size(200,250)},editBox:{size:q.size(178,196),e:q.a(0,0),position:q.a(8,12)},okbtn:{position:q.a(62,210),size:q.size(32,32),$:"GUI/tick_icon.png",
e:q.a(0,0)},cancelbtn:{position:q.a(106,210),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}}};this.rg=ra(d,!0);this.j.f(this.rg);this.wE=new $(this.rg.editBox,q.size(this.rg.editBox.c().width,this.rg.editBox.c().height),q.a(0,this.rg.editBox.c().height),c?c:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.wE.lb(!0);this.wE.Sc(!1);this.xE=a},tt:function(){this.j&&(this.j.K(),this.j=null);this.b.subEditorOver.D(!0);this.b.mainEditorOver.D(!1);var a={panels:{position:q.a(802,0),children:{}}},
c=this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data;switch(this.Zn){case "Warp Player":a.panels.children={mapNumberLabel:{label:"Map ID",e:q.a(0,0),position:q.a(12,374)},mapNumberText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},mapXLabel:{label:"Map X",e:q.a(0,0),position:q.a(12,310)},mapXText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,276),size:q.size(80,32)},mapYLabel:{label:"Map Y",e:q.a(0,0),position:q.a(100,310)},mapYText:{color:q.i(255,
255,255,255),e:q.a(0,0),position:q.a(100,276),size:q.size(80,32)}};break;case "Script Response":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction resp(data){\n//data is { }",e:q.a(0,1),position:q.a(12,374),color:q.n(255,0,0)},sayLabelPost:{label:"};",e:q.a(0,1),position:q.a(12,95),color:q.n(255,0,0)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,200)}};break;case "Script Requirement":a.panels.children={sayLabelPre:{label:"Script:\n\nfunction req(data,isAllow){\n//data is { }\n//isAllow defaults false",
e:q.a(0,1),position:q.a(12,374),color:q.n(255,0,0)},sayLabelPost:{label:"return isAllow;\n};",e:q.a(0,1),position:q.a(12,95),color:q.n(255,0,0)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,100),size:q.size(174,190)}};break;case "Read Item":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,322)}};break;case "Show Sign":a.panels.children={signLabel:{label:"Sign Title:",e:q.a(0,
0),position:q.a(12,376)},signText:{color:q.n(255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(174,32)},sayLabel:{label:"Sign Content:",e:q.a(0,0),position:q.a(12,318)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(174,258)}};break;case "Talk":a.panels.children={sayLabel:{label:"Say:",e:q.a(0,0),position:q.a(12,374)},sayText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,274),size:q.size(174,100)},optionLabel:{label:"Options:",e:q.a(0,0),position:q.a(12,
235)},optionList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,185)}};break;case "Is Quest Point":case "Set Quest Point":a.panels.children={questLabel:{label:"Quest:",e:q.a(0,0),position:q.a(12,374)},questList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},objectiveLabel:{label:"Objective:",e:q.a(0,0),position:q.a(12,189)},objectiveList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,50),size:q.size(154,135)}};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":a.panels.children=
{itemsLabel:{label:"Item:",e:q.a(0,0),position:q.a(12,374)},itemList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},amountLabel:{label:"Amount:",e:q.a(0,0),position:q.a(12,189)},amountText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,153),size:q.size(154,32)},amountNote:{label:"Has Player Item"==this.Zn?"":"Use negative item amounts to take away. Use positive amounts to give.",e:q.a(0,1),position:q.a(12,145)}};break;case "Spawn NPC":a.panels.children={npcLabel:{label:"NPC:",
e:q.a(0,0),position:q.a(12,374)},npcList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Modify Player Stats":case "Modify NPC Stats":a.panels.children={skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Modify",e:q.a(0,0),position:q.a(12,205)},levelText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,
32)},expLabel:{label:"XP Modify: (% allowed)",e:q.a(0,0),position:q.a(12,145)},expText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(154,32)},healthLabel:{label:"Health Modify: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(154,32)}};break;case "Is Panel Visibility":case "Open/Close Panel":a.panels.children={panelsLabel:{label:"Panel:",e:q.a(0,0),position:q.a(12,374)},panelList:{color:q.i(255,
255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},visibleLabel:{label:"Visibility:",e:q.a(0,0),position:q.a(12,205)},visibleButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(12,169),size:q.size(154,32),children:{content:{position:q.a(77,16),e:q.a(0.5,0.5),label:"Invisible",color:q.n(0,0,0)}}}};break;case "Is Event Fired By":a.panels.children={objectLabel:{label:"Possible Types:",e:q.a(0,0),position:q.a(12,374)},objectList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,
230),size:q.size(154,135)}};break;case "Is NPC Actioning":a.panels.children={actionLabel:{label:"Actions:",e:q.a(0,0),position:q.a(12,374)},actionList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)}};break;case "Is Player Inventory Space":a.panels.children={spaceLabel:{label:"Inventory Space",e:q.a(0,0),position:q.a(12,374)},spaceText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Wait":a.panels.children={timeLabel:{label:"Time (Seconds)",
e:q.a(0,0),position:q.a(12,374)},timeText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)}};break;case "Repeat Responses":a.panels.children={amountLabel:{label:"Repeat Amount",e:q.a(0,0),position:q.a(12,374)},amountText:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,340),size:q.size(100,32)},amountNote:{label:"Use 0 for infinite amount of repeats.",e:q.a(0,1),position:q.a(12,300)}};break;case "Is Player Statistics":case "Is NPC Statistics":a.panels.children=
{skillsLabel:{label:"Skill:",e:q.a(0,0),position:q.a(12,374)},skillList:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,230),size:q.size(154,135)},levelLabel:{label:"Level Range",e:q.a(0,0),position:q.a(12,205)},levelDash:{label:"-",e:q.a(0,0),position:q.a(91,174)},levelTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,169),size:q.size(75,32)},levelTextUpper:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,169),size:q.size(75,32)},expLabel:{label:"XP Range: (% allowed)",
e:q.a(0,0),position:q.a(12,145)},expDash:{label:"-",e:q.a(0,0),position:q.a(91,114)},expTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,109),size:q.size(75,32)},expTextUpper:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(100,109),size:q.size(75,32)},healthLabel:{label:"Health Range: (% allowed)",e:q.a(0,0),position:q.a(12,85)},healthDash:{label:"-",e:q.a(0,0),position:q.a(91,54)},healthTextLower:{color:q.i(255,255,255,255),e:q.a(0,0),position:q.a(12,49),size:q.size(75,32)},healthTextUpper:{color:q.i(255,
255,255,255),e:q.a(0,0),position:q.a(100,49),size:q.size(75,32)}};break;case "Equip Item":a.panels.children={equipLabel:{label:"Equips To:",e:q.a(0,0),position:q.a(12,374)},headButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,320),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Head",color:q.n(0,0,0)}}},bodyButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Body",color:q.n(0,
0,0)}}},legButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,240),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Legs",color:q.n(0,0,0)}}},feetButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(69,200),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Feet",color:q.n(0,0,0)}}},lArmButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(10,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"L Arm",
color:q.n(0,0,0)}}},rArmButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(128,280),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"R Arm",color:q.n(0,0,0)}}},modButton:{color:q.i(255,0,0,255),e:q.a(0,0),position:q.a(10,160),size:q.size(55,32),children:{content:{position:q.a(28,16),e:q.a(0.5,0.5),label:"Mod",color:q.n(0,0,0)}}}}}a.panels.children.okbtn={position:q.a(62,8),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)};a.panels.children.cancelbtn={position:q.a(106,
8),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)};this.j=ra(a,!0);this.b.f(this.j);switch(this.Zn){case "Warp Player":var d=a=1;c.index&&(d=V.yi(c.mapnum),a=c.index%d.width,d=Math.floor(c.index/d.width));this.uy=new $(this.j.mapNumberText,q.size(this.j.mapNumberText.c().width,this.j.mapNumberText.c().height),q.a(0,this.j.mapNumberText.c().height),null!=c.mapnum&&"undefined"!==c.mapnum?c.mapnum:"0",q.i(255,255,255),q.n(0,0,0));this.uy.lb(!0);this.IE=new $(this.j.mapXText,q.size(this.j.mapXText.c().width,
this.j.mapXText.c().height),q.a(0,this.j.mapXText.c().height),a,q.i(255,255,255),q.n(0,0,0));this.IE.lb(!0);this.JE=new $(this.j.mapYText,q.size(this.j.mapYText.c().width,this.j.mapYText.c().height),q.a(0,this.j.mapYText.c().height),d,q.i(255,255,255),q.n(0,0,0));this.JE.lb(!0);break;case "Show Sign":this.cd=new $(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.content?c.content:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.cd.lb(!0);
this.cd.Sc(!1);this.qE=new $(this.j.signText,q.size(this.j.signText.c().width,this.j.signText.c().height),q.a(0,this.j.signText.c().height),c.title?c.title:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.qE.lb(!0);this.qE.Sc(!1);break;case "Read Item":this.cd=new $(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.cd.lb(!0);this.cd.Sc(!1);break;case "Script Response":this.cd=
new $(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.cd.lb(!0);this.cd.Sc(!1);break;case "Script Requirement":this.cd=new $(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.functionContent?c.functionContent:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.cd.lb(!0);this.cd.Sc(!1);
break;case "Talk":this.cd=new $(this.j.sayText,q.size(this.j.sayText.c().width,this.j.sayText.c().height),q.a(0,this.j.sayText.c().height),c.say?c.say:"\x3cEnter text\x3e",q.i(255,255,255),q.n(0,0,0),!0);this.cd.lb(!0);this.cd.Sc(!1);var e=[],a=[],f=c.options?c.options:[];console.log(f);for(d=0;d<f.length;d++){e[d]=q.G.create();var g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15);h.r(q.n(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));h.$a(q.size(104,0));e[d].O(154,h.c().height+8);var k=q.v.La(q.ga.g().la("GUI/edit.png"));
k.l(q.a(130,0));k.A(q.a(0,0));k.Pa="Edit";k.Cc((h.c().height+8)/2-10);var l=q.v.La(q.ga.g().la("GUI/trash.png"));l.l(q.a(108,0));l.A(q.a(0,0));l.Pa="Delete";l.Cc((h.c().height+8)/2-10);a.push([k,l]);var m=q.Z.create(q.i(255,255,255,255),154,h.c().height+8);e[d].f(m);e[d].Zb=m;e[d].f(g);e[d].f(h);e[d].f(k);e[d].f(l)}d=q.Z.create(q.i(70,200,70,255),90,26);g=q.R.create("+","Arial",20);g.l(45,13);g.A(q.a(0.5,0.5));d.l(q.a(34,0));d.Pa="Add";d.f(g);a.push([d]);e.push(d);var p=this;this.j.optionList.ec=
function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.optionList.Yb=function(){return e.length};this.j.optionList.kc=function(a){return e[a].c()};this.j.optionList.jc=function(a){return e[a]};this.j.optionList.Hf=function(a){return e[a].Zb};this.j.optionList.sb=function(a,d){if(!p.rg)switch(a){case "Add":c.options||(c.options=[]);c.options.push("\x3cEnter Text\x3e");c.say=p.cd.ba();p.j.optionList.T.K();p.j.optionList.T=null;p.tt();break;case "Delete":c.options.splice(d,
1);c.say=p.cd.ba();p.j.K();p.j=null;p.tt();break;case "Edit":c.say=p.cd.ba(),p.IS(d,c.options[d]),p.j.optionList.T.K(),p.j.optionList.T=null}};this.j.optionList.T=ListView.create(this.j.optionList);this.j.optionList.T.mc(a);this.j.optionList.f(this.j.optionList.T);break;case "Is Quest Point":case "Set Quest Point":e=[];a=[];f=ObjectLists.Xp();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.r(q.n(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.$a(q.size(126,
0)),k=q.v.La(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Pa="Use",e[d].O(154,h.c().height+8),k.Cc((h.c().height+8)/2-10),a.push([k]),m=q.Z.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Zb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.questList.ec=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.questList.Yb=function(){return e.length};this.j.questList.kc=function(a){return e[a].c()};this.j.questList.jc=function(a){return e[a]};
this.j.questList.Hf=function(a){return e[a].Zb};this.j.questList.sb=function(a,c){if("Use"==a){p.j.objectiveList.T&&p.j.objectiveList.T.K();this.T.Zb(c);p.pK=c;for(var d=[],e=[],f=q.ga.g(),g=ObjectLists.Xp()[c].objectiveList,h=0;h<g.length;h++){d[h]=q.G.create();var k=q.Z.create(q.i(0,0,0,127),154,1);k.l(q.a(0,0));var l=q.R.create(g[h],"Arial",15);l.r(q.n(0,0,0));l.A(q.a(0,0));l.l(q.a(4,4));l.$a(q.size(126,0));var m=q.v.La(f.la("GUI/use.png"));m.l(q.a(130,0));m.A(q.a(0,0));m.Pa="Use";e.push([m]);
d[h].O(126,l.c().height+8);m.Cc((l.c().height+8)/2-10);var ha=q.Z.create(q.i(255,255,255,255),154,l.c().height+8);d[h].f(ha);d[h].Zb=ha;d[h].f(k);d[h].f(l);d[h].f(m)}p.j.objectiveList.ec=function(){for(var a=0,c=0;c<d.length;c++)a+=d[c].c().height;return q.size(154,a)};p.j.objectiveList.Yb=function(){return d.length};p.j.objectiveList.Hf=function(a){return d[a].Zb};p.j.objectiveList.kc=function(a){return d[a].c()};p.j.objectiveList.jc=function(a){return d[a]};p.j.objectiveList.sb=function(a,c){this.T.Zb(c);
p.bK=c};p.j.objectiveList.T=ListView.create(p.j.objectiveList);p.j.objectiveList.T.mc(e);p.j.objectiveList.f(p.j.objectiveList.T)}};this.j.questList.T=ListView.create(this.j.questList);this.j.questList.T.mc(a);this.j.questList.f(this.j.questList.T);null!=c.quest&&"undefined"!==c.quest&&(this.j.questList.sb("Use",c.quest),null!=c.objective&&"undefined"!==c.objective&&this.j.objectiveList.sb("Use",c.objective));break;case "Spawn NPC":e=[];a=[];f=ObjectLists.Up();for(d=0;d<f.length;d++)e[d]=q.G.create(),
g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.r(q.n(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.$a(q.size(126,0)),k=q.v.La(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Pa="Use",e[d].O(154,h.c().height+8),k.Cc((h.c().height+8)/2-10),a.push([k]),m=q.Z.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Zb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.npcList.ec=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.npcList.Yb=
function(){return e.length};this.j.npcList.kc=function(a){return e[a].c()};this.j.npcList.jc=function(a){return e[a]};this.j.npcList.Hf=function(a){return e[a].Zb};this.j.npcList.sb=function(a,c){"Use"==a&&(this.T.Zb(c),p.vc=c)};this.j.npcList.T=ListView.create(this.j.npcList);this.j.npcList.T.mc(a);this.j.npcList.f(this.j.npcList.T);null!=c.npc&&"undefined"!==c.npc&&this.j.npcList.sb("Use",c.npc);break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.j.amountNote.$a(q.size(180,
0));e=[];a=[];f=ObjectLists.Xb();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.r(q.n(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.$a(q.size(126,0)),k=q.v.La(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Pa="Use",e[d].O(154,h.c().height+8),k.Cc((h.c().height+8)/2-10),a.push([k]),m=q.Z.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Zb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.itemList.ec=function(){for(var a=
0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.itemList.Yb=function(){return e.length};this.j.itemList.kc=function(a){return e[a].c()};this.j.itemList.jc=function(a){return e[a]};this.j.itemList.Hf=function(a){return e[a].Zb};this.j.itemList.sb=function(a,c){"Use"==a&&(this.T.Zb(c),p.vc=c)};this.j.itemList.T=ListView.create(this.j.itemList);this.j.itemList.T.mc(a);this.j.itemList.f(this.j.itemList.T);null!=c.item&&"undefined"!==c.item&&this.j.itemList.sb("Use",c.item);this.px=
new $(this.j.amountText,q.size(this.j.amountText.c().width,this.j.amountText.c().height),q.a(0,this.j.amountText.c().height),c.amount?c.amount:"0",q.i(255,255,255),q.n(0,0,0));this.px.lb(!0);this.px.Sc(!1);break;case "Modify Player Stats":case "Modify NPC Stats":e=[];a=[];f=ObjectLists.vk();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.r(q.n(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.$a(q.size(126,0)),k=q.v.La(q.ga.g().la("GUI/use.png")),
k.l(q.a(130,0)),k.A(q.a(0,0)),k.Pa="Use",e[d].O(154,h.c().height+8),k.Cc((h.c().height+8)/2-10),a.push([k]),m=q.Z.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Zb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.skillList.ec=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.skillList.Yb=function(){return e.length};this.j.skillList.kc=function(a){return e[a].c()};this.j.skillList.jc=function(a){return e[a]};this.j.skillList.Hf=function(a){return e[a].Zb};
this.j.skillList.sb=function(a,c){"Use"==a&&(this.T.Zb(c),p.by=c)};this.j.skillList.T=ListView.create(this.j.skillList);this.j.skillList.T.mc(a);this.j.skillList.f(this.j.skillList.T);null!=c.skill&&"undefined"!==c.skill&&this.j.skillList.sb("Use",c.skill);this.am=new $(this.j.levelText,q.size(this.j.levelText.c().width,this.j.levelText.c().height),q.a(0,this.j.levelText.c().height),c.level?c.level:"0",q.i(255,255,255),q.n(0,0,0));this.am.lb(!0);this.am.Sc(!1);this.bm=new $(this.j.expText,q.size(this.j.expText.c().width,
this.j.expText.c().height),q.a(0,this.j.expText.c().height),c.xp?c.xp:"0",q.i(255,255,255),q.n(0,0,0));this.bm.lb(!0);this.bm.Sc(!1);this.$l=new $(this.j.healthText,q.size(this.j.healthText.c().width,this.j.healthText.c().height),q.a(0,this.j.healthText.c().height),c.health?c.health:"0",q.i(255,255,255),q.n(0,0,0));this.$l.lb(!0);this.$l.Sc(!1);break;case "Is Panel Visibility":case "Open/Close Panel":e=[];a=[];f=["Inventory","Equipment","Skills","QuestLog","Bank"];for(d=0;d<f.length;d++)e[d]=q.G.create(),
g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.r(q.n(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.$a(q.size(126,0)),k=q.v.La(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Pa="Use",e[d].O(154,h.c().height+8),k.Cc((h.c().height+8)/2-10),a.push([k]),m=q.Z.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Zb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.panelList.ec=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.panelList.Yb=
function(){return e.length};this.j.panelList.kc=function(a){return e[a].c()};this.j.panelList.jc=function(a){return e[a]};this.j.panelList.Hf=function(a){return e[a].Zb};this.j.panelList.sb=function(a,c){"Use"==a&&(this.T.Zb(c),p.kK=c)};this.j.panelList.T=ListView.create(this.j.panelList);this.j.panelList.T.mc(a);this.j.panelList.f(this.j.panelList.T);null!=c.panel&&"undefined"!==c.panel&&this.j.panelList.sb("Use",c.panel);this.eo=1==c.visible?1:0;1==this.eo&&(this.j.visibleButton.r(q.i(0,255,0,255)),
this.j.visibleButton.content.na("Visible"));break;case "Is Event Fired By":e=[];a=[];f=["Player","NPC"];for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.r(q.n(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.$a(q.size(126,0)),k=q.v.La(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Pa="Use",e[d].O(154,h.c().height+8),k.Cc((h.c().height+8)/2-10),a.push([k]),m=q.Z.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Zb=m,e[d].f(g),
e[d].f(h),e[d].f(k);p=this;this.j.objectList.ec=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.objectList.Yb=function(){return e.length};this.j.objectList.kc=function(a){return e[a].c()};this.j.objectList.jc=function(a){return e[a]};this.j.objectList.Hf=function(a){return e[a].Zb};this.j.objectList.sb=function(a,c){"Use"==a&&(this.T.Zb(c),p.$J=c)};this.j.objectList.T=ListView.create(this.j.objectList);this.j.objectList.T.mc(a);this.j.objectList.f(this.j.objectList.T);
null!=c.object&&"undefined"!==c.object&&this.j.objectList.sb("Use",c.object);break;case "Is NPC Actioning":e=[];a=[];f=["Attacking","Defending","Fleeing"];for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d],"Arial",15),h.r(q.n(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.$a(q.size(126,0)),k=q.v.La(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Pa="Use",e[d].O(154,h.c().height+8),k.Cc((h.c().height+8)/2-10),a.push([k]),m=q.Z.create(q.i(255,255,255,255),
154,h.c().height+8),e[d].f(m),e[d].Zb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.actionList.ec=function(){for(var a=0,c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.actionList.Yb=function(){return e.length};this.j.actionList.kc=function(a){return e[a].c()};this.j.actionList.jc=function(a){return e[a]};this.j.actionList.Hf=function(a){return e[a].Zb};this.j.actionList.sb=function(a,c){"Use"==a&&(this.T.Zb(c),p.HH=c)};this.j.actionList.T=ListView.create(this.j.actionList);this.j.actionList.T.mc(a);
this.j.actionList.f(this.j.actionList.T);null!=c.action&&"undefined"!==c.action&&this.j.actionList.sb("Use",c.action);break;case "Is Player Inventory Space":this.ox=new $(this.j.spaceText,q.size(this.j.spaceText.c().width,this.j.spaceText.c().height),q.a(0,this.j.spaceText.c().height),null!=c.space&&"undefined"!==c.space?c.space:"0",q.i(255,255,255),q.n(0,0,0));this.ox.lb(!0);this.ox.Sc(!1);break;case "Wait":this.jy=new $(this.j.timeText,q.size(this.j.timeText.c().width,this.j.timeText.c().height),
q.a(0,this.j.timeText.c().height),null!=c.time&&"undefined"!==c.time?c.time:"0",q.i(255,255,255),q.n(0,0,0));this.jy.lb(!0);this.jy.Sc(!1);break;case "Repeat Responses":this.j.amountNote.$a(q.size(180,0));this.MD=new $(this.j.amountText,q.size(this.j.amountText.c().width,this.j.amountText.c().height),q.a(0,this.j.amountText.c().height),null!=c.amount&&"undefined"!==c.amount?c.amount:"1",q.i(255,255,255),q.n(0,0,0));this.MD.lb(!0);this.MD.Sc(!1);break;case "Is Player Statistics":case "Is NPC Statistics":e=
[];a=[];f=ObjectLists.vk();for(d=0;d<f.length;d++)e[d]=q.G.create(),g=q.Z.create(q.i(0,0,0,127),154,1),h=q.R.create(f[d].name,"Arial",15),h.r(q.n(0,0,0)),h.A(q.a(0,0)),h.l(q.a(4,4)),h.$a(q.size(126,0)),k=q.v.La(q.ga.g().la("GUI/use.png")),k.l(q.a(130,0)),k.A(q.a(0,0)),k.Pa="Use",e[d].O(154,h.c().height+8),k.Cc((h.c().height+8)/2-10),a.push([k]),m=q.Z.create(q.i(255,255,255,255),154,h.c().height+8),e[d].f(m),e[d].Zb=m,e[d].f(g),e[d].f(h),e[d].f(k);p=this;this.j.skillList.ec=function(){for(var a=0,
c=0;c<e.length;c++)a+=e[c].c().height;return q.size(154,a)};this.j.skillList.Yb=function(){return e.length};this.j.skillList.kc=function(a){return e[a].c()};this.j.skillList.jc=function(a){return e[a]};this.j.skillList.Hf=function(a){return e[a].Zb};this.j.skillList.sb=function(a,c){"Use"==a&&(this.T.Zb(c),p.by=c)};this.j.skillList.T=ListView.create(this.j.skillList);this.j.skillList.T.mc(a);this.j.skillList.f(this.j.skillList.T);null!=c.skill&&"undefined"!==c.skill&&this.j.skillList.sb("Use",c.skill);
this.am=new $(this.j.levelTextLower,q.size(this.j.levelTextLower.c().width,this.j.levelTextLower.c().height),q.a(0,this.j.levelTextLower.c().height),null!=c.levelLower&&"undefined"!==c.levelLower&&""!=c.levelLower?c.levelLower:"0",q.i(255,255,255),q.n(0,0,0));this.am.lb(!0);this.am.Sc(!1);this.bm=new $(this.j.expTextLower,q.size(this.j.expTextLower.c().width,this.j.expTextLower.c().height),q.a(0,this.j.expTextLower.c().height),null!=c.xpLower&&"undefined"!==c.xpLower&&""!=c.xpLower?c.xpLower:"0",
q.i(255,255,255),q.n(0,0,0));this.bm.lb(!0);this.bm.Sc(!1);this.$l=new $(this.j.healthTextLower,q.size(this.j.healthTextLower.c().width,this.j.healthTextLower.c().height),q.a(0,this.j.healthTextLower.c().height),null!=c.healthLower&&"undefined"!==c.healthLower&&""!=c.healthLower?c.healthLower:"0",q.i(255,255,255),q.n(0,0,0));this.$l.lb(!0);this.$l.Sc(!1);this.dy=new $(this.j.levelTextUpper,q.size(this.j.levelTextUpper.c().width,this.j.levelTextUpper.c().height),q.a(0,this.j.levelTextUpper.c().height),
null!=c.levelUpper&&"undefined"!==c.levelUpper&&""!=c.levelUpper?c.levelUpper:"0",q.i(255,255,255),q.n(0,0,0));this.dy.lb(!0);this.dy.Sc(!1);this.ey=new $(this.j.expTextUpper,q.size(this.j.expTextUpper.c().width,this.j.expTextUpper.c().height),q.a(0,this.j.expTextUpper.c().height),null!=c.xpUpper&&"undefined"!==c.xpUpper&&""!=c.xpUpper?c.xpUpper:"0",q.i(255,255,255),q.n(0,0,0));this.ey.lb(!0);this.ey.Sc(!1);this.cy=new $(this.j.healthTextUpper,q.size(this.j.healthTextUpper.c().width,this.j.healthTextUpper.c().height),
q.a(0,this.j.healthTextUpper.c().height),null!=c.healthUpper&&"undefined"!==c.healthUpper&&""!=c.healthUpper?c.healthUpper:"0",q.i(255,255,255),q.n(0,0,0));this.cy.lb(!0);this.cy.Sc(!1);break;case "Equip Item":null!=c.equip&&"undefined"!==c.equip?(this.Qc="head",this.Bk(c.equip)):this.Bk("head")}},gx:function(){this.b.subEditorOver.D(!1);this.b.mainEditorOver.D(!0);this.Zn=null;this.j.K();this.j=null},Bk:function(a){this.j.headButton.r(q.i(255,255,255,255));this.j.bodyButton.r(q.i(255,255,255,255));
this.j.legButton.r(q.i(255,255,255,255));this.j.feetButton.r(q.i(255,255,255,255));this.j.lArmButton.r(q.i(255,255,255,255));this.j.rArmButton.r(q.i(255,255,255,255));this.j.modButton.r(q.i(255,255,255,255));switch(a){case "head":this.Qc=a;this.j.headButton.r(q.i(255,0,0,255));return;case "body":this.Qc=a;this.j.bodyButton.r(q.i(255,0,0,255));return;case "legs":this.Qc=a;this.j.legButton.r(q.i(255,0,0,255));return;case "feet":this.Qc=a;this.j.feetButton.r(q.i(255,0,0,255));return;case "mod":this.Qc=
a;this.j.modButton.r(q.i(255,0,0,255));return;case "bothArms":this.Qc=a;this.j.lArmButton.r(q.i(255,0,0,255));this.j.rArmButton.r(q.i(255,0,0,255));return}"bothArms"!=this.Qc&&"lArm"!=this.Qc&&"rArm"!=this.Qc&&"lArm"==a?(this.j.lArmButton.r(q.i(255,0,0,255)),this.Qc="lArm"):"bothArms"!=this.Qc&&"lArm"!=this.Qc&&"rArm"!=this.Qc&&"rArm"==a?(this.j.rArmButton.r(q.i(255,0,0,255)),this.Qc="rArm"):"rArm"==this.Qc&&"lArm"==a?(this.j.lArmButton.r(q.i(255,0,0,255)),this.j.rArmButton.r(q.i(255,0,0,255)),this.Qc=
"bothArms"):"lArm"==this.Qc&&"rArm"==a?(this.j.lArmButton.r(q.i(255,0,0,255)),this.j.rArmButton.r(q.i(255,0,0,255)),this.Qc="bothArms"):"bothArms"==this.Qc&&"rArm"==a?(this.j.lArmButton.r(q.i(255,0,0,255)),this.Qc="lArm"):"bothArms"==this.Qc&&"lArm"==a&&(this.j.rArmButton.r(q.i(255,0,0,255)),this.Qc="rArm")},vb:function(a){if(this._super(a))return!0;a=q.a(a.S.x,a.S.y);if(this.rg){var c=this.rg.Ka(a);if(H(this.rg.okbtn,c)){switch(this.Zn){case "Talk":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data.options[this.xE]=
this.wE.ba(),this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data.say=this.cd.ba()}this.rg.K();this.xE=this.rg=null;this.tt();return}if(H(this.rg.cancelbtn,c)){this.rg.K();this.xE=this.rg=null;this.tt();return}}if(this.j)if(c=this.j.Ka(a),H(this.j.okbtn,c)){switch(this.Zn){case "Warp Player":a=V.yi(this.uy.ba());this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={mapnum:parseInt(this.uy.ba()),index:Q(parseInt(this.IE.ba()),a.width-parseInt(this.JE.ba()))};break;case "Show Sign":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data=
{content:this.cd.ba(),title:this.qE.ba()};break;case "Read Item":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={say:this.cd.ba()};break;case "Script Response":case "Script Requirement":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data.functionContent=this.cd.ba();break;case "Talk":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data.say=this.cd.ba();break;case "Is Quest Point":case "Set Quest Point":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data=
{quest:this.pK,objective:this.bK};break;case "Spawn NPC":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={npc:this.vc};break;case "Give /Take Item":case "Has Player Item":case "Spawn Item":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={item:this.vc,amount:parseInt(this.px.ba())};break;case "Modify Player Stats":case "Modify NPC Stats":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={skill:this.by,level:parseInt(this.am.ba()),xp:parseInt(this.bm.ba()),
health:parseInt(this.$l.ba())};break;case "Is Panel Visibility":case "Open/Close Panel":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={panel:this.kK,visible:this.eo};break;case "Is Event Fired By":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={object:this.$J};break;case "Is NPC Actioning":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={action:this.HH};break;case "Is Player Inventory Space":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data=
{space:parseInt(this.ox.ba())};break;case "Wait":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={time:parseInt(this.jy.ba())};break;case "Repeat Responses":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={amount:parseInt(this.MD.ba())};break;case "Is Player Statistics":case "Is NPC Statistics":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={skill:this.by,levelLower:parseInt(this.am.ba()),xpLower:parseInt(this.bm.ba()),healthLower:parseInt(this.$l.ba()),
levelUpper:parseInt(this.dy.ba()),xpUpper:parseInt(this.ey.ba()),healthUpper:parseInt(this.cy.ba())};break;case "Equip Item":this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data={equip:this.Qc}}this.gx()}else this.j.headButton&&H(this.j.headButton,c)?this.Bk("head"):this.j.bodyButton&&H(this.j.bodyButton,c)?this.Bk("body"):this.j.legButton&&H(this.j.legButton,c)?this.Bk("legs"):this.j.feetButton&&H(this.j.feetButton,c)?this.Bk("feet"):this.j.lArmButton&&H(this.j.lArmButton,c)?this.Bk("lArm"):
this.j.rArmButton&&H(this.j.rArmButton,c)?this.Bk("rArm"):this.j.modButton&&H(this.j.modButton,c)?this.Bk("mod"):this.j.visibleButton&&H(this.j.visibleButton,c)?(this.eo=0==this.eo?1:0,this.j.visibleButton.r(0==this.eo?q.i(255,0,0,255):q.i(0,255,0,255)),this.j.visibleButton.content.na(0==this.eo?"Invisible":"Visible")):H(this.j.cancelbtn,c)&&(this.data.data[this.ma.event][this.ma.listtype][this.ma.id].data=I(this.xV),this.gx());else if(c=this.b.main_panel.Ka(a),H(this.b.main_panel.okbtn,c))this.b.main_panel.abbrEntry&&
(null==this.Kw.ba()||""==this.Kw.ba())||null==this.rb.ba()||""==this.rb.ba()||(this.data.name=this.rb.ba(),this.b.main_panel.abbrEntry&&(this.data.abbr=this.Kw.ba()),this.Tg=!0,this.k.Pd(this.data));else if(H(this.b.main_panel.cancelbtn,c)){this.Tg=!0;var d=this.k;this.k.Ud(function(){d.Pd(null)})}else H(this.b.main_panel,c)}});Itemeditor2=Itemeditor=null;
ItemEditor=Popup.extend({Pb:v[0].name,ca:0,zc:1,V1:null,mj:null,Od:null,qn:!1,Xn:function(a,c){Scripteditor&&(Scripteditor.xa(),Scripteditor.K(),this.Th=a,this.nc(!0),this.b.main_panel.tab1.scriptbtn.text.na(c.name),this.b.main_panel.tab1.scriptbtn.r(q.i(0,255,0,255)));Shopeditor&&(Shopeditor.xa(),Shopeditor.K(),Shopeditor=null,this.mR(a));Itemeditor2&&!0==this.qn&&(Itemeditor2.xa(),Itemeditor2.K(),Itemeditor2=null,this.lR(this.Od,a,c),this.Od=null);Itemeditor2&&!1==this.qn&&(Itemeditor2.xa(),Itemeditor2.K(),
Itemeditor2=null,this.jR(this.Od,a,c),this.Od=null)},mt:function(){this.b.main_panel.tab1.scriptbtn.text.na("None");this.b.main_panel.tab1.scriptbtn.r(q.i(255,0,0,255))},sc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,368),children:{tab1:{children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,
32),color:q.i(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(16,272),$:v[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),$:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,256),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,272),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),
color:q.n(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,e:q.a(0,0),position:q.a(360,206),color:q.n(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"No",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(360,262),color:q.n(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,
16),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)},descriptionLbl:{label:"Description",fontSize:12,e:q.a(0,0),position:q.a(360,154),color:q.n(0,0,0)},descriptionBox:{size:q.size(128,96),position:q.a(360,55),color:q.n(255,255,255)}}},tab2:{children:{list:{size:q.size(466,320),position:q.a(2,2),e:q.a(0,0)},shopName_label:{label:"Store Name",position:q.a(4,328),color:q.n(255,255,255),fontSize:15,e:q.a(0,0)},shopSell_label:{label:"Sell Price",position:q.a(130,328),color:q.n(255,255,255),fontSize:15,
e:q.a(0,0)},shopBuy_label:{label:"Buy Price",position:q.a(315,328),color:q.n(255,255,255),fontSize:15,e:q.a(0,0)}}},tab3:{size:q.size(200,100),color:q.n(100,100,100),children:{okbtn:{position:q.a(20,32),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(60,32),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)},textBox:{size:q.size(100,20),position:q.a(20,72),color:q.n(255,255,255)}}},tab1Clickable:{position:q.a(8,348),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Details",
fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(70,348),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Value",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,368),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Hc:function(){return"itemEditor"},
rb:null,Ww:null,k:null,data:null,Th:null,w:function(a){this._super();this.data={value:[],sprite:{texture:v[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Pb=v[0].name;this.ca=0;this.Th=this.k=this.Ww=this.rb=null;this.V=q.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.script&&(this.Th=this.data.script),a.data.value||(this.data.value=[]))},Aj:function(a){z({saveitems:a+"",itemdata:this.data})},oj:function(a,c){z({saveitemswhole:c})},pa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);
this.b.main_panel.tab1.selectednode.ta(127);for(var a in v)v[a].name==this.data.sprite.texture&&(this.ca=a,this.Pb=v[a].name);this.b.main_panel.tab1.textureName.text.na(this.Pb);this.b.main_panel.tab1.tiles.ka(v[this.ca].texture);null!=this.data.script&&(this.b.main_panel.tab1.scriptbtn.r(q.i(0,255,0,255)),this.b.main_panel.tab1.scriptbtn.text.na(ObjectLists.Ie()[this.data.script].name),this.Th=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.V.x++;for(a=this.data.sprite.position.y;8<=
a;)a--,this.V.y++;a=q.a(32*(this.data.sprite.position.x-this.V.x),32*(this.data.sprite.position.y-this.V.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.rb=new $(this.b.main_panel.tab1.name_entry,q.size(this.b.main_panel.tab1.name_entry.c().width,this.b.main_panel.tab1.name_entry.c().height),q.a(0,this.b.main_panel.tab1.name_entry.c().height),this.data.name?this.data.name:"",q.i(255,255,255),q.n(0,0,0));this.rb.lb(!0);
this.Kp=new $(this.b.main_panel.tab3.textBox,q.size(this.b.main_panel.tab3.textBox.c().width,this.b.main_panel.tab3.textBox.c().height),q.a(0,this.b.main_panel.tab3.textBox.c().height),"1",q.i(255,255,255),q.n(0,0,0));this.Kp.lb(!0);this.Ww=new $(this.b.main_panel.tab1.descriptionBox,q.size(this.b.main_panel.tab1.descriptionBox.c().width,this.b.main_panel.tab1.descriptionBox.c().height),q.a(0,this.b.main_panel.tab1.descriptionBox.c().height),"",q.i(255,255,255),q.n(0,0,0),!0);this.Ww.lb(!0);this.b.main_panel.tab1.stackbtn.r(C);
this.b.main_panel.tab1.stackbtn.text.na("No");!0==this.data.stackable&&(this.b.main_panel.tab1.stackbtn.r(pa),this.b.main_panel.tab1.stackbtn.text.na("Yes"));this.dm();this.ie(1);this.Ab()},ie:function(a){2==a&&(this.b.main_panel.tab1.name_entry.Na(-1E4),this.b.main_panel.tab3.textBox.Na(-1E4),this.b.main_panel.tab1.descriptionBox.Na(-1E4));1==a&&(this.b.main_panel.tab1.name_entry.Na(74),this.b.main_panel.tab3.textBox.Na(-1E4),this.b.main_panel.tab1.descriptionBox.Na(360));3==a?(this.b.main_panel.tab1.descriptionBox.Na(-1E4),
this.b.main_panel.tab2.D(!0),this.b.main_panel.tab3.textBox.Na(20),this.b.main_panel.tab3.D(!0),this.zc=a):(this.zc=a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab3.D(!1),this.b.main_panel.tab1Clickable.r(B),this.b.main_panel.tab2Clickable.r(B),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].r(q.i(255,255,0,255)))},xa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Ud(function(){c.Pd(null)})}},Qh:function(a){a=a.S;this.b.main_panel.tab1.highlightnode.ta(0);
a=this.b.main_panel.tab1.tiles.Ka(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},dm:function(){this.b.main_panel.tab2.list.T&&(this.b.main_panel.tab2.list.T.K(),this.b.main_panel.tab2.list.T=null);for(var a=[],c=[],d=this.data.value,e=this,f=0;f<d.length;f++){a[f]=q.G.create();var g=q.Z.create(q.i(255,
0,0,127),456,1),h=q.R.create(ObjectLists.Rs()[d[f].shopid].name,"Arial",12);h.r(q.n(0,0,0));h.A(q.a(0,0.5));h.l(q.a(4,30));h.$a(q.size(40,0));var k=q.v.La(q.ga.g().la("GUI/trash.png"));k.l(q.a(64,18));k.A(q.a(0,0));k.Pa="Delete";a[f].O(468,60);c.push([k]);a[f].f(g);a[f].f(h);a[f].f(k);g=f;h=q.Z.create(q.i(255,255,255,100),148,59);h.l(88,1);a[f].f(h);for(var l=[],k=[],m=0;m<d[f].sell.length;m++){var p=ObjectLists.Xb()[d[f].sell[m].id].name;l[m]=q.G.create();l[m].O(148,20);p=q.R.create(p,"Arial",15);
p.r(q.n(0,0,0));p.A(q.a(0,0));p.l(q.a(4,4));p.$a(q.size(65,0));var s=q.v.La(q.ga.g().la("GUI/trash.png"));s.l(q.a(124,(p.c().height+8)/2-10));s.A(q.a(0,0));s.Pa="Delete";a[f].O(148,60);var u=q.Z.create(q.i(255,255,255,255),50,20);u.l(q.a(69,(p.c().height+8)/2-10));u.A(q.a(0,0));u.Pa="Edit";var w=q.R.create("x "+d[f].sell[m].amount,"Arial",12);w.l(2,(20-w.c().height)/2);w.r(q.n(0,0,0));w.A(q.a(0,0));u.f(w);w=q.Z.create(q.i(0,0,0,127),148,1);l[m].f(w);l[m].f(p);l[m].f(s);l[m].f(u);l[m].O(148,p.c().height+
8);k.push([s,u])}m=q.Z.create(q.i(70,200,70,255),40,20);p=q.R.create("+","Arial",15);p.l(20,10);p.A(q.a(0.5,0.5));m.l(q.a(54,0));m.Pa="Add";m.f(p);k.push([m]);l.push(m);h.ec=function(){for(var a=0,c=0;c<l.length;c++)a+=l[c].c().height;return q.size(180,a)};h.Yb=function(){return l.length};h.kc=function(a){return l[a].c()};h.jc=function(a){return l[a]};h.Hf=function(a){return l[a].Zb};h.sb=function(a,c,d){if(2==e.zc)switch(a){case "Add":e.Od=this.T.index;e.qn=!0;Itemeditor2&&!Itemeditor2.ea&&(Itemeditor2=
null);Itemeditor2?(Itemeditor2.xa(),Itemeditor2.K(),Itemeditor2r=null):(Itemeditor2=new PopupList,Itemeditor2.w({k:e,Qg:new ShopEditor,list:ObjectLists.Xb(),name:"Item List"},{Vw:!1,$w:!1,add:!1}),Itemeditor2.pa(),e.f(Itemeditor2),Itemeditor2.l(e.u));break;case "Edit":e.qn=!0;e.Od=this.T.index;e.mj=c;e.ie(3);break;case "Delete":e.Od=this.T.index,e.mj=c,e.qS(d)}};h.T=ListView.create(h);h.T.mc(k);h.T.index=g;h.f(h.T);h=q.Z.create(q.i(255,255,255,180),148,59);h.l(274,1);a[f].f(h);for(var x=[],k=[],m=
0;m<d[f].buy.length;m++)p=ObjectLists.Xb()[d[f].buy[m].id].name,x[m]=q.G.create(),x[m].O(148,20),p=q.R.create(p,"Arial",15),p.r(q.n(0,0,0)),p.A(q.a(0,0)),p.l(q.a(4,4)),p.$a(q.size(65,0)),s=q.v.La(q.ga.g().la("GUI/trash.png")),s.l(q.a(124,(p.c().height+8)/2-10)),s.A(q.a(0,0)),s.Pa="Delete",a[f].O(148,60),u=q.Z.create(q.i(255,255,255,255),50,20),u.l(q.a(69,(p.c().height+8)/2-10)),u.A(q.a(0,0)),u.Pa="Edit",w=q.R.create("x "+d[f].buy[m].amount,"Arial",12),w.l(2,(20-w.c().height)/2),w.r(q.n(0,0,0)),w.A(q.a(0,
0)),u.f(w),w=q.Z.create(q.i(0,0,0,127),148,1),x[m].f(w),x[m].f(p),x[m].f(s),x[m].f(u),x[m].O(148,p.c().height+8),k.push([s,u]);m=q.Z.create(q.i(70,200,70,255),40,20);p=q.R.create("+","Arial",15);p.l(20,10);p.A(q.a(0.5,0.5));m.l(q.a(54,0));m.Pa="Add";m.f(p);k.push([m]);x.push(m);h.ec=function(){for(var a=0,c=0;c<x.length;c++)a+=x[c].c().height;return q.size(180,a)};h.Yb=function(){return x.length};h.kc=function(a){return x[a].c()};h.jc=function(a){return x[a]};h.Hf=function(a){return x[a].Zb};h.sb=
function(a,c,d){if(2==e.zc)switch(a){case "Add":e.Od=this.T.index;e.qn=!1;Itemeditor2&&!Itemeditor2.ea&&(Itemeditor2=null);Itemeditor2?(Itemeditor2.xa(),Itemeditor2.K(),Itemeditor2r=null):(Itemeditor2=new PopupList,Itemeditor2.w({k:e,Qg:new ShopEditor,list:ObjectLists.Xb(),name:"Item List"},{Vw:!1,$w:!1,add:!1}),Itemeditor2.pa(),e.f(Itemeditor2));break;case "Edit":e.qn=!1;e.Od=this.T.index;e.mj=c;e.ie(3);break;case "Delete":e.Od=this.T.index,e.mj=c,e.lS(d)}};h.T=ListView.create(h);h.T.index=g;h.T.mc(k);
h.f(h.T)}d=q.Z.create(q.i(70,200,70,255),90,26);f=q.R.create("+","Arial",20);f.l(45,13);f.A(q.a(0.5,0.5));d.l(q.a(185,0));d.Pa="Add";d.f(f);c.push([d]);a.push(d);this.b.main_panel.tab2.list.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(468,c)};this.b.main_panel.tab2.list.Yb=function(){return a.length};this.b.main_panel.tab2.list.kc=function(c){return a[c].c()};this.b.main_panel.tab2.list.jc=function(c){return a[c]};this.b.main_panel.tab2.list.Hf=function(c){return a[c].Zb};
this.b.main_panel.tab2.list.sb=function(a,c,d){if(2==e.zc)switch(a){case "Add":if(Shopeditor)Shopeditor.xa(),Shopeditor.K(),Shopeditor=null;else{Shopeditor=new PopupList;a=ObjectLists.Rs();c=[];for(var f in a)c.push({name:a[f].name});for(f=0;f<e.data.value.length;f++)c[e.data.value[f].shopid]={};0<c.length&&(Shopeditor.w({k:e,Qg:new ShopEditor,list:c,name:"Shop List"}),Shopeditor.pa(),e.f(Shopeditor))}break;case "Delete":e.Od=c,e.sS(d)}};this.b.main_panel.tab2.list.T=ListView.create(this.b.main_panel.tab2.list);
this.b.main_panel.tab2.list.T.mc(c);this.b.main_panel.tab2.list.f(this.b.main_panel.tab2.list.T)},mR:function(a){this.data.value.push({shopid:a,sell:[],buy:[]});this.dm()},qS:function(a){this.ea.f(DropDownList.Pc(this,this.rS,["Delete","Cancel"],a.S))},rS:function(a){0==a&&(this.k.data.value[this.k.Od].sell.splice(this.k.mj,1),this.k.dm());this.k.Od=null;this.k.mj=null},sS:function(a){this.ea.f(DropDownList.Pc(this,this.tS,["Delete","Cancel"],a.S))},tS:function(a){0==a&&(this.k.data.value.splice(this.k.Od,
1),this.k.dm());this.k.Od=null},lS:function(a){this.ea.f(DropDownList.Pc(this,this.mS,["Delete","Cancel"],a.S))},mS:function(a){0==a&&(this.k.data.value[this.k.Od].buy.splice(this.k.mj,1),this.k.dm());this.k.Od=null;this.k.mj=null},lR:function(a,c){this.data.value[a].sell.push({id:c,amount:1});this.dm()},jR:function(a,c){this.data.value[a].buy.push({id:c,amount:1});this.dm()},Ab:function(){this.lc(this.Ab);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Nc&&(this.Uc(this.Ab),
this.b.main_panel.tab1.tiles.ib(q.rect(Math.floor(32*this.V.x),Math.floor(32*this.V.y),320>v[this.ca].texture.c().width?v[this.ca].texture.c().width:320,256>v[this.ca].texture.c().height?v[this.ca].texture.c().height:256)))},vb:function(a){if(this._super(a))return!0;this.Sd=null;a=a.S;var c=this.b.main_panel.Ka(q.a(a.x,a.y));if(H(this.b.main_panel.tab1Clickable,c))return this.ie(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.ie(2),!0;if(3==this.zc){if(H(this.b.main_panel.tab3.okbtn,c)){if(null==
this.Kp.ba()||""==this.Kp.ba()||0>=this.Kp.ba())return!0;!0==this.qn?this.data.value[this.Od].sell[this.mj].amount=this.Kp.ba():this.data.value[this.Od].buy[this.mj].amount=this.Kp.ba();this.ie(2);this.dm();return!0}if(H(this.b.main_panel.tab3.cancelbtn,c))return this.ie(2),!0}if(1==this.zc){if(H(this.b.main_panel.tab1.okbtn,c)){if(null==this.rb.ba()||""==this.rb.ba())return!0;this.Tg=!0;this.data.description=this.Ww.ba();this.data.name=this.rb.ba();this.data.script=this.Th;this.k.Pd(this.data);return!0}H(this.b.main_panel.tab1.scriptbtn,
c)&&(Scripteditor?(Scripteditor.xa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.w({k:this,Qg:new ScriptEditor,list:ObjectLists.Ie(),name:"Script List"}),Scripteditor.pa(),this.f(Scripteditor)));if(H(this.b.main_panel.tab1.cancelbtn,c)){this.Tg=!0;var d=this.k;this.k.Ud(function(){d.Pd(null)});return!0}if(H(this.b.main_panel.tab1.leftbtn,c))return 264<v[this.ca].texture.c().width&&0<this.V.x&&(this.V.x--,this.Ab()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<
v[this.ca].texture.c().width&&this.V.x<(v[this.ca].texture.c().width-320)/32&&(this.V.x++,this.Ab()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.ca].texture.c().height&&0<this.V.y&&(this.V.y--,this.Ab()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.ca].texture.c().height&&this.V.y<(v[this.ca].texture.c().height-320)/32&&(this.V.y++,this.Ab()),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.bo(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.co(),
!0;if(H(this.b.main_panel.tab1.stackbtn,c))return this.yE(),!0;c=this.b.main_panel.tab1.tiles.Ka(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.I!=c.x||this.b.main_panel.tab1.selectednode.u.U!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.u.I-
16)/32+this.V.x,8-(this.b.main_panel.tab1.selectednode.u.U-16)/32+this.V.y-1);this.data.sprite.position=a;return!0}}return!1},yE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.tab1.stackbtn.r(C);this.b.main_panel.tab1.stackbtn.text.na("No");!0==this.data.stackable&&(this.b.main_panel.tab1.stackbtn.r(pa),this.b.main_panel.tab1.stackbtn.text.na("Yes"))},bo:function(){this.ca>=v.length-1&&(this.ca=-1);this.ca++;this.b.main_panel.tab1.tiles.ka(v[this.ca].texture);this.Pb=v[this.ca].name;
this.b.main_panel.tab1.textureName.text.na(this.Pb);this.data.sprite.texture=this.Pb;this.V=q.a(0,0);this.Ab()},co:function(){0>=this.ca&&(this.ca=v.length);this.ca--;this.b.main_panel.tab1.tiles.ka(v[this.ca].texture);this.Pb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Pb);this.V=q.a(0,0);this.Ab()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,F:null,fb:null,Hc:function(){return"Settings Editor"},xa:function(){this._super()},w:function(){this._super();this.data=I(G)},Aj:function(a){z({savequests:a+"",questdata:this.data})},oj:function(a,c){z({savequestswhole:c})},pa:function(){this._super();this.nb()},nb:function(){this.F&&this.F.$b();var a=[],c=[],d=q.ga.g(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.G.create();a[e].O(324,32);var g=q.R.create(f,"Arial",18);g.A(q.a(0,0));g.l(q.a(4,
0));g.$a(q.size(246,0));g.r(q.n(100,0,0));a[e].f(g);a[e].O(324,g.c().height+4);g=[];c.push(g);e++}a[e]=q.G.create();a[e].O(324,32);var h=q.Z.create(q.i(0,0,0,127),316,1);h.l(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.v.La(d.la("GUI/edit.png"));k.l(q.a(300,0));k.A(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.R.create(f,"Arial",22);l.r(q.n(255,0,0))}else l=q.R.create(this.data[f],"Arial",15),l.r(q.n(0,0,0));l.A(q.a(0,0));l.l(q.a(4,4));l.$a(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Pa="Edit",g=[],g.push(k));c.push(g);a[e].f(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].f(k);a[e].f(l);"ISSECTION"==this.data[f]?a[e].O(324,l.c().height+12):a[e].O(324,l.c().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.Cc((l.c().height+8)/2-10);e++}this.F=this.b.main_panel.list;var m=this;this.F.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Yb=function(){return a.length};this.F.kc=
function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.sb=function(a,c,d){m.Ka(d.S);if(!0!=m.Of)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.fb=d;m.AC(d)}};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T)},sc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),color:q.i(0,255,0,255),position:q.a(241,292),e:q.a(0,0),children:{content:{label:"Save",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},list:{size:q.size(324,284),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},lf:null,Fa:null,AC:function(a){null!=
this.Fa&&(this.Fa.$b(),this.lf=null,this.Fa.K(),this.fb=this.Fa=null);this.Fa=q.Z.create(q.i(255,255,255,200),200,200);this.Fa.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.lf=new $(this.Fa,q.size(190,150),q.a(0,this.Fa.c().height),this.data[a],q.i(100,100,100),q.n(255,255,255),!0);this.lf.lb(!0);this.lf.QK(!0);a=q.Z.create(q.i(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.R.create("OK","Arial",16);c.r(q.n(0,0,0));c.l(32,16);c.A(q.a(0.5,0.5));a.f(c);c=q.Z.create(q.i(200,
0,0,255),64,32);c.l(q.a(120,9));var d=q.R.create("Cancel","Arial",16);d.r(q.n(0,0,0));d.l(32,16);d.A(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Fa);this.Fa.f(a);this.Fa.sD=a;this.Fa.f(c);this.Fa.cancel=c},vb:function(a){if(this._super(a))return!0;this.Sd=null;a=a.S;if(null!=this.Fa){a=this.Fa.Ka(a);if(H(this.Fa.sD,a))return this.data[this.fb]=this.lf.ba(),this.Fa.$b(),this.lf=null,this.Fa.K(),this.fb=this.Fa=null,this.nb(),!0;H(this.Fa.cancel,a)&&(this.Fa.$b(),this.lf=null,this.Fa.K(),this.fb=
this.Fa=null);return!0}a=this.b.main_panel.Ka(a);return H(this.b.main_panel.savebtn,a)?(G=I(this.data),console.log(G),console.log(this.data),z({savesettings:this.data}),W.DE(this.data,Date.now()),!0):H(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,F:null,k:null,fb:null,Hc:function(){return"Quest Editor"},xa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Ud(function(){c.Pd(null)})}},w:function(a){this._super();this.data={name:"",objectiveList:["Unstarted","Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)","Finished"]};this.k=a.k;a&&a.data&&(this.data=a.data)},Aj:function(a){z({savequests:a+"",
questdata:this.data})},oj:function(a,c){z({savequestswhole:c})},pa:function(){this._super();this.nb();this.rb=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.c().width,this.b.main_panel.nameBox.c().height),q.a(0,this.b.main_panel.nameBox.c().height),this.data.name?this.data.name:"",q.i(255,255,255,255),q.n(0,0,0));this.rb.lb(!0)},nb:function(){this.F&&this.F.$b();var a=[],c=[],d=q.ga.g();this.iI={};var e;console.log(this.data.objectiveList);for(e=0;e<this.data.objectiveList.length-
1;e++)if(a[e]=q.G.create(),a[e].O(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,1);else{var f=q.v.create();f.ib(q.rect(0,0,316,1));f.r(q.i(0,0,0,127));f.A(q.a(0,0));f.l(q.a(4,0));var g=q.v.La(d.la("GUI/edit.png"));g.l(q.a(272,0));g.A(q.a(0,0));var h=q.v.La(d.la("GUI/trash.png"));h.l(q.a(300,0));h.A(q.a(0,0));var k=q.R.create(this.data.objectiveList[e],"Arial",15);k.A(q.a(0,0));k.l(q.a(4,4));k.$a(q.size(246,0));k.r(q.n(0,0,0));if(0<e){g.Pa="Edit";var l=[];l.push(g)}1<e&&
(h.Pa="Delete",l.push(h));c.push(l);a[e].f(f);0<e&&a[e].f(g);1<e&&a[e].f(h);a[e].f(k);a[e].O(324,k.c().height+8);g.Cc((k.c().height+8)/2-10);h.Cc((k.c().height+8)/2-10)}d=q.v.create();d.ib(q.rect(0,0,90,26));d.r(q.i(70,200,70,255));d.A(q.a(0,0));f=q.R.create("+","Arial",20);f.l(45,13);f.A(q.a(0.5,0.5));d.l(q.a(120,0));d.Pa="Add";d.f(f);c.push([d]);a.push(d);a[e+1]=q.G.create();a[e+1].O(324,32);f=q.v.create();f.ib(q.rect(0,0,316,1));f.r(q.i(0,0,0,127));f.A(q.a(0,0));f.l(q.a(4,0));k=q.R.create(this.data.objectiveList[e],
"Arial",15);k.A(q.a(0,0));k.l(q.a(4,4));k.$a(q.size(246,0));k.r(q.n(0,0,0));c.push([]);a[e+1].f(f);a[e+1].f(k);a[e+1].O(324,k.c().height+8);g.Cc((k.c().height+8)/2-10);h.Cc((k.c().height+8)/2-10);delete e;this.F=this.b.main_panel.list;var m=this;this.F.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Yb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.sb=function(a,c,d){m.Ka(d.S);if(!0!=m.Of)switch(a){case "Delete":null!=
m.Fa&&(m.Fa.$b(),m.lf=null,m.Fa.K(),m.Fa=null,m.fb=null);m.ea.f(DropDownList.Pc(m,m.Js,["Cancel","Delete"],d.S));m.fb=c;break;case "Edit":m.fb=c;m.AC(c);break;case "Add":m.kR()}};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T)},sc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.n(0,0,0),position:q.a(8,312),e:q.a(0,0)},nameBox:{size:q.size(150,
32),color:q.i(255,255,255,255),position:q.a(8,277),e:q.a(0,0)},savebtn:{size:q.size(64,32),color:q.i(0,255,0,255),position:q.a(175,277),e:q.a(0,0),children:{content:{label:"Save",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),color:q.i(255,0,0,255),position:q.a(253,277),e:q.a(0,0),children:{content:{label:"Exit",color:q.n(0,0,0),position:q.a(32,16),e:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.n(0,0,0),position:q.a(8,254),e:q.a(0,0)},list:{size:q.size(324,
250),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Js:function(a){switch(a){case 1:this.k.fb&&(this.k.data.objectiveList.splice(this.k.fb,1),this.k.nb(),this.k.fb=null)}},kR:function(){this.data.objectiveList.splice(this.data.objectiveList.length-1,0,"Blank Objective");
this.nb()},lf:null,Fa:null,AC:function(a){null!=this.Fa&&(this.Fa.$b(),this.lf=null,this.Fa.K(),this.fb=this.Fa=null);this.Fa=q.v.create();this.Fa.ib(q.rect(0,0,200,200));this.Fa.r(q.i(255,255,255,200));this.Fa.A(q.a(0,0));this.Fa.l(q.a((this.b.main_panel.c().width-200)/2,(this.b.main_panel.c().height-200)/2));this.lf=new $(this.Fa,q.size(190,150),q.a(0,this.Fa.c().height),this.data.objectiveList[a],q.i(100,100,100),q.n(255,255,255),!0);this.lf.lb(!0);this.lf.QK(!0);a=q.Z.create(q.i(0,200,255,255),
64,32);a.l(q.a(14,9));var c=q.R.create("OK","Arial",16);c.r(q.n(0,0,0));c.l(32,16);c.A(q.a(0.5,0.5));a.f(c);c=q.Z.create(q.i(200,0,0,255),64,32);c.l(q.a(120,9));var d=q.R.create("Cancel","Arial",16);d.r(q.n(0,0,0));d.l(32,16);d.A(q.a(0.5,0.5));c.f(d);this.b.main_panel.f(this.Fa);this.Fa.f(a);this.Fa.sD=a;this.Fa.f(c);this.Fa.cancel=c},vb:function(a){if(this._super(a))return!0;a=q.a(a.S.x,a.S.y);if(null!=this.Fa){a=this.Fa.Ka(a);if(H(this.Fa.sD,a))return this.data.objectiveList[this.fb]=this.lf.ba(),
this.Fa.$b(),this.lf=null,this.Fa.K(),this.fb=this.Fa=null,this.nb(),!0;H(this.Fa.cancel,a)&&(this.Fa.$b(),this.lf=null,this.Fa.K(),this.fb=this.Fa=null);return!0}a=this.b.main_panel.Ka(a);if(H(this.b.main_panel.savebtn,a)){if(null==this.rb.ba()||""==this.rb.ba())return!0;this.Tg=!0;this.data.name=this.rb.ba();this.k.Pd(this.data);return!0}if(H(this.b.main_panel.exitbtn,a)){this.Tg=!0;var c=this.k;this.k.Ud(function(){c.Pd(null)});return!0}return H(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,V:q.a(0,0),pj:"tiles",NJ:null,Uw:"ground1",Pb:v[0].name,ca:0,sc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,400),color:q.i(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,336),$:v[0].name},scriptbtn:{position:q.a(360,360),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Script",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},textureleftbtn:{position:q.a(200,
360),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(310,360),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(214,360),size:q.size(96,32),$:"GUI/texture_change_middle.png",e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Erase",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,320),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",
fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Fill",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),color:pa,e:q.a(0,0),children:{text:{label:"Ground 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},ground3btn:{position:q.a(360,218),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Ground 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 1",
fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),color:B,e:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(M,M),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,
0),position:q.a(0,0),size:q.size(M,M),color:q.i(100,255,100,255)}}},tab2:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),color:q.i(0,255,0,100),e:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),color:q.i(255,0,0,100),e:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),color:q.i(0,0,0,170),e:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,e:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,312)},mapDown_text:{label:"Map Down",
fontSize:10,e:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,e:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,e:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},mapHeight_text:{label:"Map Height",fontSize:10,e:q.a(0.5,0),position:q.a(162,122)},mapHeight_entry:{size:q.size(60,32),position:q.a(128,
90),color:q.n(255,255,255)},mapWidth_text:{label:"Map Width",fontSize:10,e:q.a(0,0),position:q.a(10,122)},mapWidth_entry:{size:q.size(60,32),position:q.a(10,90),color:q.n(255,255,255)},this_map:{position:q.a(70,248),size:q.size(60,60),color:B,e:q.a(0,0),children:{text:{label:"THIS MAP\n#"+V.nf(),fontSize:12,e:q.a(0.5,0.5),position:q.a(30,30),color:q.n(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Clear",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,
16),color:q.n(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},clearbtnYes:{position:q.a(130,150),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},savebtn:{position:q.a(70,16),size:q.size(60,32),color:B,
e:q.a(0,0),children:{text:{label:"Save",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,e:q.a(0.5,0),position:q.a(100,52)},savebtnNo:{position:q.a(10,16),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"NO",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),color:q.n(0,0,0)}}},savebtnYes:{position:q.a(130,16),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"YES",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,16),
color:q.n(0,0,0)}}}}},tab1Clickable:{position:q.a(0,380),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Editor",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(62,380),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Settings",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,400),size:q.size(420,32),color:q.i(255,0,0,200),children:{header:{label:"Map Editor - Map #"+
V.nf(),fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Hc:function(){return"MapEditor"},V:null,xx:null,ux:null,vx:null,wx:null,pD:null,oD:null,Ej:null,zc:0,Th:null,w:function(a){this._super();this.map=a;this.V=q.a(0,0);this.Ej=[null,496,200]},pa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(0);
this.xx=new $(this.b.main_panel.tab2.mapUp_entry,q.size(this.b.main_panel.tab2.mapUp_entry.c().width,this.b.main_panel.tab2.mapUp_entry.c().height),q.a(0,this.b.main_panel.tab2.mapUp_entry.c().height),V.iJ()?V.MC():"",q.i(100,100,100),q.n(255,255,255));this.xx.lb(!0);this.xx.Sc(!0);this.ux=new $(this.b.main_panel.tab2.mapDown_entry,q.size(this.b.main_panel.tab2.mapDown_entry.c().width,this.b.main_panel.tab2.mapDown_entry.c().height),q.a(0,this.b.main_panel.tab2.mapDown_entry.c().height),V.fJ()?V.JC():
"",q.i(100,100,100),q.n(255,255,255));this.ux.lb(!0);this.ux.Sc(!0);this.vx=new $(this.b.main_panel.tab2.mapLeft_entry,q.size(this.b.main_panel.tab2.mapLeft_entry.c().width,this.b.main_panel.tab2.mapLeft_entry.c().height),q.a(0,this.b.main_panel.tab2.mapLeft_entry.c().height),V.gJ()?V.KC():"",q.i(100,100,100),q.n(255,255,255));this.vx.lb(!0);this.vx.Sc(!0);this.wx=new $(this.b.main_panel.tab2.mapRight_entry,q.size(this.b.main_panel.tab2.mapRight_entry.c().width,this.b.main_panel.tab2.mapRight_entry.c().height),
q.a(0,this.b.main_panel.tab2.mapRight_entry.c().height),V.hJ()?V.LC():"",q.i(100,100,100),q.n(255,255,255));this.wx.lb(!0);this.wx.Sc(!0);this.pD=new $(this.b.main_panel.tab2.mapWidth_entry,q.size(this.b.main_panel.tab2.mapWidth_entry.c().width,this.b.main_panel.tab2.mapWidth_entry.c().height),q.a(0,this.b.main_panel.tab2.mapWidth_entry.c().height),V.OI()?V.OI():36,q.i(255,255,255),q.n(0,0,0));this.pD.lb(!0);this.oD=new $(this.b.main_panel.tab2.mapHeight_entry,q.size(this.b.main_panel.tab2.mapHeight_entry.c().width,
this.b.main_panel.tab2.mapHeight_entry.c().height),q.a(0,this.b.main_panel.tab2.mapHeight_entry.c().height),V.NI()?V.NI():36,q.i(255,255,255),q.n(0,0,0));this.oD.lb(!0);this.$x(!1);this.ay(!1);this.ie(1);this.Ab();V.pL(!0)},Xn:function(a){Scripteditor&&(Scripteditor.xa(),this.Ud(function(){Scripteditor.K();Scripteditor=null}),this.Th=a,this.nc(!0))},xa:function(){this._super();V.pL(!1)},Qh:function(a){a=a.S;if(1==this.zc&&(this.b.main_panel.tab1.highlightnode.ta(0),a=this.b.main_panel.tab1.tiles.Ka(a),
0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%M+16,a.y=a.y-a.y%M+16,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},ie:function(a){if(a!=this.zc){this.b.main_panel.O(this.Ej[a],this.b.main_panel.c().height);this.b.control_panel.O(this.Ej[a],this.b.control_panel.c().height);if(2==this.zc||0==this.zc)this.b.main_panel.tab2.mapUp_entry.Na(this.b.main_panel.tab2.mapUp_entry.u.I-1E3),
this.b.main_panel.tab2.mapLeft_entry.Na(this.b.main_panel.tab2.mapLeft_entry.u.I-1E3),this.b.main_panel.tab2.mapDown_entry.Na(this.b.main_panel.tab2.mapDown_entry.u.I-1E3),this.b.main_panel.tab2.mapRight_entry.Na(this.b.main_panel.tab2.mapRight_entry.u.I-1E3),this.b.main_panel.tab2.mapWidth_entry.Na(this.b.main_panel.tab2.mapWidth_entry.u.I-1E3),this.b.main_panel.tab2.mapHeight_entry.Na(this.b.main_panel.tab2.mapHeight_entry.u.I-1E3);1!=this.zc||"erasing"!=this.pj&&"tiles"!=this.pj||(this.pj="blocking");
this.zc=a;this.b.main_panel.tab1.D(!1);this.b.main_panel.tab2.D(!1);this.b.main_panel.tab1Clickable.r(B);this.b.main_panel.tab2Clickable.r(B);this.b.main_panel["tab"+a].D(!0);this.b.main_panel["tab"+a+"Clickable"].r(q.i(255,255,0,255));2==a&&(this.b.main_panel.tab2.mapUp_entry.Na(this.b.main_panel.tab2.mapUp_entry.u.I+1E3),this.b.main_panel.tab2.mapLeft_entry.Na(this.b.main_panel.tab2.mapLeft_entry.u.I+1E3),this.b.main_panel.tab2.mapDown_entry.Na(this.b.main_panel.tab2.mapDown_entry.u.I+1E3),this.b.main_panel.tab2.mapRight_entry.Na(this.b.main_panel.tab2.mapRight_entry.u.I+
1E3),this.b.main_panel.tab2.mapWidth_entry.Na(this.b.main_panel.tab2.mapWidth_entry.u.I+1E3),this.b.main_panel.tab2.mapHeight_entry.Na(this.b.main_panel.tab2.mapHeight_entry.u.I+1E3));this.b.control_panel.exitBtn.Na(this.Ej[a]-29)}},Ab:function(){this.lc(this.Ab);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Nc&&(this.Uc(this.Ab),this.b.main_panel.tab1.tiles.ib(q.rect(Math.floor(M*this.V.x),Math.floor(M*this.V.y),320>v[this.ca].texture.c().width?v[this.ca].texture.c().width:
320,320>v[this.ca].texture.c().height?v[this.ca].texture.c().height:320)))},vb:function(a){if(this._super(a))return!0;this.Sd=null;a=a.S;var c=this.b.main_panel.Ka(a);if(H(this.b.main_panel.tab1Clickable,c))return this.ie(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.ie(2),!0;if(1==this.zc){if(H(this.b.main_panel.tab1.scriptbtn,c))return this.pj="script"==this.pj?"tiles":"script","script"==this.pj&&(null==Scripteditor||Scripteditor.ea||(Scripteditor=null),Scripteditor&&(Scripteditor.xa(),
Scripteditor.K(),Scripteditor=null),Scripteditor=new ScriptingList,Scripteditor.w({k:this,Qg:new ScriptEditor,list:ObjectLists.Ie(),name:"Script List"}),Scripteditor.pa(),this.ea.f(Scripteditor),this.nc(!1),this.b.main_panel.tab1.scriptbtn.r(C)),!0;if(H(this.b.main_panel.tab1.leftbtn,c))return 320<v[this.ca].texture.c().width&&0<this.V.x&&(this.V.x--,this.Ab()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<v[this.ca].texture.c().width&&this.V.x<(v[this.ca].texture.c().width-320)/M&&(this.V.x++,
this.Ab()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.ca].texture.c().height&&0<this.V.y&&(this.V.y--,this.Ab()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.ca].texture.c().height&&this.V.y<(v[this.ca].texture.c().height-320)/M&&(this.V.y++,this.Ab()),!0;if(H(this.b.main_panel.tab1.ground1btn,c))return this.Fk("ground1"),!0;if(H(this.b.main_panel.tab1.ground2btn,c))return this.Fk("ground2"),!0;if(H(this.b.main_panel.tab1.ground3btn,c))return this.Fk("ground3"),!0;if(H(this.b.main_panel.tab1.mask1btn,
c))return this.Fk("mask1"),!0;if(H(this.b.main_panel.tab1.mask2btn,c))return this.Fk("mask2"),!0;if(H(this.b.main_panel.tab1.mask3btn,c))return this.Fk("mask3"),!0;if(H(this.b.main_panel.tab1.fringe1btn,c))return this.Fk("fringe1"),!0;if(H(this.b.main_panel.tab1.fringe2btn,c))return this.Fk("fringe2"),!0;if(H(this.b.main_panel.tab1.fringe3btn,c))return this.Fk("fringe3"),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.bo(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.co(),
!0;if(H(this.b.main_panel.tab1.deletebtn,c))return this.pj="erasing"==this.pj?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.r(B),"erasing"==this.pj&&this.b.main_panel.tab1.deletebtn.r(C),!0;if(H(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.rj()&&(V.OS(v[this.ca].name,q.a((this.b.main_panel.tab1.selectednode.u.I-16)/M+this.V.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.U-16)/M+this.V.y),this.Uw),V.Ct()),!0;c=this.b.main_panel.tab1.tiles.Ka(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%M+16;c.y=c.y-c.y%M+16;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.I!=c.x||this.b.main_panel.tab1.selectednode.u.U!=c.y)this.b.main_panel.tab1.selectednode.ta(127),this.b.main_panel.tab1.selectednode.l(c);return!0}}if(2==this.zc){if(H(this.b.main_panel.tab2.clearbtn,c))return this.$x(!0),!0;if(H(this.b.main_panel.tab2.clearbtnNo,c))return this.$x(!1),
!0;if(H(this.b.main_panel.tab2.clearbtnYes,c))return V.kf(),this.$x(!1),!0;if(H(this.b.main_panel.tab2.savebtn,c))return this.ay(!0),!0;if(H(this.b.main_panel.tab2.savebtnNo,c))return this.ay(!1),!0;if(H(this.b.main_panel.tab2.savebtnYes,c))return V.hX({up:this.xx.ba(),down:this.ux.ba(),left:this.vx.ba(),right:this.wx.ba(),width:this.pD.ba(),height:this.oD.ba()}),V.AY(),this.ay(!1),!0}return!1},Fk:function(a){this.b.main_panel.tab1.ground1btn.r(B);this.b.main_panel.tab1.ground2btn.r(B);this.b.main_panel.tab1.ground3btn.r(B);
this.b.main_panel.tab1.mask1btn.r(B);this.b.main_panel.tab1.mask2btn.r(B);this.b.main_panel.tab1.mask3btn.r(B);this.b.main_panel.tab1.fringe1btn.r(B);this.b.main_panel.tab1.fringe2btn.r(B);this.b.main_panel.tab1.fringe3btn.r(B);this.b.main_panel.tab1[a+"btn"].r(pa);this.Uw=a},bo:function(){this.ca>=v.length-1&&(this.ca=-1);this.ca++;this.b.main_panel.tab1.tiles.ka(v[this.ca].texture);this.Pb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Pb);this.V=q.a(0,0);this.Ab()},co:function(){0>=
this.ca&&(this.ca=v.length);this.ca--;this.b.main_panel.tab1.tiles.ka(v[this.ca].texture);this.Pb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Pb);this.V=q.a(0,0);this.Ab()},$x:function(a){this.b.main_panel.tab2.clearbtnYes.D(a);this.b.main_panel.tab2.clearbtnNo.D(a);this.b.main_panel.tab2.clear_text.D(a);this.b.main_panel.tab2.clearbtn.D(!a)},ay:function(a){this.b.main_panel.tab2.savebtnYes.D(a);this.b.main_panel.tab2.savebtnNo.D(a);this.b.main_panel.tab2.save_text.D(a);this.b.main_panel.tab2.savebtn.D(!a)},
TL:function(a,c,d){if(a[c]==this.NJ&&"moved"==d)return!1;this.NJ=a[c];switch(this.pj){case "tiles":0!=this.b.main_panel.tab1.selectednode.rj()&&V.Wl(c,v[this.ca].name,q.a((this.b.main_panel.tab1.selectednode.u.I-16)/M+this.V.x,Math.floor(320/M)-1-(this.b.main_panel.tab1.selectednode.u.U-16)/M+this.V.y),this.Uw);break;case "script":V.ET(c)?V.wS(c):V.OX(c,this.Th);break;case "erasing":V.uC(c,this.Uw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Pb:y[0].name,ca:0,Xn:function(a,c){Scripteditor&&(Scripteditor.xa(),Scripteditor.K(),this.Th=a,this.nc(!0),this.b.main_panel.scriptbtn.text.na(c.name),this.b.main_panel.scriptbtn.r(q.i(0,255,0,255)))},mt:function(){this.b.main_panel.scriptbtn.text.na("None");this.b.main_panel.scriptbtn.r(q.i(255,0,0,255))},sc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),
children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.i(255,255,255,255)},tiles:{e:q.a(0,1),position:q.a(374,232),$:y[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),$:"GUI/texture_change_left.png",e:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),$:"GUI/texture_change_right.png",e:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,32),$:"GUI/texture_change_middle.png",
e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},upbtn:{position:q.a(374,236),size:q.size(96,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(374,86),size:q.size(96,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(48,8),color:q.n(255,255,255)}}},scriptlbl:{label:"Script:",fontSize:12,
e:q.a(0,0),position:q.a(8,262),color:q.n(0,0,0)},scriptbtn:{position:q.a(8,232),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"None",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Hc:function(){return"npcEditor"},rb:null,k:null,data:null,w:function(a){this._super();this.data={name:"",sprite:{texture:null,number:null},script:null};this.Pb=y[0].name;this.ca=0;this.k=this.rb=null;this.V=q.a(0,0);this.k=a.k;a&&a.data&&(this.data=a.data,this.data.sprite.number&&(this.V.y=this.data.sprite.number),this.data.script&&(this.Th=this.data.script))},Aj:function(a){z({savenpcs:a+
"",npcsdata:this.data})},oj:function(a,c){z({savenpcswhole:c})},pa:function(){this._super();for(var a in y)y[a].name==this.data.sprite.texture&&(this.ca=a,this.Pb=y[a].name);this.b.main_panel.textureName.text.na(this.Pb);this.b.main_panel.tiles.ka(y[this.ca].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.r(q.i(0,255,0,255)),this.b.main_panel.scriptbtn.text.na(ObjectLists.Ie()[this.data.script].name),this.Th=this.data.script);this.rb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,
this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.rb.lb(!0);this.Ab()},xa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Ud(function(){c.Pd(null)})}},Ab:function(){this.lc(this.Ab);this.b.main_panel.tiles.ja()&&!0==this.b.main_panel.tiles.ja().Nc&&(this.Uc(this.Ab),this.b.main_panel.tiles.ib(q.rect(Math.floor(96*this.V.x),Math.floor(128*this.V.y),96>y[this.ca].texture.c().width?
y[this.ca].texture.c().width:96,128>y[this.ca].texture.c().height?y[this.ca].texture.c().height:128)))},vb:function(a){if(this._super(a))return!0;this.Sd=null;a=this.b.main_panel.Ka(a.S);if(H(this.b.main_panel.okbtn,a)){if(null==this.rb.ba()||""==this.rb.ba())return!0;this.Tg=!0;this.data.name=this.rb.ba();this.data.sprite.number=this.V.y;this.data.script=this.Th;this.k.Pd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,a)){this.Tg=!0;var c=this.k;this.k.Ud(function(){c.Pd(null)});return!0}H(this.b.main_panel.scriptbtn,
a)&&(Scripteditor?(Scripteditor.xa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.w({k:this,Qg:new ScriptEditor,list:ObjectLists.Ie(),name:"Script List"}),Scripteditor.pa(),this.f(Scripteditor)));return H(this.b.main_panel.upbtn,a)?(320<y[this.ca].texture.c().height&&0<this.V.y&&(this.V.y--,this.Ab()),!0):H(this.b.main_panel.downbtn,a)?(320<y[this.ca].texture.c().height&&this.V.y<(y[this.ca].texture.c().height-320)/32&&(this.V.y++,this.Ab()),!0):H(this.b.main_panel.texturerightbtn,
a)?(this.bo(),!0):H(this.b.main_panel.textureleftbtn,a)?(this.co(),!0):!1},yE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.r(C);this.b.main_panel.stackbtn.text.na("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.r(pa),this.b.main_panel.stackbtn.text.na("IS STACKABLE"))},bo:function(){this.ca>=y.length-1&&(this.ca=-1);this.ca++;this.b.main_panel.tiles.ka(y[this.ca].texture);this.Pb=y[this.ca].name;this.b.main_panel.textureName.text.na(this.Pb);
this.data.sprite.texture=this.Pb;this.V=q.a(0,0);this.Ab()},co:function(){0>=this.ca&&(this.ca=y.length);this.ca--;this.b.main_panel.tiles.ka(y[this.ca].texture);this.Pb=y[this.ca].name;this.b.main_panel.textureName.text.na(this.Pb);this.V=q.a(0,0);this.Ab()}});Shopeditor=null;
ShopEditor=Popup.extend({Pb:y[0].name,ca:0,sc:function(){return{panels:{position:q.a(300,10),children:{background:{$:"GUI/itemeditor_bg.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,e:q.a(0,0),position:q.a(4,292),color:q.n(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),color:q.i(255,255,255,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),$:"GUI/tick_icon.png",e:q.a(0,0)},cancelbtn:{position:q.a(384,16),
size:q.size(32,32),$:"GUI/cross_icon.png",e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},Hc:function(){return"shopEditor"},rb:null,k:null,data:null,w:function(a){this._super();this.data={name:""};this.Pb=y[0].name;this.ca=0;this.k=this.rb=null;this.k=a.k;a&&a.data&&(this.data=a.data)},Aj:function(a){z({saveshops:a+
"",shopsdata:this.data})},oj:function(a,c){z({saveshopswhole:c})},pa:function(){this._super();this.rb=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.c().width,this.b.main_panel.name_entry.c().height),q.a(0,this.b.main_panel.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.rb.lb(!0)},xa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Ud(function(){c.Pd(null)})}},vb:function(a){if(this._super(a))return!0;this.Sd=
null;a=this.b.main_panel.Ka(a.S);if(H(this.b.main_panel.okbtn,a)){if(null==this.rb.ba()||""==this.rb.ba())return!0;this.Tg=!0;this.data.name=this.rb.ba();this.k.Pd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,a)){this.Tg=!0;var c=this.k;this.k.Ud(function(){c.Pd(null)});return!0}return!1},yE:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.r(C);this.b.main_panel.stackbtn.text.na("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.stackbtn.r(pa),this.b.main_panel.stackbtn.text.na("IS STACKABLE"))}});Skillseditor=null;
SkillsEditor=Popup.extend({Pb:v[0].name,ca:0,sc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{e:q.a(0,0),position:q.a(0,0),size:q.size(420,396),color:q.i(0,0,100,120),children:{tab1:{children:{tiles:{e:q.a(0,1),position:q.a(16,320),$:v[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),color:B,e:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.n(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),
color:B,e:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,16),color:q.n(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),color:q.i(255,255,255,170),e:q.a(0,0),children:{text:{label:v[0].name,fontSize:12,e:q.a(0.5,0.5),position:q.a(48,16),color:q.n(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},rightbtn:{position:q.a(336,
64),size:q.size(16,252),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,e:q.a(0.5,0.5),position:q.a(8,160),color:q.n(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"^",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),color:q.i(0,0,255,255),e:q.a(0,0),children:{text:{label:"v",fontSize:12,e:q.a(0.5,0.5),position:q.a(160,8),color:q.n(255,
255,255)}}},highlightnode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(255,100,100,255)},selectednode:{e:q.a(0,0),position:q.a(0,0),size:q.size(32,32),color:q.i(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,e:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,e:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{e:q.a(0,1),
position:q.a(55,150),$:v[0].name},healthbtn:{position:q.a(8,265),size:q.size(128,26),color:C,e:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,e:q.a(0.5,0.5),position:q.a(64,13),color:q.n(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Icon",fontSize:12,e:q.a(0.5,0.5),position:q.a(32,10),color:q.n(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),color:B,e:q.a(0,0),children:{text:{label:"Details",fontSize:12,e:q.a(0.5,
0.5),position:q.a(32,10),color:q.n(0,0,0)}}},okbtn:{position:q.a(76,8),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"OK",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.n(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),color:B,e:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,e:q.a(0.5,0.5),position:q.a(30,16),color:q.n(0,0,0)}}}}},control_panel:{e:q.a(0,0),position:q.a(0,396),size:q.size(420,32),color:q.i(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,
e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),e:q.a(0,0),color:q.i(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.n(0,0,0),e:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Hc:function(){return"SkillsEditor"},rb:null,aq:null,Ej:null,zc:0,k:null,data:null,w:function(a){this._super();this.data={sprite:{texture:v[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Pb=v[0].name;this.ca=0;this.Ej=this.rb=null;this.zc=0;this.k=null;
this.V=q.a(0,0);this.Ej=[null,352,142];this.k=a.k;a&&a.data&&(this.data=a.data)},Aj:function(a){z({saveskills:a+"",skillsdata:this.data})},oj:function(a,c){z({saveskillswhole:c})},pa:function(){this._super();this.b.main_panel.tab1.highlightnode.ta(0);this.b.main_panel.tab1.selectednode.ta(127);for(var a in v)v[a].name==this.data.sprite.texture&&(this.ca=a,this.Pb=v[a].name);this.b.main_panel.tab1.textureName.text.na(this.Pb);this.b.main_panel.tab1.tiles.ka(v[this.ca].texture);for(a=this.data.sprite.position.x;10<=
a;)a--,this.V.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.V.y++;a=q.a(32*(this.data.sprite.position.x-this.V.x),32*(this.data.sprite.position.y-this.V.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.u.x+a.x,this.b.main_panel.tab1.tiles.u.y-(a.y+32));this.b.main_panel.tab2.tile.ka(v[this.ca].texture);this.b.main_panel.tab2.tile.ib(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.rb=new $(this.b.main_panel.tab2.name_entry,
q.size(this.b.main_panel.tab2.name_entry.c().width,this.b.main_panel.tab2.name_entry.c().height),q.a(0,this.b.main_panel.tab2.name_entry.c().height),this.data.name?this.data.name:"",q.i(100,100,100),q.n(255,255,255));this.rb.lb(!0);this.aq=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.c().width,this.b.main_panel.tab2.healthcolor_entry.c().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.c().height),this.data.healthbar?this.data.healthbar:"",q.i(100,
100,100),q.n(255,255,255));this.aq.lb(!0);this.b.main_panel.tab2.healthbtn.r(C);this.b.main_panel.tab2.healthbtn.text.na("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.r(pa),this.b.main_panel.tab2.healthbtn.text.na("IS HEALTHBAR"));this.ie(1);this.Ab()},Eba:function(){},xa:function(a){this._super();if(this.k){var c=this.k;!0!=a&&this.k.Ud(function(){c.Pd(null)})}},Qh:function(a){a=a.S;if(1==this.zc&&(this.b.main_panel.tab1.highlightnode.ta(0),
a=this.b.main_panel.tab1.tiles.Ka(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.c().width&&a.y<=this.b.main_panel.tab1.tiles.c().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ta(127),this.b.main_panel.tab1.highlightnode.l(a),!0},ie:function(a){a!=this.zc&&(this.b.main_panel.O(this.Ej[a],this.b.main_panel.c().height),this.b.control_panel.O(this.Ej[a],this.b.control_panel.c().height),this.b.main_panel.tab2.name_entry.Na(this.b.main_panel.tab2.name_entry.u.I-
1E3),this.b.main_panel.tab2.healthcolor_entry.Na(this.b.main_panel.tab2.healthcolor_entry.u.I-1E3),this.b.main_panel.tab2.healthcolor_text.D(!1),this.zc=a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab1Clickable.r(B),this.b.main_panel.tab2Clickable.r(B),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].r(q.i(255,255,0,255)),this.b.control_panel.exitBtn.Na(this.Ej[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Na(4),null!=this.data.healthbar&&
""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Na(4),this.b.main_panel.tab2.healthcolor_text.D(!0)))},Ab:function(){this.lc(this.Ab);this.b.main_panel.tab1.tiles.ja()&&!0==this.b.main_panel.tab1.tiles.ja().Nc&&(this.Uc(this.Ab),this.b.main_panel.tab1.tiles.ib(q.rect(Math.floor(32*this.V.x),Math.floor(32*this.V.y),320>v[this.ca].texture.c().width?v[this.ca].texture.c().width:320,256>v[this.ca].texture.c().height?v[this.ca].texture.c().height:256)))},vb:function(a){if(this._super(a))return!0;
this.Sd=null;a=a.S;var c=this.b.main_panel.Ka(a);if(H(this.b.main_panel.tab1Clickable,c))return this.ie(1),!0;if(H(this.b.main_panel.tab2Clickable,c))return this.ie(2),!0;if(H(this.b.main_panel.okbtn,c)){if(null==this.rb.ba()||""==this.rb.ba())return!0;this.Tg=!0;this.data.name=this.rb.ba();if(null!=this.aq.ba()||""!=this.aq.ba())this.data.healthbar=this.aq.ba();this.k.Pd(this.data);return!0}if(H(this.b.main_panel.cancelbtn,c)){this.Tg=!0;var d=this.k;this.k.Ud(function(){d.Pd(null)});return!0}if(1==
this.zc){if(H(this.b.main_panel.tab1.leftbtn,c))return 264<v[this.ca].texture.c().width&&0<this.V.x&&(this.V.x--,this.Ab()),!0;if(H(this.b.main_panel.tab1.rightbtn,c))return 320<v[this.ca].texture.c().width&&this.V.x<(v[this.ca].texture.c().width-320)/32&&(this.V.x++,this.Ab()),!0;if(H(this.b.main_panel.tab1.upbtn,c))return 320<v[this.ca].texture.c().height&&0<this.V.y&&(this.V.y--,this.Ab()),!0;if(H(this.b.main_panel.tab1.downbtn,c))return 320<v[this.ca].texture.c().height&&this.V.y<(v[this.ca].texture.c().height-
320)/32&&(this.V.y++,this.Ab()),!0;if(H(this.b.main_panel.tab1.texturerightbtn,c))return this.bo(),!0;if(H(this.b.main_panel.tab1.textureleftbtn,c))return this.co(),!0;c=this.b.main_panel.tab1.tiles.Ka(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.c().width&&c.y<=this.b.main_panel.tab1.tiles.c().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ta(0);if(this.b.main_panel.tab1.selectednode.u.I!=c.x||this.b.main_panel.tab1.selectednode.u.U!=c.y)this.b.main_panel.tab1.selectednode.ta(127),
this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.u.I-16)/32+this.V.x,8-(this.b.main_panel.tab1.selectednode.u.U-64)/32+this.V.y-1);this.b.main_panel.tab2.tile.ib(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.zc&&H(this.b.main_panel.tab2.healthbtn,c)?(this.oY(),!0):!1},oY:function(){this.b.main_panel.tab2.healthcolor_entry.Na(this.b.main_panel.tab2.healthcolor_entry.u.I-1E3);this.b.main_panel.tab2.healthcolor_text.D(!1);
null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.aq.je("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Na(4),this.b.main_panel.tab2.healthcolor_text.D(!0));this.b.main_panel.tab2.healthbtn.r(C);this.b.main_panel.tab2.healthbtn.text.na("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.r(pa),this.b.main_panel.tab2.healthbtn.text.na("IS HEALTHBAR"))},bo:function(){this.ca>=v.length-1&&(this.ca=
-1);this.ca++;this.b.main_panel.tab1.tiles.ka(v[this.ca].texture);this.b.main_panel.tab2.tile.ka(v[this.ca].texture);this.Pb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Pb);this.data.sprite.texture=this.Pb;this.V=q.a(0,0);this.Ab()},co:function(){0>=this.ca&&(this.ca=v.length);this.ca--;this.b.main_panel.tab1.tiles.ka(v[this.ca].texture);this.b.main_panel.tab2.tile.ka(v[this.ca].texture);this.Pb=v[this.ca].name;this.b.main_panel.tab1.textureName.text.na(this.Pb);this.V=q.a(0,0);
this.Ab()}});PopupList=Popup.extend({Wb:null,hb:[],Cn:null,Of:!1,Bj:-1,v8:0,iI:null,F:null,Es:!0,Ds:!0,hC:!0,Ws:!1,xa:function(){this._super();this.k&&(this.k.nc(!0),!this.Ws&&this.k.mt&&this.k.mt(null,null))},w:function(a,c){this._super();this.Wb=null;this.hb=[];this.hC=this.Es=this.Ds=!0;if(c){if(!1==c.$w||!0==c.$w)this.Es=c.$w;if(!1==c.Vw||!0==c.Vw)this.Ds=c.Vw;if(!1==c.add||!0==c.add)this.hC=c.add}this.Cn=null;this.Of=!1;this.Bj=-1;this.Wb=a.Qg;a.list&&(this.hb=a.list);this.Cn=a.name;this.k=a.k},pa:function(){this._super();
this.nb()},F:null,nb:function(){this.F&&this.F.T.K();var a=[],c=[],d=q.ga.g();this.iI={};for(var e in this.hb)if(a[e]=q.G.create(),this.hb[e].name)if(a[e].O(324,32),null==this.hb[e])this.hb.splice(e,1);else{if(null!=this.k){var f=q.v.La(d.la("GUI/use.png"));f.l(q.a(244,6));f.A(q.a(0,0))}var g=q.Z.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.R.create(this.hb[e].name,"Arial",20);h.A(q.a(0,0.5));h.l(q.a(0,16));if(this.Es){var k=q.v.La(d.la("GUI/edit.png"));k.l(q.a(272,6));k.A(q.a(0,0))}if(this.Ds){var l=
q.v.La(d.la("GUI/trash.png"));l.l(q.a(300,6));l.A(q.a(0,0))}var m=[];this.Es&&(k.Pa="Edit",m.push(k));this.Ds&&(l.Pa="Delete",m.push(l));null!=this.k&&(f.Pa="Use",m.push(f));c.push(m);a[e].f(g);a[e].f(h);this.Es&&a[e].f(k);this.Ds&&a[e].f(l);null!=this.k&&a[e].f(f)}else a[e].O(q.size(0,0)),c.push([]);this.hC&&(d=q.Z.create(q.i(70,200,70,255),90,26),e=q.R.create("+","Arial",20),e.l(45,13),e.A(q.a(0.5,0.5)),d.l(q.a(120,0)),d.Pa="Add",d.f(e),c.push([d]),a.push(d));this.F=this.b.main_panel.list;var p=
this;this.F.ec=function(){return q.size(324,32*a.length)};this.F.Yb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.sb=function(a,c,d){p.Ka(d.S);if(!0!=p.Of)switch(a){case "Delete":p.ea.f(DropDownList.Pc(p,p.Js,["Cancel","Delete"],d.S));p.fb=c;break;case "Edit":p.Wb.ea&&p.Wb.K();p.Of=!0;p.Wb.w({k:p,data:p.hb[c]});p.ea.f(p.Wb);p.nc(!1);p.Wb.pa();p.Bj=c+"";break;case "Add":p.Jp=!0;p.Of=!0;p.Bj=p.hb.length;p.Wb.w({k:p,data:null});p.nc(!1);
p.ea.f(p.Wb);p.Wb.pa();break;case "Use":p.k.Xn(c,p.hb[c]),p.Ws=!0}};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T)},sc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.Cn,fontSize:20,e:q.a(0,0.5),position:q.a(8,
16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},fb:null,Js:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.rC(this.k.fb),this.k.fb=null)}},Pd:function(a){a&&(this.Wb.Aj(this.Bj),this.Jp&&(this.hb.push(a),this.nb()));this.nc(!0);this.Of=this.Jp=!1;var c=this;this.Ud(function(){c.Wb.xa(!0);c.Wb.K()})},rC:function(a){this.hb[a]={};this.Wb.oj(a,this.hb);this.nb()}});ScriptingList=Popup.extend({Wb:null,hb:[],Cn:null,Of:!1,Bj:-1,W$:null,eh:null,Ws:!1,Tn:null,xa:function(){this._super();this.k&&(this.k.nc(!0),!this.Ws&&this.k.mt&&this.k.mt(null,null))},w:function(a){this._super();this.Wb=null;this.hb=[];this.Cn=null;this.Of=!1;this.Bj=-1;this.Wb=a.Qg;a.list&&(this.hb=a.list);this.Cn=a.name;this.k=a.k},pa:function(){this._super();this.Ex()},Ex:function(){this.Ih&&this.Ih.T.K();var a=[],c=[],d=q.ga.g(),e=["Default Scripts","NPC Scripts","Item Scripts","Tile Scripts"],
f;for(f in e){a[f]=q.G.create();a[f].O(220,32);var g=q.Z.create(q.i(0,0,0,127),220,1);g.l(q.a(0,0));var h=q.R.create(e[f],"Arial",20);h.A(q.a(0,0));h.l(q.a(4,4));h.$a(q.size(192,0));a[f].O(220,h.c().height+8);if(null!=this.Tn&&this.Tn==f){a[f]=q.Z.create(q.i(100,0,0,255),220,h.c().height+8);var k=q.v.La(d.la("GUI/selected.png"));k.l(q.a(196,(h.c().height+8-20)/2));k.A(q.a(0,0));a[f].f(k);h.r(q.n(255,255,255))}a[f].Pa="Use";c.push([a[f]]);a[f].f(g);a[f].f(h)}this.Ih=this.b.main_panel.mainlist;var l=
this;this.Ih.ec=function(){return q.size(324,32*a.length)};this.Ih.Yb=function(){return a.length};this.Ih.kc=function(c){return a[c].c()};this.Ih.jc=function(c){return a[c]};this.Ih.sb=function(a,c,d){l.Ka(d.S);if(!0!=l.Of)switch(a){case "Use":l.Tn=c,l.BD(c),l.Ex()}};this.Ih.T=ListView.create(this.Ih);this.Ih.T.mc(c);this.Ih.f(this.Ih.T)},BD:function(a){var c="";switch(a){case 0:c="Default";break;case 1:c="NPC";break;case 2:c="Item";break;case 3:c="Tile"}this.eh&&this.eh.T.K();var d=[];a=[];for(var e=
q.ga.g(),f=0;f<this.hb.length;f++)if(d[f]=q.G.create(),this.hb[f]!={}&&this.hb[f].specifier==c){d[f].O(286,32);var g=q.Z.create(q.i(0,0,0,127),286,1);g.l(q.a(0,0));var h=q.R.create(this.hb[f].name,"Arial",20);h.A(q.a(0,0));h.l(q.a(2,4));h.$a(q.size(208,0));d[f].O(286,h.c().height+8);if(null!=this.k&&!this.hb[f].isTemplate){var k=q.v.La(e.la("GUI/use.png"));k.l(q.a(212,(d[f].c().height-20)/2));k.A(q.a(0,0))}var l=[];if("Default"!=c){var m=q.v.La(e.la("GUI/edit.png"));m.l(q.a(236,(d[f].c().height-20)/
2));m.A(q.a(0,0));var p=q.v.La(e.la("GUI/trash.png"));p.l(q.a(260,(d[f].c().height-20)/2));p.A(q.a(0,0));l.push(m);p.Pa="Delete";m.Pa="Edit";l.push(p);d[f].f(m);d[f].f(p)}null==this.k||this.hb[f].isTemplate||(k.Pa="Use",l.push(k));m=q.v.La(e.la("GUI/copy.png"));m.l(q.a(188,(d[f].c().height-20)/2));m.A(q.a(0,0));m.Pa="Copy";l.push(m);d[f].f(m);a.push(l);d[f].f(g);d[f].f(h);null!=this.k&&d[f].f(k)}else d[f].O(q.size(0,0)),a.push([]);"Default"!=c&&(k=q.Z.create(q.i(70,200,70,255),90,26),e=q.R.create("+",
"Arial",20),e.l(45,13),e.A(q.a(0.5,0.5)),k.l(q.a(100,0)),k.Pa="Add",k.f(e),a.push([k]),d.push(k));this.eh=this.b.main_panel.sublist;var s=this;this.eh.ec=function(){return q.size(324,32*d.length)};this.eh.Yb=function(){return d.length};this.eh.kc=function(a){return d[a].c()};this.eh.jc=function(a){return d[a]};this.eh.sb=function(a,d,e){s.Ka(e.S);if(!0!=s.Of)switch(a){case "Delete":s.ea.f(DropDownList.Pc(s,s.Js,["Cancel","Delete"],e.S));s.fb=d;break;case "Edit":s.Wb.ea&&s.Wb.K();s.Of=!0;s.Wb.w({k:s,
data:s.hb[d]});s.ea.f(s.Wb);s.nc(!1);s.Wb.pa();s.Bj=d+"";break;case "Add":s.Jp=!0;s.Of=!0;s.Bj=s.hb.length+"";s.Wb.w({k:s,data:null,SD:c});s.nc(!1);s.ea.f(s.Wb);s.Wb.pa();break;case "Use":s.k.Xn(d,s.hb[d]);s.Ws=!0;break;case "Copy":s.cS(d)}};this.eh.T=ListView.create(this.eh);this.eh.T.mc(a);this.eh.f(this.eh.T)},sc:function(){return{panels:{position:q.a(20,20),children:{background_image:{$:"GUI/scripting_list.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(584,408),children:{mainlist:{size:q.size(220,
408),position:q.a(0,0),e:q.a(0,0)},sublist:{size:q.size(280,408),position:q.a(261,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,408),size:q.size(584,32),children:{header:{label:this.Cn,fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(560,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},fb:null,Js:function(a){switch(a){case 1:null!=this.k.fb&&(this.k.rC(this.k.fb),this.k.fb=null)}},Pd:function(a){a&&(this.Wb.Aj(this.Bj),this.Jp&&(this.hb.push(a),this.Ex(),this.Tn&&
this.BD(this.Tn)));this.nc(!0);this.Of=this.Jp=!1;var c=this;this.Ud(function(){c.Wb.xa(!0);c.Wb.K()})},rC:function(a){this.hb[a]={};this.Wb.oj(a,this.hb);this.Ex();this.Tn&&this.BD(this.Tn)},cS:function(a){console.log("DUPLICATING");this.Of=this.Jp=!0;this.Bj=this.hb.length+"";a=I(this.hb[a]);a.implementsAs&&(a.specifier=a.implementsAs,a.implementsAs=null);a.isTemplate&&(a.isTemplate=null);this.Wb.w({k:this,data:a,SD:a.specifier});this.nc(!1);this.ea.f(this.Wb);this.Wb.pa()}});var K=Ea.extend({ctor:function(){this._super()},jM:function(){this._super()},pa:function(){this._super()},xa:function(){this._super()},vb:function(a){q.wb(this.b.health_panel.pb(),a.S)&&D.g().Bl("Game")}});NewsPanel=null;
News=Popup.extend({data:null,F:null,fb:null,Hc:function(){return"Credits"},xa:function(){this._super()},w:function(){this._super();this.data={"22nd December 2014: (v0.797)":["Updated shop testbed. Inventory now loaded as selectable list (like shop items). Removed seperate tab lists to reduce amount of unused nodes. Added some test data into price and offer lists.","Consolidated configuration files into single file.","Made socket.io load from the actual application and not from the template pages.","Fixed some issed with graphics loading in minified builds"],
"21st December 2014: (v0.796)":["Updated shop testbed. Game now loads store sale items."],"19th December 2014: (v0.796)":["Added initial storefront layout for in-game shops."],"18th December 2014: (v0.793)":["Added item editor text field for descriptions."],"18th December 2014: (v0.792)":["Added buying price section of item value setup. Fixed some basic issues with the system"],"18th December 2014: (v0.79)":["Added initial setup value tab into item editor to add trade values to defined items. You simply add a shop in list and then the price to buy it.",
"The above system will eventually include a sale price area as well."],"17th December 2014: (v0.78)":["Added /wherami and /warpmeto user commands."],"17th December 2014: (v0.78)":["Added banking panel and implemented banking storage into player profile data.","Added map width and height specifiers to map editor for custom map sizes.","Added shop editor for custom shop type generation.","Compressed script logic into single straightforward functions with a type specifier.","Fixed a couple of bugs"],
"14th December 2014: (v0.75)":["Fixed multiplayer login movement crash."],"24th November 2014: (v0.75)":["Re-introduced dependancies so that I can added orientation change logic to the project. Clicking and dragging a client window now correctly resizes the game."],"16th November 2014: (v0.75)":["Cleaned up project dependancies, removed dependancy on socket.io and cocos-utils changes."],"11th November 2014: (v0.74)":["Added quest log (hotkey Q).","Implemented quest response logic. Added 2 additional 'quest unstarted' and 'quest finished' parameters"],
"10th November 2014: (v0.735)":["Added user extradata content for subscripting. Allows for developers to code in specific scripting logic if needed.","Extradata updates with user login data and is purposefully not localstorage based."],"9th November 2014: (v0.733)":["Added talking and talk with option callback to the npc scripts contexts."],"8th November 2014: (v0.731)":["Fixed NPC editor.","Added talk graphic and basic logic for npc interaction","Abstracted Item script logic to a utils function...wiped a lot of duplicate code."],
"25th October 2014: (v0.729)":["Added scripting response logic for giving/taking items.","Added scripting requirements logic for if a panel is visible and inventory has a certain amount of slots."],"25th October 2014: (v0.727)":["Fixed a bunch of persistant bugs. Game is now much much more stable than it was.","Added scripts for on pickup and on drop. Added some additional response logic for warping the player. Added requirement logic for check if player has items and if player stats are within certain ranges."],
"24th October 2014: (v0.724)":["Added functionality to more scripts. Items can now use the destroy and open/close panel scripts.","Fixed equip script to use the equip position defined within the scripting system instead of previously defined sub-item types from previous versions."],"23rd October 2014: (v0.722)":["Added functionality to some item scripts. Game now modifies inventory drop down behaviour based on responses type (read/equip).","Items can now influence player stats on equip, dequip, swapped and on read."],
"30th September 2014: (v0.72)":["Added user saving and loading for player position, items and equipment. Picked up and equipped items are now stored and saved regardless of session.","Edited the skills panel to utilise the list view logic. Skills menu now shows level and experience progression and uses data from the user account","Added health manipulation functionality utilising new skill logic as noted in the previous point."],"27th September 2014: (v0.72)":["Added registration and logging in system. Users can now have automatic login setup for their accounts and player data is starting to be saved from an actual account.",
"Server now has a new folder where user data is stored.","Added the beginnings of a user ranking system, game editors can now only be accessed if the player rank is above 1. Rank 1 is now the default registration rank."],"25th August 2014: (v0.718)":["Added 90% of subeditors needed for the scripting system. Go into the script editor and press the pencil icon on the responses and requirements to edit their core data.","Updated script panel texture to utilize inpanel submenu editors.","Abstracted out the script editor so that its not dependant on certain types.",
"Added/removed requirements responses based on logical conclusions on what is actually needed. Consume as an item response, for example, is unecessary because it would work identically to destroy."],"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.",
"Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.",
"Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.","Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},Aj:function(a){z({savequests:a+
"",questdata:this.data})},oj:function(a,c){z({savequestswhole:c})},pa:function(){this._super();this.nb()},nb:function(){this.F&&this.F.$b();var a=[],c=[];q.ga.g();var d=0,e;for(e in this.data){a[d]=q.G.create();a[d].O(324,32);var f=q.R.create(e,"Arial",18);f.A(q.a(0,0));f.l(q.a(4,0));f.$a(q.size(246,0));f.r(q.n(100,0,0));a[d].f(f);a[d].O(324,f.c().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.G.create();a[d].O(324,32);var h=q.Z.create(q.i(0,0,0,127),316,1);h.l(q.a(4,0));var k=q.R.create(this.data[e][g],
"Arial",15);k.r(q.n(0,0,0));k.A(q.a(0,0));k.l(q.a(4,4));k.$a(q.size(246,0));f=[];c.push(f);a[d].f(h);a[d].f(k);a[d].O(324,k.c().height+8);d++}}this.F=this.b.main_panel.list;this.F.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Yb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};this.F.sb=function(){};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T)},sc:function(){return{panels:{position:q.a(300,
200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},vb:function(a){if(this._super(a))return!0;this.Sd=null;a=this.b.main_panel.Ka(a.S);
return H(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,F:null,fb:null,Hc:function(){return"Credits"},xa:function(){this._super()},w:function(){this._super();this.data={"Project Leader":"Spork","Localisation Contributors":"Vus, sn0w Beast",Programmers:"Spork","Community Management \x26 Support":"Chief, Seb, Mad Hatter","Special thanks":"All of you, who's positive response keep us motivated to deliver the best software we can make.","Powder Engine is Copywritten":"Contact the developera in-site regarding questions."}},Aj:function(a){z({savequests:a+
"",questdata:this.data})},oj:function(a,c){z({savequestswhole:c})},pa:function(){this._super();this.nb()},nb:function(){this.F&&this.F.$b();var a=[],c=[];q.ga.g();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.G.create();a[d].O(324,32);var f=q.R.create(e,"Arial",18);f.A(q.a(0,0));f.l(q.a(4,0));f.$a(q.size(246,0));f.r(q.n(100,0,0));a[d].f(f);a[d].O(324,f.c().height+4);f=[];c.push(f);d++}a[d]=q.G.create();a[d].O(324,32);var g=q.Z.create(q.i(0,0,0,127),316,1);g.l(q.a(4,0));if("ISSECTION"==
this.data[e]){var h=q.R.create(e,"Arial",22);h.r(q.n(255,0,0))}else h=q.R.create(this.data[e],"Arial",15),h.r(q.n(0,0,0));h.A(q.a(0,0));h.l(q.a(4,4));h.$a(q.size(246,0));f=[];c.push(f);a[d].f(g);a[d].f(h);"ISSECTION"==this.data[e]?a[d].O(324,h.c().height+12):a[d].O(324,h.c().height+8);d++}this.F=this.b.main_panel.list;this.F.ec=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].c().height;return q.size(324,c)};this.F.Yb=function(){return a.length};this.F.kc=function(c){return a[c].c()};this.F.jc=function(c){return a[c]};
this.F.sb=function(){};this.F.T=ListView.create(this.F);this.F.T.mc(c);this.F.f(this.F.T)},sc:function(){return{panels:{position:q.a(300,200),children:{background_image:{$:"GUI/list_panel.png",e:q.a(0,0)},main_panel:{e:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),color:q.i(0,200,200,200),position:q.a(0,0),e:q.a(0,0)}}},control_panel:{e:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",fontSize:20,e:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,
6),size:q.size(20,20),e:q.a(0,0),$:"GUI/close.png"}}}}}}},vb:function(a){if(this._super(a))return!0;this.Sd=null;a=this.b.main_panel.Ka(a.S);return H(this.b.main_panel,a)?!0:!1}});Login=Ea.extend({ht:!1,gm:!1,uD:function(){var a=this.sc();xa(a,"panels",this.b)},w:function(a){G=Ba(G,W.OC());this._super();D.Un(this);this.eq=this.lD=!1;this.zk=new $(this.b.name_entry,q.size(this.b.name_entry.c().width,this.b.name_entry.c().height),q.a(0,this.b.name_entry.c().height),"Username",q.i(100,100,100),q.n(255,255,255));this.Nl=new $(this.b.password_entry,q.size(this.b.password_entry.c().width,this.b.password_entry.c().height),q.a(0,this.b.password_entry.c().height),"Password",q.i(100,
100,100),q.n(255,255,255));this.Nl.kq(0);this.ID=new $(this.b.new_user_name,q.size(this.b.new_user_name.c().width,this.b.new_user_name.c().height),q.a(0,this.b.new_user_name.c().height),"Username",q.i(100,100,100),q.n(255,255,255));this.Ix=new $(this.b.new_user_pass,q.size(this.b.new_user_pass.c().width,this.b.new_user_pass.c().height),q.a(0,this.b.new_user_pass.c().height),"Password",q.i(100,100,100),q.n(255,255,255));this.Ix.kq(0);this.HD=new $(this.b.new_user_email,q.size(this.b.new_user_email.c().width,
this.b.new_user_email.c().height),q.a(0,this.b.new_user_email.c().height),"Email Address",q.i(100,100,100),q.n(255,255,255));this.WH=!1;a&&(a.SJ?(A=[],z({logout:!0})):this.WH=!0,this.Wn(a.VD));this.lc(this.qC);this.VH=!1;this.lc(this.uE);this.ZC();this.b.rem_login_text.$a(q.size(80,0));this.b.auto_login_text.$a(q.size(80,0));this.b.server_message.$a(q.size(300,0));this.b.server_message2.$a(q.size(150,0))},Ll:function(a){switch(a){case "ENTER":if(this.lD){a=this.ID.ba();var c=this.Ix.ba(),d=this.HD.ba();
""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.qg(G["Incorrect Email Format"]):(this.eq=!0,this.qg(G["Registering Message"]),this.tK({name:a,password:c,email:d})):this.qg(G["Register Empty Fields"])}else!1==this.gm&&this.ht?(a=this.zk.ba(),c=this.Nl.ba(),""!=a&&null!=a&&""!=c&&null!=c?(this.gm=!0,this.qg(G["Logging In Message"]),z({login:!0,username:this.zk.ba(),password:this.Nl.ba()})):this.qg(G["User Pass Empty"])):this.Ax(G["Server Offline Message"])}},Wn:function(a){this.ht=
a;!0==a?(this.b.server_activity.na(G["Online Server"]),this.b.server_activity.r(q.n(0,255,0))):(this.b.server_activity.na(G["Offline Server"]),this.b.server_activity.r(q.n(255,0,0)))},qC:function(){var a=W.BT();a&&!1==this.VH&&(this.zk.je(a.user),this.VH=!0,this.Nl.je(a.pass));!0==this.WH&&autoLoginNextTime&&!1==this.gm&&this.ht&&(!1==this.gm&&this.ht?(this.gm=!0,this.qg("Logging In"),z({login:!0,username:this.zk.ba(),password:this.Nl.ba()})):this.Ax(G["Offline Server Message"]))},uE:function(){if(0<
A.length)for(var a=A.length-1;0<=a;a--)reactToSocketMessage(A[a]),A.splice(a,1);autoLoginNextTime?(W.IK(!0),this.b.auto_login.ka(q.ga.g().la("GUI/checkbox_checked.png"))):(W.IK(!1),this.b.auto_login.ka(q.ga.g().la("GUI/checkbox_uncheck.png")));rememberLoginNextTime?this.b.remember_login.ka(q.ga.g().la("GUI/checkbox_checked.png")):this.b.remember_login.ka(q.ga.g().la("GUI/checkbox_uncheck.png"))},sc:function(){return{panels:{children:{background:{$:"GUI/splash.png",size:q.size(960,640),e:q.a(0,0),
position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,325)},password_entry:{size:q.size(300,30),position:q.a(325,290)},new_user_name:{size:q.size(300,30),position:q.a(325,360)},new_user_pass:{size:q.size(300,30),position:q.a(325,325)},new_user_email:{size:q.size(300,30),position:q.a(325,290)},remember_login:{size:q.size(20,20),position:q.a(630,295),$:"GUI/checkbox_uncheck.png",e:q.a(0,0)},rem_login_text:{label:G["Save Login Cred"],fontSize:16,color:q.n(255,255,255),e:q.a(0,1),position:q.a(665,
315)},auto_login:{size:q.size(20,20),position:q.a(630,330),$:"GUI/checkbox_uncheck.png",e:q.a(0,0)},auto_login_text:{label:G["Auto Login Next"],fontSize:16,color:q.n(255,255,255),e:q.a(0,0),position:q.a(665,330)},go_button:{position:q.a(325,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Play Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},register_button:{position:q.a(505,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Register Button Text"],
fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_back:{position:q.a(325,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Back From Reg Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},new_user_confirm:{position:q.a(505,240),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Reg Confirm Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},sysMessage:{label:G["System Message"],
position:q.a(4,4),color:q.n(255,255,255),e:q.a(0,0)},credits_button:{position:q.a(30,400),size:q.size(120,40),color:q.i(0,0,0,255),children:{label:{label:G["Credit Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(30,340),size:q.size(120,40),color:q.i(0,0,0,255),e:q.a(0,1),children:{label:{label:G["News Button Text"],fontSize:20,color:q.n(255,255,255),e:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.n(255,
255,255),e:q.a(0,1),position:q.a(325,220)},server_message2:{label:G["Login Message"],fontSize:16,color:q.n(255,255,255),e:q.a(0,1),position:q.a(175,355)},version_number:{label:G["Version Number"],fontSize:34,color:q.n(255,255,255),e:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),e:q.a(0.5,0.5),label:G["Offline Server"],color:q.n(255,0,0)}}}}},pY:function(){autoLoginNextTime?(autoLoginNextTime=!1,this.b.auto_login.ka(q.ga.g().la("GUI/checkbox_uncheck.png"))):
(autoLoginNextTime=!0,this.b.auto_login.ka(q.ga.g().la("GUI/checkbox_checked.png")),rememberLoginNextTime=!0,this.b.remember_login.ka(q.ga.g().la("GUI/checkbox_checked.png")))},qY:function(){rememberLoginNextTime?(rememberLoginNextTime=!1,this.b.remember_login.ka(q.ga.g().la("GUI/checkbox_uncheck.png")),autoLoginNextTime=!1,this.b.auto_login.ka(q.ga.g().la("GUI/checkbox_uncheck.png"))):(rememberLoginNextTime=!0,this.b.remember_login.ka(q.ga.g().la("GUI/checkbox_checked.png")))},vb:function(a){if(null!=
this.zk.ba()&&this.b.go_button.za&&q.wb(q.rect(this.b.go_button.u.I,this.b.go_button.u.U,this.b.go_button.c().width,this.b.go_button.c().height),a.S)){if(!1==this.gm&&this.ht){a=this.zk.ba();var c=this.Nl.ba();""!=a&&null!=a&&""!=c&&null!=c?(this.gm=!0,this.qg(G["Logging In Message"]),z({login:!0,username:this.zk.ba(),password:this.Nl.ba()})):this.qg(G["User Pass Empty"])}else this.Ax(G["Offline Server Message"]);return!0}this.b.credits_button.za&&q.wb(q.rect(this.b.credits_button.u.I,this.b.credits_button.u.U,
this.b.credits_button.c().width,this.b.credits_button.c().height),a.S)&&this.Sh("/openCredits");this.b.news_button.za&&q.wb(q.rect(this.b.news_button.u.I,this.b.news_button.u.U,this.b.news_button.c().width,this.b.news_button.c().height),a.S)&&this.Sh("/openNews");if(this.b.register_button.za&&q.wb(q.rect(this.b.register_button.u.I,this.b.register_button.u.U,this.b.register_button.c().width,this.b.register_button.c().height),a.S))return this.cY(),!1;if(this.b.auto_login.za&&q.wb(q.rect(this.b.auto_login.u.I,
this.b.auto_login.u.U,this.b.auto_login.c().width,this.b.auto_login.c().height),a.S))return this.pY(),!1;if(this.b.remember_login.za&&q.wb(q.rect(this.b.remember_login.u.I,this.b.remember_login.u.U,this.b.remember_login.c().width,this.b.remember_login.c().height),a.S))return this.qY(),!1;if(this.b.new_user_back.za&&!1==this.eq&&q.wb(q.rect(this.b.new_user_back.u.I,this.b.new_user_back.u.U,this.b.new_user_back.c().width,this.b.new_user_back.c().height),a.S))return this.ZC(),this.qg(""),!1;if(this.b.new_user_confirm.za&&
!1==this.eq&&q.wb(q.rect(this.b.new_user_confirm.u.I,this.b.new_user_confirm.u.U,this.b.new_user_confirm.c().width,this.b.new_user_confirm.c().height),a.S)){a=this.ID.ba();var c=this.Ix.ba(),d=this.HD.ba();""!=a&&null!=a&&""!=c&&null!=c&&""!=d&&null!=d?!1==/\S+@\S+\.\S+/.test(d)?this.qg(G["Incorrect Email Format"]):(this.eq=!0,this.qg(G["Registering Message"]),this.tK({name:a,password:c,email:d})):this.qg(G["Register Empty Fields"]);return!1}},tK:function(a){a.newUser=1;z(a)},XR:function(){this.qg(G["Registration Success"]);
this.ID.je(G["Username Label"]);this.Ix.je(G["Password Label"]);this.HD.je(G["Email Label"]);this.eq=!1;this.ZC()},NS:function(a){this.eq=!1;switch(a){case "UserTaken":this.qg(G["Register User Taken"])}},cY:function(){this.b.new_user_name.D(!0);this.b.new_user_pass.D(!0);this.b.new_user_email.D(!0);this.b.new_user_confirm.D(!0);this.b.new_user_back.D(!0);this.b.register_button.D(!1);this.b.go_button.D(!1);this.b.name_entry.Na(-1E5);this.b.password_entry.Na(-1E5);this.b.new_user_name.Na(325);this.b.new_user_pass.Na(325);
this.b.new_user_email.Na(325);this.b.rem_login_text.D(!1);this.b.auto_login_text.D(!1);this.b.auto_login.D(!1);this.b.remember_login.D(!1);this.lD=!0},ZC:function(){this.b.new_user_name.D(!1);this.b.new_user_pass.D(!1);this.b.new_user_email.D(!1);this.b.new_user_confirm.D(!1);this.b.new_user_back.D(!1);this.b.register_button.D(!0);this.b.go_button.D(!0);this.b.name_entry.Na(325);this.b.password_entry.Na(325);this.b.new_user_name.Na(-1E5);this.b.new_user_pass.Na(1E5);this.b.new_user_email.Na(1E5);
this.b.rem_login_text.D(!0);this.b.auto_login_text.D(!0);this.b.auto_login.D(!0);this.b.remember_login.D(!0);this.lD=!1},Sh:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.ea||(CreditsPanel=null);CreditsPanel?(CreditsPanel.xa(),CreditsPanel.K(),CreditsPanel=null):(CreditsPanel=new Credits,CreditsPanel.w(),CreditsPanel.pa(),this.f(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.ea||(NewsPanel=null),NewsPanel?(NewsPanel.xa(),NewsPanel.K(),NewsPanel=null):
(NewsPanel=new News,NewsPanel.w(),NewsPanel.pa(),this.f(NewsPanel))}},TU:function(a){rememberLoginNextTime&&W.FX(this.zk.ba(),this.Nl.ba());this.Uc(this.qC);D.g().Bl("Game",{zj:a,map:1})},Ax:function(a){this.Uc(this.qC);this.b.server_message.na(a);this.gm=!1},qg:function(a){this.b.server_message.na(a)},R8:function(){D.g().Bl("Game",{ada:this.zk.ba()})}});K=null;MapMaster=!1;
var Fa=Ea.extend({FJ:!1,ctor:function(){this._super()},uD:function(){var a=R.t.N.ic();V.Al(a.x*M,a.y*M);a=this.sc();xa(a,"panels",this.b);SkillBarsInstance.tq()},sc:function(){return{panels:{children:{saving_icon:{visible:!1,position:q.a(P.width-52,4),e:q.a(0,0),size:q.size(48,48),$:"GUI/save_icon.png"},logout_button:{position:q.a(P.width-52,P.height-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/logout.png"},quicknav_button:{position:q.a(P.width-30,Math.floor(P.height/2)-24),e:q.a(0,0),size:q.size(48,
48),$:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(P.width-52,Math.floor(P.height/2)+60),e:q.a(0,0),size:q.size(48,48),$:"GUI/inventory_icon.png"},equipment_button:{position:q.a(P.width-82,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/equipment_icon.png"},skill_button:{position:q.a(P.width-82,Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/skills_icon.png"},chat_button:{position:q.a(P.width-52,Math.floor(P.height/2)-108),e:q.a(0,0),size:q.size(48,
48),$:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(P.height/2)-24),e:q.a(0,0),size:q.size(48,48),$:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(P.height/2)+116),e:q.a(0,0),size:q.size(48,48),$:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(P.height/2)+60),e:q.a(0,0),size:q.size(48,48),$:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/itemeditor_icon.png"},
skilledit_button:{position:q.a(64,Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/skilleditor_icon.png"},scriptedit_button:{position:q.a(34,Math.floor(P.height/2)-108),e:q.a(0,0),size:q.size(48,48),$:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(P.height/2)-164),e:q.a(0,0),size:q.size(48,48),$:"GUI/settings_icon.png"},shopedit_button:{position:q.a(120,Math.floor(P.height/2)+4),e:q.a(0,0),size:q.size(48,48),$:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,
Math.floor(P.height/2)-52),e:q.a(0,0),size:q.size(48,48),$:"GUI/questeditor_icon.png"}}}}},CJ:!1,AJ:!1,Wn:function(a){!1==a&&(this.tC(),D.g().Bl("Login",{VD:!1}))},tC:function(){V.kf();V.kt();null!=Equipment&&(Equipment.xa(),Equipment.K(),Equipment=null);null!=Inventory&&(Inventory.xa(),Inventory.K(),Inventory=null);null!=Bank&&(Bank.xa(),Bank.RZ(),Bank=null);null!=Skills&&(Skills.xa(),Skills.K(),Skills=null);null!=Quests&&(Quests.xa(),Quests.K(),Quests=null);SkillBarsInstance.K();R.kf();R.kt();S.kf();
S.kt()},vb:function(a){if(q.wb(q.rect(this.b.logout_button.u.I,this.b.logout_button.u.U,this.b.logout_button.c().width,this.b.logout_button.c().height),a.S))return this.tC(),D.g().Bl("Login",{SJ:!0,VD:!0}),!0;D.Un(this);if(q.wb(this.b.chat_button.pb(),a.S)&&this.b.chat_button.za)return this.Ll("C"),!0;if(q.wb(this.b.inventory_button.pb(),a.S)&&this.b.inventory_button.za)return this.Ll("I"),!0;if(q.wb(this.b.equipment_button.pb(),a.S)&&this.b.equipment_button.za)return this.Ll("E"),!0;if(q.wb(this.b.skill_button.pb(),
a.S)&&this.b.skill_button.za)return this.Ll("S"),!0;if(this.b.quickedit_button.za&&q.wb(this.b.quickedit_button.pb(),a.S)&&this.b.quickedit_button.za)return this.FL(!this.AJ),!0;if(q.wb(this.b.quicknav_button.pb(),a.S)&&this.b.quicknav_button.za)return this.GL(!this.CJ),!0;if(q.wb(this.b.mapedit_button.pb(),a.S)&&this.b.mapedit_button.za)return this.Sh("/editmap"),!0;if(q.wb(this.b.npcedit_button.pb(),a.S)&&this.b.npcedit_button.za)return this.Sh("/editnpc"),!0;if(q.wb(this.b.itemedit_button.pb(),
a.S)&&this.b.itemedit_button.za)return this.Sh("/edititem"),!0;if(q.wb(this.b.skilledit_button.pb(),a.S)&&this.b.skilledit_button.za)return this.Sh("/editskill"),!0;if(q.wb(this.b.scriptedit_button.pb(),a.S)&&this.b.scriptedit_button.za)return this.Sh("/editscript"),!0;if(q.wb(this.b.settings_button.pb(),a.S)&&this.b.settings_button.za)return this.Sh("/editsettings"),!0;if(q.wb(this.b.shopedit_button.pb(),a.S)&&this.b.shopedit_button.za)return this.Sh("/editshop"),!0;if(q.wb(this.b.questedit_button.pb(),
a.S)&&this.b.questedit_button.za)return this.Sh("/editquest"),!0},dY:function(a,c){null==Sign||Sign.ea||(Sign=null);Sign?(Sign.xa(),Sign.K(),Sign=null):(Sign=new SignPanel,Sign.w(a,c),Sign.pa(),this.f(Sign))},$X:function(a,c){null==Book||Book.ea||(Book=null);Book?(Book.xa(),Book.K(),Book=null):(Book=new BookPanel,Book.w(a,c),Book.pa(),this.f(Book))},bY:function(a,c,d,e,f,g){null==NpcChat||NpcChat.ea||(NpcChat=null);NpcChat&&(NpcChat.xa(),NpcChat.K(),NpcChat=null);NpcChat=new NpcChatPanel;NpcChat.w(a,
c,d,e,f,g);NpcChat.pa();this.f(NpcChat)},YT:function(){null==NpcChat||NpcChat.ea||(NpcChat=null);NpcChat&&(NpcChat.xa(),NpcChat.K(),NpcChat=null)},Ll:function(a){switch(a){case "C":S.wU()?S.jJ():S.show();break;case "ENTER":S.YD(!S.kD());break;case "SPACE":R.t.N.pU();Inventory&&Inventory.Qa();break;case "CTRL":R.t.N.nU();break;case "ESC":this.tC();D.g().Bl("Login",{SJ:!0,VD:!0});break;case "P":null==Inventory||Inventory.ea||(Inventory=null);Inventory&&(Inventory.xa(),Inventory.K(),Inventory=null);
null==Shop||Shop.ea||(Shop=null);Shop?(Shop.xa(),Shop.K(),Shop=null):(Shop=new ShopPanel,Shop.w(),Shop.pa(),this.f(Shop));break;case "I":null==Inventory||Inventory.ea||(Inventory=null);Inventory?(Inventory.xa(),Inventory.K(),Inventory=null):(null==Bank||Bank.ea||(Bank=null),Bank||(Inventory=new InventoryPanel,Inventory.w(),Inventory.pa(),this.f(Inventory)));break;case "E":null==Equipment||Equipment.ea||(Equipment=null);Equipment?(Equipment.xa(),Equipment.K(),Equipment=null):(Equipment=new EquipmentPanel,
Equipment.w(),Equipment.pa(),this.f(Equipment));break;case "S":null==Skills||Skills.ea||(Skills=null);Skills?(Skills.xa(),Skills.K(),Skills=null):(Skills=new SkillsPanel,Skills.w(),Skills.pa(),this.f(Skills));break;case "Q":null==Quests||Quests.ea||(Quests=null),Quests?(Quests.xa(),Quests.K(),Quests=null):(Quests=new QuestsPanel,Quests.w(),Quests.pa(),this.f(Quests))}},tD:function(a){var c=R.t.N.ic();R.t.N.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":R.t.N.vq(c.x+1,c.y);break;case "LEFTARROW":R.t.N.vq(c.x-
1,c.y);break;case "UPARROW":R.t.N.vq(c.x,c.y+1);break;case "DOWNARROW":R.t.N.vq(c.x,c.y-1)}},GL:function(a){this.CJ=a;this.b.chat_button.D(a);this.b.inventory_button.D(a);this.b.equipment_button.D(a);this.b.skill_button.D(a);this.b.quicknav_button.ka(q.ga.g().la(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},FL:function(a){this.AJ=a;this.b.mapedit_button.D(a);this.b.npcedit_button.D(a);this.b.itemedit_button.D(a);this.b.skilledit_button.D(a);this.b.scriptedit_button.D(a);
this.b.settings_button.D(a);this.b.shopedit_button.D(a);this.b.questedit_button.D(a);this.b.quickedit_button.ka(q.ga.g().la(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},Sh:function(a){if(a){switch(a){case "/whereami":var c=R.t.N,c=c.ic();S.rc("Map: "+V.nf()+", XY: ("+c.x+","+c.y+")")}if(1<R.t.N.Ip){if("/warpmeto"==a.substring(0,9)&&4==a.split(" ").length){a=a.substring(10).split(" ");c=V.yi(a[0]);z({changemap:a[0],setTo:a[1]+a[2]*c.width});V.Yp(a[0]);c=R.t.N;c.l(a[1]*M,
a[2]*M);return}switch(a){case "/editscript":null==Scripteditor||Scripteditor.ea||(Scripteditor=null);Scripteditor?(Scripteditor.xa(),Scripteditor.K(),Scripteditor=null):(Scripteditor=new ScriptingList,Scripteditor.w({k:null,Qg:new ScriptEditor,list:ObjectLists.Ie(),name:"Script List"}),Scripteditor.pa(),this.f(Scripteditor));break;case "/editshop":null==Shopeditor||Shopeditor.ea||(Shopeditor=null);Shopeditor?(Shopeditor.xa(),Shopeditor.K(),Shopeditor=null):(Shopeditor=new PopupList,Shopeditor.w({k:null,
Qg:new ShopEditor,list:ObjectLists.Rs(),name:"Shop List"}),Shopeditor.pa(),this.f(Shopeditor));break;case "/editmap":null==Mapeditor||Mapeditor.ea||(Mapeditor=null);Mapeditor?(Mapeditor.xa(),Mapeditor.K(),Mapeditor=null,V.lt(null)):(Mapeditor=new MapEditor,Mapeditor.w(),Mapeditor.pa(),this.f(Mapeditor),V.lt(Mapeditor));break;case "/editsettings":null==Settingseditor||Settingseditor.ea||(Settingseditor=null);Settingseditor?(Settingseditor.xa(),Settingseditor.K(),Settingseditor=null):(Settingseditor=
new SettingsEditor,Settingseditor.w(),Settingseditor.pa(),this.f(Settingseditor));break;case "/editskill":null==Skillseditor||Skillseditor.ea||(Skillseditor=null);Skillseditor?(Skillseditor.xa(),Skillseditor.K(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.w({k:null,Qg:new SkillsEditor,list:ObjectLists.vk(),name:"Skills List"}),Skillseditor.pa(),this.f(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.ea||(Itemeditor=null);Itemeditor?(Itemeditor.xa(),Itemeditor.K(),
Itemeditor=null,V.lt(null)):(Itemeditor=new PopupList,Itemeditor.w({k:null,Qg:new ItemEditor,list:ObjectLists.Xb(),name:"Item List"}),Itemeditor.pa(),this.f(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.ea||(NPCeditor=null);NPCeditor?(NPCeditor.xa(),NPCeditor.K(),NPCeditor=null,V.lt(null)):(NPCeditor=new PopupList,NPCeditor.w({k:null,Qg:new NPCEditor,list:ObjectLists.Up(),name:"NPC List"}),NPCeditor.pa(),this.f(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.ea||
(Questeditor=null),Questeditor?(Questeditor.xa(),Questeditor.K(),Questeditor=null,V.lt(null)):(Questeditor=new PopupList,Questeditor.w({k:null,Qg:new QuestEditor,list:ObjectLists.Xp(),name:"Quest List"}),Questeditor.pa(),this.f(Questeditor))}}switch(a){case "/help":S.showHelp();break;case "/commands":S.aY();break;case "/diceroll":a=Math.floor(6*Math.random()+1);c=G["/diceroll"];c=c.replace("\x3cPLAYER\x3e",R.t.N.getName());c=c.replace("\x3cVALUE\x3e",a);S.rc(c);z({diceroll:c});break;case "/coinflip":a=
1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=G["/coinflip"];c=c.replace("\x3cPLAYER\x3e",R.t.N.getName());c=c.replace("\x3cVALUE\x3e",a);S.rc(c);z({coinflip:c});break;case "/dance":a=G["/dance"];a=a.replace("\x3cPLAYER\x3e",R.t.N.getName());S.rc(a);z({dance:a});break;case "/afk":R.t.N.updateStatus("AFK"),z({afk:!0})}}},w:function(a){this._super();K=this;this.f(V.create());ObjectLists.g();R.create({name:a.zj.name,wj:!0,Yn:{health:{bd:1,value:100,jg:200,ig:900},mana:{bd:1,value:100,jg:200,ig:99}},
map:a.zj.location.mapnumber?a.zj.location.mapnumber:1,position:a.zj.location.position,wt:"sprites1.png",ut:1,Ip:a.zj.rank,wJ:a.zj.inventory,vI:a.zj.equipment,Ol:a.zj.quests,xi:a.zj.extraData});V.oR();this.b.K();this.qq(-20);z({moveTo:R.t.N.ic().x+R.t.N.ic().y*O});this.f(S.create());this.f(U.create(a.zj.skills));this.GL(!1);this.FL(!1);this.WX();this.f(this.b);this.lc(this.uE);this.lc(this.DW);this.lc(this.vW,120)},vW:function(){var a={saveUser:!0,name:R.t.N.getName(),location:{mapnumber:V.nf(),position:R.t.N.ic().x+
R.t.N.ic().y*O},inventory:R.t.N.mf(),equipment:R.t.N.cx(),skills:[],clan:"",guilds:[],quests:R.t.N.Ol,friends:[],bank:R.t.N.zl(),pets:[],pmessages:[],lastchats:[],health:100,extraData:R.t.N.xi};this.b.saving_icon.D(!0);this.FJ=!0;z(a);console.log("SAVING NOW!")},RS:function(){this.b.saving_icon.D(!1);this.FJ=!1},WX:function(){1==R.t.N.Ip&&this.b.quickedit_button.D(!1)},uE:function(){if(0<A.length)for(var a=0;a<A.length;a++){var c=JSON.parse(A[a]);c.moveTo&&(!R.Ai(c.id)||R.Ai(c.id)&&!1==R.Ai(c.id).Xg)?
(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),A.splice(a,1))}},DW:function(){if(!0==MapMaster){var a=R.pN(),c;for(c in a)if(!1==a[c].Fx){var d=10*Math.random()+1,e=a[c].ic();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].zX(e,d)}}}});var Ga=q.Oa.extend({rd:null,J3:!1,YD:function(a){console.log("setting focused: "+a);a&&!0==a?this.rd.P.focus():(console.log("blurrin"),this.rd.P.blur())},kD:function(){console.log("isfocused\x3d"+document.activeElement==this.rd.P);return document.activeElement==this.rd.P},na:function(a){this.rd.je(a)},QC:function(){return this.rd.ba()},w:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h,k){h&&!1!=h?(this.rd=MultiLineBox.create(q.size(c.width,c.height),k?q.Xd.create(k):
q.Xd.create()),this.rd.jt(q.n(f.q,f.p,f.o))):(this.rd=SingleLineBox.create(q.size(c.width,c.height),k?q.Xd.create(k):q.Xd.create()),c=ka(f.q,f.p,f.o),this.rd.P.style.background=c);this.rd.je(e);this.rd.kS=e;this.rd.ZD(q.n(g.q,g.p,g.o));this.rd.l(d.x,d.y);this.rd.A(q.a(0,1));this.rd.pg(this);a.f(this.rd);this.w()}});var Ha=Ga.extend({xl:function(a){a.je("")},yl:function(a,c){c||("/"==a.ba().substring(0,1)?this.sW(a.ba()):0<a.ba().length&&S.rc(a.ba(),!0));a.je(G["Default ChatBar Message"])},sW:function(a){D.g().ld.Sh(a)},vi:function(a,c){a.je(c);q.log("chatBox "+this.qG(a)+", TextChanged, text: "+c)},qG:function(){return"chatbox"}}),Z=null,S=q.Vc.extend({pC:null,LH:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].QC());this.b.chat_panel.label0.na(a);for(d=1;8>d;d++)this.b.chat_panel["label"+
d].na(c[d-1])},sc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),$:"GUI/chat.png",e:q.a(0,0),opacity:200,position:q.a(0,0),children:{chatbar:{size:q.size(390,22),position:q.a(5,124),color:q.i(255,255,255,255)},label7:{label:"",position:q.a(5,0),e:q.a(0,0),color:q.n(0,0,0)},label6:{label:"",position:q.a(5,15),e:q.a(0,0),color:q.n(0,0,0)},label5:{label:"",position:q.a(5,30),e:q.a(0,0),color:q.n(0,0,0)},label4:{label:"",position:q.a(5,45),e:q.a(0,0),color:q.n(0,0,0)},label3:{label:"",
position:q.a(5,60),e:q.a(0,0),color:q.n(0,0,0)},label2:{label:"",position:q.a(5,75),e:q.a(0,0),color:q.n(0,0,0)},label1:{label:"",position:q.a(5,90),e:q.a(0,0),color:q.n(0,0,0)},label0:{label:"",position:q.a(5,105),e:q.a(0,0),color:q.n(0,0,0)}}}}}}}});
S.create=function(){Z||(Z=new S,Z.b=ra(Z),Z.f(Z.b),Z.pC=new Ha(Z.b.chat_panel.chatbar,q.size(Z.b.chat_panel.chatbar.c().width-4,Z.b.chat_panel.chatbar.c().height),q.a(2,Z.b.chat_panel.chatbar.c().height),G["Default ChatBar Message"],q.n(255,255,255),q.n(0,0,0)),S.jJ(),S.eY());return Z};S.g=function(){return Z};S.rc=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(z({chatMessage:a}),Z.LH(R.t.N.getName()+": "+a)):Z.LH(a)};S.show=function(){Z.b.Cc(0)};S.jJ=function(){Z.b.Cc(-76)};
S.wU=function(){return 0!=Z.b.u.U?!1:!0};S.YD=function(a){Z.pC.YD(a)};S.kD=function(){return Z.pC.kD()};S.showHelp=function(){S.rc(G["Help Text"])};S.aY=function(){S.rc(G["Command Text"])};S.eY=function(){S.rc(G["Welcome Message"])};S.kf=function(){Z.b.K();Z.b=null};S.kt=function(){Z.K();Z=null};var $=Ga.extend({Zp:!1,YJ:!1,nI:!1,jD:!1,xl:function(a){!1==this.nI&&a.je("");this.jD=!0},kq:function(a){this.rd.kq(a)},S7:function(){return this.jD},yl:function(a){this.jD=!1;null==a.ba()||""==a.ba().length&&this.YJ?this.Zp=!0:0<!a.ba().length?(a.je(this.rd.kS),this.Zp=!1):this.Zp=!0},vi:function(a,c){a.je(c);this.Zp=!0},qG:function(){return"name_entry"},ba:function(){return!0==this.Zp||!0==this.jS?this.rd.ba():null},je:function(a){this.rd.je(a);this.Zp=!0},lb:function(a){this.jS=a},Sc:function(a){this.YJ=
a},QK:function(a){this.nI=a},w:function(){}});var Ia,io=null,A=[];
setupserver=function(){Ia=io.connect(la["SERVER:PORT"],{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});Ia.on("connect",function(){W.Ky();W.yM();W.KN();console.log("Client has connected to the server!");if(D){var a=D.g().ld;a?a.Wn(!0):A.push(JSON.stringify({connect:!0}))}else A.push(JSON.stringify({connect:!0}))});Ia.on("message",function(a){reactToSocketMessage(a)});Ia.on("disconnect",function(){console.log("The client has disconnected!");var a=D.g().ld;a?a.Wn(!1):
A.push(JSON.stringify({disconnect:!0}))})};
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&W.YL(a.mapdata,a.maptime),a.warpdata&&W.ry(a.warpdata,a.warptime),a.itemdata&&W.Bt(a.itemdata,a.itemtime),a.skillsdata&&W.EE(a.skillsdata,a.skillstime),a.signsdata&&W.qy(a.signsdata,a.signstime),a.npcsdata&&W.ZL(a.npcsdata,a.npcstime),a.questdata&&W.py(a.questdata,a.queststime),a.shopsdata&&W.fM(a.shopsdata,a.shopstime),a.settingsdata&&
(W.DE(a.settingsdata,a.settingstime),G=Ba(G,a.settingsdata)),a.scriptsdata&&W.eM(a.scriptsdata,a.scriptstime),na=!0;else if(c=D.g().ld)if(a.connect?c.Wn(!0):a.disconnect&&c.Wn(!1),"Game"==c.Hc())if(a.newPlayer)R.nR({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});else if(a.playerLeft)R.Ai(a.playerLeft).lg==R.t.N.lg&&(MapMaster=!1),R.mI(a.playerLeft);else if(a.setTo)if(!R.Ai(a.id)||R.Ai(a.id)&&!1==R.Ai(a.id).Xg){for(c=0;c<A.length;c++)d=JSON.parse(A[c]),d.moveTo&&null!=d.moveTo&&d.id==
a.id&&(A.splice(c,1),c--);R.tV({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}});R.Ai(a.id).lg==R.t.N.lg&&(MapMaster=!1);R.KR(a.id,a.mapnumber)}else A.push(JSON.stringify(a));else a.moveTo?!R.Ai(a.id)||R.Ai(a.id)&&!1==R.Ai(a.id).Xg?R.QU({id:a.id,location:{position:a.position,mapnumber:a.mapnumber}}):A.push(JSON.stringify(a)):a.chatMessage?S.rc(a.chatMessage):a.coinflip?S.rc(a.coinflip):a.diceroll?S.rc(a.diceroll):a.dance?S.rc(a.dance):a.afk?R.LR(a.afk):a.savemap?(W.IR(a.savemap,a.mapdata,
a.updatetime),V.YX(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(W.SR(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.dJ()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.hb=ObjectLists.dJ(),Warpeditor.pa())):a.savewarpswhole?(W.TV(a.savewarpswhole,a.updatetime),ObjectLists.UX(a.savewarpswhole)):a.savescripts?(W.NR(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.Ie()[parseInt(a.savescripts)]=a.scriptsdata,Scripteditor&&(Scripteditor.hb=ObjectLists.Ie(),Scripteditor.pa())):
a.savescriptswhole?(W.PV(a.savescriptswhole,a.updatetime),ObjectLists.HX(a.savescriptswhole)):a.savesettings?(W.DE(a.savesettings,a.updatetime),G=Ba(G,a.savesettings),Settingseditor&&(Settingseditor.data=I(G),Settingseditor.nb())):a.savequests?(W.MR(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.Xp()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.hb=ObjectLists.Xp(),Questeditor.pa())):a.savequestswhole?(n,W.OV(a.savequestswhole,a.updatetime),ObjectLists.CX(a.savequestswhole)):
a.saveshops?(W.OR(parseInt(a.saveshops),a.shopsdata,a.updatetime),ObjectLists.Rs()[parseInt(a.saveshops)]=a.shopsdata,Shopeditor&&(Shopeditor.hb=ObjectLists.Rs(),Shopeditor.pa())):a.saveshopswhole?(W.QV(a.saveshopswhole,a.updatetime),ObjectLists.IX(a.saveshopswhole)):a.saveskills?(W.QR(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.vk()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.hb=ObjectLists.vk(),Skillseditor.pa()),U.update(),Skills&&Skills.Qa()):a.saveskillswhole?
(W.SV(a.saveskillswhole,a.updatetime),ObjectLists.KX(a.saveskillswhole),U.update(),Skills&&Skills.Qa()):a.savesigns?(W.PR(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.WI()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.hb=ObjectLists.WI(),Signeditor.pa())):a.moveNPC?(a.npcID=parseInt(a.npcID),!R.Tp(a.npcID)||R.Tp(a.npcID)&&!1==R.Tp(a.npcID).Xg?R.PU(a.npcID,a.moveNPC,a.mapnumber):A.push(JSON.stringify(a))):a.changeNPCPosition?R.Tp(a.npcID)&&(a.npcID=parseInt(a.npcID),R.Tp(a.npcID)&&
!1==R.Tp(a.npcID).Xg?R.jW(a.npcID,a.changeNPCPosition):A.push(JSON.stringify(a))):a.savesignswhole?(W.RV(a.savesignswhole,a.updatetime),ObjectLists.JX(a.savesignswhole)):a.savenpcs?(W.JR(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Up()[parseInt(a.savenpcs)]=a.npcsdata,V.Yp(V.nf(),!0),NPCeditor&&(NPCeditor.hb=ObjectLists.Up(),NPCeditor.pa())):a.savenpcswhole?(W.NV(a.savenpcswhole,a.updatetime),ObjectLists.mX(a.savenpcswhole),V.Yp(V.nf(),!0),NPCeditor&&(NPCeditor.hb=ObjectLists.Up(),NPCeditor.pa())):
a.saveitems?(W.HR(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Xb()[parseInt(a.saveitems)].name,ObjectLists.Xb()[parseInt(a.saveitems)]=a.itemdata,V.Yp(V.nf()),Itemeditor&&(Itemeditor.hb=ObjectLists.Xb(),Itemeditor.pa()),Inventory&&Inventory.Qa(),R.t.N.Bt(c,a.itemdata)):a.droppeditem?a.mapnumber==V.nf()&&!1==V.g().Wg?(c=V.aJ(a.index),c.NH(a.droppeditem,a.amount),V.Ct()):A.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==V.nf()&&(c=V.aJ(a.pickupitem),c.removeItem(),V.Ct()):a.saveitemswhole?
(W.MV(a.saveitemswhole,a.updatetime),ObjectLists.eX(a.saveitemswhole)):a.savesuccess&&c.RS();else"Login"==c.Hc()&&(a.login_success?c.TU(a.login_success):a.login_fail?c.Ax(a.login_fail):a.registrationsuccess?c.XR():a.registrationfailed&&c.NS(a.registrationfailed));else A.push(JSON.stringify(a))};function z(a){Ia.send(JSON.stringify(a))}var Ja=document.createElement("SCRIPT");Ja.type="text/javascript";Ja.src=document.ccConfig["SERVER:PORT"]+"/socket.io/socket.io.js";Ja.onreadystatechange=setupserver;
Ja.onload=setupserver;document.getElementById("gameCanvas").appendChild(Ja);var D=q.Vc.extend({t:null,Lp:null,ld:null,JH:null,w:function(){Aa();q.ra.g().DX(this.fV);var a=q.ra.g().vn();this.Lp=q.v.create();this.Lp.r(q.n(0,0,0));this.Lp.ib(q.rect(0,0,a.width,a.height));this.Lp.A(q.a(0,0));this.f(this.Lp);W.g()&&na?(G=Ba(G,W.OC()),this.Bl("Login",{}),this.lc(this.aI),autoLoginNextTime=W.yJ(),rememberLoginNextTime=W.EJ()):this.lc(this.kJ)},fV:function(){if(D.g().ld){var a=q.ra.g();P=q.size(a.vn().width,a.vn().height);D.g().Lp.ib(q.rect(0,0,P.width,P.height));D.g().ld.uD()}},
kJ:function(){W.g()&&na&&io&&(this.Uc(this.kJ),G=Ba(G,W.OC()),this.Bl("Login",{}),this.lc(this.aI),autoLoginNextTime=W.yJ(),rememberLoginNextTime=W.EJ())},aI:function(){for(var a in ma)if(!0==ma[a]&&null!=this.ld){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";
break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.ld.tD(c)}},Bl:function(a,c){null!=this.ld&&(this.ld.xa(),this.ld.K(),this.ld=null);switch(a){case "Login":this.ld=new Login;break;case "Game":this.ld=new Fa}this.ld.jM();this.f(this.ld,1);this.ld.cX(a);this.ld.pa();
this.ld.w(c)},u4:function(){return this.ld.Hc()}});D.g=function(){null==this.t&&(this.t=new D);return this.t};D.Un=function(a){null==this.t&&(this.t=new D);this.t.JH=a};D.TS=function(){null==this.t&&(this.t=new D);return this.t.JH};var P;
new (q.Ik.extend({Rw:document.ccConfig,ctor:function(){this._super();q.Jt=this.Rw.COCOS2D_DEBUG;q.Yl(this.Rw.tag);q.xy.ZX().xS()},yR:function(){var a=this.Rw,c=q.fa.g(),d=q.ra.g();d.mW(!0);P=d.vn();q.size(P.width,P.height);var e=q.size(P.width,P.height),f=q.Wd.g();q.Ik.g();f.nL(["res/Graphics"]);q.Uh&&q.Uh.g().nba("res/Audio");c.RW(1);d.WD(e.width,e.height,q.po.SHOW_ALL);c.it(1/a.frameRate);a.test?q.test(a.test):q.HU(function(a){q.$y.AD(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=D.g();q.fa.g().zK(a);a.w()})});return!0}}));
//@ sourceMappingURL=sourcemap