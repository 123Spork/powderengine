var b,aa={M0:"GUI/bankeditor_icon.png",O0:"GUI/book.png",R0:"GUI/btnDown.png",S0:"GUI/btnLeft.png",T0:"GUI/btnRight.png",U0:"GUI/btnUp.png",l1:"GUI/chat.png",k1:"GUI/chat_icon.png",m1:"GUI/close.png",x1:"GUI/cross_icon.png",C1:"GUI/defaultitem.png",R1:"GUI/edit.png",S1:"GUI/editor-tab.png",V1:"GUI/equipment.png",U1:"GUI/equipment_icon.png",W1:"GUI/event_panel.png",c6:"GUI/healthbar.png",v6:"GUI/inventory.png",u6:"GUI/inventory_icon.png",j7:"GUI/itemeditor_bg.png",k7:"GUI/itemeditor_icon.png",l7:"GUI/itemeditor_tab1_bg.png",
m7:"GUI/itemeditor_tab2_bg.png",n7:"GUI/itemeditor_tab3_bg.png",B7:"GUI/list_panel.png",J7:"GUI/logout.png",N7:"GUI/mapeditor_icon.png",T7:"GUI/npceditor_icon.png",Z8:"GUI/questeditor_icon.png",a9:"GUI/quickedit_closed_icon.png",b9:"GUI/quickedit_opened_icon.png",c9:"GUI/quickmenu_closed_icon.png",d9:"GUI/quickmenu_opened_icon.png",L9:"GUI/scripteditor_icon.png",Yaa:"GUI/settings_icon.png",Zaa:"GUI/shopeditor_icon.png",bba:"GUI/signeditor_bg.png",cba:"GUI/signeditor_icon.png",dba:"GUI/signpost.png",
eba:"GUI/skilleditor_icon.png",gba:"GUI/skills.png",fba:"GUI/skills_icon.png",iba:"GUI/splash.png",Jba:"GUI/texture_change_left.png",Kba:"GUI/texture_change_middle.png",Lba:"GUI/texture_change_right.png",Mba:"GUI/tick_icon.png",Vba:"GUI/trash.png",dca:"GUI/use.png",lca:"GUI/warpeditor_bg.png",mca:"GUI/warpeditor_icon.png",V0:"building1.png",j1:"character_graphics.txt",o7:"items1.png",jba:"sprites1.png",Nba:"tile_graphics.txt",Oba:"tiles1.png"};var q=q||{},ba={};q.rT=function(a){var c=q.RC[ba.TI.AE];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={TI:{AE:"_0"}};q.RC={};q.RC[ba.TI.AE]=[];q.RC.lQ=[];var io="undefined"===typeof module?{}:module.lc;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,gn:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.yp(1<g.path.length?g.path:"")}})("object"===typeof module?module.lc:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,t=g.length;h<t;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.lc,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.vf||(this.vf={});this.vf[a]?d.util.isArray(this.vf[a])?this.vf[a].push(c):this.vf[a]=[this.vf[a],c]:this.vf[a]=c;return this};e.prototype.QT=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.Jw=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.vf&&this.vf[a]){var e=this.vf[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].Jw&&e[l].Jw===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.vf[a]}else(e===c||e.Jw&&e.Jw===c)&&delete this.vf[a]}return this};e.prototype.$o=function(a){if(!this.vf)return!1;var c=this.vf[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.lc,"undefined"!=typeof io?io:module.parent.lc);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,Q,P=c[a];P instanceof Date&&(P=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof p&&(P=p.call(c,a,P));switch(typeof P){case "string":return f(P);
case "number":return isFinite(P)?String(P):"null";case "boolean":case "null":return String(P);case "object":if(!P)return"null";m+=n;Q=[];if("[object Array]"===Object.prototype.toString.apply(P)){l=P.length;for(d=0;d<l;d+=1)Q[d]=g(d,P)||"null";k=0===Q.length?"[]":m?"[\n"+m+Q.join(",\n"+m)+"\n"+r+"]":"["+Q.join(",")+"]";m=r;return k}if(p&&"object"===typeof p)for(l=p.length,d=0;d<l;d+=1)"string"===typeof p[d]&&(h=p[d],(k=g(h,P))&&Q.push(f(h)+(m?": ":":")+k));else for(h in P)Object.prototype.hasOwnProperty.call(P,
h)&&(k=g(h,P))&&Q.push(f(h)+(m?": ":":")+k);k=0===Q.length?"{}":m?"{\n"+m+Q.join(",\n"+m)+"\n"+r+"}":"{"+Q.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},p;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((p=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.lc,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.pw||"",m=a.Vo,z=null;switch(a.type){case "error":var D=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==D||""!==a)z=D+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(z=a.data);break;case "event":z=
{name:a.name};a.Le&&a.Le.length&&(z.Le=a.Le);z=k.stringify(z);break;case "json":z=k.stringify(a.data);break;case "connect":a.UI&&(z=a.UI);break;case "ack":z=a.Wo+(a.Le&&a.Le.length?"+"+k.stringify(a.Le):"")}c=[c,d+("data"==m?"+":""),e];null!==z&&void 0!==z&&c.push(z);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],pw:c[4]||""};d&&(e.id=d,e.Vo=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.Le=l.Le}catch(z){}e.Le=e.Le||[];break;case "json":try{e.data=k.parse(a)}catch(D){}break;case "connect":e.UI=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.Wo=c[1],e.Le=[],c[3])try{e.Le=c[3]?k.parse(c[3]):
[]}catch(C){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.lc,"undefined"!=typeof io?io:module.parent.lc);(function(a,d){function e(a,c){this.rb=a;this.mV=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.XH=function(){return!0};e.prototype.ys=function(a){this.wB();
(this.rb.bh||this.rb.ng||this.rb.Ym)&&this.sJ();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.zs(a[c])};e.prototype.zs=function(a){this.rb.CJ();if("heartbeat"==a.type)return this.CT();"connect"==a.type&&""==a.pw&&this.wC();"error"==a.type&&"reconnect"==a.advice&&(this.ns=!1);this.rb.zs(a);return this};e.prototype.sJ=function(){if(!this.Yo){var a=this;this.Yo=setTimeout(function(){a.Sm()},this.rb.Yo)}};e.prototype.Sm=function(){this.ns&&this.close();this.xB();
this.rb.Sm();return this};e.prototype.wC=function(){this.rb.wC();return this};e.prototype.wB=function(){this.Yo&&(clearTimeout(this.Yo),this.Yo=null)};e.prototype.xB=function(){this.wB();this.SU&&clearTimeout(this.SU)};e.prototype.Qf=function(a){this.send(d.parser.encodePacket(a))};e.prototype.CT=function(){this.Qf({type:"heartbeat"})};e.prototype.Lw=function(){this.ns=!0;this.wB();this.rb.Lw()};e.prototype.Vh=function(){this.ns=!1;this.rb.Vh();this.Sm()};e.prototype.Bs=function(){var a=this.rb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.Xw+"/"+d.protocol+"/"+this.name+"/"+this.mV};e.prototype.Rw=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.lc,"undefined"!=typeof io?io:module.parent.lc);(function(a,d,e){function f(a){this.options={port:80,gn:!1,document:"document"in e?document:!1,Xw:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.Ym=this.ng=this.open=this.bh=!1;this.namespaces={};this.buffer=[];this.EB=!1;if(this.options["sync disconnect on unload"]&&(!this.op()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.eR()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.yp=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].Qf({type:"connect"}));return this.namespaces[a]};f.prototype.jl=function(){this.$o.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.yp(c),a.ck.apply(a,arguments))};f.prototype.zS=function(a){function c(d){d instanceof Error?(e.ng=!1,e.Tm(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.gn?"s":"")+":/",f.host+":"+f.port,f.Xw,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.op()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var p=d.util.request();p.open("GET",f,!0);this.op()&&(p.withCredentials=!0);p.onreadystatechange=function(){4==p.readyState&&(p.onreadystatechange=g,200==p.status?c(p.responseText):403==p.status?e.Tm(p.responseText):(e.ng=!1,
!e.Ym&&e.Tm(p.responseText)))};p.send(null)}};f.prototype.OH=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Em(this)&&(!this.op()||d.Transport[e].Zs(this)))return new d.Transport[e](this,this.kJ);return null};f.prototype.connect=function(a){if(this.ng)return this;var c=this;c.ng=!0;this.zS(function(e,f,g,r){function p(a){c.We&&c.We.xB();c.We=c.OH(a);c.We?c.We.Rw(c,function(){c.ng=!0;c.jl("connecting",c.We.name);c.We.open();c.options["connect timeout"]&&
(c.IQ=setTimeout(function(){if(!c.bh&&(c.ng=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.We.name;);a.length?p(a):c.jl("connect_failed")}},c.options["connect timeout"]))}):c.jl("connect_failed")}c.kJ=e;c.Yo=1E3*g;c.ES=1E3*f;c.transports||(c.transports=c.RT=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.CJ();p(c.transports);c.QT(function(){clearTimeout(c.IQ);a&&"function"==typeof a&&a()})});return this};f.prototype.CJ=
function(){clearTimeout(this.WH);if(!this.We||this.We.XH()){var a=this;this.WH=setTimeout(function(){a.We.Vh()},this.ES)}};f.prototype.Qf=function(a){this.bh&&!this.EB?this.We.Qf(a):this.buffer.push(a);return this};f.prototype.Wj=function(a){this.EB=a;!a&&this.bh&&this.buffer.length&&(this.options.manualFlush||this.wR())};f.prototype.wR=function(){this.We.LI(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.bh||this.ng)this.open&&this.yp("").Qf({type:"disconnect"}),this.Sm("booted");
return this};f.prototype.eR=function(){var a=d.util.request();a.open("GET",["http"+(this.options.gn?"s":"")+":/",this.options.host+":"+this.options.port,this.options.Xw,d.protocol,"",this.kJ].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.Sm("booted")};f.prototype.op=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.wC=function(){this.bh||(this.bh=!0,this.ng=!1,this.EB||this.Wj(!1),this.$o("connect"))};
f.prototype.Lw=function(){this.open=!0};f.prototype.Vh=function(){this.open=!1;clearTimeout(this.WH)};f.prototype.zs=function(a){this.yp(a.pw).zs(a)};f.prototype.Tm=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.bh||this.ng)&&(this.disconnect(),this.options.Sw&&this.Sw());this.jl("error",a&&a.reason?a.reason:a)};f.prototype.Sm=function(a){var c=this.bh,d=this.ng;this.open=this.ng=this.bh=!1;if(c||d)this.We.close(),this.We.xB(),c&&(this.jl("disconnect",a),"booted"!=a&&this.options.Sw&&!this.Ym&&
this.Sw())};f.prototype.Sw=function(){function a(){if(d.bh){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].Qf({type:"connect"});d.jl("reconnect",d.We.name,d.Tw)}clearTimeout(d.Uw);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.Ym=!1;delete d.Tw;delete d.Zm;delete d.Uw;delete d.YI;d.options["try multiple transports"]=f}function c(){if(d.Ym){if(d.bh)return a();if(d.ng&&d.Ym)return d.Uw=setTimeout(c,1E3);d.Tw++>=e?d.YI?(d.jl("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.RT,d.We=d.OH(),d.YI=!0,d.connect()):(d.Zm<g&&(d.Zm*=2),d.connect(),d.jl("reconnecting",d.Zm,d.Tw),d.Uw=setTimeout(c,d.Zm))}}this.Ym=!0;this.Tw=0;this.Zm=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.Uw=setTimeout(c,this.Zm);this.on("connect",c)}})("undefined"!=
typeof io?io:module.lc,"undefined"!=typeof io?io:module.parent.lc,this);(function(a,d){function e(a,c){this.rb=a;this.name=c||"";this.rw={};this.iT=new f(this,"json");this.GG=0;this.Rr={}}function f(a,c){this.xp=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.ck=d.EventEmitter.prototype.$o;e.prototype.yp=function(){return this.rb.yp.apply(this.rb,arguments)};e.prototype.Qf=function(a){a.pw=this.name;this.rb.Qf(a);this.rw={};return this};e.prototype.send=function(a,c){var d=
{type:this.rw.iT?"json":"message",data:a};"function"==typeof c&&(d.id=++this.GG,d.Vo=!0,this.Rr[d.id]=c);return this.Qf(d)};e.prototype.$o=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.GG,e.Vo="data",this.Rr[e.id]=d,c=c.slice(0,c.length-1));e.Le=c;return this.Qf(e)};e.prototype.disconnect=function(){""===this.name?this.rb.disconnect():(this.Qf({type:"disconnect"}),this.ck("disconnect"));return this};e.prototype.zs=
function(a){function c(){e.Qf({type:"ack",Le:d.util.toArray(arguments),Wo:a.id})}var e=this;switch(a.type){case "connect":this.ck("connect");break;case "disconnect":""===this.name?this.rb.Sm(a.reason||"booted"):this.ck("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.Vo?f.push(c):a.Vo&&this.Qf({type:"ack",Wo:a.id});this.ck.apply(this,f);break;case "event":f=[a.name].concat(a.Le);"data"==a.Vo&&f.push(c);this.ck.apply(this,f);break;case "ack":this.Rr[a.Wo]&&
(this.Rr[a.Wo].apply(this,a.Le),delete this.Rr[a.Wo]);break;case "error":a.advice?this.rb.Tm(a):"unauthorized"==a.reason?this.ck("connect_failed",a.reason):this.ck("error",a.reason)}};f.prototype.send=function(){this.xp.rw[this.name]=!0;this.xp.send.apply(this.xp,arguments)};f.prototype.$o=function(){this.xp.rw[this.name]=!0;this.xp.$o.apply(this.xp,arguments)}})("undefined"!=typeof io?io:module.lc,"undefined"!=typeof io?io:module.parent.lc);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.Eg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.rb.options.query),c=this,f;f||(f=e.VY||e.yM);this.Eg=new f(this.Bs()+a);this.Eg.onopen=function(){c.Lw();c.rb.Wj(!1)};this.Eg.onmessage=function(a){c.ys(a.data)};this.Eg.onclose=function(){c.Vh();c.rb.Wj(!0)};this.Eg.onerror=function(a){c.Tm(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.Eg.send(a)},0);return this}:function(a){this.Eg.send(a);
return this};f.prototype.LI=function(a){for(var c=0,d=a.length;c<d;c++)this.Qf(a[c]);return this};f.prototype.close=function(){this.Eg.close();return this};f.prototype.Tm=function(a){this.rb.Tm(a)};f.prototype.scheme=function(){return this.rb.options.gn?"wss":"ws"};f.Em=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.Zs=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.lc,"undefined"!=typeof io?io:module.parent.lc,
this);(function(c,d){function e(){d.Transport.Eg.apply(this,arguments)}c.p2=e;d.util.inherit(e,d.Transport.Eg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.lu(function(){d.Transport.Eg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.lu(function(){d.Transport.Eg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.iq.length=0;d.Transport.Eg.prototype.close.call(this);return this};
e.prototype.Rw=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.gn?"s":"")+":/",d.host+":"+d.port,d.Xw,"static/flashsocket","WebSocketMain"+(a.op()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.qT("xmlsocket://"+d.host+":"+h),WebSocket.Ky(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Em=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.HR().vT:!1};e.Zs=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.lc,"undefined"!=typeof io?io:module.parent.lc);if("undefined"!=typeof window)var a=function(){function c(){if(!ia){try{var a=J.getElementsByTagName("body")[0].appendChild(J.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ia=!0;for(var a=ua.length,d=0;d<a;d++)ua[d]()}}function d(a){ia?
a():ua[ua.length]=a}function e(a){if(typeof Z.addEventListener!=M)Z.addEventListener("load",a,!1);else if(typeof J.addEventListener!=M)J.addEventListener("load",a,!1);else if(typeof Z.attachEvent!=M)v(Z,a);else if("function"==typeof Z.onload){var c=Z.onload;Z.onload=function(){c();a()}}else Z.onload=a}function f(){var a=J.getElementsByTagName("body")[0],c=J.createElement(Q);c.setAttribute("type",P);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=M){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),E.Bp=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ga.length;if(0<a)for(var c=0;c<a;c++){var d=ga[c].id,e=ga[c].oQ,f={qn:!1,id:d};if(0<E.Bp[0]){var g=t(d);if(g)if(!z(ga[c].WW)||E.bk&&312>E.bk)if(ga[c].qH&&k()){f={};f.data=ga[c].qH;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.pba=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),r=g.length,p=0;p<r;p++)"movie"!=g[p].getAttribute("name").toLowerCase()&&(n[g[p].getAttribute("name")]=g[p].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else C(d,!0),e&&(f.qn=!0,f.ZI=h(d),e(f))}else C(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=M&&(f.qn=!0,f.ZI=d),e(f))}}function h(a){var c=null;(a=t(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=M?c=a:(a=a.getElementsByTagName(Q)[0])&&
(c=a));return c}function k(){return!va&&z("6.0.65")&&(E.ph||E.yI)&&!(E.bk&&312>E.bk)}function l(a,c,d,e){va=!0;Ca=e||null;Ja={qn:!1,id:d};var f=t(d);if(f){"OBJECT"==f.nodeName?(ra=n(f),wa=null):(ra=f,wa=d);a.id=la;if(typeof a.width==M||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==M||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";J.title=J.title.slice(0,47)+" - Flash Player Installation";e=E.hh&&E.ph?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
Z.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+J.title;c.Vr=typeof c.Vr!=M?c.Vr+("\x26"+e):e;E.hh&&E.ph&&4!=f.readyState&&(e=J.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(E.hh&&E.ph&&4!=a.readyState){var c=J.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=J.createElement("div");if(E.ph&&E.hh)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(Q)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=t(d);if(E.bk&&312>E.bk)return e;if(f)if(typeof a.id==
M&&(a.id=d),E.hh&&E.ph){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.S7=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";xa[xa.length]=a.id;e=t(a.id)}else{k=J.createElement(Q);k.setAttribute("type",
P);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=J.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function p(a){var c=t(a);c&&"OBJECT"==c.nodeName&&(E.hh&&E.ph?(c.style.display="none",function(){if(4==c.readyState){var d=t(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function t(a){var c=null;try{c=J.getElementById(a)}catch(d){}return c}function v(a,c){a.attachEvent("onload",c);ma[ma.length]=[a,"onload",c]}function z(a){var c=E.Bp;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function D(a,
c,d,e){if(!E.hh||!E.yI){var f=J.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(Da=ca=null),ca&&Da==d||(e=J.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),ca=f.appendChild(e),E.hh&&E.ph&&typeof J.styleSheets!=M&&0<J.styleSheets.length&&(ca=J.styleSheets[J.styleSheets.length-1]),Da=d),E.hh&&E.ph?ca&&typeof ca.addRule==Q&&ca.addRule(a,c):ca&&typeof J.createTextNode!=M&&ca.appendChild(J.createTextNode(a+" {"+c+"}")))}}function C(a,c){if(Ka){var d=
c?"visible":"hidden";ia&&t(a)?t(a).style.visibility=d:D("#"+a,"visibility:"+d)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=M?encodeURIComponent(a):a}var M="undefined",Q="object",P="application/x-shockwave-flash",la="SWFObjectExprInst",Z=window,J=document,ha=navigator,La=!1,ua=[function(){La?f():g()}],ga=[],xa=[],ma=[],ra,wa,Ca,Ja,ia=!1,va=!1,ca,Da,Ka=!0,E=function(){var a=typeof J.getElementById!=M&&typeof J.getElementsByTagName!=M&&typeof J.createElement!=M,c=ha.userAgent.toLowerCase(),
d=ha.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof ha.plugins!=M&&typeof ha.plugins["Shockwave Flash"]==Q)!(h=ha.plugins["Shockwave Flash"].description)||typeof ha.mimeTypes!=M&&ha.mimeTypes[P]&&!ha.mimeTypes[P].enabledPlugin||(La=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof Z[["Active"].concat("Object").join("X")]!=M)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{wl:a,Bp:g,bk:c,hh:f,ph:e,yI:d}}();(function(){E.wl&&((typeof J.readyState!=M&&"complete"==J.readyState||typeof J.readyState==
M&&(J.getElementsByTagName("body")[0]||J.body))&&c(),ia||(typeof J.addEventListener!=M&&J.addEventListener("DOMContentLoaded",c,!1),E.hh&&E.ph&&(J.attachEvent("onreadystatechange",function(){"complete"==J.readyState&&(J.detachEvent("onreadystatechange",arguments.callee),c())}),Z==top&&function(){if(!ia){try{J.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),E.bk&&function(){ia||(/loaded|complete/.test(J.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){E.hh&&E.ph&&window.attachEvent("onunload",function(){for(var c=ma.length,d=0;d<c;d++)ma[d][0].detachEvent(ma[d][1],ma[d][2]);c=xa.length;for(d=0;d<c;d++)p(xa[d]);for(var e in E)E[e]=null;E=null;for(var f in a)a[f]=null;a=null})})();return{j9:function(a,c,d,e){if(E.wl&&a&&c){var f={};f.id=a;f.WW=c;f.qH=d;f.oQ=e;ga[ga.length]=f;C(a,!1)}else e&&e({qn:!1,id:a})},i4:function(a){if(E.wl)return h(a)},pR:function(a,c,e,f,g,h,m,n,p,t){var v={qn:!1,id:c};E.wl&&!(E.bk&&312>E.bk)&&a&&c&&e&&f&&g?(C(c,
!1),d(function(){e+="";f+="";var d={};if(p&&typeof p===Q)for(var D in p)d[D]=p[D];d.data=a;d.width=e;d.height=f;D={};if(n&&typeof n===Q)for(var Y in n)D[Y]=n[Y];if(m&&typeof m===Q)for(var E in m)D.Vr=typeof D.Vr!=M?D.Vr+("\x26"+E+"\x3d"+m[E]):E+"\x3d"+m[E];if(z(g))Y=r(d,D,c),d.id==c&&C(c,!0),v.qn=!0,v.ZI=Y;else{if(h&&k()){d.data=h;l(d,D,c,t);return}C(c,!0)}t&&t(v)})):t&&t(v)},xba:function(){Ka=!1},ua:E,HR:function(){return{vT:E.Bp[0],O7:E.Bp[1],MC:E.Bp[2]}},BS:z,u1:function(a,c,d){if(E.wl)return r(a,
c,d)},$aa:function(a,c,d,e){E.wl&&k()&&l(a,c,d,e)},x9:function(a){E.wl&&p(a)},t1:function(a,c,d,e){E.wl&&D(a,c,d,e)},m0:d,q0:e,N4:function(a){var c=J.location.search||J.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Y(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Y(c[d].substring(c[d].indexOf("\x3d")+1))}return""},Z1:function(){if(va){var a=t(la);a&&ra&&(a.parentNode.replaceChild(ra,a),wa&&(C(wa,!0),E.hh&&E.ph&&(ra.style.display=
"block")),Ca&&Ca(Ja));va=!1}}}}();(function(){if("undefined"!=typeof window&&!window.yM){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.BS("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.nu=WebSocket.FM++;WebSocket.TE[k.nu]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.Ln={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.lu(function(){WebSocket.hi.create(k.nu,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.hi.send(this.nu,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.KD&&
(this.readyState=WebSocket.KD,WebSocket.hi.close(this.nu))},WebSocket.prototype.addEventListener=function(a,c){a in this.Ln||(this.Ln[a]=[]);this.Ln[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.Ln)for(var f=this.Ln[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.Ln[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.CM=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.RE(a.type);else if("close"==a.type)a=this.RE("close");else if("message"==a.type)a=this.AM(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.RE=function(a){if(document.createEvent&&window.tY){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.AM=function(a){if(document.createEvent&&
window.TY&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.KD=2,WebSocket.CLOSED=3,WebSocket.hi=null,WebSocket.TE={},WebSocket.iq=[],WebSocket.FM=0,WebSocket.qT=function(a){WebSocket.lu(function(){WebSocket.hi.H7(a)})},WebSocket.Ky=function(){if(!WebSocket.hi&&(WebSocket.HM&&(window.xM=WebSocket.HM),window.xM)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.EM()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.pR(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{b6:!0,Aba:!0,D0:"always"},null,function(a){a.qn||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.u_=function(){setTimeout(function(){WebSocket.hi=
document.getElementById("webSocketFlash");WebSocket.hi.Y9(location.href);WebSocket.hi.g$(!!window.f_);for(var a=0;a<WebSocket.iq.length;++a)WebSocket.iq[a]();WebSocket.iq=[]},0)},WebSocket.t_=function(){setTimeout(function(){try{for(var a=WebSocket.hi.e9(),e=0;e<a.length;++e)WebSocket.TE[a[e].nca].CM(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.s_=function(a){c.log(decodeURIComponent(a))},WebSocket.r_=function(a){c.error(decodeURIComponent(a))},WebSocket.lu=function(a){WebSocket.hi?a():WebSocket.iq.push(a)},
WebSocket.EM=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.g_||(window.addEventListener?window.addEventListener("load",function(){WebSocket.Ky()},!1):window.attachEvent("onload",function(){WebSocket.Ky()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.ej=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.rb.Wj(!1);this.Lw();this.get();this.sJ();return this};f.prototype.LI=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.QI(a);return this};f.prototype.QI=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.S8=!1,200==this.status?f.rb.Wj(!1):f.Vh())}function d(){this.onload=
g;f.rb.Wj(!1)}var f=this;this.rb.Wj(!0);this.Ds=this.request("POST");e.XDomainRequest&&this.Ds instanceof XDomainRequest?this.Ds.onload=this.Ds.onerror=d:this.Ds.onreadystatechange=c;this.Ds.send(a)};f.prototype.close=function(){this.Vh();return this};f.prototype.request=function(a){var c=d.util.request(this.rb.op()),e=d.util.query(this.rb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Bs()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.rb.options.gn?"https":"http"};f.Em=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.gn?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(p){}return!1};f.Zs=function(a){return f.Em(a,!0)}})("undefined"!=typeof io?io.Transport:module.lc,"undefined"!=typeof io?io:module.parent.lc,this);(function(a,d){function e(a){d.Transport.ej.apply(this,
arguments)}a.e6=e;d.util.inherit(e,d.Transport.ej);e.prototype.name="htmlfile";e.prototype.get=function(){this.Uk=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.Uk.open();this.Uk.write("\x3chtml\x3e\x3c/html\x3e");this.Uk.close();this.Uk.parentWindow.$h=this;var a=this.Uk.createElement("div");a.className="socketio";this.Uk.body.appendChild(a);this.qg=this.Uk.createElement("iframe");a.appendChild(this.qg);var c=this,a=d.util.query(this.rb.options.query,"t\x3d"+ +new Date);this.qg.src=
this.Bs()+a;d.util.on(window,"unload",function(){c.Ad()})};e.prototype.OE=function(a,c){a=a.replace(/\\\//g,"/");this.ys(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.Ad=function(){if(this.qg){try{this.qg.src="about:blank"}catch(a){}this.Uk=null;this.qg.parentNode.removeChild(this.qg);this.qg=null;CollectGarbage()}};e.prototype.close=function(){this.Ad();return d.Transport.ej.prototype.close.call(this)};e.Em=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.ej.Em(a)}catch(c){}return!1};e.Zs=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.lc,"undefined"!=typeof io?io:module.parent.lc);(function(a,d,e){function f(){d.Transport.ej.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.ej);d.util.merge(f,d.Transport.ej);f.prototype.name="xhr-polling";
f.prototype.XH=function(){return!1};f.prototype.open=function(){d.Transport.ej.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.ys(this.responseText),f.get()):f.Vh())}function c(){this.onerror=this.onload=g;f.SC=1;f.ys(this.responseText);f.get()}function d(){f.SC++;!f.SC||3<f.SC?f.Vh():f.get()}if(this.ns){var f=this;this.bi=this.request();e.XDomainRequest&&this.bi instanceof XDomainRequest?(this.bi.onload=
c,this.bi.onerror=d):this.bi.onreadystatechange=a;this.bi.send(null)}};f.prototype.Vh=function(){d.Transport.ej.prototype.Vh.call(this);if(this.bi){this.bi.onreadystatechange=this.bi.onload=this.bi.onerror=g;try{this.bi.abort()}catch(a){}this.bi=null}};f.prototype.Rw=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.lc,"undefined"!=typeof io?io:module.parent.lc,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.OE(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.QI=function(a){function c(){e();f.rb.Wj(!1)}function e(){f.qg&&f.form.removeChild(f.qg);try{v=document.createElement('\x3ciframe name\x3d"'+f.eC+'"\x3e')}catch(a){v=document.createElement("iframe"),v.name=f.eC}v.id=f.eC;f.form.appendChild(v);f.qg=
v}var f=this,g=d.util.query(this.rb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),p=document.createElement("textarea"),t=this.eC="socketio_iframe_"+this.index,v;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=t;r.method="POST";r.setAttribute("accept-charset","utf-8");p.name="d";r.appendChild(p);document.body.appendChild(r);this.form=r;this.iQ=p}this.form.action=this.Bs()+
g;e();this.iQ.value=d.JSON.stringify(a);try{this.form.submit()}catch(z){}this.qg.attachEvent?v.onreadystatechange=function(){"complete"==f.qg.readyState&&c()}:this.qg.onload=c;this.rb.Wj(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.rb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.gb&&(this.gb.parentNode.removeChild(this.gb),this.gb=null);c.async=!0;c.src=this.Bs()+e;c.onerror=function(){a.Vh()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.gb=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.OE=function(a){this.ys(a);this.ns&&this.get();return this};f.prototype.Rw=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Em=function(){return"document"in e};f.Zs=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.lc,"undefined"!=
typeof io?io:module.parent.lc,this);"function"===typeof define&&define.E0&&define([],function(){return io})})();q=q||{};function da(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}da.id=0|998*Math.random();da.ZS=0|998*Math.random();
da.XG=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.VK(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};da.XG.VK=da;da.SR=function(){return this.id++};da.TR=function(){return this.ZS++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");q.ya=function(){};q.ya.extend=function(d){function e(){this.Wb=da.TR();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=da.SR();da[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=da.XG(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Wb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.g6=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();q.i6=function(a,c){function d(){}d.prototype=c.prototype;a.vx=c.prototype;a.prototype=new d;a.prototype.constructor=a};
q.lQ=function(a,c,d){var e=arguments.callee.caller;if(e.vx)return ret=e.vx.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.vx&&h.vx.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
q.p1=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};q.Hg=function(a,c){this.x=a||0;this.y=c||0};q.PE=function(a,c){this.A=a||0;this.I=c||0;this.YJ=function(a){this.A=a};this.ZJ=function(a){this.I=a}};q.jd=function(){return new q.PE(0,0)};
Object.defineProperties(q.PE.prototype,{x:{get:function(){return this.A},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});q.jZ=function(a,c){q.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new q.Hg(a,c)};
q.a=function(a,c){return{x:a,y:c}};q.U_=q.a;q.aj=function(){return q.a(0,0)};q.MI=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};q.jk=function(a,c){this.width=a||0;this.height=c||0};q.QE=function(a,c){this.Ca=a||0;this.ma=c||0;this.nD=function(a){this.Ca=a};this.bD=function(a){this.ma=a}};q.jm=function(){return new q.QE(0,0)};
Object.defineProperties(q.QE.prototype,{width:{get:function(){return this.Ca},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ma},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});q.OZ=function(a,c){q.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return q.size(a,c)};
q.size=function(a,c){return{width:a,height:c}};q.Xa=q.size;q.Gl=function(){return q.size(0,0)};q.FG={cU:q.jd(),NW:q.jm()};Object.defineProperties(q,{UL:{get:function(){return q.FG.cU}},dM:{get:function(){return q.FG.NW}},oZ:{get:function(){return q.rect(0,0,0,0)}}});q.MW=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
q.Xf=function(a,c,d,e){var f=arguments.length;if(4===f)this.Yc=new q.Hg(a||0,c||0),this.Xa=new q.jk(d||0,e||0);else if(1===f)this.Yc=new q.Hg(a.Yc.x,a.Yc.y),this.Xa=new q.jk(a.Xa.width,a.Xa.height);else if(0===f)this.Yc=new q.Hg(0,0),this.Xa=new q.jk(0,0);else if(2===f)this.Yc=new q.Hg(a.x,a.y),this.Xa=new q.jk(c.width,c.height);else throw"unknown argument type";};q.vZ=function(a,c,d,e){q.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return q.rect(a,c,d,e)};
q.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new q.Xf(0,0,0,0);if(1===f)return new q.Xf(a.x,a.y,a.width,a.height);if(2===f)return new q.Xf(a.x,a.y,c.width,c.height);if(4===f)return new q.Xf(a,c,d,e);throw"unknown argument type";};q.ra=q.rect;q.Vc=function(){return q.rect(0,0,0,0)};q.XI=function(a,c){return a&&c?q.MI(a.Yc,c.Yc)&&q.MW(a.Xa,c.Xa):!1};q.kr=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
q.f9=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};q.$m=function(a){return a.x+a.width};q.g9=function(a){return a.x+a.width/2};q.kl=function(a){return a.x};q.an=function(a){return a.y+a.height};q.h9=function(a){return a.y+a.height/2};q.ll=function(a){return a.y};q.nb=function(a,c){return c.x>=q.kl(a)&&c.x<=q.$m(a)&&c.y>=q.ll(a)&&c.y<=q.an(a)};q.tU=function(a,c){return!(q.$m(a)<q.kl(c)||q.$m(c)<q.kl(a)||q.an(a)<q.ll(c)||q.an(c)<q.ll(a))};
q.i9=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};q.Vw=function(a,c){var d=q.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};q.sU=function(a,c){var d=q.rect(Math.max(q.kl(a),q.kl(c)),Math.max(q.ll(a),q.ll(c)),0,0);d.width=Math.min(q.$m(a),q.$m(c))-q.kl(d);d.height=Math.min(q.an(a),q.an(c))-q.ll(d);return d};b=q.Xf.prototype;
b.YJ=function(a){this.Yc.x=a};b.ZJ=function(a){this.Yc.y=a};b.hs=function(){return this.Xa.width};b.nD=function(a){this.Xa.width=a};b.bs=function(){return this.Xa.height};b.bD=function(a){this.Xa.height=a};
Object.defineProperties(q.Xf.prototype,{x:{get:function(){return this.Yc.x},set:function(a){this.YJ(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Yc.y},set:function(a){this.ZJ(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.hs()},set:function(a){this.nD(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.bs()},set:function(a){this.bD(a)},enumerable:!0,configurable:!0}});var s=s||{};try{s.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(ea){"SECURITY_ERR"!==ea.name&&"QuotaExceededError"!==ea.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),s.localStorage=function(){}}
Object.defineProperties(s,{b1:{get:function(){var a={canvas:!0};q.Ba.Hc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},n8:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return q.gt},enumerable:!0,configurable:!0}});s.u2=function(){};
s.O1=function(){};s.I9=function(){};q.gt="Cocos2d-html5-v2.2.2";q.At=0;q.YD=q.a(0,0);q.$K=0.5;q.PX=1;q.eM=1;q.RL=0;q.GE=0;q.QZ=0;q.RZ=0;q.rZ=1;q.qZ="-hd";q.tM=1;q.ik=0;q.LZ=0;q.MY=0;q.LY=0;q.ay=1;q.ZX=q.gt+"-canvas";q.fw={platform:s.platform};q.N1=function(){for(var a in s)q.log(a+" \x3d "+s[a])};q.ft=1;q.$D=1;q.YG=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};q.Ba={};q.Ba.lX=["baidubrowser","opera","firefox","chrome","safari"];
(function(){q.Ba.ua=navigator.userAgent.toLowerCase();q.Ba.platform=navigator.platform.toLowerCase();q.Ba.Tj=-1!=q.Ba.ua.indexOf("mobile")||-1!=q.Ba.ua.indexOf("android");q.Ba.type=function(){var a=q.Ba.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||q.Ba.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();q.Ba.mode="ie"==q.Ba.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});q.eB=parseInt(document.ccConfig.renderMode)||0;var a=-1==q.Ba.lX.indexOf(q.Ba.type);1===q.eB||0===q.eB&&(q.Ba.Tj||a)?q.Ba.Hc=!1:(q.Ba.Hc=null!=window.j_,a=document.createElement("Canvas"),a=q.YG(a,{stencil:!0,preserveDrawingBuffer:!0}),q.Ba.Hc=null!=a);2!==q.eB||q.Ba.Hc||(q.Ly=!0);var a=q.Ba,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.qba=c;q.Ba.k8=function(a){if(this.Tj){var c=q.T.e().Kb,d=c.width+"px",c=c.height+"px",h=q.dk("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.oX=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=q.dk("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.oX=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();q.wZ=function(){return"undefined"===q.Ly?!1:q.Ly};
q.Hb=function(a){var c=this==q?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||q.Hb,a.aC=a.aC||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.KG=a.KG||function(a){this.aC(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.KU=a.KU||function(a){this.aC(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Cm=a.Cm||
function(a){a.appendChild(this);return this},a.mU=a.mU||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.sn=a.sn||function(){this.style[q.Hb.$W]=q.Hb.translate(this.position)+q.Hb.rotate(this.rotation)+q.Hb.scale(this.scale)+q.Hb.tl(this.tl);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.tl=a.tl||{x:0,y:0},a.vD=function(a,c){this.position.x=a;this.position.y=c;this.sn()},a.rotate=function(a){this.rotation=
a;this.sn();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.sn();return this},a.PJ=function(a,c){this.tl.x=a;this.tl.y=c;this.sn()};return a};switch(q.Ba.type){case "firefox":q.Hb.Ap="Moz";q.Hb.jp=!0;break;case "chrome":case "safari":q.Hb.Ap="webkit";q.Hb.jp=!0;break;case "opera":q.Hb.Ap="O";q.Hb.jp=!1;break;case "ie":q.Hb.Ap="ms";q.Hb.jp=!1;break;default:q.Hb.Ap="webkit",q.Hb.jp=!0}q.Hb.$W=q.Hb.Ap+"Transform";
q.Hb.translate=q.Hb.jp?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};q.Hb.rotate=q.Hb.jp?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};q.Hb.scale=function(a){return"scale("+a.x+", "+a.y+") "};q.Hb.tl=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};q.dk=function(a){return q.Hb(document.createElement(a))};
q.Hb.n2=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};q.C=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof q.B||e instanceof HTMLElement?e:q.C(e)}return c};q.J0=function(){};q.cE=q.cE||!1;
q.dO=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");q.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",q.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=q.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=q.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};q.log=function(a){q.cE?q.dO(a):console.log.apply(console,arguments)};q.SY=function(a){console.log(a)};q.bt=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};q.LS=function(){0==q.dt?(q.log=function(){},q.wI=function(){},q.vI=function(){},q.bt=function(){}):1==q.dt?(q.wI=q.log,q.vI=function(){}):1<q.dt&&(q.wI=q.log,q.vI=q.log)};q.xL=0;q.wL=1;q.yL=2;q.BL=3;q.zL=4;q.IL=5;q.HL=6;q.DL=7;q.CL=8;q.AL=9;
q.GL=10;q.vL=11;q.EL=12;q.FL=13;
q.tL={L0:8,Cba:9,sR:13,shift:16,y1:17,alt:18,pause:19,c1:20,escape:27,K8:33,J8:34,end:35,home:36,left:37,Yba:38,right:39,I1:40,n6:45,fY:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,F:65,f:66,xa:67,Fa:68,P1:69,qw:70,i:71,ke:72,f6:73,j:74,p7:75,y7:76,L7:77,AI:78,g8:79,a:80,Y8:81,k:82,$h:83,Bba:84,Ka:85,ha:86,GK:87,x:88,y:89,z:90,U7:96,V7:97,W7:98,X7:99,Y7:100,Z7:101,a8:102,b8:103,c8:104,d8:105,"*":106,"+":107,"-":109,numdel:110,"/":111,a2:112,e2:113,f2:114,g2:115,h2:116,i2:117,j2:118,k2:119,
l2:120,b2:121,c2:122,d2:123,f8:144,M9:145,O9:186,",":186,T1:187,"\x3d":187,";":188,o1:188,A1:189,".":190,O8:190,s2:191,Y5:192,"[":219,l8:219,"]":221,n1:221,K0:220,quote:222,hba:32};q.fi=-1;q.PI=Math.PI;q.kL=parseFloat("3.402823466e+38F");q.aM=q.PI/180;q.ZK=180/q.PI;q.sM=4294967295;q.MZ=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else q.log("cc.SWAP is being modified from original macro, please check usage")};q.A7=function(a,c,d){return a+(c-a)*d};q.nZ=function(){return 2*(Math.random()-0.5)};q.mZ=function(){return Math.random()};q.Zi=function(a){return a*q.aM};q.my=function(a){return a*q.ZK};
q.Fl=Number.MAX_VALUE-1;q.se=q.RL?1:770;q.re=771;q.gy=function(a){a.zc&&(a.zc.Xe(),a.zc.Bg())};q.rY=function(){};q.eY=function(){};q.rh=function(){q.Qh+=1};q.Bt=1.192092896E-7;q.td=q.ay?function(){return q.T.e().Ql}:function(){return 1};q.TL=function(a){var c=q.td();return q.a(a.x*c,a.y*c)};q.n_=function(a,c){var d=q.td();c.A=a.x*d;c.I=a.y*d};q.ry=function(a){var c=q.td();return q.size(a.width*c,a.height*c)};q.JZ=function(a){var c=q.td();return q.size(a.width/c,a.height/c)};
q.Iy=function(a,c){var d=q.td();c.Ca=a.width/d;c.ma=a.height/d};q.hZ=function(a){var c=q.td();return q.a(a.x/c,a.y/c)};q.ku=function(a,c){var d=q.td();c.A=a.x/d;c.I=a.y/d};q.Vp=q.ay?function(a){var c=q.td();return q.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};q.Dn=q.ay?function(a){var c=q.td();return q.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};q.JD=function(){if(q.F9==q.kk){var a=q.Q.getError();a&&q.log("WebGL error "+a)}};q.BZ=0;q.AZ=1;q.yZ=2;q.zZ=3;q.CZ=4;q.DZ=5;q.xZ=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var fa=document.createElement("script");fa.type="text/vbscript";fa.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(fa);
q.hF=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
q.ud=q.ya.extend({lj:null,Nk:null,tN:null,Cz:null,Do:null,Fh:null,wq:"",ctor:function(){this.lj={};this.Nk={};this.Fh=[];this.Fh.push(this.wq);this.Do=[];this.Do.push("")},V8:function(){this.Fh=[]},L2:function(a){a=this.ce(a);return this.lj.hasOwnProperty(a)?this.lj[a]:this.aO(a)},Qu:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},aX:function(a){this.lj.hasOwnProperty(a)&&delete this.lj[a]},iU:function(a){a=this.ce(a);var c=this,d=this.Qu();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=q.hF(d.responseBody);e&&(c.lj[a]=c.Dv(e))}else q.Sb.e().Um(a);q.Sb.e().Yh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.lj[a]=c.Dv(e):q.Sb.e().Um(a);q.Sb.e().Yh()});d.send(null)},aO:function(a){var c=this.Qu();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=q.hF(c.responseBody))d=this.Dv(c),this.lj[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Dv(c.responseText);this.lj[a]=d}return d},Dv:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},cX:function(a){a=this.ce(a);this.Nk.hasOwnProperty(a)&&delete this.Nk[a]},kU:function(a){a=this.ce(a);var c=this,d=this.Qu();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.Nk[a]=e)}else q.Sb.e().Um(a);q.Sb.e().Yh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.Nk[a]=d.responseText:q.Sb.e().Um(a);q.Sb.e().Yh()});d.send(null)},cO:function(a){var c=this.Qu();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.Nk[a]=d);return d},JH:function(a){a=this.ce(a);return this.Nk.hasOwnProperty(a)?this.Nk[a]:
this.cO(a)},s3:function(){},C9:function(){},NI:!0,t2:function(a){return a},ce:function(a){var c=!1;a=this.EN(a);for(var d,e=0;e<this.Fh.length;e++){for(var f=this.Fh[e],g=0;g<this.Do.length;g++)if(d=this.FN(a,this.Do[g],f)){c=!0;break}if(c)break}return c?d:a},F7:function(a){var c=this.ce(a);if(0<c.length){var c=q.hk.e().parse(c),d=parseInt(c.metadata.version);1!=d?q.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.IV(c.filenames)}},IV:function(a){this.Cz=
a},yH:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},waa:function(a){this.Do=a},a5:function(){return this.Do},vaa:function(a){this.Fh=a},Y4:function(){return this.Fh},R4:function(){return this.tN},qaa:function(){},E1:function(a){q.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.NQ(a)},NQ:function(a){return q.hk.e().parse(a)},p5:function(a){return this.JH(a)},
jw:function(a){return q.hk.e().parse(a)},S5:function(){return""},gaa:function(a){q.NI=a},T6:function(){return q.NI},yA:"",S4:function(){return this.yA},raa:function(a){this.yA=a},EN:function(a){var c=null;(c=this.Cz?this.Cz[a]:null)&&0!==c.length?q.log("FOUND NEW FILE NAME: "+c):c=a;return c},FN:function(a,c,d){var e;e=this.yA;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,
h+1),f=a.substr(h+1));a=d;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},H_:function(){},OJ:function(a){var c=!1;this.Fh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.lI(e)||(f=this.wq);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.wq||(c=!0);this.Fh.push(e)}c||this.Fh.push(this.wq)},t0:function(a){var c;this.lI(a)||(c=this.wq);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.Fh.push(a)},Z4:function(){},
lI:function(a){return"/"==a[0]}});q.UC=null;q.ud.e=function(){null==q.UC&&(q.UC=new q.ud);return q.UC};q.tc=function(a,c,d){switch(arguments.length){case 0:this.f=this.i=this.k=0;break;case 1:a&&a instanceof q.tc?(this.k=0|a.k||0,this.i=0|a.i||0,this.f=0|a.f||0):this.f=this.i=this.k=0;break;case 3:this.k=0|a||0;this.i=0|c||0;this.f=0|d||0;break;default:throw"unknown argument type";}};q.m=function(a,c,d){return new q.tc(a,c,d)};q.r6=function(a){a=a||0;var c=new q.tc;c.k=a&255;c.i=a>>8&255;c.f=a>>16&255;return c};q.cw=q.m;q.W0=function(a,c){return a.k===c.k&&a.i===c.i&&a.f===c.f};
Object.defineProperties(q,{h_:{get:function(){return q.m(255,255,255)}},k_:{get:function(){return q.m(255,255,0)}},MX:{get:function(){return q.m(0,0,255)}},AY:{get:function(){return q.m(0,255,0)}},pZ:{get:function(){return q.m(255,0,0)}},PY:{get:function(){return q.m(255,0,255)}},KX:{get:function(){return q.m(0,0,0)}},ZY:{get:function(){return q.m(255,127,0)}},zY:{get:function(){return q.m(166,166,166)}}});q.sb=function(){return new q.tc(255,255,255)};q.rca=function(){return new q.tc(255,255,0)};
q.blue=function(){return new q.tc(0,0,255)};q.green=function(){return new q.tc(0,255,0)};q.red=function(){return new q.tc(255,0,0)};q.M7=function(){return new q.tc(255,0,255)};q.N0=function(){return new q.tc(0,0,0)};q.m8=function(){return new q.tc(255,127,0)};q.ip=function(){return new q.tc(166,166,166)};q.Ib=function(a,c,d,e){this.k=0|a;this.i=0|c;this.f=0|d;this.F=0|e};q.w=function(a,c,d,e){return new q.Ib(a,c,d,e)};q.uB=q.w;q.Hd=function(a,c,d,e){this.k=a;this.i=c;this.f=d;this.F=e};
q.dw=function(a,c,d,e){return new q.Hd(a,c,d,e)};q.Z0=function(a){return new q.Hd(a.k/255,a.i/255,a.f/255,1)};q.$0=function(a){return new q.Hd(a.k/255,a.i/255,a.f/255,a.F/255)};q.X0=function(a){return new q.Ib(0|255*a.k,0|255*a.i,0|255*a.f,0|255*a.F)};q.Y0=function(a,c){return a.k==c.k&&a.i==c.i&&a.f==c.f&&a.F==c.F};q.vb=function(a,c){this.x=a||0;this.y=c||0};q.ju=function(a,c){return new q.vb(a,c)};q.Mc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
q.ica=function(a,c,d){return new q.Mc(a,c,d)};q.oc=function(a,c){this.Ka=a||0;this.ha=c||0};q.Iba=function(a,c){return new q.oc(a,c)};q.kZ=function(a,c,d){a||new q.vb(0,0);this.color=c||new q.Ib(0,0,0,0);this.size=d||0};q.Nt=function(a,c,d,e){this.Oa=a||new q.vb(0,0);this.Ha=c||new q.vb(0,0);this.Ea=d||new q.vb(0,0);this.Qa=e||new q.vb(0,0)};q.lZ=function(a,c,d,e){this.Ea=a||new q.Mc(0,0,0);this.Qa=c||new q.Mc(0,0,0);this.Oa=d||new q.Mc(0,0,0);this.Ha=e||new q.Mc(0,0,0)};
q.nL=function(a,c){this.x=a;this.y=c};q.i=function(a,c){return new q.nL(a,c)};q.Nb=function(a,c,d){this.p=a||new q.vb(0,0);this.G=c||new q.Ib(0,0,0,0);this.t=d||new q.oc(0,0)};q.gu=function(){this.p=new q.vb(0,0);this.G=new q.Hd(0,0,0,0);this.t=new q.oc(0,0)};q.ic=function(a,c,d){this.p=a||new q.Mc(0,0,0);this.G=c||new q.Ib(0,0,0,0);this.t=d||new q.oc(0,0)};q.vc=function(a,c,d){this.F=a||new q.Nb;this.f=c||new q.Nb;this.xa=d||new q.Nb};
q.uM=function(){var a=new q.Nb(new q.vb(0,0),new q.Ib(0,0,0,255),new q.oc(0,0)),c=new q.Nb(new q.vb(0,0),new q.Ib(0,0,0,255),new q.oc(0,0)),d=new q.Nb(new q.vb(0,0),new q.Ib(0,0,0,255),new q.oc(0,0)),e=new q.Nb(new q.vb(0,0),new q.Ib(0,0,0,255),new q.oc(0,0));this.Ea=a||new q.Nb;this.Qa=c||new q.Nb;this.Oa=d||new q.Nb;this.Ha=e||new q.Nb};q.c_=function(){return new q.uM};q.Vb=function(a,c,d,e){this.Oa=a||new q.ic;this.Ea=c||new q.ic;this.Ha=d||new q.ic;this.Qa=e||new q.ic};
q.Gy=function(){return new q.Vb(new q.ic(new q.Mc(0,0,0),new q.Ib(0,0,0,255),new q.oc(0,0)),new q.ic(new q.Mc(0,0,0),new q.Ib(0,0,0,255),new q.oc(0,0)),new q.ic(new q.Mc(0,0,0),new q.Ib(0,0,0,255),new q.oc(0,0)),new q.ic(new q.Mc(0,0,0),new q.Ib(0,0,0,255),new q.oc(0,0)))};
q.Fy=function(a){return a?new q.Vb(new q.ic(new q.Mc(a.Oa.p.x,a.Oa.p.y,a.Oa.p.z),new q.Ib(a.Oa.G.k,a.Oa.G.i,a.Oa.G.f,a.Oa.G.F),new q.oc(a.Oa.t.Ka,a.Oa.t.ha)),new q.ic(new q.Mc(a.Ea.p.x,a.Ea.p.y,a.Ea.p.z),new q.Ib(a.Ea.G.k,a.Ea.G.i,a.Ea.G.f,a.Ea.G.F),new q.oc(a.Ea.t.Ka,a.Ea.t.ha)),new q.ic(new q.Mc(a.Ha.p.x,a.Ha.p.y,a.Ha.p.z),new q.Ib(a.Ha.G.k,a.Ha.G.i,a.Ha.G.f,a.Ha.G.F),new q.oc(a.Ha.t.Ka,a.Ha.t.ha)),new q.ic(new q.Mc(a.Qa.p.x,a.Qa.p.y,a.Qa.p.z),new q.Ib(a.Qa.G.k,a.Qa.G.i,a.Qa.G.f,a.Qa.G.F),new q.oc(a.Qa.t.Ka,
a.Qa.t.ha))):q.Gy()};q.e_=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(q.Fy(a[d]));return c};q.d_=function(a,c,d,e){this.Ea=a||new q.gu;this.Qa=c||new q.gu;this.Oa=d||new q.gu;this.Ha=e||new q.gu};q.Bl=function(a,c){this.src=a;this.Ab=c};q.NX=function(){return new q.Bl(1,0)};q.Rk=function(a){var c=a.k.toString(16),d=a.i.toString(16),e=a.f.toString(16);return"#"+(16>a.k?"0"+c:c)+(16>a.i?"0"+d:d)+(16>a.f?"0"+e:e)};
q.Ba.Hc&&(q.Ib=function(a,c,d,e,f,g){this.Jb=f||new ArrayBuffer(q.Ib.BYTES_PER_ELEMENT);this.Cb=g||0;f=this.Jb;g=this.Cb;var h=Uint8Array.BYTES_PER_ELEMENT;this.pA=new Uint8Array(f,g,1);this.Jz=new Uint8Array(f,g+h,1);this.Vy=new Uint8Array(f,g+2*h,1);this.Ny=new Uint8Array(f,g+3*h,1);this.pA[0]=a||0;this.Jz[0]=c||0;this.Vy[0]=d||0;this.Ny[0]=e||0},q.Ib.BYTES_PER_ELEMENT=4,Object.defineProperties(q.Ib.prototype,{k:{get:function(){return this.pA[0]},set:function(a){this.pA[0]=a},enumerable:!0},i:{get:function(){return this.Jz[0]},
set:function(a){this.Jz[0]=a},enumerable:!0},f:{get:function(){return this.Vy[0]},set:function(a){this.Vy[0]=a},enumerable:!0},F:{get:function(){return this.Ny[0]},set:function(a){this.Ny[0]=a},enumerable:!0}}),q.Hd=function(a,c,d,e,f,g){this.Jb=f||new ArrayBuffer(q.Hd.BYTES_PER_ELEMENT);this.Cb=g||0;f=this.Jb;g=this.Cb;var h=Float32Array.BYTES_PER_ELEMENT;this.oA=new Float32Array(f,g,1);this.oA[0]=a||0;this.Iz=new Float32Array(f,g+h,1);this.Iz[0]=c||0;this.Uy=new Float32Array(f,g+2*h,1);this.Uy[0]=
d||0;this.My=new Float32Array(f,g+3*h,1);this.My[0]=e||0},q.Hd.BYTES_PER_ELEMENT=16,Object.defineProperties(q.Hd.prototype,{k:{get:function(){return this.oA[0]},set:function(a){this.oA[0]=a},enumerable:!0},i:{get:function(){return this.Iz[0]},set:function(a){this.Iz[0]=a},enumerable:!0},f:{get:function(){return this.Uy[0]},set:function(a){this.Uy[0]=a},enumerable:!0},F:{get:function(){return this.My[0]},set:function(a){this.My[0]=a},enumerable:!0}}),q.vb=function(a,c,d,e){this.Jb=d||new ArrayBuffer(q.vb.BYTES_PER_ELEMENT);
this.Cb=e||0;this.ym=new Float32Array(this.Jb,this.Cb,1);this.zm=new Float32Array(this.Jb,this.Cb+4,1);this.ym[0]=a||0;this.zm[0]=c||0},q.vb.BYTES_PER_ELEMENT=8,Object.defineProperties(q.vb.prototype,{x:{get:function(){return this.ym[0]},set:function(a){this.ym[0]=a},enumerable:!0},y:{get:function(){return this.zm[0]},set:function(a){this.zm[0]=a},enumerable:!0}}),q.Mc=function(a,c,d,e,f){this.Jb=e||new ArrayBuffer(q.Mc.BYTES_PER_ELEMENT);this.Cb=f||0;e=this.Jb;f=this.Cb;this.ym=new Float32Array(e,
f,1);this.ym[0]=a||0;this.zm=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.zm[0]=c||0;this.mB=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.mB[0]=d||0},q.Mc.BYTES_PER_ELEMENT=12,Object.defineProperties(q.Mc.prototype,{x:{get:function(){return this.ym[0]},set:function(a){this.ym[0]=a},enumerable:!0},y:{get:function(){return this.zm[0]},set:function(a){this.zm[0]=a},enumerable:!0},z:{get:function(){return this.mB[0]},set:function(a){this.mB[0]=a},enumerable:!0}}),q.oc=
function(a,c,d,e){this.Jb=d||new ArrayBuffer(q.oc.BYTES_PER_ELEMENT);this.Cb=e||0;this.YA=new Float32Array(this.Jb,this.Cb,1);this.fB=new Float32Array(this.Jb,this.Cb+4,1);this.YA[0]=a||0;this.fB[0]=c||0},q.oc.BYTES_PER_ELEMENT=8,Object.defineProperties(q.oc.prototype,{Ka:{get:function(){return this.YA[0]},set:function(a){this.YA[0]=a},enumerable:!0},ha:{get:function(){return this.fB[0]},set:function(a){this.fB[0]=a},enumerable:!0}}),q.Nt=function(a,c,d,e,f,g){this.Jb=f||new ArrayBuffer(q.Nt.BYTES_PER_ELEMENT);
this.Cb=g||0;f=this.Jb;g=q.vb.BYTES_PER_ELEMENT;this.Po=a?new q.vb(a.x,a.y,f,0):new q.vb(0,0,f,0);this.Ro=c?new q.vb(c.x,c.y,f,g):new q.vb(0,0,f,g);this.Qn=d?new q.vb(d.x,d.y,f,2*g):new q.vb(0,0,f,2*g);this.Sn=e?new q.vb(e.x,e.y,f,3*g):new q.vb(0,0,f,3*g)},q.Nt.BYTES_PER_ELEMENT=32,Object.defineProperties(q.Nt.prototype,{Oa:{get:function(){return this.Po},set:function(a){this.Po.x=a.x;this.Po.y=a.y},enumerable:!0},Ha:{get:function(){return this.Ro},set:function(a){this.Ro.x=a.x;this.Ro.y=a.y},enumerable:!0},
Ea:{get:function(){return this.Qn},set:function(a){this.Qn.x=a.x;this.Qn.y=a.y},enumerable:!0},Qa:{get:function(){return this.Sn},set:function(a){this.Sn.x=a.x;this.Sn.y=a.y},enumerable:!0}}),q.ic=function(a,c,d,e,f){this.Jb=e||new ArrayBuffer(q.ic.BYTES_PER_ELEMENT);this.Cb=f||0;e=this.Jb;f=this.Cb;var g=q.Mc.BYTES_PER_ELEMENT;this.To=a?new q.Mc(a.x,a.y,a.z,e,f):new q.Mc(0,0,0,e,f);this.sq=c?new q.Ib(c.k,c.i,c.f,c.F,e,f+g):new q.Ib(0,0,0,0,e,f+g);this.om=d?new q.oc(d.Ka,d.ha,e,f+g+q.Ib.BYTES_PER_ELEMENT):
new q.oc(0,0,e,f+g+q.Ib.BYTES_PER_ELEMENT)},q.ic.BYTES_PER_ELEMENT=24,Object.defineProperties(q.ic.prototype,{p:{get:function(){return this.To},set:function(a){var c=this.To;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},G:{get:function(){return this.sq},set:function(a){var c=this.sq;c.k=a.k;c.i=a.i;c.f=a.f;c.F=a.F},enumerable:!0},t:{get:function(){return this.om},set:function(a){this.om.Ka=a.Ka;this.om.ha=a.ha},enumerable:!0}}),q.Vb=function(a,c,d,e,f,g){this.Jb=f||new ArrayBuffer(q.Vb.BYTES_PER_ELEMENT);
this.Cb=g||0;f=this.Jb;g=this.Cb;var h=q.ic.BYTES_PER_ELEMENT;this.Po=a?new q.ic(a.p,a.G,a.t,f,g):new q.ic(null,null,null,f,g);this.Qn=c?new q.ic(c.p,c.G,c.t,f,g+h):new q.ic(null,null,null,f,g+h);this.Ro=d?new q.ic(d.p,d.G,d.t,f,g+2*h):new q.ic(null,null,null,f,g+2*h);this.Sn=e?new q.ic(e.p,e.G,e.t,f,g+3*h):new q.ic(null,null,null,f,g+3*h)},q.Vb.BYTES_PER_ELEMENT=96,Object.defineProperties(q.Vb.prototype,{Oa:{get:function(){return this.Po},set:function(a){var c=this.Po;c.p=a.p;c.G=a.G;c.t=a.t},enumerable:!0},
Ea:{get:function(){return this.Qn},set:function(a){var c=this.Qn;c.p=a.p;c.G=a.G;c.t=a.t},enumerable:!0},Ha:{get:function(){return this.Ro},set:function(a){var c=this.Ro;c.p=a.p;c.G=a.G;c.t=a.t},enumerable:!0},Qa:{get:function(){return this.Sn},set:function(a){var c=this.Sn;c.p=a.p;c.G=a.G;c.t=a.t},enumerable:!0},pB:{get:function(){return this.Jb},enumerable:!0}}),q.Gy=function(){return new q.Vb},q.Fy=function(a){if(!a)return q.Gy();var c=a.Oa,d=a.Ea,e=a.Ha;a=a.Qa;return{Oa:{p:{x:c.p.x,y:c.p.y,z:c.p.z},
G:{k:c.G.k,i:c.G.i,f:c.G.f,F:c.G.F},t:{Ka:c.t.Ka,ha:c.t.ha}},Ea:{p:{x:d.p.x,y:d.p.y,z:d.p.z},G:{k:d.G.k,i:d.G.i,f:d.G.f,F:d.G.F},t:{Ka:d.t.Ka,ha:d.t.ha}},Ha:{p:{x:e.p.x,y:e.p.y,z:e.p.z},G:{k:e.G.k,i:e.G.i,f:e.G.f,F:e.G.F},t:{Ka:e.t.Ka,ha:e.t.ha}},Qa:{p:{x:a.p.x,y:a.p.y,z:a.p.z},G:{k:a.G.k,i:a.G.i,f:a.G.f,F:a.G.F},t:{Ka:a.t.Ka,ha:a.t.ha}}}},q.Nb=function(a,c,d,e,f){this.Jb=e||new ArrayBuffer(q.Nb.BYTES_PER_ELEMENT);this.Cb=f||0;e=this.Jb;f=this.Cb;var g=q.vb.BYTES_PER_ELEMENT;this.To=a?new q.vb(a.x,
a.y,e,f):new q.vb(0,0,e,f);this.sq=c?new q.Ib(c.k,c.i,c.f,c.F,e,f+g):new q.Ib(0,0,0,0,e,f+g);this.om=d?new q.oc(d.Ka,d.ha,e,f+g+q.Ib.BYTES_PER_ELEMENT):new q.oc(0,0,e,f+g+q.Ib.BYTES_PER_ELEMENT)},q.Nb.BYTES_PER_ELEMENT=20,Object.defineProperties(q.Nb.prototype,{p:{get:function(){return this.To},set:function(a){this.To.x=a.x;this.To.y=a.y},enumerable:!0},G:{get:function(){return this.sq},set:function(a){var c=this.sq;c.k=a.k;c.i=a.i;c.f=a.f;c.F=a.F},enumerable:!0},t:{get:function(){return this.om},
set:function(a){this.om.Ka=a.Ka;this.om.ha=a.ha},enumerable:!0}}),q.vc=function(a,c,d,e,f){this.Jb=e||new ArrayBuffer(q.vc.BYTES_PER_ELEMENT);this.Cb=f||0;e=this.Jb;f=this.Cb;var g=q.Nb.BYTES_PER_ELEMENT;this.UE=a?new q.Nb(a.p,a.G,a.t,e,f):new q.Nb(null,null,null,e,f);this.ZE=c?new q.Nb(c.p,c.G,c.t,e,f+g):new q.Nb(null,null,null,e,f+g);this.dF=d?new q.Nb(d.p,d.G,d.t,e,f+2*g):new q.Nb(null,null,null,e,f+2*g)},q.vc.BYTES_PER_ELEMENT=60,Object.defineProperties(q.vc.prototype,{F:{get:function(){return this.UE},
set:function(a){var c=this.UE;c.p=a.p;c.G=a.G;c.t=a.t},enumerable:!0},f:{get:function(){return this.ZE},set:function(a){var c=this.ZE;c.p=a.p;c.G=a.G;c.t=a.t},enumerable:!0},xa:{get:function(){return this.dF},set:function(a){var c=this.dF;c.p=a.p;c.G=a.G;c.t=a.t},enumerable:!0}}));q.q1=function(a){a=a.substr(1).split("");return new q.tc(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};q.bq=0;q.dj=1;q.lM=2;q.gq=0;q.iu=1;q.fq=2;
q.m_=q.ya.extend({uo:null,Or:null,Jy:0,ctor:function(){this.uo={};this.Or={};this.Jy=2<<(0|10*Math.random())},BM:function(){this.Jy++;return"key_"+this.Jy},$V:function(a,c){if(null!=c){var d=this.BM();this.uo[d]=c;this.Or[d]=a}},BT:function(a){if(null==a)return null;var c=this.uo,d;for(d in c)if(c[d]===a)return this.Or[d];return null},hca:function(a){return this.BT(a)},OU:function(a){if(null!=a){var c=this.uo,d;for(d in c)if(c[d]===a){delete this.Or[d];delete c[d];break}}},v9:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.OU(a[c])},dQ:function(){var a=[],c=this.uo,d;for(d in c)a.push(c[d]);return a},o9:function(){this.uo={};this.Or={}},count:function(){return this.dQ().length}});q.mL=function(){this.Xr="Arial";this.fontSize=12;this.tH=q.dj;this.uH=q.gq;this.vH=q.sb();this.Wr=q.size(0,0);this.sD=!1;this.strokeColor=q.sb();this.mK=1;this.aK=!1;this.bK=q.size(0,0);this.shadowBlur=0;this.cK=1};q.En={Vx:0,hy:1,SHOW_ALL:2,Wx:3,Xx:4,b_:5};q.fu=[];q.cq={};
q.la=q.ya.extend({Qb:null,ze:null,ho:null,Ek:null,Ke:null,iB:null,hB:"",wA:null,oa:1,OF:1,wa:1,PF:1,Tq:0,KF:5,Ch:null,VF:null,ZF:null,YF:null,WF:null,XF:null,Wq:!1,y_:!1,h0:null,uF:null,vF:null,IM:null,$_:!1,jz:null,S_:null,oj:null,Ez:1,ou:!1,zF:!1,ctor:function(){this.oj=q.Lj.parentNode===document.body?document.documentElement:q.Lj.parentNode;this.ze=q.size(0,0);this.Sz();var a=q.canvas.width,c=q.canvas.height;this.ho=q.size(a,c);this.Ek=q.size(a,c);this.Ke=q.rect(0,0,a,c);this.iB=q.rect(0,0,a,c);
this.Qb=q.T.e().Ie;this.jz={left:0,top:0};this.hB="Cocos2dHTML5";q.NE.q(this.ho);this.VF=new q.Fn(q.Fg.ht,q.ue.Vx);this.ZF=new q.Fn(q.Fg.XL,q.ue.SHOW_ALL);this.YF=new q.Fn(q.Fg.ht,q.ue.hy);this.WF=new q.Fn(q.Fg.ht,q.ue.Wx);this.XF=new q.Fn(q.Fg.ht,q.ue.Xx);this.uF=q.canvas;this.vF=q.Q},xA:function(){var a=this.Ek.width,c=this.Ek.height;this.wA&&(this.Sz(),this.wA.call());0<a&&this.ZC(a,c,this.Ch)},H9:function(a){a?this.ou||(this.ou=!0,a=this.xA.bind(this),window.addEventListener("resize",a,!1)):this.ou&&
(this.ou=!0,a=this.xA.bind(this),window.removeEventListener("resize",a,!1))},paa:function(a){if("function"==typeof a||null==a)this.wA=a},Sz:function(){var a=this.ze;a.width=this.oj.clientWidth;a.height=this.oj.clientHeight},v_:function(){var a=this.Ek.width,c=this.Ek.height;0<a&&this.ZC(a,c,this.Ch)},oP:function(){if(this.zF){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},hP:function(){var a=q.td();this.wa=this.oa=a},KO:function(){this.oa=this.OF;this.wa=this.PF},HN:function(){var a,c=this.Tq;for(a=0;a<this.KF;a++){if(!(c&1))return this.Tq|=1<<a,a;c>>=1}return-1},GO:function(a){0>a||a>=this.KF||(a=~(1<<a),this.Tq&=a)},w_:function(){},WS:function(){this.Wq=!0},y0:function(a){this.zF=a},end:function(){},R6:function(){return null!=
this.uF&&null!=this.vF},u$:function(a){this.Ez=a;q.T.e().ix(q.T.e().Ik)},wba:function(){},y$:function(){},f$:function(a,c){this.jz={left:a,top:c}},Z2:function(){return this.jz},sw:function(){return q.size(this.ze.width,this.ze.height)},t$:function(a,c){this.ze.width=a;this.ze.height=c;this.oj.style.width=a+"px";this.oj.style.height=c+"px";this.xA();q.T.e().ix(q.T.e().Ik)},e1:function(){},R9:function(a){this.IM=a},gs:function(){return this.iB.Xa},QH:function(){return this.iB.Yc},a1:function(){return!0},
Q4:function(){return this.Ch},nW:function(a){if(a instanceof q.Fn)this.Ch=a;else switch(a){case q.En.Vx:this.Ch=this.VF;break;case q.En.SHOW_ALL:this.Ch=this.ZF;break;case q.En.hy:this.Ch=this.YF;break;case q.En.Wx:this.Ch=this.WF;break;case q.En.Xx:this.Ch=this.XF}},ZC:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)q.log("Resolution not valid");else if(this.nW(d),policy=this.Ch){policy.Xm(this);var e=this.ze.width,f=this.ze.height;q.Ba.Tj&&this.oP(this.ze.width,this.ze.height);this.Sz();if(d!=
this.Ch||a!=this.Ek.width||c!=this.Ek.height||e!=this.ze.width||f!=this.ze.height)this.ho=q.size(a,c),this.Ek=q.size(a,c),a=policy.apply(this,this.ho),a.scale&&2==a.scale.length&&(this.oa=a.scale[0],this.wa=a.scale[1]),a.viewport instanceof q.Xf&&(this.Ke=a.viewport),a=q.T.e(),a.Kb=this.dp(),q.pd==q.kk&&(a.eo(),a.BJ()),this.OF=this.oa,this.PF=this.wa,q.bc&&q.bc.IO(),q.NE.q(this.gs()),policy.Wm(this)}else q.log("should set resolutionPolicy")},dp:function(){return q.size(this.ho.width,this.ho.height)},
Maa:function(a){this.Qb=a},zW:function(a,c,d,e){var f=this.Ez,g=this.oa,h=this.wa;q.Q.viewport(a*g*f+this.Ke.x*f,c*h*f+this.Ke.y*f,d*g*f,e*h*f)},dD:function(a,c,d,e){var f=this.Ez,g=this.oa,h=this.wa;q.Q.scissor(a*g*f+this.Ke.x*f,c*h*f+this.Ke.y*f,d*g*f,e*h*f)},fT:function(){var a=q.Q;return a.isEnabled(a.SCISSOR_TEST)},dS:function(){var a=q.Q,c=this.oa,d=this.wa,a=a.getParameter(a.SCISSOR_BOX);return q.rect((a[0]-this.Ke.x)/c,(a[1]-this.Ke.y)/d,a[2]/c,a[3]/d)},Vaa:function(a){null!=a&&0<a.length&&
(this.hB=a)},N5:function(){return this.hB},O5:function(){return this.Ke},bS:function(){return this.oa},cS:function(){return this.wa},Mj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},vS:function(a,c,d,e){for(var f=[],g=this.Ke,h=this.oa,k=this.wa,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],p=0;if(null==q.cq[m])if(p=this.HN(),-1==p)q.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+p);else{var t=q.fu[p]=new q.Ze;t.iD(p,(n-g.x)/h,(r-g.y)/k);q.cq[m]=0|p;f.push(t)}}0!=f.length&&this.Qb.xx(f,
null)},yS:function(a,c,d,e){for(var f=[],g=this.oa,h=this.wa,k=this.Ke.x,l=this.Ke.y,m=0;m<a;++m){var n=d[m],r=e[m],p=q.cq[c[m]];if(null!=p){var t=q.fu[p];if(t)t.iD(p,(n-k)/g,(r-l)/h),f.push(t);else return}}0!=f.length&&this.Qb.yx(f,null)},xS:function(a,c,d,e){var f=[];this.IH(f,a,c,d,e);this.Qb.Rs(f,null)},wS:function(a,c,d,e){var f=[];this.IH(f,a,c,d,e);this.Qb.uD(f,null)},IH:function(a,c,d,e,f){for(var g=this.oa,h=this.wa,k=this.Ke,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],p=q.cq[m];if(null!=p){var t=
q.fu[p];if(t)t.iD(p,(n-k.x)/g,(r-k.y)/h),a.push(t),q.fu[p]=null,this.GO(p),delete q.cq[m];else break}}},xx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.yf||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.vS(f,c,d,e)},yx:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.yf||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.yS(f,c,d,e)},Rs:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.yf||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.xS(f,c,d,e)},uD:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.yf||h,d[f]=g.J.x,e[f]=g.J.y,++f;this.wS(f,c,d,e)}});q.la.e=function(){this.Bb||(this.Bb=new q.la,this.Bb.WS());return this.Bb};
q.Fg=q.ya.extend({Xm:function(){},apply:function(){},Wm:function(){},fG:function(a,c,d){q.Ba.Tj&&a==document.documentElement&&q.ty.e().kQ(q.canvas);a=q.canvas;var e=q.Lj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},oF:function(){document.body.insertBefore(q.Lj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=q.Lj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
q.ue=q.ya.extend({zA:{scale:[1,1],viewport:null},pq:function(a,c,d,e,f,g){a=q.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);q.pd==q.Uf&&q.Q.translate(a.x,a.y+e);this.zA.scale=[f,g];this.zA.viewport=a;return this.zA},Xm:function(){},apply:function(){return{scale:[1,1]}},Wm:function(){}});
(function(){var a=q.Fg.extend({apply:function(a){this.fG(a.oj,a.ze.width,a.ze.height)}}),c=q.Fg.extend({apply:function(a,c){var d=a.ze.width,e=a.ze.height,f=q.Lj.style,n=c.width,r=c.height,p=d/n,t=e/r,v,z;p<t?(v=d,z=r*p):(v=n*t,z=e);n=Math.floor((d-v)/2);z=Math.floor((e-z)/2);this.fG(a.oj,d-2*n,e-2*z);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=z+"px";f.marginBottom=z+"px"}});a.extend({Xm:function(a){a.oj=document.documentElement},apply:function(a){this._super(a);this.oF()}});c.extend({Xm:function(a){a.oj=
document.documentElement},apply:function(a,c){this._super(a,c);this.oF()}});var d=q.Fg.extend({});q.Fg.ht=new a;q.Fg.XL=new c;q.Fg.dZ=new d;var a=q.ue.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height;return this.pq(d,e,d,e,d/c.width,e/c.height)}}),c=q.ue.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,t,v,z;r<p?(t=r,v=d,z=n*t):(t=p,v=f*t,z=e);return this.pq(d,e,v,z,t,t)}}),d=q.ue.extend({apply:function(a,c){var d=q.canvas.width,
e=q.canvas.height,f=c.width,n=c.height,r=d/f,p=e/n,t,v,z;r<p?(t=p,v=f*t,z=e):(t=r,v=d,z=n*t);return this.pq(d,e,v,z,t,t)}}),e=q.ue.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=e/c.height;return this.pq(d,e,d,e,f,f)},Wm:function(a){q.T.e().Kb=a.gs()}}),f=q.ue.extend({apply:function(a,c){var d=q.canvas.width,e=q.canvas.height,f=d/c.width;return this.pq(d,e,d,e,f,f)},Wm:function(a){q.T.e().Kb=a.gs()}});q.ue.Vx=new a;q.ue.SHOW_ALL=new c;q.ue.hy=new d;q.ue.Wx=new e;q.ue.Xx=new f})();
q.Fn=q.ya.extend({Cu:null,Du:null,ctor:function(a,c){this.yV(a);this.BV(c)},Xm:function(a){this.Cu.Xm(a);this.Du.Xm(a)},apply:function(a,c){this.Cu.apply(a,c);return this.Du.apply(a,c)},Wm:function(a){this.Cu.Wm(a);this.Du.Wm(a)},yV:function(a){a instanceof q.Fg&&(this.Cu=a)},BV:function(a){a instanceof q.ue&&(this.Du=a)}});q.ty=q.ya.extend({yr:!1,pk:"",jA:null,kA:null,XA:"",q:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.yr=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.yr=!0;this.pk=f;break}this.XA="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.yr)switch(this.pk){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.pk+"FullScreen"]}return!1},eJ:function(a,
c){if(this.yr&&!this.fullScreen()){if(c){var d=this.pk+"fullscreenchange";this.jA&&this.kA&&this.jA.removeEventListener(d,this.kA);this.jA=a;this.kA=c;a.addEventListener(d,c,!1)}return""===this.pk?a.requestFullScreen():a[this.pk+"RequestFullScreen"]()}},Y1:function(){if(this.yr&&this.fullScreen())return""===this.pk?document.body.cancelFullScreen():document.body[this.pk+"CancelFullScreen"]()},kQ:function(a,c){function d(){e.eJ(a,c);a.removeEventListener(e.XA,d)}var e=this;this.eJ(a,c);a.addEventListener(this.XA,
d)}});q.ty.e=function(){if(!this.Bb){var a=new q.ty;a.q();this.Bb=a}return this.Bb};q.NE={Ih:q.jd(),Yg:q.jd(),Hh:q.jd(),li:q.jd(),mi:q.jd(),ki:q.jd(),bz:q.jd(),wi:q.jd(),Dh:q.jd(),Ca:0,ma:0,q:function(a){this.Ca=a.width;this.ma=a.height;a=this.Ca;var c=this.ma;this.Ih.I=c;this.Yg.A=a;this.Yg.I=c;this.Hh.A=a/2;this.Hh.I=c;this.mi.A=a;this.ki.A=a/2;this.bz.A=a/2;this.bz.I=c/2;this.wi.I=c/2;this.Dh.A=a;this.Dh.I=c/2},hs:function(){return this.Ca},bs:function(){return this.ma},Rba:function(){return this.Ih},Sba:function(){return this.Yg},top:function(){return this.Hh},P0:function(){return this.li},
Q0:function(){return this.mi},bottom:function(){return this.ki},d1:function(){return this.bz},left:function(){return this.wi},right:function(){return this.Dh}};q.tx=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
q.wE=function(a){var c=q.Vc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=q.tx(a.substr(0,d)),c=q.tx(c),c=q.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};q.vE=function(a){var c=q.aj();try{if(""==a)return c;var d=q.tx(a),c=q.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
q.uy=function(a){var c=q.Gl();try{if(""==a)return c;var d=q.tx(a),c=q.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};q.AX=function(a,c,d,e,f,g){this.F=a;this.f=c;this.xa=d;this.Fa=e;this.Ua=f;this.Va=g};q.o_=function(a,c,d,e,f,g){return{F:a,f:c,xa:d,Fa:e,Ua:f,Va:g}};q.DX=function(a,c,d,e,f,g){return{F:a,f:c,xa:d,Fa:e,Ua:f,Va:g}};q.p_=function(a,c){return{x:c.F*a.x+c.xa*a.y+c.Ua,y:c.f*a.x+c.Fa*a.y+c.Va}};q.uE=function(a,c){return{x:c.F*a.x+c.xa*a.y+c.Ua,y:c.f*a.x+c.Fa*a.y+c.Va}};q.mk=function(a,c,d){return{x:d.F*a+d.xa*c+d.Ua,y:d.f*a+d.Fa*c+d.Va}};
q.q_=function(a,c){return{width:c.F*a.width+c.xa*a.height,height:c.f*a.width+c.Fa*a.height}};q.NZ=function(a,c){return{width:c.F*a.width+c.xa*a.height,height:c.f*a.width+c.Fa*a.height}};q.EX=function(){return{F:1,f:0,xa:0,Fa:1,Ua:0,Va:0}};q.CX=function(){return{F:1,f:0,xa:0,Fa:1,Ua:0,Va:0}};
q.Ig=function(a,c){var d=q.ll(a),e=q.kl(a),f=q.$m(a),g=q.an(a),h=q.mk(e,d,c),d=q.mk(f,d,c),e=q.mk(e,g,c),k=q.mk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return q.rect(f,l,g-f,h-l)};
q.gi=function(a,c){var d=q.ll(a),e=q.kl(a),f=q.$m(a),g=q.an(a),h=q.mk(e,d,c),d=q.mk(f,d,c),e=q.mk(e,g,c),k=q.mk(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};q.Gx=function(a,c,d){return{F:a.F,f:a.f,xa:a.xa,Fa:a.Fa,Ua:a.Ua+a.F*c+a.xa*d,Va:a.Va+a.f*c+a.Fa*d}};q.FX=function(a,c,d){return{F:a.F*c,f:a.f*c,xa:a.xa*d,Fa:a.Fa*d,Ua:a.Ua,Va:a.Va}};
q.NK=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{F:a.F*d+a.xa*c,f:a.f*d+a.Fa*c,xa:a.xa*d-a.F*c,Fa:a.Fa*d-a.f*c,Ua:a.Ua,Va:a.Va}};q.xl=function(a,c){return{F:a.F*c.F+a.f*c.xa,f:a.F*c.f+a.f*c.Fa,xa:a.xa*c.F+a.Fa*c.xa,Fa:a.xa*c.f+a.Fa*c.Fa,Ua:a.Ua*c.F+a.Va*c.xa+c.Ua,Va:a.Ua*c.f+a.Va*c.Fa+c.Va}};q.BX=function(a,c){return a.F===c.F&&a.f===c.f&&a.xa===c.xa&&a.Fa===c.Fa&&a.Ua===c.Ua&&a.Va===c.Va};
q.FD=function(a){var c=1/(a.F*a.Fa-a.f*a.xa);return{F:c*a.Fa,f:-c*a.f,xa:-c*a.xa,Fa:c*a.F,Ua:c*(a.xa*a.Va-a.Fa*a.Ua),Va:c*(a.f*a.Ua-a.F*a.Va)}};q.kE=parseFloat("1.192092896e-07F");q.DC=function(a){return q.a(-a.x,-a.y)};q.Pf=function(a,c){return q.a(a.x+c.x,a.y+c.y)};q.nd=function(a,c){return q.a(a.x-c.x,a.y-c.y)};q.Qi=function(a,c){return q.a(a.x*c,a.y*c)};q.CC=function(a,c){return q.Qi(q.Pf(a,c),0.5)};q.zp=function(a,c){return a.x*c.x+a.y*c.y};q.t8=function(a,c){return a.x*c.y-a.y*c.x};q.Mw=function(a){return q.a(-a.y,a.x)};q.B8=function(a){return q.a(a.y,-a.x)};q.A8=function(a,c){return q.Qi(c,q.zp(a,c)/q.zp(c,c))};
q.C8=function(a,c){return q.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};q.H8=function(a,c){return q.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};q.JI=function(a){return q.zp(a,a)};q.u8=function(a,c){return q.JI(q.nd(a,c))};q.AC=function(a){return Math.sqrt(q.JI(a))};q.zC=function(a,c){return q.AC(q.nd(a,c))};q.lh=function(a){return q.Qi(a,1/q.AC(a))};q.v8=function(a){return q.a(Math.cos(a),Math.sin(a))};q.G8=function(a){return Math.atan2(a.y,a.x)};q.Sr=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
q.II=function(a){var c=q.a(0,0),d=q.a(1,1);return q.a(q.Sr(a.x,c.x,d.x),q.Sr(a.y,c.y,d.y))};q.TT=function(){var a=q.T.e().Kb;return q.a(a.width,a.height)};q.s8=function(a,c){return q.a(c(a.x),c(a.y))};q.KI=function(a,c,d){return q.Pf(q.Qi(a,1-d),q.Qi(c,d))};q.w8=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};q.r8=function(a,c){return q.a(a.x*c.x,a.y*c.y)};q.q8=function(a,c){var d=q.lh(a),e=q.lh(c),d=Math.atan2(d.x*e.y-d.y*e.x,q.zp(d,e));return Math.abs(d)<q.kE?0:d};
q.p8=function(a,c){var d=Math.acos(q.zp(q.lh(a),q.lh(c)));return Math.abs(d)<q.kE?0:d};q.VT=function(a,c,d){a=q.nd(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};q.BC=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
q.E8=function(a,c,d,e){var f=q.a(0,0);return q.BC(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};q.y8=function(a,c,d,e){var f=q.a(0,0);return q.BC(a,c,d,e,f)?(d=q.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):q.aj()};q.D8=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};q.I8=function(a){a.x=0;a.y=0};q.x8=function(a,c){a.x=c.x;a.y=c.y};q.UT=function(a,c){a.x*=c;a.y*=c};q.F8=function(a,c){a.x-=c.x;a.y-=c.y};q.o8=function(a,c){a.x+=c.x;a.y+=c.y};
q.z8=function(a){q.UT(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};q.jca=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=q.a(a[2*k],a[2*k+1]),m;if(0===k)m=q.Mw(q.lh(q.nd(l,q.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=q.Mw(q.lh(q.nd(q.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=q.a(a[2*(k-1)],a[2*(k-1)+1]);var n=q.a(a[2*(k+1)],a[2*(k+1)+1]),r=q.lh(q.nd(n,l)),p=q.lh(q.nd(m,l)),t=Math.acos(q.zp(r,p));m=t<q.Zi(70)?q.Mw(q.lh(q.CC(r,p))):t<q.Zi(170)?q.lh(q.CC(r,p)):q.Mw(q.lh(q.nd(n,m)))}m=q.Qi(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=q.ju(d[2*g],d[2*g+1]),f=q.ju(d[2*(g+1)],d[2*(g+1)+1]),g=q.ju(d[2*a],d[2*a]),e=q.ju(d[2*(a+1)],d[2*(a+1)+1]),c=!q.jX(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.os&&(0>c.value||1<c.value)&&(c.os=!0),c.os&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
q.jX=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{os:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{os:!1,value:0}:{os:!0,value:(h+(f-h)*k/(k-g))/a}};q.OX=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.F;c[4]=a.xa;c[12]=a.Ua;c[1]=a.f;c[5]=a.Fa;c[13]=a.Va};q.yY=function(a,c){c.F=a[0];c.xa=a[4];c.Ua=a[12];c.f=a[1];c.Fa=a[5];c.Va=a[13]};q.iE=-1;q.XY=null;q.YY=null;q.dV=1;
q.B=q.ya.extend({Za:0,Zv:0,ig:0,Eh:0,oa:1,wa:1,o:null,Ud:0,Vd:0,r:null,qa:!0,vh:null,wd:null,na:null,De:!1,W:null,zk:!1,bd:q.iE,CG:null,dB:null,Gj:!0,Wu:!0,eF:!0,d0:null,Fj:null,yF:null,Td:!1,zc:null,Bf:0,Lg:null,jg:null,xF:!1,jq:!1,qu:null,pi:null,Wz:!1,fm:0,lr:0,Tz:function(){this.vh=q.jd();this.wd=q.jd();this.na=q.jm();this.o=q.jd();this.r=[];this.Fj={F:1,f:0,xa:0,Fa:1,Ua:0,Va:0};var a=q.T.e();this.Lg=a.og();this.jg=a.lf();this.xF=!0;this.qu={F:1,f:0,xa:0,Fa:1,Ua:0,Va:0};q.WK&&(this.pi=new q.WK(this))},
q:function(){!1===this.xF&&this.Tz();return!0},$f:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=q.B.wf;switch(c){case d.vg:for(d=0;d<e;d++)(f=a[d])&&f.vg();break;case d.Cd:for(d=0;d<e;d++)(f=a[d])&&f.Cd();break;case d.Wh:for(d=0;d<e;d++)(f=a[d])&&f.Wh();break;case d.Jf:for(d=0;d<e;d++)(f=a[d])&&f.Jf();break;case d.Sf:for(d=0;d<e;d++)(f=a[d])&&f.Sf();break;case d.kh:for(d=0;d<e;d++)(f=a[d])&&f.kh();break;case d.Dd:for(d=0;d<e;d++)(f=a[d])&&f.Dd();break;default:throw"Unknown callback function";
}}},Sa:null,$O:function(){this.hm();!1===this.Gj&&(this.Gj=this.Wu=!0)},aP:function(){!1===this.Gj&&(this.Gj=this.Wu=!0)},e5:function(){return this.Ud},ox:function(a){this.Ud=a;this.Sa()},f5:function(){return this.Vd},px:function(a){this.Vd=a;this.Sa()},U5:function(){return this.Za},Bv:function(a){this.Za=a},Xaa:function(a){this.Bv(a);this.W&&this.W.Cs(this,a)},K5:function(){return this.Zv},UJ:function(a){this.Zv=a},aS:function(){this.ig!==this.Eh&&q.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.ig},kx:function(a){this.ig=this.Eh=a;this.fm=0.017453292519943295*this.ig;this.lr=0.017453292519943295*this.Eh;this.Sa()},U4:function(){return this.ig},lx:function(a){this.ig=a;this.fm=0.017453292519943295*this.ig;this.Sa()},V4:function(){return this.Eh},mx:function(a){this.Eh=a;this.lr=0.017453292519943295*this.Eh;this.Sa()},QB:function(){this.oa!==this.wa&&q.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.oa},$j:function(a,c){this.oa=a;this.wa=
c||0===c?c:a;this.Sa()},bS:function(){return this.oa},Fp:function(a){this.oa=a;this.Sa()},cS:function(){return this.wa},jn:function(a){this.wa=a;this.Sa()},l:function(a,c){var d=this.o;2==arguments.length?(d.A=a,d.I=c):1==arguments.length&&(d.A=a.x,d.I=a.y);this.Sa()},E4:function(){return this.o},F4:function(){return this.o.A},ac:function(a){this.o.A=a;this.Sa()},G4:function(){return this.o.I},nh:function(a){this.o.I=a;this.Sa()},R2:function(){return this.r.length},Q2:function(){return this.r},rI:function(){return this.qa},
D:function(a){this.qa=a;this.Sa()},z2:function(){return this.vh},R:function(a,c){var d=this.vh;if(2===arguments.length){if(a===d.A&&c===d.I)return;d.A=a;d.I=c}else{if(a.x===d.A&&a.y===d.I)return;d.A=a.x;d.I=a.y}var e=this.wd,f=this.na;e.A=f.Ca*d.A;e.I=f.ma*d.I;this.Sa()},A2:function(){return this.wd},d:function(){return this.na},V:function(a,c){var d=this.na;if(2===arguments.length){if(a===d.Ca&&c===d.ma)return;d.Ca=a;d.ma=c}else{if(a.width===d.Ca&&a.height===d.ma)return;d.Ca=a.width;d.ma=a.height}var e=
this.wd,f=this.vh;e.A=d.Ca*f.A;e.I=d.ma*f.I;this.Sa()},Z6:function(){return this.De},getParent:function(){return this.W},Is:function(a){this.W=a},K6:function(){return this.zk},Mi:function(a){a!=this.zk&&(this.zk=a,this.Sa())},jS:function(){return this.bd},RJ:function(a){this.bd=a},getUserData:function(){return this.CG},setUserData:function(a){this.CG=a},I5:function(){return this.dB},Qaa:function(a){this.dB!=a&&(this.dB=a)},u4:function(){return this.Bf},Ep:function(a){this.Bf=a},og:function(){this.Lg||
(this.Lg=q.T.e().og());return this.Lg},oV:function(a){this.Lg!=a&&(this.qD(),this.Lg=a)},lf:function(){this.jg||(this.jg=q.T.e().lf());return this.jg},oW:function(a){this.jg!=a&&(this.Ss(),this.jg=a)},Ta:function(){var a=q.rect(0,0,this.na.Ca,this.na.ma);return q.gi(a,this.Of())},Jf:function(){this.qD();this.Ss();this.$f(this.r,q.B.wf.Jf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.bd+"\x3e"},CR:function(a){var c=this.r;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.bd==
a)return e}return null},g:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?q.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.W?q.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.Za,a.bd=null!=d?d:a.bd,this.UN(a,c),a.W=this,this.De&&(a.vg(),this.Wz&&a.Wh()))},P:function(a){this.W&&(null==a&&(a=!0),this.W.removeChild(this,a))},MU:function(a){q.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.P(a)},removeChild:function(a,c){0!==this.r.length&&(null==c&&(c=!0),-1<this.r.indexOf(a)&&this.sN(a,c),this.Sa())},t9:function(a,c){a===q.iE&&q.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.CR(a);null==d?q.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},l9:function(a){q.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.mc(a)},mc:function(a){var c=this.r;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.De&&(e.kh(),e.Cd()),a&&e.Jf(),e.Is(null))}this.r.length=0}},sN:function(a,c){this.De&&(a.kh(),a.Cd());c&&a.Jf();a.Is(null);q.Fd(this.r,a)},UN:function(a,c){this.Td=!0;this.r.push(a);a.Bv(c)},Cs:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Td=!0;a.Ep(q.dV++);a.Bv(c);this.Sa()},Dd:function(){if(this.Td){var a=this.r,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.Za<f.Za||g.Za==f.Za&&g.Bf<f.Bf);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Td=!1}},Ra:function(){},zx:function(){null!=this.W&&(this.W.zx(),this.W.transform())},vg:function(){this.Wz=!1;this.De=!0;this.$f(this.r,q.B.wf.vg);this.Yw()},Wh:function(){this.Wz=!0;this.$f(this.r,q.B.wf.Wh)},kh:function(){this.$f(this.r,q.B.wf.kh)},Cd:function(){this.De=!1;this.Ow();this.$f(this.r,q.B.wf.Cd);this.pi&&this.pi.HU()},Zw:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.og().SP(a,this,!this.De);return a},qD:function(){this.og().aJ(this)},
TW:function(a){this.og().$I(a)},oba:function(a){a===q.wn?q.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.og().GU(a,this)},LB:function(a){return a===q.wn?(q.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.og().LB(a,this)},g4:function(){return this.og().AT(this)},fV:function(){this.gV(0)},gV:function(a){this.lf().iJ(this,a,!this.De)},Xba:function(){this.lf().Lp(this)},nc:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?q.Fl:d;e=e||0;this.lf().eV(this,a,c,d,e,!this.De)},sc:function(a,c){this.nc(a,0,0,c)},rd:function(a){a&&this.lf().uK(this,a)},Ss:function(){this.lf().tK(this)},Yw:function(){this.lf().cn(this);this.og().cn(this)},Ow:function(){this.lf().As(this);this.og().As(this)},S9:function(a){this.qu=a;this.jq=this.Gj=!0},L8:function(){this.Wu&&(this.yF=q.FD(this.Of()),this.Wu=!1);return this.yF},xs:function(){for(var a=this.Of(),c=this.W;null!=
c;c=c.getParent())a=q.xl(a,c.Of());return a},mX:function(){return q.FD(this.xs())},Aa:function(a){return q.uE(a,this.mX())},Sk:function(a){return q.uE(a,this.xs())},LQ:function(a){return q.nd(this.Aa(a),this.wd)},r1:function(a){a=q.Pf(a,this.wd);return this.Sk(a)},z_:function(a){a=this.Sk(a);return q.T.e().MQ(a)},Nh:function(a){return this.Aa(a.J)},s1:function(a){a=a.J;a=q.T.e().KQ(a);return this.LQ(a)},update:function(a){this.pi&&!this.pi.G6()&&this.pi.ka(a)},Sf:function(){this.$f(this.r,q.B.wf.Sf)},
gJ:function(){},MC:function(){},DR:function(a){return this.pi.DR(a)},l0:function(a){this.pi.add(a)},u9:function(a){return this.pi.remove(a)},m9:function(){this.pi.HU()},pG:null,RA:null,Oz:null,Wn:null,wk:null,ctor:null,wh:function(){this.Tz()},xh:function(){this.Tz();var a=new q.ih;a.jh[2]=a.jh[3]=a.jh[6]=a.jh[7]=a.jh[8]=a.jh[9]=a.jh[11]=a.jh[14]=0;a.jh[10]=a.jh[15]=1;this.pG=a;this.Oz=0;this.RA=new q.ih},ka:null,vm:function(a){if(this.qa){a=a||q.Q;var c,d=this.r,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.Dd();for(c=0;c<f;c++)if(e=d[c],0>e.Za)e.ka(a);else break;for(this.Ra(a);c<f;c++)d[c].ka(a)}else this.Ra(a);this.Bf=0;a.restore()}},wm:function(){if(this.qa){var a=q.Q,c,d=q.QQ;d.stack.push(d.top);q.u7(this.RA,d.top);d.top=this.RA;var e=this.wk;e&&e.KM&&e.sB();this.transform();var f=this.r;if(f&&0<f.length){var g=f.length;this.Dd();for(c=0;c<g;c++)if(f[c]&&0>f[c].Za)f[c].ka();else break;for(this.Ra(a);c<g;c++)f[c]&&f[c].ka()}else this.Ra(a);this.Bf=0;e&&e.KM&&e.oB(this);d.top=
d.stack.pop()}},transform:null,AP:function(a){a=a||q.Q;var c=q.la.e(),d=this.Of();a.transform(d.F,d.xa,d.f,d.Fa,d.Ua*c.oa,-d.Va*c.wa)},BP:function(){var a=this.pG,c=q.QQ.top,d=this.Of(),e=a.jh;e[0]=d.F;e[4]=d.xa;e[12]=d.Ua;e[1]=d.f;e[5]=d.Fa;e[13]=d.Va;e[14]=this.Zv;q.nT(c,c,a);null==this.Wn||null!=this.wk&&this.wk.np()||(a=this.wd.A,c=this.wd.I,0!==a||0!==c?(q.lT(q.Wf(a),q.Wf(c),0),this.Wn.uI(),q.lT(q.Wf(-a),q.Wf(-c),0)):this.Wn.uI())},Of:null,kO:function(){this.Fj||(this.Fj={F:1,f:0,xa:0,Fa:1,Ua:0,
Va:0});if(this.Gj){var a=this.Fj;a.Ua=this.o.A;a.Va=this.o.I;var c=1,d=0;this.ig&&(c=Math.cos(this.fm),d=Math.sin(this.fm));a.F=a.Fa=c;a.f=-d;a.xa=d;var e=this.oa,f=this.wa,g=this.wd.A,h=this.wd.I,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Ud||this.Vd){var m=Math.tan(-this.Ud*Math.PI/180),n=Math.tan(-this.Vd*Math.PI/180),r=h*m*k,p=g*n*l;a.F=c+-d*n;a.f=c*m+-d;a.xa=d+c*n;a.Fa=d*m+c;a.Ua+=c*r+-d*p;a.Va+=d*r+c*p}if(1!==e||1!==f)a.F*=k,a.xa*=k,a.f*=l,a.Fa*=l;a.Ua+=c*-g*k+-d*h*l;a.Va-=d*
-g*k+c*h*l;this.zk&&(a.Ua+=g,a.Va+=h);this.jq&&(this.Fj=q.xl(this.Fj,this.qu),this.jq=!1);this.Gj=!1}return this.Fj},lO:function(){if(this.Gj){var a=this.o.A,c=this.o.I,d=this.wd.A,e=-d,f=this.wd.I,g=-f,h=this.oa,k=this.wa;this.zk&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.ig||0!==this.Eh)l=Math.cos(-this.fm),m=Math.sin(-this.fm),n=Math.cos(-this.lr),r=Math.sin(-this.lr);var p=this.Ud||this.Vd;p||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={F:n*h,f:r*h,xa:-m*k,Fa:l*k,Ua:a,Va:c};p&&(a=q.xl({F:1,
f:Math.tan(q.Zi(this.Vd)),xa:Math.tan(q.Zi(this.Ud)),Fa:1,Ua:0,Va:0},a),0!==d||0!==f)&&(a=q.Gx(a,e,g));this.jq&&(a=q.xl(a,this.qu),this.jq=!1);this.Fj=a;this.Gj=!1}return this.Fj},hm:function(){this.eF=!0;this.W&&this.W.hm()},MB:function(){this.Wn||(this.Wn=new q.Rp);return this.Wn},A3:function(){return this.wk},w$:function(a){this.wk=a},SB:function(){return this.zc},zg:function(a){this.zc=a},z3:function(){return this.Oz},v$:function(a){this.Oz=a},I2:function(){var a=q.rect(0,0,this.na.Ca,this.na.ma),
c=this.xs(),a=q.Ig(a,this.xs());if(!this.r)return a;for(var d=this.r,e=0;e<d.length;e++){var f=d[e];f&&f.qa&&(f=f.qF(c))&&(a=q.Vw(a,f))}return a},qF:function(a){var c=q.rect(0,0,this.na.Ca,this.na.ma);a=null==a?this.Of():q.xl(this.Of(),a);c=q.Ig(c,a);if(!this.r)return c;for(var d=this.r,e=0;e<d.length;e++){var f=d[e];f&&f.qa&&(f=f.qF(a))&&(c=q.Vw(c,f))}return c}});
q.Ba.Hc?(b=q.B.prototype,b.ctor=q.B.prototype.xh,b.Sa=q.B.prototype.aP,b.ka=q.B.prototype.wm,b.transform=q.B.prototype.BP,b.Of=q.B.prototype.lO):(b=q.B.prototype,b.ctor=q.B.prototype.wh,b.Sa=q.B.prototype.$O,b.ka=q.B.prototype.vm,b.transform=q.B.prototype.AP,b.Of=q.B.prototype.kO);q.B.create=function(){return new q.B};q.B.wf={vg:1,Cd:2,Jf:3,Wh:4,Sf:5,kh:6,Dd:7};
q.tb=q.B.extend({cb:!0,Rb:255,hg:255,xc:null,Sd:null,fd:!1,Md:!1,ctor:function(){q.B.prototype.ctor.call(this);this.hg=this.Rb=255;this.xc=q.sb();this.Sd=q.sb();this.Md=this.fd=!1},Ki:function(){return this.hg},FR:function(){return this.Rb},ba:function(a){this.Rb=this.hg=a;a=255;var c=this.W;c&&c.cb&&c.Md&&(a=c.Rb);this.Tc(a)},Tc:function(a){this.Rb=this.hg*a/255;if(this.Md){a=this.r;for(var c=0;c<a.length;c++){var d=a[c];d&&d.cb&&d.Tc(this.Rb)}}},dT:function(){return this.Md},qJ:function(a){this.Md!==
a&&((this.Md=a)?this.Gq():this.vz())},Gq:function(){var a=255,c=this.W;c&&c.cb&&c.Md&&(a=c.Rb);this.Tc(a)},vz:function(){this.Rb=this.hg;for(var a=this.r,c=0;c<a.length;c++){var d=a[c];d&&d.cb&&d.Tc(255)}},md:function(){var a=this.Sd;return new q.tc(a.k,a.i,a.f)},$r:function(){return this.xc},n:function(a){var c=this.xc,d=this.Sd;c.k=d.k=a.k;c.i=d.i=a.i;c.f=d.f=a.f;a=(a=this.W)&&a.cb&&a.fd?a.$r():q.sb();this.Sc(a)},Sc:function(a){var c=this.xc,d=this.Sd;c.k=0|d.k*a.k/255;c.i=0|d.i*a.i/255;c.f=0|d.f*
a.f/255;if(this.fd)for(a=this.r,d=0;d<a.length;d++){var e=a[d];e&&e.cb&&e.Sc(c)}},cT:function(){return this.fd},pJ:function(a){this.fd!==a&&((this.fd=a)?this.Fq():this.uz())},Fq:function(){var a;a=(a=this.W)&&a.cb&&a.fd?a.$r():q.sb();this.Sc(a)},uz:function(){var a=this.xc,c=this.Sd;a.k=c.k;a.i=c.i;a.f=c.f;for(var a=this.r,c=q.sb(),d=0;d<a.length;d++){var e=a[d];e&&e.cb&&e.Sc(c)}},g:function(a,c,d){q.B.prototype.g.call(this,a,c,d);this.fd&&this.Fq();this.Md&&this.Gq()},sf:function(){},al:function(){return!1}});
q.tb.create=function(){var a=new q.tb;a.q();return a};q.Gd=q.tb.extend({cb:!0,EF:0,DF:0,Yu:0,Xu:0,jj:null,Na:null,fc:!1,aa:null,ir:0,Pz:!1,ctor:function(){q.tb.prototype.ctor.call(this);this.jj=q.sb();this.aa={src:q.se,Ab:q.re};this.Pz=!1},Zba:function(){q.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},md:function(){return this.fc?this.jj:q.tb.prototype.md.call(this)},sf:function(a){var c=this.md();this.fc=a;this.n(c)},al:function(){return this.fc},Zr:function(){return this.aa},nl:function(a,c){this.aa=1==arguments.length?
a:{src:a,Ab:c}},Hp:function(a){this.Na=a},KH:function(){return this.Na},M4:function(){return this.ir},kaa:function(a){this.ir=a},pm:null,dg:null,sG:null,zu:null,TS:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=q.Ia.e().$a(a);return this.Ga(a,c,d,e)},Ga:null,Uq:function(a,c,d,e){this.Yu=c;this.Xu=d;this.fc=!0;this.dg=a;if(!this.dg)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.pm=this.dg;this.vu();this.ir=e;return!0},
Vq:function(a,c,d,e){this.Yu=c;this.Xu=d;this.jj=q.sb();this.fc=!0;this.aa.src=q.se;this.aa.Ab=q.re;c=this.Sd;this.zu=new Float32Array([c.k/255,c.i/255,c.f/255,this.hg/255]);this.Na=new q.Jn;this.Na.Ga(a,e);if(!this.Na)return q.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.um();this.zG();this.vu();this.ir=e;this.zg(q.uh.e().Zh(q.HZ));this.sG=q.Q.getUniformLocation(this.SB().vw(),"u_color");return!0},Ra:null,cg:function(a){a=a||q.Q;q.gy(this);q.Rj(this.aa.src,this.aa.Ab);
a.uniform4fv(this.sG,this.zu);this.Na.lH(this.ir,0)},n:null,nr:function(a){var c=this.Sd;if(c.k!=a.k||c.i!=a.i||c.f!=a.f){c=new q.tc(a.k,a.i,a.f);this.jj=a;if(this.fc){var d=this.Rb;c.k=c.k*d/255;c.i=c.i*d/255;c.f=c.f*d/255}q.tb.prototype.n.call(this,a);this.Z()&&(a=this.dg.yc)&&(c=q.Ia.e().LH(a))&&(d=q.rect(0,0,a.width,a.height),a=q.KB(a,c,this.Sd,d),c=new q.Tb,c.nf(a),c.le(),this.ia(c))}},DA:function(a){var c=q.tc(a.k,a.i,a.f);this.jj=a;var d=this.Rb;this.fc&&(c.k=c.k*d/255,c.i=c.i*d/255,c.f=c.f*
d/255);q.tb.prototype.n.call(this,a);a=this.xc;this.zu=new Float32Array([a.k/255,a.i/255,a.f/255,d/255])},ba:null,pr:function(a){q.tb.prototype.ba.call(this,a);this.fc&&this.n(this.jj)},GA:function(a){q.tb.prototype.ba.call(this,a);this.fc?this.n(this.jj):(a=this.xc,this.zu=new Float32Array([a.k/255,a.i/255,a.f/255,this.Rb/255]))},Z:null,Lz:function(){return this.pm},Mz:function(){return this.Na.Z()},ia:null,qr:function(a){this.pm=a},rr:function(a){this.Na.ia(a);this.um();this.zG()},vu:null,aN:function(){var a=
this.Z().d();this.DF=0|a.height/this.Xu;this.EF=0|a.width/this.Yu},bN:function(){var a=this.Z(),c=a.d();this.Pz&&(c=a.na);this.DF=0|c.height/this.Xu;this.EF=0|c.width/this.Yu},um:function(){this.Na.Z().ks()||(this.aa.src=770,this.aa.Ab=771)},zG:function(){this.fc=this.Na.Z().ks()},FA:function(a){this.Pz=a}});
q.Ba.Hc?(b=q.Gd.prototype,b.Ga=q.Gd.prototype.Vq,b.Ra=q.Gd.prototype.cg,b.n=q.Gd.prototype.DA,b.ba=q.Gd.prototype.GA,b.Z=q.Gd.prototype.Mz,b.ia=q.Gd.prototype.rr,b.vu=q.Gd.prototype.bN):(b=q.Gd.prototype,b.Ga=q.Gd.prototype.Uq,b.Ra=q.B.prototype.Ra,b.n=q.Gd.prototype.nr,b.ba=q.Gd.prototype.pr,b.Z=q.Gd.prototype.Lz,b.ia=q.Gd.prototype.qr,b.vu=q.Gd.prototype.aN);q.Gd.create=function(a,c,d,e){var f=new q.Gd;return f.TS(a,c,d,e)?f:null};q.cj=0;q.aq=1;q.$p=2;q.Zp=3;q.xy=4;q.wy=5;q.$t=6;q.Zt=7;q.FE=8;q.EE=9;q.DE=q.cj;q.nz=q.DE;q.YL=!1;q.a0=function(a,c,d,e){this.wT=a||0;this.tT=c||0;this.JK=d||0;this.KK=e||0};
q.nM=q.ya.extend({oO:null,Cf:null,Ug:null,Tg:null,$z:null,na:null,Pg:null,Qg:null,no:null,Vl:!1,zc:null,jc:!1,yc:null,Mh:null,xd:null,ctor:function(){this.Tg=this.Ug=0;this.$z="";this.Qg=this.Pg=0;this.no=!1;this.na=q.jm();this.Vl=!1;this.oO=!0;this.Cf=q.Tb.RQ();this.zc=null;this.jc=!1;this.Mh=this.yc=null;this.xd=[]},NC:function(){this.Mh&&q.Q.deleteTexture(this.Mh)},z4:function(){return this.Cf},fp:function(){return this.Ug},ep:function(){return this.Tg},getName:function(){return this.Mh},d:function(){return q.size(this.na.width/
q.td(),this.na.height/q.td())},ER:function(){return this.na},NR:function(){return this.Pg},UV:function(a){this.Pg=a},OR:function(){return this.Qg},VV:function(a){this.Qg=a},SB:function(){return this.zc},zg:function(a){this.zc=a},ks:function(){return this.no},CS:function(){return this.Vl},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.$z+" | Dimensions \x3d "+this.Ug+" x "+this.Tg+" | Coordinates \x3d ("+this.Pg+", "+this.Qg+")\x3e"},EU:function(){},jT:function(a){return a},Bw:function(a,
c,d,e,f){var g=q.Q,h=0,h=c===q.cj?24:this.UG(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.Mh=g.createTexture();q.pg(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case q.cj:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case q.aq:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case q.$t:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case q.Zt:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case q.$p:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case q.wy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case q.Zp:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case q.xy:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.na.Ca=f.width;this.na.ma=f.height;this.Ug=d;this.Tg=e;this.Cf=c;this.Pg=f.width/d;this.Qg=f.height/e;this.Vl=this.no=!1;this.zg(q.uh.e().Zh(q.cM));return this.jc=!0},hR:function(a){var c=[0,this.Qg,this.Pg,this.Qg,0,0,this.Pg,
0],d=this.Ug*this.Pg,e=this.Tg*this.Qg;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];q.ge(q.Kg|q.wM);this.zc.Xe();this.zc.TJ();q.pg(this);d=q.Q;d.vertexAttribPointer(q.ve,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(q.eq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},jR:function(a){var c=[0,this.Qg,this.Pg,this.Qg,0,0,this.Pg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];q.ge(q.Kg|q.wM);this.zc.Xe();this.zc.TJ();q.pg(this);var d=q.Q;d.vertexAttribPointer(q.ve,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(q.eq,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},gC:function(a){if(null==a)return q.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.hs(),d=a.bs(),e=q.te.e().br;if(c>e||d>e)return q.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.jc=!0;return this.LN(a,c,d)},nf:function(a){a&&(this.Mh=q.Q.createTexture(),this.yc=a)},IR:function(){return this.yc},sg:function(){return this.jc},
le:function(){this.jc=!0;var a=q.Q;q.pg(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.yc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.zg(q.uh.e().Zh(q.cM));q.pg(null);a=this.yc.height;this.Ug=this.na.Ca=this.yc.width;this.Tg=this.na.ma=
a;this.Cf=q.cj;this.Qg=this.Pg=1;this.Vl=this.no=!1;this.Ld()},Zk:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=q.size(0,0),f=q.dj,g=q.gq);var h=new q.rL,k;if(q.gq===g)k=q.dj===f?q.vX:q.bq===f?q.wX:q.xX;else if(q.iu===g)k=q.dj===f?q.sX:q.bq===f?q.tX:q.uX;else if(q.fq===g)k=q.dj===f?q.pX:q.bq===f?q.qX:q.rX;else return q.log("Not supported alignment format!"),!1;return h.Zk(a,e.width,e.height,k,c,d)?this.gC(h):!1},MS:function(){return!1},dI:function(a){var c=!1,d=new q.XZ;
(c=d.k6(a))?(d.saa(!0),this.$z=d.getName(),this.Qg=this.Pg=1,this.Ug=d.hs(),this.Tg=d.bs(),this.na.Ca=this.Ug,this.na.ma=this.Tg,this.no=q.YL,this.Cf=d.x3(),this.mJ()):q.log("cocos2d: Couldn't load PVR image "+a);return c},QS:function(){return q.te.e().Ar?!0:(q.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},tW:function(a){var c=q.Q;q.bt(this.Ug==q.Cn(this.Ug)&&this.Tg==q.Cn(this.Tg)||a.JK==c.CLAMP_TO_EDGE&&a.KK==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
q.pg(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.wT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.tT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.JK);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.KK)},mJ:function(){var a=q.Q;q.pg(this);this.Vl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},lJ:function(){var a=q.Q;q.pg(this);
this.Vl?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){q.bt(this.Ug==q.Cn(this.Ug)&&this.Tg==q.Cn(this.Tg),"Mimpap texture only works in POT textures");q.pg(this);q.Q.generateMipmap(q.Q.TEXTURE_2D);this.Vl=!0},UW:function(){switch(this.Cf){case q.cj:return"RGBA8888";case q.aq:return"RGB888";case q.$p:return"RGB565";case q.$t:return"RGBA4444";
case q.Zt:return"RGB5A1";case q.wy:return"AI88";case q.Zp:return"A8";case q.xy:return"I8";case q.FE:return"PVRTC4";case q.EE:return"PVRTC2";default:q.log("stringForFormat: "+this.Cf+", cannot give useful result, it's a unrecognized pixel format")}return""},UG:function(a){a=a||this.Cf;switch(a){case q.cj:return 32;case q.aq:return 32;case q.$p:return 16;case q.Zp:return 8;case q.$t:return 16;case q.Zt:return 16;case q.FE:return 4;case q.EE:return 2;case q.xy:return 8;case q.wy:return 16;default:return q.log("bitsPerPixelForFormat: "+
this.Cf+", cannot give useful result, it's a illegal pixel format"),-1}},LN:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.Z5(),h=q.size(a.hs(),a.bs()),k=q.DE,l=a.G2();g||(8<=l?k=q.aq:(q.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=q.$p));var m=c*d;if(k==q.$p)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==q.$t)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==q.Zt)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==q.Zp)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==q.aq)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Bw(e,k,c,d,h);a.getData();this.no=a.U6();return!0},Hf:function(a,c){this.xd.push({Oj:a,Ph:c})},NU:function(a){for(var c=this.xd,d=0;d<c.length;d++)c[d].Ph==a&&c.splice(d,1)},Ld:function(){for(var a=this.xd,c=0,d=a.length;c<d;c++){var e=a[c];e.Oj.call(e.Ph,this)}a.length=0}});
q.mM=q.ya.extend({na:null,jc:!1,yc:null,xd:null,ctor:function(){this.na=q.jm();this.jc=!1;this.yc=null;this.xd=[]},fp:function(){return this.na.Ca},ep:function(){return this.na.ma},d:function(){var a=q.td();return q.size(this.na.Ca/a,this.na.ma/a)},ER:function(){return this.na},nf:function(a){a&&(this.yc=a)},IR:function(){return this.yc},sg:function(){return this.jc},le:function(){this.jc=!0;var a=this.yc;this.na.Ca=a.width;this.na.ma=a.height;this.Ld()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.na.Ca+" height "+this.na.ma+"\x3e"},Bw:function(){return!1},gC:function(){return!1},Zk:function(){return!1},NC:function(){},getName:function(){return null},NR:function(){return 1},UV:function(){},OR:function(){return 1},VV:function(){},SB:function(){return null},zg:function(){},ks:function(){return!1},CS:function(){return!1},EU:function(){},jT:function(a){return a},hR:function(){},jR:function(){},MS:function(){return!1},dI:function(){return!1},QS:function(){return!0},tW:function(){},mJ:function(){},
lJ:function(){},generateMipmap:function(){},UW:function(){return""},UG:function(){return-1},Hf:function(a,c){this.xd.push({Oj:a,Ph:c})},NU:function(a){for(var c=this.xd,d=0;d<c.length;d++)c[d].Ph==a&&c.splice(d,1)},Ld:function(){for(var a=this.xd,c=0,d=a.length;c<d;c++){var e=a[c];e.Oj.call(e.Ph,this)}a.length=0}});q.Tb=q.Ba.Hc?q.nM:q.mM;q.Tb.h$=function(a){q.nz=a};q.Tb.RQ=function(){return q.nz};q.Tb.e3=function(){return q.nz};q.Yr=null;q.G7=function(a){if(q.HQ(a)==q.lL)q.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){q.Ia.e().mQ(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};q.HQ=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?q.uY:0<a.toLowerCase().indexOf(".png")?q.vY:0<a.toLowerCase().indexOf(".webp")?q.xY:q.lL};
q.Ia=q.ya.extend({lb:null,Br:null,Mv:null,UF:!1,av:null,bv:null,ctor:function(){if(q.Yr)throw"Attempted to allocate a second instance of a singleton.";this.Mv+=0|1E3*Math.random();this.lb={};this.Br={};q.pd===q.kk&&(this.av={},this.bv={})},Ry:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},TN:function(){this.UF=!0;var a,c=this.av,d=this.lb;for(a in c){var e=c[a],f=new q.Tb;f.nf(e);f.le();d[a]=f}this.av={}},s0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},
n0:function(){q.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.lb.length+"\x3e"},wx:function(a){a=q.ud.e().ce(a);return this.lb.hasOwnProperty(a)?this.lb[a]:null},KR:function(a){for(var c in this.lb)if(this.lb[c]==a)return c;return null},CN:function(){this.Mv++;return"_textureKey_"+this.Mv},LH:function(a){var c=this.KR(a);c||(c=a instanceof HTMLImageElement?a.src:this.CN());this.Br.hasOwnProperty(c)||(this.Br[c]=
q.bp(a));return this.Br[c]},r0:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=q.ud.e().ce(a);if(null!=this.lb[a])return this.lb[a];var c=new q.Tb;c.dI(a)?this.lb[a]=c:q.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},p9:function(){var a=this.lb,c;for(c in a)a[c]&&a[c].NC();this.lb={}},E9:function(a){if(a){var c=this.lb,d;for(d in c)c[d]==a&&(c[d].NC(),delete c[d])}},RU:function(a){null!=a&&(a=q.ud.e().ce(a),this.lb[a]&&delete this.lb[a])},o0:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=q.ud.e().ce(a);var e=this.lb[a],f,g;if(e)e.sg()?this.Ry(c,d):(g=this,f=e.yc,f.addEventListener("load",function(){e.le();g.Ry(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.lb.hasOwnProperty(a)&&g.lb[a].le();g.Ry(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){q.Sb.e().Um(a);g.lb.hasOwnProperty(a)&&delete g.lb[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new q.Tb;h.nf(f);this.lb[a]=h}return this.lb[a]},MM:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){q.Sb.e().Yh();d.av[a]=c;delete d.bv[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){q.Sb.e().Um(a);
delete d.bv[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.bv[a]=c},$a:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(q.pd===q.kk&&!this.UF)return this.MM(a);a=q.ud.e().ce(a);var c=this.lb[a],d;if(c)c.sg()?q.Sb.e().Yh():(d=c.yc,d.addEventListener("load",function(){c.le();q.Sb.e().Yh();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){q.Sb.e().Yh();e.lb.hasOwnProperty(a)&&
e.lb[a].le();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){q.Sb.e().Um(a);e.lb.hasOwnProperty(a)&&delete e.lb[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new q.Tb;f.nf(d);this.lb[a]=f}return this.lb[a]},mQ:function(a,c){if(c instanceof q.Tb)this.lb[a]=c;else{var d=new q.Tb;d.nf(c);d.le();this.lb[a]=d}},x0:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.lb.hasOwnProperty(c)&&this.lb[c])return this.lb[c];var d=new q.Tb;d.gC(a);null!=c&&null!=d?this.lb[c]=d:q.log("cocos2d: Couldn't add UIImage in TextureCache");return d},M1:function(){var a=0,c=0,d=this.lb,e;for(e in d){var f=d[e];a++;f.yc instanceof HTMLImageElement?q.log("cocos2d: '"+e+"' id\x3d"+f.yc.src+" "+f.fp()+" x "+f.ep()):q.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.fp()+" x "+f.ep());c+=f.fp()*f.ep()*4}d=this.Br;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;q.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}q.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});q.Ia.e=function(){q.Yr||(q.Yr=new q.Ia);return q.Yr};q.Ia.qU=function(){q.Yr=null};q.Jn=q.ya.extend({hd:null,ni:null,Da:!1,Wc:0,za:null,Ae:null,fg:null,jr:null,gg:null,ctor:function(){this.ni=[]},B5:function(){return this.Pa},O2:function(){return this.Wc},Z:function(){return this.za},ia:function(a){this.za=a},yg:function(a){this.Da=a},mI:function(){return this.Da},L4:function(){return this.Ae},jaa:function(a){this.Ae=a},A_:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Av(a[d],c+d)},Av:function(a,c){var d=this.Ae;d[c]?(d[c].Ea=a.Ea,d[c].Qa=a.Qa,d[c].Oa=a.Oa,d[c].Ha=a.Ha):d[c]=
new q.Vb(a.Oa,a.Ea,a.Ha,a.Qa,this.fg,c*q.Vb.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Pa+"\x3e"},gG:function(){if(0!==this.Wc)for(var a=this.hd,c=this.Wc,d=0;d<c;d++)q.GE?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},pP:function(){var a=q.Q;this.ni[0]=a.createBuffer();this.ni[1]=a.createBuffer();this.jr=a.createBuffer();
this.GF()},GF:function(){var a=q.Q;a.bindBuffer(a.ARRAY_BUFFER,this.jr);a.bufferData(a.ARRAY_BUFFER,this.fg,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.ni[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.hd,a.STATIC_DRAW)},Ni:function(a,c){var d=q.Ia.e().$a(a);if(d)return this.Ga(d,c);q.log("cocos2d: Could not open file: "+a);return!1},Ga:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Wc=c|=0;this.Pa=0;this.za=a;this.Ae=[];this.hd=new Uint16Array(6*
c);var d=q.Vb.BYTES_PER_ELEMENT;this.fg=new ArrayBuffer(d*c);this.gg=new Uint8Array(this.fg);if((!this.Ae||!this.hd)&&0<c)return!1;for(var e=this.Ae,f=0;f<c;f++)e[f]=new q.Vb(null,null,null,null,this.fg,f*d);this.gG();this.pP();return this.Da=!0},Bx:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Wc)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Pa=Math.max(c+1,this.Pa);this.Av(a,c);this.Da=!0},mC:function(a,c){if(c>=this.Wc)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Pa++;if(this.Pa>this.Wc)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=q.Vb.BYTES_PER_ELEMENT,e=c*d,f=(this.Pa-1-c)*d;this.Ae[this.Pa-1]=new q.Vb(null,null,null,null,this.fg,(this.Pa-1)*d);this.gg.set(this.gg.subarray(e,e+f),e+d);this.Av(a,c);this.Da=!0}},q6:function(a,c,d){d=d||a.length;if(c+d>this.Wc)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=q.Vb.BYTES_PER_ELEMENT;this.Pa+=d;if(this.Pa>this.Wc)q.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Pa-1-c-d)*e,h=this.Pa-1-d,k;for(k=0;k<d;k++)this.Ae[h+k]=new q.Vb(null,null,null,null,this.fg,(this.Pa-1)*e);this.gg.set(this.gg.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Av(a[k],c+k);this.Da=!0}},p6:function(a,c){if(a!==c){if(0>c&&c>=this.Pa)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Pa)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=q.Vb.BYTES_PER_ELEMENT,e=this.gg,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.Da=!0}},PU:function(a){if(a>=this.Pa)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=q.Vb.BYTES_PER_ELEMENT;this.Pa--;this.Ae.length=this.Pa;if(a!==this.Pa){var d=(a+1)*c;this.gg.set(this.gg.subarray(d,d+(this.Pa-a)*c),d-c)}this.Da=!0},w9:function(a,c){if(a+c>this.Pa)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Pa-=c;if(a!==this.Pa){var d=q.Vb.BYTES_PER_ELEMENT,
e=(a+c)*d;this.gg.set(this.gg.subarray(e,e+(this.Pa-a)*d),a*d)}this.Da=!0},JU:function(){this.Pa=this.Ae.length=0},Y_:function(a){this.Da=a},VU:function(a){if(a==this.Wc)return!0;var c=q.Vb.BYTES_PER_ELEMENT,d=this.Wc;this.Pa=Math.min(this.Pa,a);var e=this.Wc=0|a,f=this.Pa;if(null==this.Ae)for(this.Ae=[],this.fg=new ArrayBuffer(c*e),this.gg=new Uint8Array(this.fg),a=0;a<e;a++)this.Ae=new q.Vb(null,null,null,null,this.fg,a*c);else{var g,h,k=this.Ae;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new q.Vb(k[a].Oa,k[a].Ea,k[a].Ha,k[a].Qa,h,a*c);for(;a<e;a++)g[a]=new q.Vb(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new q.Vb(k[a].Oa,k[a].Ea,k[a].Ha,k[a].Qa,h,a*c);this.gg=new Uint8Array(h);this.Ae=g;this.fg=h}null==this.hd?this.hd=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.hd,0),this.hd=c):this.hd=this.hd.subarray(0,6*e);this.gG();this.GF();return this.Da=!0},h6:function(a){this.Pa+=a},R7:function(a,c,d){if(2==arguments.length){d=
c;c=this.Pa-a;if(d+(this.Pa-a)>this.Wc)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Pa)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Pa)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=q.Vb.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.gg,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.Da=!0},m2:function(a,
c){for(var d=c*q.Vb.BYTES_PER_ELEMENT,e=new Uint8Array(this.fg,a*q.Vb.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},lH:function(a,c){c=c||0;if(0!==a&&this.za&&this.za.sg()){var d=q.Q;q.pg(this.za);q.ge(q.hu);d.bindBuffer(d.ARRAY_BUFFER,this.jr);this.Da&&d.bufferData(d.ARRAY_BUFFER,this.fg,d.DYNAMIC_DRAW);d.vertexAttribPointer(q.ve,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(q.dq,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(q.eq,2,d.FLOAT,!1,24,16);this.Da&&(this.Da=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.ni[1]);q.GE?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.hd.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.hd.BYTES_PER_ELEMENT);q.Qh++}},kR:function(){this.lH(this.Pa,0)},V_:function(){var a=q.Q;this.ni&&(this.ni[0]&&a.deleteBuffer(this.ni[0]),this.ni[1]&&a.deleteBuffer(this.ni[1]));this.jr&&a.deleteBuffer(this.jr)}});q.Jn.create=function(a,c){var d=new q.Jn;return d&&d.Ni(a,c)?d:null};q.Jn.Ob=function(a,c){var d=new q.Jn;return d&&d.Ga(a,c)?d:null};q.Xp=q.B.extend({ctor:function(){q.B.prototype.ctor.call(this);this.zk=!0;this.R(0.5,0.5);this.V(q.T.e().Kb)}});q.Xp.create=function(){return new q.Xp};q.yy=0;q.SZ=1;
q.Ic=q.B.extend({Bk:!1,Ak:!1,po:!1,Ok:0,Jr:q.yy,Xl:!1,yo:0,ctor:function(){q.B.prototype.ctor.call(this);this.po=this.Ak=this.Bk=!1;this.Ok=0;this.Jr=q.yy;this.Xl=!1;this.yo=0},KN:function(){this.R(0.5,0.5);this.zk=!0;var a=q.T.e();this.V(a.Kb)},q:function(){q.B.prototype.q.call(this);this.KN();return!0},Ww:function(){this.Jr===q.yy?q.DU(this,this.Ok):q.LC(this.Ok,!0,this)},N6:function(){return this.Xl},fx:function(a){if(!q.Jd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Xl!=
a&&(this.Xl=a,this.De&&(a?q.T.e().kf().MG(this,this.yo):q.T.e().kf().bJ(this)))},Q$:function(a){if(!q.Jd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.yo!==a&&(this.yo=a,this.Xl&&(this.fx(!1),this.fx(!0)))},d4:function(){return this.yo},g7:function(){return this.Bk},Pb:function(a){this.Bk!==a&&(this.Bk=a,this.De&&(a?this.Ww():q.sK(this)))},F5:function(){return this.Ok},Ip:function(a){this.Ok!==a&&(this.Ok=a,this.Bk&&(this.Pb(!1),this.Pb(!0)))},E5:function(){return this.Jr},
jD:function(a){this.Jr!==a&&(this.Jr=a,this.Bk&&(this.Pb(!1),this.Pb(!0)))},w6:function(){return this.Ak},Q9:function(a){if(!q.ek)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.Ak&&(this.Ak=a,this.De)){var c=q.T.e();a?c.cp().mh(this):c.cp().mh(null)}},nV:function(a){this.Ak&&q.ek&&q.T.e().cp().nV(a)},i8:function(){q.log("onAccelerometer event should be handled.")},M6:function(){return this.po},H$:function(a){if(!q.Bn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.po&&(this.po=a,this.De)){var c=q.T.e();a?c.tw().TP(this):c.tw().LU(this)}},vg:function(){var a=q.T.e();this.Bk&&this.Ww();q.B.prototype.vg.call(this);this.Ak&&q.ek&&a.cp().mh(this);this.po&&q.Bn&&a.tw().TP(this);this.Xl&&q.Jd&&a.kf().MG(this,this.yo)},Cd:function(){var a=q.T.e();this.Bk&&q.sK(this);this.Ak&&q.ek&&a.cp().mh(null);this.po&&q.Bn&&a.tw().LU(this);this.Xl&&q.Jd&&a.kf().bJ(this);q.B.prototype.Cd.call(this)},Wh:function(){this.Ak&&q.ek&&q.T.e().cp().mh(this);q.B.prototype.Wh.call(this)},
fb:function(){q.log("onTouchBegan event should be handled.");return!0},dd:function(){},pf:function(){},Vj:function(){},EI:function(){},HI:function(){},GI:function(){},FI:function(){},ET:function(){return!1},FT:function(){return!1},Xh:function(){return!1},IT:function(){return!1},MT:function(){return!1},NT:function(){return!1},OT:function(){return!1},JT:function(){return!1},KT:function(){return!1},LT:function(){return!1},PT:function(){return!1},GT:function(){return!1},HT:function(){return!1},xC:function(){},
il:function(){}});q.Ic.create=function(){var a=new q.Ic;return a&&a.q()?a:null};
q.sh=q.Ic.extend({cb:!0,Rb:0,hg:0,xc:null,Sd:null,Md:!1,fd:!1,ctor:function(){q.Ic.prototype.ctor.call(this);this.cb=!0;this.hg=this.Rb=255;this.xc=q.sb();this.Sd=q.sb();this.fd=this.Md=!1},q:function(){return q.Ic.prototype.q.call(this)?(this.qJ(!1),this.pJ(!1),!0):!1},Ki:function(){return this.hg},FR:function(){return this.Rb},ba:function(a){this.Rb=this.hg=a;a=255;var c=this.W;c&&c.cb&&c.Md&&(a=c.Rb);this.Tc(a)},Tc:function(a){this.Rb=0|this.hg*a/255;if(this.Md){a=this.r;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.cb&&d.Tc(this.Rb)}}},dT:function(){return this.Md},qJ:function(a){this.Md!==a&&((this.Md=a)?this.Gq():this.vz())},Gq:function(){var a=255,c=this.W;c&&c.cb&&c.Md&&(a=c.Rb);this.Tc(a)},vz:function(){this.Rb=this.hg;for(var a=this.r,c=0;c<a.length;c++){var d=a[c];d&&d.cb&&d.Tc(255)}},md:function(){var a=this.Sd;return q.m(a.k,a.i,a.f)},$r:function(){var a=this.xc;return q.m(a.k,a.i,a.f)},n:function(a){var c=this.xc,d=this.Sd;c.k=d.k=a.k;c.i=d.i=a.i;c.f=d.f=a.f;a=(a=this.W)&&a.cb&&a.fd?a.$r():
q.sb();this.Sc(a)},Sc:function(a){var c=this.xc,d=this.Sd;c.k=0|d.k*a.k/255;c.i=0|d.i*a.i/255;c.f=0|d.f*a.f/255;if(this.fd)for(a=this.r,d=0;d<a.length;d++){var e=a[d];e&&e.cb&&e.Sc(c)}},cT:function(){return this.fd},pJ:function(a){this.fd!==a&&((this.fd=a)?this.Fq():this.uz())},Fq:function(){var a;a=(a=this.W)&&a.cb&&a.fd?a.$r():q.sb();this.Sc(a)},uz:function(){var a=this.xc,c=this.Sd;a.k=c.k;a.i=c.i;a.f=c.f;for(var a=this.r,c=q.sb(),d=0;d<a.length;d++){var e=a[d];e&&e.cb&&e.Sc(c)}},g:function(a,
c,d){q.B.prototype.g.call(this,a,c,d);this.fd&&this.Fq();this.Md&&this.Gq()},sf:function(){},al:function(){return!1}});
q.va=q.sh.extend({aa:null,Zr:function(){return this.aa},i1:function(a,c){this.V(a,c)},WG:function(a){this.V(a,this.na.ma)},f1:function(a){this.V(this.na.Ca,a)},sf:function(){},al:function(){return!1},n:function(a){q.sh.prototype.n.call(this,a);this.kd()},ba:function(a){q.sh.prototype.ba.call(this,a);this.kd()},qo:!1,kG:null,OA:null,gB:null,iz:null,QA:null,PA:null,wh:function(){q.sh.prototype.ctor.call(this);this.aa=new q.Bl(q.se,q.re)},xh:function(){q.sh.prototype.ctor.call(this);this.aa=new q.Bl(q.se,
q.re);this.QA=new ArrayBuffer(32);this.PA=new ArrayBuffer(64);var a=this.QA,c=this.PA,d=q.vb.BYTES_PER_ELEMENT,e=q.Hd.BYTES_PER_ELEMENT;this.kG=[new q.vb(0,0,a,0),new q.vb(0,0,a,d),new q.vb(0,0,a,2*d),new q.vb(0,0,a,3*d)];this.OA=[new q.Hd(0,0,0,1,c,0),new q.Hd(0,0,0,1,c,e),new q.Hd(0,0,0,1,c,2*e),new q.Hd(0,0,0,1,c,3*e)];this.gB=q.Q.createBuffer();this.iz=q.Q.createBuffer()},nl:function(a,c){this.aa=1==arguments.length?a:{src:a,Ab:c};q.pd===q.Uf&&(this.qo=this.aa&&1==this.aa.src&&771==this.aa.Ab)},
q:function(a,c,d){if(!q.Ic.prototype.q.call(this))return!1;q.pd!==q.Uf&&this.zg(q.uh.e().Zh(q.bM));var e=q.T.e().Kb;a=a||new q.Ib(0,0,0,255);c=c||e.width;d=d||e.height;e=this.xc;e.k=a.k;e.i=a.i;e.f=a.f;e=this.Sd;e.k=a.k;e.i=a.i;e.f=a.f;this.hg=this.Rb=a.F;this.V(c,d);this.kd();return!0},V:null,VO:function(a,c){var d=this.kG;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.bF(),q.Ic.prototype.V.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.bF(),q.Ic.prototype.V.call(this,
a))},kd:null,FP:function(){},GP:function(){for(var a=this.xc,c=this.Rb,d=this.OA,e=0;4>e;e++)d[e].k=a.k/255,d[e].i=a.i/255,d[e].f=a.f/255,d[e].F=c/255;this.aF()},Sc:function(a){q.sh.prototype.Sc.call(this,a);this.kd()},Tc:function(a){q.sh.prototype.Tc.call(this,a);this.kd()},bF:function(){var a=q.Q;a.bindBuffer(a.ARRAY_BUFFER,this.gB);a.bufferData(a.ARRAY_BUFFER,this.QA,a.STATIC_DRAW)},aF:function(){var a=q.Q;a.bindBuffer(a.ARRAY_BUFFER,this.iz);a.bufferData(a.ARRAY_BUFFER,this.PA,a.STATIC_DRAW)},
Ra:null,Rl:function(a){a=a||q.Q;var c=this.d(),d=q.la.e(),e=this.xc;a.fillStyle="rgba("+(0|e.k)+","+(0|e.i)+","+(0|e.f)+","+this.Rb/255+")";a.fillRect(0,0,c.width*d.oa,-c.height*d.wa);q.Qh++},cg:function(a){a=a||q.Q;q.gy(this);q.ge(q.Kg|q.vM);a.bindBuffer(a.ARRAY_BUFFER,this.gB);a.vertexAttribPointer(q.ve,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.iz);a.vertexAttribPointer(q.dq,4,a.FLOAT,!1,0,0);q.Rj(this.aa.src,this.aa.Ab);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
q.Ba.Hc?(q.va.prototype.ctor=q.va.prototype.xh,q.va.prototype.V=q.va.prototype.VO,q.va.prototype.kd=q.va.prototype.GP,q.va.prototype.Ra=q.va.prototype.cg):(q.va.prototype.ctor=q.va.prototype.wh,q.va.prototype.V=q.sh.prototype.V,q.va.prototype.kd=q.va.prototype.FP,q.va.prototype.Ra=q.va.prototype.Rl);q.va.create=function(a,c,d){var e=new q.va;switch(arguments.length){case 0:e.q();break;case 1:e.q(a);break;case 3:e.q(a,c,d);break;default:e.q()}return e};
q.dE=q.va.extend({lG:null,jo:null,Ho:null,ko:null,Jl:null,Bu:!1,Rq:null,Qq:null,ctor:function(){q.va.prototype.ctor.call(this);this.lG=new q.tc(0,0,0);this.jo=new q.tc(0,0,0);this.Jl=q.a(0,-1);this.ko=this.Ho=255;this.Rq=q.a(0,0);this.Qq=q.a(0,0)},V:function(a,c){2===arguments.length?q.va.prototype.V.call(this,a,c):q.va.prototype.V.call(this,a);this.kd()},j5:function(){return this.Sd},zaa:function(a){this.n(a)},o$:function(a){this.jo=a;this.kd()},n3:function(){return this.jo},Aaa:function(a){this.Ho=
a;this.kd()},k5:function(){return this.Ho},p$:function(a){this.ko=a;this.kd()},o3:function(){return this.ko},Raa:function(a){this.Jl.x=a.x;this.Jl.y=a.y;this.kd()},J5:function(){return q.a(this.Jl.x,this.Jl.y)},B6:function(){return this.Bu},e$:function(a){this.Bu=a;this.kd()},q:function(a,c,d){a=a||q.uB(0,0,0,255);c=c||q.uB(0,0,0,255);d=d||q.a(0,-1);var e=this.lG,f=this.jo;e.k=a.k;e.i=a.i;e.f=a.f;this.Ho=a.F;f.k=c.k;f.i=c.i;f.f=c.f;this.ko=c.F;this.Jl=d;this.Bu=!0;q.va.prototype.q.call(this,q.w(a.k,
a.i,a.f,255));return!0},Ra:function(a){if(q.pd===q.kk)q.va.prototype.Ra.call(this,a);else{a=a||q.Q;this.qo&&(a.globalCompositeOperation="lighter");a.save();var c=q.la.e(),d=this.Rb/255,e=this.d().width*c.oa,c=this.d().height*c.wa,f=a.createLinearGradient(this.Rq.x,this.Rq.y,this.Qq.x,this.Qq.y),g=this.xc,h=this.jo;f.addColorStop(0,"rgba("+Math.round(g.k)+","+Math.round(g.i)+","+Math.round(g.f)+","+(this.Ho/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.k)+","+Math.round(h.i)+","+Math.round(h.f)+
","+(this.ko/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.MO&&a.rotate(this.W_);a.restore()}},kd:function(){var a=this.Jl;if(q.pd===q.Uf){var c=0.5*this.d().width,d=0.5*this.d().height;this.Rq.x=c*-a.x+c;this.Rq.y=d*a.y-d;this.Qq.x=c*a.x+c;this.Qq.y=d*-a.y-d}else if(d=q.AC(a),0!==d){c=Math.sqrt(2);a=q.a(a.x/d,a.y/d);this.Bu&&(a=q.Qi(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Rb/255,f=this.xc,g=this.jo,d=f.k/255,h=f.i/255,f=f.f/255,k=this.Ho*e/255,l=g.k/255,m=g.i/255,g=g.f/
255,e=this.ko*e/255,n=this.OA,r=n[0],p=n[1],t=n[2],n=n[3];r.k=l+(c+a.x+a.y)/(2*c)*(d-l);r.i=m+(c+a.x+a.y)/(2*c)*(h-m);r.f=g+(c+a.x+a.y)/(2*c)*(f-g);r.F=e+(c+a.x+a.y)/(2*c)*(k-e);p.k=l+(c-a.x+a.y)/(2*c)*(d-l);p.i=m+(c-a.x+a.y)/(2*c)*(h-m);p.f=g+(c-a.x+a.y)/(2*c)*(f-g);p.F=e+(c-a.x+a.y)/(2*c)*(k-e);t.k=l+(c+a.x-a.y)/(2*c)*(d-l);t.i=m+(c+a.x-a.y)/(2*c)*(h-m);t.f=g+(c+a.x-a.y)/(2*c)*(f-g);t.F=e+(c+a.x-a.y)/(2*c)*(k-e);n.k=l+(c-a.x-a.y)/(2*c)*(d-l);n.i=m+(c-a.x-a.y)/(2*c)*(h-m);n.f=g+(c-a.x-a.y)/(2*c)*
(f-g);n.F=e+(c-a.x-a.y)/(2*c)*(k-e);this.aF()}}});q.dE.create=function(a,c,d){var e=new q.dE;switch(arguments.length){case 2:if(e&&e.q(a,c))return e;break;case 3:if(e&&e.q(a,c,d))return e;break;case 0:if(e&&e.q())return e;break;default:throw"Arguments error ";}return null};
q.eE=q.Ic.extend({uk:0,Og:null,m6:function(a){this.Og=[];this.Og.push(a);this.uk=0;this.g(a);return!0},OS:function(a){this.Og=a;this.uk=0;this.g(this.Og[this.uk]);return!0},yba:function(a){a>=this.Og.length?q.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Og[this.uk],!0),this.uk=a,this.g(this.Og[a]))},zba:function(a){a>=this.Og.length?q.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.Og[this.uk],
!0),this.Og[this.uk]=null,this.uk=a,this.g(this.Og[a]))},p0:function(a){a?this.Og.push(a):q.log("cc.Layer.addLayer(): layer should be non-null")}});q.eE.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&q.log("parameters should not be ending with null in Javascript");var a=new q.eE;return a.OS(arguments)?a:null};q.sy=-1;
q.bp=function(a){function c(){var c=q.bp,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.tD.width=e;c.tD.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.oK.drawImage(a,0,0);for(var n=c.oK.getImageData(0,0,e,h),r=n.data,p=0;p<k.length;p+=4)r[p]=0===l?k[p]:0,r[p+
1]=1===l?k[p+1]:0,r[p+2]=2===l?k[p+2]:0,r[p+3]=k[p+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.BQ;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.BQ=d};q.bp.canvas=document.createElement("canvas");q.bp.tD=document.createElement("canvas");q.bp.oK=q.bp.tD.getContext("2d");
q.v2=function(a,c,d){d||(d=q.rect(0,0,a.width,a.height),d=q.Vp(d));c=c instanceof q.Hd?q.w(255*c.k,255*c.i,255*c.f,255*c.F):q.w(c.k,c.i,c.f,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.F/255;f.fillStyle="rgb("+c.k+","+c.i+","+c.f+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
q.KB=function(a,c,d,e,f){e||(e=q.rect(0,0,a.width,a.height));a=null==d.F?q.dw(d.k/255,d.i/255,d.f/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.k&&(h.globalAlpha=a.k*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.i&&(h.globalAlpha=a.i*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.f&&(h.globalAlpha=a.f*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.k+a.i+a.f&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};q.bH=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
q.$Z=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.tl=e;this.visible=g};q.Wf=function(a){return 0|a};q.eM&&(q.Wf=function(a){return a});
q.u=q.tb.extend({cb:!0,Na:null,Nc:0,eb:null,Da:!1,Bh:null,ui:null,Jk:!1,tm:null,aa:null,za:null,ra:null,Oc:!1,Yb:null,Jh:null,fc:!1,dc:!1,ec:!1,kb:!1,xd:null,NF:null,qK:function(){return this.kb},Hf:function(a,c){this.xd.push({Oj:a,Ph:c})},Ld:function(){for(var a=this.xd,c=0,d=a.length;c<d;c++){var e=a[c];e.Oj.call(e.Ph,this)}a.length=0},mI:function(){return this.Da},yg:function(a){this.Da=a},e7:function(){return this.Oc},C2:function(){return this.Nc},pe:function(a){this.Nc=a},UB:function(){return q.rect(this.ra.x,
this.ra.y,this.ra.width,this.ra.height)},KH:function(){return this.Na},Hp:function(a){this.Na=a},i5:function(){return this.eb},yaa:function(a){this.eb=a},p4:function(){return this.Yb},Zr:function(){return this.aa},me:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.kb||(this.kb=!1,a.Hf(this.MA,this));var c=this.Ga(a.Z(),a.fe());this.Cp(a);return c},MA:null,uP:function(a){this.Sa();this.Gb(a.fe(),a.$c,a.Zc);this.Ld()},tP:function(a){this.Sa();this.Gb(a.fe(),
a.$c,a.Zc);a=this.md();255===a.k&&255===a.i&&255===a.f||this.xu();this.Ld()},fI:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=q.Yf.e().gh(a);return this.me(a)},cca:function(a){this.Na=a.Na;this.eb=a},lD:function(a){this.ra.x=a.x;this.ra.y=a.y;this.ra.width=a.width;this.ra.height=a.height},Dd:function(){if(this.Td){for(var a,c,d=this.r,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.Za<e.Za||c.Za==e.Za&&c.Bf<e.Bf);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.eb&&this.$f(d,q.B.wf.Dd);this.Td=!1}},Cs:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.r.indexOf(a)?q.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.Za&&(this.eb&&!this.Td&&(this.HA(),this.eb.cJ(!0)),q.B.prototype.Cs.call(this,a,c))},removeChild:function(a,c){this.eb&&this.eb.bn(a);q.B.prototype.removeChild.call(this,a,c)},mc:function(a){var c=this.r,d=this.eb;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.bn(c[e]);q.B.prototype.mc.call(this,
a);this.ui=!1},vJ:function(a){this.Bh=a;this.yg(a);a=this.r;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof q.u&&a[c].vJ(!0)},Jg:function(){this.eb&&!this.Bh&&(this.Da=this.Bh=!0,this.ui&&this.vJ(!0))},l:function(a,c){2<=arguments.length?q.B.prototype.l.call(this,a,arguments[1]):q.B.prototype.l.call(this,a);this.Jg()},kx:function(a){q.B.prototype.kx.call(this,a);this.Jg()},lx:function(a){q.B.prototype.lx.call(this,a);this.Jg()},mx:function(a){q.B.prototype.mx.call(this,a);this.Jg()},ox:function(a){q.B.prototype.ox.call(this,
a);this.Jg()},px:function(a){q.B.prototype.px.call(this,a);this.Jg()},Fp:function(a){q.B.prototype.Fp.call(this,a);this.Jg()},jn:function(a){q.B.prototype.jn.call(this,a);this.Jg()},$j:function(a,c){q.B.prototype.$j.call(this,a,c);this.Jg()},UJ:function(a){q.B.prototype.UJ.call(this,a);this.Jg()},R:function(a,c){2===arguments.length?q.B.prototype.R.call(this,a,c):q.B.prototype.R.call(this,a);this.Jg()},D:function(a){q.B.prototype.D.call(this,a);this.Jg()},Mi:function(a){this.eb?q.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
q.B.prototype.Mi.call(this,a)},JV:function(a){this.dc!=a&&(this.dc=a,this.Gb(this.ra,this.Oc,this.na),this.Sa())},KV:function(a){this.ec!=a&&(this.ec=a,this.Gb(this.ra,this.Oc,this.na),this.Sa())},H6:function(){return this.dc},I6:function(){return this.ec},sf:null,cP:function(a){this.fc!==a&&(this.fc=a,this.Ts())},bP:function(a){this.fc!==a&&(this.fc=a,this.Sa())},al:function(){return this.fc},Tc:null,JP:function(a){q.tb.prototype.Tc.call(this,a);this.Ts()},xG:function(a){q.tb.prototype.Tc.call(this,
a);this.hm()},l$:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=q.yl.e().zH(a);d?(d=d.Pd[c])?this.Cp(d.gh()):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):q.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},F2:function(){return this.eb},HA:function(){if(!this.Td){this.Td=!0;for(var a=this.W;a&&a!=this.eb;)a.HA(),a=a.getParent()}},Z:function(){return this.za},Db:null,vv:null,ef:!1,Au:!1,
qo:!1,dg:null,No:null,xz:null,ctor:null,xh:function(a){q.tb.prototype.ctor.call(this);this.Jk=!1;this.Yb=q.jd();this.Jh=q.jd();this.aa={src:q.se,Ab:q.re};this.ra=q.rect(0,0,0,0);this.Db=new q.Vb;this.vv=q.Q.createBuffer();this.kb=this.ef=!0;this.xd=[];if(a)if("string"===typeof a)a=q.Yf.e().gh(a),this.me(a);else if("object"===typeof a)if(a instanceof q.vd)this.me(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Tb;c.nf(a);c.le();this.Ga(c)}else a instanceof q.Tb&&
this.Ga(a)},wh:function(a){q.tb.prototype.ctor.call(this);this.Jk=!1;this.Yb=q.jd();this.Jh=q.jd();this.aa={src:q.se,Ab:q.re};this.ra=q.rect(0,0,0,0);this.NF=!1;this.kb=!0;this.xd=[];this.No={x:0,y:0,width:0,height:0,Ws:!1};this.xz=q.size(0,0);if(a)if("string"===typeof a)a=q.Yf.e().gh(a),this.me(a);else if("object"===typeof a)if(a instanceof q.vd)this.me(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new q.Tb;c.nf(a);c.le();this.Ga(c)}else a instanceof q.Tb&&this.Ga(a)},
K4:function(){return this.Db},nl:null,RO:function(a,c){var d=this.aa;1===arguments.length?(d.src=a.src,d.Ab=a.Ab):(d.src=a,d.Ab=c)},QO:function(a,c){var d=this.aa;1===arguments.length?(d.src=a.src,d.Ab=a.Ab):(d.src=a,d.Ab=c);this.qo=d&&(770==d.src&&1==d.Ab||1==d.src&&1==d.Ab)},q:null,Rz:function(){if(0<arguments.length)return this.Ni(arguments[0],arguments[1]);q.tb.prototype.q.call(this);this.Da=this.Bh=!1;this.fc=!0;this.aa.src=q.se;this.aa.Ab=q.re;this.ia(null);this.kb=!0;this.dc=this.ec=!1;this.R(0.5,
0.5);this.Yb.A=0;this.Yb.I=0;this.ui=!1;var a={k:255,i:255,f:255,F:255};this.Db.Ea.G=a;this.Db.Qa.G=a;this.Db.Oa.G=a;this.Db.Ha.G=a;this.ef=!0;this.Gb(q.Vc(),!1,q.Gl());return!0},Qz:function(){if(0<arguments.length)return this.Ni(arguments[0],arguments[1]);q.tb.prototype.q.call(this);this.Da=this.Bh=!1;this.fc=!0;this.aa.src=q.se;this.aa.Ab=q.re;this.ia(null);this.kb=!0;this.dc=this.ec=!1;this.R(0.5,0.5);this.Yb.A=0;this.Yb.I=0;this.ui=!1;this.Gb(q.Vc(),!1,q.Gl());return!0},Ni:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=q.Ia.e().wx(a);if(!d)d=q.Ia.e().$a(a);else if(!c){var e=d.d();c=q.rect(0,0,e.width,e.height)}return this.Ga(d,c)},Ga:null,Vq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.tb.prototype.q.call(this))return!1;this.eb=null;this.Da=this.Bh=!1;this.fc=!0;this.aa.src=q.se;this.aa.Ab=q.re;this.dc=this.ec=!1;this.R(0.5,0.5);this.Yb.A=0;this.Yb.I=0;this.ui=!1;var e=new q.Ib(255,255,255,255),f=this.Db;f.Ea.G=e;f.Qa.G=e;f.Oa.G=e;f.Ha.G=e;
this.kb=e=a.sg();if(!e)return this.Oc=d||!1,c&&(e=this.ra,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.Hf(this.Nv,this),!0;c||(e=a.d(),c=q.rect(0,0,e.width,e.height));this.ia(a);this.Gb(c,d,c.Xa);this.qe(null);return this.ef=!0},Uq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!q.tb.prototype.q.call(this))return!1;this.eb=null;this.Da=this.Bh=!1;this.fc=!0;this.aa.src=q.se;this.aa.Ab=q.re;this.dc=this.ec=!1;this.R(0.5,0.5);this.Yb.A=
0;this.Yb.I=0;this.ui=!1;var e=a.sg();this.kb=e;if(!e)return this.Oc=d||!1,c&&(this.ra.x=c.x,this.ra.y=c.y,this.ra.width=c.width,this.ra.height=c.height),a.Hf(this.Nv,this),!0;c||(e=a.d(),c=q.rect(0,0,e.width,e.height));this.dg=a;this.ia(a);this.Gb(c,d,c.Xa);this.qe(null);return!0},Nv:null,zP:function(a){if(!this.kb){this.kb=!0;var c=this.ra;if(!c)c=a.d(),c=q.rect(0,0,c.width,c.height);else if(q.kr(c)){var d=a.d();c.width=d.width;c.height=d.height}this.ia(a);this.Gb(c,this.Oc,c.Xa);this.qe(null);
this.ef=!0;this.Ld()}},yP:function(a){if(!this.kb){this.kb=!0;var c=this.ra;if(!c)c=a.d(),c=q.rect(0,0,c.width,c.height);else if(q.kr(c)){var d=a.d();c.width=d.width;c.height=d.height}this.dg=a;this.ia(a);this.Gb(c,this.Oc,c.Xa);this.qe(null);this.Ld()}},Gb:null,eG:function(a,c,d){this.Oc=c||!1;d=d||a.Xa;this.V(d);this.lD(a);this.dG(a);a=this.Jh;this.dc&&(a.A=-a.A);this.ec&&(a.I=-a.I);var e=this.ra;this.Yb.A=a.A+(this.na.Ca-e.width)/2;this.Yb.I=a.I+(this.na.ma-e.height)/2;if(this.eb)this.Da=!0;else{a=
0+this.Yb.A;c=0+this.Yb.I;d=a+e.width;var e=c+e.height,f=this.Db;f.Ea.p={x:a,y:c,z:0};f.Qa.p={x:d,y:c,z:0};f.Oa.p={x:a,y:e,z:0};f.Ha.p={x:d,y:e,z:0};this.ef=!0}},IA:function(a,c,d){this.Oc=c||!1;d=d||a.Xa;this.V(d);this.lD(a);c=this.No;d=q.td();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.Ws=!(0===c.width||0===c.height);a=this.Jh;this.dc&&(a.A=-a.A);this.ec&&(a.I=-a.I);this.Yb.A=a.A+(this.na.Ca-this.ra.width)/2;this.Yb.I=a.I+(this.na.ma-this.ra.height)/2;this.eb&&(this.Da=!0)},
Sf:null,RP:function(){if(this.Da){var a=this.Db,c=this.W;if(!this.qa||c&&c!=this.eb&&c.Jk)a.Qa.p={x:0,y:0,z:0},a.Oa.p={x:0,y:0,z:0},a.Ha.p={x:0,y:0,z:0},a.Ea.p={x:0,y:0,z:0},this.Jk=!0;else{this.Jk=!1;var d=this.tm=c&&c!=this.eb?q.xl(this.Of(),c.tm):this.Of(),e=this.ra.Xa,c=this.Yb.A,f=this.Yb.I,g=c+e.width,e=f+e.height,h=d.Ua,k=d.Va,l=d.F,m=d.f,n=d.Fa,d=-d.xa,r=this.Zv;a.Ea.p={x:q.Wf(c*l-f*d+h),y:q.Wf(c*m+f*n+k),z:r};a.Qa.p={x:q.Wf(g*l-f*d+h),y:q.Wf(g*m+f*n+k),z:r};a.Oa.p={x:q.Wf(c*l-e*d+h),y:q.Wf(c*
m+e*n+k),z:r};a.Ha.p={x:q.Wf(g*l-e*d+h),y:q.Wf(g*m+e*n+k),z:r}}this.Na.Bx(a,this.Nc);this.Bh=!1;this.yg(!1)}this.ui&&this.$f(this.r,q.B.wf.Sf);q.ik&&(a=[q.a(this.Db.Ea.p.x,this.Db.Ea.p.y),q.a(this.Db.Qa.p.x,this.Db.Qa.p.y),q.a(this.Db.Ha.p.x,this.Db.Ha.p.y),q.a(this.Db.Oa.p.x,this.Db.Oa.p.y)],q.Kf.Yd(a,4,!0))},QP:function(){if(this.Da){var a=this.W;!this.qa||a&&a!=this.eb&&a.Jk?this.Jk=!0:(this.Jk=!1,this.tm=a&&a!=this.eb?q.xl(this.Of(),a.tm):this.Of());this.Da=this.Bh=!1}this.ui&&this.$f(this.r,
q.B.wf.Sf)},g:null,Qy:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Za);null==d&&(d=a.bd);if(this.eb){if(!(a instanceof q.u)){q.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.Z().Mh!==this.Na.Z().Mh&&q.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.eb.appendChild(a);this.Td||this.HA()}q.B.prototype.g.call(this,
a,c,d);this.ui=!0},Py:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Za);null==d&&(d=a.bd);q.B.prototype.g.call(this,a,c,d);this.ui=!0},Ts:function(){var a=this.xc,c=this.Rb,a={k:a.k,i:a.i,f:a.f,F:c};this.fc&&(a.k*=c/255,a.i*=c/255,a.f*=c/255);c=this.Db;c.Ea.G=a;c.Qa.G=a;c.Oa.G=a;c.Ha.G=a;this.eb&&(this.Nc!=q.sy?this.Na.Bx(c,this.Nc):this.Da=!0);this.ef=!0},ba:null,GA:function(a){q.tb.prototype.ba.call(this,a);this.Ts()},pr:function(a){q.tb.prototype.ba.call(this,
a);this.hm()},n:null,DA:function(a){q.tb.prototype.n.call(this,a);this.Ts()},nr:function(a){var c=this.md();if(c.k!==a.k||c.i!==a.i||c.f!==a.f)q.tb.prototype.n.call(this,a),this.xu(),this.hm()},Sc:null,IP:function(a){q.tb.prototype.Sc.call(this,a);this.Ts()},$A:function(a){var c=this.md();q.tb.prototype.Sc.call(this,a);a=this.xc;if(c.k!==a.k||c.i!==a.i||c.f!==a.f)this.xu(),this.hm()},Cp:null,XO:function(a){this.Sa();var c=a.Cb;this.Jh.A=c.x;this.Jh.I=c.y;c=a.Z();a.kb||(this.kb=!1,a.Hf(function(a){this.kb=
!0;var c=a.Z();c!=this.za&&this.ia(c);this.Gb(a.fe(),a.$c,a.Zc);this.Ld()},this));c!=this.za&&this.ia(c);this.Oc=a.$c;this.Gb(a.fe(),this.Oc,a.Zc)},WO:function(a){this.Sa();var c=a.Cb;this.Jh.A=c.x;this.Jh.I=c.y;this.Oc=a.$c;var c=a.Z(),d=a.kb;d||(this.kb=!1,a.Hf(function(a){this.kb=!0;var c=a.Z();c!=this.za&&this.ia(c);this.Gb(a.fe(),a.$c,a.Zc);this.Ld()},this));c!=this.za&&this.ia(c);this.Oc&&(this.dg=c);this.Gb(a.fe(),this.Oc,a.Zc);this.Au=!1;d&&(a=this.md(),255===a.k&&255===a.i&&255===a.f||this.xu())},
oI:null,YN:function(a){return q.XI(a.fe(),this.ra)&&a.Z().getName()==this.za.getName()&&q.MI(a.Cb,this.Jh)},XN:function(a){return a.Z()!=this.za?!1:q.XI(a.fe(),this.ra)},fR:function(){return q.vd.Ob(this.za,q.Dn(this.ra),this.Oc,q.TL(this.Jh),q.ry(this.na))},qe:null,PO:function(a){if(this.eb=a)this.tm={F:1,f:0,xa:0,Fa:1,Ua:0,Va:0},this.Hp(this.eb.Na);else{this.Nc=q.sy;this.Hp(null);this.Bh=!1;this.yg(!1);a=this.Yb.A;var c=this.Yb.I,d=a+this.ra.width,e=c+this.ra.height,f=this.Db;f.Ea.p={x:a,y:c,z:0};
f.Qa.p={x:d,y:c,z:0};f.Oa.p={x:a,y:e,z:0};f.Ha.p={x:d,y:e,z:0};this.ef=!0}},OO:function(a){(this.eb=a)?(this.tm={F:1,f:0,xa:0,Fa:1,Ua:0,Va:0},this.Hp(this.eb.Na)):(this.Nc=q.sy,this.Hp(null),this.Bh=!1,this.yg(!1))},ia:null,rr:function(a){if(a&&!(a instanceof q.Tb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.eb&&this.eb.Z()!=a?q.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.zg(q.uh.e().Zh(q.qy)):this.zg(q.uh.e().Zh(q.bM)),
this.eb||this.za==a||(this.za=a,this.um()))},qr:function(a){if(a&&!(a instanceof q.Tb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.za!=a&&(a&&a.yc instanceof HTMLImageElement&&(this.dg=a),this.za=a)},um:function(){this.eb?q.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.za&&this.za.ks()?(this.aa.src=q.se,this.aa.Ab=q.re,this.sf(!0)):(this.aa.src=770,this.aa.Ab=771,this.sf(!1))},
xu:function(){var a,c=this.za,d=this.No;c&&d.Ws&&this.dg&&(a=c.yc)&&(c=q.Ia.e().LH(this.dg.yc))&&(this.Au=!0,a instanceof HTMLCanvasElement&&!this.Oc&&!this.NF?q.KB(a,c,this.xc,d,a):(a=q.KB(a,c,this.xc,d),c=new q.Tb,c.nf(a),c.le(),this.ia(c)))},dG:function(a){a=q.Dn(a);var c=this.eb?this.Na.Z():this.za;if(c){var d=c.fp(),e=c.ep(),f,g=this.Db;this.Oc?(q.At?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.dc&&
(e=f,f=a,a=e),this.ec&&(e=c,c=d,d=e),g.Ea.t.Ka=c,g.Ea.t.ha=f,g.Qa.t.Ka=c,g.Qa.t.ha=a,g.Oa.t.Ka=d,g.Oa.t.ha=f,g.Ha.t.Ka=d,g.Ha.t.ha=a):(q.At?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.dc&&(e=c,c=d,d=e),this.ec&&(e=f,f=a,a=e),g.Ea.t.Ka=c,g.Ea.t.ha=a,g.Qa.t.Ka=d,g.Qa.t.ha=a,g.Oa.t.Ka=c,g.Oa.t.ha=f,g.Ha.t.Ka=d,g.Ha.t.ha=f);this.ef=!0}},Ra:null,cg:function(){if(this.kb){var a=q.Q,c=this.za;c?c.jc&&(this.zc.Xe(),
this.zc.Bg(),q.Rj(this.aa.src,this.aa.Ab),q.W5(0,c),q.ge(q.hu),a.bindBuffer(a.ARRAY_BUFFER,this.vv),this.ef&&(a.bufferData(a.ARRAY_BUFFER,this.Db.pB,a.DYNAMIC_DRAW),this.ef=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.zc.Xe(),this.zc.Bg(),q.Rj(this.aa.src,this.aa.Ab),q.pg(null),q.ge(q.Kg|q.vM),a.bindBuffer(a.ARRAY_BUFFER,this.vv),this.ef&&(q.Q.bufferData(q.Q.ARRAY_BUFFER,
this.Db.pB,q.Q.STATIC_DRAW),this.ef=!1),a.vertexAttribPointer(q.ve,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.dq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));q.Qh++;0!==q.ik&&(1===q.ik?(a=this.Db,a=[q.a(a.Oa.p.x,a.Oa.p.y),q.a(a.Ea.p.x,a.Ea.p.y),q.a(a.Qa.p.x,a.Qa.p.y),q.a(a.Ha.p.x,a.Ha.p.y)],q.Kf.Yd(a,4,!0)):2===q.ik&&(a=this.UB().Xa,c=this.Yb,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Kf.Yd(a,4,!0)))}},Rl:function(a){if(this.kb){a=
a||q.Q;this.qo&&(a.globalCompositeOperation="lighter");var c=q.la.e().oa,d=q.la.e().wa;a.globalAlpha=this.Rb/255;var e=this.ra,f=this.na,g=this.Yb,h=this.xz,k=0|g.A,l=-g.I-e.height,m=this.No;h.width=e.width*c;h.height=e.height*d;if(this.dc||this.ec)a.save(),this.dc&&(k=-g.A-e.width,a.scale(-1,1)),this.ec&&(l=g.I,a.scale(1,-1));k*=c;l*=d;this.za&&m.Ws?(f=this.za.yc,this.Au?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.Ca&&
(h=this.md(),a.fillStyle="rgba("+h.k+","+h.i+","+h.f+",1)",a.fillRect(k,l,f.Ca*c,f.ma*d));1===q.ik?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[q.a(k,l),q.a(k+e.width,l),q.a(k+e.width,l-e.height),q.a(k,l-e.height)],q.Kf.Yd(k,4,!0)):2===q.ik&&(a.strokeStyle="rgba(0,255,0,1)",c=this.ra.Xa,l=-l,k=[q.a(k,l),q.a(k+c.width,l),q.a(k+c.width,l-c.height),q.a(k,l-c.height)],q.Kf.Yd(k,4,!0));(this.dc||this.ec)&&a.restore();q.Qh++}}});
q.Ba.Hc?(b=q.u.prototype,b.MA=q.u.prototype.uP,b.sf=q.u.prototype.cP,b.Tc=q.u.prototype.JP,b.ctor=q.u.prototype.xh,b.nl=q.u.prototype.RO,b.q=q.u.prototype.Rz,b.Ga=q.u.prototype.Vq,b.Nv=q.u.prototype.zP,b.Gb=q.u.prototype.eG,b.Sf=q.u.prototype.RP,b.g=q.u.prototype.Qy,b.ba=q.u.prototype.GA,b.n=q.u.prototype.DA,b.Sc=q.u.prototype.IP,b.Cp=q.u.prototype.XO,b.oI=q.u.prototype.YN,b.qe=q.u.prototype.PO,b.ia=q.u.prototype.rr,b.Ra=q.u.prototype.cg):(b=q.u.prototype,b.MA=q.u.prototype.tP,b.sf=q.u.prototype.bP,
b.Tc=q.u.prototype.xG,b.ctor=q.u.prototype.wh,b.nl=q.u.prototype.QO,b.q=q.u.prototype.Qz,b.Ga=q.u.prototype.Uq,b.Nv=q.u.prototype.yP,b.Gb=q.u.prototype.IA,b.Sf=q.u.prototype.QP,b.g=q.u.prototype.Py,b.ba=q.u.prototype.pr,b.n=q.u.prototype.nr,b.Sc=q.u.prototype.$A,b.Cp=q.u.prototype.WO,b.oI=q.u.prototype.XN,b.qe=q.u.prototype.OO,b.ia=q.u.prototype.qr,b.Ra=q.u.prototype.Rl);
q.u.Ob=function(a,c){var d=arguments.length,e=new q.u;switch(d){case 1:return e&&e.Ga(a)?e:null;case 2:return e&&e.Ga(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};q.u.create=function(a,c){var d=arguments.length,e=new q.u;if(0===d){if(e.q())return e}else if(e&&e.q(a,c))return e;return null};
q.u.aH=function(a){var c=null;if("string"==typeof a){if(c=q.Yf.e().gh(a),!c)return q.log("Invalid spriteFrameName: "+a),null}else return q.log("Invalid argument. Expecting string."),null;return(a=new q.u)&&a.me(c)?a:null};q.u.$G=function(a){var c=new q.u;return c&&c.me(a)?c:null};q.Xi=q.ya.extend({ur:null,Nd:0,Nr:null,ctor:function(){this.Nd=0},C:function(){var a=new q.Xi;a.me(this.ur.C(),this.Nd,this.Nr);return a},hw:function(){return q.C(this)},copy:function(){var a=new q.Xi;a.me(this.ur.C(),this.Nd,this.Nr);return a},me:function(a,c,d){this.ur=a;this.Nd=c;this.Nr=d;return!0},gh:function(){return this.ur},tf:function(a){this.ur=a},g3:function(){return this.Nd},k$:function(a){this.Nd=a},H5:function(){return this.Nr},Paa:function(a){this.Nr=a}});
q.Wi=q.ya.extend({Pd:null,wj:0,em:!1,pa:0,Nd:0,rm:0,ctor:function(){this.Pd=[]},y3:function(){return this.Pd},AJ:function(a){this.Pd=a},nB:function(a){var c=new q.Xi;c.me(a,1,null);this.Pd.push(c);this.rm++},u0:function(a){a=q.Ia.e().$a(a);var c=q.Vc();c.Xa=a.d();a=q.vd.Ob(a,c);this.nB(a)},v0:function(a,c){var d=q.vd.Ob(a,c);this.nB(d)},ls:function(a,c,d){q.at(a,q.Xi);this.Nd=c;this.wj=d;this.AJ([]);for(c=0;c<a.length;c++)d=a[c],this.Pd.push(d),this.rm+=d.Nd;return!0},C:function(){var a=new q.Wi;
a.ls(this.iF(),this.Nd,this.wj);a.jx(this.em);return a},hw:function(){var a=new q.Wi;a.ls(this.iF(),this.Nd,this.wj);a.jx(this.em);return a},iF:function(){for(var a=[],c=0;c<this.Pd.length;c++)a.push(this.Pd[c].C());return a},copy:function(){return this.hw(null)},O3:function(){return this.wj},I$:function(a){this.wj=a},jx:function(a){this.em=a},T4:function(){return this.em},jf:function(){return this.rm*this.Nd},f3:function(){return this.Nd},j$:function(a){this.Nd=a},z5:function(){return this.rm},gI:function(a,
c){q.at(a,q.vd);this.wj=1;this.Nd=c||0;this.AJ([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new q.Xi;f.me(e,1,null);this.Pd.push(f);this.rm++}return!0},gJ:function(){},MC:function(){}});q.Wi.create=function(a,c,d){var e=arguments.length,f=new q.Wi;0==e?f.gI(null,0):2==e?f.gI(a,c||0):3==e&&f.ls(a,c,d);return f};q.Wi.ZG=function(a,c,d){var e=new q.Wi;e.ls(a,c,d);return e};q.yl=q.ya.extend({IG:function(a,c){this.Ll[c]=a},q9:function(a){a&&this.Ll.hasOwnProperty(a)&&delete this.Ll[a]},zH:function(a){return this.Ll.hasOwnProperty(a)?this.Ll[a]:null},LM:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=q.Yf.e(),h=q.ud.e(),k,l=0;l<f.length;l++)k=h.yH(f[l],c),g.PG(k);switch(e){case 1:this.rO(d);break;case 2:this.sO(d);break;default:q.log("cc.AnimationCache. Invalid animation format")}}else q.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
k0:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=q.ud.e(),d=c.ce(a);(c=c.jw(d))?this.LM(c,a):q.log("cc.AnimationCache.addAnimations(): File could not be found")},rO:function(a){var c=q.Yf.e(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.gh(f[h]);if(k){var l=new q.Xi;l.me(k,1,null);g.push(l)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?q.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&q.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=q.Wi.ZG(g,e,1),q.yl.e().IG(g,d))}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
sO:function(a){var c=q.Yf.e(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?q.Fl:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.gh(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,p=new q.Xi;p.me(r,n,m);k.push(p)}else q.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new q.Wi;h.ls(k,e,f);h.jx(g);q.yl.e().IG(h,d)}else q.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},q:function(){this.Ll={};return!0},Ll:null});q.yl.oU=function(){q.en&&(q.en.Ll=null,q.en=null)};q.yl.e=function(){null===q.en&&(q.en=new q.yl,q.en.q());return q.en};q.en=null;q.vd=q.ya.extend({Cb:null,Zc:null,Ce:null,$c:!1,ra:null,Af:null,bf:null,za:null,Mo:"",kb:!1,Ku:null,ctor:function(){this.Cb=q.jd();this.Af=q.jd();this.Zc=q.jm();this.$c=!1;this.bf=q.jm();this.Mo="";this.za=null;this.kb=!1},qK:function(){return this.kb},Hf:function(a,c){null==this.Ku&&(this.Ku=[]);this.Ku.push({Oj:a,Ph:c})},Ld:function(){var a=this.Ku;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.Oj.call(e.Ph,this)}a.length=0}},$R:function(){var a=this.Ce;return q.rect(a.x,a.y,a.width,a.height)},
maa:function(a){this.Ce||(this.Ce=q.rect(0,0,0,0));this.Ce.x=a.x;this.Ce.y=a.y;this.Ce.width=a.width;this.Ce.height=a.height;this.ra=q.Vp(a)},Y6:function(){return this.$c},uaa:function(a){this.$c=a},fe:function(){var a=this.ra;return q.rect(a.x,a.y,a.width,a.height)},KJ:function(a){this.ra||(this.ra=q.rect(0,0,0,0));this.ra.x=a.x;this.ra.y=a.y;this.ra.width=a.width;this.ra.height=a.height;this.Ce=q.Dn(this.ra)},o4:function(){return this.Af},W$:function(a){this.Af.A=a.x;this.Af.I=a.y;q.ku(this.Af,
this.Cb)},v4:function(){return this.bf},Z$:function(a){this.bf.Ca=a.width;this.bf.ma=a.height},UR:function(){return this.Zc},Y$:function(a){this.Zc.Ca=a.width;this.Zc.ma=a.height},Z:function(){if(this.za)return this.za;if(""!==this.Mo){var a=q.Ia.e().$a(this.Mo);a&&(this.kb=a.sg());return a}return null},ia:function(a){if(this.za!=a){var c=a.sg();this.kb=c;this.za=a;c||a.Hf(function(a){this.kb=!0;if(this.$c&&q.pd===q.Uf){var c=a.yc,c=q.bH(c,this.fe()),f=new q.Tb;f.nf(c);f.le();this.ia(f);c=this.fe();
this.KJ(q.rect(0,0,c.width,c.height))}c=this.ra;0===c.width&&0===c.height&&(a=a.d(),this.ra.width=a.width,this.ra.height=a.height,this.Ce=q.Dn(this.ra),this.bf.Ca=this.Ce.width,this.bf.ma=this.Ce.height,this.Zc.Ca=a.width,this.Zc.ma=a.height);this.Ld()},this)}},n4:function(){return this.Cb},V$:function(a){this.Cb.A=a.x;this.Cb.I=a.y},C:function(){var a=new q.vd;a.Ew(this.Mo,this.Ce,this.$c,this.Af,this.bf);a.ia(this.za);return a},hw:function(){var a=new q.vd;a.Ew(this.Mo,this.Ce,this.$c,this.Af,this.bf);
a.ia(this.za);return a},copy:function(){return this.hw()},Ga:function(a,c,d,e,f){2===arguments.length&&(c=q.Dn(c));e=e||q.a(0,0);f=f||c.Xa;this.ia(a);this.Ce=c;this.ra=q.Vp(c);this.Af.A=e.x;this.Af.I=e.y;q.ku(e,this.Cb);this.bf.Ca=f.width;this.bf.ma=f.height;q.Iy(f,this.Zc);this.$c=d||!1;return!0},Ew:function(a,c,d,e,f){2===arguments.length&&(c=q.Dn(c));e=e||q.a(0,0);f=f||c.Xa;this.za=null;this.Mo=a;this.Ce=c;this.ra=q.Vp(c);this.$c=d||!1;this.Af.A=e.x;this.Af.I=e.y;q.ku(e,this.Cb);this.bf.Ca=f.width;
this.bf.ma=f.height;q.Iy(f,this.Zc);return!0}});q.vd.create=function(a,c,d,e,f){var g=new q.vd;switch(arguments.length){case 2:g.Ew(a,c);break;case 5:g.Ew(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};q.vd.Ob=function(a,c,d,e,f){var g=new q.vd;switch(arguments.length){case 2:g.Ga(a,c);break;case 5:g.Ga(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
q.vd.E_=function(a,c,d,e,f){var g=new q.vd;g.za=a;g.Ce=c;g.ra=q.Vp(c);g.Af.A=e.x;g.Af.I=e.y;q.ku(g.Af,g.Cb);g.bf.Ca=f.width;g.bf.ma=f.height;q.Iy(g.bf,g.Zc);g.$c=d;return g};q.Yf=q.ya.extend({Ee:null,Kk:null,$q:null,ctor:function(){this.Ee={};this.Kk={};this.$q=[]},Sy:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)q.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.Ee[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),p=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);p&&d||q.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");p=Math.abs(p);d=Math.abs(d);h=q.vd.Ob(c,q.rect(h,k,l,m),!1,q.a(n,r),q.size(p,d))}else if(1==f||2==f)h=q.wE(d.frame),k=!1,2==f&&(k=d.rotated),l=q.vE(d.offset),d=q.uy(d.sourceSize),h=q.vd.Ob(c,h,k,l,d);else if(3==f){var h=q.uy(d.spriteSize),k=q.vE(d.spriteOffset),l=q.uy(d.spriteSourceSize),m=q.wE(d.textureRect),n=d.textureRotated,
r=d.aliases,p=g.toString(),t;for(t in r)this.Kk.hasOwnProperty(r[t])&&q.log("cocos2d: WARNING: an alias with name "+t+" already exists"),this.Kk[r[t]]=p;d.hasOwnProperty("spriteSize")&&(m=q.rect(m.x,m.y,h.width,h.height));h=q.vd.Ob(c,m,n,k,l)}else var v=d.filename,k=d.frame,h=d.sourceSize,k=q.rect(k.x,k.y,k.GK,k.ke),d=d.rotated,l=q.a(0,0),h=q.size(h.GK,h.ke),h=q.vd.Ob(c,k,d,l,h);q.pd===q.Uf&&h.$c&&h.Z().sg()&&(d=h.Z().yc,d=q.bH(d,h.$R()),k=new q.Tb,k.nf(d),k.le(),h.ia(k),d=h.ra,h.KJ(q.rect(0,0,d.width,
d.height)));this.Ee[null!=v?v:g]=h}}},PG:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=q.ud.e(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.ce(a),e=d.jw(e)):e=JSON.parse(d.JH(a));switch(arguments.length){case 1:if(!q.Ix(this.$q,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.yH(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=q.Ia.e().$a(f))?this.Sy(e,d):q.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof q.Tb)this.Sy(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=q.Ia.e().$a(c))?this.Sy(e,d):q.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},nB:function(a,c){this.Ee[c]=a},z9:function(){this.Ee=[];this.Kk=[];this.$q={}},y9:function(a){a&&(this.Kk.hasOwnProperty(a)&&delete this.Kk[a],this.Ee.hasOwnProperty(a)&&delete this.Ee[a],this.$q={})},A9:function(a){var c=
q.ud.e(),d=c.ce(a),c=c.jw(d);this.CO(c);q.Ix(this.$q,a)&&q.Fd(a)},CO:function(a){a=a.frames;for(var c in a)this.Ee.hasOwnProperty(c)&&delete this.Ee[c]},B9:function(a){for(var c in this.Ee){var d=this.Ee[c];d&&d.Z()==a&&delete this.Ee[c]}},gh:function(a){var c;this.Ee.hasOwnProperty(a)&&(c=this.Ee[a]);if(!c){var d;this.Kk.hasOwnProperty(a)&&(d=this.Kk[a]);d&&(this.Ee.hasOwnProperty(d.toString())&&(c=this.Ee[d.toString()]),c||q.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
q.ax=null;q.Yf.e=function(){q.ax||(q.ax=new q.Yf);return q.ax};q.Yf.pU=function(){q.ax=null};q.Tp=29;
q.ob=q.B.extend({Na:null,aa:null,gd:null,w0:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof q.u))return q.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.pe(c);var e=0,f=this.gd;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.Nc>=c&&++e}this.gd=q.zl(f,a,e);q.B.prototype.g.call(this,a,c,d);this.cJ(!1);return this},KH:function(){return this.Na},Hp:function(a){a!=this.Na&&
(this.Na=a)},j3:function(){return this.gd},Ni:function(a,c){var d=q.Ia.e().wx(a);d||(d=q.Ia.e().$a(a));return this.Ga(d,c)},hm:function(){this.eF=!0},q:function(a,c){var d=q.Ia.e().wx(a);d||(d=q.Ia.e().$a(a));return this.Ga(d,c)},zw:function(){var a=this.Na.Wc,c=Math.floor(4*(a+1)/3);q.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Na.VU(c)||q.log("cocos2d: WARNING: Not enough memory to resize the atlas")},s9:function(a,c){this.removeChild(this.r[a],c)},
WI:function(a,c){var d=a.r;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.Za&&(c=this.WI(f,c))}!a==this&&(a.pe(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.Za&&(c=this.WI(f,c));return c},dC:function(a){var c=a.r;return c&&0!=c.length?this.dC(c[c.length-1]):a.Nc},sT:function(a){var c=a.r;return c&&0!=c.length?this.sT(c[c.length-1]):a.Nc},jQ:function(a,c){var d=a.getParent().r,e=q.Kx(d,a),f=a.getParent()==this,g=null;0<e&&e<q.sM&&(g=d[e-1]);if(f)return 0==e?0:this.dC(g)+
1;if(0==e)return d=a.getParent(),0>c?d.Nc:d.Nc+1;if(0>g.Za&&0>c||0<=g.Za&&0<=c)return this.dC(g)+1;d=a.getParent();return d.Nc+1},cJ:function(a){this.Td=a},nl:function(a,c){this.aa=1==arguments.length?a:{src:a,Ab:c}},Zr:function(){return this.aa},Cs:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.r.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.Za&&(q.B.prototype.Cs.call(this,a,c),this.Sa())},removeChild:function(a,
c){null!=a&&(-1===this.r.indexOf(a)?q.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.bn(a),q.B.prototype.removeChild.call(this,a,c)))},hO:null,pm:null,g0:!1,dg:null,ctor:null,wh:function(a){q.B.prototype.ctor.call(this);a&&this.q(a,q.Tp)},xh:function(a){q.B.prototype.ctor.call(this);this.hO=new q.ih;a&&this.q(a,q.Tp)},BK:null,NP:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof q.u?(a.qe(this),a.pe(c),
a.yg(!0),a.Sf()):q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},OP:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof q.u){for(var d=this.Na.Wc;c>=d||d==this.Na.Pa;)this.zw();a.qe(this);a.pe(c);a.yg(!0);a.Sf()}else q.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Jv:function(a,c){var d=this.gd,e=this.Na,f=e.Ae,g=d[a],
h=q.Fy(f[a]);d[c].pe(a);d[a]=d[c];e.Bx(f[c],a);d[c]=g;e.Bx(h,c)},hI:null,VN:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof q.u?(a.qe(this),a.pe(c),a.yg(!0),a.Sf(),this.r=q.zl(this.r,a,c)):q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},WN:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof q.u){for(var d=this.Na;c>=d.Wc||
d.Wc===d.Pa;)this.zw();a.qe(this);a.pe(c);d.mC(a.Db,c);a.yg(!0);a.Sf()}else q.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},wG:function(a,c){var d=0,e=a.r;e&&(d=e.length);var f=0;if(0===d)f=a.Nc,a.pe(c),a.Ep(0),f!=c&&this.Jv(f,c),c++;else{f=!0;0<=e[0].Za&&(f=a.Nc,a.pe(c),a.Ep(0),f!=c&&this.Jv(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.Za&&(f=a.Nc,a.pe(c),a.Ep(0),f!=c&&this.Jv(f,c),c++,f=!1);c=this.wG(g,c)}f&&(f=a.Nc,a.pe(c),
a.Ep(0),f!=c&&this.Jv(f,c),c++)}return c},um:function(){this.Na.Z().ks()||(this.aa.src=770,this.aa.Ab=771)},Ga:null,Uq:function(a){this.r=[];this.gd=[];this.aa=new q.Bl(q.se,q.re);this.pm=this.dg=a;return!0},Vq:function(a,c){this.r=[];this.gd=[];this.aa=new q.Bl(q.se,q.re);c=c||q.Tp;this.Na=new q.Jn;this.Na.Ga(a,c);this.um();this.zg(q.uh.e().Zh(q.qy));return!0},XS:function(a,c){a.qe(this);a.pe(c);a.yg(!0);var d=this.Na;d.Pa>=d.Wc&&this.zw();d.mC(a.Db,c);this.gd=q.zl(this.gd,a,c);var d=c+1,e=this.gd;
if(e&&0<e.length)for(;d<e.length;d++)e[d].pe(e[d].Nc+1);if((e=a.r)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.jQ(e[d],e[d].Za);this.XS(e[d],f)}},appendChild:null,SM:function(a){this.Td=!0;a.qe(this);a.yg(!0);this.gd.push(a);a.pe(this.gd.length-1);a=a.r;for(var c=0;c<a.length;c++)this.appendChild(a[c])},TM:function(a){this.Td=!0;a.qe(this);a.yg(!0);this.gd.push(a);var c=this.gd.length-1;a.pe(c);var d=this.Na;d.Pa==d.Wc&&this.zw();d.mC(a.Db,c);a=a.r;for(c=0;c<a.length;c++)this.appendChild(a[c])},
bn:null,DO:function(a){a.qe(null);var c=this.gd,d=q.Kx(c,a);if(-1!=d){q.Op(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.pe(f.Nc-1)}}if((a=a.r)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.bn(a[c])},EO:function(a){this.Na.PU(a.Nc);a.qe(null);var c=this.gd,d=q.Kx(c,a);if(-1!=d){q.Op(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.pe(f.Nc-1)}}if((a=a.r)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.bn(a[c])},Z:null,Lz:function(){return this.pm},Mz:function(){return this.Na.Z()},ia:null,qr:function(a){this.pm=
a;for(var c=this.r,d=0;d<c.length;d++)c[d].ia(a)},rr:function(a){this.Na.ia(a);this.um()},ka:null,vm:function(a){var c=a||q.Q;if(this.qa){c.save();this.transform(a);var d=this.r;if(d)for(this.Dd(),a=0;a<d.length;a++)d[a]&&d[a].ka(c);c.restore()}},wm:function(a){a=a||q.Q;if(this.qa){q.rp();var c=this.wk;c&&c.np()&&(c.sB(),this.zx());this.Dd();this.transform(a);this.Ra(a);c&&c.np()&&c.oB(this);q.qp();this.Ep(0)}},g:null,Py:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof q.u?(c=null==c?a.Za:c,d=null==d?a.bd:d,q.B.prototype.g.call(this,a,c,d),this.appendChild(a),this.Sa()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Qy:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof q.u?a.Z()!=this.Na.Z()?q.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.Za:c,d=null==d?a.bd:d,q.B.prototype.g.call(this,a,c,d),this.appendChild(a),
this.Sa()):q.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},mc:null,zO:function(a){var c=this.gd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].qe(null);q.B.prototype.mc.call(this,a);this.gd=[]},AO:function(a){var c=this.gd;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].qe(null);q.B.prototype.mc.call(this,a);this.gd=[];this.Na.JU()},Dd:null,rP:function(){if(this.Td){var a,c=0,d=this.r,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.Za<f.Za||g.Za==f.Za&&g.Bf<f.Bf);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.$f(d,q.B.wf.Dd);this.Td=!1}},sP:function(){if(this.Td){var a=this.r,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.Za<f.Za||g.Za==f.Za&&g.Bf<f.Bf);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.$f(a,q.B.wf.Dd),c=d=0;c<a.length;c++)d=this.wG(a[c],d);this.Td=!1}},Ra:null,cg:function(){0!==this.Na.Pa&&(this.zc.Xe(),this.zc.Bg(),this.$f(this.r,q.B.wf.Sf),q.Rj(this.aa.src,
this.aa.Ab),this.Na.kR())}});
q.Ba.Hc?(b=q.ob.prototype,b.ctor=q.ob.prototype.xh,b.BK=q.ob.prototype.OP,b.hI=q.ob.prototype.WN,b.Ga=q.ob.prototype.Vq,b.appendChild=q.ob.prototype.TM,b.bn=q.ob.prototype.EO,b.Z=q.ob.prototype.Mz,b.ia=q.ob.prototype.rr,b.ka=q.ob.prototype.wm,b.g=q.ob.prototype.Qy,b.mc=q.ob.prototype.AO,b.Dd=q.ob.prototype.sP,b.Ra=q.ob.prototype.cg):(b=q.ob.prototype,b.ctor=q.ob.prototype.wh,b.BK=q.ob.prototype.NP,b.hI=q.ob.prototype.VN,b.Ga=q.ob.prototype.Uq,b.appendChild=q.ob.prototype.SM,b.bn=q.ob.prototype.DO,
b.Z=q.ob.prototype.Lz,b.ia=q.ob.prototype.qr,b.ka=q.ob.prototype.vm,b.mc=q.ob.prototype.zO,b.g=q.ob.prototype.Py,b.Dd=q.ob.prototype.rP,b.Ra=q.B.prototype.Ra);q.ob.create=function(a,c){c=c||q.Tp;var d=new q.ob;d.q(a,c);return d};q.ob.Ob=function(a,c){c=c||q.Tp;var d=new q.ob;d.Ga(a,c);return d};q.YX={VX:0,XX:1,WX:2,UX:3,TX:4};
q.te=q.ya.extend({br:0,IF:0,Ar:!1,zr:!1,Fv:!1,Gv:!1,Hv:!1,eO:0,hv:0,hq:"",Ij:null,ctor:function(){this.IF=this.br=0;this.Hv=this.Gv=this.Fv=this.zr=this.Ar=!1;this.hv=this.eO=0;this.hq="";this.Ij={}},U3:function(){return this.br},T3:function(){return this.IF},V3:function(){return this.hv},tba:function(){return this.zr},uba:function(){return this.Ar},rba:function(){return this.Fv},sba:function(){return this.Gv},vba:function(){return this.Hv},Xo:function(a){return-1<this.hq.indexOf(a)},q:function(){var a=
this.Ij;a["cocos2d.x.version"]=q.gt;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=q.$D;return!0},M2:function(a,c){var d=this.Ij;return d.hasOwnProperty(a)?d[a]:c},H2:function(a,c){null==c&&(c=!1);var d=this.Ij;return d.hasOwnProperty(a)?d[a]:c},f4:function(a,c){null==c&&(c=0);var d=this.Ij;return d.hasOwnProperty(a)?d[a]:c},h4:function(a){var c=this.Ij;return c.hasOwnProperty(a)?c[a]:null},$V:function(a,c){this.Ij[a]=c},oR:function(){0===q.$D&&(q.log(""),q.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
q.log(""))},zR:function(){if(q.pd!==q.Uf){var a=q.Q,c=this.Ij;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.hq="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.hq+=d[e]+" ";this.br=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.br;this.hv=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.hv;this.Ar=this.Xo("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Ar;this.zr=!1;c["gl.supports_NPOT"]=this.zr;this.Fv=this.Xo("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Fv;this.Gv=this.Xo("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Gv;this.Hv=this.Xo("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Hv;q.JD()}},E7:function(a){var c=q.ud.e(),d=c.ce(a),c=c.jw(d);if(null!=c)if(c=c.data)for(var e in c)this.Ij[e]=c[e];else q.log("Expected 'data' dict, but not found. Config file: "+a)}});q.te.tr=null;
q.te.e=function(){q.te.tr||(q.te.tr=new q.te,q.te.tr.q());return q.te.tr};q.te.W8=function(){q.te.tr=null};q.Qh=0;q.aL=0;q.XD=1;q.bL=3;q.cL=q.XD;q.cY=0;q.aY=1;q.dY=2;q.bY=3;q.$X=2;q.gY=q.ya.extend({bca:function(){}});q.aE=function(a){var c=new q.ih;q.kT(q.It,c);var d=new q.ih;q.kT(q.Ht,d);q.nT(a,c,d)};
q.T=q.ya.extend({Q_:!1,fr:!1,cm:!1,uv:!1,gm:!1,Mg:0,bA:0,Ik:0,Mn:0,Ql:1,Bq:!1,sk:0,Nu:0,lk:null,nk:null,tk:null,Kb:null,vj:null,xi:null,mv:null,Sg:null,Ei:null,nA:null,ad:null,Pd:0,WA:0,CA:0,B_:null,jg:null,Lg:null,Ie:null,Xz:null,pu:null,dr:null,P_:!1,ctor:function(){this.vj=Date.now();if(!q.nC){var a=this;window.addEventListener("focus",function(){a.vj=Date.now()},!1)}},JO:function(){this.vj=Date.now()},q:function(){this.bA=this.Mg=1/q.SQ;this.Ei=[];this.Ik=q.cL;this.nA=null;this.Nu=this.Mn=0;this.Bq=
!1;this.WA=this.Pd=0;this.vj=Date.now();this.uv=this.cm=!1;this.Kb=q.jm();this.Sg=null;this.Ql=1;this.jg=new q.fM;this.Lg=new q.MK;this.jg.iJ(this.Lg,q.Lt,!1);q.da&&(this.Ie=new q.da,this.Ie.q());q.Bn&&(this.Xz=q.Bn.e());q.ek&&(this.pu=new q.ek);q.Jd&&(this.dr=new q.Jd,this.dr.q());return!0},nQ:function(){var a=Date.now();this.fr?(this.sk=0,this.fr=!1):this.sk=(a-this.vj)/1E3;0<q.dt&&0.2<this.sk&&(this.sk=1/60);this.vj=a},KQ:function(a){var c=new q.ih;q.aE(c);var d=new q.ih;q.w7(d,c);var c=c.jh[14]/
c.jh[15],e=this.Sg.dp();a=new q.sp(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new q.sp;q.pT(c,a,d);return q.a(c.x,c.y)},MQ:function(a){var c=new q.ih;q.aE(c);var d=new q.sp;a=new q.sp(a.x,a.y,0);q.pT(d,a,c);c=this.Sg.dp();return q.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},lR:function(){this.nQ();this.cm||this.jg.update(this.sk);this.gF();this.xi&&this.ZV();this.Xy&&this.Xy();this.ad&&this.ad.ka();this.mv&&this.mv.ka();this.Bq&&this.qP();this.Ty&&this.Ty();this.WA++;this.Bq&&this.$M()},hN:function(){var a=
this.Sg.Ke;q.Q.clearRect(-a.x,a.y,a.width,-a.height)},oN:function(){var a=q.Q;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Xy:null,Ty:null,VM:function(){q.rp()},RM:function(){q.qp()},end:function(){this.uv=!0},Y2:function(){return this.Ql},e4:function(){return this.mv},R5:function(){return this.Kb},oS:function(){return q.size(this.Kb.width*this.Ql,this.Kb.height*this.Ql)},gs:function(){return this.Sg?this.Sg.gs():this.Kb},QH:function(){return this.Sg?this.Sg.QH():q.UL},is:function(){return this.Kb.height/
1.1566},pause:function(){this.cm||(this.bA=this.Mg,this.Es(0.25),this.cm=!0)},Q8:function(){if(!this.ad)throw"running scene should not null";this.Ei.pop();var a=this.Ei.length;0==a?this.end():(this.gm=!0,this.xi=this.Ei[a-1])},HC:function(){q.dy.HC()},nU:function(){this.lf().Ss();this.Ie&&this.Ie.IU();this.ad&&(this.ad.kh(),this.ad.Cd(),this.ad.Jf());this.xi=this.ad=null;this.Ei=[];this.jK();q.dy.HC();q.yl.oU();q.Yf.pU();q.Ia.qU();q.JD()},rU:function(a){if(!a)throw"the scene should not null";this.gm=
!1;this.Ei.push(a);this.xi=a},dJ:function(a){if(!this.ad)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.Ei.length;0===c?(this.gm=!0,this.Ei[c]=a):(this.gm=!0,this.Ei[c-1]=a);this.xi=a},fJ:function(){this.cm&&(this.Es(this.bA),(this.vj=Date.now())||q.log("cocos2d: Director: Error in gettimeofday"),this.cm=!1,this.sk=0)},cV:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.ad)throw"_runningScene should be null";
this.rU(a);this.hK()},qV:function(a){a?q.Rj(q.se,q.re):q.Rj(q.Q.ONE,q.Q.ZERO)},AV:function(a){a!=this.Ql&&(this.Ql=a,this.eo())},EV:function(a){if(q.pd!==q.Uf){var c=q.Q;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},i$:function(){},BJ:function(){this.qV(!0);this.EV(!1);this.ix(this.Ik);q.Q.clearColor(0,0,0,1)},R$:function(a){this.fr=a},ZV:function(){var a=!1,c=!1;q.ME&&(a=this.ad?this.ad instanceof q.ME:!1,c=this.xi?this.xi instanceof q.ME:!1);if(!c){if(c=
this.ad)c.kh(),c.Cd();this.gm&&c&&c.Jf()}this.ad=this.xi;this.xi=null;a||null==this.ad||(this.ad.vg(),this.ad.Wh())},S$:function(a){this.mv=a},Zb:function(){return this.nA},mh:function(a){this.nA=a},eW:function(a){this.Kb.nD(q.canvas.width);this.Kb.bD(q.canvas.height);this.Sg=a||q.la.e();q.pd!==q.Uf&&(a=q.te.e(),a.zR(),a.oR(),this.eo(),this.BJ(),this.Ie&&this.Ie.FV(!0))},WJ:function(){if(this.Sg){var a=this.Kb;this.Sg.zW(0,0,a.width,a.height)}},ix:function(a){var c=this.Kb;if(q.pd===q.kk){this.WJ();
switch(a){case q.aL:q.Lm(q.It);q.qC();var d=new q.ih;q.oT(d,0,c.width,0,c.height,-1024,1024);q.Hw(d);q.Lm(q.Ht);q.qC();break;case q.XD:var e=this.is(),f=new q.ih,d=new q.ih;q.Lm(q.It);q.qC();q.x7(f,60,c.width/c.height,0.1,2*e);q.Hw(f);q.Lm(q.Ht);q.qC();e=q.qs(null,c.width/2,c.height/2,e);c=q.qs(null,c.width/2,c.height/2,0);f=q.qs(null,0,1,0);q.mT(d,e,c,f);q.Hw(d);break;case q.bL:break;default:q.log("cocos2d: Director: unrecognized projection")}this.Ik=a;q.iaa()}else this.Ik=a},qP:function(){this.Pd++;
this.Mn+=this.sk;this.lk&&this.nk&&this.tk?(this.Mn>q.$K&&(this.nk.ca(this.CA.toFixed(3)),this.Nu=this.Pd/this.Mn,this.Mn=this.Pd=0,this.lk.ca(this.Nu.toFixed(1)),this.tk.ca((0|q.Qh).toString())),this.lk.ka(),this.nk.ka(),this.tk.ka()):this.eo();q.Qh=0},b7:function(){return this.gm},W4:function(){return this.ad},B2:function(){return this.Mg},E6:function(){return this.Bq},m$:function(a){this.Bq=a},b5:function(){return this.CA},t4:function(){return this.Sg},O6:function(){return this.fr},S6:function(){return this.cm},
A5:function(){return this.WA},J4:function(){return this.Ik},R8:function(){this.eU(1)},eU:function(a){if(!this.ad)throw"A running Scene is needed";var c=this.Ei,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.De&&(e.kh(),e.Cd());e.Jf();d--}this.xi=c[c.length-1];this.gm=!1}},lf:function(){return this.jg},oW:function(a){this.jg!=a&&(this.jg=a)},og:function(){return this.Lg},oV:function(a){this.Lg!=a&&(this.Lg=a)},C5:function(){return this.Ie},Naa:function(a){this.Ie!=a&&(this.Ie=
a)},tw:function(){if(!q.Bn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.Xz},G$:function(a){if(!q.Bn)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.Xz=a},cp:function(){if(!q.ek)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.pu},P9:function(a){if(!q.ek)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.pu!=
a&&(this.pu=a)},i3:function(){return this.sk},kf:function(){if(!q.Jd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.dr},P$:function(a){if(!q.Jd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.dr!=a&&(this.dr=a)},eo:null,rN:function(){if(!q.cy)return this.jF();if(null!=q.T.pF&&!1!=q.T.pF){var a=new q.Tb;a.nf(q.T.Dz);a.le();var c=q.la.e().dp().height/320;0===c&&(c=this.Kb.height/320);var d=new q.cy;d.FA(!0);
d.Zk("00.0",a,12,32,".");d.$j(c);this.lk=d;d=new q.cy;d.FA(!0);d.Zk("0.000",a,12,32,".");d.$j(c);this.nk=d;d=new q.cy;d.FA(!0);d.Zk("000",a,12,32,".");d.$j(c);this.tk=d;a=q.YD;this.tk.l(q.Pf(q.a(0,34*c),a));this.nk.l(q.Pf(q.a(0,17*c),a));this.lk.l(a)}},jF:function(){var a=0,a=this.Kb.width>this.Kb.height?0|this.Kb.height/320*24:0|this.Kb.width/320*24;this.lk=q.S.create("000.0","Arial",a);this.nk=q.S.create("0.000","Arial",a);this.tk=q.S.create("0000","Arial",a);var a=q.YD,c=this.tk.d();this.tk.l(q.Pf(q.a(c.width/
2,5*c.height/2),a));c=this.nk.d();this.nk.l(q.Pf(q.a(c.width/2,3*c.height/2),a));c=this.lk.d();this.lk.l(q.Pf(q.a(c.width/2,c.height/2),a))},$M:function(){this.CA=(Date.now()-this.vj)/1E3}});q.Ba.Hc?(q.T.prototype.gF=q.T.prototype.oN,q.T.prototype.Xy=q.T.prototype.VM,q.T.prototype.Ty=q.T.prototype.RM,q.T.prototype.eo=q.T.prototype.rN):(q.T.prototype.gF=q.T.prototype.hN,q.T.prototype.eo=q.T.prototype.jF);
q.dL=q.T.extend({Fw:!1,hK:function(){this.fr=!0;this.Fw=!1;q.Yi.e().Es(this.Mg)},zI:function(){this.uv?(this.uv=!1,this.nU()):this.Fw||this.lR()},jK:function(){this.Fw=!0},Es:function(a){this.Mg=a;this.Fw||(this.jK(),this.hK())}});q.$w=null;q.sH=!0;q.T.e=function(){q.sH&&(q.sH=!1,q.$w=new q.dL,q.$w.q(),q.$w.eW(q.la.e()));return q.$w};Object.defineProperties(q,{pca:{get:function(){return q.dR.Kb},enumerable:!0}});q.o2=!0;q.SQ=60;q.T.Dz=new Image;
q.T.Dz.addEventListener("load",function(){q.T.pF=!0;this.removeEventListener("load",arguments.callee,!1)});q.T.Dz.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";q.Rp=q.ya.extend({Lq:null,Mq:null,Nq:null,Zn:null,$n:null,ao:null,Kr:null,Lr:null,Mr:null,Da:null,dv:null,ctor:function(){this.dv=new q.ih;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.Zn+","+this.$n+","+this.ao+")\x3e"},yg:function(a){this.Da=a},mI:function(){return this.Da},restore:function(){this.Lq=this.Mq=0;this.Nq=q.Rp.is();this.Kr=this.Zn=this.$n=this.ao=0;this.Lr=1;this.Mr=0;q.v7(this.dv);this.Da=!1},uI:function(){if(this.Da){var a=new q.sp,c=new q.sp,d=new q.sp;
q.qs(a,this.Lq,this.Mq,this.Nq);q.qs(c,this.Zn,this.$n,this.ao);q.qs(d,this.Kr,this.Lr,this.Mr);q.mT(this.dv,a,c,d);this.Da=!1}q.Hw(this.dv)},q$:function(a,c,d){this.yJ(a,c,d)},yJ:function(a,c,d){this.Lq=a;this.Mq=c;this.Nq=d;this.Da=!0},Z9:function(a,c,d){this.wV(a,c,d)},wV:function(a,c,d){this.Zn=a;this.$n=c;this.ao=d;this.Da=!0},Oaa:function(a,c,d){this.yW(a,c,d)},yW:function(a,c,d){this.Kr=a;this.Lr=c;this.Mr=d;this.Da=!0},q3:function(){return{x:this.Lq,y:this.Mq,z:this.Nq}},DH:function(){return{x:this.Lq,
y:this.Mq,z:this.Nq}},P2:function(){return{x:this.Zn,y:this.$n,z:this.ao}},BH:function(){return{x:this.Zn,y:this.$n,z:this.ao}},G5:function(){return{x:this.Kr,y:this.Lr,z:this.Mr}},mS:function(){return{x:this.Kr,y:this.Lr,z:this.Mr}},l_:function(){}});q.Rp.is=function(){return q.Bt};q.Lt=-2147483648;q.iZ=q.Lt+1;q.at=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){q.log("element type is wrong!");break}};q.Op=function(a,c){a.splice(c,1)};q.Fd=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};q.JX=function(a,c){for(var d=0,e=c.length;d<e;d++)q.Fd(a,c[d])};q.IX=function(a,c){return a.indexOf(c)};q.GX=function(a,c){a.push(c)};q.zl=function(a,c,d){a.splice(d,0,c);return a};
q.HX=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};q.Kx=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};q.Ix=function(a,c){return-1!=a.indexOf(c)};q.BY=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};q.fE=function(a,c,d){this.next=null;this.target=a;this.SI=c;this.paused=d;this.hl=!1};q.bE=function(a,c,d){this.list=a;this.Gm=c;this.target=d;this.cC=null};
q.qL=function(a,c){this.Rf=null;this.target=a;this.Kp=0;this.Ur=this.Tr=null;this.paused=c;this.cC=null};
q.bu=q.ya.extend({uj:0,Df:null,N:null,Xb:0,$F:!1,Yv:!1,Oo:0,vA:0,Gu:0,ctor:function(){},L3:function(){return this.uj},setInterval:function(){},c5:function(){return this.Df},rg:function(a,c,d,e,f){this.N=a;this.Df=c;this.Xb=-1;this.uj=d||0;this.Gu=f||0;this.Yv=0<this.Gu;this.vA=null==e?q.Fl:e;this.$F=this.vA==q.Fl;return!0},$y:function(){if("string"==typeof this.Df)this.N[this.Df](this.Xb);else this.Df.call(this.N,this.Xb)},update:function(a){if(-1==this.Xb)this.Oo=this.Xb=0;else{var c=this.N,d=this.Df;
this.$F&&!this.Yv?(this.Xb+=a,this.Xb>=this.uj&&(c&&d&&this.$y(),this.Xb=0)):(this.Xb+=a,this.Yv?this.Xb>=this.Gu&&(c&&d&&this.$y(),this.Xb-=this.Gu,this.Oo+=1,this.Yv=!1):this.Xb>=this.uj&&(c&&d&&this.$y(),this.Xb=0,this.Oo+=1),this.Oo>this.vA&&q.T.e().lf().uK(c,d))}}});q.bu.Pba=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new q.bu;e.rg(a,c,d||0,q.Fl,0);return e};q.Z_=null;
q.fM=q.ya.extend({Dr:1,ah:null,Kh:null,lg:null,rj:null,ru:null,qj:null,x_:null,$e:null,qi:!1,Vv:!1,ctor:function(){this.Dr=1;this.ah=[];this.Kh=[];this.lg=[];this.rj={};this.ru=[];this.qj={};this.ok=[];this.$e=null;this.Vv=this.qi=!1},uA:function(a){delete this.qj[a.target.Wb];q.Fd(this.ok,a);a.bu=null;a.target=null},D_:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},wv:function(a){if(a=this.rj[a.target.Wb])q.Fd(a.list,a.Gm),delete this.rj[a.target.Wb],q.Fd(this.ru,
a),a.Gm=null,a.target=null},TF:function(a,c,d,e){e=new q.fE(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].SI){a=q.zl(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new q.bE(a,e,c);this.ru.push(d);this.rj[c.Wb]=d;return a},UM:function(a,c,d){d=new q.fE(c,0,d);a.push(d);a=new q.bE(a,d,c);this.ru.push(a);this.rj[c.Wb]=a},Iaa:function(a){this.Dr=a},v5:function(){return this.Dr},update:function(a){this.Vv=!0;1!=this.Dr&&(a*=this.Dr);var c,d;for(d=0;d<this.ah.length;d++)c=this.ah[d],c.paused||
c.hl||c.target.update(a);for(d=0;d<this.Kh.length;d++)c=this.Kh[d],c.paused||c.hl||c.target.update(a);for(d=0;d<this.lg.length;d++)c=this.lg[d],c.paused||c.hl||c.target.update(a);for(d=0;d<this.ok.length;d++){c=this.$e=this.ok[d];this.qi=!1;if(!this.$e.paused)for(c.Kp=0;c.Kp<c.Rf.length;c.Kp++)c.Tr=c.Rf[c.Kp],c.Ur=!1,c.Tr.update(a),c.Tr=null;this.qi&&0==this.$e.Rf.length&&this.uA(this.$e)}for(d=0;d<this.ah.length;d++)this.ah[d].hl&&this.wv(this.ah[d]);for(d=0;d<this.Kh.length;d++)this.Kh[d].hl&&this.wv(this.Kh[d]);
for(d=0;d<this.lg.length;d++)this.lg[d].hl&&this.wv(this.lg[d]);this.Vv=!1;this.$e=null},eV:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?q.Fl:e;f=f||0;g=g||!1;var h=this.qj[a.Wb];h||(h=new q.qL(a,g),this.ok.push(h),this.qj[a.Wb]=h);if(null==h.Rf)h.Rf=[];else for(var k=0;k<h.Rf.length;k++)if(g=h.Rf[k],c==g.Df){q.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.uj.toFixed(4)+" to "+d.toFixed(4));g.uj=d;return}g=new q.bu;g.rg(a,c,d,e,f);h.Rf.push(g)},iJ:function(a,c,d){var e=this.rj[a.Wb];e?e.Gm.hl=!1:0==c?this.UM(this.Kh,a,d):0>c?this.ah=this.TF(this.ah,a,c,d):this.lg=this.TF(this.lg,a,c,d)},uK:function(a,c){if(null!=a&&null!=c){var d=this.qj[a.Wb];if(null!=d)for(var e=0;e<d.Rf.length;e++){var f=d.Rf[e];if(c==f.Df){f!=d.Tr||d.Ur||(d.Ur=!0);q.Op(d.Rf,e);d.Kp>=e&&d.Kp--;0==d.Rf.length&&(this.$e==d?this.qi=!0:this.uA(d));break}}}},Lp:function(a){null!=a&&
(a=this.rj[a.Wb],null!=a&&(this.Vv?a.Gm.hl=!0:this.wv(a.Gm)))},tK:function(a){if(null!=a){var c=this.qj[a.Wb];c&&(!c.Ur&&q.Ix(c.Rf,c.Tr)&&(c.Ur=!0),c.Rf.length=0,this.$e==c?this.qi=!0:this.uA(c));this.Lp(a)}},Ss:function(){this.dX(q.Lt)},dX:function(a){var c;for(c=0;c<this.ok.length;c++)this.tK(this.ok[c].target);if(0>a)for(c=0;c<this.ah.length;c++)this.Lp(this.ah[c].target);if(0>=a)for(c=0;c<this.Kh.length;c++)this.Lp(this.Kh[c].target);for(c=0;c<this.lg.length;c++)this.lg[c].SI>=a&&this.Lp(this.lg[c].target)},
N8:function(){return this.YT(q.Lt)},YT:function(a){var c=[],d,e;for(d=0;d<this.ok.length;d++)if(e=this.ok[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.ah.length;d++)if(e=this.ah[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.Kh.length;d++)if(e=this.Kh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.lg.length;d++)if(e=this.lg[d])e.paused=!0,c.push(e.target);return c},ZU:function(a){if(a)for(var c=0;c<a.length;c++)this.cn(a[c])},As:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.qj[a.Wb];c&&(c.paused=!0);if(a=this.rj[a.Wb])a.Gm.paused=!0},cn:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.qj[a.Wb];c&&(c.paused=!1);if(a=this.rj[a.Wb])a.Gm.paused=!1},d7:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.qj[a.Wb])?a.paused:!1}});q.ny={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
q.Sb=q.ya.extend({fo:0,Gr:0,ar:0,dm:null,Mg:1/60,uj:null,AF:!1,ctor:function(){this.dm=[]},Dw:function(a,c,d){if(a){c&&(this.Df=c,this.N=d);if(a!=this.dm||0==this.fo){this.ar=this.fo=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.dm=this.dm.concat(a[c]);else this.dm=a;this.Gr=this.dm.length}this.NO()}else console.log("resources should not null")},sV:function(a){this.AF=a},Um:function(a){this.ar++;q.log("cocos2d:Failed loading resource: "+a)},Yh:function(){this.ar++},uw:function(){var a=0;return a=
0==this.Gr?100:0|this.ar/this.Gr*100},FU:function(a){if(a&&0<a.length)for(var c=q.Ia.e(),d=q.qh?q.qh.e():null,e=q.hk.e(),f=q.ud.e(),g,h=0;h<a.length;h++){g=a[h];var k=this.sF(g);switch(k){case "IMAGE":c.RU(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.Wba(g.src);break;case "XML":e.bX(g.src);break;case "BINARY":f.aX(g.src);break;case "TEXT":f.cX(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},tO:function(){this.Wv();
if(this.AF){var a=q.T.e().Nu;if(null!=a&&20>a){q.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.fo<this.Gr&&(this.bO(),this.fo++)},bO:function(){var a=q.Ia.e(),c=q.qh?q.qh.e():null,d=q.hk.e(),e=q.ud.e(),f=this.dm[this.fo],g=this.sF(f);switch(g){case "IMAGE":a.$a(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.U8(f.src);break;case "XML":d.jU(f.src);break;case "BINARY":e.iU(f.src);break;case "TEXT":e.kU(f.src);break;case "FONT":this.vO(f);
break;default:throw"cocos2d:unknown filename extension: "+g;}},NO:function(){var a=this;this.uj=setInterval(function(){a.tO()},1E3*this.Mg)},DP:function(){clearInterval(this.uj)},sF:function(a){if(null!=a.Xr)return q.ny.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in q.ny)if(-1!=q.ny[d].indexOf(a))return d;return a},Wv:function(){100<=this.uw()&&(this.DP(),this.pN())},pN:function(){if(this.N&&"string"==typeof this.Df)this.N[this.Df](this);
else this.N&&"function"==typeof this.Df?this.Df.call(this.N,this):this.Df(this);this.Gr=this.ar=this.fo=0},vO:function(a){var c=a.src,d=q.ud.e();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.Xr+"; src:",g=0;g<c.length;g++)f+="url('"+d.ce(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.Xr;c.innerHTML=".";
c.style.position="absolute";c.style.left="-100px";c.style.top="-100px";document.body.appendChild(c)}q.Sb.e().Yh()},e0:function(){}});q.Sb.GC=function(a,c,d){this.Bb||(this.Bb=new q.Sb);this.Bb.Dw(a,c,d);return this.Bb};q.Sb.T8=function(a,c,d){this.Bb||(this.Bb=new q.Sb);this.Bb.sV(!0);this.Bb.Dw(a,c,d);return this.Bb};q.Sb.HC=function(a){this.Bb&&this.Bb.FU(a)};q.Sb.e=function(){this.Bb||(this.Bb=new q.Sb);return this.Bb};q.Sb.Bb=null;
q.ey=q.Xp.extend({cv:null,xo:null,Lv:null,nq:null,vo:null,kB:null,ctor:function(){q.Xp.prototype.ctor.call(this);this.kB=q.T.e().Kb},q:function(){q.Xp.prototype.q.call(this);var a=q.a(this.kB.width/2,this.kB.height/2);this.xo=new Image;var c=this;this.xo.addEventListener("load",function(){c.MN(a);this.removeEventListener("load",arguments.callee,!1)});this.xo.src="";this.xo.width=160;this.xo.height=200;this.nq=q.va.create(q.uB(32,32,32,255));this.nq.l(0,0);this.g(this.nq,0);this.vo=q.S.create("Loading... 0%",
"Arial",14);this.vo.n(q.cw(180,180,180));this.vo.l(q.Pf(a,q.a(0,-110)));this.nq.g(this.vo,10)},MN:function(a){this.Lv=new q.Tb;this.Lv.nf(this.xo);this.Lv.le();this.cv=q.u.Ob(this.Lv);this.cv.$j(q.td());this.cv.l(a);this.nq.g(this.cv,10)},vg:function(){q.B.prototype.vg.call(this);this.nc(this.mG,0.3)},Cd:function(){q.B.prototype.Cd.call(this);this.vo.ca("Loading... 0%")},Dw:function(a,c,d){this.WU=a;this.kV=c;this.target=d},mG:function(){this.rd(this.mG);q.Sb.GC(this.WU,this.kV,this.target);this.nc(this.Wv)},
Wv:function(){var a=q.Sb.e().uw();this.vo.ca("Loading... "+a+"%");100<=a&&this.rd(this.Wv)}});q.ey.GC=function(a,c,d){this.Bb||(this.Bb=new q.ey,this.Bb.q());this.Bb.Dw(a,c,d);a=q.T.e();a.ad?a.dJ(this.Bb):a.cV(this.Bb);return this.Bb};q.Ux=q.ya.extend({pb:null,naa:function(a){this.pb=a},P4:function(){return this.pb},ctor:function(a){this.pb=a},FB:function(){q.log("DrawingPrimitive.drawPoint() not implement!")},mH:function(){q.log("DrawingPrimitive.drawPoints() not implement!")},Oh:function(){q.log("DrawingPrimitive.drawLine() not implement!")},oH:function(){q.log("DrawingPrimitive.drawRect() not implement!")},GB:function(){q.log("DrawingPrimitive.drawSolidRect() not implement!")},Yd:function(){q.log("DrawingPrimitive.drawPoly() not implement!")},
lw:function(){q.log("DrawingPrimitive.drawSolidPoly() not implement!")},jH:function(){q.log("DrawingPrimitive.drawCircle() not implement!")},nH:function(){q.log("DrawingPrimitive.drawQuadBezier() not implement!")},kH:function(){q.log("DrawingPrimitive.drawCubicBezier() not implement!")},iH:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")},kw:function(){q.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
q.ZD=q.Ux.extend({FB:function(a,c){c||(c=1);var d=q.la.e().oa,e=q.la.e().wa,e=q.a(a.x*d,a.y*e);this.pb.beginPath();this.pb.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.pb.closePath();this.pb.fill()},mH:function(a,c,d){if(null!=a){d||(d=1);c=this.pb;var e=q.la.e().oa,f=q.la.e().wa;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},Oh:function(a,c){var d=this.pb,e=q.la.e().oa,f=q.la.e().wa;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},oH:function(a,c){this.Oh(q.a(a.x,a.y),q.a(c.x,a.y));this.Oh(q.a(c.x,a.y),q.a(c.x,c.y));this.Oh(q.a(c.x,c.y),q.a(a.x,c.y));this.Oh(q.a(a.x,c.y),q.a(a.x,a.y))},GB:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.lw(a,4,d)},Yd:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.pb;var g=q.la.e().oa,h=q.la.e().wa;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},lw:function(a,c,d){this.xJ(d.k,d.i,d.f,d.F);this.Yd(a,c,!0,!0)},jH:function(a,c,d,e,f){f=f||!1;e=this.pb;var g=q.la.e().oa,h=q.la.e().wa;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},nH:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(q.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(q.a(d.x,d.y));this.Yd(f,e+1,!1,!1)},kH:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(q.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(q.a(e.x,e.y));this.Yd(g,f+1,!1,!1)},iH:function(a,c){this.kw(a,0.5,c)},kw:function(a,c,d){q.Q.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Ox(q.fh(a,f-1),q.fh(a,f-0),q.fh(a,f+1),q.fh(a,f+2),c,g),e.push(f);this.Yd(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.pb.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.pb.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.pb.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},L1:function(a,c,d){a=a||this.pb;c*=q.la.e().oa;d instanceof q.Hd&&(d=new q.tc(0|255*d.k,0|255*d.i,0|255*d.f));d="rgba("+d.k+","+d.i+","+d.f;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,q.jE,!1);a.closePath();a.fill()},J1:function(a,c,d){a=a||this.pb;c*=q.la.e().oa;d instanceof q.Hd&&(d=new q.tc(0|255*d.k,0|255*d.i,0|255*d.f));d="rgba("+
d.k+","+d.i+","+d.f;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,q.jE,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.pb.fillText(a,c,-d)},GV:function(a,c,d,e){this.pb.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.pb.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},xJ:function(a,c,d,e){this.pb.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.pb.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},iW:function(){},SV:function(a){this.pb.lineWidth=a*q.la.e().oa}});
q.gL=q.Ux.extend({Wq:!1,Eb:null,oi:-1,cc:null,iA:-1,hA:-1,ctor:function(a){null==a&&(a=q.Q);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";q.Ux.prototype.ctor.call(this,a);this.cc=new q.Hd(1,1,1,1)},Uj:function(){this.Wq||(this.Eb=q.uh.e().Zh(q.IZ),this.oi=this.pb.getUniformLocation(this.Eb.vw(),"u_color"),this.iA=this.pb.getUniformLocation(this.Eb.vw(),"u_pointSize"),this.Wq=!0)},K1:function(){this.Wq=!1},FB:function(a){this.Uj();
this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,new Float32Array(this.cc.Jb,0,4),1);this.Eb.SJ(this.iA,this.hA);var c=this.pb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(q.ve,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);q.rh()},mH:function(a){if(a&&0!=a.length){this.Uj();this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,new Float32Array(this.cc.Jb,0,4),1);this.Eb.SJ(this.iA,
this.hA);var c=this.pb,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.rv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.ve,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);q.rh()}},rv:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},Oh:function(a,c){this.Uj();this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,new Float32Array(this.cc.Jb,0,4),1);var d=this.pb,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.rv([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(q.ve,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);q.rh()},oH:function(a,c){this.Oh(q.a(a.x,a.y),q.a(c.x,a.y));this.Oh(q.a(c.x,a.y),q.a(c.x,c.y));this.Oh(q.a(c.x,c.y),q.a(a.x,c.y));this.Oh(q.a(a.x,c.y),q.a(a.x,a.y))},GB:function(a,c,d){a=[a,q.a(c.x,a.y),c,q.a(a.x,c.y)];this.lw(a,4,d)},Yd:function(a,c,d){this.Uj();this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,new Float32Array(this.cc.Jb,0,4),
1);c=this.pb;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.rv(a),c.STATIC_DRAW);c.vertexAttribPointer(q.ve,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);q.rh()},lw:function(a,c,d){this.Uj();d||(d=this.cc);this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,new Float32Array(d.Jb,0,4),1);c=this.pb;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.rv(a),c.STATIC_DRAW);
c.vertexAttribPointer(q.ve,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);q.rh()},jH:function(a,c,d,e,f){this.Uj();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,new Float32Array(this.cc.Jb,0,4),1);a=this.pb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.ve,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);q.rh()}},nH:function(a,c,d,e){this.Uj();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,new Float32Array(this.cc.Jb,0,4),1);a=this.pb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(q.ve,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);q.rh()},kH:function(a,c,d,e,f){this.Uj();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,new Float32Array(this.cc.Jb,0,4),1);a=this.pb;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(q.ve,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);q.rh()},iH:function(a,c){this.kw(a,0.5,c)},kw:function(a,c,d){this.Uj();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=q.Ox(q.fh(a,f-1),q.fh(a,f),q.fh(a,f+1),q.fh(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.Eb.Xe();this.Eb.Bg();q.ge(q.Kg);this.Eb.rl(this.oi,
new Float32Array(this.cc.Jb,0,4),1);a=this.pb;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(q.ve,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);q.rh()},GV:function(a,c,d,e){this.cc.k=a/255;this.cc.i=c/255;this.cc.f=d/255;this.cc.F=e/255},xJ:function(a,c,d,e){this.cc.k=a;this.cc.i=c;this.cc.f=d;this.cc.F=e},iW:function(a){this.hA=a*q.td()},SV:function(a){this.pb.lineWidth&&this.pb.lineWidth(a)}});q.jE=2*Math.PI;q.CE={i_:0,NY:1,OY:2,yX:3,GY:4,FY:5,LX:6,WY:7,qY:8,JL:100,SL:101};q.bZ=0;q.cZ=1;q.$Y=2;q.aZ=3;q.Uf=0;q.kk=1;q.Kf=null;q.Q=null;q.canvas=null;q.yR=null;q.pd=q.Uf;q.ST=q.size(0,0);window.QC=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});q.nC=!1;
q.sl=function(a,c,d){function e(){if(q.qh){var a=q.qh.e();document[k]?(a.XT(),a.ZT()):(q.T.e().JO(),a.XU(),a.YU())}}a=q.Hb(a)||q.Hb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=q.Lj=q.dk("DIV"),h=g.style,f=q.canvas=a,f.parentNode.insertBefore(g,f),f.Cm(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&q.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=q.canvas=q.dk("CANVAS"),f.KG("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=q.Lj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!q.Ly){q.Ba.Hc&&(q.Q=q.oca=q.YG(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!q.Ba.Tj,alpha:!1}));q.Q?(q.pd=q.kk,window.gl=q.Q,q.Kf=new q.gL(q.Q),q.Ia.e().TN()):(q.Q=f.getContext("2d"),q.uT=q.Q,
q.pd=q.Uf,q.Q.translate(0,f.height),q.Kf=q.ZD?new q.ZD(q.Q):null);q.ST=q.size(f.width,f.height);q.yR=g;q.log(q.gt);q.te.e();q.CV();q.Ba.Tj&&q.PM();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(q.nC=!1,window.addEventListener("focus",function(){if(q.qh){var a=q.qh.e();a.XU();a.YU()}},!1),window.addEventListener("blur",function(){if(q.qh){var a=q.qh.e();a.XT();a.ZT()}},!1)):(q.nC=!0,document.addEventListener(l,e,!1))}};q.PM=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
q.BF=!1;q.CV=function(){q.BF=!1;q.canvas.oncontextmenu=q.BF?function(){}:function(){return!1}};q.Yi=q.ya.extend({Mg:null,ctor:function(){this.Mg=0;if(q.JA)throw"Application has been initialized";q.JA=this},Es:function(a){this.Mg=a},nba:function(a){a&&q.rect(0,0,0,0)},r5:function(){return q.Ba.Tj?q.CE.JL:q.CE.SL},aV:function(){if(!this.gQ())return 0;var a,c=q.T.e(),d=window;q.dR=c;d.QC&&this.Mg==1/60?(a=function(){c.zI();d.QC(a)},d.QC(a)):(a=function(){c.zI()},setInterval(a,1E3*this.Mg));return 0}});
q.Yi.e=function(){return q.JA};q.Yi.b3=function(){var a=q.xL,c=navigator.language;c||(c=navigator.browserLanguage||navigator.eca);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=q.wL;break;case "fr":a=q.yL;break;case "it":a=q.BL;break;case "de":a=q.zL;break;case "es":a=q.IL;break;case "ru":a=q.HL;break;case "ko":a=q.DL;break;case "ja":a=q.CL;break;case "hu":a=q.AL;break;case "pt":a=q.GL;break;case "ar":a=q.vL;break;case "no":a=q.EL;break;case "pl":a=q.FL}return a};q.JA=null;q.hk=q.ya.extend({qca:null,RF:null,Uo:null,Vz:null,ctor:function(){this.Uo={};window.DOMParser?(this.Vz=!0,this.RF=new DOMParser):this.Vz=!1},parse:function(a){var c=a;a=this.EH(a);a=this.SF(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.eA(c)},Qba:function(a,c){if(null==c||!1===c)a=this.EH(a);return this.SF(a)},SF:function(a,
c){var d;this.Vz?d=this.RF.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&q.log("cocos2d:xml "+c+" not found!");return d},eA:function(a){var c=null;switch(a.tagName){case "dict":c=this.qO(a);break;case "array":c=this.pO(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},pO:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.eA(f))}return c},qO:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.eA(g))}return c},jU:function(a){a=q.ud.e().ce(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(q.Sb.e().Yh(),d.Uo[a]=c.responseText,c=null):(q.Sb.e().Yh(),q.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},bX:function(a){this.Uo.hasOwnProperty(a)&&delete this.Uo[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
p3:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},EH:function(a){return null!=this.Uo?this.Uo[a]:null}});q.hk.e=function(){this.Bb||(this.Bb=new q.hk);return this.Bb};q.hk.Bb=null;q.Hx=q.ya.extend({cR:function(){q.Yi.e().aV();return!0},H0:function(){q.T.e().pause()},G0:function(){q.T.e().fJ()},fQ:function(){q.Yi.e().fQ()},hQ:function(){q.Yi.e().hQ()},I0:function(){}});q.Hx.HW=function(){null==q.qx&&(q.qx=new q.Hx);if(!q.qx)throw"Application initialize failure";return q.qx};q.qx=null;q.S=q.u.extend({Od:null,xk:q.dj,Qk:q.fq,af:null,ye:0,kg:"",dA:null,ro:!1,nj:null,Aj:!1,im:null,Fo:0,sr:0,Cv:null,Mk:!1,xr:null,Ko:0,Ev:null,Lo:null,Mu:null,TA:0,UA:0,Xc:!1,Zu:null,$u:null,ctor:function(){q.u.prototype.ctor.call(this);this.Od=q.Gl();this.xk=q.bq;this.Qk=q.fq;this.fc=!1;this.nj="";this.af="Arial";this.Aj=this.ro=!1;this.im=q.Gl();this.sr=this.Fo=0;this.Cv="rgba(128, 128, 128, 0.5)";this.Mk=!1;this.xr=q.sb();this.Ko=0;this.Ev="";this.Lo=q.sb();this.Mu="rgba(255,255,255,1)";this.UA=this.TA=
0;this.Xc=!1;this.Gh()},q:function(){return this.Zk(" ",this.af,this.ye)},fO:function(){this.Kz().font=this.nj},cr:function(a){return this.Kz().measureText(a).width},dN:function(a,c){var d=this.cr(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=q.S.eN,m=q.S.LO,n=q.S.cN,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.cr(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.cr(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.af+" FontSize \x3d "+this.ye.toFixed(1)+"\x3e"},n:null,nr:function(a){q.tb.prototype.n.call(this,a);this.aG()},Gh:null,aG:function(){this.Xc=!0;var a=this.xc,c=this.Rb,d=this.xr,e=this.Lo;this.Cv="rgba("+(0|0.5*a.k)+","+(0|0.5*a.i)+","+(0|0.5*a.f)+","+this.Fo+")";this.Mu="rgba("+(0|a.k/255*e.k)+","+(0|a.i/255*e.i)+","+
(0|a.f/255*e.f)+", "+c/255+")";this.Ev="rgba("+(0|a.k/255*d.k)+","+(0|a.i/255*d.i)+","+(0|a.f/255*d.f)+", "+c/255+")"},UO:function(){this.Xc=!0;var a=this.xr,c=this.Lo;this.Cv="rgba(128,128,128,"+this.Fo+")";this.Mu="rgba("+(0|c.k)+","+(0|c.i)+","+(0|c.f)+", 1)";this.Ev="rgba("+(0|a.k)+","+(0|a.i)+","+(0|a.f)+", 1)"},Sc:null,$A:function(a){q.tb.prototype.Sc.call(this,a);this.Gh()},ba:null,pr:function(a){this.zi!==a&&(q.u.prototype.ba.call(this,a),this.Gh(),this.Xc=!0)},Tc:null,aca:function(a){q.tb.prototype.Tc.call(this,
a);this.Gh()},TB:function(){return this.kg},B3:function(){return this.xk},L5:function(){return this.Qk},k3:function(){return q.size(this.Od.width,this.Od.height)},v3:function(){return this.ye},u3:function(){return this.af},Zk:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||q.size(0,d);f=f||q.bq;g=g||q.gq;return q.u.prototype.q.call(this)?(this.fc=!1,this.Od=q.size(e.width,e.height),this.af=c||"Arial",this.xk=f,this.Qk=g,this.ye=d,this.nj=this.ye+"px '"+c+"'",this.mj=q.S.mu(c,this.ye),this.ca(a),this.Gh(),
this.bB(),this.Xc=!1,!0):!1},jC:null,PN:function(a,c){if(!q.u.prototype.q.call(this))return!1;this.cB(c,!1);this.ca(a);return!0},QN:function(a,c){if(!q.u.prototype.q.call(this))return!1;this.zg(q.uh.e().Zh(q.S.zM));this.cB(c,!1);this.ca(a);return!0},Gaa:function(a){a&&this.cB(a,!0)},s5:function(){return this.uO(!1)},qR:function(a,c,d){c=c||0.5;!1===this.Aj&&(this.Aj=!0);var e=this.im;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Fo!=c&&(this.Fo=c);this.Gh();this.sr!=
d&&(this.sr=d);this.Xc=!0},F1:function(){this.Aj&&(this.Aj=!1,this.Xc=!0)},rR:function(a,c){!1===this.Mk&&(this.Mk=!0);var d=this.xr;if(d.k!==a.k||d.i!==a.i||d.f!==a.f)d.k=a.k,d.i=a.i,d.f=a.f,this.Gh();this.Ko!==c&&(this.Ko=c||0);this.Xc=!0},G1:function(){this.Mk&&(this.Mk=!1,this.Xc=!0)},aD:null,YO:function(a){var c=this.Lo;if(c.k!=a.k||c.i!=a.i||c.f!=a.f)c.k=a.k,c.i=a.i,c.f=a.f,this.Gh(),this.Xc=!0},ZO:function(a){var c=this.Lo;if(c.k!=a.k||c.i!=a.i||c.f!=a.f)c.k=a.k,c.i=a.i,c.f=a.f,this.Gh(),this.Xc=
!0},cB:function(a,c){a.Wr?(this.Od.width=a.Wr.width,this.Od.height=a.Wr.height):(this.Od.width=0,this.Od.height=0);this.xk=a.tH;this.Qk=a.uH;this.af=a.Xr;this.ye=a.fontSize||12;this.nj=this.ye+"px '"+this.af+"'";this.mj=q.S.mu(this.af,this.ye);a.aK&&this.qR(a.bK,a.cK,a.shadowBlur,!1);a.sD&&this.rR(a.strokeColor,a.mK,!1);this.aD(a.vH,!1);c&&this.bB()},uO:function(a){var c=new q.mL;a?(c.fontSize=this.ye,c.Wr=q.ry(this.Od)):(c.fontSize=this.ye,c.Wr=q.size(this.Od.width,this.Od.height));c.Xr=this.af;
c.tH=this.xk;c.uH=this.Qk;if(this.Mk){c.sD=!0;var d=this.xr;c.strokeColor=new q.tc(d.k,d.i,d.f);c.mK=this.Ko}else c.sD=!1;this.Aj?(c.aK=!0,c.shadowBlur=this.sr,c.cK=this.Fo,c.bK=a?q.ry(this.im):q.size(this.im.width,this.im.height)):c.Aj=!1;a=this.Lo;c.vH=new q.tc(a.k,a.i,a.f);return c},mj:18,ca:function(a){a=String(a);this.dA!=a&&(this.dA=a+"",this.AG(),this.Xc=!0)},AG:function(){this.kg=this.dA},x$:function(a){a!==this.xk&&(this.xk=a,this.Xc=!0)},Saa:function(a){a!=this.Qk&&(this.Qk=a,this.Xc=!0)},
xg:function(a){if(a.width!=this.Od.width||a.height!=this.Od.height)this.Od=a,this.AG(),this.Xc=!0},zJ:function(a){this.ye!==a&&(this.ye=a,this.nj=a+"px '"+this.af+"'",this.mj=q.S.mu(this.af,a),this.Xc=!0)},MV:function(a){this.af&&this.af!=a&&(this.af=a,this.nj=this.ye+"px '"+a+"'",this.mj=q.S.mu(a,this.ye),this.Xc=!0)},uN:function(a){if(a){var c=this.TA,d=this.UA,e=this.na.ma-d,f=this.Qk,g=this.xk,h=this.mj,k=this.Ko;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.nj&&(a.font=this.nj);a.fillStyle=
this.Mu;var l=d=0,m=this.Mk;m&&(a.lineWidth=2*k,a.strokeStyle=this.Ev);this.Aj&&(k=this.im,a.shadowColor=this.Cv,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.sr);a.textBaseline=q.S.xP[f];a.textAlign=q.S.wP[g];c=this.na.Ca-c;d=g===q.lM?d+c:g===q.dj?d+c/2:d+0;if(this.ro)for(g=this.Cj.length,f===q.fq?l=h+e-h*g:f===q.iu&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.Cj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==q.fq&&(l=f===q.gq?l-e:l-0.5*e),m&&a.strokeText(this.kg,
d,l),a.fillText(this.kg,d,l)}},Kz:function(){if(this.$u)return this.$u;if(!this.Zu){var a=document.createElement("canvas"),c=new q.Tb;c.nf(a);this.ia(c);this.Zu=a}return this.$u=this.Zu.getContext("2d")},BG:function(){var a=this.Od.width,c,d;this.FF=[];this.ro=!1;this.fO();if(0!==a){var e=this.kg;this.Cj=[];c=0;for(d=this.kg.length;c<d;){var f=this.dN(e.substr(c),a);this.Cj.push(e.substr(c,f));c+=f}}else for(this.Cj=this.kg.split("\n"),c=0,d=this.Cj.length;c<d;c++)this.FF.push(this.cr(this.Cj[c]));
0<this.Cj.length&&(this.ro=!0);d=c=0;this.Mk&&(c=d=2*this.Ko);this.Aj&&(e=this.im,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.ro?q.size(0|Math.max.apply(Math,this.FF)+c,0|this.mj*this.Cj.length+d):q.size(0|this.cr(this.kg)+c,0|this.mj+d):0===this.Od.height?this.ro?q.size(0|a+c,0|this.mj*this.Cj.length+d):q.size(0|a+c,0|this.mj+d):q.size(0|a+c,0|this.Od.height+d);this.V(a);this.TA=c;this.UA=d;e=this.vh;this.wd.A=0.5*c+(a.width-c)*e.A;this.wd.I=0.5*d+(a.height-d)*e.I},d:function(){this.Xc&&
this.BG();return q.u.prototype.d.call(this)},bB:function(){var a=this.Kz(),c=this.Zu,d=this.na;if(0===this.kg.length)return c.width=1,c.height=d.ma,this.Gb(q.rect(0,0,1,d.ma)),!0;a.font=this.nj;this.BG();var e=d.Ca,d=d.ma,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.uN(a);this.za.le();this.Gb(q.rect(0,0,e,d));return!0},ka:function(a){this.kg&&""!=this.kg&&(this.Xc&&(this.Xc=!1,this.bB()),q.u.prototype.ka.call(this,a||q.Q))},Ra:null,cg:function(a){if(this.kg&&""!=this.kg){a=
a||q.Q;var c=this.za;c&&c.jc&&(this.zc.Xe(),this.zc.Bg(),q.Rj(this.aa.src,this.aa.Ab),q.pg(c),q.ge(q.hu),a.bindBuffer(a.ARRAY_BUFFER,this.vv),this.ef&&(a.bufferData(a.ARRAY_BUFFER,this.Db.pB,a.STATIC_DRAW),this.ef=!1),a.vertexAttribPointer(q.ve,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(q.eq,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(q.dq,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===q.ik?(a=this.Db,a=[q.a(a.Oa.p.x,a.Oa.p.y),q.a(a.Ea.p.x,a.Ea.p.y),q.a(a.Qa.p.x,a.Qa.p.y),q.a(a.Ha.p.x,
a.Ha.p.y)],q.Kf.Yd(a,4,!0)):2===q.ik&&(a=this.UB().Xa,c=this.Yb,a=[q.a(c.x,c.y),q.a(c.x+a.width,c.y),q.a(c.x+a.width,c.y+a.height),q.a(c.x,c.y+a.height)],q.Kf.Yd(a,4,!0));q.Qh++}},IA:function(a,c,d){this.Oc=c||!1;d=d||a.Xa;this.V(d);this.lD(a);c=this.No;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.Ws=!(0===c.width||0===c.height);a=this.Jh;this.dc&&(a.A=-a.A);this.ec&&(a.I=-a.I);this.Yb.A=a.x+(this.na.Ca-this.ra.width)/2;this.Yb.I=a.y+(this.na.ma-this.ra.height)/2;this.eb&&(this.Da=!0)},dG:function(a){var c=
this.eb?this.Na.Z():this.za;if(c){var d=c.fp(),e=c.ep(),f,g=this.Db;this.Oc?(q.At?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.dc&&(e=f,f=a,a=e),this.ec&&(e=c,c=d,d=e),g.Ea.t.Ka=c,g.Ea.t.ha=f,g.Qa.t.Ka=c,g.Qa.t.ha=a,g.Oa.t.Ka=d,g.Oa.t.ha=f,g.Ha.t.Ka=d,g.Ha.t.ha=a):(q.At?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+
a.height)/e),this.dc&&(e=c,c=d,d=e),this.ec&&(e=f,f=a,a=e),g.Ea.t.Ka=c,g.Ea.t.ha=a,g.Qa.t.Ka=d,g.Qa.t.ha=a,g.Oa.t.Ka=c,g.Oa.t.ha=f,g.Ha.t.Ka=d,g.Ha.t.ha=f);this.ef=!0}}});
q.Ba.Hc?(b=q.S.prototype,b.n=q.u.prototype.n,b.Gh=q.S.prototype.UO,b.Sc=q.u.prototype.Sc,b.ba=q.u.prototype.ba,b.Tc=q.u.prototype.Tc,b.jC=q.S.prototype.QN,b.aD=q.S.prototype.ZO,b.Ra=q.S.prototype.cg,b.Gb=q.u.prototype.eG):(b=q.S.prototype,b.n=q.S.prototype.nr,b.Gh=q.S.prototype.aG,b.Sc=q.S.prototype.$A,b.ba=q.S.prototype.pr,b.Tc=q.S.prototype.xG,b.jC=q.S.prototype.PN,b.aD=q.S.prototype.YO,b.Ra=q.u.prototype.Ra,b.Gb=q.S.prototype.IA);q.S.wP=["left","center","right"];q.S.xP=["top","middle","bottom"];
q.S.eN=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.S.LO=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;q.S.cN=/[\s\-\/\\\:]/;q.S.create=function(a,c,d,e,f,g){var h=new q.S;return h.Zk(a,c,d,e,f,g)?h:null};q.S.v1=function(a,c){var d=new q.S;return d&&d.jC(a,c)?d:null};q.S.zM=q.tM?q.qy:q.FZ;q.S.Hl=document.createElement("div");q.S.Hl.style.fontFamily="Arial";q.S.Hl.style.position="absolute";q.S.Hl.style.left="-100px";q.S.Hl.style.top="-100px";q.S.Hl.style.lineHeight="normal";
document.body.appendChild(q.S.Hl);q.S.mu=function(a,c){var d=q.S.SE[a+"."+c];if(0<d)return d;var e=q.S.Hl;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;q.S.SE[a+"."+c]=d;e.innerHTML="";return d};q.S.SE={};q.pL=q.ya.extend({Bc:null,target:null,Am:0,dh:null,Fm:!1,paused:!1,cC:null,ctor:function(){this.Bc=[];this.N=null;this.Am=0;this.dh=null;this.paused=this.Fm=!1;this.cC=null}});
q.MK=q.ya.extend({yh:null,On:null,$e:null,qi:!1,X_:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.yh={};this.On=[];this.$e=null;this.qi=!1},SP:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.yh[c.Wb];e||(e=new q.pL,e.paused=d,e.target=c,this.yh[c.Wb]=e,this.On.push(e));this.JM(e);e.Bc.push(a);a.X(c)},k9:function(){for(var a=this.On,
c=0;c<a.length;c++){var d=a[c];d&&this.aJ(d.target,!0)}},aJ:function(a,c){if(null!=a){var d=this.yh[a.Wb];d&&(-1===d.Bc.indexOf(d.dh)||d.Fm||(d.Fm=!0),d.Bc=[],this.$e!=d||c?this.oz(d):this.qi=!0)}},$I:function(a){if(null!=a){var c=this.yh[a.bm.Wb];if(c)for(var d=0;d<c.Bc.length;d++){if(c.Bc[d]==a){c.Bc.splice(d,1);break}}else q.log("cocos2d: removeAction: Target not found")}},GU:function(a,c){a==q.wn&&q.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.yh[c.Wb];if(d)for(var e=d.Bc.length,f=0;f<e;++f){var g=d.Bc[f];if(g&&g.bd===a&&g.bm==c){this.yO(f,d);break}}},LB:function(a,c){a==q.wn&&q.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.yh[c.Wb];if(d){if(null!=d.Bc)for(var e=0;e<d.Bc.length;++e){var f=d.Bc[e];if(f&&f.bd===a)return f}q.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},AT:function(a){return(a=this.yh[a.Wb])?a.Bc?a.Bc.length:0:0},As:function(a){if(a=this.yh[a.Wb])a.paused=!0},
cn:function(a){if(a=this.yh[a.Wb])a.paused=!1},M8:function(){for(var a=[],c=this.On,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},ZU:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.cn(a[c])},X8:function(){q.T.e().lf().Lp(this)},yO:function(a,c){c.Bc[a]!=c.dh||c.Fm||(c.Fm=!0);q.Op(c.Bc,a);c.Am>=a&&c.Am--;0==c.Bc.length&&(this.$e==c?this.qi=!0:this.oz(c))},oz:function(a){a&&(delete this.yh[a.target.Wb],q.Fd(this.On,a),a.Bc=null,a.target=null)},JM:function(a){null==
a.Bc&&(a.Bc=[])},update:function(a){for(var c=this.On,d,e=0;e<c.length;e++){d=this.$e=c[e];if(!d.paused)for(d.Am=0;d.Am<d.Bc.length;d.Am++)if(d.dh=d.Bc[d.Am],d.dh){d.Fm=!1;d.dh.step(a);if(d.Fm)d.dh=null;else if(d.dh.Th()){d.dh.stop();var f=d.dh;d.dh=null;this.$I(f)}d.dh=null}this.qi&&0===d.Bc.length&&this.oz(d)}}});q.Ze=q.ya.extend({J:null,tv:q.aj(),yf:0,ctor:function(a,c,d){this.J=q.a(a||0,c||0);this.yf=d||0},N3:function(){return this.J},XR:function(){return this.tv},h3:function(){return q.nd(this.J,this.tv)},E3:function(){return this.yf},F3:function(){return this.yf},iD:function(a,c,d){this.tv=this.J;this.J=q.a(c||0,d||0);this.yf=a},Ef:function(a,c){this.tv=q.a(a||0,c||0)}});
q.LE=q.ya.extend({C_:null,fb:function(){return!1},dd:function(){},pf:function(){},Vj:function(){},EI:function(){},HI:function(){},GI:function(){},FI:function(){},Uba:function(){},Tba:function(){}});q.WZ=q.LE.extend({fb:function(){return!1},dd:function(){},pf:function(){},Vj:function(){}});q.PZ=q.LE.extend({EI:function(){},HI:function(){},GI:function(){},FI:function(){}});q.Kn=q.ya.extend({Qb:null,df:0,io:0,Zb:function(){return this.Qb},mh:function(a){this.Qb=a},YR:function(){return this.df},Ks:function(a){this.df=a},GR:function(){return this.io},HV:function(a){this.io=a},Sj:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.Qb=a;this.df=c;this.io=0;return!0}});q.Kn.create=function(a,c){var d=new q.Kn;d&&d.Sj(a,c);return d};q.vy=q.Kn.extend({Sj:function(a,c){return q.Kn.prototype.Sj.call(this,a,c)}});
q.vy.create=function(a,c){var d=new q.vy;d&&d.Sj(a,c);return d};q.au=q.Kn.extend({Iv:!1,bo:null,c7:function(){return this.Iv},Daa:function(a){this.Iv=a},S2:function(){return this.bo},Sj:function(a,c,d){return q.Kn.prototype.Sj.call(this,a,c)?(this.bo=[],this.Iv=d,!0):!1}});q.au.create=function(a,c,d){var e=new q.au;e&&e.Sj(a,c,d);return e};q.oM=1;q.rM=2;q.qM=4;q.pM=8;q.ZZ=q.oM|q.rM|q.qM|q.pM;q.zy=0;q.Cy=1;q.By=2;q.Ay=3;q.YZ=4;q.tI=function(a,c){return a.df>c.df};q.eu=function(a){this.type=a};
q.da=q.ya.extend({xj:!1,Ge:null,Fe:null,Yl:!1,Fr:!1,Tv:!1,yk:null,pj:null,Sv:!1,kj:!1,IN:[new q.eu(q.zy),new q.eu(q.Cy),new q.eu(q.By),new q.eu(q.Ay)],q:function(){this.kj=!0;this.Ge=[];this.Fe=[];this.yk=[];this.pj=[];this.xj=this.Yl=this.Sv=this.Fr=this.Tv=!1;q.da.CU();return!0},or:function(a){this.xj=a},DN:function(){return this.xj},D6:function(){return this.kj},FV:function(a){this.kj=a},NM:function(a,c){var d=q.vy.create(a,c||0);this.Yl?-1!=this.pj.indexOf(a)?q.Fd(this.pj,a):(this.yk.push(d),
this.Fr=!0):this.Fe=this.ap(d,this.Fe)},OM:function(a,c,d){c=q.au.create(a,c,d);this.Yl?-1!=this.pj.indexOf(a)?q.Fd(this.pj,a):(this.yk.push(c),this.Fr=!0):this.Ge=this.ap(c,this.Ge)},ap:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.df<a.df&&++d,e.Zb()==a.Zb())return q.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return q.zl(c,a,d)},wH:function(){this.Fe.length=0;this.Ge.length=0},BO:function(a){if(null!=a)if(this.Yl){var c=this.rH(this.yk,a);c?q.Fd(this.yk,
c):(this.pj.push(a),this.Tv=!0)}else this.xH(a)},IU:function(){this.Yl?this.Sv=!0:this.wH()},Ks:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.rH(c);d?d.df!=a&&(d.Ks(a),this.VI(this.Ge),this.VI(this.Fe)):q.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.Yl=!0;var e=this.Ge.length,f=this.Fe.length,g=e&&f,h=g?a.slice():a,k=this.IN[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.Ge.length;r++){l=this.Ge[r];if(!l)break;m=!1;if(d==q.zy)l.Zb().fb&&(m=l.Zb().fb(e,c))&&l.bo.push(e);else if(0<l.bo.length)switch(m=!0,k.type){case q.Cy:q.Ba.Tj?l.Zb().dd&&l.Zb().dd(e,c):this.xj&&l.Zb().dd&&l.Zb().dd(e,c);break;case q.By:l.Zb().pf&&l.Zb().pf(e,c);l.bo.length=0;break;case q.Ay:l.Zb().Vj&&l.Zb().Vj(e,c),l.bo.length=0}if(m&&l.Iv){g&&q.Fd(h,e);break}}if(0<f)for(n=0;n<this.Fe.length&&(l=this.Fe[n],l);n++);this.Yl=!1;if(this.Tv){this.Tv=
!1;for(n=0;n<this.pj.length;n++)this.xH(this.pj[n]);this.pj.length=0}if(this.Fr){this.Fr=!1;for(n=0;n<this.yk.length;n++){l=this.yk[n];if(!l)break;l instanceof q.au?this.Ge=this.ap(l,this.Ge):this.Fe=this.ap(l,this.Fe)}this.yk.length=0}this.Sv&&(this.Sv=!1,this.wH())},xx:function(a,c){this.kj&&this.touches(a,c,q.zy)},yx:function(a,c){this.kj&&this.touches(a,c,q.Cy)},Rs:function(a,c){this.kj&&this.touches(a,c,q.By)},uD:function(a,c){this.kj&&this.touches(a,c,q.Ay)},rH:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.Ge.length;d++)if(this.Ge[d].Zb()==c)return this.Ge[d];for(d=0;d<this.Fe.length;d++)if(this.Fe[d].Zb()==c)return this.Fe[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Zb()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},xH:function(a){for(var c,d=0;d<this.Fe.length;d++)if((c=this.Fe[d])&&c.Zb()==a){q.Fd(this.Fe,c);break}for(d=0;d<this.Ge.length;d++)if((c=this.Ge[d])&&c.Zb()==a){q.Fd(this.Ge,c);break}},VI:function(a){a.sort(q.tI)}});q.da.mb=q.a(0,0);q.da.qI=!1;
q.Ii=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
q.$L=function(a,c){var d=q.Ii(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=q.la.e().Mj(e,f,d);d=new q.Ze(e.x,e.y);d.Ef(q.da.mb.x,q.da.mb.y);q.da.mb.x=e.x;q.da.mb.y=e.y;e=[];e.push(d);q.la.e().Rs(e,null)};
q.da.CU=function(){var a=q.canvas;if(!q.da.qI){if(q.Ba.Tj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=q.Ii(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=q.la.e().Mj(k,l,e);e=new q.Ze(k.x,k.y);e.Ef(q.da.mb.x,q.da.mb.y);q.da.mb.x=k.x;q.da.mb.y=k.y;q.T.e().Ie[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=q.Ii(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.la.e().Mj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Ze(k.x,k.y,h.identifier),l=q.da.Pu(h).J,h.Ef(l.x,l.y),q.da.bG(h)):(h=new q.Ze(k.x,k.y),h.Ef(q.da.mb.x,q.da.mb.y)),q.da.mb.x=k.x,
q.da.mb.y=k.y,d.push(h);q.la.e().xx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=q.Ii(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.la.e().Mj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Ze(k.x,k.y,h.identifier),l=q.da.Pu(h).J,h.Ef(l.x,l.y),q.da.bG(h)):(h=new q.Ze(k.x,k.y),h.Ef(q.da.mb.x,q.da.mb.y)),
q.da.mb.x=k.x,q.da.mb.y=k.y,d.push(h);q.la.e().yx(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=q.Ii(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.la.e().Mj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Ze(k.x,k.y,h.identifier),l=q.da.Pu(h).J,h.Ef(l.x,l.y),q.da.kF(h)):(h=new q.Ze(k.x,k.y),h.Ef(q.da.mb.x,
q.da.mb.y)),q.da.mb.x=k.x,q.da.mb.y=k.y,d.push(h);q.la.e().Rs(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=q.Ii(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=q.la.e().Mj(k,l,g),h.hasOwnProperty("identifier")?(h=new q.Ze(k.x,k.y,h.identifier),l=q.da.Pu(h).J,h.Ef(l.x,l.y),q.da.kF(h)):(h=new q.Ze(k.x,
k.y),h.Ef(q.da.mb.x,q.da.mb.y)),q.da.mb.x=k.x,q.da.mb.y=k.y,d.push(h);q.la.e().uD(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){q.T.e().Ie.or(!0)}),window.addEventListener("mouseup",function(c){q.T.e().Ie.or(!1);var d=q.Ii(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);q.nb(new q.Xf(d.left,d.top,d.width,d.height),q.a(g,c))||(g=q.la.e().Mj(g,c,d),d=new q.Ze(g.x,
g.y),d.Ef(q.da.mb.x,q.da.mb.y),q.da.mb.x=g.x,q.da.mb.y=g.y,g=[],g.push(d),q.la.e().Rs(g,null))}),a.addEventListener("mousedown",function(c){var d=q.Ii(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.la.e().Mj(g,c,d);d=new q.Ze(g.x,g.y);d.Ef(q.da.mb.x,q.da.mb.y);q.da.mb.x=g.x;q.da.mb.y=g.y;g=[];g.push(d);q.la.e().xx(g,null)}),a.addEventListener("mouseup",function(c){q.$L(a,c)}),a.addEventListener("mousemove",function(c){var d=
q.Ii(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=q.la.e().Mj(g,c,d);d=new q.Ze(g.x,g.y);d.Ef(q.da.mb.x,q.da.mb.y);q.da.mb.x=g.x;q.da.mb.y=g.y;g=[];g.push(d);q.la.e().yx(g,null)});q.da.qI=!0}};q.da.Pu=function(a){for(var c=null,d=q.da.lA,e=a.yf,f=d.length-1;0<=f;f--)if(d[f].yf==e){c=d[f];break}c||(c=a);return c};
q.da.bG=function(a){for(var c=!1,d=q.da.lA,e=a.yf,f=d.length-1;0<=f;f--)if(d[f].yf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[q.da.mA]=a,q.da.mA=(q.da.mA+1)%50))};q.da.kF=function(a){var c,d=q.da.lA;c=a.yf;for(a=d.length-1;0<=a;a--)if(d[a].yf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};q.da.lA=[];q.da.mA=0;q.LC=function(a,c,d){q.T.e().Ie.OM(d,a,c)};q.DU=function(a,c){q.T.e().Ie.NM(a,c)};q.sK=function(a){q.T.e().Ie.BO(a)};q.KL=1;q.gE=2;q.QY=4;q.OL=8;q.sZ=16;q.tZ=32;q.uZ=64;q.eZ=128;q.fZ=256;q.gZ=512;q.yE=1024;q.LL=2048;q.ML=4096;q.NL=0;q.RY=1;q.hE=2;q.UY=q.ya.extend({ET:function(){return!1},FT:function(){return!1},Xh:function(){return!1},IT:function(){return!1},MT:function(){return!1},NT:function(){return!1},OT:function(){return!1},JT:function(){return!1},KT:function(){return!1},LT:function(){return!1},PT:function(){return!1},GT:function(){return!1},HT:function(){return!1}});
q.PL=q.Ze.extend({EG:0,cF:q.NL,Q5:function(){return this.EG},XJ:function(a){this.EG=a},K2:function(){return this.cF},uV:function(a){this.cF=a}});q.fy=q.ya.extend({Qb:null,df:0,io:0,Zb:function(){return this.Qb},mh:function(a){this.Qb=a},YR:function(){return this.df},Ks:function(a){this.df=a},GR:function(){return this.io},HV:function(a){this.io=a},Sj:function(a,c){this.Qb=a;this.df=c}});q.fy.create=function(a,c){var d=new q.fy;d.Sj(a,c);return d};
q.Jd=q.ya.extend({xj:!1,xv:!1,zf:null,kj:!1,q:function(){this.kj=!0;this.zf=[];this.xv=this.xj=!1;q.Jd.wO();return!0},or:function(a){this.xj=a},DN:function(){return this.xj},cG:function(a){this.xv=a},J_:function(){return this.xv},MG:function(a,c){var d=q.fy.create(a,c);this.zf=this.ap(d,this.zf)},ap:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.df<a.df&&++d,f.Zb()==a.Zb()))return q.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return q.zl(c,a,d)},bJ:function(a){if(null!=
a)for(var c=0;c<this.zf.length;c++){var d=this.zf[c];if(d&&d.Zb()==a){q.Fd(this.zf,d);break}}},BN:function(a){for(var c=0;c<this.zf.length;c++)if(this.zf[c]&&this.zf[c].Zb()==a)return this.zf[c];return null},Ks:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.BN(c);d?d.df!=a&&(d.Ks(a),this.zf.sort(q.tI)):q.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},n9:function(){this.zf.length=0},Pm:function(a,c,d){for(c=0;c<this.zf.length;c++){var e=
this.zf[c];switch(d){case q.gE:this.xj||this.xv||!e.Zb().Xh||e.Zb().Xh(a)}}}});q.Jd.sv=q.a(0,0);q.Jd.ZN=!1;
q.Jd.wO=function(){var a=q.canvas;function c(c){var e=q.Ii(a),f=c.pageX,g=c.pageY,h=q.la.e(),f=(f-e.left)/h.oa,e=(e.height-(g-e.top))/h.wa,g=new q.PL(f,e);g.Ef(q.Jd.sv.x,q.Jd.sv.y);g.uV(c.button);q.Jd.sv.x=f;q.Jd.sv.y=e;return g}q.Jd.ZN||(window.addEventListener("mousedown",function(a){a.button==q.hE?q.T.e().kf().cG(!0):q.T.e().kf().or(!0)}),window.addEventListener("mouseup",function(a){a.button==q.hE?q.T.e().kf().cG(!1):q.T.e().kf().or(!1)}),a.addEventListener("mousedown",function(a){q.T.e().kf().Pm(c(a),
a,q.KL)}),a.addEventListener("mouseup",function(a){q.T.e().kf().Pm(c(a),a,q.OL)}),a.addEventListener("mousemove",function(a){q.T.e().kf().Pm(c(a),a,q.gE)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.XJ(a.wheelDelta);q.T.e().kf().Pm(e,a,q.yE)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.XJ(-120*a.detail);q.T.e().kf().Pm(e,a,q.yE)}),a.addEventListener("mouseout",function(a){q.T.e().kf().Pm(c(a),a,q.ML)},!1),a.addEventListener("mouseover",function(a){q.T.e().kf().Pm(c(a),
a,q.LL)},!1))};q.gca=function(){return{x:0,y:0}};q.vl=function(a,c){return{x:a,y:c}};q.Dg=function(a,c){return q.vl(a.x+c.x,a.y+c.y)};q.ed=function(a,c){return q.vl(a.x-c.x,a.y-c.y)};q.Tf=function(a,c){return q.vl(a.x*c,a.y*c)};q.Ex=function(a){return q.vl(-a.y,a.x)};q.Vi=function(a){return q.vl(-a.x,-a.y)};q.hX=function(a,c){return a.x*c.x+a.y*c.y};q.fca=function(a){return q.vl(Math.cos(a),Math.sin(a))};q.AD=function(a){a=q.lh(q.a(a.x,a.y));return q.vl(a.x,a.y)};q.ii=function(a){return q.vl(a.x,a.y)};
q.wb=function(a){return{Ka:a.x,ha:a.y}};
q.eL=q.B.extend({Ya:null,aa:null,Zr:function(){return this.aa},nl:function(a){this.aa=a},ctor:function(){q.B.prototype.ctor.call(this);this.Ya=[];this.aa=new q.Bl(q.se,q.re)},Ra:function(a){a=a||q.Q;var c=q.la.e().oa;this.aa&&770==this.aa.src&&1==this.aa.Ab&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.Ya.length;d++){var e=this.Ya[d];e.type===q.Gg.HE&&(a.fillStyle="rgba("+(0|255*e.color.k)+","+(0|255*e.color.i)+","+(0|255*e.color.f)+","+e.color.F+")",q.Kf.FB(e.position,e.JC));e.type===
q.Gg.JE&&(a.strokeStyle="rgba("+(0|255*e.color.k)+","+(0|255*e.color.i)+","+(0|255*e.color.f)+","+e.color.F+")",a.lineWidth=2*e.JC*c,a.lineCap="round",q.Kf.Oh(e.Hm,e.ul));e.type===q.Gg.IE&&(a.fillStyle="rgba("+(0|255*e.fillColor.k)+","+(0|255*e.fillColor.i)+","+(0|255*e.fillColor.f)+","+e.fillColor.F+")",q.Kf.Yd(e.CD,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.k)+","+(0|255*e.borderColor.i)+","+(0|255*e.borderColor.f)+","+e.borderColor.F+
")",q.Kf.Yd(e.CD,e.count,!0,!1))}},iR:function(a,c,d){var e=new q.Hy(q.Gg.HE);e.position=a;e.JC=c;e.color=d;this.Ya.push(e)},mR:function(a,c,d,e){var f=new q.Hy(q.Gg.JE);f.Hm=a;f.ul=c;f.JC=d;f.color=e;this.Ya.push(f)},Yd:function(a,c,d,e){var f=new q.Hy(q.Gg.IE);f.CD=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.Ya.push(f)},clear:function(){this.Ya.length=0}});
q.fL=q.B.extend({Tn:0,Ya:null,Pk:null,rG:null,qG:null,aa:null,Da:!1,Zr:function(){return this.aa},nl:function(a){this.aa=a},ctor:function(){q.B.prototype.ctor.call(this);this.Ya=[];this.aa=new q.Bl(q.se,q.re)},q:function(){return q.B.prototype.q.call(this)?(this.zg(q.uh.e().Zh(q.EZ)),this.Bz(512),this.rG=q.Q.createBuffer(),this.Da=!0):!1},HO:function(){var a=q.Q;q.ge(q.hu);a.bindBuffer(a.ARRAY_BUFFER,this.rG);this.Da&&(a.bufferData(a.ARRAY_BUFFER,this.Pk,a.STREAM_DRAW),this.Da=!1);var c=q.Nb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(q.ve,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.dq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.eq,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.Ya.length);q.rh()},Bz:function(a){if(this.Ya.length+a>this.Tn){var c=q.vc.BYTES_PER_ELEMENT;this.Tn+=Math.max(this.Tn,a);if(null==this.Ya||0===this.Ya.length)this.Ya=[],this.Pk=new ArrayBuffer(c*this.Tn),this.qG=new Uint8Array(this.Pk);else{a=[];for(var d=new ArrayBuffer(c*this.Tn),e=0;e<this.Ya.length;e++)a[e]=new q.vc(this.Ya[e].F,
this.Ya[e].f,this.Ya[e].xa,d,e*c);this.qG=new Uint8Array(d);this.Ya=a;this.Pk=d}}},Ra:function(){q.Rj(this.aa.src,this.aa.Ab);this.zc.Xe();this.zc.TJ();this.HO()},iR:function(a,c,d){d={k:0|255*d.k,i:0|255*d.i,f:0|255*d.f,F:0|255*d.F};var e={p:{x:a.x-c,y:a.y-c},G:d,t:{Ka:-1,ha:-1}},f={p:{x:a.x+c,y:a.y+c},G:d,t:{Ka:1,ha:1}},g={p:{x:a.x+c,y:a.y-c},G:d,t:{Ka:1,ha:-1}};this.Ya.push(new q.vc(e,{p:{x:a.x-c,y:a.y+c},G:d,t:{Ka:-1,ha:1}},f,this.Pk,this.Ya.length*q.vc.BYTES_PER_ELEMENT));this.Ya.push(new q.vc(e,
f,g,this.Pk,this.Ya.length*q.vc.BYTES_PER_ELEMENT));this.Da=!0},mR:function(a,c,d,e){this.Bz(18);e={k:0|255*e.k,i:0|255*e.i,f:0|255*e.f,F:0|255*e.F};var f=q.ii(a);c=q.ii(c);a=q.AD(q.Ex(q.ed(c,f)));var g=q.Ex(a),h=q.Tf(a,d);d=q.Tf(g,d);var k=q.Dg(c,q.ed(h,d)),l=q.ed(c,h),m=q.Dg(c,h),n=q.ed(f,h),r=q.Dg(f,h),p=q.ed(f,q.ed(h,d)),f=q.Dg(f,q.Dg(h,d)),t=q.vc.BYTES_PER_ELEMENT,v=this.Pk;this.Ya.push(new q.vc({p:q.ed(c,q.Dg(h,d)),G:e,t:q.wb(q.Vi(q.Dg(a,g)))},{p:k,G:e,t:q.wb(q.ed(a,g))},{p:l,G:e,t:q.wb(q.Vi(a))},
v,this.Ya.length*t));this.Ya.push(new q.vc({p:m,G:e,t:q.wb(a)},{p:k,G:e,t:q.wb(q.ed(a,g))},{p:l,G:e,t:q.wb(q.Vi(a))},v,this.Ya.length*t));this.Ya.push(new q.vc({p:m,G:e,t:q.wb(a)},{p:n,G:e,t:q.wb(q.Vi(a))},{p:l,G:e,t:q.wb(q.Vi(a))},v,this.Ya.length*t));this.Ya.push(new q.vc({p:m,G:e,t:q.wb(a)},{p:n,G:e,t:q.wb(q.Vi(a))},{p:r,G:e,t:q.wb(a)},v,this.Ya.length*t));this.Ya.push(new q.vc({p:p,G:e,t:q.wb(q.ed(g,a))},{p:n,G:e,t:q.wb(q.Vi(a))},{p:r,G:e,t:q.wb(a)},v,this.Ya.length*t));this.Ya.push(new q.vc({p:p,
G:e,t:q.wb(q.ed(g,a))},{p:f,G:e,t:q.wb(q.Dg(a,g))},{p:r,G:e,t:q.wb(a)},v,this.Ya.length*t));this.Da=!0},Yd:function(a,c,d,e){c={k:0|255*c.k,i:0|255*c.i,f:0|255*c.f,F:0|255*c.F};e={k:0|255*e.k,i:0|255*e.i,f:0|255*e.f,F:0|255*e.F};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=q.ii(a[(g-1+m)%m]);k=q.ii(a[g]);l=q.ii(a[(g+1)%m]);var n=q.AD(q.Ex(q.ed(k,h)));k=q.AD(q.Ex(q.ed(l,k)));f[g]={offset:q.Tf(q.Dg(n,k),1/(q.hX(n,k)+1)),AI:k}}n=0<d;this.Bz(3*(3*m-2));var r=q.vc.BYTES_PER_ELEMENT,p=this.Pk,t=this.Ya,
v=!1==n?0.5:0;for(g=0;g<m-2;g++)h=q.ed(q.ii(a[0]),q.Tf(f[0].offset,v)),k=q.ed(q.ii(a[g+1]),q.Tf(f[g+1].offset,v)),l=q.ed(q.ii(a[g+2]),q.Tf(f[g+2].offset,v)),t.push(new q.vc({p:h,G:c,t:q.wb({x:0,y:0})},{p:k,G:c,t:q.wb({x:0,y:0})},{p:l,G:c,t:q.wb({x:0,y:0})},p,t.length*r));for(g=0;g<m;g++){v=(g+1)%m;h=q.ii(a[g]);k=q.ii(a[v]);l=f[g].AI;var z=f[g].offset,D=f[v].offset,v=n?q.ed(h,q.Tf(z,d)):q.ed(h,q.Tf(z,0.5)),C=n?q.ed(k,q.Tf(D,d)):q.ed(k,q.Tf(D,0.5));h=n?q.Dg(h,q.Tf(z,d)):q.Dg(h,q.Tf(z,0.5));k=n?q.Dg(k,
q.Tf(D,d)):q.Dg(k,q.Tf(D,0.5));n?(t.push(new q.vc({p:v,G:e,t:q.wb(q.Vi(l))},{p:C,G:e,t:q.wb(q.Vi(l))},{p:k,G:e,t:q.wb(l)},p,t.length*r)),t.push(new q.vc({p:v,G:e,t:q.wb(q.Vi(l))},{p:h,G:e,t:q.wb(l)},{p:k,G:e,t:q.wb(l)},p,t.length*r))):(t.push(new q.vc({p:v,G:c,t:q.wb({x:0,y:0})},{p:C,G:c,t:q.wb({x:0,y:0})},{p:k,G:c,t:q.wb(l)},p,t.length*r)),t.push(new q.vc({p:v,G:c,t:q.wb({x:0,y:0})},{p:h,G:c,t:q.wb(l)},{p:k,G:c,t:q.wb(l)},p,t.length*r)))}this.Da=!0},clear:function(){this.Ya.length=0;this.Da=!0}});
q.Gg=q.Ba.Hc?q.fL:q.eL;q.Gg.create=function(){var a=new q.Gg;return a&&a.q()?a:null};q.Hy=function(a){this.type=a};q.Gg.HE=0;q.Gg.JE=1;q.Gg.IE=2;q.Ps=-1;q.JJ=function(a,c){a.zg(c);var d=a.r;if(d)for(var e=0;e<d.length;e++)q.JJ(d[e],c)};
q.ib=q.B.extend({gc:null,Kl:0,vi:!1,tF:!1,ctor:function(){q.B.prototype.ctor.call(this);this.gc=null;this.Kl=0;this.vi=!1},q:null,Rz:function(a){this.gc=a;this.Kl=1;this.vi=!1;q.ib.Uz=!0;q.ib.Uz&&(q.Ps=q.Q.getParameter(q.Q.STENCIL_BITS),0>=q.Ps&&q.log("Stencil buffer is not enabled."),q.ib.Uz=!1);return!0},Qz:function(a){this.gc=a;this.Kl=1;this.vi=!1},vg:function(){q.B.prototype.vg.call(this);this.gc.vg()},Wh:function(){q.B.prototype.Wh.call(this);this.gc.Wh()},kh:function(){this.gc.kh();q.B.prototype.kh.call(this)},
Cd:function(){this.gc.Cd();q.B.prototype.Cd.call(this)},ka:null,wm:function(a){var c=a||q.Q;if(1>q.Ps)q.B.prototype.ka.call(this,a);else if(this.gc&&this.gc.qa)if(q.ib.Zq=-1,q.ib.Zq+1==q.Ps)q.ib.jB=!0,q.ib.jB&&(q.log("Nesting more than "+q.Ps+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),q.ib.jB=!1),q.B.prototype.ka.call(this,a);else{q.ib.Zq++;var d=1<<q.ib.Zq,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var p=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.vi?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);q.Kf.GB(q.aj(),q.TT(),q.dw(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.vi?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.Kl){var d=
q.uh.e().Zh(q.GZ),t=c.getUniformLocation(d.vw(),q.a_);q.X5(d.vw());d.SJ(t,this.Kl);q.JJ(this.gc,d)}q.rp();this.transform();this.gc.ka();q.qp();c.depthMask(p);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);q.B.prototype.ka.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);q.ib.Zq--}else this.vi&&q.B.prototype.ka.call(this,a)},vm:function(a){if(this.gc&&this.gc.qa){if(this.az()||this.gc instanceof q.u){a=a||q.Q;var c=a.canvas,d=q.ib.GN();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.vi?"destination-out":"destination-in";this.transform(a);this.gc.ka();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||q.Q;var d=this.r,e;a.save();this.transform(a);this.gc.ka(a);a.clip();this.az(!0);var f=d.length;if(0<f){this.Dd();for(c=0;c<f;c++)if(e=d[c],0>e.Za)e.ka(a);else break;for(this.Ra(a);c<
f;c++)d[c].ka(a)}else this.Ra(a);this.az(!1)}a.restore()}else this.vi&&q.B.prototype.ka.call(this,a)},o5:function(){return this.gc},fD:null,lP:function(a){this.gc=a},kP:function(a){this.gc=a;var c=q.la.e().oa,d=q.la.e().wa,e=q.Q;!(a instanceof q.u)&&a instanceof q.Gg&&(a.Ra=function(){for(var f=0;f<a.Ya.length;f++){var g=a.Ya[f].CD,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},x2:function(){return this.Kl},T9:function(a){this.Kl=a},L6:function(){return this.vi},
F$:function(a){this.vi=a},az:function(a){if(!0===a||!1===a)q.ib.prototype.tF=a;return q.ib.prototype.tF}});q.Ba.Hc?(q.ib.prototype.q=q.ib.prototype.Rz,q.ib.prototype.ka=q.ib.prototype.wm,q.ib.prototype.fD=q.ib.prototype.lP):(q.ib.prototype.q=q.ib.prototype.Qz,q.ib.prototype.ka=q.ib.prototype.vm,q.ib.prototype.fD=q.ib.prototype.kP);q.ib.Uz=null;q.ib.jB=null;q.ib.Zq=null;q.ib.iG=null;q.ib.GN=function(){return q.ib.iG||(q.ib.iG=document.createElement("canvas"))};
q.ib.create=function(a){var c=new q.ib;c.q(a);return c};q.CY=0;q.DY=1;q.EY=2;q.Cn=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
q.ub=q.B.extend({Un:null,Vn:null,Lu:0,Aq:0,ov:0,za:null,Cr:null,CP:null,Cf:q.cj,jb:null,yu:0,ij:null,gz:0,hz:0,lq:!1,fz:null,ctor:null,wh:function(){q.B.prototype.ctor.call(this);this.ij=q.dw(1,1,1,1);this.fz="rgba(255,255,255,1)";this.Un=document.createElement("canvas");this.Vn=this.Un.getContext("2d");this.R(0,0)},xh:function(){q.B.prototype.ctor.call(this);this.ij=q.dw(0,0,0,0)},Jf:null,fN:function(){q.B.prototype.Cd.call(this);this.Un=this.Vn=null},gN:function(){q.B.prototype.Cd.call(this);this.Cr=
null;var a=q.Q;a.deleteFramebuffer(this.Lu);this.Aq&&a.deleteRenderbuffer(this.Aq);this.CP=null},hS:function(){return this.jb},Ls:function(a){this.jb=a},lC:null,RN:function(a,c){var d=this.Un,e=q.td();d.width=0|a*e;d.height=0|c*e;this.Vn.translate(0,d.height);e=new q.Tb;e.nf(d);e.le();this.jb=q.u.Ob(e);return!0},SN:function(a,c,d,e){d==q.Zp&&q.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=q.Q,g=q.td();a=0|a*g;c=0|c*g;this.ov=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;q.te.e().zr?(g=a,h=c):(g=q.Cn(a),h=q.Cn(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.Cf=d;this.za=new q.Tb;if(!this.za)return!1;l=this.za;l.Bw(k,this.Cf,g,h,q.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(q.te.e().Xo("GL_QCOM")){this.Cr=new q.Tb;if(!this.Cr)return!1;this.Cr.Bw(k,this.Cf,g,h,q.size(a,c))}this.Lu=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Lu);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.Mh,0);0!=e&&(this.Aq=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Aq),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Aq));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&q.log("Could not attach texture to the framebuffer");l.lJ();a=this.jb=q.u.Ob(l);a.jn(-1);a.nl(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.ov);this.lq=
!1;this.g(a);return!0},Jj:null,WM:function(){q.Q=this.Vn;q.la.e().hP()},XM:function(){q.Lm(q.It);q.rp();q.Lm(q.Ht);q.rp();var a=q.T.e();a.ix(a.Ik);var c=this.za.na,d=q.T.e().oS(),a=d.width/c.width,d=d.height/c.height,e=q.Q;e.viewport(0,0,c.width,c.height);c=new q.ih;q.oT(c,-1/a,1/a,-1/d,1/d,-1,1);q.Hw(c);this.ov=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Lu);q.te.e().Xo("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Cr.Mh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.za.Mh,0))},tB:function(a,c,d,e,f,g){var h=q.Q;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.Yy(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},Yy:null,YM:function(a,c,d,e){this.Jj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.Vn,g=this.Un;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},ZM:function(a,c,d,e,f,g,h){this.Jj();var k=q.Q,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,zN:function(){q.Q=q.uT;q.la.e().KO()},AN:function(){var a=q.Q,c=q.T.e();a.bindFramebuffer(a.FRAMEBUFFER,this.ov);c.WJ();q.Lm(q.It);q.qp();q.Lm(q.Ht);q.qp()},clear:function(a,c,d,e){this.tB(a,c,d,e);this.end()},clearRect:null,kN:function(a,c,d,e){this.Vn.clearRect(a,c,d,-e)},lN:function(){},clearDepth:null,iN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},jN:function(a){this.Jj();var c=q.Q,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,mN:function(){q.log("clearDepth isn't supported on Cocos2d-Html5")},nN:function(a){var c=q.Q,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ka:null,vm:function(a){this.qa&&(a=a||q.Q,a.save(),this.Ra(a),this.transform(a),this.jb.ka(),a.restore(),this.Bf=0)},wm:function(a){if(this.qa){q.rp();var c=this.wk;c&&c.np()&&(c.sB(),this.zx());this.transform(a);this.jb.ka();this.Ra(a);c&&c.np()&&c.oB(this);
q.qp();this.Bf=0}},Ra:null,Rl:function(a){a=a||q.Q;if(this.lq){this.Jj();if(this.yu){var c=this.Un;a.save();a.fillStyle=this.fz;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.Dd();a=this.r;for(var c=a.length,d=this.jb,e=0;e<c;e++){var f=a[e];f!=d&&f.ka()}this.end()}},cg:function(){var a=q.Q;if(this.lq){this.Jj();var c=this.yu;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.ij.k,this.ij.i,this.ij.f,
this.ij.F));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.gz));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.hz));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.Dd();a=this.r;for(c=0;c<a.length;c++)d=a[c],d!=this.jb&&d.ka();this.end()}},BI:null,iO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");return null},
jO:function(){q.log("saveToFile isn't supported on Cocos2d-Html5");q.bt(this.Cf==q.cj,"only RGBA8888 can be saved as image");if(!this.za)return null;var a=this.za.na,c=a.width,a=a.height,d=new q.rL,e=q.Q,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.Jj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.gO(f,e*c*4,g,(a-e-1)*c*4,4*c);d.l6(f,c*a*4,q.wY,c,a,8);return d},gO:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},K9:function(){q.log("saveToFile isn't supported on Cocos2d-Html5")},C7:function(){q.log("listenToBackground isn't supported on Cocos2d-Html5")},D7:function(){q.log("listenToForeground isn't supported on Cocos2d-Html5")},V2:function(){return this.yu},b$:function(a){this.yu=a},T2:function(){return this.ij},rJ:null,SO:function(a){var c=this.ij;c.k=a.k;c.i=a.i;c.f=a.f;c.F=a.F;this.fz="rgba("+(0|255*a.k)+","+(0|255*a.i)+","+(0|255*a.f)+","+a.F+")"},TO:function(a){var c=this.ij;
c.k=a.k;c.i=a.i;c.f=a.f;c.F=a.F},U2:function(){return this.gz},a$:function(a){this.gz=a},W2:function(){return this.hz},c$:function(a){this.hz=a},x6:function(){return this.lq},V9:function(a){this.lq=a}});
q.Ba.Hc?(b=q.ub.prototype,b.ctor=q.ub.prototype.xh,b.Jf=q.ub.prototype.gN,b.lC=q.ub.prototype.SN,b.Jj=q.ub.prototype.XM,b.Yy=q.ub.prototype.ZM,b.end=q.ub.prototype.AN,b.clearRect=q.ub.prototype.lN,b.clearDepth=q.ub.prototype.jN,b.clearStencil=q.ub.prototype.nN,b.ka=q.ub.prototype.wm,b.Ra=q.ub.prototype.cg,b.BI=q.ub.prototype.jO,b.rJ=q.ub.prototype.TO):(b=q.ub.prototype,b.ctor=q.ub.prototype.wh,b.Jf=q.ub.prototype.fN,b.lC=q.ub.prototype.RN,b.Jj=q.ub.prototype.WM,b.Yy=q.ub.prototype.YM,b.end=q.ub.prototype.zN,
b.clearRect=q.ub.prototype.kN,b.clearDepth=q.ub.prototype.iN,b.clearStencil=q.ub.prototype.mN,b.ka=q.ub.prototype.vm,b.Ra=q.ub.prototype.Rl,b.BI=q.ub.prototype.iO,b.rJ=q.ub.prototype.SO);q.ub.create=function(a,c,d,e){d=d||q.cj;e=e||0;var f=new q.ub;return f&&f.lC(a,c,d,e)?f:null};q.wn=-1;
q.sd=q.ya.extend({bm:null,N:null,bd:q.wn,ctor:function(){this.N=this.bm=null;this.bd=q.wn},description:function(){return"\x3ccc.Action | Tag \x3d "+this.bd+"\x3e"},copy:function(){return q.C(this)},C:function(){var a=new q.sd;a.bm=null;a.N=null;a.bd=this.bd;return a},Th:function(){return!0},X:function(a){this.N=this.bm=a},stop:function(){this.N=null},step:function(){q.log("[Action step]. override me")},update:function(){q.log("[Action update]. override me")},kS:function(){return this.N},Eaa:function(a){this.N=a},
w4:function(){return this.bm},$$:function(a){this.bm=a},jS:function(){return this.bd},RJ:function(a){this.bd=a},gJ:function(){},MC:function(){}});q.sd.create=function(){return new q.sd};q.$i=q.sd.extend({pa:0,ctor:function(){q.sd.prototype.ctor.call(this);this.pa=0},jf:function(){return this.pa},n$:function(a){this.pa=a},reverse:function(){q.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},C:function(){return new q.$i}});
q.Yt=q.sd.extend({km:0,xb:null,ctor:function(){q.sd.prototype.ctor.call(this);this.km=0;this.xb=null},h5:function(){return this.km},xaa:function(a){this.km=a},ja:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.xb=a;this.km=c;return!0},C:function(){var a=new q.Yt;a.ja(this.xb.C(),this.km);return a},X:function(a){q.sd.prototype.X.call(this,a);this.xb.X(a)},stop:function(){this.xb.stop();q.sd.prototype.stop.call(this)},step:function(a){this.xb.step(a*this.km)},Th:function(){return this.xb.Th()},
reverse:function(){return q.Yt.create(this.xb.reverse(),this.km)},DJ:function(a){this.xb!=a&&(this.xb=a)},NB:function(){return this.xb}});q.Yt.create=function(a,c){var d=new q.Yt;return d&&d.ja(a,c)?d:null};
q.Zx=q.sd.extend({mo:null,Rn:!1,tu:!1,Ru:null,Pq:null,Mm:0,dn:0,rn:0,Dm:0,lB:null,ctor:function(){q.sd.prototype.ctor.call(this);this.mo=null;this.tu=this.Rn=!1;this.Pq=this.Ru=null;this.Dm=this.rn=this.dn=this.Mm=0;this.lB=q.Vc()},C:function(){var a=new q.Zx,c=this.lB,c=new q.Xf(c.x,c.y,c.width,c.height);a.rg(this.mo,c);return a},z6:function(){return this.Rn},X9:function(a){this.Rn=a},rg:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||q.Vc();this.mo=a;this.lB=
c;this.Rn=!q.kr(c);this.tu=!1;var d=q.T.e().Kb;this.Pq=q.a(d.width,d.height);this.Ru=q.Qi(this.Pq,0.5);this.Rn&&(this.Mm=-(c.x+c.width-this.Pq.x),this.dn=-c.x,this.rn=-c.y,this.Dm=-(c.y+c.height-this.Pq.y),this.dn<this.Mm&&(this.dn=this.Mm=(this.Mm+this.dn)/2),this.rn<this.Dm&&(this.rn=this.Dm=(this.rn+this.Dm)/2),this.rn==this.Dm&&this.Mm==this.dn&&(this.tu=!0));return!0},step:function(){var a=this.mo.o.A,c=this.mo.o.I,a=this.Ru.x-a,c=this.Ru.y-c;this.Rn?this.tu||this.N.l(q.Sr(a,this.Mm,this.dn),
q.Sr(c,this.Dm,this.rn)):this.N.l(a,c)},Th:function(){return!this.mo.De},stop:function(){this.N=null;q.sd.prototype.stop.call(this)}});q.Zx.create=function(a,c){c=c||new q.Vc;var d=new q.Zx;return null!=c&&d&&d.rg(a,c)||d&&d.rg(a)?d:null};q.M=q.$i.extend({Xb:0,Oq:!1,ctor:function(){q.$i.prototype.ctor.call(this);this.Xb=0;this.Oq=!1},m3:function(){return this.Xb},K:function(a){this.pa=0===a?q.Bt:a;this.Xb=0;return this.Oq=!0},Th:function(){return this.Xb>=this.pa},C:function(){var a=new q.M;a.K(this.pa);return a},step:function(a){this.Oq?(this.Oq=!1,this.Xb=0):this.Xb+=a;a=this.Xb/(1.192092896E-7<this.pa?this.pa:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},X:function(a){q.sd.prototype.X.call(this,a);this.Xb=0;this.Oq=!0},reverse:function(){q.log("cc.IntervalAction: reverse not implemented.");
return null},U9:function(){q.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},y2:function(){q.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});q.M.create=function(a){var c=new q.M;c.K(a);return c};
q.bj=q.M.extend({ji:null,KA:null,wo:0,ctor:function(){q.M.prototype.ctor.call(this);this.ji=[];this.KA=null;this.wo=0},ms:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.K(a.jf()+c.jf());this.ji[0]=a;this.ji[1]=c;return!0},C:function(){var a=new q.bj;a.ms(this.ji[0].C(),this.ji[1].C());return a},X:function(a){q.M.prototype.X.call(this,a);this.KA=this.ji[0].jf()/this.pa;this.wo=-1},stop:function(){-1!==this.wo&&this.ji[this.wo].stop();q.sd.prototype.stop.call(this)},
update:function(a){var c=0,d=this.KA,e=this.ji,f=this.wo;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].X(this.N),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].Th()||(f!==c&&e[c].X(this.N),e[c].update(a),this.wo=c)},reverse:function(){return q.bj.Il(this.ji[1].reverse(),this.ji[0].reverse())},copy:function(){return this.C()}});
q.bj.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=q.bj.Il(d,c[e]));return d};q.bj.Il=function(a,c){var d=new q.bj;d.ms(a,c);return d};
q.Pt=q.M.extend({Ff:0,Dj:0,lv:0,VE:!1,xb:null,ctor:function(){q.M.prototype.ctor.call(this);this.lv=this.Dj=this.Ff=0;this.VE=!1;this.xb=null},ja:function(a,c){return this.K(a.jf()*c)?(this.Ff=c,this.xb=a,a instanceof q.ci&&(this.Ff-=1),this.Dj=0,!0):!1},C:function(){var a=new q.Pt;a.ja(this.xb.C(),this.Ff);return a},X:function(a){this.Dj=0;this.lv=this.xb.jf()/this.pa;q.M.prototype.X.call(this,a);this.xb.X(a)},stop:function(){this.xb.stop();q.sd.prototype.stop.call(this)},update:function(a){var c=
this.xb,d=this.pa,e=this.Ff,f=this.lv;if(a>=f){for(;a>f&&this.Dj<e;)c.update(1),this.Dj++,c.stop(),c.X(this.N),this.lv=f+=c.jf()/d;1<=a&&this.Dj<e&&this.Dj++;this.VE&&(this.Dj==e?(c.update(1),c.stop()):c.update(a-(f-c.jf()/d)))}else c.update(a*e%1)},Th:function(){return this.Dj==this.Ff},reverse:function(){return q.Pt.create(this.xb.reverse(),this.Ff)},DJ:function(a){this.xb!=a&&(this.xb=a)},NB:function(){return this.xb}});q.Pt.create=function(a,c){var d=new q.Pt;d.ja(a,c);return d};
q.Qt=q.M.extend({xb:null,ctor:function(){q.M.prototype.ctor.call(this);this.xb=null},ja:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.xb=a;return!0},C:function(){var a=new q.Qt;a.ja(this.xb.C());return a},X:function(a){q.M.prototype.X.call(this,a);this.xb.X(a)},step:function(a){var c=this.xb;c.step(a);c.Th()&&(c.X(this.N),c.step(c.Xb-c.jf()))},Th:function(){return!1},reverse:function(){return q.Qt.create(this.xb.reverse())},DJ:function(a){this.xb!=a&&(this.xb=
a)},NB:function(){return this.xb}});q.Qt.create=function(a){var c=new q.Qt;return c&&c.ja(a)?c:null};
q.Yp=q.M.extend({yj:null,Hj:null,ctor:function(){q.M.prototype.ctor.call(this);this.Hj=this.yj=null},ms:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.jf(),f=c.jf();this.K(Math.max(e,f))&&(this.yj=a,this.Hj=c,e>f?this.Hj=q.bj.Il(c,q.yn.create(e-f)):e<f&&(this.yj=q.bj.Il(a,q.yn.create(f-e))),d=!0);return d},C:function(){var a=new q.Yp;a.ms(this.yj.C(),this.Hj.C());return a},X:function(a){q.M.prototype.X.call(this,a);this.yj.X(a);this.Hj.X(a)},
stop:function(){this.yj.stop();this.Hj.stop();q.sd.prototype.stop.call(this)},update:function(a){this.yj&&this.yj.update(a);this.Hj&&this.Hj.update(a)},reverse:function(){return q.Yp.Il(this.yj.reverse(),this.Hj.reverse())}});q.Yp.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&q.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.Il(d,c[e]));return d};
q.Yp.Il=function(a,c){var d=new q.Yp;d.ms(a,c);return d};
q.py=q.M.extend({Dq:0,lm:0,sz:0,Ju:0,Lk:0,tz:0,ctor:function(){q.M.prototype.ctor.call(this);this.tz=this.Lk=this.Ju=this.sz=this.lm=this.Dq=0},K:function(a,c,d){return q.M.prototype.K.call(this,a)?(this.Dq=c||0,this.Ju=d||this.Dq,!0):!1},C:function(){var a=new q.py;a.K(this.pa,this.Dq,this.Ju);return a},X:function(a){q.M.prototype.X.call(this,a);var c=a.ig%360,d=this.Dq-c;180<d&&(d-=360);-180>d&&(d+=360);this.lm=c;this.sz=d;this.Lk=a.Eh%360;a=this.Ju-this.Lk;180<a&&(a-=360);-180>a&&(a+=360);this.tz=
a},reverse:function(){q.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.N&&(this.N.lx(this.lm+this.sz*a),this.N.mx(this.Lk+this.tz*a))}});q.py.create=function(a,c,d){var e=new q.py;e.K(a,c,d);return e};
q.St=q.M.extend({Zf:0,lm:0,kq:0,Lk:0,ctor:function(){q.M.prototype.ctor.call(this);this.Lk=this.kq=this.lm=this.Zf=0},K:function(a,c,d){return q.M.prototype.K.call(this,a)?(this.Zf=c||0,this.kq=d||this.Zf,!0):!1},C:function(){var a=new q.St;a.K(this.pa,this.Zf,this.kq);return a},X:function(a){q.M.prototype.X.call(this,a);this.lm=a.ig;this.Lk=a.Eh},update:function(a){this.N&&(this.N.lx(this.lm+this.Zf*a),this.N.mx(this.Lk+this.kq*a))},reverse:function(){return q.St.create(this.pa,-this.Zf,-this.kq)}});
q.St.create=function(a,c,d){var e=new q.St;e.K(a,c,d);return e};
q.fk=q.M.extend({Ci:null,Kc:null,Jc:null,ctor:function(){q.M.prototype.ctor.call(this);this.Ci=q.a(0,0);this.Kc=q.a(0,0);this.Jc=q.a(0,0)},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Ci.x=c.x,this.Ci.y=c.y,!0):!1},C:function(){var a=new q.fk;a.K(this.pa,this.Ci);return a},X:function(a){q.M.prototype.X.call(this,a);var c=a.o.A;a=a.o.I;this.Jc.x=c;this.Jc.y=a;this.Kc.x=c;this.Kc.y=a},update:function(a){if(this.N){var c=this.Ci.x*a;a*=this.Ci.y;var d=this.Kc;if(q.ft){var e=this.N.o.I,f=
this.Jc;d.x=d.x+this.N.o.A-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.N.l(c,a);f.x=c;f.y=a}else this.N.l(d.x+c,d.y+a)}},reverse:function(){return q.fk.create(this.pa,q.a(-this.Ci.x,-this.Ci.y))}});q.fk.create=function(a,c){var d=new q.fk;d.K(a,c);return d};
q.Kt=q.fk.extend({lo:null,ctor:function(){q.fk.prototype.ctor.call(this);this.lo=q.a(0,0)},K:function(a,c){return q.fk.prototype.K.call(this,a,c)?(this.lo.x=c.x,this.lo.y=c.y,!0):!1},C:function(){var a=new q.Kt;a.K(this.pa,this.lo);return a},X:function(a){q.fk.prototype.X.call(this,a);this.Ci.x=this.lo.x-a.o.A;this.Ci.y=this.lo.y-a.o.I}});q.Kt.create=function(a,c){var d=new q.Kt;d.K(a,c);return d};
q.In=q.M.extend({Ud:0,Vd:0,vr:0,wr:0,Iq:0,Jq:0,we:0,xe:0,ctor:function(){q.M.prototype.ctor.call(this);this.xe=this.we=this.Jq=this.Iq=this.wr=this.vr=this.Vd=this.Ud=0},K:function(a,c,d){var e=!1;q.M.prototype.K.call(this,a)&&(this.Iq=c,this.Jq=d,e=!0);return e},C:function(){var a=new q.In;a.K(this.pa,this.Iq,this.Jq);return a},X:function(a){q.M.prototype.X.call(this,a);this.vr=a.Ud%180;this.we=this.Iq-this.vr;180<this.we&&(this.we-=360);-180>this.we&&(this.we+=360);this.wr=a.Vd%360;this.xe=this.Jq-
this.wr;180<this.xe&&(this.xe-=360);-180>this.xe&&(this.xe+=360)},update:function(a){this.N.ox(this.vr+this.we*a);this.N.px(this.wr+this.xe*a)}});q.In.create=function(a,c,d){var e=new q.In;e&&e.K(a,c,d);return e};
q.Wt=q.In.extend({K:function(a,c,d){var e=!1;q.In.prototype.K.call(this,a,c,d)&&(this.Ud=c,this.Vd=d,e=!0);return e},C:function(){var a=new q.Wt;a.K(this.pa,this.Ud,this.Vd);return a},X:function(a){q.In.prototype.X.call(this,a);this.we=this.Ud;this.xe=this.Vd;this.Iq=this.vr+this.we;this.Jq=this.wr+this.xe},reverse:function(){return q.Wt.create(this.pa,-this.Ud,-this.Vd)}});q.Wt.create=function(a,c,d){var e=new q.Wt;e&&e.K(a,c,d);return e};
q.An=q.M.extend({Kc:null,bg:null,ma:0,to:0,Jc:null,ctor:function(){q.M.prototype.ctor.call(this);this.Kc=q.a(0,0);this.Jc=q.a(0,0);this.bg=q.a(0,0);this.to=this.ma=0},K:function(a,c,d,e){return q.M.prototype.K.call(this,a)?(this.bg.x=c.x,this.bg.y=c.y,this.ma=d,this.to=e,!0):!1},C:function(){var a=new q.An;a.K(this.pa,this.bg,this.ma,this.to);return a},X:function(a){q.M.prototype.X.call(this,a);var c=a.o.A;a=a.o.I;this.Jc.x=c;this.Jc.y=a;this.Kc.x=c;this.Kc.y=a},update:function(a){if(this.N){var c=
a*this.to%1,c=4*this.ma*c*(1-c),c=c+this.bg.y*a;a*=this.bg.x;var d=this.Kc;if(q.ft){var e=this.N.o.I,f=this.Jc;d.x=d.x+this.N.o.A-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.N.l(a,c);f.x=a;f.y=c}else this.N.l(d.x+a,d.y+c)}},reverse:function(){return q.An.create(this.pa,q.a(-this.bg.x,-this.bg.y),this.ma,this.to)}});q.An.create=function(a,c,d,e){var f=new q.An;f.K(a,c,d,e);return f};
q.by=q.An.extend({X:function(a){q.An.prototype.X.call(this,a);this.bg.x-=this.Kc.x;this.bg.y-=this.Kc.y},C:function(){var a=new q.by;a.K(this.pa,this.bg,this.ma,this.to);return a}});q.by.create=function(a,c,d,e){var f=new q.by;f.K(a,c,d,e);return f};q.TG=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
q.Al=q.M.extend({Pl:null,Kc:null,Jc:null,ctor:function(){q.M.prototype.ctor.call(this);this.Pl=[];this.Kc=q.a(0,0);this.Jc=q.a(0,0)},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Pl=c,!0):!1},C:function(){for(var a=new q.Al,c=[],d=0;d<this.Pl.length;d++){var e=this.Pl[d];c.push(q.a(e.x,e.y))}a.K(this.pa,c);return a},X:function(a){q.M.prototype.X.call(this,a);var c=a.o.A;a=a.o.I;this.Jc.x=c;this.Jc.y=a;this.Kc.x=c;this.Kc.y=a},update:function(a){if(this.N){var c=this.Pl,d=q.TG(c[0].x,c[1].x,
c[2].x,a);a=q.TG(c[0].y,c[1].y,c[2].y,a);c=this.Kc;if(q.ft){var e=this.N.o.I,f=this.Jc;c.x=c.x+this.N.o.A-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.N.l(d,a);f.x=d;f.y=a}else this.N.l(c.x+d,c.y+a)}},reverse:function(){var a=this.Pl,a=[q.Pf(a[1],q.DC(a[2])),q.Pf(a[0],q.DC(a[2])),q.DC(a[2])];return q.Al.create(this.pa,a)}});q.Al.create=function(a,c){var d=new q.Al;d.K(a,c);return d};
q.Lx=q.Al.extend({Qv:null,ctor:function(){q.Al.prototype.ctor.call(this);this.Qv=[]},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Qv=c,!0):!1},C:function(){var a=new q.Lx;a.K(this.pa,this.Qv);return a},X:function(a){q.Al.prototype.X.call(this,a);a=this.Kc;var c=this.Qv,d=this.Pl;d[0]=q.nd(c[0],a);d[1]=q.nd(c[1],a);d[2]=q.nd(c[2],a)}});q.Lx.create=function(a,c){var d=new q.Lx;d.K(a,c);return d};
q.Hn=q.M.extend({oa:1,wa:1,Io:1,Jo:1,Sl:0,Tl:0,we:0,xe:0,ctor:function(){q.M.prototype.ctor.call(this);this.Jo=this.Io=this.wa=this.oa=1;this.xe=this.we=this.Tl=this.Sl=0},K:function(a,c,d){return q.M.prototype.K.call(this,a)?(this.Sl=c,this.Tl=null!=d?d:c,!0):!1},C:function(){var a=new q.Hn;a.K(this.pa,this.Sl,this.Tl);return a},X:function(a){q.M.prototype.X.call(this,a);this.Io=a.oa;this.Jo=a.wa;this.we=this.Sl-this.Io;this.xe=this.Tl-this.Jo},update:function(a){this.N&&this.N.$j(this.Io+this.we*
a,this.Jo+this.xe*a)}});q.Hn.create=function(a,c,d){var e=new q.Hn;e.K(a,c,d);return e};q.Ut=q.Hn.extend({X:function(a){q.Hn.prototype.X.call(this,a);this.we=this.Io*this.Sl-this.Io;this.xe=this.Jo*this.Tl-this.Jo},reverse:function(){return q.Ut.create(this.pa,1/this.Sl,1/this.Tl)},C:function(){var a=new q.Ut;a.K(this.pa,this.Sl,this.Tl);return a}});q.Ut.create=function(a,c,d){var e=new q.Ut;e.K(a,c,d);return e};
q.ct=q.M.extend({Ff:0,cA:!1,ctor:function(){q.M.prototype.ctor.call(this);this.Ff=0;this.cA=!1},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Ff=c,!0):!1},C:function(){var a=new q.ct;a.K(this.pa,this.Ff);return a},update:function(a){if(this.N&&!this.Th()){var c=1/this.Ff;this.N.D(a%c>c/2)}},X:function(a){q.M.prototype.X.call(this,a);this.cA=a.qa},stop:function(){this.N.D(this.cA);q.M.prototype.stop.call(this)},reverse:function(){return q.ct.create(this.pa,this.Ff)}});
q.ct.create=function(a,c){var d=new q.ct;d.K(a,c);return d};q.Ct=q.M.extend({update:function(a){this.N.cb&&this.N.ba(255*a)},reverse:function(){return q.Dt.create(this.pa)},C:function(){var a=new q.Ct;a.K(this.pa);return a}});q.Ct.create=function(a){var c=new q.Ct;c.K(a);return c};q.Dt=q.M.extend({update:function(a){this.N.cb&&this.N.ba(255*(1-a))},reverse:function(){return q.Ct.create(this.pa)},C:function(){var a=new q.Dt;a.K(this.pa);return a}});q.Dt.create=function(a){var c=new q.Dt;c.K(a);return c};
q.Yx=q.M.extend({Rv:null,Ou:null,ctor:function(){q.M.prototype.ctor.call(this);this.Ou=this.Rv=0},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.Rv=c,!0):!1},C:function(){var a=new q.Yx;a.K(this.pa,this.Rv);return a},update:function(a){this.N.cb&&this.N.ba(this.Ou+(this.Rv-this.Ou)*a)},X:function(a){q.M.prototype.X.call(this,a);this.N.cb&&(this.Ou=a.Ki())}});q.Yx.create=function(a,c){var d=new q.Yx;d.K(a,c);return d};
q.Ey=q.M.extend({gf:null,Qd:null,ctor:function(){q.M.prototype.ctor.call(this);this.gf=q.m(0,0,0);this.Qd=q.m(0,0,0)},K:function(a,c,d,e){return q.M.prototype.K.call(this,a)?(this.gf=q.m(c,d,e),!0):!1},C:function(){var a=new q.Ey,c=this.gf;a.K(this.pa,c.k,c.i,c.f);return a},X:function(a){q.M.prototype.X.call(this,a);this.N.cb&&(this.Qd=this.N.md())},update:function(a){var c=this.Qd,d=this.gf;this.N.cb&&this.N.n(q.m(c.k+(d.k-c.k)*a,c.i+(d.i-c.i)*a,c.f+(d.f-c.f)*a))}});
q.Ey.create=function(a,c,d,e){var f=new q.Ey;f.K(a,c,d,e);return f};
q.cu=q.M.extend({zq:0,yq:0,xq:0,Hz:0,Gz:0,Fz:0,ctor:function(){q.M.prototype.ctor.call(this);this.Fz=this.Gz=this.Hz=this.xq=this.yq=this.zq=0},K:function(a,c,d,e){return q.M.prototype.K.call(this,a)?(this.zq=c,this.yq=d,this.xq=e,!0):!1},C:function(){var a=new q.cu;a.K(this.pa,this.zq,this.yq,this.xq);return a},X:function(a){q.M.prototype.X.call(this,a);a.cb&&(a=a.md(),this.Hz=a.k,this.Gz=a.i,this.Fz=a.f)},update:function(a){this.N.cb&&this.N.n(q.m(this.Hz+this.zq*a,this.Gz+this.yq*a,this.Fz+this.xq*
a))},reverse:function(){return q.cu.create(this.pa,-this.zq,-this.yq,-this.xq)}});q.cu.create=function(a,c,d,e){var f=new q.cu;f.K(a,c,d,e);return f};q.yn=q.M.extend({update:function(){},reverse:function(){return q.yn.create(this.pa)},C:function(){var a=new q.yn;a.K(this.pa);return a}});q.yn.create=function(a){var c=new q.yn;c.K(a);return c};
q.Rt=q.M.extend({zj:null,ctor:function(){q.M.prototype.ctor.call(this);this.zj=null},ja:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.zj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return q.M.prototype.K.call(this,a.jf())?(this.zj=a,!0):!1},C:function(){var a=new q.Rt;a.ja(this.zj.C());return a},X:function(a){q.M.prototype.X.call(this,a);this.zj.X(a)},update:function(a){this.zj&&this.zj.update(1-a)},reverse:function(){return this.zj.C()},
stop:function(){this.zj.stop();q.sd.prototype.stop.call(this)}});q.Rt.create=function(a){var c=new q.Rt;c.ja(a);return c};
q.$s=q.M.extend({fj:null,zo:0,pv:null,Kq:0,LA:null,ctor:function(){q.M.prototype.ctor.call(this);this.fj=null;this.zo=0;this.pv=null;this.Kq=0;this.LA=null},zH:function(){return this.fj},rV:function(a){this.fj=a},$H:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.jf();if(this.K(c*a.wj)){this.zo=0;this.rV(a);this.pv=null;this.Kq=0;var d=[],e=0,f=c/a.rm;a=a.Pd;q.at(a,q.Xi);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].Nd;d.push(h)}this.LA=d;return!0}return!1},
C:function(){var a=new q.$s;a.$H(this.fj.C());return a},X:function(a){q.M.prototype.X.call(this,a);this.fj.em&&(this.pv=a.fR());this.Kq=this.zo=0},update:function(a){1>a&&(a*=this.fj.wj,(0|a)>this.Kq&&(this.zo=0,this.Kq++),a%=1);for(var c=this.fj.Pd,d=c.length,e=this.LA,f=this.zo;f<d;f++)if(e[f]<=a)this.N.Cp(c[f].gh()),this.zo=f+1;else break},reverse:function(){var a=this.fj,c=a.Pd,d=[];q.at(c,q.Xi);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.C())}c=q.Wi.ZG(d,a.Nd,
a.wj);c.jx(a.em);return q.$s.create(c)},stop:function(){this.fj.em&&this.N&&this.N.Cp(this.pv);q.sd.prototype.stop.call(this)}});q.$s.create=function(a){var c=new q.$s;c.$H(a);return c};
q.Dy=q.M.extend({xf:null,Ul:null,ctor:function(){q.M.prototype.ctor.call(this);this.Ul=this.xf=null},rg:function(a,c){return this.K(c.jf())?(this.Ul=a,this.xf=c,!0):!1},C:function(){var a=new q.Dy;a.rg(this.Ul,this.xf.C());return a},X:function(a){q.M.prototype.X.call(this,a);this.xf.X(this.Ul)},stop:function(){this.xf.stop()},update:function(a){this.xf.update(a)},w3:function(){return this.Ul},s$:function(a){this.Ul!=a&&(this.Ul=a)}});q.Dy.create=function(a,c){var d=new q.Dy;d.rg(a,c);return d};q.ci=q.$i.extend({Th:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.C()},C:function(){return new q.ci}});q.Vt=q.ci.extend({update:function(){this.N.D(!0)},reverse:function(){return q.Gt.create()},C:function(){return new q.Vt}});q.Vt.create=function(){return new q.Vt};q.Gt=q.ci.extend({update:function(){this.N.D(!1)},reverse:function(){return q.Vt.create()},C:function(){return new q.Gt}});q.Gt.create=function(){return new q.Gt};
q.du=q.ci.extend({update:function(){this.N.D(!this.N.qa)},reverse:function(){return new q.du},C:function(){return new q.du}});q.du.create=function(){return new q.du};q.Ot=q.ci.extend({Xq:!0,ctor:function(){q.$i.prototype.ctor.call(this);this.Xq=!0},update:function(){this.N.P(this.Xq)},q:function(a){this.Xq=a;return!0},reverse:function(){return new q.Ot(this.Xq)},C:function(){return new q.Ot(this.Xq)}});q.Ot.create=function(a){null==a&&(a=!0);var c=new q.Ot;c&&c.q(a);return c};
q.Et=q.ci.extend({dc:!1,ctor:function(){q.$i.prototype.ctor.call(this);this.dc=!1},bI:function(a){this.dc=a;return!0},update:function(){this.N.JV(this.dc)},reverse:function(){return q.Et.create(!this.dc)},C:function(){var a=new q.Et;a.bI(this.dc);return a}});q.Et.create=function(a){var c=new q.Et;return c.bI(a)?c:null};
q.Ft=q.ci.extend({ec:!1,ctor:function(){q.$i.prototype.ctor.call(this);this.ec=!1},cI:function(a){this.ec=a;return!0},update:function(){this.N.KV(this.ec)},reverse:function(){return q.Ft.create(!this.ec)},C:function(){var a=new q.Ft;a.cI(this.ec);return a}});q.Ft.create=function(a){var c=new q.Ft;return c.cI(a)?c:null};
q.ky=q.ci.extend({o:null,ctor:function(){q.$i.prototype.ctor.call(this);this.o=q.a(0,0)},eI:function(a){this.o.x=a.x;this.o.y=a.y;return!0},update:function(){this.N.l(this.o)},C:function(){var a=new q.ky;a.eI(this.o);return a}});q.ky.create=function(a){var c=new q.ky;c.eI(a);return c};
q.Qp=q.ci.extend({Wg:null,Ol:null,vk:null,vq:null,ctor:function(){q.$i.prototype.ctor.call(this);this.vq=this.vk=this.Ol=this.Wg=null},rg:function(a,c,d){this.vq=d;this.Ol=a;this.Wg=c;return!0},fC:function(a){this.vk=a;return!0},execute:function(){null!=this.Ol?this.Ol.call(this.Wg,this.N,this.vq):this.vk&&this.vk.call(null,this.N)},update:function(){this.execute()},q5:function(){return this.Wg},Faa:function(a){a!=this.Wg&&(this.Wg&&(this.Wg=null),this.Wg=a)},copy:function(){var a=new q.Qp;this.Wg?
a.rg(this.Ol,this.Wg,this.vq):this.vk&&a.fC(this.vk);return a},C:function(){var a=new q.Qp;this.Wg?a.rg(this.Ol,this.Wg,this.vq):this.vk&&a.fC(this.vk);return a}});q.Qp.create=function(a,c,d){var e=new q.Qp;if(1==arguments.length){if(e&&e.fC(a))return e}else if(e&&e.rg(a,c,d))return e.Ol=a,e;return null};q.Fx=q.M.extend({cz:0,dz:0,ez:0,lF:0,mF:0,nF:0,tG:0,uG:0,vG:0,ctor:function(){q.M.prototype.ctor.call(this);this.vG=this.uG=this.tG=this.nF=this.mF=this.lF=this.ez=this.dz=this.cz=0},X:function(a){q.M.prototype.X.call(this,a);a=a.MB();var c=a.BH();this.cz=c.x;this.dz=c.y;this.ez=c.z;c=a.DH();this.lF=c.x;this.mF=c.y;this.nF=c.z;a=a.mS();this.tG=a.x;this.uG=a.y;this.vG=a.z},C:function(){return new q.Fx},reverse:function(){return q.Rt.create(this)}});
q.iy=q.Fx.extend({Di:0,Hu:0,Nn:0,qz:0,Zf:0,pz:0,tA:0,rA:0,sA:0,qA:0,ctor:function(){q.Fx.prototype.ctor.call(this);this.qA=this.sA=this.rA=this.tA=this.pz=this.Zf=this.qz=this.Nn=this.Hu=this.Di=0},K:function(a,c,d,e,f,g,h){return q.M.prototype.K.call(this,a)?(this.Di=c,this.Hu=d,this.Nn=e,this.qz=f,this.Zf=g,this.pz=h,this.rA=q.Zi(f),this.qA=q.Zi(h),!0):!1},SW:function(){var a=this.N.MB(),c=a.DH(),d=a.BH(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=q.Bt);0===d&&(d=q.Bt);return{zT:d/q.Rp.is(),nX:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},X:function(a){q.M.prototype.X.call(this,a);a=this.SW();isNaN(this.Di)&&(this.Di=a.zT);isNaN(this.Nn)&&(this.Nn=q.my(a.nX));isNaN(this.Zf)&&(this.Zf=q.my(a.azimuth));this.tA=q.Zi(this.Nn);this.sA=q.Zi(this.Zf)},C:function(){var a=new q.iy;a.K(this.pa,this.Di,this.Hu,this.Nn,this.qz,this.Zf,this.pz);return a},update:function(a){var c=(this.Di+this.Hu*a)*q.Rp.is(),
d=this.tA+this.rA*a,e=this.sA+this.qA*a;a=Math.sin(d)*Math.cos(e)*c+this.cz;e=Math.sin(d)*Math.sin(e)*c+this.dz;c=Math.cos(d)*c+this.ez;this.N.MB().yJ(a,e,c)}});q.iy.create=function(a,c,d,e,f,g,h){var k=new q.iy;return k.K(a,c,d,e,f,g,h)?k:null};q.Uc=q.M.extend({$:null,ctor:function(){q.M.prototype.ctor.call(this);this.$=null},ja:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.K(a.jf())?(this.$=a,!0):!1},C:function(){var a=new q.Uc;a.ja(this.$.C());return a},X:function(a){q.M.prototype.X.call(this,a);this.$.X(this.N)},stop:function(){this.$.stop();q.M.prototype.stop.call(this)},update:function(a){this.$.update(a)},reverse:function(){return q.Uc.create(this.$.reverse())},NB:function(){return this.$}});
q.Uc.create=function(a){var c=new q.Uc;c&&c.ja(a);return c};q.El=q.Uc.extend({Be:0,ctor:function(){q.Uc.prototype.ctor.call(this);this.Be=0},laa:function(a){this.Be=a},O4:function(){return this.Be},ja:function(a,c){return q.Uc.prototype.ja.call(this,a)?(this.Be=c,!0):!1},C:function(){var a=new q.El;a.ja(this.$.C(),this.Be);return a},reverse:function(){return q.El.create(this.$.reverse(),1/this.Be)}});q.El.create=function(a,c){var d=new q.El;d&&d.ja(a,c);return d};
q.ut=q.El.extend({update:function(a){this.$.update(Math.pow(a,this.Be))},reverse:function(){return q.ut.create(this.$.reverse(),1/this.Be)},C:function(){var a=new q.ut;a.ja(this.$.C(),this.Be);return a}});q.ut.create=function(a,c){var d=new q.ut;d&&d.ja(a,c);return d};q.wt=q.El.extend({update:function(a){this.$.update(Math.pow(a,1/this.Be))},reverse:function(){return q.wt.create(this.$.reverse(),1/this.Be)},C:function(){var a=new q.wt;a.ja(this.$.C(),this.Be);return a}});
q.wt.create=function(a,c){var d=new q.wt;d&&d.ja(a,c);return d};q.vt=q.El.extend({update:function(a){a*=2;1>a?this.$.update(0.5*Math.pow(a,this.Be)):this.$.update(1-0.5*Math.pow(2-a,this.Be))},C:function(){var a=new q.vt;a.ja(this.$.C(),this.Be);return a},reverse:function(){return q.vt.create(this.$.reverse(),this.Be)}});q.vt.create=function(a,c){var d=new q.vt;d&&d.ja(a,c);return d};
q.rt=q.Uc.extend({update:function(a){this.$.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return q.tt.create(this.$.reverse())},C:function(){var a=new q.rt;a.ja(this.$.C());return a}});q.rt.create=function(a){var c=new q.rt;c&&c.ja(a);return c};q.tt=q.Uc.extend({update:function(a){this.$.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return q.rt.create(this.$.reverse())},C:function(){var a=new q.tt;a.ja(this.$.C());return a}});
q.tt.create=function(a){var c=new q.tt;c&&c.ja(a);return c};q.st=q.Uc.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.$.update(a)},reverse:function(){return q.st.create(this.$.reverse())},C:function(){var a=new q.st;a.ja(this.$.C());return a}});q.st.create=function(a){var c=new q.st;c&&c.ja(a);return c};
q.xt=q.Uc.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.$.update(a)},reverse:function(){return q.zt.create(this.$.reverse())},C:function(){var a=new q.xt;a.ja(this.$.C());return a}});q.xt.create=function(a){var c=new q.xt;c&&c.ja(a);return c};q.zt=q.Uc.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.$.update(a)},reverse:function(){return q.xt.create(this.$.reverse())},C:function(){var a=new q.zt;a.ja(this.$.C());return a}});
q.zt.create=function(a){var c=new q.zt;c&&c.ja(a);return c};q.yt=q.Uc.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.$.update(a)},C:function(){var a=new q.yt;a.ja(this.$.C());return a},reverse:function(){return q.yt.create(this.$.reverse())}});q.yt.create=function(a){var c=new q.yt;c&&c.ja(a);return c};
q.zn=q.Uc.extend({Rd:null,ctor:function(){q.Uc.prototype.ctor.call(this);this.Rd=0.3},y4:function(){return this.Rd},aaa:function(a){this.Rd=a},ja:function(a,c){q.Uc.prototype.ja.call(this,a);this.Rd=null==c?0.3:c;return!0},reverse:function(){q.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},C:function(){var a=new q.zn;a.ja(this.$.C(),this.Rd);return a}});q.zn.create=function(a,c){var d=new q.zn;return d&&d.ja(a,c)?d:null};
q.ot=q.zn.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Rd/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Rd));this.$.update(c)},reverse:function(){return q.qt.create(this.$.reverse(),this.Rd)},C:function(){var a=new q.ot;a.ja(this.$.C(),this.Rd);return a}});q.ot.create=function(a,c){var d=new q.ot;return d&&d.ja(a,c)?d:null};
q.qt=q.zn.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Rd/4)*Math.PI*2/this.Rd)+1;this.$.update(c)},reverse:function(){return q.ot.create(this.$.reverse(),this.Rd)},C:function(){var a=new q.qt;a.ja(this.$.C(),this.Rd);return a}});q.qt.create=function(a,c){var d=new q.qt;d&&d.ja(a,c);return d};
q.pt=q.zn.extend({update:function(a){var c=0,c=this.Rd;if(0===a||1==a)c=a;else{c||(c=this.Rd=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.$.update(c)},reverse:function(){return q.pt.create(this.$.reverse(),this.Rd)},C:function(){var a=new q.pt;a.ja(this.$.C(),this.Rd);return a}});q.pt.create=function(a,c){var d=new q.pt;d&&d.ja(a,c);return d};
q.Dl=q.Uc.extend({bw:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},C:function(){var a=new q.Dl;a.ja(this.$.C());return a},reverse:function(){return q.Dl.create(this.$.reverse())}});q.Dl.create=function(a){var c=new q.Dl;c&&c.ja(a);return c};
q.lt=q.Dl.extend({update:function(a){this.$.update(1-this.bw(1-a))},reverse:function(){return q.nt.create(this.$.reverse())},C:function(){var a=new q.lt;a.ja(this.$.C());return a}});q.lt.create=function(a){var c=new q.lt;c&&c.ja(a);return c};q.nt=q.Dl.extend({update:function(a){this.$.update(this.bw(a))},reverse:function(){return q.lt.create(this.$.reverse())},C:function(){var a=new q.nt;a.ja(this.$.C());return a}});q.nt.create=function(a){var c=new q.nt;c&&c.ja(a);return c};
q.mt=q.Dl.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.bw(1-2*a)):0.5*this.bw(2*a-1)+0.5;this.$.update(c)},C:function(){var a=new q.mt;a.ja(this.$.C());return a},reverse:function(){return q.mt.create(this.$.reverse())}});q.mt.create=function(a){var c=new q.mt;c&&c.ja(a);return c};q.it=q.Uc.extend({update:function(a){this.$.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return q.kt.create(this.$.reverse())},C:function(){var a=new q.it;a.ja(this.$.C());return a}});
q.it.create=function(a){var c=new q.it;c&&c.ja(a);return c};q.kt=q.Uc.extend({update:function(a){a-=1;this.$.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return q.it.create(this.$.reverse())},C:function(){var a=new q.kt;a.ja(this.$.C());return a}});q.kt.create=function(a){var c=new q.kt;c&&c.ja(a);return c};
q.jt=q.Uc.extend({update:function(a){a*=2;1>a?this.$.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.$.update(a*a*(3.5949095*a+2.5949095)/2+1))},C:function(){var a=new q.jt;a.ja(this.$.C());return a},reverse:function(){return q.jt.create(this.$.reverse())}});q.jt.create=function(a){var c=new q.jt;c&&c.ja(a);return c};q.Ox=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return q.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};q.hJ=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(q.a(a[d].x,a[d].y));return c};q.gw=function(a){for(var c=[],d=0;d<a.length;d++)c.push(q.a(a[d].x,a[d].y));return c};q.fh=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
q.J9=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
q.ei=q.M.extend({Ah:null,rz:0,nm:0,Jc:null,Oy:null,ctor:function(){q.M.prototype.ctor.call(this);this.Ah=[];this.nm=this.rz=0;this.Oy=this.Jc=null},K:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return q.M.prototype.K.call(this,a)?(this.jW(c),this.nm=d,!0):!1},C:function(){var a=new q.ei;a.K(this.pa,q.gw(this.Ah),this.nm);return a},X:function(a){q.M.prototype.X.call(this,a);this.rz=1/(this.Ah.length-1);a=this.N.o;this.Jc=q.a(a.x,a.y);this.Oy=
q.a(0,0)},update:function(a){var c,d=this.Ah;if(1==a)c=d.length-1,a=1;else{var e=this.rz;c=0|a/e;a=(a-e*c)/e}c=q.Ox(q.fh(d,c-1),q.fh(d,c-0),q.fh(d,c+1),q.fh(d,c+2),this.nm,a);q.ft&&(d=this.N.o.A-this.Jc.x,a=this.N.o.I-this.Jc.y,0!=d||0!=a)&&(e=this.Oy,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.AK(c)},reverse:function(){var a=q.hJ(this.Ah);return q.ei.create(this.pa,a,this.nm)},AK:function(a){this.N.l(a);this.Jc=a},D4:function(){return this.Ah},jW:function(a){this.Ah=a}});
q.ei.create=function(a,c,d){var e=new q.ei;return e.K(a,c,d)?e:null};
q.Sp=q.ei.extend({Kc:null,ctor:function(){q.ei.prototype.ctor.call(this);this.Kc=q.a(0,0)},X:function(a){q.ei.prototype.X.call(this,a);a=a.o;this.Kc.x=a.x;this.Kc.y=a.y},reverse:function(){for(var a=this.Ah.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=q.nd(c,d),d=c;a=q.hJ(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return q.Sp.create(this.pa,a,this.nm)},AK:function(a){var c=this.Kc,d=a.x+c.x;a=a.y+c.y;this.N.l(d,
a);this.Jc.x=d;this.Jc.y=a},C:function(){var a=new q.Sp;a.K(this.pa,q.gw(this.Ah),this.nm);return a}});q.Sp.create=function(a,c,d){var e=new q.Sp;return e.K(a,c,d)?e:null};q.Qx=q.ei.extend({K:function(a,c){return q.ei.prototype.K.call(this,a,c,0.5)},C:function(){var a=new q.Qx;a.K(this.pa,q.gw(this.Ah));return a}});q.Qx.create=function(a,c){var d=new q.Qx;return d.K(a,c)?d:null};
q.Px=q.Sp.extend({K:function(a,c){return q.ei.prototype.K.call(this,a,c,0.5)},C:function(){var a=new q.Px;a.K(this.pa,q.gw(this.Ah));return a}});q.Px.create=function(a,c){var d=new q.Px;return d.K(a,c)?d:null};q.zX=q.ya.extend({zD:function(){}});
q.xn=q.M.extend({key:"",Hm:0,ul:0,BB:0,ctor:function(){q.M.prototype.ctor.call(this);this.key="";this.BB=this.ul=this.Hm=0},K:function(a,c,d,e){return q.M.prototype.K.call(this,a)?(this.key=c,this.ul=e,this.Hm=d,!0):!1},X:function(a){if(!a||!a.zD)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";q.M.prototype.X.call(this,a);this.BB=this.ul-this.Hm},update:function(a){this.N.zD(this.ul-this.BB*(1-a),this.key)},reverse:function(){return q.xn.create(this.duration,
this.key,this.ul,this.Hm)},C:function(){var a=new q.xn;a.K(this.pa,this.key,this.Hm,this.ul);return a}});q.xn.create=function(a,c,d,e){var f=new q.xn;return f.K(a,c,d,e)?f:null};q.gk=0;q.jy=1;q.tE=4;q.WL=75;
q.uc=q.tb.extend({hf:null,Ai:0,jb:null,zh:null,Nl:null,zd:!1,Y3:function(){return q.a(this.zh.x,this.zh)},GJ:function(a){this.zh=q.II(a)},E2:function(){return q.a(this.Nl.x,this.Nl.y)},oJ:function(a){this.Nl=q.II(a)},hc:function(){return this.hf},uw:function(){return this.Ai},hS:function(){return this.jb},Js:function(a){this.Ai!=a&&(this.Ai=q.Sr(a,0,100),this.aB())},sf:function(){},al:function(){return!1},X6:function(){return this.zd},Zy:function(a){if(a<q.tE){var c=q.WL;return this.zd?q.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):q.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return q.aj()},Yc:null,SA:270,Az:270,Di:0,kz:!1,Wy:null,ld:0,Ac:null,Gf:null,DG:null,Pr:!1,ctor:null,wh:function(){q.tb.prototype.ctor.call(this);this.hf=q.gk;this.Ai=0;this.zh=q.a(0,0);this.Nl=q.a(0,0);this.zd=!1;this.jb=null;this.Yc=q.aj();this.Az=this.SA=270;this.Di=0;this.kz=!1;this.Wy=q.Vc()},xh:function(){q.tb.prototype.ctor.call(this);this.hf=q.gk;this.Ai=0;this.zh=q.a(0,0);this.Nl=q.a(0,0);this.zd=!1;this.jb=null;this.DG=q.Q.createBuffer();
this.ld=0;this.Gf=this.Ac=null;this.Pr=!1},n:function(a){this.jb.n(a);this.kd()},ba:function(a){this.jb.ba(a);this.kd()},md:function(){return this.jb.md()},Ki:function(){return this.jb.Ki()},MJ:null,fP:function(a){this.zd!==a&&(this.zd=a)},gP:function(a){this.zd!==a&&(this.zd=a,this.Gf=this.Ac=null,this.ld=0)},Ls:null,iP:function(a){this.jb!=a&&(this.jb=a,this.V(this.jb.d()))},jP:function(a){a&&this.jb!=a&&(this.jb=a,this.V(a.d()),this.Ac&&(this.Gf=this.Ac=null,this.ld=0))},Ti:null,mP:function(a){a!==
this.hf&&(this.hf=a)},nP:function(a){a!==this.hf&&(this.Ac&&(this.Gf=this.Ac=null,this.ld=0),this.hf=a)},LJ:null,dP:function(a){this.zd!==a&&(this.zd=a)},eP:function(a){this.zd!==a&&(this.zd=a,this.Gf=this.Ac=null,this.ld=0)},He:function(a){var c=this.jb;if(!c)return{Ka:0,ha:0};var d=c.Db,e=q.a(d.Ea.t.Ka,d.Ea.t.ha),d=q.a(d.Ha.t.Ka,d.Ha.t.ha);c.Oc&&(c=a.x,a.x=a.y,a.y=c);return{Ka:e.x*(1-a.x)+d.x*a.x,ha:e.y*(1-a.y)+d.y*a.y}},Je:function(a){if(!this.jb)return{x:0,y:0};var c=this.jb.Db,d=q.a(c.Ea.p.x,
c.Ea.p.y),c=q.a(c.Ha.p.x,c.Ha.p.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},iC:null,NN:function(a){this.Js(0);this.R(0.5,0.5);this.hf=q.gk;this.zd=!1;this.GJ(q.a(0.5,0.5));this.oJ(q.a(1,1));this.Ls(a);return!0},ON:function(a){this.Js(0);this.Gf=this.Ac=null;this.ld=0;this.R(0.5,0.5);this.hf=q.gk;this.zd=!1;this.GJ(q.a(0.5,0.5));this.oJ(q.a(1,1));this.Ls(a);this.zg(q.uh.e().Zh(q.qy));return!0},Ra:null,Rl:function(a){a=a||q.Q;var c=this.jb;c.qo&&(a.globalCompositeOperation="lighter");var d=
q.la.e().oa,e=q.la.e().wa;a.globalAlpha=c.Rb/255;var f=c.ra,g=c.na,h=c.Yb,k=c.xz,l=0|h.x,m=-h.y-f.height,n=c.No;k.width=f.width*d;k.height=f.height*e;a.save();c.dc&&(l=-h.x-f.width,a.scale(-1,1));c.ec&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.hf==q.jy?(f=this.Wy,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.hf==q.gk&&(f=this.Yc.x*d,h=this.Yc.y*e,a.beginPath(),a.arc(f,h,this.Di*e,Math.PI/180*this.SA,Math.PI/180*this.Az,this.kz),a.lineTo(f,h),a.clip(),a.closePath());
c.za&&n.Ws?(d=c.za.yc,this.Au?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.md(),a.fillStyle="rgba("+k.k+","+k.i+","+k.f+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();q.rh()},cg:function(a){a=a||q.Q;if(this.Ac&&this.jb){q.gy(this);var c=this.jb.aa;q.Rj(c.src,c.Ab);q.ge(q.hu);this.jb.Z()?q.pg(this.jb.Z()):q.pg(null);a.bindBuffer(a.ARRAY_BUFFER,this.DG);this.Pr&&(a.bufferData(a.ARRAY_BUFFER,this.Gf,
a.DYNAMIC_DRAW),this.Pr=!1);c=q.Nb.BYTES_PER_ELEMENT;a.vertexAttribPointer(q.ve,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(q.dq,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(q.eq,2,a.FLOAT,!1,c,12);this.hf===q.gk?a.drawArrays(a.TRIANGLE_FAN,0,this.ld):this.hf==q.jy&&(this.zd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.ld/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.ld/2),q.Qh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.ld));q.Qh++}},PP:function(){if(this.jb){var a,c=this.zh;a=this.Ai/100;var d=2*q.PI*(this.zd?a:
1-a),e=q.a(c.x,1),f=q.VT(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=q.kL,h=q.tE;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.Zy(a%h),k=this.Zy(k);0==a?k=q.KI(l,k,1-c.x):4==a&&(l=q.KI(l,k,1-c.x));var m=q.a(0,0);q.BC(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=q.Pf(c,q.Qi(q.nd(f,c),g))}g=!0;this.ld!=d+3&&(g=!1,this.Gf=this.Ac=null,this.ld=0);if(!this.Ac){h=this.ld=d+3;l=q.Nb.BYTES_PER_ELEMENT;this.Gf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new q.Nb(null,
null,null,this.Gf,a*l);this.Ac=k;if(!this.Ac){q.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.kd();h=this.Ac;if(!g)for(h[0].t=this.He(c),h[0].p=this.Je(c),h[1].t=this.He(e),h[1].p=this.Je(e),a=0;a<d;a++)c=this.Zy(a),h[a+2].t=this.He(c),h[a+2].p=this.Je(c);h[this.ld-1].t=this.He(f);h[this.ld-1].p=this.Je(f)}},EP:function(){if(this.jb){var a,c=this.Ai/100,d=this.Nl,d=q.Qi(q.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=q.nd(this.zh,d),d=q.Pf(this.zh,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&
(c.x-=d.x-1,d.x=1);0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.zd){if(!this.Ac){this.ld=8;var e=q.Nb.BYTES_PER_ELEMENT;this.Gf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new q.Nb(null,null,null,this.Gf,a*e);f[0].t=this.He(q.a(0,1));f[0].p=this.Je(q.a(0,1));f[1].t=this.He(q.a(0,0));f[1].p=this.Je(q.a(0,0));f[6].t=this.He(q.a(1,1));f[6].p=this.Je(q.a(1,1));f[7].t=this.He(q.a(1,0));f[7].p=this.Je(q.a(1,0));this.Ac=f}a=this.Ac;a[2].t=this.He(q.a(c.x,d.y));a[2].p=this.Je(q.a(c.x,
d.y));a[3].t=this.He(q.a(c.x,c.y));a[3].p=this.Je(q.a(c.x,c.y));a[4].t=this.He(q.a(d.x,d.y));a[4].p=this.Je(q.a(d.x,d.y));a[5].t=this.He(q.a(d.x,c.y));a[5].p=this.Je(q.a(d.x,c.y))}else{if(!this.Ac)for(this.ld=4,e=q.Nb.BYTES_PER_ELEMENT,this.Gf=new ArrayBuffer(4*e),this.Ac=[],a=0;4>a;a++)this.Ac[a]=new q.Nb(null,null,null,this.Gf,a*e);a=this.Ac;a[0].t=this.He(q.a(c.x,d.y));a[0].p=this.Je(q.a(c.x,d.y));a[1].t=this.He(q.a(c.x,c.y));a[1].p=this.Je(q.a(c.x,c.y));a[2].t=this.He(q.a(d.x,d.y));a[2].p=this.Je(q.a(d.x,
d.y));a[3].t=this.He(q.a(d.x,c.y));a[3].p=this.Je(q.a(d.x,c.y))}this.kd()}},kd:function(){if(this.jb&&this.Ac){for(var a=this.jb.Db.Oa.G,c=this.Ac,d=0,e=this.ld;d<e;++d)c[d].G=a;this.Pr=!0}},aB:null,LP:function(){var a=this.jb,c=a.d(),d=this.zh;if(this.hf==q.gk){this.Di=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Yc;g.x=c.width*d.x;g.y=-c.height*d.y;this.zd?(e=270,d=270-3.6*this.Ai):(d=-90,e=-90+3.6*this.Ai);a.dc&&(g.x-=2*c.width*this.zh.x,d=-d-180,e=-e-180,f=!f);a.ec&&
(g.y+=2*c.height*this.zh.y,f=!f,d=-d,e=-e);this.SA=d;this.Az=e;this.kz=f}else{e=this.Nl;g=this.Ai/100;f=this.Wy;e=q.size(c.width*(1-e.x),c.height*(1-e.y));var g=q.size((c.width-e.width)*g,(c.height-e.height)*g),g=q.size(e.width+g.width,e.height+g.height),h=q.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.dc&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.ec&&(f.y+=
g.height,c=-1);0<e&&(f.y-=e*c);f.width=g.width;f.height=-g.height}},MP:function(){var a=this.hf;a===q.gk?this.PP():a===q.jy&&this.EP();this.Pr=!0}});
q.Ba.Hc?(b=q.uc.prototype,b.ctor=q.uc.prototype.xh,b.MJ=q.uc.prototype.gP,b.Ls=q.uc.prototype.jP,b.Ti=q.uc.prototype.nP,b.LJ=q.uc.prototype.eP,b.iC=q.uc.prototype.ON,b.Ra=q.uc.prototype.cg,b.aB=q.uc.prototype.MP):(b=q.uc.prototype,b.ctor=q.uc.prototype.wh,b.MJ=q.uc.prototype.fP,b.Ls=q.uc.prototype.iP,b.Ti=q.uc.prototype.mP,b.LJ=q.uc.prototype.dP,b.iC=q.uc.prototype.NN,b.Ra=q.uc.prototype.Rl,b.aB=q.uc.prototype.LP);q.uc.create=function(a){var c=new q.uc;return c.iC(a)?c:null};q.ly=q.M.extend({gf:0,Qd:0,ctor:function(){q.M.prototype.ctor.call(this);this.Qd=this.gf=0},K:function(a,c){return q.M.prototype.K.call(this,a)?(this.gf=c,!0):!1},C:function(){var a=new q.ly;a.K(this.pa,this.gf);return a},reverse:function(){q.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},X:function(a){q.M.prototype.X.call(this,a);this.Qd=a.uw();100==this.Qd&&(this.Qd=0)},update:function(a){this.N instanceof q.uc&&this.N.Js(this.Qd+(this.gf-this.Qd)*a)}});
q.ly.create=function(a,c){var d=new q.ly;d.K(a,c);return d};q.Mt=q.M.extend({gf:0,Qd:0,ctor:function(){q.M.prototype.ctor.call(this);this.Qd=this.gf=0},K:function(a,c,d){return q.M.prototype.K.call(this,a)?(this.gf=d,this.Qd=c,!0):!1},C:function(){var a=new q.Mt;a.K(this.pa,this.Qd,this.gf);return a},reverse:function(){return q.Mt.create(this.pa,this.gf,this.Qd)},X:function(a){q.M.prototype.X.call(this,a)},update:function(a){this.N instanceof q.uc&&this.N.Js(this.Qd+(this.gf-this.Qd)*a)}});
q.Mt.create=function(a,c,d){var e=new q.Mt;e.K(a,c,d);return e};q.Mx=9;q.PK=1;q.SK=2;q.TK=4;q.QK=8;q.RK=16;q.LD=32;q.UK=64;q.OK=128;q.di=256;q.Vf=1;q.ND=2;q.MD=4;q.RX=8;q.QX=8;
q.Mb=q.sh.extend({CF:!1,M_:!1,al:function(){return this.CF},sf:function(a){this.CF=a;for(var c=this.r,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.cb&&f.sf(a)}},Fi:q.Vf,n5:function(){return this.Fi},Hq:!1,Eo:!1,sj:!1,Iu:null,rf:function(a){this.Fi=(this.Hq=a)?q.Vf:q.MD;this.Rc()},isEnabled:function(){return this.Hq},Gp:function(a){this.Eo=a;this.Rc()},a7:function(){return this.Eo},ql:function(a){this.sj=a;this.Rc()},J6:function(){return this.sj},DS:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.qa)return!1;
return!0},ctor:function(){q.sh.prototype.ctor.call(this);this.Iu={};this.cc=q.sb()},q:function(){return q.sh.prototype.q.call(this)?(this.Fi=q.Vf,this.Hq=!0,this.sj=this.Eo=!1,this.Ip(1),!0):!1},Ww:function(){q.LC(this.Ok,!0,this)},Re:function(a){for(var c=0,d=q.Mx;c<d;c++)if(a&1<<c)for(var e=this.wz(1<<c),f=0,g=e.length;f<g;f++)e[f].bT(this)},QG:function(a,c,d){for(var e=0,f=q.Mx;e<f;e++)d&1<<e&&this.XE(a,c,1<<e)},D9:function(a,c,d){for(var e=0,f=q.Mx;e<f;e++)d&1<<e&&this.FO(a,c,1<<e)},Li:function(a){return this.Aa(a.J)},
Uh:function(a){a=a.J;a=this.getParent().Aa(a);return q.nb(this.Ta(),a)},O_:function(){return null},wz:function(a){a=a.toString();this.Iu.hasOwnProperty(a)||(this.Iu[a]=[]);return this.Iu[a]},XE:function(a,c,d){a=new q.sL(a,c,d);this.wz(d).push(a)},FO:function(a,c,d){d=this.wz(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.N);c&&(g=g&&c==f.xf);g?q.Fd(d,f):e++}else d.length=0},Rc:function(){}});q.Mb.create=function(){var a=new q.Mb;return a&&a.q()?a:null};q.RD=3435855873;
q.Cl=q.Mb.extend({Cq:!1,Qr:!1,eg:null,Yq:null,uq:null,Fu:null,qm:null,Kd:null,zi:0,so:!1,Ov:null,Er:null,Pv:null,Ml:null,QF:!1,fv:0,ev:0,ctor:function(){q.Mb.prototype.ctor.call(this);this.eg=new q.jk(0,0);this.Yq=new q.Hg(0,0);this.uq="";this.Fu=q.sb();this.Ov={};this.Er={};this.Pv={};this.Ml={}},q:function(){return this.Cw(q.S.create("","Arial",12),q.Ye.create())},Rc:function(){if(this.QF){this.qm&&this.qm.D(!1);this.Kd&&this.Kd.D(!1);this.RV(this.Yq);var a=this.Fi;this.uq=this.VB(a);this.Fu=this.lS(a);
var c=this.qm=this.fs(a);c&&c.ca&&c.ca(this.uq);c&&c.cb&&c.n(this.Fu);var d=this.d();c&&c.l(d.width/2,d.height/2);(a=this.Kd=this.BR(a))&&a.l(d.width/2,d.height/2);d=c?c.Ta().Xa:q.size(0,0);if(this.Cq)a&&a.V(d.width+2*this.ev,d.height+2*this.fv);else if(a){var e=a.eg,e=q.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.V(e)}d=c?c.Ta():q.rect(0,0,0,0);e=a?a.Ta():q.rect(0,0,0,0);d=q.Vw(d,e);this.V(d.width,d.height);d=this.d();c&&(c.l(d.width/2,d.height/2),c.D(!0));
a&&(a.l(d.width/2,d.height/2),a.D(!0))}},Cw:function(a,c){if(!a||!a.cb)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return q.Mb.prototype.q.call(this,!0)?(this.QF=!0,this.Ov={},this.Er={},this.Pv={},this.Ml={},this.Pb(!0),this.so=!1,this.Qr=!0,this.uq=null,this.pV(!0),this.Zj(q.size(0,0)),this.Qr=!0,this.Mi(!1),this.R(0.5,0.5),this.qm=a,this.Kd=c,this.ba(255),
this.sf(!0),this.xW(a.TB(),q.Vf),this.wW(a.md(),q.Vf),this.hD(a,q.Vf),this.ex(c,q.Vf),this.Fi=q.Vf,this.ev=24,this.fv=12,this.Yq=new q.Hg(0.5,0.5),this.Zj(q.Gl()),this.Rc(),!0):!1},US:function(a,c,d){a=q.S.create(a,c,d);return this.Cw(a,q.Ye.create())},aI:function(a){var c=q.S.create("","Arial",30);return this.Cw(c,a)},H1:function(){return this.Cq},pV:function(a){this.Cq=a;this.Rc()},V5:function(){return this.Qr},BW:function(a){return this.Qr=a},WR:function(){return this.eg},Zj:function(a){if(0===
a.width&&0===a.height)this.Cq=!0;else{this.Cq=!1;var c=this.Ml,d;for(d in c)c[d].Zj(a)}this.eg=a;this.Rc()},M3:function(){return this.Yq},RV:function(a){this.Yq=a;this.qm&&this.qm.R(a)},F_:function(){return this.uq},G_:function(){return this.Fu},Ki:function(){return this.zi},ba:function(a){q.Mb.prototype.ba.call(this,a);var c=this.Ml,d;for(d in c)c[d].ba(a)},n:function(a){q.Mb.prototype.n.call(this,a);var c=this.Ml,d;for(d in c)c[d].n(a)},md:function(){return this.Sd},W6:function(){return this.so},
K_:function(){return this.fv},I_:function(){return this.ev},J$:function(a,c){this.fv=c;this.ev=a;this.Rc()},rf:function(a){q.Mb.prototype.rf.call(this,a);this.Rc()},Gp:function(a){q.Mb.prototype.Gp.call(this,a);this.Rc()},ql:function(a){this.Fi=a?q.ND:q.Vf;q.Mb.prototype.ql.call(this,a);(a=this.LB(q.RD))&&this.TW(a);this.Rc();this.Qr&&(a=q.Hn.create(0.05,this.sj&&this.isEnabled()&&!this.Eo?1.1:1),a.RJ(q.RD),this.Zw(a))},fb:function(a){if(!(this.Uh(a)&&this.isEnabled()&&this.qa&&this.DS()))return!1;
this.so=!0;this.ql(!0);this.Re(q.PK);return!0},dd:function(a){this.Hq&&this.so&&!this.Eo?(a=this.Uh(a))&&!this.sj?(this.ql(!0),this.Re(q.QK)):a&&this.sj?this.Re(q.SK):!a&&this.sj?(this.ql(!1),this.Re(q.RK)):a||this.sj||this.Re(q.TK):this.sj&&this.ql(!1)},pf:function(a){this.so=!1;this.ql(!1);this.Uh(a)?this.Re(q.LD):this.Re(q.UK)},Vj:function(){this.so=!1;this.ql(!1);this.Re(q.OK)},VB:function(a){var c=this.Ov;return c?c[a]?c[a]:c[q.Vf]:""},xW:function(a,c){this.Ov[c]=a||"";this.Fi==c&&this.Rc()},
lS:function(a){return(a=this.Er[a])?a:(a=this.Er[q.Vf])?a:q.sb()},wW:function(a,c){this.Er[c]=a;this.Fi==c&&this.Rc()},fs:function(a){var c=this.Pv;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.Vf]},hD:function(a,c){var d=this.Pv;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.R(0.5,0.5);this.g(a,1);this.Fi==c&&this.Rc()},Kaa:function(a,c){var d=this.VB(c);d||(d="");this.hD(q.S.create(d,a,12),c)},x5:function(a){a=this.fs(a);return null!=a&&a instanceof q.S?a.af:""},Laa:function(a,
c){var d=this.fs(c);null!=d&&d instanceof q.S&&d.zJ(a)},y5:function(a){a=this.fs(a);return null!=a&&a instanceof q.S?a.ye:0},Jaa:function(a,c){var d=this.VB(c);d||(d="");this.hD(q.dy.create(d,a),c)},w5:function(a){a=this.fs(a);return null!=a&&a instanceof q.dy?a.t3():""},BR:function(a){var c=this.Ml;return c.hasOwnProperty(a)&&c[a]?c[a]:c[q.Vf]},ex:function(a,c){var d=this.Ml;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.D(!1);a.R(0.5,0.5);this.g(a);d=this.eg;0===d.width&&
0===d.height||a.Zj(d);this.Fi===c&&this.Rc()},W9:function(a,c){var d=q.Ye.$G(a);this.ex(d,c)}});q.Cl.create=function(a,c){var d;if(0==arguments.length)return(d=new q.Cl)&&d.q()?d:null;1==arguments.length?(d=new q.Cl,d.aI(arguments[0])):2==arguments.length?(d=new q.Cl,d.Cw(a,c)):3==arguments.length&&(d=new q.Cl,d.US(arguments[0],arguments[1],arguments[2]));return d};q.RGBA=function(a,c,d,e){this.k=a;this.i=c;this.f=d;this.F=e};q.$x=function(a,c,d){this.ke=a;this.$h=c;this.ha=d};q.Id={};q.Id.Bm=function(a,c,d,e){a=q.u.aH(a);if(!a)return null;a.l(d);a.R(e);c.g(a);return a};q.Id.oL=function(a){var c=new q.$x,d,e;d=a.k<a.i?a.k:a.i;d=d<a.f?d:a.f;e=a.k>a.i?a.k:a.i;e=e>a.f?e:a.f;c.ha=e;d=e-d;if(0<e)c.$h=d/e;else return c.$h=0,c.ke=-1,c;c.ke=a.k>=e?(a.i-a.f)/d:a.i>=e?2+(a.f-a.k)/d:4+(a.k-a.i)/d;c.ke*=60;0>c.ke&&(c.ke+=360);return c};
q.Id.oy=function(a){var c,d,e,f,g=new q.RGBA;g.F=1;if(0>=a.$h){if(!a.ke)return g.k=a.ha,g.i=a.ha,g.f=a.ha,g;g.k=0;g.i=0;g.f=0;return g}c=a.ke;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.ha*(1-a.$h);d=a.ha*(1-a.$h*e);e=a.ha*(1-a.$h*(1-e));switch(f){case 0:g.k=a.ha;g.i=e;g.f=c;break;case 1:g.k=d;g.i=a.ha;g.f=c;break;case 2:g.k=c;g.i=a.ha;g.f=e;break;case 3:g.k=c;g.i=d;g.f=a.ha;break;case 4:g.k=e;g.i=c;g.f=a.ha;break;default:g.k=a.ha,g.i=c,g.f=d}return g};q.Id.ID=function(a,c){return q.Vw(a,c)};q.sL=q.ya.extend({xf:null,N:null,Eu:null,ctor:function(a,c,d){this.N=a;this.xf=c;this.Eu=d},w2:function(){return this.xf},kS:function(){return this.N},a3:function(){return this.Eu},bT:function(a){if(this.N&&this.xf)if("string"==typeof this.xf)this.N[this.xf](a,this.Eu);else this.xf.call(this.N,a,this.Eu)}});q.nE=0;q.qE=1;q.oE=2;q.pE=3;q.lE=4;q.sE=5;q.rE=6;q.VL=7;q.mE=8;
q.Ye=q.tb.extend({cb:!0,Go:null,fF:null,Gk:!1,ff:null,Ih:null,Hh:null,Yg:null,wi:null,hj:null,Dh:null,li:null,ki:null,mi:null,jj:null,fc:!1,Zc:null,eg:null,zi:0,cc:null,Xn:null,Tu:0,Vu:0,Uu:0,Su:0,jG:!1,NA:!1,kb:!1,xd:null,qK:function(){return this.kb},Hf:function(a,c){this.xd.push({Oj:a,Ph:c})},Ld:function(){this.kb=!0;for(var a=this.xd,c=0,d=a.length;c<d;c++){var e=a[c];e.Oj.call(e.Ph,this)}a.length=0},Uv:function(){var a;a=this.Tu;var c=this.Vu,d=this.Uu,e=this.Go,f=this.Su;a=0===a&&0===c&&0===
d&&0===f?q.Vc():this.NA?q.rect(f,a,e.width-d-a,e.height-c-f):q.rect(a,c,e.width-a-d,e.height-c-f);this.vV(a)},KP:function(){if(this.Ih&&this.Yg&&this.mi&&this.li&&this.hj){var a=this.na,c=this.Ih,d=this.Yg,e=this.mi,f=this.li,g=this.hj,h=this.hj.d(),k=c.d(),l=f.d(),m=a.Ca-k.width-d.d().width,a=a.ma-k.height-e.d().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!q.Ba.Hc){var p=Math.round(k);k!=p&&(k=p,m=k/h.width);p=Math.round(n);n!=p&&(n=p,a=n/h.height)}g.Fp(m);g.jn(a);
var h=this.wi,p=this.Dh,t=this.Hh,v=this.ki,z=q.a(0,0);f.R(z);e.R(z);c.R(z);d.R(z);h.R(z);p.R(z);t.R(z);v.R(z);g.R(z);f.l(0,0);e.l(r+k,0);c.l(0,l+n);d.l(r+k,l+n);h.l(0,l);h.jn(a);p.l(r+k,l);p.jn(a);v.l(r,0);v.Fp(m);t.l(r,l+n);t.Fp(m);g.l(r,l)}},ctor:function(){q.tb.prototype.ctor.call(this);this.Go=q.Vc();this.fF=q.Vc();this.jj=q.sb();this.Zc=new q.jk(0,0);this.eg=new q.jk(0,0);this.cc=q.sb();this.zi=255;this.Xn=q.Vc();this.xd=[]},UR:function(){return this.Zc},WR:function(){return this.eg},Zj:function(a){this.V(a);
this.eg=a},Ki:function(){return this.zi},ba:function(a){if(this.ff){this.zi=a;for(var c=this.ff.r,d=0;d<c.length;d++){var e=c[d];e&&e.cb&&e.ba(a)}}},md:function(){return this.cc},n:function(a){if(this.ff){this.cc=a;for(var c=this.ff.r,d=0;d<c.length;d++){var e=c[d];e&&e.cb&&e.n(a)}}},N2:function(){return this.Xn},vV:function(a){if(this.ff){var c=this.na,d=c.Ca,c=c.ma;this.Mp(this.ff,this.Go,this.NA,a);this.V(d,c)}},I3:function(){return this.Tu},C$:function(a){this.Tu=a;this.Uv()},K3:function(){return this.Vu},
E$:function(a){this.Vu=a;this.Uv()},J3:function(){return this.Uu},D$:function(a){this.Uu=a;this.Uv()},H3:function(){return this.Su},B$:function(a){this.Su=a;this.Uv()},V:function(a,c){2===arguments.length?q.B.prototype.V.call(this,a,c):q.B.prototype.V.call(this,a);this.Gk=!0},ka:function(a){this.Gk&&(this.KP(),this.Gk=!1);q.tb.prototype.ka.call(this,a)},q:function(){return this.Aw(null,q.Vc(),!1,q.Vc())},Aw:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.Mp(a,c,d,e);this.R(0.5,0.5);return this.Gk=
!0},Ni:function(a,c,d){a instanceof q.Xf?(d=a=c,c=q.Vc()):(c=c||q.Vc(),d=d||q.Vc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=q.Ia.e().wx(a);if(!e){var e=q.Ia.e().$a(a),f=e.sg();(this.kb=f)||e.Hf(function(a){var c=this.eg,c=q.size(c.width,c.height);a=a.d();this.Mp(this.ff,q.rect(0,0,a.width,a.height),!1,this.Xn);this.Zj(c);this.Gk=!0;this.Ld()},this)}a=q.ob.create(a,9);return this.Aw(a,c,!1,d)},me:function(a,c){if(!a||!a.Z())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||q.Vc();var d=a.kb;(this.kb=d)||a.Hf(function(a){var c=this.eg,c=q.size(c.width,c.height);this.Mp(this.ff,a.fe(),q.Ba.Hc?a.$c:!1,this.Xn);this.Zj(c);this.Gk=!0;this.Ld()},this);d=q.ob.Ob(a.Z(),9);return this.Aw(d,a.fe(),q.Ba.Hc?a.$c:!1,c)},fI:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||q.Vc();var d=q.Yf.e().gh(a);return null==d?(q.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):
this.me(d,c)},G9:function(a){var c=new q.Ye;return c&&c.Aw(this.ff,this.Go,!1,a)?c:null},sf:function(a){if(this.ff){this.fc=a;var c=this.ff.r;if(c)for(var d=0,e=c.length;d<e;d++)c[d].sf(a)}},al:function(){return this.fc},Mp:function(a,c,d,e){var f=this.Ki(),g=this.md();c=q.rect(c.x,c.y,c.width,c.height);this.mc(!0);this.ff!=a&&(this.ff=a);a=a.Z();var h=a.sg();if(this.kb=h){a=this.ff;a.mc(!0);h=this.Xn;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.NA=d;h=a.Z();q.kr(c)&&(c=h.d(),c=q.rect(0,
0,c.width,c.height));var k=this.Go=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Xa;this.Zc.width=l.width;this.Zc.height=l.height;k=this.eg;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.fF;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;q.kr(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,p=m-(n+r),t=k.y,v=k.height,z=e-(t+v),D=0,C=0;e=q.rect(D,C,n,t);var D=D+n,k=q.rect(D,C,r,t),m=q.rect(D+r,C,p,t),D=0,C=0+t,l=
q.rect(D,C,n,v),D=D+n,Y=q.rect(D,C,r,v),D=D+r,M=q.rect(D,C,p,v),D=0,C=0+t+v,t=q.rect(D,C,n,z),D=D+n,n=q.rect(D,C,r,z),D=D+r,r=q.rect(D,C,p,z),p={F:1,f:0,xa:0,Fa:1,Ua:0,Va:0};if(d){d=Y;var z=r,D=t,C=m,v=e,Q=M,P=l,la=n,Z=k,p=q.Gx(p,c.height+c.x,c.y),p=q.NK(p),Y=q.Ig(Y,p),r=q.Ig(r,p),t=q.Ig(t,p),m=q.Ig(m,p);e=q.Ig(e,p);M=q.Ig(M,p);l=q.Ig(l,p);n=q.Ig(n,p);k=q.Ig(k,p);d.x=Y.x;d.y=Y.y;z.x=r.x;z.y=r.y;D.x=t.x;D.y=t.y;C.x=m.x;C.y=m.y;v.x=e.x;v.y=e.y;Q.x=M.x;Q.y=M.y;P.x=l.x;P.y=l.y;la.x=n.x;la.y=n.y;Z.x=k.x;
Z.y=k.y;this.hj=new q.u;this.hj.Ga(h,d,!0);a.g(this.hj,0,q.nE);this.Hh=new q.u;this.Hh.Ga(h,Z,!0);a.g(this.Hh,1,q.qE);this.ki=new q.u;this.ki.Ga(h,la,!0);a.g(this.ki,1,q.lE);this.wi=new q.u;this.wi.Ga(h,P,!0);a.g(this.wi,1,q.oE);this.Dh=new q.u;this.Dh.Ga(h,Q,!0);a.g(this.Dh,1,q.pE);this.Ih=new q.u;this.Ih.Ga(h,v,!0);a.g(this.Ih,2,q.rE);this.Yg=new q.u;this.Yg.Ga(h,C,!0);a.g(this.Yg,2,q.sE);this.li=new q.u;this.li.Ga(h,D,!0);a.g(this.li,2,q.mE);this.mi=new q.u;this.mi.Ga(h,z,!0)}else p=q.Gx(p,c.x,
c.y),q.gi(Y,p),q.gi(r,p),q.gi(t,p),q.gi(m,p),q.gi(e,p),q.gi(M,p),q.gi(l,p),q.gi(n,p),q.gi(k,p),this.hj=new q.u,this.hj.Ga(h,Y),a.g(this.hj,0,q.nE),this.Hh=new q.u,this.Hh.Ga(h,k),a.g(this.Hh,1,q.qE),this.ki=new q.u,this.ki.Ga(h,n),a.g(this.ki,1,q.lE),this.wi=new q.u,this.wi.Ga(h,l),a.g(this.wi,1,q.oE),this.Dh=new q.u,this.Dh.Ga(h,M),a.g(this.Dh,1,q.pE),this.Ih=new q.u,this.Ih.Ga(h,e),a.g(this.Ih,2,q.rE),this.Yg=new q.u,this.Yg.Ga(h,m),a.g(this.Yg,2,q.sE),this.li=new q.u,this.li.Ga(h,t),a.g(this.li,
2,q.mE),this.mi=new q.u,this.mi.Ga(h,r);a.g(this.mi,2,q.VL);this.V(c.Xa);this.g(a);this.jG&&(this.ba(f),255===g.k&&255===g.i&&255===g.f||this.n(g));return this.jG=!0}a.Hf(function(){this.Gk=!0;this.Ld()},this)},tf:function(a){var c=q.ob.Ob(a.Z(),9),d=a.kb;(this.kb=d)||a.Hf(function(a){var c=this.eg,c=q.size(c.width,c.height);this.Mp(this.ff,a.fe(),q.Ba.Hc?a.$c:!1,this.Xn);this.Zj(c);this.Gk=!0;this.Ld()},this);this.Mp(c,a.fe(),q.Ba.Hc?a.$c:!1,q.Vc());this.Su=this.Uu=this.Vu=this.Tu=0}});
q.Ye.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new q.Ye)&&e.Ni(a,c))return e}else{if(a instanceof q.Xf&&(e=new q.Ye)&&e.Ni(a,d))return e}else if(3===arguments.length){if((e=new q.Ye)&&e.Ni(a,c,d))return e}else if(1===arguments.length){if((e=new q.Ye)&&e.Ni(a))return e}else if(0===arguments.length&&(e=new q.Ye)&&e.q())return e;return null};q.Ye.$G=function(a,c){var d=new q.Ye;return d&&d.me(a,c)?d:null};
q.Ye.aH=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new q.Ye;return d&&d.fI(a,c)?d:null};q.Xt=q.Ic.extend({});q.Xt.kca=function(a){var c=new q.Xt;c.q();c.V(0,a);return c};q.Xt.d6=function(a){var c=new q.Xt;c.q();c.V(a,0);return c};
q.Jt=q.Ic.extend({cb:!0,cc:null,zi:0,ctor:function(){},md:function(){return this.cc},n:function(a){this.cc=a;if(this.r&&0<this.r.length)for(var c=0;c<this.r.length;c++)this.r[c]&&this.r[c].cb&&this.r[c].n(a)},Ki:function(){return this.zi},ba:function(a){this.zi=a;if(this.r&&0<this.r.length)for(var c=0;c<this.r.length;c++)this.r[c]&&this.r[c].cb&&this.r[c].ba(a)},NS:function(a,c){if(this.q()){var d=q.T.e().Kb;this.Mi(!0);this.R(0.5,0.5);this.V(d);this.l(d.width/2,d.height/2);d=0;if(a){this.g(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.g(c[e],d))}return!0}return!1},C0:function(){this.cQ(q.YK)},cQ:function(a){var c=-a,d;if(this.r&&0<this.r.length)for(d=0;d<this.r.length;d++)this.r[d]&&(c+=this.r[d].d().height*this.r[d].wa+a);var e=0,f=c/2;if(this.r&&0<this.r.length)for(d=0;d<this.r.length;d++)this.r[d]&&(e=Math.max(e,this.r[d].d().width),this.r[d].l(0,f-this.r[d].d().height*this.r[d].wa/2),f-=this.r[d].d().height*this.r[d].wa+a);this.V(e,c)},z0:function(){this.bQ(q.YK)},bQ:function(a){var c=
-a,d;if(this.r&&0<this.r.length)for(d=0;d<this.r.length;d++)this.r[d]&&(c+=this.r[d].d().width*this.r[d].oa+a);var e=0,f=-c/2;if(this.r&&0<this.r.length)for(d=0;d<this.r.length;d++)this.r[d]&&(e=Math.max(e,this.r[d].d().height),this.r[d].l(f+this.r[d].d().width*this.r[d].oa/2,0),f+=this.r[d].d().width*this.r[d].oa+a);this.V(c,e)},A0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.r&&0<this.r.length)for(d=0;d<this.r.length;d++)this.r[d]&&
(f>=c.length?q.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.r[d].d().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):q.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=q.T.e().Kb,n=k=g=f=0,r=0,e=e/2;if(this.r&&0<this.r.length)for(d=0;d<this.r.length;d++)this.r[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.r[d].d().height,g=0|(g>=l||null==l?g:l),this.r[d].l(r-m.width/2,e-this.r[d].d().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},B0:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.r&&0<this.r.length)for(d=0;d<this.r.length;d++)this.r[d]&&(k>=c.length?q.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.r[d].d().width,l=0|(l>=r||null==r?l:r),h+=0|this.r[d].d().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):q.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
q.T.e().Kb;l=k=0;n=null;var g=-g/2,p=0;if(this.r&&0<this.r.length)for(d=0;d<this.r.length;d++)this.r[d]&&(null==n&&(n=c[k],p=f[k]),r=this.r[d].d().width,l=0|(l>=r||null==r?l:r),this.r[d].l(g+e[k]/2,p-h.height/2),p-=this.r[d].d().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},sf:function(){},al:function(){return!1}});q.Jt.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new q.Jt)&&d.NS(a,c)?d:null};
q.Jt.w1=function(a){return q.Jt.create(a,null)};q.Sx=q.Mb.extend({AA:0,uu:0,wc:null,nO:null,hG:null,Xg:null,kc:null,ag:0,gj:0,X4:function(){return this.AA},J2:function(){return this.uu},AH:function(){return this.wc},x4:function(){return this.uu},d5:function(){return this.hG},gS:function(){return this.Xg},iS:function(){return this.kc},kC:function(a,c){return q.Mb.prototype.q.call(this)?(this.Pb(!0),this.wc=q.Id.Bm("colourPickerBackground.png",a,c,q.a(0,0)),this.nO=q.Id.Bm("colourPickerOverlay.png",a,c,q.a(0,0)),this.hG=q.Id.Bm("colourPickerShadow.png",
a,c,q.a(0,0)),this.Xg=q.Id.Bm("colourPicker.png",a,c,q.a(0.5,0.5)),this.kc=c,this.ag=35,this.gj=this.wc.d().width/2,!0):!1},rf:function(a){q.Mb.prototype.rf.call(this,a);this.Xg&&this.Xg.ba(a?255:128)},EK:function(a){var c=new q.$x;c.$h=1;c.ke=a.ke;c.ha=1;a=q.Id.oy(c);this.wc.n(q.cw(0|255*a.k,0|255*a.i,0|255*a.f))},eX:function(a){a=q.a(this.kc.x+this.ag+this.gj*(1-a.$h),this.kc.y+this.ag+this.gj*a.ha);this.Xv(a)},Xv:function(a){var c=this.kc.x+0.5*this.wc.Ta().width,d=this.kc.y+0.5*this.wc.Ta().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.wc.Ta().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.Xg.l(a);a.x<this.kc.x+this.ag?a.x=this.kc.x+this.ag:a.x>this.kc.x+this.ag+this.gj-1&&(a.x=this.kc.x+this.ag+this.gj-1);a.y<this.kc.y+this.ag?a.y=this.kc.y+this.ag:a.y>this.kc.y+this.ag+this.gj&&(a.y=this.kc.y+this.ag+this.gj);this.AA=1-Math.abs((this.kc.x+this.ag-a.x)/this.gj);this.uu=Math.abs((this.kc.y+this.ag-a.y)/this.gj)},qq:function(a){var c=this.kc.x+0.5*this.wc.Ta().width,
d=this.kc.y+0.5*this.wc.Ta().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.wc.Ta().width?(this.Xv(a),this.Re(q.di),!0):!1},fb:function(a){if(!this.isEnabled()||!this.qa)return!1;a=this.Li(a);return this.qq(a)},dd:function(a){a=this.Li(a);this.qq(a)}});q.Sx.create=function(a,c){var d=new q.Sx;d.kC(a,c);return d};q.Rx=q.Mb.extend({oo:0,Sq:0,wc:null,Xg:null,kc:null,C3:function(){return this.oo},cD:function(a){this.oo=a;this.NV(this.oo/360)},D3:function(){return this.Sq},NV:function(a){this.Sq=a;this.oo=360*this.Sq;a=this.wc.Ta();var c=0.5*a.width-15,d=q.Zi(360*this.Sq-180);this.Xg.l(this.kc.x+0.5*a.width+c*Math.cos(d),this.kc.y+0.5*a.height+c*Math.sin(d))},rf:function(a){q.Mb.prototype.rf.call(this,a);this.Xg&&this.Xg.ba(a?255:128)},AH:function(){return this.wc},gS:function(){return this.Xg},iS:function(){return this.kc},
kC:function(a,c){return q.Mb.prototype.q.call(this)?(this.Pb(!0),this.wc=q.Id.Bm("huePickerBackground.png",a,c,q.a(0,0)),this.Xg=q.Id.Bm("colourPicker.png",a,c,q.a(0.5,0.5)),this.Xg.l(c.x,c.y+0.5*this.wc.Ta().height),this.kc=c,this.Sq=this.oo=0,!0):!1},Xv:function(a){var c=this.wc.Ta();this.cD(q.my(Math.atan2(a.y-(this.kc.y+0.5*c.height),a.x-(this.kc.x+0.5*c.width)))+180);this.Re(q.di)},qq:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.Xv(a),!0):!1},fb:function(a){if(!this.isEnabled()||
!this.qa)return!1;a=this.Li(a);return this.qq(a)},dd:function(a){a=this.Li(a);this.qq(a)}});q.Rx.create=function(a,c){var d=new q.Rx;d.kC(a,c);return d};q.SD=q.Mb.extend({Ng:null,rk:null,Wl:null,wc:null,KS:function(a){this.Ng.ke=a.oo;a=q.Id.oy(this.Ng);q.Mb.prototype.n.call(this,q.cw(0|255*a.k,0|255*a.i,0|255*a.f));this.Re(q.di);this.HP()},CQ:function(a){this.Ng.$h=a.AA;this.Ng.ha=a.uu;a=q.Id.oy(this.Ng);q.Mb.prototype.n.call(this,q.cw(0|255*a.k,0|255*a.i,0|255*a.f));this.Re(q.di)},n:function(a){q.Mb.prototype.n.call(this,a);var c=new q.RGBA;c.k=a.k/255;c.i=a.i/255;c.f=a.f/255;c.F=1;this.Ng=q.Id.oL(c);this.yG()},AH:function(){return this.wc},q:function(){if(q.Mb.prototype.q.call(this)){this.Pb(!0);
q.Yf.e().PG(aa.GD);var a=q.ob.create(aa.HD);this.g(a);this.Ng=new q.$x(0,0,0);this.wc=q.Id.Bm("menuColourPanelBackground.png",a,q.aj(),q.a(0.5,0.5));var c=q.nd(this.wc.o,q.a(this.wc.d().width/2,this.wc.d().height/2));this.Wl=q.Rx.create(a,q.a(c.x+8,c.y+8));this.rk=q.Sx.create(a,q.a(c.x+28,c.y+28));this.Wl.QG(this,this.KS,q.di);this.rk.QG(this,this.CQ,q.di);this.yG();this.g(this.Wl);this.g(this.rk);this.V(this.wc.d());return!0}return!1},HP:function(){this.Wl.cD(this.Ng.ke);this.rk.EK(this.Ng)},yG:function(){this.Wl.cD(this.Ng.ke);
this.rk.EK(this.Ng);this.rk.eX(this.Ng)},rf:function(a){q.Mb.prototype.rf.call(this,a);null!=this.Wl&&this.Wl.rf(a);this.rk&&this.rk.rf(a)},fb:function(){return!1}});q.SD.create=function(){var a=new q.SD;a.q();return a};aa=aa||{};aa.GD=aa.GD||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.HD=aa.HD||"res/extensions/CCControlColourPickerSpriteSheet.png";q.zE=24;q.KZ=8;
q.UD=q.Mb.extend({Lc:0,ab:0,yb:0,kv:0,iv:0,zb:null,Hk:null,Kd:null,PH:function(){return this.Lc},Se:function(a){a=Math.max(a,this.ab);this.Lc=a=Math.min(a,this.yb);this.Rc();this.Re(q.di)},QR:function(){return this.ab},HJ:function(a){this.kv=this.ab=a;this.ab>=this.yb&&(this.yb=this.ab+1);this.Se(this.Lc)},PR:function(){return this.yb},FJ:function(a){this.iv=this.yb=a;this.yb<=this.ab&&(this.ab=this.yb-1);this.Se(this.Lc)},Uh:function(a){a=a.J;a=this.getParent().Aa(a);var c=this.Ta();c.Xa.width+=
this.zb.d().width;c.Yc.x-=this.zb.d().width/2;return q.nb(c,a)},Nm:function(a){a=a.J;a=this.Aa(a);0>a.x?a.x=0:a.x>this.Kd.d().width&&(a.x=this.Kd.d().width);return a},a4:function(){return this.kv},O$:function(a){this.kv=a},X3:function(){return this.iv},N$:function(a){this.iv=a},MH:function(){return this.zb},H4:function(){return this.Hk},D2:function(){return this.Kd},SS:function(a,c,d){return q.Mb.prototype.q.call(this)?(this.Mi(!1),this.Pb(!0),this.Kd=a,this.Hk=c,this.zb=d,a=q.Id.ID(a.Ta(),d.Ta()),
this.V(a.width,a.height),this.Kd.R(0.5,0.5),this.Kd.l(a.width/2,a.height/2),this.g(this.Kd),this.Hk.R(0,0.5),this.Hk.l(0,a.height/2),this.g(this.Hk),this.zb.l(0,a.height/2),this.g(this.zb),this.ab=0,this.yb=1,this.Se(this.ab),!0):!1},rf:function(a){q.Mb.prototype.rf.call(this,a);this.zb&&this.zb.ba(a?255:128)},OW:function(a){this.Gp(!0);this.zb.n(q.ip());this.Se(this.BD(a))},QW:function(a){this.Se(this.BD(a))},PW:function(){this.Eo&&this.Se(this.BD(this.zb.o));this.zb.n(q.sb());this.Gp(!1)},D5:function(a){a=
a.J;a=this.Aa(a);0>a.x?a.x=0:a.x>this.Kd.d().width+q.zE&&(a.x=this.Kd.d().width+q.zE);return a},fb:function(a){if(!this.Uh(a)||!this.isEnabled()||!this.qa)return!1;a=this.Nm(a);this.OW(a);return!0},dd:function(a){a=this.Nm(a);this.QW(a)},pf:function(){this.PW(q.aj())},Rc:function(){this.zb.ac((this.Lc-this.ab)/(this.yb-this.ab)*this.Kd.d().width);var a=this.Hk.UB(),a=q.rect(a.x,a.y,this.zb.o.A,a.height);this.Hk.Gb(a,this.Hk.Oc,a.Xa)},BD:function(a){a=a.x/this.Kd.d().width;return Math.max(Math.min(this.ab+
a*(this.yb-this.ab),this.iv),this.kv)}});q.UD.create=function(a,c,d){"string"==typeof a&&(a=q.u.create(a),c=q.u.create(c),d=q.u.create(d));var e=new q.UD;e.SS(a,c,d);return e};q.WD=q.Mb.extend({Pc:null,wF:0,er:!1,Ao:!1,ctor:function(){q.Mb.prototype.ctor.call(this)},hC:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.q()?(this.Pb(!0),this.Ao=!0,this.Pc=new q.XK,
this.Pc.hC(a,c,d,e,f,g),this.Pc.l(this.Pc.d().width/2,this.Pc.d().height/2),this.g(this.Pc),this.Mi(!1),this.R(0.5,0.5),this.V(this.Pc.d()),!0):!1},hx:function(a,c){var d=(this.Ao=a)?this.Pc.Dk:this.Pc.$l;c?this.Pc.Zw(q.xn.create(0.2,"sliderXPosition",this.Pc.Bj,d)):this.Pc.eD(d);this.Re(q.di)},Q6:function(){return this.Ao},a6:function(){return this.er},rf:function(a){this.Hq=a;this.Pc.ba(a?255:128)},Nm:function(a){a=a.J;return a=this.Aa(a)},fb:function(a){if(!this.Uh(a)||!this.isEnabled()||!this.qa)return!1;
this.er=!1;this.wF=this.Nm(a).x-this.Pc.Bj;this.Pc.zb.n(q.ip());this.Pc.Rc();return!0},dd:function(a){a=this.Nm(a);a=q.a(a.x-this.wF,0);this.er=!0;this.Pc.eD(a.x)},pf:function(a){a=this.Nm(a);this.Pc.zb.n(q.sb());this.er?this.hx(!(a.x<this.Pc.d().width/2),!0):this.hx(!this.Ao,!0)},Vj:function(a){a=this.Nm(a);this.Pc.zb.n(q.sb());this.er?this.hx(!(a.x<this.Pc.d().width/2),!0):this.hx(!this.Ao,!0)}});q.WD.create=function(a,c,d,e,f,g){var h=new q.WD;return h&&h.hC(a,c,d,e,f,g)?h:null};
q.XK=q.u.extend({Bj:0,Dk:0,$l:0,nG:0,Yz:0,Zz:null,Rg:null,yi:null,zb:null,am:null,Zl:null,co:null,gc:null,su:null,ctor:function(){q.u.prototype.ctor.call(this);this.Yz=this.$l=this.Dk=this.Bj=0;this.Zz=q.size(0,0);this.Zl=this.am=this.zb=this.yi=this.Rg=null},hC:function(a,c,d,e,f,g){return q.u.prototype.Ga.call(this,a.Z())?(this.Dk=0,this.$l=-c.d().width+e.d().width/2,this.Bj=this.Dk,this.dW(c),this.bW(d),this.gD(e),this.cW(f),this.aW(g),this.gc=a,a=this.Zz=this.gc.d(),this.gc.l(0,0),this.co=q.ib.create(),
this.co.R(0.5,0.5),this.co.l(a.width/2,a.height/2),this.co.fD(this.gc),this.su=q.ub.create(a.width,a.height),this.co.g(this.su.jb),this.g(this.co),this.g(this.zb),this.Rc(),!0):!1},Rc:function(){this.Rg.l(this.Rg.d().width/2+this.Bj,this.Rg.d().height/2);this.yi.l(this.Rg.d().width+this.yi.d().width/2+this.Bj,this.yi.d().height/2);this.am&&this.am.l(this.Rg.o.x-this.zb.d().width/6,this.Rg.d().height/2);this.Zl&&this.Zl.l(this.yi.o.x+this.zb.d().width/6,this.yi.d().height/2);this.zb.l(this.Rg.d().width+
this.Bj,this.Zz.height/2);this.su.Jj();this.Rg.ka();this.yi.ka();this.am&&this.am.ka();this.Zl&&this.Zl.ka();this.su.end()},eD:function(a){a<=this.$l?a=this.$l:a>=this.Dk&&(a=this.Dk);this.Bj=a;this.Rc()},g5:function(){return this.Bj},j8:function(){return this.Rg.d().width},h8:function(){return this.yi.d().height},zD:function(a,c){q.log("key \x3d "+c+", value \x3d "+a);this.eD(a)},X$:function(a){this.Dk=a},r4:function(){return this.Dk},U$:function(a){this.$l=a},l4:function(){return this.$l},L$:function(a){this.gc.ia(a)},
R3:function(){return this.gc.Z()},Haa:function(a){this.nG=a},t5:function(){return this.nG},K$:function(a){this.Yz=a},Q3:function(){return this.Yz},dW:function(a){this.Rg=a},s4:function(){return this.Rg},bW:function(a){this.yi=a},m4:function(){return this.yi},gD:function(a){this.zb=a},MH:function(){return this.zb},cW:function(a){this.am=a},q4:function(){return this.am},aW:function(a){this.Zl=a},k4:function(){return this.Zl}});q.PD=0;q.QD=1;q.et=2;q.Pp=q.m(55,55,55);q.Nx=q.m(147,147,147);q.OD="CourierNewPSMT";q.ED=0.15;q.LK=12;
q.VD=q.Mb.extend({yd:null,cf:null,Ck:null,Fk:null,Lc:0,tq:!1,Pn:!1,xm:!1,ab:0,yb:0,mm:0,Hr:!1,sm:q.et,mq:0,ctor:function(){q.Mb.prototype.ctor.call(this);this.Fk=this.Ck=this.cf=this.yd=null;this.Lc=0;this.xm=this.Pn=this.tq=!1;this.mm=this.yb=this.ab=0;this.Hr=!1;this.sm=q.et;this.mq=0},PS:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.q()){this.Pb(!0);this.tq=this.Pn=!0;this.ab=0;this.yb=100;this.Lc=0;this.mm=1;this.xm=!1;this.Mi(!1);this.XV(a);this.yd.l(a.d().width/2,a.d().height/2);this.g(this.yd);this.WV(q.S.create("-",q.OD,40,q.size(40,40),q.dj,q.iu));this.Ck.n(q.Nx);this.Ck.l(this.yd.d().width/2,this.yd.d().height/2);this.yd.g(this.Ck);this.hW(c);this.cf.l(a.d().width+c.d().width/2,a.d().height/2);this.g(this.cf);this.gW(q.S.create("+",q.OD,40,q.size(40,40),q.dj,q.iu));this.Fk.n(q.Pp);this.Fk.l(this.cf.d().width/2,
this.cf.d().height/2);this.cf.g(this.Fk);var d=q.Id.ID(this.yd.Ta(),this.cf.Ta());this.V(this.yd.d().width+this.cf.d().height,d.Xa.height);return!0}return!1},Waa:function(a){if(this.xm=a)this.Ck.n(q.Pp),this.Fk.n(q.Pp);this.Se(this.Lc)},HJ:function(a){if(a>=this.yb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.ab=a;this.Se(this.Lc)},FJ:function(a){if(a<=this.ab)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.yb=a;this.Se(this.Lc)},Se:function(a){this.kD(a,!0)},PH:function(){return this.Lc},Baa:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.mm=a},C6:function(){return this.tq},kD:function(a,c){a<this.ab?a=this.xm?this.yb:this.ab:a>this.yb&&(a=this.xm?this.ab:this.yb);this.Lc=a;this.xm||(this.Ck.n(a==this.ab?q.Nx:q.Pp),this.Fk.n(a==this.yb?q.Nx:q.Pp));c&&this.Re(q.di)},iK:function(){this.mq=-1;this.nc(this.update,q.ED,q.Fl,3*q.ED)},
kK:function(){this.rd(this.update)},update:function(){this.mq++;this.mq<q.LK&&0!=this.mq%3||(this.sm==q.PD?this.kD(this.Lc-this.mm,this.tq):this.sm==q.QD&&this.kD(this.Lc+this.mm,this.tq))},wK:function(a){a.x<this.yd.d().width&&this.Lc>this.ab?(this.sm=q.PD,this.yd.n(q.ip()),this.cf.n(q.sb())):a.x>=this.yd.d().width&&this.Lc<this.yb?(this.sm=q.QD,this.yd.n(q.sb()),this.cf.n(q.ip())):(this.sm=q.et,this.yd.n(q.sb()),this.cf.n(q.sb()))},fb:function(a){if(!this.Uh(a)||!this.isEnabled()||!this.qa)return!1;
a=this.Li(a);this.wK(a);this.Hr=!0;this.Pn&&this.iK();return!0},dd:function(a){this.Uh(a)?(a=this.Li(a),this.wK(a),this.Hr||(this.Hr=!0,this.Pn&&this.iK())):(this.Hr=!1,this.sm=q.et,this.yd.n(q.sb()),this.cf.n(q.sb()),this.Pn&&this.kK())},pf:function(a){this.yd.n(q.sb());this.cf.n(q.sb());this.Pn&&this.kK();this.Uh(a)&&(a=this.Li(a),this.Se(this.Lc+(a.x<this.yd.d().width?0-this.mm:this.mm)))},XV:function(a){this.yd=a},c4:function(){return this.yd},hW:function(a){this.cf=a},C4:function(){return this.cf},
WV:function(a){this.Ck=a},b4:function(){return this.Ck},gW:function(a){this.Fk=a},B4:function(){return this.Fk}});q.VD.create=function(a,c){var d=new q.VD;return d&&d.PS(a,c)?d:null};q.TD=q.Mb.extend({zb:null,Co:null,Bo:null,Lc:0,ab:0,yb:1,VS:function(a,c,d){return this.q()?(this.Pb(!0),this.lW(c),this.gD(d),this.zb.l(c.o),this.g(d,2),this.g(c,1),this.g(a),this.V(a.d()),this.ab=0,this.yb=1,this.Se(this.ab),!0):!1},rf:function(a){this.rf(a);this.zb!=NULL&&this.zb.ba(a?255:128)},Se:function(a){a<this.ab&&(a=this.ab);a>this.yb&&(a=this.yb);this.Lc=a;a=(a-this.ab)/(this.yb-this.ab);this.Co.Js(100*a);this.zb.kx(360*a);this.Re(q.di)},PH:function(){return this.Lc},HJ:function(a){this.ab=
a;this.ab>=this.yb&&(this.yb=this.ab+1);this.Se(this.yb)},QR:function(){return this.ab},FJ:function(a){this.yb=a;this.yb<=this.ab&&(this.ab=this.yb-1);this.Se(this.ab)},PR:function(){return this.yb},Uh:function(a){a=this.Li(a);return this.gR(this.Co.o,a)<Math.min(this.d().width/2,this.d().height/2)},fb:function(a){if(!this.Uh(a)||!this.isEnabled()||!this.qa)return!1;this.Bo=this.Li(a);this.fU(this.Bo);return!0},dd:function(a){a=this.Li(a);this.hU(a)},pf:function(){this.gU(q.a(0,0))},gR:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},eQ:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},fU:function(){this.Gp(!0);this.zb.n(q.ip())},hU:function(a){var c=this.eQ(this.Co.o,a,this.Co.o,this.Bo);180<c?c-=360:-180>c&&(c+=360);this.Se(this.Lc+c/360*(this.yb-this.ab));this.Bo=a},gU:function(){this.zb.n(q.sb());this.Gp(!1)},gD:function(a){this.zb=a},MH:function(){return this.zb},lW:function(a){this.Co=a},I4:function(){return this.Co},haa:function(a){this.Bo=
a},XR:function(){return this.Bo}});q.TD.create=function(a,c,d){var e=new q.TD;return e&&(a=q.u.create(a),d=q.u.create(d),c=q.uc.create(q.u.create(c)),e.VS(a,c,d))?e:null};q.xE=-1;q.Gn=0;q.Wp=1;q.Tt=2;q.JQ=function(a){var c=q.la.e();return(c.oa+c.wa)/2*a/160};q.gM=q.ya.extend({hV:function(){},iV:function(){}});
q.th=q.Ic.extend({i0:0,T_:0,R_:0,Qb:null,ri:q.Tt,ti:!1,qN:null,Ma:null,Zg:!1,gv:null,jv:null,oq:!1,rq:!1,mr:null,Qo:null,Ir:0,$g:null,Lh:null,LF:0,JF:0,gr:null,BA:!1,oG:null,ctor:function(){q.Ic.prototype.ctor.call(this);this.qN=new q.Hg(0,0);this.gv=new q.Hg(0,0);this.jv=new q.Hg(0,0);this.mr=new q.Hg(0,0);this.Qo=new q.Hg(0,0);this.$g=[];this.Lh=new q.jk(0,0);this.gr=new q.Xf(0,0,0,0);this.oG=new q.Xf(0,0,0,0)},q:function(){return this.mp(q.size(200,200),null)},Ww:function(){q.LC(this.Ok,!1,this)},
mp:function(a,c){var d=q.a(0,0);return q.Ic.prototype.q.call(this)?(this.Ma=c,this.Ma||(this.Ma=q.Ic.create(),this.Ma.Mi(!1),this.Ma.R(d)),this.VJ(a),this.Pb(!0),this.$g.length=0,this.Qb=null,this.rq=this.oq=!0,this.ri=q.Tt,this.Ma.l(d),this.Ir=0,this.g(this.Ma),this.LF=this.JF=1,!0):!1},pl:function(a,c){if(c)this.zV(a,0.15);else{if(!this.oq){var d=this.Om(),e=this.vs();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Ma.l(a)}},CH:function(){var a=this.Ma.o;return q.a(a.x,
a.y)},zV:function(a,c){var d=q.Kt.create(c,a),e=q.Qp.create(this.vP,this);this.Ma.Zw(q.bj.create(d,e));this.nc(this.fA)},$J:function(a,c){if(c)this.DW(a,0.15);else{var d=this.Ma;if(d.QB()!=a){var e,f;0==this.Ir?(f=this.Lh,f=q.a(0.5*f.width,0.5*f.height),f=this.Sk(f)):f=this.Qo;e=d.Aa(f);d.$j(Math.max(this.LF,Math.min(this.JF,a)));e=d.Sk(e);f=q.nd(f,e);this.pl(q.Pf(d.o,f))}}},RH:function(){return this.Ma.QB()},DW:function(a,c){if(0<c){var d=this.Ma.QB();d!=a&&(d=q.xn.create(c,"zoomScale",d,a),this.Zw(d))}else this.$J(a)},
Om:function(){var a=this.Ma,c=a.d(),d=this.Lh;return q.a(d.width-c.width*a.oa,d.height-c.height*a.wa)},vs:function(){return q.a(0,0)},P6:function(a){var c=this.CH(),d=this.Lh,e=this.RH(),c=q.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return q.tU(c,a.Ta())},pause:function(){this.Ma.Ow();for(var a=this.Ma.r,c=0;c<a.length;c++)a[c].Ow()},fJ:function(){for(var a=this.Ma.r,c=0,d=a.length;c<d;c++)a[c].Yw();this.Ma.Yw()},F6:function(){return this.ti},h7:function(){return this.Zg},y6:function(){return this.oq},
tV:function(a){this.oq=a},P5:function(){return this.Lh},VJ:function(a){this.Lh=a;q.B.prototype.V.call(this,a)},X2:function(){return this.Ma},xV:function(a){a&&(this.mc(!0),this.Ma=a,a.Mi(!1),a.R(0,0),this.g(a),this.VJ(this.Lh))},l3:function(){return this.ri},uJ:function(a){this.ri=a},Zb:function(){return this.Qb},mh:function(a){this.Qb=a},fb:function(a){if(!this.qa)return!1;var c=this.Nz(),d=this.Ma,e=d.Sk(d.Nh(a)),f=this.$g;if(2<f.length||this.Zg||!q.nb(c,e))return!1;f.push(a);1===f.length?(this.Qo=
this.Nh(a),this.Zg=!1,this.ti=!0,this.mr.x=0,this.Ir=this.mr.y=0):2==f.length&&(this.Qo=q.CC(this.Nh(f[0]),this.Nh(f[1])),this.Ir=q.zC(d.Nh(f[0]),d.Nh(f[1])),this.ti=!1);return!0},dd:function(a){if(this.qa)if(1===this.$g.length&&this.ti){this.Zg=!0;var c=this.Nz(),d=this.Nh(a);a=q.nd(d,this.Qo);var e=0,f=this.ri,e=f===q.Wp?a.y:f===q.Gn?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.Zg||!(0.04375>Math.abs(q.JQ(e))))if(this.Zg||(a.x=0,a.y=0),this.Qo=d,this.Zg=!0,q.nb(c,this.Sk(d))){switch(f){case q.Wp:a.x=
0;break;case q.Gn:a.y=0}d=this.Ma.o;c=d.x+a.x;d=d.y+a.y;this.mr=a;this.pl(q.a(c,d))}}else 2!==this.$g.length||this.ti||(a=q.zC(this.Ma.Nh(this.$g[0]),this.Ma.Nh(this.$g[1])),this.$J(this.RH()*a/this.Ir))},pf:function(){this.qa&&(1==this.$g.length&&this.Zg&&this.nc(this.mz),this.$g.length=0,this.Zg=this.ti=!1)},Vj:function(){this.qa&&(this.$g.length=0,this.Zg=this.ti=!1)},V:function(a,c){null!=this.Ma&&(2===arguments.length?this.Ma.V(a,c):this.Ma.V(a),this.fX())},d:function(){return this.Ma.d()},fX:function(){if(null!=
this.Ma){var a=this.Lh,c=this.vs();this.gv.x=c.x+0.2*a.width;this.gv.y=c.y+0.2*a.height;c=this.Om();this.jv.x=c.x-0.2*a.width;this.jv.y=c.y-0.2*a.height}},A6:function(){return this.rq},d$:function(a){this.rq=a},ka:function(a){if(this.qa){a=a||q.Q;var c,d=this.r,e,f;if(q.pd===q.Uf){a.save();this.transform(a);this.$E(a);if(d&&0<d.length){f=d.length;this.Dd();for(c=0;c<f;c++)if((e=d[c])&&0>e.Za)e.ka(a);else break;for(this.Ra(a);c<f;c++)d[c].ka(a)}else this.Ra(a);this.YE();a.restore()}else{q.rp();var g=
this.wk;g&&g.np()&&(g.sB(),this.zx());this.transform(a);this.$E(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.Za)e.ka();else break;for(this.Ra(a);c<f;c++)d[c].ka()}else this.Ra(a);this.YE(a);g&&g.np()&&g.oB(this);q.qp()}}},g:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.Za;d=d||a.bd;a.Mi(!1);a.R(0,0);this.Ma!=a?this.Ma.g(a,c,d):q.Ic.prototype.g.call(this,a,c,d)},Pb:function(a){this._super(a);a||(this.Zg=this.ti=!1,this.$g.length=0)},N_:function(){return null},
xO:function(a){var c=this.Om(),d=this.vs(),e=this.ri,f=this.Ma.o,g=f.x,h=f.y;if(e===q.Tt||e===q.Gn)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==q.Tt||e==q.Wp)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.pl(q.a(g,h),a)},mz:function(){if(this.ti)this.rd(this.mz);else{var a,c;a=this.Ma.o;var d=this.mr;this.Ma.l(a.x+d.x,a.y+d.y);this.oq?(a=this.gv,c=this.jv):(a=this.vs(),c=this.Om());var e=this.Ma.o.A,f=this.Ma.o.I;d.x*=0.95;d.y*=0.95;this.pl(q.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.rd(this.mz),this.xO(!0)}},fA:function(){this.ti&&this.rd(this.fA)},vP:function(){this.rd(this.fA)},$E:function(a){if(this.rq){this.BA=!1;var c=this.Nz(),d=q.la.e(),e=this.oa,f=this.wa;a=a||q.Q;if(q.pd===q.Uf)c=this.Lh.width*e*d.oa,d=this.Lh.height*f*d.wa,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=q.la.e(),d.fT()){if(this.BA=!0,this.gr=d.dS(),q.sU(c,this.gr)){var g=this.gr;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.dD(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.dD(c.x,c.y,c.width,c.height)}},YE:function(a){this.rq&&q.pd===q.kk&&(this.BA?(a=this.gr,q.la.e().dD(a.x,a.y,a.width,a.height)):(a=a||q.Q,a.disable(a.SCISSOR_TEST)))},L_:function(){},Nz:function(){for(var a=this.Sk(q.aj()),c=this.Lh,d=this.oa,e=this.wa,f=this.W;null!=f;f=f.getParent())d*=f.oa,e*=f.wa;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.oG;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});q.th.create=function(a,c){var d=new q.th;if(2==arguments.length){if(d&&d.mp(a,c))return d}else if(d&&d.q())return d;return null};q.hM=q.ya.extend({gx:function(){},Rh:function(){return 0}});q.iM=q.hM.extend({aA:0,ctor:function(){this.aA=0},gx:function(a){this.aA=a},Rh:function(){return this.aA}});function ja(a,c){return a.Rh()-c.Rh()}
q.Jx=q.ya.extend({Vg:null,ctor:function(){this.Vg=[]},iI:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.YS(a,this.lp(a))},QU:function(a){if(0!=this.count()){var c=this.lp(a);c<this.count()&&c!=q.fi&&this.Rm(c).Rh()==a.Rh()&&this.PC(c)}},T$:function(a,c){var d=this.lp(c);if(d<this.count()&&d!=q.fi){var e=this.Rm(d);e.Rh()==c.Rh()&&(this.PC(d),e.gx(a),this.iI(e))}},DI:function(a){if(0==this.count())return null;var c=new q.iM;c.gx(a);var d=
this.lp(c);d<this.count()&&d!=q.fi&&(c=this.Rm(d),c.Rh()!=a&&(c=null));return c},j4:function(){return null},lp:function(a){var c=0;if(a){var d=0;a=a.Rh();for(var e=this.Vg,f=0;f<e.length;f++){var g=e[f].Rh();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=q.fi;return c},count:function(){return this.Vg.length},z7:function(){var a=this.Vg;return 0==a.length?null:a[a.length-1]},Rm:function(a){return this.Vg[a]},OG:function(a){this.Vg.push(a);this.Vg.sort(ja)},PC:function(a){q.Op(this.Vg,a);this.Vg.sort(ja)},
YS:function(a,c){this.Vg=q.zl(this.Vg,a,c);this.Vg.sort(ja)}});q.BE=0;q.kM=1;q.TZ=q.B.extend({tj:0,G3:function(){return this.tj},PV:function(a){this.tj=a},reset:function(){this.tj=q.fi},gx:function(a){this.tj=a},Rh:function(){return this.tj}});q.VZ=q.gM.extend({Fba:function(){},Eba:function(){},Gba:function(){},Hba:function(){}});q.UZ=q.ya.extend({XW:function(a){return this.pQ(a)},pQ:function(){return q.dM},Dba:function(){return null},e8:function(){return 0}});
q.KE=q.th.extend({So:null,hd:null,Yn:null,lz:null,VA:null,nv:null,wu:null,Ej:null,ctor:function(){q.th.prototype.ctor.call(this);this.nv=q.xE;this.wu=[]},DM:function(a){var c=0,d=-1;switch(this.ri){case q.Gn:a=a.x;break;default:a=a.y}for(var e=this.wu;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},JN:function(a){a={x:a.x,y:a.y};this.So===q.BE&&(a.y=this.Ma.d().height-a.y);a=this.DM(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=q.fi));return a},GM:function(a){switch(this.ri){case q.Gn:a=
q.a(this.wu[a],0);break;default:a=q.a(0,this.wu[a])}return a},mO:function(a){var c=this.GM(a);a=this.lz.XW(this,a);this.So===q.BE&&(c.y=this.Ma.d().height-c.y-a.height);return c},f0:function(){},ZA:function(){var a=q.Gl();this.V(a);this.nv!=this.ri&&(this.ri==q.Gn?this.pl(q.a(0,0)):this.pl(q.a(0,this.Om().y)),this.nv=this.ri)},MF:function(a){this.Yn.OG(a);this.qk.QU(a);q.Fd(this.hd,a.tj);a.reset();a.getParent()==this.Ma&&this.Ma.removeChild(a,!0)},yv:function(a,c){c.R(0,0);c.l(this.mO(a));c.PV(a)},
WE:function(a){a.getParent()!=this.Ma&&this.Ma.g(a);this.qk.iI(a);var c=this.hd;a=a.tj;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},d3:function(){return this.lz},DV:function(a){this.lz=a},Zb:function(){return this.VA},mh:function(a){this.VA=a},Taa:function(a){this.So!=a&&(this.So=a,0<this.qk.count()&&this.OC())},M5:function(){return this.So},mp:function(a,c){return q.th.prototype.mp.call(this,a,c)?(this.qk=new q.Jx,this.Yn=new q.Jx,this.hd=[],this.VA=null,this.So=q.kM,this.uJ(q.Wp),
q.th.prototype.mh.call(this,this),!0):!1},$ba:function(a){if(!(a==q.fi||-1<a)){var c=this.vB(a);c&&this.MF(c);c=null;this.yv(a,c);this.WE(c)}},o6:function(a){if(!(a==q.fi||-1<a)){var c,d=this.qk;if(c=d.DI(a))for(var e=c=d.lp(c);e<d.count();e++)c=d.Rm(e),this.yv(c.tj+1,c);c=null;this.yv(a,c);this.WE(c);this.ZA()}},r9:function(a){if(!(a==q.fi||-1<a)){var c=this.vB(a);if(c){var d=this.qk,e=d.lp(c);this.MF(c);q.Fd(this.hd,a);for(a=d.count()-1;a>e;a--)c=d.Rm(a),this.yv(c.tj-1,c)}}},OC:function(){this.nv=
q.xE;for(var a=this.qk,c=this.Yn,d=this.Ma,e=0,f=a.count();e<f;e++){var g=a.Rm(e);c.OG(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.hd=[];this.qk=new q.Jx;this.ZA()},D1:function(){if(0===this.Yn.count())return null;var a=this.Yn.Rm(0);this.Yn.PC(0);return a},vB:function(a){return-1==this.hd.indexOf(a)?null:this.qk.DI(a)},hV:function(){},iV:function(){},pf:function(a,c){if(this.qa){if(this.Ej){var d=this.Ta();d.Yc=this.W.Sk(d.origin);this.Ej=null}q.th.prototype.pf.call(this,a,c)}},fb:function(a,
c){if(!this.qa)return!1;var d=q.th.prototype.fb.call(this,a,c);if(1===this.$g.length){var e;e=this.Ma.Nh(a);e=this.JN(e);this.Ej=e===q.fi?null:this.vB(e)}else this.Ej&&(this.Ej=null);return d},dd:function(a,c){q.th.prototype.dd.call(this,a,c);this.Ej&&this.Zg&&(this.Ej=null)},Vj:function(a,c){q.th.prototype.Vj.call(this,a,c);this.Ej&&(this.Ej=null)}});q.KE.create=function(a,c,d){var e=new q.KE;e.mp(c,d);e.DV(a);e.ZA();return e};q.bc={};q.bc.LG=function(a){for(var c in q.bc.tC)a[c]=q.bc.tC[c]};
q.bc.tC={l:function(a,c){2==arguments.length?(this.o.A=a,this.o.I=c):(this.o.A=a.x,this.o.I=a.y);this.Sa();this.fa.vD(this.o.A,-this.o.I)},nh:function(a){this.o.I=a;this.Sa();this.fa.vD(this.o.A,-this.o.I)},ac:function(a){this.o.A=a;this.Sa();this.fa.vD(this.o.A,-this.o.I)},$j:function(a,c){this.oa=a;this.wa=c||a;this.Sa();this.fa.resize(this.oa,this.wa)},Fp:function(a){this.oa=a;this.Sa();this.fa.resize(this.oa,this.wa)},jn:function(a){this.wa=a;this.Sa();this.fa.resize(this.oa,this.wa)},R:function(a,
c){var d=this.vh;if(2===arguments.length){if(a===d.A&&c===d.I)return;d.A=a;d.I=c}else{if(a.x===d.A&&a.y===d.I)return;d.A=a.x;d.I=a.y}var e=this.wd,f=this.na;e.A=f.Ca*d.A;e.I=f.ma*d.I;this.fa.style[q.Hb.Ap+"TransformOrigin"]=""+e.A+"px "+-e.I+"px";this.zk?(this.fa.style.marginLeft=0,this.fa.style.marginBottom=0):(this.fa.style.marginLeft=this.f7?0:-e.A+"px",this.fa.style.marginBottom=-e.I+"px");this.Sa()},V:function(a,c){var d=this.na;if(2===arguments.length){if(a===d.Ca&&c===d.ma)return;d.Ca=a;d.ma=
c}else{if(a.width===d.Ca&&a.height===d.ma)return;d.Ca=a.width;d.ma=a.height}var e=this.wd,f=this.vh;e.A=d.Ca*f.A;e.I=d.ma*f.I;this.fa.width=d.Ca;this.fa.height=d.ma;this.R(this.vh);this.canvas&&(this.canvas.width=d.Ca,this.canvas.height=d.ma);this.Sa();this.uU()},kx:function(a){this.MO!=a&&(this.ig=this.Eh=a,this.fm=Math.PI/180*this.ig,this.lr=Math.PI/180*this.Eh,this.Sa(),this.fa.rotate(a))},ox:function(a){this.Ud=a;this.Sa();this.fa.PJ(this.Ud,this.Vd)},px:function(a){this.Vd=a;this.Sa();this.fa.PJ(this.Ud,
this.Vd)},D:function(a){this.qa=a;this.Sa();this.fa&&(this.fa.style.display=a?"block":"none")},Bv:function(a){this.Za=a;this.Sa();this.fa&&(this.fa.zIndex=a)},Is:function(a){this.W=a;null!==a&&(a.R(a.vh),this.Sa(),q.bc.Nw(this))},Yw:function(){this.lf().cn(this);this.og().cn(this);this.fa&&!this.fa.parentNode&&(this.getParent()?q.bc.Nw(this):this.fa.Cm(q.Lj));this.fa&&(this.fa.style.visibility="visible")},Ow:function(){this.lf().As(this);this.og().As(this);this.fa&&(this.fa.style.visibility="hidden")},
Jf:function(){this.qD();this.Ss();this.$f(this.r,q.B.wf.Jf);this.fa&&this.fa.remove()},MU:function(){this.fa.remove()},ba:function(a){this.zi=a;this.fa.style.opacity=a/255},uU:function(){if(this.Gw){var a=this.r;this.r=[];q.u.prototype.ka.call(this,this.Zo);this.r=a}else q.u.prototype.ka.call(this,this.Zo)}};
q.bc.IO=function(){var a=q.Hb("#EGLViewDiv");if(a){var c=q.la.e(),d=c.dp(),e=c.Ke,f=c.sw(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.Xa.width;0===e.Xa.width&&0===e.Xa.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.oa,c.wa);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
q.bc.Nw=function(a){var c=a.getParent();if(c&&a.fa)if(c.fa||(q.bc.aU(c),c.Is=q.bc.tC.Is),a.fa.Cm(c.fa),c.R(c.vh),c.getParent())q.bc.Nw(c);else if(c.De)if(a=q.Hb("#EGLViewDiv"))c.fa.Cm(a);else{a=q.dk("div");a.id="EGLViewDiv";var d=q.la.e(),e=d.dp(),f=d.Ke,g=d.sw(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.Xa.width;0===f.Xa.width&&0===f.Xa.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.oa,d.wa);
a.style.left=(e-h)/2+"px";a.style.bottom="0px";c.fa.Cm(a);a.Cm(q.Lj)}};q.bc.setTransform=function(a){if(a.Zo)if(a.Zo.translate(a.wd.x,a.wd.y),a.Gw){var c=a.r;a.r=[];q.u.prototype.ka.call(a,a.Zo);a.r=c}else q.u.prototype.ka.call(a,a.Zo);a.fa&&(a.fa.position.x=a.o.x,a.fa.position.y=-a.o.y,a.fa.rotation=a.aS(),a.fa.scale={x:a.oa,y:a.wa},a.fa.tl={x:a.Ud,y:a.Vd},a.R&&a.R(a.vh),a.fa.sn())};
q.bc.xR=function(a){a.fa=q.dk("div");a.canvas=q.dk("canvas");var c=a.d();a.canvas.width=c.width;a.canvas.height=c.height;a.fa.style.position="absolute";a.fa.style.bottom=0;a.Zo=a.canvas.getContext("2d");a.fa.appendChild(a.canvas);a.getParent()&&q.bc.Nw(a);a.Gw=!0};
q.bc.aU=function(a){a.fa=q.dk("div");a.placeholder=!0;a.fa.style.position="absolute";a.fa.style.bottom=0;a.fa.style.width=(a.d().width||q.T.e().Kb.width)+"px";a.fa.style.maxHeight=(a.d().height||q.T.e().Kb.height)+"px";a.fa.style.margin=0;q.bc.setTransform(a);a.fa.sn();q.bc.LG(a)};
q.bc.zB=function(a){if(1<arguments.length)q.bc.zB(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof q.u?c[d].fa||q.bc.xR(c[d]):q.log("DOM converter only supports sprite and menuitems yet"),q.bc.LG(c[d]),c[d].ka=function(){},c[d].transform=function(){},q.bc.setTransform(c[d]),c[d].D(c[d].qa);else q.bc.zB([arguments[0]])};q.uL=0;q.HY=1;q.KY=2;q.JY=3;q.IY=4;q.jL=0;q.lY=1;q.mY=2;q.nY=3;q.pY=4;q.kY=5;q.oY=6;q.hL=0;q.iL=1;q.jY=2;q.iY=3;q.hY=4;q.sY=q.ya.extend({mw:function(){},nw:function(){},ow:function(){},Q1:function(){}});
q.Up=q.Cl.extend({si:null,Qb:null,yN:q.jL,xN:q.iL,$N:q.uL,b0:"",Bi:"",Kv:null,hr:null,HF:50,QM:18,Wa:null,Eq:14,yz:"Arial",zz:!1,gA:"",qv:14,c0:!1,ctor:function(a,c){q.Cl.prototype.ctor.call(this);this.zz=!1;this.Kv=q.sb();this.hr=q.ip();this.V(a);this.si=new q.u;this.si.Ra=function(){};this.g(this.si);var d=this;c?(this.Wa=document.createElement("textarea"),this.Wa.style.resize="none",this.zz=!0):this.Wa=document.createElement("input");this.Wa.type="text";this.Wa.style.fontSize=this.Eq+"px";this.Wa.style.color=
"#000000";this.Wa.style.border=0;this.Wa.style.background="transparent";this.Wa.style.width="100%";this.Wa.style.height="100%";this.Wa.style.j0=0;this.Wa.style.outline="medium";this.Wa.addEventListener("input",function(){d.Qb&&d.Qb.ow&&d.Qb.ow(d,this.value)});this.Wa.addEventListener("keyup",function(a){a.keyCode===q.tL.sR&&!1==d.zz&&(a.stopPropagation(),a.preventDefault(),q.canvas.focus())});this.Wa.addEventListener("focus",function(){this.value==d.Bi&&(this.value="",this.style.fontSize=d.Eq+"px",
this.style.color=q.Rk(d.Kv));d.Qb&&d.Qb.mw&&d.Qb.mw(d)});this.Wa.addEventListener("blur",function(){""==this.value&&(this.value=d.Bi,this.style.fontSize=d.qv+"px",this.style.color=q.Rk(d.hr));d.Qb&&d.Qb.nw&&d.Qb.nw(d)});q.bc.zB(this.si);this.si.fa.appendChild(this.Wa);this.si.fa.aba=!1;this.si.fa.style.width=a.width-6+"px";this.si.fa.style.height=a.height-6+"px";this.si.canvas.remove()},r$:function(a,c){this.Eq=c;this.yz=a;this.EA()},Uaa:function(){},MV:function(a){this.yz=a;this.EA()},zJ:function(a){this.Eq=
a;this.EA()},EA:function(){this.Wa.value!=this.Bi&&(this.Wa.style.fontFamily=this.yz,this.Wa.style.fontSize=this.Eq+"px")},oh:function(a){null!=a&&(""==a?(this.Wa.value=this.Bi,this.Wa.style.color=q.Rk(this.hr)):(this.Wa.value=a,this.Wa.style.color=q.Rk(this.Kv)))},LV:function(a){this.Kv=a;this.Wa.value!=this.Bi&&(this.Wa.style.color=q.Rk(a))},M$:function(a){!isNaN(a)&&0<a&&(this.HF=a,this.Wa.maxLength=a)},S3:function(){return this.HF},baa:function(a){if(null!=a){var c=this.Bi;this.Bi=a;this.Wa.value==
c&&(this.Wa.value=a,this.Wa.style.color=q.Rk(this.hr),this.zv())}},caa:function(a,c){this.gA=a;this.qv=c;this.zv()},eaa:function(a){this.gA=a;this.zv()},faa:function(a){this.qv=a;this.zv()},zv:function(){this.Wa.value==this.Bi&&(this.Wa.style.fontFamily=this.gA,this.Wa.style.fontSize=this.qv+"px")},daa:function(a){this.hr=a;this.Wa.value==this.Bi&&(this.Wa.style.color=q.Rk(a))},z$:function(a){this.xN=a;this.Wa.type=a==q.hL?"password":"text"},ga:function(){return this.Wa.value},RS:function(a,c){return this.aI(c)?
(this.si.l(3,3),this.BW(!1),this.Zj(a),this.l(0,0),this.XE(this,this.ZW,q.LD),!0):!1},mh:function(a){this.Qb=a},A4:function(){return this.Bi},A$:function(a){this.yN=a},taa:function(a){this.$N=a},t7:function(a){var c=q.Up.fe(this);c.y-=4;c.s6(a.end)?this.QM=a.end.W3()-c.Z3():q.log("needn't to adjust view layout.")},r7:function(){},s7:function(){},q7:function(){},ZW:function(){},yB:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},$U:function(a,c,d){return"#"+this.yB(a)+this.yB(c)+this.yB(d)},
nJ:function(a){this.Wa.style.background=this.$U(a.k,a.i,a.f)},j6:function(a,c){this.wN=a.width;this.fa.style.width=this.wN.toString()+"px";this.vN=a.height;this.fa.style.height=this.vN.toString()+"px";this.fa.style.backgroundColor=q.Rk(c)}});q.Up.fe=function(a){var c=a.d(),c=q.rect(0,0,c.width,c.height);return q.Ig(c,a.xs())};q.Up.create=function(a,c,d,e,f){d=new q.Up(a,d);c instanceof q.tc?d.nJ(c):d.RS(a,c)&&(e&&d.ex(e,q.ND),f&&d.ex(f,q.MD));return d};var u=[],ka=new XMLHttpRequest;ka.open("GET","config.txt",!1);ka.send(null);var na=ka.responseText,oa=na.split("\n")[0],pa=na.split("\n")[1];pa&&(oa+=":"+pa);var qa=io.connect(oa,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});qa.on("connect",function(){w.Tx();w.jM();console.log("Client has connected to the server!");if(x){var a=x.e().cd;a?a.kn(!0):u.push(JSON.stringify({connect:!0}))}else u.push(JSON.stringify({connect:!0}))});qa.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&w.xK(a.mapdata,a.maptime),a.warpdata&&w.Dx(a.warpdata,a.warptime),a.itemdata&&w.Us(a.itemdata,a.itemtime),a.skillsdata&&w.yD(a.skillsdata,a.skillstime),a.signsdata&&w.Cx(a.signsdata,a.signstime),a.npcsdata&&w.yK(a.npcsdata,a.npcstime),a.questdata&&w.wD(a.questdata,a.queststime),a.settingsdata&&(w.xD(a.settingsdata,a.settingstime),y=sa(y,
a.settingsdata)),a.scriptsdata&&w.CK(a.scriptsdata,a.scriptstime),ta=!0;else if(c=x.e().cd)if(a.connect?c.kn(!0):a.disconnect&&c.kn(!1),"Game"==c.Ec())if(a.newPlayer)A.YP(a.newPlayer);else if(a.playerLeft)A.Sh(a.playerLeft).wg==A.v.ea.wg&&(MapMaster=!1),A.gH(a.playerLeft);else if(a.changemap){for(c=0;c<u.length;c++)d=JSON.parse(u[c]),d.moveTo&&d.id==a.id&&(console.log("REMOVIN"),u.splice(c,1),c--);A.Sh(a.id).wg==A.v.ea.wg&&(MapMaster=!1);A.tQ(a.id,a.changemap);A.OI(a.id,a.setTo)}else a.setTo?!A.Sh(a.id)||
A.Sh(a.id)&&!1==A.Sh(a.id).ug?A.OI(a.id,a.setTo):u.push(JSON.stringify(a)):a.moveTo?!A.Sh(a.id)||A.Sh(a.id)&&!1==A.Sh(a.id).ug?A.yT(a.id,a.moveTo):u.push(JSON.stringify(a)):a.chatMessage?B.Fb(a.chatMessage):a.coinflip?B.Fb(a.coinflip):a.diceroll?B.Fb(a.diceroll):a.dance?B.Fb(a.dance):a.afk?A.uQ(a.afk):a.savemap?(w.rQ(a.savemap,a.mapdata,a.updatetime),F.FW(a.mapdata)):a.mapmaster?MapMaster=!0:a.savewarps?(w.AQ(parseInt(a.savewarps),a.warpdata,a.updatetime),ObjectLists.Jm()[parseInt(a.savewarps)]=a.warpdata,
Warpeditor&&(Warpeditor.Dc=ObjectLists.Jm(),Warpeditor.sa())):a.savewarpswhole?(w.BU(a.savewarpswhole,a.updatetime),ObjectLists.AW(a.savewarpswhole)):a.savescripts?(w.wQ(parseInt(a.savescripts),a.scriptsdata,a.updatetime),ObjectLists.ds()[parseInt(a.savescripts)]=a.scriptsdata,Eventsystem&&(Eventsystem.Dc=ObjectLists.ds(),Eventsystem.sa())):a.savescriptswhole?(w.yU(a.savescriptswhole,a.updatetime),ObjectLists.pW(a.savescriptswhole)):a.savesettings?(w.xD(a.savesettings,a.updatetime),y=sa(y,a.savesettings),
Settingseditor&&(Settingseditor.data=ya(y),Settingseditor.$b())):a.savequests?(w.vQ(parseInt(a.savequests),a.questdata,a.updatetime),ObjectLists.PB()[parseInt(a.savequests)]=a.questdata,Questeditor&&(Questeditor.Dc=ObjectLists.PB(),Questeditor.sa())):a.savequestswhole?(w.xU(a.savequestswhole,a.updatetime),ObjectLists.mW(a.savequestswhole)):a.saveskills?(w.yQ(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.hp()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.Dc=ObjectLists.hp(),
Skillseditor.sa()),za.update(),Skills&&Skills.uf()):a.saveskillswhole?(w.AU(a.saveskillswhole,a.updatetime),ObjectLists.rW(a.saveskillswhole),za.update(),Skills&&Skills.uf()):a.savesigns?(w.xQ(parseInt(a.savesigns),a.signsdata,a.updatetime),ObjectLists.es()[parseInt(a.savesigns)]=a.signsdata,Signeditor&&(Signeditor.Dc=ObjectLists.es(),Signeditor.sa())):a.moveNPC?(a.npcID=parseInt(a.npcID),!A.cs(a.npcID)||A.cs(a.npcID)&&!1==A.cs(a.npcID).ug?A.xT(a.npcID,a.moveNPC,a.mapnumber):u.push(JSON.stringify(a))):
a.changeNPCPosition?(a.npcID=parseInt(a.npcID),A.cs(a.npcID)&&!1==A.cs(a.npcID).ug?A.TU(a.npcID,a.changeNPCPosition):u.push(JSON.stringify(a))):a.savesignswhole?(w.zU(a.savesignswhole,a.updatetime),ObjectLists.qW(a.savesignswhole)):a.savenpcs?(w.sQ(parseInt(a.savenpcs),a.npcsdata,a.updatetime),ObjectLists.Wk()[parseInt(a.savenpcs)]=a.npcsdata,F.yw(F.ee(),!0),NPCeditor&&(NPCeditor.Dc=ObjectLists.Wk(),NPCeditor.sa())):a.savenpcswhole?(w.wU(a.savenpcswhole,a.updatetime),ObjectLists.YV(a.savenpcswhole),
F.yw(F.ee(),!0),NPCeditor&&(NPCeditor.Dc=ObjectLists.Wk(),NPCeditor.sa())):a.saveitems?(w.qQ(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.Ji()[parseInt(a.saveitems)].name,ObjectLists.Ji()[parseInt(a.saveitems)]=a.itemdata,F.yw(F.ee()),Itemeditor&&(Itemeditor.Dc=ObjectLists.Ji(),Itemeditor.sa()),Inventory&&Inventory.uf(),A.v.ea.Us(c,a.itemdata)):a.droppeditem?a.mapnumber==F.ee()&&!1==F.e().tg?(c=F.NH(a.index),c.UP(a.droppeditem),F.Vs()):u.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==
F.ee()&&(c=F.NH(a.pickupitem),c.EC(),F.Vs()):a.saveitemswhole&&(w.vU(a.saveitemswhole,a.updatetime),ObjectLists.QV(a.saveitemswhole));else"Login"==c.Ec()&&(a.login_success?c.DT():a.login_fail&&c.yC(a.login_fail));else u.push(JSON.stringify(a))};qa.on("disconnect",function(){console.log("The client has disconnected!");var a=x.e().cd;a?a.kn(!1):u.push(JSON.stringify({disconnect:!0}))});function G(a){qa.send(JSON.stringify(a))};var H=Object.freeze({de:{B1:"C to popup/dismiss, enter for chat. Say /help for help.",t6:"Welcome to the Powder Engine! Enter /help for some help.",JS:"-------HELP------",IS:" - Press C to expand the chat, I for Inventory",HS:" - Space to grab Items and E for Equipment.",GS:" - Enter /commands for command list",FS:"-------------------",GQ:"Commands:  /editskill, /editsign, /editnpc,",FQ:" - /editmap, /editwarp, /edititem,",EQ:" - /dance, /coinflip, /diceroll, /afk",DQ:"--------------------",bU:" has joined the game!",
P8:" has left the game!",Pw:"Picked up ",nR:"Dropped ",kI:"Your inventory is full"}});var Aa={},Ba=q.ud.e();q.Yi.e();Ba.OJ(["res/Graphics"]);ka=new XMLHttpRequest;ka.open("GET","res/Graphics/tile_graphics.txt",!1);ka.send(null);var na=ka.responseText,Ea=na.split(","),I=[],Fa;for(Fa in Ea)I.push({name:Ea[Fa],texture:q.Ia.e().$a(Ea[Fa])});var ta=!1,ka=new XMLHttpRequest;ka.open("GET","res/Graphics/character_graphics.txt",!1);ka.send(null);var na=ka.responseText,Ea=na.split(","),K=[];for(Fa in Ea)K.push({name:Ea[Fa],texture:q.Ia.e().$a(Ea[Fa])});
document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();Aa[a.keyCode]=!0};window.onbeforeunload=function(){G({disconnect:!0})};window.onfocus=function(){for(var a=[],c=u.length-1;0<=c;c--){var d=JSON.parse(u[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,u[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&u.splice(c,1)}};var L=q.w(255,255,255,255),Ga=q.w(0,255,0,255),N=q.w(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){Aa[a.keyCode]=!1;if(null!=x.e().cd){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.e().cd.il(c)}};
var y={GENERAL:"ISSECTION","Project Name":"Powder Engine Testbed","Version Number":"0.705",CHATBAR:"ISSECTION","Welcome Message":"Welcome to the Powder Engine! Enter /help for some help.","Join Message":"\x3cPLAYER\x3e has joined the game!","Leave Message":"\x3cPLAYER\x3e has left the game!","Default ChatBar Message":"C to popup/dismiss, enter for chat. Say /help for help.",ITEMS:"ISSECTION","Item Dropdown Pick Up":"Pick up \x3cITEM\x3e","Item Dropdown Walk To":"Walk to \x3cITEM\x3e","Item Pick Up":"Picked up \x3cITEM\x3e.",
"Item Dropped":"Dropped \x3cITEM\x3e.","Item Out-of-range":"\x3cITEM\x3e is too far away to pick up!","Item Dropdown Examine":"Examine \x3cITEM\x3e","Item Dropdown Equip":"Equip \x3cITEM\x3e","Item Dropdown Read":"Read \x3cITEM\x3e","Item Dropdown Eat":"Eat \x3cITEM\x3e","Item Dropdown Use":"Use \x3cITEM\x3e","Item Dropdown Unequip":"Unequip \x3cITEM\x3e","Item Dropdown Drop":"Drop \x3cITEM\x3e",NPCS:"ISSECTION","NPC Dropdown Examine":"Examine","NPC Dropdown Attack":"Attack","NPC Dropdown Talk":"Talk To",
"NPC Dropdown Follow":"Follow","NPC Dropdown Trade":"Trade","NPC Dropdown Bank":"Open Bank",SIGNS:"ISSECTION","Sign Dropdown list Read":"Read sign \x3cSIGN\x3e","Sign Out-of-range":"\x3cSIGN\x3e is too far away to read!",PANELS:"ISSECTION","Equipment Header":"Equipment","Inventory Header":"Inventory","Skills Header":"Skills List","Quest Header":"Quest Log",COMMANDS:"ISSECTION","/dance":"\x3cPLAYER\x3e danced the dance of his people.","/diceroll":"\x3cPLAYER\x3e threw a dice and got \x3cVALUE\x3e",
"/coinflip":"\x3cPLAYER\x3e flipped a coin and got \x3cVALUE\x3e"};function O(a,c){return(a.rI&&a.qa||!a.rI)&&q.nb(q.rect(a.o.A,a.o.I,a.d().width,a.d().height),c)}function ya(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?ya(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ha(a,c){var d=c?a:a.Fc();return Ia(d,"panels")}function Ma(){Na.sc(function(){})}
function Ia(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.eT?d=Oa.Tx(c.YW):"undefined"!=typeof c.H?(d=c.size?c.size:q.size(100,100),d=q.va.create(c.H,d.width,d.height)):d="undefined"!=typeof c.Gw?q.u.create():"undefined"!=typeof c.Y?q.u.Ob(q.Ia.e().$a(c.Y)):"undefined"!=typeof c.label?q.S.create(c.label,c.font?c.r2:"Arial",c.fontSize?c.fontSize:14):q.B.create();"undefined"!=typeof c.size&&d.V(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.l(q.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.D(c.visible);"undefined"!=typeof c.c&&d.R(c.c);"undefined"!=typeof c.opacity&&d.ba(c.opacity);"undefined"!=typeof c.color&&d.n(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ia(a,e,c.children),d.g(d[e]);return d}q.size(960,640);var R=q.size(1600,1600),Pa=Math.floor(R.height/32),S=Math.floor(R.width/32);function T(a,c){return parseInt(S*(Pa-c))+parseInt(a)}
function sa(a,c){var d={},e;for(e in a)d[e]=a[e]+"";for(e in c)d[e]&&(d[e]=c[e]+"");return d};var w=q.ya.extend({v:null,qb:function(a){return(a=s.localStorage.getItem("last_"+a))?a:null},Xj:function(a,c){return(c=s.localStorage.setItem("last_"+a,c))?c:null}}),U=null;w.Tx=function(){U||(U=new w);return U};w.e=function(){return U};w.fW=function(a,c){var d=s.localStorage.getItem("panelStore");"null"==d||null==d?(console.log("NEW PANEL STORE"),d={}):d=JSON.parse(d);d[a]={x:c.x,y:c.y};s.localStorage.setItem("panelStore",JSON.stringify(d))};w.VR=function(){return s.localStorage.getItem("panelStore")};
w.LR=function(a){if(U.qb("maps")){if(a){var c=JSON.parse(s.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};w.xK=function(a,c){U.Xj("maps",c);s.localStorage.setItem("map_data",JSON.stringify(a))};w.rQ=function(a,c,d){var e=U.qb("maps")?JSON.parse(s.localStorage.getItem("map_data")):[];e[a]=c;w.xK(e,d)};w.Ne=function(){if(U.qb("scripts")){if(""!=s.localStorage.getItem("scripts_data"))var a=JSON.parse(s.localStorage.getItem("scripts_data"));return a?a:[]}return[]};
w.CK=function(a,c){U.Xj("scripts",c);s.localStorage.setItem("scripts_data",JSON.stringify(a))};w.wQ=function(a,c,d){var e=U.qb("scripts")?""!=s.localStorage.getItem("scripts_data")?JSON.parse(s.localStorage.getItem("scripts_data")):[]:[];e[a]=c;w.CK(e,d)};w.yU=function(a,c){scriptarray=a;w.Dx(scriptarray,c)};w.nS=function(){if(U.qb("warps")){if(""!=s.localStorage.getItem("warps_data"))var a=JSON.parse(s.localStorage.getItem("warps_data"));return a?a:[]}return[]};
w.Dx=function(a,c){U.Xj("warps",c);s.localStorage.setItem("warps_data",JSON.stringify(a))};w.AQ=function(a,c,d){var e=U.qb("warps")?""!=s.localStorage.getItem("warps_data")?JSON.parse(s.localStorage.getItem("warps_data")):[]:[];e[a]=c;w.Dx(e,d)};w.BU=function(a,c){warparray=a;w.Dx(warparray,c)};w.JR=function(){if(U.qb("items")){if(""!=s.localStorage.getItem("items_data"))var a=JSON.parse(s.localStorage.getItem("items_data"));return a?a:[]}return[]};
w.Us=function(a,c){U.Xj("items",c);s.localStorage.setItem("items_data",JSON.stringify(a))};w.qQ=function(a,c,d){var e=U.qb("items")?""!=s.localStorage.getItem("items_data")?JSON.parse(s.localStorage.getItem("items_data")):[]:[];e[a]=c;w.Us(e,d)};w.vU=function(a,c){itemsarray=a;w.Us(itemsarray,c)};w.fS=function(){if(U.qb("skills")){if(""!=s.localStorage.getItem("skills_data"))var a=JSON.parse(s.localStorage.getItem("skills_data"));return a?a:[]}return[]};
w.yD=function(a,c){U.Xj("skills",c);s.localStorage.setItem("skills_data",JSON.stringify(a))};w.yQ=function(a,c,d){var e=U.qb("skills")?""!=s.localStorage.getItem("skills_data")?JSON.parse(s.localStorage.getItem("skills_data")):[]:[];e[a]=c;w.yD(e,d)};w.AU=function(a,c){skillarray=a;w.yD(skillarray,c)};w.eS=function(){if(U.qb("signs")){if(""!=s.localStorage.getItem("signs_data"))var a=JSON.parse(s.localStorage.getItem("signs_data"));return a?a:[]}return[]};
w.Cx=function(a,c){U.Xj("signs",c);s.localStorage.setItem("signs_data",JSON.stringify(a))};w.xQ=function(a,c,d){var e=U.qb("signs")?""!=s.localStorage.getItem("signs_data")?JSON.parse(s.localStorage.getItem("signs_data")):[]:[];e[a]=c;w.Cx(e,d)};w.zU=function(a,c){signarray=a;w.Cx(signarray,c)};w.RR=function(){if(U.qb("npcs")){if(""!=s.localStorage.getItem("npcs_data"))var a=JSON.parse(s.localStorage.getItem("npcs_data"));return a?a:[]}return[]};
w.yK=function(a,c){U.Xj("npcs",c);s.localStorage.setItem("npcs_data",JSON.stringify(a))};w.sQ=function(a,c,d){var e=U.qb("npcs")?""!=s.localStorage.getItem("npcs_data")?JSON.parse(s.localStorage.getItem("npcs_data")):[]:[];e[a]=c;w.yK(e,d)};w.wU=function(a,c){npcsarray=a;w.Cx(npcsarray,c)};w.ZR=function(){if(U.qb("quests")){if(""!=s.localStorage.getItem("quests_data"))var a=JSON.parse(s.localStorage.getItem("quests_data"));return a?a:[]}return[]};
w.wD=function(a,c){U.Xj("quests",c);s.localStorage.setItem("quests_data",JSON.stringify(a))};w.vQ=function(a,c,d){var e=U.qb("quests")?""!=s.localStorage.getItem("quests_data")?JSON.parse(s.localStorage.getItem("quests_data")):[]:[];e[a]=c;w.wD(e,d)};w.xU=function(a,c){questsarray=a;w.wD(questsarray,c)};w.RB=function(){if(U.qb("settings")){if(""!=s.localStorage.getItem("settings_data"))var a=JSON.parse(s.localStorage.getItem("settings_data"));return a?a:[]}return[]};
w.xD=function(a,c){U.Xj("settings",c);s.localStorage.setItem("settings_data",JSON.stringify(a))};
w.SX=function(){s.localStorage.setItem("map_data",[]);s.localStorage.setItem("last_maps",0);s.localStorage.setItem("warps_data",[]);s.localStorage.setItem("last_warps",0);s.localStorage.setItem("items_data",[]);s.localStorage.setItem("last_items",0);s.localStorage.setItem("skills_data",[]);s.localStorage.setItem("last_skills",0);s.localStorage.setItem("signs_data",[]);s.localStorage.setItem("last_signs",0);s.localStorage.setItem("npcs_data",[]);s.localStorage.setItem("last_npcs",0);s.localStorage.setItem("quests_data",
[]);s.localStorage.setItem("last_quests",0);s.localStorage.setItem("settings_data",[]);s.localStorage.setItem("last_settings",0);s.localStorage.setItem("scripts_data",[]);s.localStorage.setItem("last_scripts",0);s.localStorage.setItem("panelStore",null)};
w.jM=function(){G({sync:!0,mapupdate:null!=U.qb("maps")?U.qb("maps"):2,warpupdate:null!=U.qb("warps")?U.qb("warps"):2,itemupdate:null!=U.qb("items")?U.qb("items"):2,skillsupdate:null!=U.qb("skills")?U.qb("skills"):2,signsupdate:null!=U.qb("signs")?U.qb("signs"):2,npcsupdate:null!=U.qb("npcs")?U.qb("npcs"):2,questsupdate:null!=U.qb("quests")?U.qb("quests"):2,settingsupdate:null!=U.qb("settings")?U.qb("settings"):2,scriptsupdate:null!=U.qb("scripts")?U.qb("scripts"):2})};
w.TV=function(a){!0!=a&&!1!=a||s.localStorage.setItem("mapedit_saveonexit",a)};w.MR=function(){return null==s.localStorage.getItem("mapedit_saveonexit")?!1:s.localStorage.getItem("mapedit_saveonexit")};ListView=q.th.extend({bl:null,h:null,ew:null,Kw:!1,ai:null,fn:null,lK:null,OC:function(){if(this.h){this.fn&&(this.fn.P(),this.ai.P());var a=this.h.Qj();a.height<this.h.d().height&&(a=this.h.d(),this.Kw=!0);this.bl=[];for(var c=0,d=0;d<this.h.Pj();d++){var e=this.h.Xk(d),c=c+e.height;this.bl[d]=q.B.create();this.bl[d].V(e);this.bl[d].l(q.a(0,a.height-c));this.bl[d].R(q.a(0,1));this.g(this.bl[d]);this.bl[d].g(this.h.Vk(d))}this.Ip(-300);this.jD(0);!1==this.Kw&&(this.fn=q.va.create(q.w(0,0,0,255),1,
this.h.d().height),this.fn.l(q.a(this.h.d().width+20,0)),this.ai=q.va.create(q.w(90,90,255,255),20,this.h.d().height/5),this.ai.l(q.a(this.h.d().width+10,0)),this.h.g(this.fn),this.h.g(this.ai),this.pl(q.a(0,this.vs().y),!1));this.h.l(this.lK)}},q:function(a){this.h=a;this.R(q.a(0,0));this.lK=q.a(a.o.A,a.o.I);this.mp(this.h.d(),this.h);this.uJ(q.Wp);this.tV(!1);a=this.h.Qj();var c=q.B.create();c.V(a);this.xV(c)},ol:function(a){this.ew=a},TC:!1,dx:null,fb:function(a){for(var c=a.J,d=0;d<this.h.Pj();d++)for(var e in this.ew[d]){var f=
this.bl[d].Aa(c),g=this.h.Aa(c);g.x+=this.h.o.A;g=O(this.h,g);if(O(this.ew[d][e],f)&&!0==g)return this.h.ml(this.ew[d][e].Wd,d,a),this.TC=!0}if(!1==this.Kw){a=this.h.Aa(c);if(O(this.ai,a))return this.dx=a.y-this.ai.o.I,!0;console.log("TURNING OFF SCROLOL");this.dx=null}},dd:function(a){if(!0==this.TC)return this.TC=!1;if(!1==this.Kw){var c=a.J;if(null!=this.dx&&(c=this.h.Aa(c),c.y-=this.dx,0<=c.y&&c.y+this.ai.d().height<=this.h.d().height))return a=c.y/(this.fn.d().height-this.ai.d().height),this.pl(q.a(0,
this.Om().y*a),!1),this.ai.nh(c.y),!0;c=this._super(a);a=this.CH().y/this.Om().y;this.ai.nh((this.fn.d().height-this.ai.d().height)*a);return c}}});ListView.create=function(a){var c=new ListView;c.q(a);c.OC();return c};var Oa=q.B.extend({he:null,ie:null,je:null,ne:null,oe:null,Bd:null,item:null,Zd:null,$d:null,be:null,ae:null,position:null,Te:null,type:null,gb:null,ctor:function(){this._super()},q:function(){this._super();this.Te=q.S.create("","Arial",16);this.Te.R(0.5,0.5);this.Te.l(16,-16);this.Te.ba(0);this.Te.n(q.m(0,0,0));this.g(this.Te,900);this.item=[];this.gb=[];this.Ti(0)},UP:function(a){this.Yj(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.Ji().length;c++)if(a.name==ObjectLists.Ji()[c].name){this.nx({id:c,
data:{amount:a.amount}},!0);break}this.Ti(4)},EC:function(){this.gb[this.gb.length-1].temp&&(this.item[this.item.length-1].P(),this.item.splice(this.item.length-1,1),this.dU())},Yj:function(a,c,d){a=q.u.Ob(q.Ia.e().$a(a));a.Gb(q.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.n(q.w(255,255,255,255));a.R(0,1);switch(d){case "ground1":null!=this.he&&this.he.P();this.he=a;this.g(this.he);break;case "ground2":null!=this.ie&&this.ie.P();this.ie=a;this.g(this.ie,1);break;case "groundShadow":null!=
this.je&&this.je.P();this.je=a;this.g(this.je,2);break;case "mask1":null!=this.ne&&this.ne.P();this.ne=a;this.g(this.ne,3);break;case "mask2":null!=this.oe&&this.oe.P();this.oe=a;this.g(this.oe,4);break;case "mask3":null!=this.Bd&&this.Bd.P();this.Bd=a;this.g(this.Bd,5);break;case "item":this.item.push(a);this.g(this.item[this.item.length-1],6);break;case "fringe1":null!=this.Zd&&this.Zd.P();this.Zd=a;this.g(this.Zd,7);break;case "fringe2":null!=this.$d&&this.$d.P();this.$d=a;this.g(this.$d,8);break;
case "fringeShadow":null!=this.be&&this.be.P();this.be=a;this.g(this.be,9);break;case "fringe3":null!=this.ae&&this.ae.P(),this.ae=a,this.g(this.ae,10)}},sg:function(){var a=!0;if(null!=this.he&&this.he.Z()&&!1==this.he.Z().jc)a=!1;else if(null!=this.ie&&this.ie.Z()&&!1==this.ie.Z().jc)a=!1;else if(null!=this.je&&this.je.Z()&&!1==this.je.u5)a=!1;else if(null!=this.ne&&this.ne.Z()&&!1==this.ne.Z().jc)a=!1;else if(null!=this.oe&&this.oe.Z()&&!1==this.oe.Z().jc)a=!1;else if(null!=this.Bd&&this.Bd.Z()&&
!1==this.Bd.Z().jc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].Z()&&!1==this.item[c].Z().jc&&(a=!1);else null!=this.Zd&&this.Zd.Z()&&!1==this.Zd.Z().jc?a=!1:null!=this.$d&&this.$d.Z()&&!1==this.$d.Z().jc?a=!1:null!=this.be&&this.be.Z()&&!1==this.be.Z().jc?a=!1:null!=this.ae&&this.ae.Z()&&!1==this.ae.Z().jc&&(a=!1);return a},Ad:function(){null!=this.he&&this.he.P();this.he=null;null!=this.ie&&this.ie.P();this.ie=null;null!=this.je&&this.je.P();this.je=null;null!=this.ne&&this.ne.P();
this.ne=null;null!=this.oe&&this.oe.P();this.oe=null;null!=this.Bd&&this.Bd.P();this.Bd=null;for(var a=0;a<this.item.length;a++)this.item[a].P();this.item=[];this.Bd=null;null!=this.Zd&&this.Zd.P();this.Zd=null;null!=this.$d&&this.$d.P();this.$d=null;null!=this.be&&this.be.P();this.be=null;null!=this.ae&&this.ae.P();this.ae=null;this.Ti(0);this.gb=[];this.item=[]},DB:function(a){switch(a){case "ground1":null!=this.he&&this.he.P();this.he=null;break;case "ground2":null!=this.ie&&this.ie.P();this.ie=
null;break;case "groundShadow":null!=this.je&&this.je.P();this.je=null;break;case "mask1":null!=this.ne&&this.ne.P();this.ne=null;break;case "mask2":null!=this.oe&&this.oe.P();this.oe=null;break;case "mask3":null!=this.Bd&&this.Bd.P();this.Bd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].P(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.Zd&&this.Zd.P();this.Zd=null;break;case "fringe2":null!=this.$d&&this.$d.P();this.$d=null;break;case "fringeShadow":null!=
this.be&&this.be.P();this.be=null;break;case "fringe3":null!=this.ae&&this.ae.P(),this.ae=null}},Ti:function(a){this.type=a;switch(this.type){case 0:this.Te.ca("");break;case 1:this.Te.ca("BLK");break;case 2:this.Te.ca("SPW");break;case 3:this.Te.ca("WRP");break;case 4:this.Te.ca("ITM");break;case 5:this.Te.ca("NPC");break;case 6:this.Te.ca("SKL");break;case 7:this.Te.ca("SGN")}},nx:function(a,c){c||(c=!1);this.gb.push({num:parseInt(a.id),data:a.data,temp:c})},dU:function(){this.gb.splice(this.gb.length-
1,1);0==this.gb.length&&this.Ti(0)},ww:function(){return this.gb[this.gb.length-1]},gp:function(){switch(this.type){case 3:return ObjectLists.Jm()[this.gb[this.gb.length-1].num];case 4:var a=ObjectLists.Ji()[this.gb[this.gb.length-1].num];a.amount=parseInt(this.gb[this.gb.length-1].data.amount);return a;case 7:return ObjectLists.es()[this.gb[this.gb.length-1].num];case 5:return ObjectLists.Wk()[this.gb[this.gb.length-1].num]}},Ne:function(){switch(this.type){case 3:return ObjectLists.Jm()[this.gb[this.gb.length-
1].num]?ObjectLists.Jm()[this.gb[this.gb.length-1].num]:null;case 4:return ObjectLists.Ji()[this.gb[this.gb.length-1].num]?ObjectLists.Ji()[this.gb[this.gb.length-1].num]:null;case 5:return ObjectLists.Wk()[this.gb[this.gb.length-1].num]?ObjectLists.Wk()[this.gb[this.gb.length-1].num]:null}},sW:function(a){this.Te.ba(!0==a?255:0)},hc:function(){return this.type}});Oa.Tx=function(a,c){var d=new Oa;d.q();d.position=q.a(a,c);return d};StatsController=q.u.extend({data:null,Iw:null,h:null,q:function(a,c){this.data=a;this.h=c;this.fV()},update:function(){for(var a in this.data)this.Iw&&(0==this.data[a].value&&0<this.Iw[a]&&this.h.kba(a),this.data[a].Gc>this.Iw[a].Gc&&this.h.mba(a)),this.Iw[a]=this.data[a]},m5:function(a){return this.data[a].value},l5:function(a){return this.data[a].Gc},Q7:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Nf&&(this.data[a].value=this.data[a].Nf);0>this.data[a].value&&(this.data[a].value=
0)},zQ:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Nf&&(this.data[a].value=this.data[a].Nf);0>this.data[a].value&&(this.data[a].value=0)},P7:function(a,c){this.data[a].Gc+=c;this.data[a].Gc>this.data[a].Mf&&(this.data[a].Gc=this.data[a].Mf);0>this.data[a].Gc&&(this.data[a].Gc=0)},zQ:function(a,c){this.data[a].Gc=c;this.data[a].Gc>this.data[a].Mf&&(this.data[a].Gc=this.data[a].Mf);0>this.data[a].Gc&&(this.data[a].Gc=0)},g1:function(a,c){this.data[a].Mf=c},h1:function(a,c){this.data[a].Nf=
c}});ObjectLists=q.ya.extend({DD:null,pC:null,pD:null,oD:null,uC:null,IC:null,WC:null});var V;ObjectLists.e=function(){V||(V=new ObjectLists,V.DD=w.nS(),V.pC=w.JR(),V.pD=w.fS(),V.oD=w.eS(),V.uC=w.RR(),V.IC=w.ZR(),V.WC=w.Ne());return V};ObjectLists.Jm=function(){return V.DD};ObjectLists.AW=function(a){V.DD=a};ObjectLists.Ji=function(){return V.pC};ObjectLists.QV=function(a){V.pC=a};ObjectLists.hp=function(){return V.pD};ObjectLists.rW=function(a){V.pD=a};ObjectLists.es=function(){return V.oD};
ObjectLists.qW=function(a){V.oD=a};ObjectLists.Wk=function(){return V.uC};ObjectLists.YV=function(a){V.uC=a};ObjectLists.PB=function(){return V.IC};ObjectLists.mW=function(a){V.IC=a};ObjectLists.ds=function(){return V.WC};ObjectLists.pW=function(a){V.WC=a};gameMapInstance=null;
var F=q.Ic.extend({Ed:null,s:null,tg:!1,tn:null,Vm:null,FC:null,Km:null,fl:null,cl:null,dl:null,el:null,L:q.a(0,0),Nj:1,JB:function(a,c){function d(a,c){return{ZL:a,value:c.x+c.y*S,x:c.x,y:c.y,qw:0,i:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.s["tile"+T(a,d)]&&1!=f.s["tile"+T(a,d)].hc()&&7!=f.s["tile"+T(a,d)].hc();myS=e<S&&f.s["tile"+T(a,e)]&&1!=f.s["tile"+T(a,e)].hc()&&7!=f.s["tile"+T(a,e)].hc();myE=g<S&&f.s["tile"+T(g,c)]&&1!=f.s["tile"+T(g,c)].hc()&&7!=f.s["tile"+T(g,c)].hc();myW=
-1<h&&f.s["tile"+T(h,c)]&&1!=f.s["tile"+T(h,c)].hc()&&7!=f.s["tile"+T(h,c)].hc();result=[];k&&result.push({x:a,y:d});myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],p=[],t=[d(null,a)],v=Array(Pa*S);h=t.length;){k=Pa*S;l=-1;for(m=0;m<h;m++)t[m].qw<k&&(k=t[m].qw,l=m);k=t.splice(l,1)[0];if(k.value===g.value){l=p[p.push(k)-1];do r.push(q.a(l.x,l.y));while(l=l.ZL);v=p=t=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=
h.length;m<n;m++)l=d(k,h[m]),v[l.value]||(l.i=k.i+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.qw=l.i+(Math.abs(h[m].x-g.x)+Math.abs(h[m].y-g.y)),t.push(l),v[l.value]=!0);p.push(k)}}return r},EW:function(a){this.Ed={};this.Ed.mapdata={};for(var c in this.s)"tile"==c.substring(0,4)&&(this.s[c].Ad(),this.Ed[c]={});if(a)for(c in this.Ed=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.s[c].Yj(a[c][d].texture,a[c][d].frame,d):(this.s[c].Ti(a[c][d].type),a[c][d].script&&
this.s[c].nx(a[c][d].script),4==a[c][d].type&&this.s[c].Ne()&&this.s[c].Yj(this.s[c].Ne().sprite.texture,this.s[c].Ne().sprite.position,"item"),5==a[c][d].type&&this.s[c].Ne()&&A.NG(this.s[c].Ne(),q.a(this.s[c].o.x/32,this.s[c].o.y/32),this.Nj));else"mapdata"==c&&(this.fl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.cl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.dl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?
a[c].mapConnectors.left:null,this.el=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.nc(this.KC)},sl:function(a){A.e().D(!1);a=w.LR(a);this.Ed={};this.Ed.mapdata={};for(var c in this.s)"tile"==c.substring(0,4)&&(this.s[c].Ad(),this.Ed[c]={});if(a)for(c in this.Ed=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.s[c].Yj(a[c][d].texture,a[c][d].frame,d):(this.s[c].Ti(a[c][d].type),a[c][d].script&&this.s[c].nx(a[c][d].script),
4==a[c][d].type&&this.s[c].Ne()&&this.s[c].Yj(this.s[c].Ne().sprite.texture,this.s[c].Ne().sprite.position,"item"),5==a[c][d].type&&this.s[c].Ne()&&A.NG(this.s[c].Ne(),q.a(this.s[c].o.x/32,this.s[c].o.y/32),this.Nj));else"mapdata"==c&&(this.fl=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.cl=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.dl=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:
null,this.el=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.nc(this.KC)},KC:function(){for(var a in this.s)if("tile"==a.substring(0,4)&&!1==this.s[a].sg())return;A.e().D(!0);A.ak();this.rd(this.KC);this.Vm.D(!0);this.tn.D(!0);this.tg=!0},Fc:function(){for(var a={},c=0;c<S;c++)for(var d=0;d<Pa;d++)a["tile"+(c+d*S)]={size:q.size(32,32),c:q.a(0,0),position:q.a(32*c,32*(Pa-d)),eT:!0,YW:q.a(d,c),visible:!1};return{panels:{children:a}}},q:function(){this.Pb(!0);
this.jD(1)},fb:function(a){!this.Km||Mapeditor&&Mapeditor.W||(this.Km=Mapeditor=null);if(this.Km)for(var c in this.s)"tile"==c.substring(0,4)&&q.nb(this.s[c].Ta(),q.a(a.J.x-this.L.x,a.J.y+32-this.L.y))&&(this.Km.rK(this.s,c),F.Vs());else for(c in this.s)if("tile"==c.substring(0,4)&&q.nb(this.s[c].Ta(),q.a(a.J.x-this.L.x,a.J.y+32-this.L.y)))if(4==this.s[c].hc()){var d=y["Item Dropdown Pick Up"]+"",e=y["Item Dropdown Walk To"]+"",d=d.replace("\x3cITEM\x3e",this.s[c].Ne().name),e=e.replace("\x3cITEM\x3e",
this.s[c].Ne().name);this.W.g(DropDownList.Xd(this,this.hT,[d,e],a.J));this.mg=c}else 7==this.s[c].hc()?(d=y["Sign Dropdown list Read"]+"",d=d.replace("\x3cSIGN\x3e",this.s[c].gp().name),this.W.g(DropDownList.Xd(this,this.LW,[d],a.J)),this.mg=c):1!=this.s[c].hc()&&7!=this.s[c].hc()&&4!=this.s[c].hc()&&(d=A.v.ea.Lf(),A.v.ea.mD(this.JB(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.s[c].o.x/32,this.s[c].o.y/32))));return!0},mg:null,hT:function(a){if(null!=this.h.mg){var c=A.v.ea.Lf(),d=q.a(gameMapInstance.s[gameMapInstance.mg].o.x/
32,gameMapInstance.s[gameMapInstance.mg].o.y/32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x;c=c.y>d.y?c.y-d.y:d.y-c.y;5>Math.sqrt(a*a+c*c)?A.v.ea.jI(gameMapInstance.s[gameMapInstance.mg]):(c=y["Item Out-of-range"]+"",c=c.replace("\x3cITEM\x3e",this.h.s[gameMapInstance.mg].Ne().name),B.Fb(c));break;case 1:A.v.ea.mD(gameMapInstance.JB(q.a(Math.floor(c.x),Math.ceil(c.y)),d)),this.h.mg=null}}},LW:function(a){if(null!=this.h.mg){var c=A.v.ea.Lf(),d=q.a(gameMapInstance.s[gameMapInstance.mg].o.x/32,gameMapInstance.s[gameMapInstance.mg].o.y/
32);switch(a){case 0:a=c.x>d.x?c.x-d.x:d.x-c.x,c=c.y>d.y?c.y-d.y:d.y-c.y,5>Math.sqrt(a*a+c*c)?A.v.ea.jI(gameMapInstance.s[gameMapInstance.mg]):(c=y["Sign Out-of-range"]+"",c=c.replace("\x3cSIGN\x3e",this.h.s[gameMapInstance.mg].gp().name),B.Fb(c))}}},dd:function(a){if(this.Km){for(var c in this.s)"tile"==c.substring(0,4)&&q.nb(this.s[c].Ta(),q.a(a.J.x-this.L.x,a.J.y+32-this.L.y))&&(this.Km.rK(this.s,c,"moved"),F.Vs());return!0}for(c in this.s)if("tile"==c.substring(0,4)&&1!=this.s[c].hc()&&7!=this.s[c].hc()&&
4!=this.s[c].hc()&&q.nb(this.s[c].Ta(),q.a(a.J.x-this.L.x,a.J.y+32-this.L.y))){var d=A.v.ea.Lf();A.v.ea.mD(this.JB(q.a(Math.floor(d.x),Math.ceil(d.y)),q.a(this.s[c].o.x/32,this.s[c].o.y/32)))}},ka:function(){this._super();if(!0==this.tg){this.tn.tB(0,0,0,0);for(var a in this.s)"tile"==a.substring(0,4)&&(this.s[a].D(!0),null!=this.s[a].Zd&&this.s[a].Zd.D(!1),null!=this.s[a].$d&&this.s[a].$d.D(!1),null!=this.s[a].be&&this.s[a].be.D(!1),null!=this.s[a].ae&&this.s[a].ae.D(!1),this.s[a].ka(),null!=this.s[a].Zd&&
this.s[a].Zd.D(!0),null!=this.s[a].$d&&this.s[a].$d.D(!0),null!=this.s[a].be&&this.s[a].be.D(!0),null!=this.s[a].ae&&this.s[a].ae.D(!0),this.s[a].D(!1));this.tn.end();this.Vm.tB(0,0,0,0);for(a in this.s)if("tile"==a.substring(0,4)){this.s[a].D(!0);null!=this.s[a].he&&this.s[a].he.D(!1);null!=this.s[a].ie&&this.s[a].ie.D(!1);null!=this.s[a].je&&this.s[a].je.D(!1);null!=this.s[a].ne&&this.s[a].ne.D(!1);null!=this.s[a].oe&&this.s[a].oe.D(!1);null!=this.s[a].Bd&&this.s[a].Bd.D(!1);for(var c=0;c<this.s[a].item.length;c++)this.s[a].item[c].D(!1);
this.s[a].ka();null!=this.s[a].he&&this.s[a].he.D(!0);null!=this.s[a].ie&&this.s[a].ie.D(!0);null!=this.s[a].je&&this.s[a].je.D(!0);null!=this.s[a].ne&&this.s[a].ne.D(!0);null!=this.s[a].oe&&this.s[a].oe.D(!0);null!=this.s[a].Bd&&this.s[a].Bd.D(!0);for(c=0;c<this.s[a].item.length;c++)this.s[a].item[c].D(!0);this.s[a].D(!1)}this.Vm.end();this.tg=!1}}});
F.Ax=function(a,c){0<=gameMapInstance.L.x+(R.width-W.width/2)+a&&A.v.ea.o.x<R.width-W.width/2&&0>=gameMapInstance.L.x+a&&A.v.ea.o.x>W.width/2&&(gameMapInstance.L.x+=a);0<=gameMapInstance.L.y+(R.height-W.height/2)+c&&A.v.ea.o.y<R.height-W.height/2&&0>=gameMapInstance.L.y+c&&A.v.ea.o.y>W.height/2&&(gameMapInstance.L.y+=c);gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y)};
F.XB=function(a,c){a=parseInt(a);c=parseInt(c);!0==gameMapInstance.tg?0==offsetFromPositionScheduledX&&0==offsetFromPositionScheduledY&&(offsetFromPositionScheduledX=a,offsetFromPositionScheduledY=c,gameMapInstance.nc(F.jJ)):(gameMapInstance.L.x=a>R.width-W.width/2?-(R.width-W.width):a<W.width/2?0:-(a-W.width/2),gameMapInstance.L.y=c>R.height-W.height/2?-(R.height-W.height):c<W.height/2?0:-(c-W.height/2),offsetFromPositionScheduledY=offsetFromPositionScheduledX=0,gameMapInstance.rd(F.jJ),gameMapInstance.l(gameMapInstance.L.x,
gameMapInstance.L.y))};offsetFromPositionScheduledY=offsetFromPositionScheduledX=0;F.jJ=function(){F.XB(offsetFromPositionScheduledX,offsetFromPositionScheduledY)};F.ZB=function(){!0==gameMapInstance.tg?gameMapInstance.nc(F.ZB):(gameMapInstance.rd(F.ZB),gameMapInstance.L.x=-(R.width-W.width),gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y))};
F.YB=function(){!0==gameMapInstance.tg?gameMapInstance.nc(F.YB):(gameMapInstance.rd(F.YB),gameMapInstance.L.x=0,gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y))};F.WB=function(){!0==gameMapInstance.tg?gameMapInstance.nc(F.WB):(gameMapInstance.rd(F.WB),gameMapInstance.L.y=-(R.height-W.height),gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y))};
F.$B=function(){!0==gameMapInstance.tg?gameMapInstance.nc(F.$B):(gameMapInstance.rd(F.$B),gameMapInstance.L.y=0,gameMapInstance.l(gameMapInstance.L.x,gameMapInstance.L.y))};
F.create=function(){gameMapInstance||(gameMapInstance=new F,gameMapInstance.s=Ha(gameMapInstance),gameMapInstance.g(gameMapInstance.s),gameMapInstance.tn=q.ub.create(R.width,R.height),gameMapInstance.tn.l(q.a(Math.floor(R.width/2),Math.floor(R.height/2))),gameMapInstance.g(gameMapInstance.tn),gameMapInstance.tn.D(!1),gameMapInstance.FC=q.B.create(),gameMapInstance.g(gameMapInstance.FC),gameMapInstance.Vm=q.ub.create(R.width,R.height),gameMapInstance.Vm.l(q.a(Math.floor(R.width/2),Math.floor(R.height/
2))),gameMapInstance.g(gameMapInstance.Vm),gameMapInstance.Vm.D(!1),gameMapInstance.Ip(-15),gameMapInstance.q());return gameMapInstance};F.e=function(){return gameMapInstance};F.Fs=function(){gameMapInstance.P();gameMapInstance=null};F.Vs=function(){gameMapInstance||(gameMapInstance=F.create());gameMapInstance.tg=!0};F.FW=function(a){gameMapInstance.EW(a)};F.e=function(){return gameMapInstance};F.Yj=function(a,c,d,e){gameMapInstance.s[a].Yj(c,d,e);gameMapInstance.Ed[a][e]={texture:c,frame:d}};
F.DK=function(){G({savemap:gameMapInstance.Nj,mapdata:gameMapInstance.Ed})};F.DB=function(a,c){gameMapInstance.Ed[a][c]=null;gameMapInstance.s[a].DB(c)};F.Si=function(a,c,d,e){gameMapInstance.s[a].Ti(c);null!=d&&"undefined"!==d?(gameMapInstance.s[a].nx(d,e),gameMapInstance.Ed[a].info={type:c,script:{id:d+"",data:null!=e&&"undefined"!==e?e:null}}):gameMapInstance.Ed[a].info={type:c}};
F.EJ=function(a){gameMapInstance.Ed.mapdata.mapConnectors=a;gameMapInstance.fl=a.up;gameMapInstance.cl=a.down;gameMapInstance.dl=a.left;gameMapInstance.el=a.right};F.vR=function(a,c,d){for(var e in gameMapInstance.s)"tile"==e.substring(0,4)&&(gameMapInstance.s[e].Yj(a,c,d),gameMapInstance.Ed[e][d]={texture:a,frame:c})};F.QJ=function(a){for(var c in gameMapInstance.s)"tile"==c.substring(0,4)&&gameMapInstance.s[c].sW(a);SkillBarsInstance.D(!a);X.D(!a);gameMapInstance.tg=!0};
F.Caa=function(){for(var a in gameMapInstance.s)"tile"==a.substring(0,4)&&gameMapInstance.s[a].Te.ca(a.substring(4));gameMapInstance.tg=!0};F.VH=function(){return null!=gameMapInstance.fl};F.TH=function(){return null!=gameMapInstance.cl};F.UH=function(){return null!=gameMapInstance.dl};F.bC=function(){return null!=gameMapInstance.el};F.ee=function(){return gameMapInstance.Nj};F.HH=function(){return gameMapInstance.fl};F.FH=function(){return gameMapInstance.cl};F.GH=function(){return gameMapInstance.dl};
F.OB=function(){return gameMapInstance.el};F.yw=function(a,c){c||(MapMaster=!1);A.e().D(!1);A.bR();F.Ad();gameMapInstance.Nj=a;A.v.ea.Dp(a);A.ak();gameMapInstance.sl(a)};F.sS=function(){A.e().D(!1);F.Ad();gameMapInstance.Nj=gameMapInstance.fl;A.v.ea.Dp(gameMapInstance.fl);A.ak();gameMapInstance.sl(gameMapInstance.fl)};F.pS=function(){A.e().D(!1);F.Ad();gameMapInstance.Nj=gameMapInstance.cl;A.v.ea.Dp(gameMapInstance.cl);A.ak();gameMapInstance.sl(gameMapInstance.cl)};
F.qS=function(){A.e().D(!1);F.Ad();gameMapInstance.Nj=gameMapInstance.dl;A.v.ea.Dp(gameMapInstance.dl);A.ak();gameMapInstance.sl(gameMapInstance.dl)};F.rS=function(){A.e().D(!1);F.Ad();gameMapInstance.Nj=gameMapInstance.el;A.v.ea.Dp(gameMapInstance.el);A.ak();gameMapInstance.sl(gameMapInstance.el)};F.Gs=function(a){gameMapInstance.Km=a};F.xw=function(a,c){return a>S-1||0>a?void 0:gameMapInstance.s["tile"+(a+(Pa-c)*S)]};F.NH=function(a){return gameMapInstance.s["tile"+a]};
F.ZP=function(){var a=A.e();gameMapInstance.FC.g(a);F.XB(A.v.ea.o.A,A.v.ea.o.I)};F.Ad=function(){gameMapInstance.Ed={};for(var a in gameMapInstance.s)"tile"==a.substring(0,4)&&(gameMapInstance.s[a].Ad(),gameMapInstance.Ed[a]={});gameMapInstance.Ed.mapdata={};gameMapInstance.tg=!0};var A=q.Ic.extend({v:null,Ub:[],of:[],ea:null});A.e=function(){return this.v};A.Fs=function(){this.v.P();this.v=null};A.create=function(a){this.v||(this.v=new A,this.v.ea=PlayerCharacter.create(a),this.v.ea.l(960,320),this.v.g(this.v.ea));return this.v};A.QL=function(){var a=F.ee(),c=[],d;for(d in this.v.of)this.v.of[d].wg==a&&c.push(this.v.of[d]);return c};A.cs=function(a){return this.v.of[a]};A.xT=function(a,c,d){this.v.of[a]&&"default"!=c&&this.v.ea.wg==d&&this.v.of[a].HK(c)};
A.TU=function(a,c){this.v.of[a]&&"default"!=c&&this.v.of[a].l(q.a(c%S*32,32*Math.floor(c/S)))};A.bR=function(){for(var a in this.v.of)this.v.of[a].P();this.v.of=[]};A.NG=function(a,c,d){var e=parseInt(this.v.of.length);this.v.of.push(NonPlayerCharacter.create({name:a.name,pn:{health:{Gc:1,value:100,Nf:200,Mf:900},mana:{Gc:1,value:100,Nf:200,Mf:99}},map:d,Qs:"sprites1.png",Os:2,$k:e}));this.v.of[e].l(32*c.x,32*c.y);this.v.g(this.v.of[e])};A.T5=function(){return this.v.ea};A.Sh=function(a){return this.v.Ub[a]};
A.YP=function(a){this.v.Ub[a]=PlayerCharacter.create({name:a,pn:{health:{Gc:1,value:100,Nf:200,Mf:900},mana:{Gc:1,value:100,Nf:200,Mf:99}},map:1,Qs:"sprites1.png",Os:1});this.v.Ub[a].l(960,320);A.ak();this.v.g(this.v.Ub[a]);var c=y["Join Message"]+"",c=c.replace("\x3cPLAYER\x3e",a);B.Fb(c)};
A.gH=function(a){if(this.v.Ub[a]){this.v.Ub[a].P();this.v.Ub[a]=null;var c=y["Leave Message"]+"",c=playerJoinString.replace("\x3cPLAYER\x3e",a);B.Fb(c);for(c=0;c<u.length;c++){var d=JSON.parse(u[c]);d.id&&d.id==a&&(u.splice(c,1),c--)}}};
A.yT=function(a,c){if(this.v.Ub[a]&&"default"!=c)this.v.Ub[a].HK(c);else{this.v.Ub[a]=PlayerCharacter.create({name:a,pn:{health:{Gc:1,value:100,Nf:200,Mf:900},mana:{Gc:1,value:100,Nf:200,Mf:99}},map:1,Qs:"sprites1.png",Os:1});this.v.Ub[a].l(960,320);this.v.Ub[a].l(q.a(c%S*32,32*Math.floor(c/S)));A.ak();this.v.g(this.v.Ub[a]);var d=y["Join Message"]+"",d=d.replace("\x3cPLAYER\x3e",a);B.Fb(d)}};
A.OI=function(a,c){this.v.Ub[a]&&"default"!=c?this.v.Ub[a].l(q.a(c%S*32,32*Math.floor(c/S))):(this.v.Ub[a]=PlayerCharacter.create({name:a,pn:{health:{Gc:1,value:100,Nf:200,Mf:900},mana:{Gc:1,value:100,Nf:200,Mf:99}},map:1,Qs:"sprites1.png",Os:1}),this.v.Ub[a].l(q.a(c%S*32,32*Math.floor(c/S))),A.ak(),this.v.g(this.v.Ub[a]),B.Fb(a+H.de.bU))};A.uQ=function(a){this.v.Ub[a]&&this.v.Ub[a].updateStatus("AFK")};
A.ak=function(){var a=this.v.ea.wg,c;for(c in this.v.Ub)null!=this.v.Ub[c]&&this.v.Ub[c].D(this.v.Ub[c].wg==a)};A.Ad=function(){for(var a in this.v.Ub)null!=this.v.Ub[a]&&A.gH(a);this.v.ea.P();this.v.ea=null};A.tQ=function(a,c){this.v.Ub[a].Dp(c);this.v.Ub[a].D(this.v.ea.wg==c)};Character=q.u.extend({name:null,pn:null,pK:null,F0:null,Ve:null,ug:!1,Qm:null,ux:null,Oi:!1,$k:-1,status:null,wg:null,path:null,IB:"DOWN",q:function(a){this.uW(a.Qs,a.Os);this.pn=new StatsController(a.lba,this);this.g(this.pn);this.name=a.name;a.Oi&&(this.Oi=a.Oi);a.map&&(this.wg=a.map);null!=a.$k&&"undefined"!==a.$k&&(console.log(this.$k),this.$k=a.$k);this.R(0,1);this.Qm=q.S.create("","Arial",12);this.Qm.R(0.5,0);this.Qm.n(255,0,0);this.Qm.l(Math.floor(this.d().width/2),this.d().width+3);this.g(this.Qm);
this.zK()},r3:function(){return this.IB},Dp:function(a){this.wg=a},P3:function(){return this.wg},updateStatus:function(a){this.status=a&&a!=this.status?a:null;this.zK()},zK:function(){null!=this.status?this.Qm.ca(this.name+"-"+this.status):this.Qm.ca(this.name)},getName:function(){return this.name},tf:function(a,c,d){this.Gb(q.rect(32*a,128*this.pK.id+32*c,32,32));this.ux=q.a(a,c);this.IB=d},gh:function(){return this.ux},uW:function(a,c){this.pK={name:a,id:c};this.ia(q.Ia.e().$a(a));this.tf(1,0)},
Lf:function(){return q.a(this.o.x/32,this.o.y/32)},$v:0.24,iX:0.24,Tk:2,kX:function(a){var c=a.position%S,d=Math.floor(a.position/S);this.l(32*c,32*d);G({changemap:a.mapTo,setTo:a.position});F.yw(a.mapTo);F.XB(32*c,32*d)},aT:function(){if(!this.ug){var a=this.Lf(),a=F.xw(a.x,a.y);switch(a.hc()){case 4:this.EC(a.gp())}}},jI:function(a){if(a&&!this.ug)switch(a.hc()){case 4:this.$T(a.gp(),a);break;case 7:Na.fK(a.gp())}},$S:function(){if(!this.ug){var a=this.Lf();switch(this.IB){case "RIGHT":a.x+=1;break;
case "LEFT":a.x-=1;break;case "UP":a.y+=1;break;case "DOWN":a.y-=1}if(a=F.xw(a.x,a.y))switch(a.hc()){case 7:Na.fK(a.gp())}}},Ys:function(a){this.$v+=a;a=this.o;var c=this.gh();this.$v>this.iX&&(this.$v=0,this.Ve.x<a.x?this.tf((c.x+1)%3,1,"LEFT"):this.Ve.x>a.x?this.tf((c.x+1)%3,2,"RIGHT"):this.Ve.y<a.y?this.tf((c.x+1)%3,0,"DOWN"):this.Ve.y>a.y&&this.tf((c.x+1)%3,3,"UP"));this.Ve.x<a.x?(this.ac(a.x-this.Tk),this.Oi&&F.Ax(+this.Tk,0)):this.Ve.x>a.x?(this.ac(a.x+this.Tk),this.Oi&&F.Ax(-this.Tk,0)):this.Ve.y<
a.y?(this.nh(a.y-this.Tk),this.Oi&&F.Ax(0,this.Tk)):this.Ve.y>a.y&&(this.nh(a.y+this.Tk),this.Oi&&F.Ax(0,-this.Tk));a.y==this.Ve.y&&a.x==this.Ve.x&&(this.ug=!1,this.rd(this.Ys),null!=this.path&&this.SG())},Np:function(a,c){if(!1!=this.qa){var d=F.xw(a,c),e=this.ux,f=this.Lf();f.x>a?this.tf(e.x,1,"LEFT"):f.x<a&&this.tf(e.x,2,"RIGHT");f.y>c?this.tf(e.x,0,"DOWN"):f.y<c&&this.tf(e.x,3,"UP");if(!d)this.Oi&&null==Mapeditor&&(f.x<a&&F.bC()?(this.l(0,32*c),G({changemap:parseInt(F.OB()),setTo:0+c*S}),F.rS(),
F.YB()):f.x>a&&F.UH()&&(this.l(32*(S-1),32*c),G({changemap:parseInt(F.GH()),setTo:S-1+c*S}),F.qS(),F.ZB()),f.y<c&&F.VH()?(this.l(32*a,32),G({changemap:parseInt(F.HH()),setTo:a+1*S}),F.sS(),F.$B()):f.y>c&&F.TH()&&(G({changemap:parseInt(F.FH()),setTo:a+Pa*S}),F.pS(),this.l(32*a,32*Pa),F.WB()));else if(!1==this.ug&&d){switch(d.hc()){case 1:case 7:return;case 3:this.kX(d.Ne());return}this.Ve=q.a(32*a,32*c);this.ug=!0;this.nc(this.Ys);this.Ys(0);this.Oi?G({moveTo:this.Ve.x/32+this.Ve.y/32*S}):-1<this.$k&&
G({npcID:this.$k+"",mapnumber:this.wg,moveNPC:this.Ve.x/32+this.Ve.y/32*S})}}},SG:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.Np(this.path[0].x,this.path[0].y))},mD:function(a){if(null==this.path||0!=a.length)this.path=a,this.SG()},HK:function(a){if(!1!=this.qa){var c=a%S;a=Math.floor(a/S);if(!1==this.ug){var d=this.ux,e=this.Lf();4<Math.abs(q.zC(q.a(c,a),e))?this.l(q.a(32*c,32*a)):(e.x>c?this.tf(d.x,1,"LEFT"):e.x<c?this.tf(d.x,2,"RIGHT"):
e.y>a?this.tf(d.x,0,"DOWN"):e.y<a&&this.tf(d.x,3,"UP"),this.Ve=q.a(32*c,32*a),this.ug=!0,this.nc(this.Ys),this.Ys(0))}}}});
PlayerCharacter=Character.extend({items:null,q:function(a){this._super(a);this.items={stored:[],equipped:{}}},Us:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},EC:function(a){var c=this.Lf(),d=F.xw(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.mn(e,this.items.stored[e].amount));B.Fb(H.de.Pw+a.name);d.ww().temp?
G({pickupitem:T(c.x,c.y),mapnumber:F.ee(),temp:!0}):G({pickupitem:T(c.x,c.y),mapnumber:F.ee()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ya(a);Inventory&&Inventory.mn(e,this.items.stored[e].amount);B.Fb(H.de.Pw+a.name);d.ww().temp?G({pickupitem:T(c.x,c.y),mapnumber:F.ee(),temp:!0}):G({pickupitem:T(c.x,c.y),mapnumber:F.ee()});f=!0;break}!1==f&&B.Fb(H.de.kI)},$T:function(a,c){var d=q.a(c.o.A/32,c.o.I/32);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&
this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.mn(e,this.items.stored[e].amount));B.Fb(H.de.Pw+a.name);c.ww().temp?G({pickupitem:T(d.x,d.y),mapnumber:F.ee(),temp:!0}):G({pickupitem:T(d.x,d.y),mapnumber:F.ee()});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=ya(a);Inventory&&Inventory.mn(e,this.items.stored[e].amount);B.Fb(H.de.Pw+a.name);c.ww().temp?G({pickupitem:T(d.x,d.y),mapnumber:F.ee(),temp:!0}):G({pickupitem:T(d.x,
d.y),mapnumber:F.ee()});f=!0;break}!1==f&&B.Fb(H.de.kI)},pH:function(a,c){var d=this.Lf();B.Fb(H.de.nR+this.items[c][a].name);G({droppeditem:this.items[c][a],mapnumber:F.ee(),index:T(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.mn(a,0);this.items[c][a]=null;Inventory&&Inventory.uf();Equipment&&Equipment.uf()},gX:function(a){switch(this.items.stored[a].itemType){case "book":Na.IW(this.items.stored[a]);break;case "wearable":this.tR(a)}},tR:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&
(c=ya(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=ya(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.uf();Equipment&&Equipment.uf()},ZQ:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=ya(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.uf();Equipment&&Equipment.uf();return}B.Fb("No space in inventory to dequip this item.")},Im:function(){return this.items.stored},
as:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.q(a);return c};NonPlayerCharacter=Character.extend({K7:null,Qw:!1,kW:function(a,c){this.Qw=!0;this.sc(function(){this.Np(a.x,a.y);this.Qw=!1},c)},V6:function(){return this.Qw}});NonPlayerCharacter.create=function(a){var c=new NonPlayerCharacter;c.q(a);return c};var Qa=q.Ic.extend({VC:null,b:null,ctor:function(){this._super()},IK:function(){},kn:function(){},Xh:function(){},sa:function(){this.b&&this.b.P();this.b=Ha(this);this.g(this.b)},La:function(){},q:function(){this.jD(1);this.fx(!0);this.Pb(!0);x.hn(this);this._super()},xC:function(){q.log("Override onKeyDown in scene extended class to use keyboard")},il:function(){q.log("Override onKeyUp in scene extended class to use keyboard")},OV:function(a){this.VC=a},Ec:function(){return this.VC}});DropDownList=Qa.extend({list:null,PQ:null,selected:null,b:null,h:null,eH:null,RI:null,Ns:null,ctor:function(){this._super();this.list=[];this.PQ=0},q:function(a,c,d,e){this._super();a&&(this.h=a,this.eH=c,d&&(this.list=d),e&&this.l(e),this.RI=x.AR(),x.hn(this),this.Ip(-1001),this.fx(!0))},fb:function(a){for(var c=this.b.control_menu.Aa(a.J),d=0;d<this.list.length;d++)this.Ns&&!0!=this.Ns[d].enabled||q.nb(q.rect(this.b.control_menu[d+""].o.A,this.b.control_menu[d+""].o.I,this.b.control_menu[d+""].d().width,
this.b.control_menu[d+""].d().height),c)&&this.eH(d,a);this.lU();return!0},lU:function(){x.hn(this.RI);this.P();Ma()},UU:function(){this.nh(this.o.I-24*this.list.length);for(var a=0,c=0;c<this.list.length;c++)this.b.control_menu[c+""].content.d().width>a&&(a=this.b.control_menu[c+""].content.d().width);for(c=0;c<this.list.length;c++)this.b.control_menu[c+""].WG(a+8);this.b.control_menu.WG(a+8)},Fc:function(){for(var a={},c=0;c<this.list.length;c++)a[c+""]={position:q.a(0,24*(this.list.length-1)-24*
c),size:q.size(96,24),c:q.a(0,0),H:q.w(200,200,200,200),children:{content:{label:this.list[c],fontSize:20,color:q.m(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}};return{panels:{children:{control_menu:{position:q.a(0,0),H:q.w(200,200,200,0),size:q.size(96,48),children:a}}}}},Xh:function(a){a=this.b.control_menu.Aa(a.J);for(var c=0;c<this.list.length;c++)this.b.control_menu[c+""].n(q.w(200,200,200,200)),this.Ns&&!0!=this.Ns[c].enabled||q.nb(q.rect(this.b.control_menu[c+""].o.A,this.b.control_menu[c+""].o.I,
this.b.control_menu[c+""].d().width,this.b.control_menu[c+""].d().height),a)&&this.b.control_menu[c+""].n(q.w(255,0,0,255))}});DropDownList.Xd=function(a,c,d,e,f){var g=new DropDownList;g.q(a,c,d,e);g.b=Ha(g.Fc(),!0);if(f){for(a=0;a<g.list.length;a++)!1==f[a].enabled&&g.b.control_menu[a+""].content.n(q.w(127,127,127,200));g.Ns=f}g.g(g.b);g.UU();return g};Popup=Qa.extend({od:null,mf:!1,q:function(){this.VC=this.Ec();this._super();x.hn(this);this.GW();this.Ip(-50)},X1:function(){this.P()},fb:function(a){var c=a.J;x.hn(this);c=this.b.control_panel.Aa(c);if(q.nb(q.rect(this.b.control_panel.exitBtn.o.A,this.b.control_panel.exitBtn.o.I,this.b.control_panel.exitBtn.d().width,this.b.control_panel.exitBtn.d().height),c)){var d=this;this.W.sc(function(){!1==d.mf&&d.La();d.P();d=null});return!0}return q.nb(q.rect(this.b.o.x,this.b.o.y+this.b.control_panel.o.y,
this.b.control_panel.d().width,this.b.control_panel.d().height),a.J)?(this.od=this.b.Nh(a),!0):!1},dd:function(a){return this.od?(a=a.J,this.b.l(q.a(a.x-this.od.x,a.y-this.od.y)),!0):!1},P:function(){w.fW(this.Ec(),this.b.o);this._super()},GW:function(){q.log("Ovveride setupPopup")},Ec:function(){q.log("No id given... using default 'Popup'");return"Popup"},pf:function(){},sa:function(){this._super();var a=w.VR();if("null"!=a&&null!=a&&(a=JSON.parse(a)[this.Ec()])){a=q.a(a.x,a.y);if(a.x>W.width-10||
a.y>W.height)a=q.a(8,100);this.b.l(a)}}});Book=null;
BookPanel=Popup.extend({data:null,Oe:null,Ec:function(){return"Book"},Fc:function(){return{panels:{position:q.a(100,20),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(514,313),Y:"GUI/book.png",children:{pageBackbtn:{position:q.a(2,1),size:q.size(36,36),Y:"GUI/btnLeft.png",c:q.a(0,0)},pageForwardbtn:{position:q.a(475,1),size:q.size(36,36),Y:"GUI/btnRight.png",c:q.a(0,0)},leftPage:{label:0<this.Oe.length?this.Oe[0]:this.Oe,c:q.a(0,1),position:q.a(4,308),color:q.m(0,0,0)},rightPage:{label:0<this.Oe.length?
this.Oe[1]:"",c:q.a(0,1),position:q.a(260,308),color:q.m(0,0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,313),size:q.size(514,32),children:{header:{label:this.data.name,fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(490,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},q:function(a){this._super();this.data=a;this.Oe=[];for(a=a.additionalData.Contents;a;)if(470>a.length){this.Oe.push(a);break}else this.Oe.push(a.substr(0,470)+"..."),a=a.substr(470);this.WT=Math.floor(this.Oe.length/
2)-1;this.Gi=0},sa:function(){this._super();this.b.main_panel.leftPage.xg(q.size(248,0));this.b.main_panel.rightPage.xg(q.size(248,0));this.b.main_panel.pageBackbtn.D(!1);2>this.Oe.length&&this.b.main_panel.pageForwardbtn.D(!1)},tS:function(){this.Gi++;this.b.main_panel.pageBackbtn.D(!0);this.Gi==this.WT&&this.b.main_panel.pageForwardbtn.D(!1);this.b.main_panel.leftPage.ca(this.Oe[2*this.Gi]);this.Oe[2*this.Gi+1]?this.b.main_panel.rightPage.ca(this.Oe[2*this.Gi+1]):this.b.main_panel.rightPage.ca("")},
uS:function(){this.Gi--;this.b.main_panel.pageForwardbtn.D(!0);0==this.Gi&&this.b.main_panel.pageBackbtn.D(!1);this.b.main_panel.leftPage.ca(this.Oe[2*this.Gi]);this.Oe[2*this.Gi+1]&&this.b.main_panel.rightPage.ca(this.Oe[2*this.Gi+1])},fb:function(a){if(this._super(a))return!0;this.od=null;a=this.b.main_panel.Aa(a.J);if(O(this.b.main_panel.pageForwardbtn,a))return this.tS(),!0;if(O(this.b.main_panel.pageBackbtn,a))return this.uS(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Ec:function(){return"Equipment"},Fc:function(){var a={};a.head={Y:"GUI/defaultitem.png",position:q.a(88,162),size:q.size(32,32),c:q.a(0,1)};a.legs={Y:"GUI/defaultitem.png",position:q.a(88,82),size:q.size(32,32),c:q.a(0,1)};a.feet={Y:"GUI/defaultitem.png",position:q.a(88,40),size:q.size(32,32),c:q.a(0,1)};a.body={Y:"GUI/defaultitem.png",position:q.a(88,122),size:q.size(32,32),c:q.a(0,1)};a.larm={Y:"GUI/defaultitem.png",position:q.a(48,122),size:q.size(32,32),c:q.a(0,1)};
a.rarm={Y:"GUI/defaultitem.png",position:q.a(128,122),size:q.size(32,32),c:q.a(0,1)};a.mod={Y:"GUI/defaultitem.png",position:q.a(8,162),size:q.size(32,32),c:q.a(0,1)};return{panels:{position:q.a(100,300),children:{main_panel:{c:q.a(0,0),size:q.size(168,168),Y:"GUI/equipment.png",children:a},control_panel:{c:q.a(0,0),position:q.a(0,168),size:q.size(168,32),children:{header:{label:y["Equipment Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(144,6),size:q.size(20,20),c:q.a(0,
0),Y:"GUI/close.png"}}},item_name:{position:q.a(0,0),H:q.w(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.m(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},uf:function(){var a=A.v.ea.as();this.b.main_panel.head.ia(q.Ia.e().$a("GUI/defaultitem.png"));this.b.main_panel.body.ia(q.Ia.e().$a("GUI/defaultitem.png"));this.b.main_panel.legs.ia(q.Ia.e().$a("GUI/defaultitem.png"));this.b.main_panel.feet.ia(q.Ia.e().$a("GUI/defaultitem.png"));this.b.main_panel.larm.ia(q.Ia.e().$a("GUI/defaultitem.png"));
this.b.main_panel.rarm.ia(q.Ia.e().$a("GUI/defaultitem.png"));this.b.main_panel.mod.ia(q.Ia.e().$a("GUI/defaultitem.png"));for(var c in a)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[a[c].subType].R(0,1);this.b.main_panel[a[c].subType].ia(e);this.b.main_panel[a[c].subType].Gb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},rC:function(a){switch(a){case 0:A.v.ea.ZQ(this.h.pp);break;case 1:A.v.ea.pH(this.h.pp,"equipped")}},fb:function(a){if(this._super(a))return!0;
this.od=null;var c=this.b.main_panel.Aa(a.J),d=A.v.ea.as(),e;for(e in d)if(d[e]&&O(this.b.main_panel[d[e].subType],q.a(c.x,c.y+32)))return this.pp=e,this.b.item_name.D(!1),c=y["Item Dropdown Unequip"]+"",c=c.replace("\x3cITEM\x3e",A.v.ea.as()[e].name),d=y["Item Dropdown Drop"]+"",d=d.replace("\x3cITEM\x3e",A.v.ea.as()[e].name),this.g(DropDownList.Xd(this,this.rC,[c,d],a.J)),!0},Xh:function(a){a=this.b.main_panel.Aa(a.J);this.b.item_name.D(!1);var c=A.v.ea.as(),d;for(d in c)if(c[d]&&O(this.b.main_panel[c[d].subType],
q.a(a.x,a.y+32)))return this.b.item_name.content.ca(c[d].name),this.b.item_name.D(!0),this.b.item_name.V(this.b.item_name.content.d()),this.b.item_name.content.ac(this.b.item_name.content.d().width/2),this.b.item_name.l(q.a(this.b.main_panel[c[d].subType].o.A-this.b.item_name.content.d().width/2+16,this.b.main_panel[c[d].subType].o.I)),!0},sa:function(){this._super();this.uf()}});Inventory=null;
InventoryPanel=Popup.extend({pp:null,Ec:function(){return"Inventory"},Fc:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:q.size(32,32),position:q.a(40*c+8,40*(7-d)+40),Y:"GUI/defaultitem.png",c:q.a(0,1),children:{stacklabelbg:{position:q.a(1,1),size:q.size(10,6),c:q.a(0,0),H:q.w(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:q.m(0,0,0),c:q.a(0,0),position:q.a(0,0)}}}}};return{panels:{position:q.a(300,200),children:{main_panel:{c:q.a(0,0),Y:"GUI/inventory.png",
size:q.size(208,328),children:a},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(208,32),children:{header:{label:y["Inventory Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(184,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}},item_name:{position:q.a(0,0),H:q.w(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.m(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}}}}}},mn:function(a,c){this.b.main_panel[a+""].stacklabelbg.D(!1);
1<c&&(this.b.main_panel[a+""].stacklabelbg.D(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ca(c),this.b.main_panel[a+""].stacklabelbg.V(this.b.main_panel[a+""].stacklabelbg.stacklabel.d()))},uf:function(){for(var a=A.v.ea.Im(),c=0;40>c;c++)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[c+""].R(0,1);this.b.main_panel[c+""].ia(e);this.b.main_panel[c+""].Gb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32));this.mn(c,a[c].amount)}else this.b.main_panel[c+
""].ia(q.Ia.e().$a("GUI/defaultitem.png")),this.mn(c,0)},sa:function(){this._super();this.uf()},rC:function(a){switch(a){case 0:A.v.ea.gX(this.h.pp);break;case 1:A.v.ea.pH(this.h.pp,"stored")}},fb:function(a){if(this._super(a))return!0;this.od=null;for(var c=this.b.main_panel.Aa(a.J),d=0;40>d;d++)if(A.v.ea.Im()[d]&&O(this.b.main_panel[d+""],q.a(c.x,c.y+32))){c=c=y["Item Dropdown Use"]+"";switch(A.v.ea.Im()[d].itemType){case "wearable":c=y["Item Dropdown Equip"]+"";break;case "consumable":c=y["Item Dropdown Eat"]+
"";break;case "book":c=y["Item Dropdown Read"]+""}var c=c.replace("\x3cITEM\x3e",A.v.ea.Im()[d].name),e=y["Item Dropdown Drop"]+"",e=e.replace("\x3cITEM\x3e",A.v.ea.Im()[d].name);this.pp=d;this.b.item_name.D(!1);this.g(DropDownList.Xd(this,this.rC,[c,e],a.J));return!0}},Xh:function(a){a=this.b.main_panel.Aa(a.J);for(var c=0;40>c;c++)if(A.v.ea.Im()[c]&&O(this.b.main_panel[c+""],q.a(a.x,a.y+32)))return this.b.item_name.content.ca(A.v.ea.Im()[c].name),this.b.item_name.D(!0),this.b.item_name.V(this.b.item_name.content.d()),
this.b.item_name.content.ac(this.b.item_name.content.d().width/2),this.b.item_name.l(q.a(this.b.main_panel[c+""].o.A-this.b.item_name.content.d().width/2+16,this.b.main_panel[c+""].o.I)),!0}});Sign=null;
SignPanel=Popup.extend({data:null,Ec:function(){return"Sign"},Fc:function(){return{panels:{position:q.a(100,300),children:{control_panel:{c:q.a(0,0),size:q.size(128,96),Y:"GUI/signpost.png",children:{content:{label:this.data.label,fontSize:12,color:q.m(255,255,255),c:q.a(0,1),position:q.a(4,94)},exitBtn:{position:q.a(100,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},q:function(a){this._super();this.data=a},sa:function(){this._super();this.b.control_panel.content.xg(q.size(120,0))}});Skills=null;
SkillsPanel=Popup.extend({Ec:function(){return"Skills"},Fc:function(){for(var a={},c=ObjectLists.hp(),d=0;d<c.length;d++)a[d+""]={c:q.a(0,0),position:q.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:q.a(4,2),Gw:!0,c:q.a(0,0)},name:{position:q.a(46,18),size:q.size(120,32),label:c[d].name,fontSize:16,color:q.m(255,255,255),c:q.a(0,0.5)},level:{position:q.a(210,18),size:q.size(86,32),c:q.a(0.5,0.5),label:"Level",fontSize:16,color:q.m(255,255,255)}}};return{panels:{position:q.a(100,300),children:{main_panel:{c:q.a(0,
0),size:q.size(256,40*c.length),Y:"GUI/skills.png",children:a},control_panel:{c:q.a(0,0),position:q.a(0,40*c.length),size:q.size(256,32),children:{header:{label:y["Skills Header"],fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(232,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}},item_name:{position:q.a(0,0),H:q.w(200,200,200,200),size:q.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:q.m(0,0,0),c:q.a(0.5,0.5),position:q.a(32,8)}}},control_menu:{position:q.a(0,
0),H:q.w(200,200,200,200),size:q.size(96,48),visible:!1,children:{dropbtn:{position:q.a(0,0),size:q.size(96,24),c:q.a(0,0),H:q.w(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:q.m(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}},unequipbtn:{position:q.a(0,24),size:q.size(96,24),c:q.a(0,0),H:q.w(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:q.m(0,0,0),c:q.a(0,0.5),position:q.a(4,12)}}}}}}}}},uf:function(){console.log("Updating tile grid");for(var a=ObjectLists.hp(),
c=0;c<a.length;c++)this.b.main_panel[c+""].icon.ia(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in I)if(I[d].name==a[c].sprite.texture)var e=I[d].texture;this.b.main_panel[c+""].icon.ia(e);this.b.main_panel[c+""].icon.Gb(q.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},sa:function(){this._super();this.uf()}});
var za=q.Ic.extend({aw:[],vK:function(){var a=ObjectLists.hp(),c;for(c in this.aw)this.aw[c].P();this.aw=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.OQ(a[c].name,a[c].healthbar,d);this.g(e);this.aw.push(e);d++}this.l(q.a(0,W.height-32*d))},OQ:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=q.va.create(q.w(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,23);
e.rB=q.u.Ob(q.Ia.e().$a("GUI/healthbar.png"));e.l(10,32*d- -5*d-10);e.R(q.a(0,0));e.rB.l(-5,-4);e.rB.R(q.a(0,0));e.g(e.rB);a=q.S.create(a,"Arial",16);a.l(10,11.5);a.R(q.a(0,0.5));e.g(a);return e}});SkillBarsInstance=null;za.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new za,SkillBarsInstance.vK());return SkillBarsInstance};za.update=function(){SkillBarsInstance.vK()};Scripteditor=null;
ScriptEditor=Popup.extend({data:null,U:null,bb:null,Pi:null,Pe:null,Qe:null,z1:null,h:null,Ja:null,gK:null,cH:null,Ri:function(a){G({savescripts:a+"",scriptsdata:this.data})},Hi:function(a,c){G({savescriptswhole:c})},Ec:function(){return"Scripts"},La:function(a){this._super();if(this.h){var c=this.h;!0!=a&&this.h.sc(function(){c.Qc(null)})}},q:function(a){this._super();this.data={data:[],name:null};this.Ja=null;a.data&&(this.data=a.data);this.h=a.h},sa:function(){this._super();this.Ja=new $(this.b.main_panel.nameEntry,
q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.w(255,255,255),q.m(0,0,0));this.Ja.qd(!0);this.$b()},$b:function(){this.U&&this.U.mc();for(var a in this.Pe)this.Pe[a].mc(),this.Pe[a].P();for(a in this.Qe)this.Qe[a].mc(),this.Qe[a].P();var c=[],d=[],e=[],f=[],g=[],h=[],k=q.Ia.e();this.Pe=[];this.Qe=[];for(a=0;a<this.data.data.length;a++){g[a]=[];h[a]=[];d[a]=[];e[a]=[];c[a]=q.B.create();c[a].V(758,100);
var l=q.va.create(q.w(0,0,0,127),750,1);l.l(q.a(4,0));var m=q.va.create(q.w(0,0,0,127),1,92);m.l(q.a(152,4));var n=q.va.create(q.w(0,0,0,127),1,92);n.l(q.a(451,4));var r=this.data.data[a].type;"On Event End"==r&&(r+=" ("+this.data.data[a].data.attachedEvent+":"+this.data.data[this.data.data[a].data.attachedEvent].type+")");r=q.S.create(a+": "+r,"Arial",15);r.n(q.m(0,0,0));r.R(q.a(0,1));r.l(q.a(4,96));r.xg(q.size(100,0));var p=q.va.create(q.w(0,255,0,60),259,100);p.V(q.size(259,100));p.ac(451);p.R(q.a(0,
0));c[a].g(p);var t=q.va.create(q.w(0,255,0,60),259,100);t.V(q.size(259,100));t.ac(152);t.R(q.a(0,0));c[a].g(t);var v=q.u.Ob(k.$a("GUI/trash.png"));v.l(q.a(120,4));v.R(q.a(0,0));v.Wd="Delete";c[a].g(v);var z=q.u.Ob(k.$a("GUI/edit.png"));z.l(q.a(96,4));z.R(q.a(0,0));z.Wd="Edit";c[a].g(z);f.push([v,z]);for(v=0;v<this.data.data[a].responses.length;v++){d[a].push(q.B.create());d[a][v].V(259,32);z=q.S.create(v+1+": "+this.data.data[a].responses[v].type,"Arial",15);z.n(q.m(0,0,0));z.R(q.a(0,0));z.l(q.a(4,
4));z.xg(q.size(180,0));d[a][v].V(259,z.d().height+8);d[a][v].g(z);z=q.u.Ob(k.$a("GUI/trash.png"));z.l(q.a(229,0));z.R(q.a(0,0));z.Wd="Delete";d[a][v].g(z);var D=q.u.Ob(k.$a("GUI/edit.png"));D.l(q.a(205,0));D.R(q.a(0,0));D.Wd="Edit";d[a][v].g(D);g[a].push([z,D])}v=q.va.create(q.w(70,200,70,255),90,26);z=q.S.create("+","Arial",20);z.l(45,13);z.R(q.a(0.5,0.5));v.l(q.a(84.5,0));v.Wd="Add";v.g(z);g[a].push([v]);d[a].push(v);this.Qe[a]=t;this.Qe[a].identifier=a;var C=this;this.Qe[a].Qj=function(){for(var a=
0,c=0;c<d[this.identifier].length;c++)a+=d[this.identifier][c].d().height;return q.size(259,a)};this.Qe[a].Pj=function(){return d[this.identifier].length};this.Qe[a].Xk=function(a){return d[this.identifier][a].d()};this.Qe[a].Vk=function(a){return d[this.identifier][a]};this.Qe[a].ml=function(a,c,d){C.Aa(d.J);switch(a){case "Delete":C.W.g(DropDownList.Xd(C,C.YQ,["Cancel","Delete"],d.J));C.bb=c;C.Pi=this.identifier;break;case "Add":a="Talk;Give Talk Options;Destroy;Give/ Take Item;Set Quest Point;Warp Player;Wait;Open/Close Panel;Modify Player Stats".split(";");
switch(C.data.specifier){case "NPC":a.push("Attack","Run Away","Defend","Modify NPC Stats");case "Item":a.push("Equip Item","Consume Item","Read Item");break;case "Tile":a.push("Block Entry","Add Layer Graphic")}C.W.g(DropDownList.Xd(C,C.aQ,a,d.J));C.Pi=this.identifier;break;case "Use":C.h.Ms(c,C.Dc[c])}};this.Qe[a].rc=ListView.create(this.Qe[a]);this.Qe[a].rc.ol(g[a]);this.Qe[a].g(this.Qe[a].rc);for(v=0;v<this.data.data[a].requirements.length;v++)e[a].push(q.B.create()),e[a][v].V(259,32),t=q.S.create(v+
1+": "+this.data.data[a].requirements[v].type,"Arial",15),t.n(q.m(0,0,0)),t.R(q.a(0,0)),t.l(q.a(4,4)),t.xg(q.size(180,0)),e[a][v].V(259,t.d().height+8),e[a][v].g(t),z=q.u.Ob(k.$a("GUI/trash.png")),z.l(q.a(229,0)),z.R(q.a(0,0)),z.Wd="Delete",e[a][v].g(z),D=q.u.Ob(k.$a("GUI/edit.png")),D.l(q.a(205,0)),D.R(q.a(0,0)),D.Wd="Edit",e[a][v].g(D),h[a].push([z,D]);t=q.va.create(q.w(70,200,70,255),90,26);v=q.S.create("+","Arial",20);v.l(45,13);v.R(q.a(0.5,0.5));t.l(q.a(84.5,0));t.Wd="Add";t.g(v);h[a].push([t]);
e[a].push(t);this.Pe[a]=p;this.Pe[a].identifier=a;C=this;this.Pe[a].Qj=function(){for(var a=0,c=0;c<e[this.identifier].length;c++)a+=e[this.identifier][c].d().height;return q.size(259,a)};this.Pe[a].Pj=function(){return e[this.identifier].length};this.Pe[a].Xk=function(a){return e[this.identifier][a].d()};this.Pe[a].Vk=function(a){return e[this.identifier][a]};this.Pe[a].ml=function(a,c,d){C.Aa(d.J);switch(a){case "Delete":C.W.g(DropDownList.Xd(C,C.XQ,["Cancel","Delete"],d.J));C.bb=c;C.Pi=this.identifier;
break;case "Add":a="Has Player Items;Is Player Statistics;Is Quest Point;Is Player Position;Is Panel Visibility;Is Player Inventory Space;Is NPC Statistics;Is NPC Attacking;Is NPC Actioning".split(";");switch(C.data.specifier){case "Tile":a.push("Is Object Type")}C.W.g(DropDownList.Xd(C,C.$P,a,d.J));C.Pi=this.identifier;break;case "Use":C.h.Ms(c,C.Dc[c])}};this.Pe[a].rc=ListView.create(this.Pe[a]);this.Pe[a].rc.ol(h[a]);this.Pe[a].g(this.Pe[a].rc);c[a].g(r);c[a].g(l);c[a].g(m);c[a].g(n)}a=q.va.create(q.w(70,
200,70,255),90,26);g=q.S.create("+","Arial",20);g.l(45,13);g.R(q.a(0.5,0.5));a.l(q.a(334,0));a.Wd="Add";a.g(g);f.push([a]);c.push(a);this.U=this.b.main_panel.list;C=this;this.U.Qj=function(){for(var a=0,d=0;d<c.length;d++)a+=c[d].d().height;return q.size(758,a)};this.U.Pj=function(){return c.length};this.U.Xk=function(a){return c[a].d()};this.U.Vk=function(a){return c[a]};this.U.ml=function(a,c,d){C.Aa(d.J);switch(a){case "Delete":a="Delete";C.AS(c)&&(a="Delete (Will destroy all child events)");C.W.g(DropDownList.Xd(C,
C.WQ,["Cancel",a],d.J));C.bb=c;break;case "Add":a=["Default Interaction","On Event End","On Examine","On Talk Option Selected"];var e=[{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!1}];0==C.data.data.length&&(e[1].enabled=!1);C.uR()&&(e[3].enabled=!0);switch(C.data.specifier){case "Item":a.push("On Pickup","On Drop","On Dequip","On Trade");e.push({enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0});break;case "Tile":a.push("Will Enter","On Enter","Will Leave","On Leave","On Come Near"),e.push({enabled:!0},
{enabled:!0},{enabled:!0},{enabled:!0},{enabled:!0})}C.W.g(DropDownList.Xd(C,C.WP,a,d.J,e));C.bb=c;break;case "Use":C.h.Ms(c,C.Dc[c])}};this.U.rc=ListView.create(this.U);this.U.rc.ol(f);this.U.g(this.U.rc)},fH:function(a){for(var c=0;c<this.data.data.length;c++)"On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==a&&(this.fH(c),this.data.data.splice(c,1))},AS:function(a){for(var c=0;c<this.data.data.length;c++)if("On Event End"==this.data.data[c].type&&this.data.data[c].data.attachedEvent==
a)return!0;return!1},uR:function(){for(var a=0;a<this.data.data.length;a++)for(var c=0;c<this.data.data[a].responses.length;c++)if("Give Talk Options"==this.data.data[a].responses[c].type)return!0;return!1},WQ:function(a){switch(a){case 1:null!=this.h.bb&&(this.h.fH(this.h.bb),this.h.data.data.splice(this.h.bb,1),this.h.$b(),this.h.bb=null)}},YQ:function(a){switch(a){case 1:null!=this.h.bb&&(this.h.data.data[this.h.Pi].responses.splice(this.h.bb,1),this.h.$b(),this.h.bb=null,this.h.Pi=null)}},XQ:function(a){switch(a){case 1:null!=
this.h.bb&&(this.h.data.data[this.h.Pi].requirements.splice(this.h.bb,1),this.h.$b(),this.h.bb=null,this.h.Pi=null)}},VP:function(a){this.h.data.data.push({type:"On Event End",responses:[],requirements:[],data:{attachedEvent:a}});this.h.$b()},WP:function(a,c){var d="";switch(a){case 0:d="Default Event";break;case 1:for(var d=[],e=0;e<this.h.data.data.length;e++)d.push(e+": "+this.h.data.data[e].type);this.W.g(DropDownList.Xd(this.h,this.h.VP,d,c.J));return;case 2:d="On Examine";break;case 3:d="On Talk Option Selected"}if(""==
d)switch(this.h.data.specifier){case "Item":switch(a){case 4:d="On Pickup";break;case 5:d="On Drop";break;case 6:d="On Dequip";break;case 7:d="On Trade"}break;case "Tile":switch(a){case 4:d="Will Enter";break;case 5:d="On Enter";break;case 6:d="Will Leave";break;case 7:d="On Leave";break;case 8:d="On Come Near"}}this.h.data.data.push({type:d,responses:[],requirements:[],data:{}});this.h.$b()},aQ:function(a){var c="";switch(a){case 0:c="Talk";break;case 1:c="Give Talk Options";break;case 2:c="Destroy";
break;case 3:c="Give /Take Item";break;case 4:c="Set Quest Point";break;case 5:c="Warp Player";break;case 6:c="Wait";break;case 7:c="Open/Close Panel";break;case 8:c="Modify Player Stats"}if(""==c)switch(this.h.data.specifier){case "NPC":switch(a){case 9:c="Attack";break;case 10:c="Run Away";break;case 11:c="Defend";break;case 12:c="Modify NPC Stats"}break;case "Item":switch(a){case 9:c="Equip Item";break;case 10:c="Consume Item";break;case 11:c="Read Item"}break;case "Tile":switch(a){case 9:c="Block Entry";
break;case 10:c="Add Layer Graphic"}}this.h.data.data[this.h.Pi].responses.push({type:c,data:{}});this.h.$b()},$P:function(a){var c="";switch(a){case 0:c="Is Player Items";break;case 1:c="Is Player Statistics";break;case 2:c="Is Quest Point";break;case 3:c="Is Player Position";break;case 4:c="Is Panel Visbility";break;case 5:c="Is Player Inventory Space";break;case 6:c="Is NPC Statistics";break;case 7:c="Is NPC Actioning"}if(""==c)switch(this.h.data.specifier){case "Tile":switch(a){case 8:c="Is Object Type"}}this.h.data.data[this.h.Pi].requirements.push({type:c,
data:{}});this.h.$b()},Fc:function(){return{panels:{position:q.a(0,60),children:{background_image:{Y:"GUI/event_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(800,400),children:{list:{size:q.size(758,360),H:q.w(0,200,200,200),position:q.a(0,0),c:q.a(0,0)},okbtn:{position:q.a(4,364),size:q.size(32,32),Y:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(46,364),size:q.size(32,32),Y:"GUI/cross_icon.png",c:q.a(0,0)},defaultsbtn:{position:q.a(542,364),size:q.size(64,32),H:q.w(0,255,0,
255),c:q.a(0,0),children:{contents:{label:"Defaults",position:q.a(32,16),c:q.a(0.5,0.5),color:q.m(0,0,0)}}},specifier:{position:q.a(620,364),size:q.size(128,32),H:q.w(0,255,0,255),c:q.a(0,0),children:{contents:{label:"Includes: None",position:q.a(64,16),c:q.a(0.5,0.5),color:q.m(0,0,0)}}},namelbl:{label:"Name:",fontSize:20,c:q.a(0,0),position:q.a(110,368),color:q.m(0,0,0)},nameEntry:{position:q.a(180,364),size:q.size(340,32),H:q.w(255,255,255,255)}}},control_panel:{c:q.a(0,0),position:q.a(0,400),size:q.size(800,
32),children:{header:{label:"Script Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(776,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},defaultSelected:function(a,c){0<this.h.data.data.length?(this.h.cH=a,this.W.g(DropDownList.Xd(this.h,this.h.$Q,["Cancel","Clear Script (Required)"],c.J))):this.h.tJ(a)},tJ:function(a){switch(a){case 0:this.ln(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[],data:{}}];break;case 1:this.ln(1,
!0);this.data.data=[{type:"On Enter",responses:[{type:"Warp Player",data:{}}],requirements:[],data:{}}];break;case 2:this.ln(1,!0);this.data.data=[{type:"Default Event",responses:[{type:"Show Sign",data:{}}],requirements:[],data:{}}];break;case 3:this.ln(1,!0);this.data.data=[{type:"Will Enter",responses:[{type:"Block Entry",data:{}}],requirements:[{objectType:"NPC"}],data:{}}];break;case 4:this.ln(1,!0),this.data.data=[{type:"On Enter",responses:[{type:"Allow PVP",data:{}}],requirements:[],data:{}}]}this.$b()},
ln:function(a,c){switch(a){case 0:this.data.specifier="Item";this.b.main_panel.specifier.contents.ca("Includes: Item");break;case 1:this.data.specifier="Tile";this.b.main_panel.specifier.contents.ca("Includes: Tile");break;case 2:this.data.specifier="NPC";this.b.main_panel.specifier.contents.ca("Includes: NPC");break;case 3:this.data.specifier="None",this.b.main_panel.specifier.contents.ca("Includes: None")}this.data.data=[];c||this.$b()},aR:function(a){1==a&&this.h.ln(this.h.gK)},$Q:function(a){1==
a&&this.h.tJ(this.h.cH)},RW:function(a,c){if(0<this.h.data.data.length)return this.h.gK=a,this.W.g(DropDownList.Xd(this.h,this.h.aR,["Cancel","Clear Script (Required)"],c.J)),!1;this.h.ln(a)},fb:function(a){if(this._super(a))return!0;this.od=null;var c=this.b.main_panel.Aa(a.J);if(O(this.b.main_panel.defaultsbtn,c))return this.W.g(DropDownList.Xd(this,this.defaultSelected,"Block Player;Warp Player;Show Sign;Spawn NPC;Spawn Item;Block NPC;PVP Area".split(";"),a.J)),!0;if(O(this.b.main_panel.specifier,
c))return this.W.g(DropDownList.Xd(this,this.RW,["Item","Tile","NPC","None"],a.J)),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Ja.ga()||""==this.Ja.ga())return!0;this.data.name=this.Ja.ga();this.mf=!0;this.h.Qc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.mf=!0;var d=this.h;this.h.sc(function(){d.Qc(null)});return!0}return O(this.b.main_panel,c)?!0:!1}});Itemeditor=null;
ItemEditor=Popup.extend({Lb:I[0].name,O:0,Ms:function(a,c){Eventsystem&&(Eventsystem.La(),this.sc(function(){Eventsystem.P();Eventsystem=null}),this.Cg=a,this.Pb(!0),this.b.main_panel.scriptbtn.text.ca(c.name),this.b.main_panel.scriptbtn.n(q.w(0,255,0,255)))},IJ:function(){this.b.main_panel.scriptbtn.text.ca("None");this.b.main_panel.scriptbtn.n(q.w(255,0,0,255))},Fc:function(){return{panels:{position:q.a(300,10),children:{background:{Y:"GUI/itemeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),position:q.a(0,
0),size:q.size(500,330),children:{namelbl:{label:"Name:",fontSize:20,c:q.a(0,0),position:q.a(4,292),color:q.m(0,0,0)},name_entry:{position:q.a(74,292),size:q.size(266,32),H:q.w(255,255,255,255)},tiles:{c:q.a(0,1),position:q.a(16,272),Y:I[0].name},textureleftbtn:{position:q.a(362,292),size:q.size(16,32),Y:"GUI/texture_change_left.png",c:q.a(0,0)},texturerightbtn:{position:q.a(471,292),size:q.size(16,32),Y:"GUI/texture_change_right.png",c:q.a(0,0)},textureName:{position:q.a(375,292),size:q.size(96,
32),Y:"GUI/texture_change_middle.png",c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.m(0,0,0)}}},leftbtn:{position:q.a(0,16),size:q.size(16,256),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.m(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,256),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.m(255,255,
255)}}},upbtn:{position:q.a(16,272),size:q.size(320,16),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.m(255,255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.m(255,255,255)}}},stacklbl:{label:"Stackable:",fontSize:12,c:q.a(0,0),position:q.a(360,206),color:q.m(0,0,0)},stackbtn:{position:q.a(360,176),size:q.size(128,
26),H:N,c:q.a(0,0),children:{text:{label:"No",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}},scriptlbl:{label:"Script:",fontSize:12,c:q.a(0,0),position:q.a(360,262),color:q.m(0,0,0)},scriptbtn:{position:q.a(360,232),size:q.size(128,26),H:N,c:q.a(0,0),children:{text:{label:"None",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),H:q.w(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,
32),H:q.w(100,255,100,255)},okbtn:{position:q.a(434,16),size:q.size(32,32),Y:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(384,16),size:q.size(32,32),Y:"GUI/cross_icon.png",c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,330),size:q.size(500,32),children:{header:{label:"Item Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(476,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},Ec:function(){return"itemEditor"},Ja:null,h:null,data:null,Cg:null,q:function(a){this._super();
this.data={sprite:{texture:I[0].name,position:{x:0,y:0}},script:null,stackable:!1,name:""};this.Lb=I[0].name;this.O=0;this.Cg=this.h=this.Ja=null;this.L=q.a(0,0);this.h=a.h;a&&a.data&&(this.data=a.data)},Ri:function(a){G({saveitems:a+"",itemdata:this.data})},Hi:function(a,c){G({saveitemswhole:c})},sa:function(){this._super();this.b.main_panel.highlightnode.ba(0);this.b.main_panel.selectednode.ba(127);for(var a in I)I[a].name==this.data.sprite.texture&&(this.O=a,this.Lb=I[a].name);this.b.main_panel.textureName.text.ca(this.Lb);
this.b.main_panel.tiles.ia(I[this.O].texture);null!=this.data.script&&(this.b.main_panel.scriptbtn.n(q.w(0,255,0,255)),this.b.main_panel.scriptbtn.text.ca(ObjectLists.ds()[this.data.script].name),this.Cg=this.data.script);for(a=this.data.sprite.position.x;10<=a;)a--,this.L.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.L.y++;a=q.a(32*(this.data.sprite.position.x-this.L.x),32*(this.data.sprite.position.y-this.L.y));this.b.main_panel.selectednode.l(this.b.main_panel.tiles.o.x+a.x,this.b.main_panel.tiles.o.y-
(a.y+32));this.Ja=new $(this.b.main_panel.name_entry,q.size(this.b.main_panel.name_entry.d().width,this.b.main_panel.name_entry.d().height),q.a(0,this.b.main_panel.name_entry.d().height),this.data.name?this.data.name:"",q.w(255,255,255),q.m(0,0,0));this.Ja.qd(!0);this.b.main_panel.stackbtn.n(N);this.b.main_panel.stackbtn.text.ca("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ca("Yes"));this.hb()},La:function(a){this._super();if(this.h){var c=this.h;
!0!=a&&this.h.sc(function(){c.Qc(null)})}},Xh:function(a){a=a.J;this.b.main_panel.highlightnode.ba(0);a=this.b.main_panel.tiles.Aa(a);if(0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tiles.d().width&&a.y<=this.b.main_panel.tiles.d().height)return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.highlightnode.ba(127),this.b.main_panel.highlightnode.l(a),!0},jV:function(){null==Eventsystem||Eventsystem.W||(Eventsystem=null);Eventsystem&&(Eventsystem.La(),Eventsystem.P(),Eventsystem=null);Eventsystem=
new PopupList;Eventsystem.q({h:this,eh:new EventSystem,list:ObjectLists.ds(),name:"Script List"});Eventsystem.sa();this.W.g(Eventsystem);this.Pb(!1)},hb:function(){this.nc(this.hb);this.b.main_panel.tiles.Z()&&!0==this.b.main_panel.tiles.Z().jc&&(this.rd(this.hb),this.b.main_panel.tiles.Gb(q.rect(Math.floor(32*this.L.x),Math.floor(32*this.L.y),320>I[this.O].texture.d().width?I[this.O].texture.d().width:320,256>I[this.O].texture.d().height?I[this.O].texture.d().height:256)))},fb:function(a){if(this._super(a))return!0;
this.od=null;a=a.J;var c=this.b.main_panel.Aa(q.a(a.x,a.y));if(O(this.b.main_panel.okbtn,c)){if(null==this.Ja.ga()||""==this.Ja.ga())return!0;this.mf=!0;this.data.name=this.Ja.ga();this.data.script=this.Cg;this.h.Qc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.mf=!0;var d=this.h;this.h.sc(function(){d.Qc(null)});return!0}if(O(this.b.main_panel.leftbtn,c))return 264<I[this.O].texture.d().width&&0<this.L.x&&(this.L.x--,this.hb()),!0;if(O(this.b.main_panel.rightbtn,c))return 320<I[this.O].texture.d().width&&
this.L.x<(I[this.O].texture.d().width-320)/32&&(this.L.x++,this.hb()),!0;if(O(this.b.main_panel.upbtn,c))return 320<I[this.O].texture.d().height&&0<this.L.y&&(this.L.y--,this.hb()),!0;if(O(this.b.main_panel.downbtn,c))return 320<I[this.O].texture.d().height&&this.L.y<(I[this.O].texture.d().height-320)/32&&(this.L.y++,this.hb()),!0;if(O(this.b.main_panel.texturerightbtn,c))return this.un(),!0;if(O(this.b.main_panel.textureleftbtn,c))return this.vn(),!0;if(O(this.b.main_panel.stackbtn,c))return this.nK(),
!0;if(O(this.b.main_panel.scriptbtn,c))return this.jV(),!0;c=this.b.main_panel.tiles.Aa(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tiles.d().width&&c.y<=this.b.main_panel.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.selectednode.ba(0);if(this.b.main_panel.selectednode.o.A!=c.x||this.b.main_panel.selectednode.o.I!=c.y)this.b.main_panel.selectednode.ba(127),this.b.main_panel.selectednode.l(c);a=q.a((this.b.main_panel.selectednode.o.A-16)/32+this.L.x,8-(this.b.main_panel.selectednode.o.I-
16)/32+this.L.y-1);this.data.sprite.position=a;return!0}return!1},nK:function(){this.data.stackable=!this.data.stackable;this.b.main_panel.stackbtn.n(N);this.b.main_panel.stackbtn.text.ca("No");!0==this.data.stackable&&(this.b.main_panel.stackbtn.n(Ga),this.b.main_panel.stackbtn.text.ca("Yes"))},un:function(){this.O>=I.length-1&&(this.O=-1);this.O++;this.b.main_panel.tiles.ia(I[this.O].texture);this.Lb=I[this.O].name;this.b.main_panel.textureName.text.ca(this.Lb);this.data.sprite.texture=this.Lb;
this.L=q.a(0,0);this.hb()},vn:function(){0>=this.O&&(this.O=I.length);this.O--;this.b.main_panel.tiles.ia(I[this.O].texture);this.Lb=I[this.O].name;this.b.main_panel.textureName.text.ca(this.Lb);this.L=q.a(0,0);this.hb()}});Settingseditor=null;
SettingsEditor=Popup.extend({data:null,U:null,bb:null,Ec:function(){return"Settings Editor"},La:function(){this._super()},q:function(){this._super();this.data=ya(y)},Ri:function(a){G({savequests:a+"",questdata:this.data})},Hi:function(a,c){G({savequestswhole:c})},sa:function(){this._super();this.$b()},$b:function(){this.U&&this.U.mc();var a=[],c=[],d=q.Ia.e(),e=0,f;for(f in this.data){if("ISSECTION"!=this.data[f]){a[e]=q.B.create();a[e].V(324,32);var g=q.S.create(f,"Arial",18);g.R(q.a(0,0));g.l(q.a(4,
0));g.xg(q.size(246,0));g.n(q.m(100,0,0));a[e].g(g);a[e].V(324,g.d().height+4);g=[];c.push(g);e++}a[e]=q.B.create();a[e].V(324,32);var h=q.va.create(q.w(0,0,0,127),316,1);h.l(q.a(4,0));if("ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]){var k=q.u.Ob(d.$a("GUI/edit.png"));k.l(q.a(300,0));k.R(q.a(0,0))}if("ISSECTION"==this.data[f]){var l=q.S.create(f,"Arial",22);l.n(q.m(255,0,0))}else l=q.S.create(this.data[f],"Arial",15),l.n(q.m(0,0,0));l.R(q.a(0,0));l.l(q.a(4,4));l.xg(q.size(246,0));g=[];"ISSECTION"!=
this.data[f]&&"ISYESNO"!=this.data[f]&&(k.Wd="Edit",g=[],g.push(k));c.push(g);a[e].g(h);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&a[e].g(k);a[e].g(l);"ISSECTION"==this.data[f]?a[e].V(324,l.d().height+12):a[e].V(324,l.d().height+8);"ISSECTION"!=this.data[f]&&"ISYESNO"!=this.data[f]&&k.nh((l.d().height+8)/2-10);e++}this.U=this.b.main_panel.list;var m=this;this.U.Qj=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.U.Pj=function(){return a.length};this.U.Xk=
function(c){return a[c].d()};this.U.Vk=function(c){return a[c]};this.U.ml=function(a,c,d){m.Aa(d.J);if(!0!=m.nn)switch(a){case "Edit":a=0;d="";for(var e in m.data){if(a==c){d=e;break}a++;if("ISSECTION"!=m.data[e]){if(a==c){d=e;break}a++}}m.bb=d;m.HB(d)}};this.U.rc=ListView.create(this.U);this.U.rc.ol(c);this.U.g(this.U.rc)},Fc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{savebtn:{size:q.size(64,
32),H:q.w(0,255,0,255),position:q.a(241,292),c:q.a(0,0),children:{content:{label:"Save",color:q.m(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},list:{size:q.size(324,284),H:q.w(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Settings Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},Me:null,ta:null,HB:function(a){null!=this.ta&&
(this.ta.mc(),this.Me=null,this.ta.P(),this.bb=this.ta=null);this.ta=q.va.create(q.w(255,255,255,200),200,200);this.ta.l(q.a((this.b.main_panel.d().width-200)/2,(this.b.main_panel.d().height-200)/2));this.Me=new $(this.ta,q.size(190,150),q.a(0,this.ta.d().height),this.data[a],q.w(100,100,100),q.m(255,255,255),!0);this.Me.qd(!0);this.Me.wJ(!0);a=q.va.create(q.w(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.S.create("OK","Arial",16);c.n(q.m(0,0,0));c.l(32,16);c.R(q.a(0.5,0.5));a.g(c);c=q.va.create(q.w(200,
0,0,255),64,32);c.l(q.a(120,9));var d=q.S.create("Cancel","Arial",16);d.n(q.m(0,0,0));d.l(32,16);d.R(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.ta);this.ta.g(a);this.ta.vC=a;this.ta.g(c);this.ta.cancel=c},fb:function(a){if(this._super(a))return!0;this.od=null;a=a.J;if(null!=this.ta){a=this.ta.Aa(a);if(O(this.ta.vC,a))return this.data[this.bb]=this.Me.ga(),this.ta.mc(),this.Me=null,this.ta.P(),this.bb=this.ta=null,this.$b(),!0;O(this.ta.cancel,a)&&(this.ta.mc(),this.Me=null,this.ta.P(),this.bb=
this.ta=null);return!0}a=this.b.main_panel.Aa(a);return O(this.b.main_panel.savebtn,a)?(y=ya(this.data),console.log(y),console.log(this.data),G({savesettings:this.data}),w.xD(this.data,Date.now()),!0):O(this.b.main_panel,a)?!0:!1}});Questeditor=null;
QuestEditor=Popup.extend({data:null,U:null,h:null,bb:null,Ec:function(){return"Quest Editor"},La:function(a){this._super();if(this.h){var c=this.h;!0!=a&&this.h.sc(function(){c.Qc(null)})}},q:function(a){this._super();this.data={name:"",objectiveList:["Initial Objective. Click edit to change this first objective. Click the '+' to add another object. You cannot delete every objective (you need at least one)"]};this.h=a.h;a&&a.data&&(this.data=a.data)},Ri:function(a){G({savequests:a+"",questdata:this.data})},
Hi:function(a,c){G({savequestswhole:c})},sa:function(){this._super();this.$b();this.Ja=new $(this.b.main_panel.nameBox,q.size(this.b.main_panel.nameBox.d().width,this.b.main_panel.nameBox.d().height),q.a(0,this.b.main_panel.nameBox.d().height),this.data.name?this.data.name:"",q.w(255,255,255,255),q.m(0,0,0));this.Ja.qd(!0)},$b:function(){this.U&&this.U.mc();var a=[],c=[],d=q.Ia.e();this.dH={};for(var e in this.data.objectiveList)if(a[e]=q.B.create(),a[e].V(324,32),null==this.data.objectiveList[e])this.data.objectiveList.splice(e,
1);else{var f=q.va.create(q.w(0,0,0,127),316,1);f.l(q.a(4,0));var g=q.u.Ob(d.$a("GUI/edit.png"));g.l(q.a(272,0));g.R(q.a(0,0));var h=q.u.Ob(d.$a("GUI/trash.png"));h.l(q.a(300,0));h.R(q.a(0,0));var k=q.S.create(this.data.objectiveList[e],"Arial",15);k.R(q.a(0,0));k.l(q.a(4,4));k.xg(q.size(246,0));k.n(q.m(0,0,0));g.Wd="Edit";var l=[];l.push(g);0!=e&&(h.Wd="Delete",l.push(h));c.push(l);a[e].g(f);a[e].g(g);0!=e&&a[e].g(h);a[e].g(k);a[e].V(324,k.d().height+8);g.nh((k.d().height+8)/2-10);h.nh((k.d().height+
8)/2-10)}d=q.va.create(q.w(70,200,70,255),90,26);e=q.S.create("+","Arial",20);e.l(45,13);e.R(q.a(0.5,0.5));d.l(q.a(120,0));d.Wd="Add";d.g(e);c.push([d]);a.push(d);this.U=this.b.main_panel.list;var m=this;this.U.Qj=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.U.Pj=function(){return a.length};this.U.Xk=function(c){return a[c].d()};this.U.Vk=function(c){return a[c]};this.U.ml=function(a,c,d){m.Aa(d.J);if(!0!=m.nn)switch(a){case "Delete":null!=m.ta&&(m.ta.mc(),
m.Me=null,m.ta.P(),m.ta=null,m.bb=null);m.W.g(DropDownList.Xd(m,m.AB,["Cancel","Delete"],d.J));m.bb=c;break;case "Edit":m.bb=c;m.HB(c);break;case "Add":m.XP()}};this.U.rc=ListView.create(this.U);this.U.rc.ol(c);this.U.g(this.U.rc)},Fc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{nameLabel:{label:"Quest Name",color:q.m(0,0,0),position:q.a(8,312),c:q.a(0,0)},nameBox:{size:q.size(150,
32),H:q.w(255,255,255,255),position:q.a(8,277),c:q.a(0,0)},savebtn:{size:q.size(64,32),H:q.w(0,255,0,255),position:q.a(175,277),c:q.a(0,0),children:{content:{label:"Save",color:q.m(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},exitbtn:{size:q.size(64,32),H:q.w(255,0,0,255),position:q.a(253,277),c:q.a(0,0),children:{content:{label:"Exit",color:q.m(0,0,0),position:q.a(32,16),c:q.a(0.5,0.5)}}},objectivesLabel:{label:"Objectives",color:q.m(0,0,0),position:q.a(8,254),c:q.a(0,0)},list:{size:q.size(324,250),
H:q.w(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Quest Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},AB:function(a){switch(a){case 1:this.h.bb&&(this.h.data.objectiveList.splice(this.h.bb,1),this.h.$b(),this.h.bb=null)}},XP:function(){this.data.objectiveList.push("Blank Objective");this.$b()},Me:null,ta:null,HB:function(a){null!=
this.ta&&(this.ta.mc(),this.Me=null,this.ta.P(),this.bb=this.ta=null);this.ta=q.va.create(q.w(255,255,255,200),200,200);this.ta.l(q.a((this.b.main_panel.d().width-200)/2,(this.b.main_panel.d().height-200)/2));this.Me=new $(this.ta,q.size(190,150),q.a(0,this.ta.d().height),this.data.objectiveList[a],q.w(100,100,100),q.m(255,255,255),!0);this.Me.qd(!0);this.Me.wJ(!0);a=q.va.create(q.w(0,200,255,255),64,32);a.l(q.a(14,9));var c=q.S.create("OK","Arial",16);c.n(q.m(0,0,0));c.l(32,16);c.R(q.a(0.5,0.5));
a.g(c);c=q.va.create(q.w(200,0,0,255),64,32);c.l(q.a(120,9));var d=q.S.create("Cancel","Arial",16);d.n(q.m(0,0,0));d.l(32,16);d.R(q.a(0.5,0.5));c.g(d);this.b.main_panel.g(this.ta);this.ta.g(a);this.ta.vC=a;this.ta.g(c);this.ta.cancel=c},fb:function(a){if(this._super(a))return!0;this.od=null;a=a.J;if(null!=this.ta){a=this.ta.Aa(a);if(O(this.ta.vC,a))return this.data.objectiveList[this.bb]=this.Me.ga(),this.ta.mc(),this.Me=null,this.ta.P(),this.bb=this.ta=null,this.$b(),!0;O(this.ta.cancel,a)&&(this.ta.mc(),
this.Me=null,this.ta.P(),this.bb=this.ta=null);return!0}a=this.b.main_panel.Aa(a);if(O(this.b.main_panel.savebtn,a)){if(null==this.Ja.ga()||""==this.Ja.ga())return!0;this.mf=!0;this.data.name=this.Ja.ga();this.h.Qc(this.data);return!0}if(O(this.b.main_panel.exitbtn,a)){this.mf=!0;var c=this.h;this.h.sc(function(){c.Qc(null)});return!0}return O(this.b.main_panel,a)?!0:!1}});Mapeditor=null;
MapEditor=Popup.extend({map:null,L:q.a(0,0),pc:"tiles",sI:null,iw:"ground1",Lb:I[0].name,O:0,Fc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,380),H:q.w(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(16,336),Y:I[0].name},textureleftbtn:{position:q.a(360,344),size:q.size(16,32),H:L,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.m(0,0,0)}}},texturerightbtn:{position:q.a(472,344),
size:q.size(16,32),H:L,c:q.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.m(0,0,0)}}},textureName:{position:q.a(376,344),size:q.size(96,32),H:q.w(255,255,255,170),c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.m(0,0,0)}}},deletebtn:{position:q.a(360,308),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Erase",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},leftbtn:{position:q.a(0,
16),size:q.size(16,320),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.m(255,255,255)}}},rightbtn:{position:q.a(336,16),size:q.size(16,320),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.m(255,255,255)}}},upbtn:{position:q.a(16,336),size:q.size(320,16),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.m(255,
255,255)}}},downbtn:{position:q.a(16,0),size:q.size(320,16),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.m(255,255,255)}}},fillbtn:{position:q.a(428,308),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Fill",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},ground1btn:{position:q.a(360,278),size:q.size(128,26),H:Ga,c:q.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,
0,0)}}},ground2btn:{position:q.a(360,248),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}},groundShadowbtn:{position:q.a(360,218),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}},mask1btn:{position:q.a(360,188),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),
color:q.m(0,0,0)}}},mask2btn:{position:q.a(360,158),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}},mask3btn:{position:q.a(360,128),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}},fringe1btn:{position:q.a(360,98),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,
0,0)}}},fringe2btn:{position:q.a(360,68),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}},fringeShadowbtn:{position:q.a(360,38),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}},fringe3btn:{position:q.a(360,8),size:q.size(128,26),H:L,c:q.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),
color:q.m(0,0,0)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),H:q.w(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),H:q.w(100,255,100,255)}}},tab2:{children:{blockbtn:{position:q.a(8,320),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Block",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},warpbtn:{position:q.a(8,280),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Warp",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,
16),color:q.m(0,0,0)}}},itembtn:{position:q.a(8,240),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Item",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},signbtn:{position:q.a(8,200),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Sign",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},npcbtn:{position:q.a(8,160),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"NPC",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},amountLabelHead:{visible:!1,
label:"Item Amount",fontSize:12,c:q.a(0,0),position:q.a(100,342)},amountLabel:{size:q.size(60,32),position:q.a(98,-1E6)}}},tab3:{children:{saveBack:{position:q.a(0,78),size:q.size(200,60),H:q.w(0,255,0,100),c:q.a(0,0)},deleteback:{position:q.a(0,138),size:q.size(200,60),H:q.w(255,0,0,100),c:q.a(0,0)},mapnumsback:{position:q.a(0,198),size:q.size(200,162),H:q.w(0,0,0,170),c:q.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:q.a(0.5,0),position:q.a(100,344)},mapUp_entry:{size:q.size(60,32),position:q.a(70,
312)},mapDown_text:{label:"Map Down",fontSize:10,c:q.a(0.5,0),position:q.a(100,232)},mapDown_entry:{size:q.size(60,32),position:q.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:q.a(0.5,0),position:q.a(38,290)},mapLeft_entry:{size:q.size(60,32),position:q.a(8,258)},mapRight_text:{label:"Map Right",fontSize:10,c:q.a(0.5,0),position:q.a(162,290)},mapRight_entry:{size:q.size(60,32),position:q.a(132,258)},this_map:{position:q.a(70,248),size:q.size(60,60),H:L,c:q.a(0,0),children:{text:{label:"THIS MAP\n#"+
F.ee(),fontSize:12,c:q.a(0.5,0.5),position:q.a(30,30),color:q.m(0,0,0)}}},clearbtn:{position:q.a(70,150),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Clear",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:q.a(0.5,0),position:q.a(100,182)},clearbtnNo:{position:q.a(10,150),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"NO",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},clearbtnYes:{position:q.a(130,
150),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"YES",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},savebtn:{position:q.a(70,90),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Save",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:q.a(0.5,0),position:q.a(100,122)},savebtnNo:{position:q.a(10,90),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"NO",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,
16),color:q.m(0,0,0)}}},savebtnYes:{position:q.a(130,90),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"YES",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,16),color:q.m(0,0,0)}}},saveOnExit:{position:q.a(40,30),size:q.size(120,32),H:L,c:q.a(0.5,0),children:{content:{label:"",fontSize:14,c:q.a(0.5,0.5),position:q.a(60,15),color:q.m(0,0,0)}}}}},tab1Clickable:{position:q.a(0,360),size:q.size(60,20),H:L,c:q.a(0,0),children:{text:{label:"Editor",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.m(0,
0,0)}}},tab2Clickable:{position:q.a(64,360),size:q.size(60,20),H:L,c:q.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.m(0,0,0)}}},tab3Clickable:{position:q.a(128,360),size:q.size(60,20),H:L,c:q.a(0,0),children:{text:{label:"Settings",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.m(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,380),size:q.size(420,32),H:q.w(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.ee(),fontSize:20,c:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),c:q.a(0,0),H:q.w(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.m(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Ec:function(){return"MapEditor"},L:null,us:null,rs:null,ss:null,ts:null,ps:null,Ue:null,Cc:0,Cg:null,q:function(a){this._super();this.map=a;this.L=q.a(0,0);this.Ue=[null,496,200,200]},sa:function(){this._super();this.b.main_panel.tab1.highlightnode.ba(0);this.b.main_panel.tab1.selectednode.ba(0);
this.us=new $(this.b.main_panel.tab3.mapUp_entry,q.size(this.b.main_panel.tab3.mapUp_entry.d().width,this.b.main_panel.tab3.mapUp_entry.d().height),q.a(0,this.b.main_panel.tab3.mapUp_entry.d().height),F.VH()?F.HH():"",q.w(100,100,100),q.m(255,255,255));this.us.qd(!0);this.us.Hs(!0);this.rs=new $(this.b.main_panel.tab3.mapDown_entry,q.size(this.b.main_panel.tab3.mapDown_entry.d().width,this.b.main_panel.tab3.mapDown_entry.d().height),q.a(0,this.b.main_panel.tab3.mapDown_entry.d().height),F.TH()?F.FH():
"",q.w(100,100,100),q.m(255,255,255));this.rs.qd(!0);this.rs.Hs(!0);this.ss=new $(this.b.main_panel.tab3.mapLeft_entry,q.size(this.b.main_panel.tab3.mapLeft_entry.d().width,this.b.main_panel.tab3.mapLeft_entry.d().height),q.a(0,this.b.main_panel.tab3.mapLeft_entry.d().height),F.UH()?F.GH():"",q.w(100,100,100),q.m(255,255,255));this.ss.qd(!0);this.ss.Hs(!0);this.ts=new $(this.b.main_panel.tab3.mapRight_entry,q.size(this.b.main_panel.tab3.mapRight_entry.d().width,this.b.main_panel.tab3.mapRight_entry.d().height),
q.a(0,this.b.main_panel.tab3.mapRight_entry.d().height),F.bC()?F.OB():"",q.w(100,100,100),q.m(255,255,255));this.ts.qd(!0);this.ts.Hs(!0);this.ps=new $(this.b.main_panel.tab2.amountLabel,q.size(this.b.main_panel.tab2.amountLabel.d().width,this.b.main_panel.tab2.amountLabel.d().height),q.a(0,this.b.main_panel.tab2.amountLabel.d().height),F.bC()?F.OB():"1",q.w(100,100,100),q.m(255,255,255));this.ps.qd(!0);this.ps.Hs(!0);this.rx(!1);this.sx(!1);this.cx=w.MR();this.NJ(this.cx);this.Ag(1);this.hb();F.QJ(!0)},
Ms:function(a,c){Warpeditor&&(Warpeditor.La(),this.sc(function(){Warpeditor.P();Warpeditor=null}),this.Cg=a,this.Pb(!0));Signeditor&&(Signeditor.La(),this.sc(function(){Signeditor.P();Signeditor=null}),this.Cg=a,this.Pb(!0));Itemeditor&&(Itemeditor.La(),this.sc(function(){Itemeditor.P();Itemeditor=null}),this.Cg=a,this.Pb(!0),this.ps.qc.oh("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.D(!0),this.b.main_panel.tab2.amountLabel.l(98,308)));NPCeditor&&(NPCeditor.La(),this.sc(function(){NPCeditor.P();
NPCeditor=null}),this.Cg=a,this.Pb(!0))},La:function(){this._super();!0==this.cx&&(F.EJ({up:this.us.ga(),down:this.rs.ga(),left:this.ss.ga(),right:this.ts.ga()}),F.DK());F.QJ(!1)},Xh:function(a){a=a.J;if(1==this.Cc&&(this.b.main_panel.tab1.highlightnode.ba(0),a=this.b.main_panel.tab1.tiles.Aa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.ba(127),this.b.main_panel.tab1.highlightnode.l(a),
!0},Ag:function(a){if(a!=this.Cc){this.b.main_panel.V(this.Ue[a],this.b.main_panel.d().height);this.b.control_panel.V(this.Ue[a],this.b.control_panel.d().height);if(3==this.Cc||0==this.Cc)this.b.main_panel.tab3.mapUp_entry.ac(this.b.main_panel.tab3.mapUp_entry.o.A-1E3),this.b.main_panel.tab3.mapLeft_entry.ac(this.b.main_panel.tab3.mapLeft_entry.o.A-1E3),this.b.main_panel.tab3.mapDown_entry.ac(this.b.main_panel.tab3.mapDown_entry.o.A-1E3),this.b.main_panel.tab3.mapRight_entry.ac(this.b.main_panel.tab3.mapRight_entry.o.A-
1E3);1!=this.Cc||"erasing"!=this.pc&&"tiles"!=this.pc||(this.pc="blocking");2==this.Cc&&"blocking"==this.pc&&(this.pc="tiles");this.Cc=a;this.b.main_panel.tab1.D(!1);this.b.main_panel.tab2.D(!1);this.b.main_panel.tab3.D(!1);this.b.main_panel.tab1Clickable.n(L);this.b.main_panel.tab2Clickable.n(L);this.b.main_panel.tab3Clickable.n(L);this.b.main_panel["tab"+a].D(!0);this.b.main_panel["tab"+a+"Clickable"].n(q.w(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.ac(this.b.main_panel.tab3.mapUp_entry.o.A+
1E3),this.b.main_panel.tab3.mapLeft_entry.ac(this.b.main_panel.tab3.mapLeft_entry.o.A+1E3),this.b.main_panel.tab3.mapDown_entry.ac(this.b.main_panel.tab3.mapDown_entry.o.A+1E3),this.b.main_panel.tab3.mapRight_entry.ac(this.b.main_panel.tab3.mapRight_entry.o.A+1E3));this.b.control_panel.exitBtn.ac(this.Ue[a]-29)}},NJ:function(a){w.TV(a);this.cx=a;this.b.main_panel.tab3.saveOnExit.n(q.m(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ca("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.n(q.m(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ca("Save on exit: YES")},hb:function(){this.nc(this.hb);this.b.main_panel.tab1.tiles.Z()&&!0==this.b.main_panel.tab1.tiles.Z().jc&&(this.rd(this.hb),this.b.main_panel.tab1.tiles.Gb(q.rect(Math.floor(32*this.L.x),Math.floor(32*this.L.y),320>I[this.O].texture.d().width?I[this.O].texture.d().width:320,320>I[this.O].texture.d().height?I[this.O].texture.d().height:320)))},fb:function(a){if(this._super(a))return!0;this.od=null;a=a.J;var c=this.b.main_panel.Aa(a);
if(O(this.b.main_panel.tab1Clickable,c))return this.Ag(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Ag(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Ag(3),!0;if(1==this.Cc){if(O(this.b.main_panel.tab1.leftbtn,c))return 320<I[this.O].texture.d().width&&0<this.L.x&&(this.L.x--,this.hb()),!0;if(O(this.b.main_panel.tab1.rightbtn,c))return 320<I[this.O].texture.d().width&&this.L.x<(I[this.O].texture.d().width-320)/32&&(this.L.x++,this.hb()),!0;if(O(this.b.main_panel.tab1.upbtn,
c))return 320<I[this.O].texture.d().height&&0<this.L.y&&(this.L.y--,this.hb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<I[this.O].texture.d().height&&this.L.y<(I[this.O].texture.d().height-320)/32&&(this.L.y++,this.hb()),!0;if(O(this.b.main_panel.tab1.ground1btn,c))return this.Ui("ground1"),!0;if(O(this.b.main_panel.tab1.ground2btn,c))return this.Ui("ground2"),!0;if(O(this.b.main_panel.tab1.groundShadowbtn,c))return this.Ui("groundShadow"),!0;if(O(this.b.main_panel.tab1.mask1btn,c))return this.Ui("mask1"),
!0;if(O(this.b.main_panel.tab1.mask2btn,c))return this.Ui("mask2"),!0;if(O(this.b.main_panel.tab1.mask3btn,c))return this.Ui("mask3"),!0;if(O(this.b.main_panel.tab1.fringe1btn,c))return this.Ui("fringe1"),!0;if(O(this.b.main_panel.tab1.fringe2btn,c))return this.Ui("fringe2"),!0;if(O(this.b.main_panel.tab1.fringeShadowbtn,c))return this.Ui("fringeShadow"),!0;if(O(this.b.main_panel.tab1.fringe3btn,c))return this.Ui("fringe3"),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.un(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,
c))return this.vn(),!0;if(O(this.b.main_panel.tab1.deletebtn,c))return this.pc="erasing"==this.pc?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.n(L),"erasing"==this.pc&&this.b.main_panel.tab1.deletebtn.n(N),!0;if(O(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.Ki()&&(F.vR(I[this.O].name,q.a((this.b.main_panel.tab1.selectednode.o.A-16)/32+this.L.x,9-(this.b.main_panel.tab1.selectednode.o.I-16)/32+this.L.y),this.iw),F.Vs()),!0;c=this.b.main_panel.tab1.tiles.Aa(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.d().width&&c.y<=this.b.main_panel.tab1.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.ba(0);if(this.b.main_panel.tab1.selectednode.o.A!=c.x||this.b.main_panel.tab1.selectednode.o.I!=c.y)this.b.main_panel.tab1.selectednode.ba(127),this.b.main_panel.tab1.selectednode.l(c);return!0}}if(2==this.Cc){if(O(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.n(L),this.b.main_panel.tab2.signbtn.n(L),
this.b.main_panel.tab2.npcbtn.n(L),this.b.main_panel.tab2.itembtn.n(L),this.b.main_panel.tab2.blockbtn.n(L),this.pc="blocking"==this.pc?"tiles":"blocking","blocking"==this.pc&&(this.b.main_panel.tab2.blockbtn.n(N),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E5)),!0;if(O(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.n(L),this.b.main_panel.tab2.signbtn.n(L),this.b.main_panel.tab2.npcbtn.n(L),this.b.main_panel.tab2.itembtn.n(L),this.b.main_panel.tab2.blockbtn.n(L),
this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.pc="warping"==this.pc?"tiles":"warping","warping"==this.pc&&(null==Warpeditor||Warpeditor.W||(Warpeditor=null),Warpeditor&&(Warpeditor.La(),Warpeditor.P(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.q({h:this,eh:new WarpEditor,list:ObjectLists.Jm(),name:"Warp List"}),Warpeditor.sa(),this.W.g(Warpeditor),this.Pb(!1),this.b.main_panel.tab2.warpbtn.n(N),this.b.main_panel.tab2.amountLabelHead.D(!1),
this.b.main_panel.tab2.amountLabel.l(68,-1E5)),!0;if(O(this.b.main_panel.tab2.signbtn,c))return this.b.main_panel.tab2.signbtn.n(L),this.b.main_panel.tab2.warpbtn.n(L),this.b.main_panel.tab2.npcbtn.n(L),this.b.main_panel.tab2.itembtn.n(L),this.b.main_panel.tab2.blockbtn.n(L),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.pc="signs"==this.pc?"tiles":"signs","signs"==this.pc&&(null==Signeditor||Signeditor.W||(Signeditor=null),Signeditor&&(Signeditor.La(),
Signeditor.P(),Signeditor=null),Signeditor=new PopupList,Signeditor.q({h:this,eh:new SignEditor,list:ObjectLists.es(),name:"Sign List"}),Signeditor.sa(),this.W.g(Signeditor),this.Pb(!1),this.b.main_panel.tab2.signbtn.n(N)),!0;if(O(this.b.main_panel.tab2.npcbtn,c))return this.b.main_panel.tab2.signbtn.n(L),this.b.main_panel.tab2.warpbtn.n(L),this.b.main_panel.tab2.npcbtn.n(L),this.b.main_panel.tab2.itembtn.n(L),this.b.main_panel.tab2.blockbtn.n(L),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.l(68,
-1E6),this.pc="npcs"==this.pc?"tiles":"npcs","npcs"==this.pc&&(null==NPCeditor||NPCeditor.W||(NPCeditor=null),NPCeditor&&(NPCeditor.La(),NPCeditor.P(),NPCeditor=null),NPCeditor=new PopupList,NPCeditor.q({h:this,eh:new NPCEditor,list:ObjectLists.Wk(),name:"NPC List"}),NPCeditor.sa(),this.W.g(NPCeditor),this.Pb(!1),this.b.main_panel.tab2.npcbtn.n(N)),!0;if(O(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.n(L),this.b.main_panel.tab2.itembtn.n(L),this.b.main_panel.tab2.npcbtn.n(L),
this.b.main_panel.tab2.blockbtn.n(L),this.b.main_panel.tab2.amountLabelHead.D(!1),this.b.main_panel.tab2.amountLabel.l(68,-1E6),this.pc="items"==this.pc?"tiles":"items","items"==this.pc&&(null==Itemeditor||Itemeditor.W||(Itemeditor=null),Itemeditor&&(Itemeditor.La(),Itemeditor.P(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.q({h:this,eh:new ItemEditor,list:ObjectLists.Ji(),name:"Item List"}),Itemeditor.sa(),this.W.g(Itemeditor),this.Pb(!1),this.b.main_panel.tab2.itembtn.n(N)),!0}if(3==this.Cc){if(O(this.b.main_panel.tab3.clearbtn,
c))return this.rx(!0),!0;if(O(this.b.main_panel.tab3.clearbtnNo,c))return this.rx(!1),!0;if(O(this.b.main_panel.tab3.clearbtnYes,c))return F.Ad(),this.rx(!1),!0;if(O(this.b.main_panel.tab3.savebtn,c))return this.sx(!0),!0;if(O(this.b.main_panel.tab3.savebtnNo,c))return this.sx(!1),!0;if(O(this.b.main_panel.tab3.savebtnYes,c))return F.EJ({up:this.us.ga(),down:this.rs.ga(),left:this.ss.ga(),right:this.ts.ga()}),F.DK(),this.sx(!1),!0;if(O(this.b.main_panel.tab3.saveOnExit,c))return this.NJ(!this.cx),
!0}return!1},Ui:function(a){this.b.main_panel.tab1.ground1btn.n(L);this.b.main_panel.tab1.ground2btn.n(L);this.b.main_panel.tab1.groundShadowbtn.n(L);this.b.main_panel.tab1.mask1btn.n(L);this.b.main_panel.tab1.mask2btn.n(L);this.b.main_panel.tab1.mask3btn.n(L);this.b.main_panel.tab1.fringe1btn.n(L);this.b.main_panel.tab1.fringe2btn.n(L);this.b.main_panel.tab1.fringeShadowbtn.n(L);this.b.main_panel.tab1.fringe3btn.n(L);this.b.main_panel.tab1[a+"btn"].n(Ga);this.iw=a},un:function(){this.O>=I.length-
1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.ia(I[this.O].texture);this.Lb=I[this.O].name;this.b.main_panel.tab1.textureName.text.ca(this.Lb);this.L=q.a(0,0);this.hb()},vn:function(){0>=this.O&&(this.O=I.length);this.O--;this.b.main_panel.tab1.tiles.ia(I[this.O].texture);this.Lb=I[this.O].name;this.b.main_panel.tab1.textureName.text.ca(this.Lb);this.L=q.a(0,0);this.hb()},rx:function(a){this.b.main_panel.tab3.clearbtnYes.D(a);this.b.main_panel.tab3.clearbtnNo.D(a);this.b.main_panel.tab3.clear_text.D(a);
this.b.main_panel.tab3.clearbtn.D(!a)},sx:function(a){this.b.main_panel.tab3.savebtnYes.D(a);this.b.main_panel.tab3.savebtnNo.D(a);this.b.main_panel.tab3.save_text.D(a);this.b.main_panel.tab3.savebtn.D(!a)},rK:function(a,c,d){if(a[c]==this.sI&&"moved"==d)return!1;this.sI=a[c];switch(this.pc){case "tiles":0!=this.b.main_panel.tab1.selectednode.Ki()&&F.Yj(c,I[this.O].name,q.a((this.b.main_panel.tab1.selectednode.o.A-16)/32+this.L.x,9-(this.b.main_panel.tab1.selectednode.o.I-16)/32+this.L.y),this.iw);
break;case "blocking":if(1!=a[c].hc()){F.Si(c,1);break}F.Si(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.W){if(3!=a[c].hc()){F.Si(c,3,this.Cg);break}F.Si(c,0,null)}break;case "signs":if(null==Signeditor||!Signeditor.W){if(7!=a[c].hc()){F.Si(c,7,this.Cg);break}F.Si(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.W){if(4!=a[c].hc()){F.Si(c,4,this.Cg,{amount:this.ps.ga()});break}F.Si(c,0,null)}break;case "npcs":if(null==NPCeditor||!NPCeditor.W){if(5!=a[c].hc()){F.Si(c,5,this.Cg);
break}F.Si(c,0,null)}break;case "erasing":F.DB(c,this.iw)}}});NPCeditor=null;
NPCEditor=Popup.extend({Lb:K[0].name,O:0,Fc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,396),H:q.w(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(48,320),Y:K[0].name},textureleftbtn:{position:q.a(32,340),size:q.size(16,32),H:L,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.m(0,0,0)}}},texturerightbtn:{position:q.a(144,340),size:q.size(16,32),H:L,c:q.a(0,0),
children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.m(0,0,0)}}},textureName:{position:q.a(48,340),size:q.size(96,32),H:q.w(255,255,255,170),c:q.a(0,0),children:{text:{label:K[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.m(0,0,0)}}},upbtn:{position:q.a(48,320),size:q.size(96,16),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(48,8),color:q.m(255,255,255)}}},downbtn:{position:q.a(48,48),size:q.size(96,
16),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(48,8),color:q.m(255,255,255)}}},highlightnode:{c:q.a(0,0),position:q.a(0,0),size:q.size(96,128),H:q.w(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(96,128),H:q.w(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:q.a(144,0),size:q.size(250,366),H:q.w(0,0,255,100),c:q.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,
32),position:q.a(4,312)}}},tab3:{},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),H:L,c:q.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.m(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),H:L,c:q.a(0,0),children:{text:{label:"Details",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.m(0,0,0)}}},tab3Clickable:{position:q.a(128,376),size:q.size(60,20),H:L,c:q.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:q.a(0.5,0.5),
position:q.a(32,10),color:q.m(0,0,0)}}},okbtn:{position:q.a(104,8),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"OK",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.m(0,0,0)}}},cancelbtn:{position:q.a(32,8),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.m(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,396),size:q.size(420,32),H:q.w(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:q.a(0,
0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,26),c:q.a(0,0),H:q.w(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.m(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Ec:function(){return"npcEditor"},Ja:null,Ue:null,Cc:0,h:null,data:null,q:function(a){this._super();this.data={name:"",sprite:{texture:null,position:null}};this.Lb=K[0].name;this.O=0;this.Ue=this.Ja=null;this.Cc=0;this.h=null;this.L=q.a(0,0);this.Ue=[null,190,400,200];this.h=a.h;a&&a.data&&(this.data=
a.data)},Ri:function(a){G({savenpcs:a+"",npcsdata:this.data})},Hi:function(a,c){G({savenpcswhole:c})},sa:function(){this._super();this.b.main_panel.tab1.highlightnode.ba(0);this.b.main_panel.tab1.selectednode.ba(127);for(var a in K)K[a].name==this.data.sprite.texture&&(this.O=a,this.Lb=K[a].name);this.b.main_panel.tab1.textureName.text.ca(this.Lb);this.b.main_panel.tab1.tiles.ia(K[this.O].texture);this.Ja=new $(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.d().width,this.b.main_panel.tab2.name_entry.d().height),
q.a(0,this.b.main_panel.tab2.name_entry.d().height),this.data.name?this.data.name:"",q.w(100,100,100),q.m(255,255,255));this.Ja.qd(!0);this.Ag(1);this.hb()},vW:function(){},La:function(a){this._super();if(this.h){var c=this.h;!0!=a&&this.h.sc(function(){c.Qc(null)})}},Xh:function(a){a=a.J;if(1==this.Cc&&(this.b.main_panel.tab1.highlightnode.ba(0),a=this.b.main_panel.tab1.tiles.Aa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=
a.x-a.x%96+48,a.y=a.y-a.y%128+64,this.b.main_panel.tab1.highlightnode.ba(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Ag:function(a){a!=this.Cc&&(this.b.main_panel.V(this.Ue[a],this.b.main_panel.d().height),this.b.control_panel.V(this.Ue[a],this.b.control_panel.d().height),this.b.main_panel.tab2.name_entry.ac(this.b.main_panel.tab2.name_entry.o.A-1E3),this.Cc=a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab3.D(!1),this.b.main_panel.tab1Clickable.n(L),this.b.main_panel.tab2Clickable.n(L),
this.b.main_panel.tab3Clickable.n(L),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].n(q.w(255,255,0,255)),2==a&&this.b.main_panel.tab2.name_entry.ac(4),this.b.control_panel.exitBtn.ac(this.Ue[a]-29))},hb:function(){this.nc(this.hb);this.b.main_panel.tab1.tiles.Z()&&!0==this.b.main_panel.tab1.tiles.Z().jc&&(this.rd(this.hb),this.b.main_panel.tab1.tiles.Gb(q.rect(Math.floor(96*this.L.x),Math.floor(128*this.L.y),96>K[this.O].texture.d().width?K[this.O].texture.d().width:96,256>
K[this.O].texture.d().height?K[this.O].texture.d().height:256)))},fb:function(a){if(this._super(a))return!0;this.od=null;a=a.J;var c=this.b.main_panel.Aa(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Ag(1),!0;if(O(this.b.main_panel.tab2Clickable,c))return this.Ag(2),!0;if(O(this.b.main_panel.tab3Clickable,c))return this.Ag(3),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Ja.ga()||""==this.Ja.ga())return!0;this.mf=!0;this.data.name=this.Ja.ga();this.h.Qc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,
c)){this.mf=!0;var d=this.h;this.h.sc(function(){d.Qc(null)});return!0}if(1==this.Cc){if(O(this.b.main_panel.tab1.upbtn,c))return 320<K[this.O].texture.d().height&&0<this.L.y&&(this.L.y--,this.hb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<K[this.O].texture.d().height&&this.L.y<(K[this.O].texture.d().height-320)/32&&(this.L.y++,this.hb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.un(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.vn(),!0;c=this.b.main_panel.tab1.tiles.Aa(a);
if(O(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%96+48;c.y=c.y-c.y%128+64;this.b.main_panel.tab1.selectednode.ba(0);if(this.b.main_panel.tab1.selectednode.o.A!=c.x||this.b.main_panel.tab1.selectednode.o.I!=c.y)this.b.main_panel.tab1.selectednode.ba(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.o.A-16)/96+this.L.x,8-(this.b.main_panel.tab1.selectednode.o.I-64)/128+this.L.y-1);this.data.sprite.position=a;return!0}}return!1},nK:function(){this.data.stackable=
!this.data.stackable;this.b.main_panel.tab2.stackbtn.n(N);this.b.main_panel.tab2.stackbtn.text.ca("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.n(Ga),this.b.main_panel.tab2.stackbtn.text.ca("IS STACKABLE"))},N9:function(a){this.b.main_panel.tab2.wearabletab.head.n(L);this.b.main_panel.tab2.wearabletab.body.n(L);this.b.main_panel.tab2.wearabletab.legs.n(L);this.b.main_panel.tab2.wearabletab.feet.n(L);this.b.main_panel.tab2.wearabletab.rarm.n(L);this.b.main_panel.tab2.wearabletab.larm.n(L);
this.b.main_panel.tab2.wearabletab.mod.n(L);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].n(N);this.data.subType=a},un:function(){this.O>=K.length-1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.ia(K[this.O].texture);this.Lb=K[this.O].name;this.b.main_panel.tab1.textureName.text.ca(this.Lb);this.data.sprite.texture=this.Lb;this.L=q.a(0,0);this.hb()},vn:function(){0>=this.O&&(this.O=K.length);this.O--;this.b.main_panel.tab1.tiles.ia(K[this.O].texture);
this.Lb=K[this.O].name;this.b.main_panel.tab1.textureName.text.ca(this.Lb);this.L=q.a(0,0);this.hb()}});Skillseditor=null;
SkillsEditor=Popup.extend({Lb:I[0].name,O:0,Fc:function(){return{panels:{position:q.a(300,10),children:{main_panel:{c:q.a(0,0),position:q.a(0,0),size:q.size(420,396),H:q.w(0,0,100,120),children:{tab1:{children:{tiles:{c:q.a(0,1),position:q.a(16,320),Y:I[0].name},textureleftbtn:{position:q.a(208,340),size:q.size(16,32),H:L,c:q.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.m(0,0,0)}}},texturerightbtn:{position:q.a(320,340),size:q.size(16,32),H:L,c:q.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,16),color:q.m(0,0,0)}}},textureName:{position:q.a(224,340),size:q.size(96,32),H:q.w(255,255,255,170),c:q.a(0,0),children:{text:{label:I[0].name,fontSize:12,c:q.a(0.5,0.5),position:q.a(48,16),color:q.m(0,0,0)}}},leftbtn:{position:q.a(0,64),size:q.size(16,252),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.m(255,255,255)}}},rightbtn:{position:q.a(336,64),size:q.size(16,
252),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:q.a(0.5,0.5),position:q.a(8,160),color:q.m(255,255,255)}}},upbtn:{position:q.a(16,320),size:q.size(320,16),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"^",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.m(255,255,255)}}},downbtn:{position:q.a(16,48),size:q.size(320,16),H:q.w(0,0,255,255),c:q.a(0,0),children:{text:{label:"v",fontSize:12,c:q.a(0.5,0.5),position:q.a(160,8),color:q.m(255,255,255)}}},highlightnode:{c:q.a(0,
0),position:q.a(0,0),size:q.size(32,32),H:q.w(255,100,100,255)},selectednode:{c:q.a(0,0),position:q.a(0,0),size:q.size(32,32),H:q.w(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:q.a(0,0),position:q.a(8,344)},name_entry:{size:q.size(136,32),position:q.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:q.a(0,0),position:q.a(8,250)},healthcolor_entry:{size:q.size(136,32),position:q.a(4,210)},tile:{c:q.a(0,1),position:q.a(55,150),Y:I[0].name},healthbtn:{position:q.a(8,
265),size:q.size(128,26),H:N,c:q.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:q.a(0.5,0.5),position:q.a(64,13),color:q.m(0,0,0)}}}}},tab1Clickable:{position:q.a(0,376),size:q.size(60,20),H:L,c:q.a(0,0),children:{text:{label:"Icon",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.m(0,0,0)}}},tab2Clickable:{position:q.a(64,376),size:q.size(60,20),H:L,c:q.a(0,0),children:{text:{label:"Details",fontSize:12,c:q.a(0.5,0.5),position:q.a(32,10),color:q.m(0,0,0)}}},okbtn:{position:q.a(76,
8),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"OK",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.m(0,0,0)}}},cancelbtn:{position:q.a(8,8),size:q.size(60,32),H:L,c:q.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:q.a(0.5,0.5),position:q.a(30,16),color:q.m(0,0,0)}}}}},control_panel:{c:q.a(0,0),position:q.a(0,396),size:q.size(420,32),H:q.w(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(391,3),size:q.size(26,
26),c:q.a(0,0),H:q.w(255,255,255,200),children:{content:{label:"X",fontSize:20,color:q.m(0,0,0),c:q.a(0.5,0.5),position:q.a(13,13)}}}}}}}}},Ec:function(){return"SkillsEditor"},Ja:null,kp:null,Ue:null,Cc:0,h:null,data:null,q:function(a){this._super();this.data={sprite:{texture:I[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.Lb=I[0].name;this.O=0;this.Ue=this.Ja=null;this.Cc=0;this.h=null;this.L=q.a(0,0);this.Ue=[null,352,142];this.h=a.h;a&&a.data&&(this.data=a.data)},Ri:function(a){G({saveskills:a+
"",skillsdata:this.data})},Hi:function(a,c){G({saveskillswhole:c})},sa:function(){this._super();this.b.main_panel.tab1.highlightnode.ba(0);this.b.main_panel.tab1.selectednode.ba(127);for(var a in I)I[a].name==this.data.sprite.texture&&(this.O=a,this.Lb=I[a].name);this.b.main_panel.tab1.textureName.text.ca(this.Lb);this.b.main_panel.tab1.tiles.ia(I[this.O].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.L.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.L.y++;a=q.a(32*(this.data.sprite.position.x-
this.L.x),32*(this.data.sprite.position.y-this.L.y));this.b.main_panel.tab1.selectednode.l(this.b.main_panel.tab1.tiles.o.x+a.x,this.b.main_panel.tab1.tiles.o.y-(a.y+32));this.b.main_panel.tab2.tile.ia(I[this.O].texture);this.b.main_panel.tab2.tile.Gb(q.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Ja=new $(this.b.main_panel.tab2.name_entry,q.size(this.b.main_panel.tab2.name_entry.d().width,this.b.main_panel.tab2.name_entry.d().height),q.a(0,
this.b.main_panel.tab2.name_entry.d().height),this.data.name?this.data.name:"",q.w(100,100,100),q.m(255,255,255));this.Ja.qd(!0);this.kp=new $(this.b.main_panel.tab2.healthcolor_entry,q.size(this.b.main_panel.tab2.healthcolor_entry.d().width,this.b.main_panel.tab2.healthcolor_entry.d().height),q.a(0,this.b.main_panel.tab2.healthcolor_entry.d().height),this.data.healthbar?this.data.healthbar:"",q.w(100,100,100),q.m(255,255,255));this.kp.qd(!0);this.b.main_panel.tab2.healthbtn.n(N);this.b.main_panel.tab2.healthbtn.text.ca("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Ga),this.b.main_panel.tab2.healthbtn.text.ca("IS HEALTHBAR"));this.Ag(1);this.hb()},vW:function(){},La:function(a){this._super();if(this.h){var c=this.h;!0!=a&&this.h.sc(function(){c.Qc(null)})}},Xh:function(a){a=a.J;if(1==this.Cc&&(this.b.main_panel.tab1.highlightnode.ba(0),a=this.b.main_panel.tab1.tiles.Aa(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.d().width&&a.y<=this.b.main_panel.tab1.tiles.d().height))return a.x=
a.x-a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.ba(127),this.b.main_panel.tab1.highlightnode.l(a),!0},Ag:function(a){a!=this.Cc&&(this.b.main_panel.V(this.Ue[a],this.b.main_panel.d().height),this.b.control_panel.V(this.Ue[a],this.b.control_panel.d().height),this.b.main_panel.tab2.name_entry.ac(this.b.main_panel.tab2.name_entry.o.A-1E3),this.b.main_panel.tab2.healthcolor_entry.ac(this.b.main_panel.tab2.healthcolor_entry.o.A-1E3),this.b.main_panel.tab2.healthcolor_text.D(!1),this.Cc=
a,this.b.main_panel.tab1.D(!1),this.b.main_panel.tab2.D(!1),this.b.main_panel.tab1Clickable.n(L),this.b.main_panel.tab2Clickable.n(L),this.b.main_panel["tab"+a].D(!0),this.b.main_panel["tab"+a+"Clickable"].n(q.w(255,255,0,255)),this.b.control_panel.exitBtn.ac(this.Ue[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.ac(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.ac(4),this.b.main_panel.tab2.healthcolor_text.D(!0)))},hb:function(){this.nc(this.hb);
this.b.main_panel.tab1.tiles.Z()&&!0==this.b.main_panel.tab1.tiles.Z().jc&&(this.rd(this.hb),this.b.main_panel.tab1.tiles.Gb(q.rect(Math.floor(32*this.L.x),Math.floor(32*this.L.y),320>I[this.O].texture.d().width?I[this.O].texture.d().width:320,256>I[this.O].texture.d().height?I[this.O].texture.d().height:256)))},fb:function(a){if(this._super(a))return!0;this.od=null;a=a.J;var c=this.b.main_panel.Aa(a);if(O(this.b.main_panel.tab1Clickable,c))return this.Ag(1),!0;if(O(this.b.main_panel.tab2Clickable,
c))return this.Ag(2),!0;if(O(this.b.main_panel.okbtn,c)){if(null==this.Ja.ga()||""==this.Ja.ga())return!0;this.mf=!0;this.data.name=this.Ja.ga();if(null!=this.kp.ga()||""!=this.kp.ga())this.data.healthbar=this.kp.ga();this.h.Qc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,c)){this.mf=!0;var d=this.h;this.h.sc(function(){d.Qc(null)});return!0}if(1==this.Cc){if(O(this.b.main_panel.tab1.leftbtn,c))return 264<I[this.O].texture.d().width&&0<this.L.x&&(this.L.x--,this.hb()),!0;if(O(this.b.main_panel.tab1.rightbtn,
c))return 320<I[this.O].texture.d().width&&this.L.x<(I[this.O].texture.d().width-320)/32&&(this.L.x++,this.hb()),!0;if(O(this.b.main_panel.tab1.upbtn,c))return 320<I[this.O].texture.d().height&&0<this.L.y&&(this.L.y--,this.hb()),!0;if(O(this.b.main_panel.tab1.downbtn,c))return 320<I[this.O].texture.d().height&&this.L.y<(I[this.O].texture.d().height-320)/32&&(this.L.y++,this.hb()),!0;if(O(this.b.main_panel.tab1.texturerightbtn,c))return this.un(),!0;if(O(this.b.main_panel.tab1.textureleftbtn,c))return this.vn(),
!0;c=this.b.main_panel.tab1.tiles.Aa(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.d().width&&c.y<=this.b.main_panel.tab1.tiles.d().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.ba(0);if(this.b.main_panel.tab1.selectednode.o.A!=c.x||this.b.main_panel.tab1.selectednode.o.I!=c.y)this.b.main_panel.tab1.selectednode.ba(127),this.b.main_panel.tab1.selectednode.l(c);a=q.a((this.b.main_panel.tab1.selectednode.o.A-16)/32+this.L.x,8-(this.b.main_panel.tab1.selectednode.o.I-
64)/32+this.L.y-1);this.b.main_panel.tab2.tile.Gb(q.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.Cc&&O(this.b.main_panel.tab2.healthbtn,c)?(this.VW(),!0):!1},VW:function(){this.b.main_panel.tab2.healthcolor_entry.ac(this.b.main_panel.tab2.healthcolor_entry.o.A-1E3);this.b.main_panel.tab2.healthcolor_text.D(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.kp.oh("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.ac(4),
this.b.main_panel.tab2.healthcolor_text.D(!0));this.b.main_panel.tab2.healthbtn.n(N);this.b.main_panel.tab2.healthbtn.text.ca("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.n(Ga),this.b.main_panel.tab2.healthbtn.text.ca("IS HEALTHBAR"))},un:function(){this.O>=I.length-1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.ia(I[this.O].texture);this.b.main_panel.tab2.tile.ia(I[this.O].texture);this.Lb=I[this.O].name;this.b.main_panel.tab1.textureName.text.ca(this.Lb);
this.data.sprite.texture=this.Lb;this.L=q.a(0,0);this.hb()},vn:function(){0>=this.O&&(this.O=I.length);this.O--;this.b.main_panel.tab1.tiles.ia(I[this.O].texture);this.b.main_panel.tab2.tile.ia(I[this.O].texture);this.Lb=I[this.O].name;this.b.main_panel.tab1.textureName.text.ca(this.Lb);this.L=q.a(0,0);this.hb()}});PopupList=Popup.extend({If:null,Dc:[],sC:null,nn:!1,bx:-1,i7:0,dH:null,U:null,SH:!1,La:function(){this._super();this.h&&(this.h.Pb(!0),!this.SH&&this.h.IJ&&this.h.IJ(null,null))},q:function(a){this._super();this.If=null;this.Dc=[];this.sC=null;this.nn=!1;this.bx=-1;this.If=a.eh;a.list&&(this.Dc=a.list);this.sC=a.name;this.h=a.h},sa:function(){this._super();this.$b()},U:null,$b:function(){this.U&&this.U.rc.P();var a=[],c=[],d=q.Ia.e();this.dH={};for(var e in this.Dc)if(a[e]=q.B.create(),a[e].V(324,
32),null==this.Dc[e])this.Dc.splice(e,1);else{if(null!=this.h){var f=q.u.Ob(d.$a("GUI/use.png"));f.l(q.a(244,6));f.R(q.a(0,0))}var g=q.va.create(q.w(0,0,0,127),316,1);g.l(q.a(4,0));var h=q.S.create(this.Dc[e].name,"Arial",20);h.R(q.a(0,0.5));h.l(q.a(0,16));var k=q.u.Ob(d.$a("GUI/edit.png"));k.l(q.a(272,6));k.R(q.a(0,0));var l=q.u.Ob(d.$a("GUI/trash.png"));l.l(q.a(300,6));l.R(q.a(0,0));k.Wd="Edit";var m=[];m.push(k);l.Wd="Delete";m.push(l);null!=this.h&&(f.Wd="Use",m.push(f));c.push(m);a[e].g(g);a[e].g(h);
a[e].g(k);a[e].g(l);null!=this.h&&a[e].g(f)}d=q.va.create(q.w(70,200,70,255),90,26);e=q.S.create("+","Arial",20);e.l(45,13);e.R(q.a(0.5,0.5));d.l(q.a(120,0));d.Wd="Add";d.g(e);c.push([d]);a.push(d);this.U=this.b.main_panel.list;var n=this;this.U.Qj=function(){return q.size(324,32*a.length)};this.U.Pj=function(){return a.length};this.U.Xk=function(c){return a[c].d()};this.U.Vk=function(c){return a[c]};this.U.ml=function(a,c,d){n.Aa(d.J);if(!0!=n.nn)switch(a){case "Delete":n.W.g(DropDownList.Xd(n,n.AB,
["Cancel","Delete"],d.J));n.bb=c;break;case "Edit":n.If.W&&n.If.P();n.nn=!0;n.If.q({h:n,data:n.Dc[c]});n.W.g(n.If);n.Pb(!1);n.If.sa();n.bx=c+"";break;case "Add":n.RG=!0;n.nn=!0;n.bx=n.Dc.length;n.If.q({h:n,data:null});n.Pb(!1);n.W.g(n.If);n.If.sa();break;case "Use":n.h.Ms(c,n.Dc[c]),n.SH=!0}};this.U.rc=ListView.create(this.U);this.U.rc.ol(c);this.U.g(this.U.rc)},Fc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),
size:q.size(365,328),children:{list:{size:q.size(324,328),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:this.sC,fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},bb:null,AB:function(a){switch(a){case 1:null!=this.h.bb&&(this.h.VQ(this.h.bb),this.h.bb=null)}},fb:function(a){if(this._super(a))return!0;this.od=null;a=this.b.main_panel.Aa(a.J);return O(this.b.main_panel,
a)?!0:!1},Qc:function(a){a&&(this.If.Ri(this.bx),this.RG&&(this.Dc.push(a),this.$b()));this.Pb(!0);this.nn=this.RG=!1;var c=this;this.sc(function(){c.If.La(!0);c.If.P()})},VQ:function(a){this.Dc.splice(a,1);this.If.Hi(a,this.Dc);this.$b()}});Warpeditor=null;
WarpEditor=Popup.extend({Ec:function(){return"WarpEditor"},Ri:function(a){G({savewarps:a+"",warpdata:this.data})},Hi:function(a,c){G({savewarpswhole:c})},Fc:function(){return{panels:{position:q.a(300,200),children:{background:{Y:"GUI/warpeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(180,160),children:{okbtn:{position:q.a(114,16),size:q.size(32,32),Y:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(34,16),size:q.size(32,32),Y:"GUI/cross_icon.png",c:q.a(0,0)},namelbl:{label:"Name of warp.",
fontSize:12,c:q.a(0,0),position:q.a(20,140),color:q.m(0,0,0)},nameEntry:{position:q.a(16,110),size:q.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:q.a(0,0),position:q.a(20,90),color:q.m(0,0,0)},mapNumEntry:{position:q.a(16,60),size:q.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:q.a(0,0),position:q.a(80,90),color:q.m(0,0,0)},mapXEntry:{position:q.a(76,60),size:q.size(36,30)},mapylbl:{label:"y",fontSize:12,c:q.a(0,0),position:q.a(130,90),color:q.m(0,0,0)},mapYEntry:{position:q.a(126,60),size:q.size(36,
30)}}},control_panel:{c:q.a(0,0),position:q.a(0,160),size:q.size(180,32),children:{header:{label:"Warp Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(156,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},Ja:null,tp:null,vp:null,wp:null,h:null,data:null,q:function(a){this._super();this.h=this.wp=this.vp=this.tp=this.Ja=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.h=a.h},sa:function(){this._super();var a=this.data.position%S,c=Math.floor(this.data.position/
S);this.Ja=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.w(100,100,100),q.m(255,255,255));this.Ja.qd(!0);this.tp=new $(this.b.main_panel.mapNumEntry,q.size(this.b.main_panel.mapNumEntry.d().width,this.b.main_panel.mapNumEntry.d().height),q.a(0,this.b.main_panel.mapNumEntry.d().height),""+this.data.mapTo,q.w(100,100,100),q.m(255,255,255));this.tp.qd(!0);this.vp=new $(this.b.main_panel.mapXEntry,
q.size(this.b.main_panel.mapXEntry.d().width,this.b.main_panel.mapXEntry.d().height),q.a(0,this.b.main_panel.mapXEntry.d().height),""+a,q.w(100,100,100),q.m(255,255,255));this.vp.qd(!0);this.wp=new $(this.b.main_panel.mapYEntry,q.size(this.b.main_panel.mapYEntry.d().width,this.b.main_panel.mapYEntry.d().height),q.a(0,this.b.main_panel.mapYEntry.d().height),""+c,q.w(100,100,100),q.m(255,255,255));this.wp.qd(!0)},fb:function(a){if(this._super(a))return!0;this.od=null;a=this.b.main_panel.Aa(a.J);if(O(this.b.main_panel.okbtn,
a)){if(null==this.Ja.ga()||""==this.Ja.ga()||null==this.tp.ga()||""==this.tp.ga()||null==this.vp.ga()||""==this.vp.ga()||null==this.wp.ga()||""==this.wp.ga())return!0;this.mf=!0;this.data.position=T(parseInt(this.vp.ga()),Pa-parseInt(this.wp.ga()));this.data.mapTo=parseInt(this.tp.ga());this.data.name=this.Ja.ga();this.h.Qc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.mf=!0;var c=this.h;this.h.sc(function(){c.Qc(null)});return!0}},La:function(a){this._super();var c=this.h;a||this.h.sc(function(){c.Qc(null)})}});Signeditor=null;
SignEditor=Popup.extend({Ec:function(){return"SignEditor"},Ri:function(a){G({savesigns:a+"",signsdata:this.data})},Hi:function(a,c){G({savesignswhole:c})},Fc:function(){return{panels:{position:q.a(300,200),children:{background:{Y:"GUI/signeditor_bg.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(142,256),children:{okbtn:{position:q.a(88,16),size:q.size(32,32),Y:"GUI/tick_icon.png",c:q.a(0,0)},cancelbtn:{position:q.a(22,16),size:q.size(32,32),Y:"GUI/cross_icon.png",c:q.a(0,0)},namelbl:{label:"Name of sign.",
fontSize:12,c:q.a(0,0),position:q.a(6,238),color:q.m(0,0,0)},nameEntry:{position:q.a(4,206),size:q.size(120,30)},signlbl:{label:"Contents",fontSize:12,c:q.a(0,0),position:q.a(6,190),color:q.m(0,0,0)},signEntry:{position:q.a(4,60),size:q.size(120,128)}}},control_panel:{c:q.a(0,0),position:q.a(0,256),size:q.size(142,32),children:{header:{label:"Sign Editor",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(118,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},Ja:null,Jp:null,
h:null,data:null,q:function(a){this._super();this.h=this.Jp=this.Ja=null;this.data={label:"",name:""};a.data&&(this.data=a.data);this.h=a.h},sa:function(){this._super();this.Ja=new $(this.b.main_panel.nameEntry,q.size(this.b.main_panel.nameEntry.d().width,this.b.main_panel.nameEntry.d().height),q.a(0,this.b.main_panel.nameEntry.d().height),this.data.name,q.w(100,100,100),q.m(255,255,255));this.Ja.qd(!0);this.Jp=new $(this.b.main_panel.signEntry,q.size(this.b.main_panel.signEntry.d().width,this.b.main_panel.signEntry.d().height),
q.a(0,this.b.main_panel.signEntry.d().height),""+this.data.label,q.w(100,100,100),q.m(255,255,255),!0);this.Jp.qd(!0)},fb:function(a){if(this._super(a))return!0;this.od=null;a=this.b.main_panel.Aa(a.J);if(O(this.b.main_panel.okbtn,a)){if(null==this.Ja.ga()||""==this.Ja.ga()||null==this.Jp.ga()||""==this.Jp.ga())return!0;this.mf=!0;this.data.label=this.Jp.ga();this.data.name=this.Ja.ga();this.h.Qc(this.data);return!0}if(O(this.b.main_panel.cancelbtn,a)){this.mf=!0;var c=this.h;this.h.sc(function(){c.Qc(null)});
return!0}},La:function(a){this._super();var c=this.h;a||this.h.sc(function(){c.Qc(null)})}});var Na=Qa.extend({ctor:function(){this._super()},IK:function(){this._super()},sa:function(){this._super()},La:function(){this._super()},fb:function(a){q.nb(this.b.health_panel.Ta(),a.J)&&x.e().Yk("Game")},q:function(){var a=q.S.create("ITS WOKKIN!","Arial",16);a.n(q.m(0,0,0));a.l(q.a(200,200));this.g(a);this._super()}});NewsPanel=null;
News=Popup.extend({data:null,U:null,bb:null,Ec:function(){return"Credits"},La:function(){this._super()},q:function(){this._super();this.data={"17th August 2014: (v0.714)":["Added basic template logic of new scripting editor system. Scripts can be saved and loaded like other list systems. This editor currently does not allow you to apply scripts to anything (it is simply the GUI interface template logic that's in there). The item editor has been changed to utilize the new saved scripts list.","Fixed localstorage issue caused by settings implementation. Game now does not now load until the game is fully in sync. The issue was causing an error on some game-loads because the localstorage was not yet available (requiring a refresh)."],
"11th August 2014: (v0.708)":["Added settings menu for various game controls. Settings menu only currently controls a load of in game string settings. Also added the additional required admin panel graphic for settings access. The new chatbox command is /editsettings.","Added scrolling credits button to login page and populated it.","Added this scrolling news feed to login page and obviously populated it as well."],"11th August 2014 (v0.7)":["Added some additional custom gui for some of the editors.",
"Fixed a lot of bugs (and I mean a lot).","Added 0.7 download to site."],"10th August 2014 (v0.695)":["Added quest objective editor. New button now made usable in menu.","Objective editor utilizes abstract scrolling list from 0.69."]}},Ri:function(a){G({savequests:a+"",questdata:this.data})},Hi:function(a,c){G({savequestswhole:c})},sa:function(){this._super();this.$b()},$b:function(){this.U&&this.U.mc();var a=[],c=[];q.Ia.e();var d=0,e;for(e in this.data){a[d]=q.B.create();a[d].V(324,32);var f=q.S.create(e,
"Arial",18);f.R(q.a(0,0));f.l(q.a(4,0));f.xg(q.size(246,0));f.n(q.m(100,0,0));a[d].g(f);a[d].V(324,f.d().height+4);f=[];c.push(f);d++;for(var g in this.data[e]){a[d]=q.B.create();a[d].V(324,32);var h=q.va.create(q.w(0,0,0,127),316,1);h.l(q.a(4,0));var k=q.S.create(this.data[e][g],"Arial",15);k.n(q.m(0,0,0));k.R(q.a(0,0));k.l(q.a(4,4));k.xg(q.size(246,0));f=[];c.push(f);a[d].g(h);a[d].g(k);a[d].V(324,k.d().height+8);d++}}this.U=this.b.main_panel.list;this.U.Qj=function(){for(var c=0,d=0;d<a.length;d++)c+=
a[d].d().height;return q.size(324,c)};this.U.Pj=function(){return a.length};this.U.Xk=function(c){return a[c].d()};this.U.Vk=function(c){return a[c]};this.U.ml=function(){};this.U.rc=ListView.create(this.U);this.U.rc.ol(c);this.U.g(this.U.rc)},Fc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),H:q.w(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,
0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"News",fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},fb:function(a){if(this._super(a))return!0;this.od=null;a=this.b.main_panel.Aa(a.J);return O(this.b.main_panel,a)?!0:!1}});CreditsPanel=null;
Credits=Popup.extend({data:null,U:null,bb:null,Ec:function(){return"Credits"},La:function(){this._super()},q:function(){this._super();this.data={"Programmed and designed by:":"Alan Tuckwood","Special thanks:":"Claire, for putting up with all the non-talking hours.","Special thanks 2:":"IndieRising dev community for all their wonderful support.","Special thanks 3:":"Finblade, for all the skills I was able to pass into this engine.","Special thanks 4:":"All of you players, who's positive response keep me motivated.","Powder Engine is Copywritten":"Contact the developer in-site regarding questions."}},
Ri:function(a){G({savequests:a+"",questdata:this.data})},Hi:function(a,c){G({savequestswhole:c})},sa:function(){this._super();this.$b()},$b:function(){this.U&&this.U.mc();var a=[],c=[];q.Ia.e();var d=0,e;for(e in this.data){if("ISSECTION"!=this.data[e]){a[d]=q.B.create();a[d].V(324,32);var f=q.S.create(e,"Arial",18);f.R(q.a(0,0));f.l(q.a(4,0));f.xg(q.size(246,0));f.n(q.m(100,0,0));a[d].g(f);a[d].V(324,f.d().height+4);f=[];c.push(f);d++}a[d]=q.B.create();a[d].V(324,32);var g=q.va.create(q.w(0,0,0,
127),316,1);g.l(q.a(4,0));if("ISSECTION"==this.data[e]){var h=q.S.create(e,"Arial",22);h.n(q.m(255,0,0))}else h=q.S.create(this.data[e],"Arial",15),h.n(q.m(0,0,0));h.R(q.a(0,0));h.l(q.a(4,4));h.xg(q.size(246,0));f=[];c.push(f);a[d].g(g);a[d].g(h);"ISSECTION"==this.data[e]?a[d].V(324,h.d().height+12):a[d].V(324,h.d().height+8);d++}this.U=this.b.main_panel.list;this.U.Qj=function(){for(var c=0,d=0;d<a.length;d++)c+=a[d].d().height;return q.size(324,c)};this.U.Pj=function(){return a.length};this.U.Xk=
function(c){return a[c].d()};this.U.Vk=function(c){return a[c]};this.U.ml=function(){};this.U.rc=ListView.create(this.U);this.U.rc.ol(c);this.U.g(this.U.rc)},Fc:function(){return{panels:{position:q.a(300,200),children:{background_image:{Y:"GUI/list_panel.png",c:q.a(0,0)},main_panel:{c:q.a(0,0),size:q.size(365,328),children:{list:{size:q.size(324,328),H:q.w(0,200,200,200),position:q.a(0,0),c:q.a(0,0)}}},control_panel:{c:q.a(0,0),position:q.a(0,328),size:q.size(365,32),children:{header:{label:"Credits",
fontSize:20,c:q.a(0,0.5),position:q.a(8,16)},exitBtn:{position:q.a(337,6),size:q.size(20,20),c:q.a(0,0),Y:"GUI/close.png"}}}}}}},fb:function(a){if(this._super(a))return!0;this.od=null;a=this.b.main_panel.Aa(a.J);return O(this.b.main_panel,a)?!0:!1}});Login=Qa.extend({XC:!1,Xs:!1,q:function(a){y=sa(y,w.RB());this._super();x.hn(this);this.ws=new $(this.b.name_entry,q.size(this.b.name_entry.d().width,this.b.name_entry.d().height),q.a(0,this.b.name_entry.d().height),"Enter Name",q.w(100,100,100),q.m(255,255,255));a&&(a.xI&&(u=[],G({logout:!0})),this.kn(a.YC));this.nc(this.rD)},il:function(a){switch(a){case "ENTER":!1==this.Xs&&this.XC?(this.Xs=!0,G({login:!0,username:this.ws.ga()})):this.yC("Server is offline!")}},kn:function(a){this.XC=a;!0==a?(this.b.server_activity.ca("Server: Online"),
this.b.server_activity.n(q.m(0,255,0))):(this.b.server_activity.ca("Server: Offline"),this.b.server_activity.n(q.m(255,0,0)))},rD:function(){if(0<u.length)for(var a=u.length-1;0<=a;a--)reactToSocketMessage(u[a]),u.splice(a,1)},Fc:function(){return{panels:{children:{background:{Y:"GUI/splash.png",size:q.size(960,640),c:q.a(0,0),position:q.a(0,0)},name_entry:{size:q.size(300,30),position:q.a(325,300)},go_button:{position:q.a(325,220),size:q.size(120,40),H:q.w(0,0,0,255),children:{label:{label:"Play",
fontSize:20,color:q.m(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},credits_button:{position:q.a(30,400),size:q.size(120,40),H:q.w(0,0,0,255),children:{label:{label:"Credits",fontSize:20,color:q.m(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},news_button:{position:q.a(505,220),size:q.size(120,40),H:q.w(0,0,0,255),c:q.a(0,1),children:{label:{label:"News",fontSize:20,color:q.m(255,255,255),c:q.a(0.5,0.5),position:q.a(60,20)}}},server_message:{label:"",fontSize:16,color:q.m(127,0,0),c:q.a(0,
0),position:q.a(327,325)},version_number:{label:y["Version Number"],fontSize:34,color:q.m(255,255,255),c:q.a(1,1),position:q.a(710,55)},server_activity:{position:q.a(910,630),size:q.size(100,20),c:q.a(0.5,0.5),label:"Server: Offline",color:q.m(255,0,0)}}}}},fb:function(a){if(null!=this.ws.ga()&&q.nb(q.rect(this.b.go_button.o.A,this.b.go_button.o.I,this.b.go_button.d().width,this.b.go_button.d().height),a.J))return!1==this.Xs&&this.XC?(this.Xs=!0,G({login:!0,username:this.ws.ga()})):this.yC("Server is offline!"),
!0;q.nb(q.rect(this.b.credits_button.o.A,this.b.credits_button.o.I,this.b.credits_button.d().width,this.b.credits_button.d().height),a.J)&&this.qf("/openCredits");q.nb(q.rect(this.b.news_button.o.A,this.b.news_button.o.I,this.b.news_button.d().width,this.b.news_button.d().height),a.J)&&this.qf("/openNews")},qf:function(a){switch(a){case "/openCredits":null==CreditsPanel||CreditsPanel.W||(CreditsPanel=null);CreditsPanel?(CreditsPanel.La(),CreditsPanel.P(),CreditsPanel=null):(CreditsPanel=new Credits,
CreditsPanel.q(),CreditsPanel.sa(),this.g(CreditsPanel));break;case "/openNews":null==NewsPanel||NewsPanel.W||(NewsPanel=null),NewsPanel?(NewsPanel.La(),NewsPanel.P(),NewsPanel=null):(NewsPanel=new News,NewsPanel.q(),NewsPanel.sa(),this.g(NewsPanel))}},DT:function(){x.e().Yk("Game",{FK:this.ws.ga(),map:1})},yC:function(a){this.b.server_message.ca(a);this.Xs=!1},dd:function(){},pf:function(){},I7:function(){x.e().Yk("Game",{FK:this.ws.ga()})}});Na=null;MapMaster=!1;
var Ra=Qa.extend({ctor:function(){this._super()},Fc:function(){return{panels:{children:{logout_button:{position:q.a(W.width-52,W.height-52),c:q.a(0,0),size:q.size(48,48),Y:"GUI/logout.png"},quicknav_button:{position:q.a(W.width-30,Math.floor(W.height/2)-24),c:q.a(0,0),size:q.size(48,48),Y:"GUI/quickmenu_closed_icon.png"},inventory_button:{position:q.a(W.width-52,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),Y:"GUI/inventory_icon.png"},equipment_button:{position:q.a(W.width-82,Math.floor(W.height/
2)+4),c:q.a(0,0),size:q.size(48,48),Y:"GUI/equipment_icon.png"},skill_button:{position:q.a(W.width-82,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),Y:"GUI/skills_icon.png"},chat_button:{position:q.a(W.width-52,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),Y:"GUI/chat_icon.png"},quickedit_button:{position:q.a(0,Math.floor(W.height/2)-24),c:q.a(0,0),size:q.size(48,48),Y:"GUI/quickedit_closed_icon.png"},mapedit_button:{position:q.a(4,Math.floor(W.height/2)+116),c:q.a(0,0),size:q.size(48,
48),Y:"GUI/mapeditor_icon.png"},npcedit_button:{position:q.a(34,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),Y:"GUI/npceditor_icon.png"},itemedit_button:{position:q.a(64,Math.floor(W.height/2)+4),c:q.a(0,0),size:q.size(48,48),Y:"GUI/itemeditor_icon.png"},skilledit_button:{position:q.a(64,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),Y:"GUI/skilleditor_icon.png"},signedit_button:{position:q.a(34,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),Y:"GUI/signeditor_icon.png"},
warpedit_button:{position:q.a(4,Math.floor(W.height/2)-164),c:q.a(0,0),size:q.size(48,48),Y:"GUI/warpeditor_icon.png"},scriptedit_button:{position:q.a(90,Math.floor(W.height/2)-108),c:q.a(0,0),size:q.size(48,48),Y:"GUI/scripteditor_icon.png"},settings_button:{position:q.a(4,Math.floor(W.height/2)-220),c:q.a(0,0),size:q.size(48,48),Y:"GUI/settings_icon.png"},bankedit_button:{position:q.a(90,Math.floor(W.height/2)+60),c:q.a(0,0),size:q.size(48,48),Y:"GUI/bankeditor_icon.png"},shopedit_button:{position:q.a(120,
Math.floor(W.height/2)+4),c:q.a(0,0),size:q.size(48,48),Y:"GUI/shopeditor_icon.png"},questedit_button:{position:q.a(120,Math.floor(W.height/2)-52),c:q.a(0,0),size:q.size(48,48),Y:"GUI/questeditor_icon.png"}}}}},pI:!1,nI:!1,kn:function(a){!1==a&&(this.CB(),x.e().Yk("Login",{YC:!1}))},CB:function(){F.Ad();F.Fs();null!=Equipment&&(Equipment.La(),Equipment.P(),Equipment=null);null!=Inventory&&(Inventory.La(),Inventory.P(),Inventory=null);null!=Skills&&(Skills.La(),Skills.P(),Skills=null);SkillBarsInstance.P();
A.Ad();A.Fs();B.Ad();B.Fs()},fb:function(a){if(q.nb(q.rect(this.b.logout_button.o.A,this.b.logout_button.o.I,this.b.logout_button.d().width,this.b.logout_button.d().height),a.J))return this.CB(),x.e().Yk("Login",{xI:!0,YC:!0}),!0;x.hn(this);if(q.nb(this.b.chat_button.Ta(),a.J)&&this.b.chat_button.qa)return this.il("C"),!0;if(q.nb(this.b.inventory_button.Ta(),a.J)&&this.b.inventory_button.qa)return this.il("I"),!0;if(q.nb(this.b.equipment_button.Ta(),a.J)&&this.b.equipment_button.qa)return this.il("E"),
!0;if(q.nb(this.b.skill_button.Ta(),a.J)&&this.b.skill_button.qa)return this.il("S"),!0;if(q.nb(this.b.quickedit_button.Ta(),a.J)&&this.b.quickedit_button.qa)return this.dK(!this.nI),!0;if(q.nb(this.b.quicknav_button.Ta(),a.J)&&this.b.quicknav_button.qa)return this.eK(!this.pI),!0;if(q.nb(this.b.mapedit_button.Ta(),a.J)&&this.b.mapedit_button.qa)return this.qf("/editmap"),!0;if(q.nb(this.b.npcedit_button.Ta(),a.J)&&this.b.npcedit_button.qa)return this.qf("/editnpc"),!0;if(q.nb(this.b.itemedit_button.Ta(),
a.J)&&this.b.itemedit_button.qa)return this.qf("/edititem"),!0;if(q.nb(this.b.skilledit_button.Ta(),a.J)&&this.b.skilledit_button.qa)return this.qf("/editskill"),!0;if(q.nb(this.b.signedit_button.Ta(),a.J)&&this.b.signedit_button.qa)return this.qf("/editsign"),!0;if(q.nb(this.b.scriptedit_button.Ta(),a.J)&&this.b.scriptedit_button.qa)return this.qf("/editscript"),!0;if(q.nb(this.b.warpedit_button.Ta(),a.J)&&this.b.warpedit_button.qa)return this.qf("/editwarp"),!0;if(q.nb(this.b.settings_button.Ta(),
a.J)&&this.b.settings_button.qa)return this.qf("/editsettings"),!0;if(q.nb(this.b.shopedit_button.Ta(),a.J)&&this.b.shopedit_button.qa)return this.qf("/editshop"),!0;if(q.nb(this.b.questedit_button.Ta(),a.J)&&this.b.questedit_button.qa)return this.qf("/editquest"),!0;if(q.nb(this.b.bankedit_button.Ta(),a.J)&&this.b.bankedit_button.qa)return this.qf("/editbank"),!0},fK:function(a){null==Sign||Sign.W||(Sign=null);Sign?(Sign.La(),Sign.P(),Sign=null):(Sign=new SignPanel,Sign.q(a),Sign.sa(),this.g(Sign))},
IW:function(a){null==Book||Book.W||(Book=null);Book?(Book.La(),Book.P(),Book=null):(Book=new BookPanel,Book.q(a),Book.sa(),this.g(Book))},pf:function(){},il:function(a){switch(a){case "C":B.gT()?B.YH():B.show();break;case "ENTER":B.oC()||B.$C(!0);break;case "SPACE":A.v.ea.aT();Inventory&&Inventory.uf();break;case "CTRL":A.v.ea.$S();break;case "ESC":this.CB();x.e().Yk("Login",{xI:!0,YC:!0});break;case "I":null==Inventory||Inventory.W||(Inventory=null);Inventory?(Inventory.La(),Inventory.P(),Inventory=
null):(Inventory=new InventoryPanel,Inventory.q(),Inventory.sa(),this.g(Inventory));break;case "E":null==Equipment||Equipment.W||(Equipment=null);Equipment?(Equipment.La(),Equipment.P(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.q(),Equipment.sa(),this.g(Equipment));break;case "S":null==Skills||Skills.W||(Skills=null),Skills?(Skills.La(),Skills.P(),Skills=null):(Skills=new SkillsPanel,Skills.q(),Skills.sa(),this.g(Skills))}},xC:function(a){var c=A.v.ea.Lf();A.v.ea.path=null;if(0==c.x%
1&&0==c.y%1)switch(a){case "RIGHTARROW":A.v.ea.Np(c.x+1,c.y);break;case "LEFTARROW":A.v.ea.Np(c.x-1,c.y);break;case "UPARROW":A.v.ea.Np(c.x,c.y+1);break;case "DOWNARROW":A.v.ea.Np(c.x,c.y-1)}},eK:function(a){this.pI=a;this.b.chat_button.D(a);this.b.inventory_button.D(a);this.b.equipment_button.D(a);this.b.skill_button.D(a);this.b.quicknav_button.ia(q.Ia.e().$a(!0==a?"GUI/quickmenu_opened_icon.png":"GUI/quickmenu_closed_icon.png"))},dK:function(a){this.nI=a;this.b.mapedit_button.D(a);this.b.npcedit_button.D(a);
this.b.itemedit_button.D(a);this.b.skilledit_button.D(a);this.b.signedit_button.D(a);this.b.scriptedit_button.D(a);this.b.warpedit_button.D(a);this.b.settings_button.D(a);this.b.shopedit_button.D(a);this.b.bankedit_button.D(a);this.b.questedit_button.D(a);this.b.quickedit_button.ia(q.Ia.e().$a(!0==a?"GUI/quickedit_opened_icon.png":"GUI/quickedit_closed_icon.png"))},qf:function(a){if(a)switch(q.log(a),a){case "/editscript":null==Scripteditor||Scripteditor.W||(Scripteditor=null);Scripteditor?(Scripteditor.La(),
Scripteditor.P(),Scripteditor=null):(Scripteditor=new PopupList,Scripteditor.q({h:null,eh:new ScriptEditor,list:ObjectLists.ds(),name:"Script List"}),Scripteditor.sa(),this.g(Scripteditor));break;case "/editmap":null==Eventsystem||Eventsystem.W||(Eventsystem=null);Eventsystem?(Eventsystem.La(),Eventsystem.P(),Eventsystem=null,F.Gs(null)):(Eventsystem=new Eventsystem,Eventsystem.q(),Eventsystem.sa(),this.g(Eventsystem),F.Gs(Eventsystem));break;case "/editsettings":null==Settingseditor||Settingseditor.W||
(Settingseditor=null);Settingseditor?(Settingseditor.La(),Settingseditor.P(),Settingseditor=null):(Settingseditor=new SettingsEditor,Settingseditor.q(),Settingseditor.sa(),this.g(Settingseditor));break;case "/editwarp":null==Warpeditor||Warpeditor.W||(Warpeditor=null);Warpeditor?(Warpeditor.La(),Warpeditor.P(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.q({h:null,eh:new WarpEditor,list:ObjectLists.Jm(),name:"Warp List"}),Warpeditor.sa(),this.g(Warpeditor));break;case "/editsign":null==Signeditor||
Signeditor.W||(Signeditor=null);Signeditor?(Signeditor.La(),Signeditor.P(),Signeditor=null):(Signeditor=new PopupList,Signeditor.q({h:null,eh:new SignEditor,list:ObjectLists.es(),name:"Sign List"}),Signeditor.sa(),this.g(Signeditor));break;case "/editskill":null==Skillseditor||Skillseditor.W||(Skillseditor=null);Skillseditor?(Skillseditor.La(),Skillseditor.P(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.q({h:null,eh:new SkillsEditor,list:ObjectLists.hp(),name:"Skills List"}),Skillseditor.sa(),
this.g(Skillseditor));break;case "/edititem":null==Itemeditor||Itemeditor.W||(Itemeditor=null);Itemeditor?(Itemeditor.La(),Itemeditor.P(),Itemeditor=null,F.Gs(null)):(Itemeditor=new PopupList,Itemeditor.q({h:null,eh:new ItemEditor,list:ObjectLists.Ji(),name:"Item List"}),Itemeditor.sa(),this.g(Itemeditor));break;case "/editnpc":null==NPCeditor||NPCeditor.W||(NPCeditor=null);NPCeditor?(NPCeditor.La(),NPCeditor.P(),NPCeditor=null,F.Gs(null)):(NPCeditor=new PopupList,NPCeditor.q({h:null,eh:new NPCEditor,
list:ObjectLists.Wk(),name:"NPC List"}),NPCeditor.sa(),this.g(NPCeditor));break;case "/editquest":null==Questeditor||Questeditor.W||(Questeditor=null);Questeditor?(Questeditor.La(),Questeditor.P(),Questeditor=null,F.Gs(null)):(Questeditor=new PopupList,Questeditor.q({h:null,eh:new QuestEditor,list:ObjectLists.PB(),name:"Quest List"}),Questeditor.sa(),this.g(Questeditor));break;case "/help":B.showHelp();break;case "/commands":B.JW();break;case "/diceroll":a=Math.floor(6*Math.random()+1);var c=y["/diceroll"],
c=c.replace("\x3cPLAYER\x3e",A.v.ea.getName()),c=c.replace("\x3cVALUE\x3e",a);B.Fb(c);G({diceroll:c});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";c=y["/coinflip"];c=c.replace("\x3cPLAYER\x3e",A.v.ea.getName());c=c.replace("\x3cVALUE\x3e",a);B.Fb(c);G({coinflip:c});break;case "/dance":a=y["/dance"];a=a.replace("\x3cPLAYER\x3e",A.v.ea.getName());B.Fb(a);G({dance:a});break;case "/afk":A.v.ea.updateStatus("AFK"),G({afk:!0})}},q:function(a){this._super();this.g(F.create());
ObjectLists.e();a={name:a.FK,Oi:!0,pn:{health:{Gc:1,value:100,Nf:200,Mf:900},mana:{Gc:1,value:100,Nf:200,Mf:99}},map:1,Qs:"sprites1.png",Os:1};A.create(a);F.ZP();this.b.P();this.Ip(-20);this.sc(function(){F.e().sl(a.map)});G({moveTo:A.v.ea.Lf().x+A.v.ea.Lf().y*S});this.g(B.create());this.g(za.create());this.eK(!1);this.dK(!1);this.g(this.b);this.nc(this.rD);this.nc(this.lV);Na=this},rD:function(){if(0<u.length)for(var a=0;a<u.length;a++){var c=JSON.parse(u[a]);c.moveTo&&(!A.Sh(c.id)||A.Sh(c.id)&&
!1==A.Sh(c.id).ug)?(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),u.splice(a,1))}},lV:function(){if(!0==MapMaster){var a=A.QL(),c;for(c in a)if(!1==a[c].Qw){var d=10*Math.random()+1,e=a[c].Lf();switch(Math.floor(4*Math.random())+1){case 1:e.x++;break;case 2:e.y++;break;case 3:e.x--;break;case 4:e.y--}a[c].kW(e,d)}}}});var Sa=q.ya.extend({qc:null,q2:!1,$C:function(a){a?this.qc.Wa.focus():this.qc.Wa.blur()},oC:function(){return document.activeElement==this.qc.Wa},ca:function(a){this.qc.oh(a)},TB:function(){return this.qc.ga()},q:function(){q.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.qc=q.Up.create(q.size(c.width,c.height),q.Ye.create(),h);this.qc.oh(e);this.qc.UQ=e;this.qc.LV(q.m(g.k,g.i,g.f));this.qc.nJ(q.m(f.k,f.i,f.f));this.qc.l(q.a(d.x,d.y));this.qc.R(0,1);this.qc.mh(this);
a.g(this.qc);this.q()}});var Ta=Sa.extend({mw:function(a){a.oh("")},nw:function(a,c){c||("/"==a.ga().substring(0,1)?this.bV(a.ga()):0<a.ga().length&&B.Fb(a.ga(),!0));a.oh(y["Default ChatBar Message"])},bV:function(a){x.e().cd.qf(a)},ow:function(a,c){a.oh(c);q.log("chatBox "+this.rF(a)+", TextChanged, text: "+c)},rF:function(){return"chatbox"}}),X=null,B=q.Ic.extend({Kj:null,q:function(){this.Kj=new Ta(this.b.chat_panel,q.size(this.b.chat_panel.d().width-4,25),q.a(2,this.b.chat_panel.d().height-2),y["Default ChatBar Message"],
q.m(255,255,255),q.m(0,0,0));this.Kj.qc.W.nh(this.Kj.qc.o.I+59)},JG:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].TB());this.b.chat_panel.label0.ca(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ca(c[d-1])},Fc:function(){return{panels:{children:{chat_panel:{size:q.size(400,150),Y:"GUI/chat.png",c:q.a(0,0),opacity:200,position:q.a(0,-200),children:{label7:{label:"",position:q.a(5,0),c:q.a(0,0),color:q.m(0,0,0)},label6:{label:"",position:q.a(5,15),c:q.a(0,0),color:q.m(0,
0,0)},label5:{label:"",position:q.a(5,30),c:q.a(0,0),color:q.m(0,0,0)},label4:{label:"",position:q.a(5,45),c:q.a(0,0),color:q.m(0,0,0)},label3:{label:"",position:q.a(5,60),c:q.a(0,0),color:q.m(0,0,0)},label2:{label:"",position:q.a(5,75),c:q.a(0,0),color:q.m(0,0,0)},label1:{label:"",position:q.a(5,90),c:q.a(0,0),color:q.m(0,0,0)},label0:{label:"",position:q.a(5,105),c:q.a(0,0),color:q.m(0,0,0)}}}}}}}});B.create=function(){X||(X=new B,X.b=Ha(X),X.g(X.b),X.q(),B.YH(),B.KW());return X};B.e=function(){return X};
B.Fb=function(a,c){50<a.length&&(a=a.substring(0,50)+"...");c?(G({chatMessage:a}),X.JG(A.v.ea.getName()+": "+a)):X.JG(a)};B.show=function(){X.Kj.qc.W.nh(0)};B.YH=function(){X.Kj.qc.W.nh(-X.Kj.qc.o.I+59)};B.gT=function(){return 0!=X.Kj.qc.W.o.I?!1:!0};B.$C=function(a){X.Kj.$C(a)};B.oC=function(){return X.Kj.oC()};B.showHelp=function(){B.Fb(H.de.FS);B.Fb(H.de.GS);B.Fb(H.de.HS);B.Fb(H.de.IS);B.Fb(H.de.JS)};B.JW=function(){B.Fb(H.de.DQ);B.Fb(H.de.EQ);B.Fb(H.de.FQ);B.Fb(H.de.GQ)};B.KW=function(){B.Fb(y["Welcome Message"])};
B.Ad=function(){X.b.P();X.b=null};B.Fs=function(){X.P();X=null};var $=Sa.extend({js:!1,CI:!1,hH:!1,mw:function(a){!1==this.hH&&a.oh("")},nw:function(a){null==a.ga()||""==a.ga().length&&this.CI?this.js=!0:0<!a.ga().length?(a.oh(this.qc.UQ),this.js=!1):this.js=!0},ow:function(a,c){a.oh(c);this.js=!0},rF:function(){return"name_entry"},ga:function(){return!0==this.js||!0==this.TQ?this.qc.ga():null},oh:function(a){this.qc.oh(a)},qd:function(a){this.TQ=a},Hs:function(a){this.CI=a},wJ:function(a){this.hH=a},q:function(){}});var x=q.Ic.extend({v:null,qB:null,cd:null,HG:null,q:function(){var a=q.la.e().sw();this.qB=q.va.create(q.w(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.qB.R(q.a(0,0));this.g(this.qB);w.e()&&ta?(y=sa(y,w.RB()),this.Yk("Login",{}),this.nc(this.VG)):this.nc(this.ZH)},ZH:function(){w.e()&&ta&&(this.rd(this.ZH),y=sa(y,w.RB()),this.Yk("Login",{}),this.nc(this.VG))},VG:function(){for(var a in Aa)if(!0==Aa[a]&&null!=this.cd){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;
case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));
null!=c&&this.cd.xC(c)}},Yk:function(a,c){null!=this.cd&&(this.cd.La(),this.cd.P(),this.cd=null);switch(a){case "Login":this.cd=new Login;break;case "Game":this.cd=new Ra}this.cd.IK();this.g(this.cd,1);this.cd.OV(a);this.cd.sa();this.cd.q(c)},c3:function(){return this.cd.Ec()}});x.e=function(){null==this.v&&(this.v=new x);return this.v};x.hn=function(a){null==this.v&&(this.v=new x);this.v.HG=a};x.AR=function(){null==this.v&&(this.v=new x);return this.v.HG};var W;
new (q.Yi.extend({fw:document.ccConfig,ctor:function(){this._super();q.dt=this.fw.COCOS2D_DEBUG;q.LS();q.sl(this.fw.tag);q.Hx.HW().cR()},gQ:function(){var a=this.fw,c=q.T.e(),d=q.la.e();W=d.sw();q.size(W.width,W.height);var e=q.size(W.width,W.height),f=q.ud.e();q.Yi.e();f.OJ(["res/Graphics"]);q.qh&&q.qh.e().oaa("res/Audio");c.AV(1);d.ZC(e.width,e.height,q.En.SHOW_ALL);c.Es(1/a.frameRate);a.test?q.test(a.test):(q.log("++++++++++++++++entry for game++++++++++++"),q.rT(function(a){q.ey.GC(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex","0");
document.getElementById("gameCanvas").focus();var a=x.e();q.T.e().dJ(a);a.q()})}));return!0}}));
//@ sourceMappingURL=sourcemap