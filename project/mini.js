var b,aa={yZ:"building1.png",y4:"items1.png",c9:"sprites1.png",C9:"tile_graphics.txt",D9:"tiles1.png"};var p=p||{},ba={};p.pR=function(a){var c=p.KB[ba.rH.oD];if(c){for(var d=[],e=0;e<c.length;++e)d.push({src:c[e]});a(d)}else a([])};ba={rH:{oD:"_0"}};p.KB={};p.KB[ba.rH.oD]=[];p.KB.xO=[];var io="undefined"===typeof module?{}:module.Zb;
(function(){(function(a,d){a.version="0.9.16";a.protocol=1;a.transports=[];a.j=[];a.sockets={};a.connect=function(e,f){var g=a.util.parseUri(e),h,k;d&&d.location&&(g.protocol=g.protocol||d.location.protocol.slice(0,-1),g.host=g.host||(d.document?d.document.domain:d.location.hostname),g.port=g.port||d.location.port);h=a.util.uniqueUri(g);var l={host:g.host,um:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};a.util.merge(l,f);if(l["force new connection"]||!a.sockets[h])k=
new a.Socket(l);!l["force new connection"]&&k&&(a.sockets[h]=k);k=k||a.sockets[h];return k.Co(1<g.path.length?g.path:"")}})("object"===typeof module?module.Zb:io,this);(function(a,d){var e=a.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
e.parseUri=function(a){a=f.exec(a||"");for(var c={},d=14;d--;)c[g[d]]=a[d]||"";return c};e.uniqueUri=function(a){var c=a.protocol,e=a.host;a=a.port;"document"in d?(e=e||document.domain,a=a||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",a||"https"!=c||(a=443));return(c||"http")+"://"+e+":"+(a||80)};e.query=function(a,c){var d=e.chunkQuery(a||""),f=[];e.merge(d,e.chunkQuery(c||""));for(var g in d)d.hasOwnProperty(g)&&f.push(g+"\x3d"+d[g]);return f.length?
"?"+f.join("\x26"):""};e.chunkQuery=function(a){var c={};a=a.split("\x26");for(var d=0,e=a.length,f;d<e;++d)f=a[d].split("\x3d"),f[0]&&(c[f[0]]=f[1]);return c};var h=!1;e.load=function(a){if("document"in d&&"complete"===document.readyState||h)return a();e.on(d,"load",a,!1)};e.on=function(a,c,d,e){a.attachEvent?a.attachEvent("on"+c,d):a.addEventListener&&a.addEventListener(c,d,e)};e.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!e.ua.hasCORS)return new XDomainRequest;if("undefined"!=
typeof XMLHttpRequest&&(!a||e.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(c){}return null};"undefined"!=typeof window&&e.load(function(){h=!0});e.defer=function(a){if(!e.ua.webkit||"undefined"!=typeof importScripts)return a();e.load(function(){setTimeout(a,100)})};e.merge=function(a,c,d,f){f=f||[];d="undefined"==typeof d?2:d;for(var g in c)c.hasOwnProperty(g)&&0>e.indexOf(f,g)&&("object"===typeof a[g]&&d?e.merge(a[g],
c[g],d-1,f):(a[g]=c[g],f.push(c[g])));return a};e.mixin=function(a,c){e.merge(a.prototype,c.prototype)};e.inherit=function(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d};e.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.intersect=function(a,c){for(var d=[],f=a.length>c.length?a:c,g=a.length>c.length?c:a,h=0,t=g.length;h<t;h++)~e.indexOf(f,g[h])&&d.push(g[h]);return d};e.indexOf=function(a,c,d){var e=a.length;for(d=0>d?0>d+e?0:d+e:d||
0;d<e&&a[d]!==c;d++);return e<=d?-1:d};e.toArray=function(a){for(var c=[],d=0,e=a.length;d<e;d++)c.push(a[d]);return c};e.ua={};e.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(c){return!1}return void 0!=a.withCredentials}();e.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);e.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.Zb,this);(function(a,d){function e(){}
a.EventEmitter=e;e.prototype.on=function(a,c){this.Ze||(this.Ze={});this.Ze[a]?d.util.isArray(this.Ze[a])?this.Ze[a].push(c):this.Ze[a]=[this.Ze[a],c]:this.Ze[a]=c;return this};e.prototype.NR=function(a){var c="connect";function d(){e.removeListener(c,d);a.apply(this,arguments)}var e=this;d.Pv=a;this.on(c,d)};e.prototype.removeListener=function(a,c){if(this.Ze&&this.Ze[a]){var e=this.Ze[a];if(d.util.isArray(e)){for(var k=-1,l=0,m=e.length;l<m;l++)if(e[l]===c||e[l].Pv&&e[l].Pv===c){k=l;break}if(0>
k)return this;e.splice(k,1);e.length||delete this.Ze[a]}else(e===c||e.Pv&&e.Pv===c)&&delete this.Ze[a]}return this};e.prototype.eo=function(a){if(!this.Ze)return!1;var c=this.Ze[a];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(d.util.isArray(c))for(var c=c.slice(),k=0,l=c.length;k<l;k++)c[k].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.Zb,"undefined"!=typeof io?io:module.parent.Zb);(function(a,d){function e(a){return 10>
a?"0"+a:a}function f(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function g(a,c){var d,h,k,l,r=m,N,L=c[a];L instanceof Date&&(L=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null);"function"===typeof q&&(L=q.call(c,a,L));switch(typeof L){case "string":return f(L);
case "number":return isFinite(L)?String(L):"null";case "boolean":case "null":return String(L);case "object":if(!L)return"null";m+=n;N=[];if("[object Array]"===Object.prototype.toString.apply(L)){l=L.length;for(d=0;d<l;d+=1)N[d]=g(d,L)||"null";k=0===N.length?"[]":m?"[\n"+m+N.join(",\n"+m)+"\n"+r+"]":"["+N.join(",")+"]";m=r;return k}if(q&&"object"===typeof q)for(l=q.length,d=0;d<l;d+=1)"string"===typeof q[d]&&(h=q[d],(k=g(h,L))&&N.push(f(h)+(m?": ":":")+k));else for(h in L)Object.prototype.hasOwnProperty.call(L,
h)&&(k=g(h,L))&&N.push(f(h)+(m?": ":":")+k);k=0===N.length?"{}":m?"{\n"+m+N.join(",\n"+m)+"\n"+r+"}":"{"+N.join(",")+"}";m=r;return k}}if(d&&d.parse)return a.JSON={parse:d.parse,stringify:d.stringify};var h=a.JSON={},k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,n,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},q;h.stringify=function(a,c,d){var e;n=m="";if("number"===typeof d)for(e=0;e<d;e+=1)n+=" ";else"string"===typeof d&&(n=d);if((q=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return g("",{"":a})};h.parse=function(a,c){function d(a,e){var f,g,h=a[e];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(g=d(h,f),void 0!==g?h[f]=g:delete h[f]);return c.call(a,e,h)}var e;a=String(a);
k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.Zb,"undefined"!==typeof JSON?JSON:void 0);(function(a,d){var e=
a.parser={},f=e.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=e.reasons=["transport not supported","client not handshaken","unauthorized"],h=e.advice=["reconnect"],k=d.JSON,l=d.util.indexOf;e.encodePacket=function(a){var c=l(f,a.type),d=a.id||"",e=a.zv||"",m=a.Zn,A=null;switch(a.type){case "error":var E=a.reason?l(g,a.reason):"";a=a.advice?l(h,a.advice):"";if(""!==E||""!==a)A=E+(""!==a?"+"+a:"");break;case "message":""!==a.data&&(A=a.data);break;case "event":A=
{name:a.name};a.se&&a.se.length&&(A.se=a.se);A=k.stringify(A);break;case "json":A=k.stringify(a.data);break;case "connect":a.sH&&(A=a.sH);break;case "ack":A=a.$n+(a.se&&a.se.length?"+"+k.stringify(a.se):"")}c=[c,d+("data"==m?"+":""),e];null!==A&&void 0!==A&&c.push(A);return c.join(":")};e.encodePayload=function(a){var c="";if(1==a.length)return a[0];for(var d=0,e=a.length;d<e;d++)c+="\ufffd"+a[d].length+"\ufffd"+a[d];return c};var m=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;e.decodePacket=function(a){var c=
a.match(m);if(!c)return{};var d=c[2]||"";a=c[5]||"";var e={type:f[c[1]],zv:c[4]||""};d&&(e.id=d,e.Zn=c[3]?"data":!0);switch(e.type){case "error":c=a.split("+");e.reason=g[c[0]]||"";e.advice=h[c[1]]||"";break;case "message":e.data=a||"";break;case "event":try{var l=k.parse(a);e.name=l.name;e.se=l.se}catch(A){}e.se=e.se||[];break;case "json":try{e.data=k.parse(a)}catch(E){}break;case "connect":e.sH=a||"";break;case "ack":if(c=a.match(/^([0-9]+)(\+)?(.*)/))if(e.$n=c[1],e.se=[],c[3])try{e.se=c[3]?k.parse(c[3]):
[]}catch(J){}}return e};e.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var c=[],d=1,f="";d<a.length;d++)"\ufffd"==a.charAt(d)?(c.push(e.decodePacket(a.substr(d+1).substr(0,f))),d+=Number(f)+1,f=""):f+=a.charAt(d);return c}return[e.decodePacket(a)]}})("undefined"!=typeof io?io:module.Zb,"undefined"!=typeof io?io:module.parent.Zb);(function(a,d){function e(a,c){this.bb=a;this.bT=c}a.Transport=e;d.util.mixin(e,d.EventEmitter);e.prototype.CG=function(){return!0};e.prototype.Fr=function(a){this.BA();
(this.bb.Dg||this.bb.Pf||this.bb.mm)&&this.QH();if(""!==a&&(a=d.parser.decodePayload(a))&&a.length)for(var c=0,e=a.length;c<e;c++)this.Gr(a[c])};e.prototype.Gr=function(a){this.bb.ZH();if("heartbeat"==a.type)return this.zR();"connect"==a.type&&""==a.zv&&this.qB();"error"==a.type&&"reconnect"==a.advice&&(this.ur=!1);this.bb.Gr(a);return this};e.prototype.QH=function(){if(!this.bo){var a=this;this.bo=setTimeout(function(){a.gm()},this.bb.bo)}};e.prototype.gm=function(){this.ur&&this.close();this.CA();
this.bb.gm();return this};e.prototype.qB=function(){this.bb.qB();return this};e.prototype.BA=function(){this.bo&&(clearTimeout(this.bo),this.bo=null)};e.prototype.CA=function(){this.BA();this.KS&&clearTimeout(this.KS)};e.prototype.rf=function(a){this.send(d.parser.encodePacket(a))};e.prototype.zR=function(){this.rf({type:"heartbeat"})};e.prototype.Sv=function(){this.ur=!0;this.BA();this.bb.Sv()};e.prototype.vh=function(){this.ur=!1;this.bb.vh();this.gm()};e.prototype.Ir=function(){var a=this.bb.options;
return this.scheme()+"://"+a.host+":"+a.port+"/"+a.bw+"/"+d.protocol+"/"+this.name+"/"+this.bT};e.prototype.Wv=function(a,c){c.call(this)}})("undefined"!=typeof io?io:module.Zb,"undefined"!=typeof io?io:module.parent.Zb);(function(a,d,e){function f(a){this.options={port:80,um:!1,document:"document"in e?document:!1,bw:"socket.io",transports:d.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,
"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};d.util.merge(this.options,a);this.mm=this.Pf=this.open=this.Dg=!1;this.namespaces={};this.buffer=[];this.JA=!1;if(this.options["sync disconnect on unload"]&&(!this.uo()||d.util.ua.hasCORS)){var c=this;d.util.on(e,"beforeunload",function(){c.gP()},!1)}this.options["auto connect"]&&this.connect()}function g(){}a.Socket=f;d.util.mixin(f,d.EventEmitter);f.prototype.Co=function(a){this.namespaces[a]||(this.namespaces[a]=
new d.SocketNamespace(this,a),""!==a&&this.namespaces[a].rf({type:"connect"}));return this.namespaces[a]};f.prototype.zk=function(){this.eo.apply(this,arguments);var a,c;for(c in this.namespaces)this.namespaces.hasOwnProperty(c)&&(a=this.Co(c),a.Ej.apply(a,arguments))};f.prototype.yQ=function(a){function c(d){d instanceof Error?(e.Pf=!1,e.hm(d.message)):a.apply(null,d.split(":"))}var e=this,f=this.options,f=["http"+(f.um?"s":"")+":/",f.host+":"+f.port,f.bw,d.protocol,d.util.query(this.options.query,
"t\x3d"+ +new Date)].join("/");if(this.uo()&&!d.util.ua.hasCORS){var n=document.getElementsByTagName("script")[0],r=document.createElement("script");r.src=f+"\x26jsonp\x3d"+d.j.length;n.parentNode.insertBefore(r,n);d.j.push(function(a){c(a);r.parentNode.removeChild(r)})}else{var q=d.util.request();q.open("GET",f,!0);this.uo()&&(q.withCredentials=!0);q.onreadystatechange=function(){4==q.readyState&&(q.onreadystatechange=g,200==q.status?c(q.responseText):403==q.status?e.hm(q.responseText):(e.Pf=!1,
!e.mm&&e.hm(q.responseText)))};q.send(null)}};f.prototype.tG=function(a){a=a||this.transports;for(var c=0,e;e=a[c];c++)if(d.Transport[e]&&d.Transport[e].Sl(this)&&(!this.uo()||d.Transport[e].gs(this)))return new d.Transport[e](this,this.IH);return null};f.prototype.connect=function(a){if(this.Pf)return this;var c=this;c.Pf=!0;this.yQ(function(e,f,g,r){function q(a){c.Ae&&c.Ae.CA();c.Ae=c.tG(a);c.Ae?c.Ae.Wv(c,function(){c.Pf=!0;c.zk("connecting",c.Ae.name);c.Ae.open();c.options["connect timeout"]&&
(c.RO=setTimeout(function(){if(!c.Dg&&(c.Pf=!1,c.options["try multiple transports"])){for(var a=c.transports;0<a.length&&a.splice(0,1)[0]!=c.Ae.name;);a.length?q(a):c.zk("connect_failed")}},c.options["connect timeout"]))}):c.zk("connect_failed")}c.IH=e;c.bo=1E3*g;c.CQ=1E3*f;c.transports||(c.transports=c.OR=r?d.util.intersect(r.split(","),c.options.transports):c.options.transports);c.ZH();q(c.transports);c.NR(function(){clearTimeout(c.RO);a&&"function"==typeof a&&a()})});return this};f.prototype.ZH=
function(){clearTimeout(this.BG);if(!this.Ae||this.Ae.CG()){var a=this;this.BG=setTimeout(function(){a.Ae.vh()},this.CQ)}};f.prototype.rf=function(a){this.Dg&&!this.JA?this.Ae.rf(a):this.buffer.push(a);return this};f.prototype.yj=function(a){this.JA=a;!a&&this.Dg&&this.buffer.length&&(this.options.manualFlush||this.xP())};f.prototype.xP=function(){this.Ae.kH(this.buffer);this.buffer=[]};f.prototype.disconnect=function(){if(this.Dg||this.Pf)this.open&&this.Co("").rf({type:"disconnect"}),this.gm("booted");
return this};f.prototype.gP=function(){var a=d.util.request();a.open("GET",["http"+(this.options.um?"s":"")+":/",this.options.host+":"+this.options.port,this.options.bw,d.protocol,"",this.IH].join("/")+"/?disconnect\x3d1",!1);a.send(null);this.gm("booted")};f.prototype.uo=function(){var a=e.location.port||("https:"==e.location.protocol?443:80);return this.options.host!==e.location.hostname||this.options.port!=a};f.prototype.qB=function(){this.Dg||(this.Dg=!0,this.Pf=!1,this.JA||this.yj(!1),this.eo("connect"))};
f.prototype.Sv=function(){this.open=!0};f.prototype.vh=function(){this.open=!1;clearTimeout(this.BG)};f.prototype.Gr=function(a){this.Co(a.zv).Gr(a)};f.prototype.hm=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.Dg||this.Pf)&&(this.disconnect(),this.options.Xv&&this.Xv());this.zk("error",a&&a.reason?a.reason:a)};f.prototype.gm=function(a){var c=this.Dg,d=this.Pf;this.open=this.Pf=this.Dg=!1;if(c||d)this.Ae.close(),this.Ae.CA(),c&&(this.zk("disconnect",a),"booted"!=a&&this.options.Xv&&!this.mm&&
this.Xv())};f.prototype.Xv=function(){function a(){if(d.Dg){for(var e in d.namespaces)d.namespaces.hasOwnProperty(e)&&""!==e&&d.namespaces[e].rf({type:"connect"});d.zk("reconnect",d.Ae.name,d.Yv)}clearTimeout(d.Zv);d.removeListener("connect_failed",c);d.removeListener("connect",c);d.mm=!1;delete d.Yv;delete d.nm;delete d.Zv;delete d.wH;d.options["try multiple transports"]=f}function c(){if(d.mm){if(d.Dg)return a();if(d.Pf&&d.mm)return d.Zv=setTimeout(c,1E3);d.Yv++>=e?d.wH?(d.zk("reconnect_failed"),
a()):(d.on("connect_failed",c),d.options["try multiple transports"]=!0,d.transports=d.OR,d.Ae=d.tG(),d.wH=!0,d.connect()):(d.nm<g&&(d.nm*=2),d.connect(),d.zk("reconnecting",d.nm,d.Yv),d.Zv=setTimeout(c,d.nm))}}this.mm=!0;this.Yv=0;this.nm=this.options["reconnection delay"];var d=this,e=this.options["max reconnection attempts"],f=this.options["try multiple transports"],g=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.Zv=setTimeout(c,this.nm);this.on("connect",c)}})("undefined"!=
typeof io?io:module.Zb,"undefined"!=typeof io?io:module.parent.Zb,this);(function(a,d){function e(a,c){this.bb=a;this.name=c||"";this.Bv={};this.gR=new f(this,"json");this.uF=0;this.Zq={}}function f(a,c){this.Bo=a;this.name=c}a.SocketNamespace=e;d.util.mixin(e,d.EventEmitter);e.prototype.Ej=d.EventEmitter.prototype.eo;e.prototype.Co=function(){return this.bb.Co.apply(this.bb,arguments)};e.prototype.rf=function(a){a.zv=this.name;this.bb.rf(a);this.Bv={};return this};e.prototype.send=function(a,c){var d=
{type:this.Bv.gR?"json":"message",data:a};"function"==typeof c&&(d.id=++this.uF,d.Zn=!0,this.Zq[d.id]=c);return this.rf(d)};e.prototype.eo=function(a){var c=Array.prototype.slice.call(arguments,1),d=c[c.length-1],e={type:"event",name:a};"function"==typeof d&&(e.id=++this.uF,e.Zn="data",this.Zq[e.id]=d,c=c.slice(0,c.length-1));e.se=c;return this.rf(e)};e.prototype.disconnect=function(){""===this.name?this.bb.disconnect():(this.rf({type:"disconnect"}),this.Ej("disconnect"));return this};e.prototype.Gr=
function(a){function c(){e.rf({type:"ack",se:d.util.toArray(arguments),$n:a.id})}var e=this;switch(a.type){case "connect":this.Ej("connect");break;case "disconnect":""===this.name?this.bb.gm(a.reason||"booted"):this.Ej("disconnect",a.reason);break;case "message":case "json":var f=["message",a.data];"data"==a.Zn?f.push(c):a.Zn&&this.rf({type:"ack",$n:a.id});this.Ej.apply(this,f);break;case "event":f=[a.name].concat(a.se);"data"==a.Zn&&f.push(c);this.Ej.apply(this,f);break;case "ack":this.Zq[a.$n]&&
(this.Zq[a.$n].apply(this,a.se),delete this.Zq[a.$n]);break;case "error":a.advice?this.bb.hm(a):"unauthorized"==a.reason?this.Ej("connect_failed",a.reason):this.Ej("error",a.reason)}};f.prototype.send=function(){this.Bo.Bv[this.name]=!0;this.Bo.send.apply(this.Bo,arguments)};f.prototype.eo=function(){this.Bo.Bv[this.name]=!0;this.Bo.eo.apply(this.Bo,arguments)}})("undefined"!=typeof io?io:module.Zb,"undefined"!=typeof io?io:module.parent.Zb);(function(a,d,e){function f(a){d.Transport.apply(this,arguments)}
a.eg=f;d.util.inherit(f,d.Transport);f.prototype.name="websocket";f.prototype.open=function(){var a=d.util.query(this.bb.options.query),c=this,f;f||(f=e.EW||e.PK);this.eg=new f(this.Ir()+a);this.eg.onopen=function(){c.Sv();c.bb.yj(!1)};this.eg.onmessage=function(a){c.Fr(a.data)};this.eg.onclose=function(){c.vh();c.bb.yj(!0)};this.eg.onerror=function(a){c.hm(a)};return this};f.prototype.send=d.util.ua.iDevice?function(a){var c=this;setTimeout(function(){c.eg.send(a)},0);return this}:function(a){this.eg.send(a);
return this};f.prototype.kH=function(a){for(var c=0,d=a.length;c<d;c++)this.rf(a[c]);return this};f.prototype.close=function(){this.eg.close();return this};f.prototype.hm=function(a){this.bb.hm(a)};f.prototype.scheme=function(){return this.bb.options.um?"wss":"ws"};f.Sl=function(){return"WebSocket"in e&&!("__addTask"in WebSocket)||"MozWebSocket"in e};f.gs=function(){return!0};d.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.Zb,"undefined"!=typeof io?io:module.parent.Zb,
this);(function(c,d){function e(){d.Transport.eg.apply(this,arguments)}c.G_=e;d.util.inherit(e,d.Transport.eg);e.prototype.name="flashsocket";e.prototype.open=function(){var a=this,c=arguments;WebSocket.ut(function(){d.Transport.eg.prototype.open.apply(a,c)});return this};e.prototype.send=function(){var a=this,c=arguments;WebSocket.ut(function(){d.Transport.eg.prototype.send.apply(a,c)});return this};e.prototype.close=function(){WebSocket.pp.length=0;d.Transport.eg.prototype.close.call(this);return this};
e.prototype.Wv=function(a,c){function h(){var d=a.options,h=d["flash policy port"],n=["http"+(d.um?"s":"")+":/",d.host+":"+d.port,d.bw,"static/flashsocket","WebSocketMain"+(a.uo()?"Insecure":"")+".swf"];e.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=n.join("/")),843!==h&&WebSocket.oR("xmlsocket://"+d.host+":"+h),WebSocket.Px(),e.loaded=!0);c.call(k)}var k=this;if(document.body)return h();d.util.load(h)};e.Sl=function(){return"undefined"!=typeof WebSocket&&"__initialize"in
WebSocket&&a?10<=a.IP().tR:!1};e.gs=function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);d.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.Zb,"undefined"!=typeof io?io:module.parent.Zb);if("undefined"!=typeof window)var a=function(){function c(){if(!ea){try{var a=D.getElementsByTagName("body")[0].appendChild(D.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}ea=!0;for(var a=na.length,d=0;d<a;d++)na[d]()}}function d(a){ea?
a():na[na.length]=a}function e(a){if(typeof R.addEventListener!=G)R.addEventListener("load",a,!1);else if(typeof D.addEventListener!=G)D.addEventListener("load",a,!1);else if(typeof R.attachEvent!=G)y(R,a);else if("function"==typeof R.onload){var c=R.onload;R.onload=function(){c();a()}}else R.onload=a}function f(){var a=D.getElementsByTagName("body")[0],c=D.createElement(N);c.setAttribute("type",L);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=G){var f=d.GetVariable("$version");
f&&(f=f.split(" ")[1].split(","),z.Go=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>e){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;g()})()}else g()}function g(){var a=ca.length;if(0<a)for(var c=0;c<a;c++){var d=ca[c].id,e=ca[c].BO,f={xm:!1,id:d};if(0<z.Go[0]){var g=t(d);if(g)if(!A(ca[c].DU)||z.Dj&&312>z.Dj)if(ca[c].YF&&k()){f={};f.data=ca[c].YF;f.width=g.getAttribute("width")||"0";f.height=g.getAttribute("height")||"0";g.getAttribute("class")&&(f.i9=g.getAttribute("class"));
g.getAttribute("align")&&(f.align=g.getAttribute("align"));for(var n={},g=g.getElementsByTagName("param"),q=g.length,r=0;r<q;r++)"movie"!=g[r].getAttribute("name").toLowerCase()&&(n[g[r].getAttribute("name")]=g[r].getAttribute("value"));l(f,n,d,e)}else m(g),e&&e(f);else J(d,!0),e&&(f.xm=!0,f.xH=h(d),e(f))}else J(d,!0),e&&((d=h(d))&&typeof d.SetVariable!=G&&(f.xm=!0,f.xH=d),e(f))}}function h(a){var c=null;(a=t(a))&&"OBJECT"==a.nodeName&&(typeof a.SetVariable!=G?c=a:(a=a.getElementsByTagName(N)[0])&&
(c=a));return c}function k(){return!oa&&A("6.0.65")&&(z.Rg||z.YG)&&!(z.Dj&&312>z.Dj)}function l(a,c,d,e){oa=!0;va=e||null;Ea={xm:!1,id:d};var f=t(d);if(f){"OBJECT"==f.nodeName?(ma=n(f),pa=null):(ma=f,pa=d);a.id=ia;if(typeof a.width==G||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==G||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";D.title=D.title.slice(0,47)+" - Flash Player Installation";e=z.Hg&&z.Rg?["Active"].concat("").join("X"):"PlugIn";e="MMredirectURL\x3d"+
R.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+e+"\x26MMdoctitle\x3d"+D.title;c.dr=typeof c.dr!=G?c.dr+("\x26"+e):e;z.Hg&&z.Rg&&4!=f.readyState&&(e=D.createElement("div"),d+="SWFObjectNew",e.setAttribute("id",d),f.parentNode.insertBefore(e,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}());r(a,c,d)}}function m(a){if(z.Hg&&z.Rg&&4!=a.readyState){var c=D.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(n(a),
c);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(n(a),a)}function n(a){var c=D.createElement("div");if(z.Rg&&z.Hg)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(N)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)1==a[e].nodeType&&"PARAM"==a[e].nodeName||8==a[e].nodeType||c.appendChild(a[e].cloneNode(!0));return c}function r(a,c,d){var e,f=t(d);if(z.Dj&&312>z.Dj)return e;if(f)if(typeof a.id==
G&&(a.id=d),z.Hg&&z.Rg){var g="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?c.Z4=a[h]:"styleclass"==h.toLowerCase()?g+=' class\x3d"'+a[h]+'"':"classid"!=h.toLowerCase()&&(g+=" "+h+'\x3d"'+a[h]+'"'));h="";for(var k in c)c[k]!=Object.prototype[k]&&(h+='\x3cparam name\x3d"'+k+'" value\x3d"'+c[k]+'" /\x3e');f.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+"\x3e"+h+"\x3c/object\x3e";qa[qa.length]=a.id;e=t(a.id)}else{k=D.createElement(N);k.setAttribute("type",
L);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?k.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&k.setAttribute(l,a[l]));for(g in c)c[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=k,h=g,l=c[g],d=D.createElement("param"),d.setAttribute("name",h),d.setAttribute("value",l),a.appendChild(d));f.parentNode.replaceChild(k,f);e=k}return e}function q(a){var c=t(a);c&&"OBJECT"==c.nodeName&&(z.Hg&&z.Rg?(c.style.display="none",function(){if(4==c.readyState){var d=t(a);
if(d){for(var e in d)"function"==typeof d[e]&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function t(a){var c=null;try{c=D.getElementById(a)}catch(d){}return c}function y(a,c){a.attachEvent("onload",c);ja[ja.length]=[a,"onload",c]}function A(a){var c=z.Go;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function E(a,
c,d,e){if(!z.Hg||!z.YG){var f=D.getElementsByTagName("head")[0];f&&(d=d&&"string"==typeof d?d:"screen",e&&(wa=$=null),$&&wa==d||(e=D.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),$=f.appendChild(e),z.Hg&&z.Rg&&typeof D.styleSheets!=G&&0<D.styleSheets.length&&($=D.styleSheets[D.styleSheets.length-1]),wa=d),z.Hg&&z.Rg?$&&typeof $.addRule==N&&$.addRule(a,c):$&&typeof D.createTextNode!=G&&$.appendChild(D.createTextNode(a+" {"+c+"}")))}}function J(a,c){if(Fa){var d=
c?"visible":"hidden";ea&&t(a)?t(a).style.visibility=d:E("#"+a,"visibility:"+d)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=G?encodeURIComponent(a):a}var G="undefined",N="object",L="application/x-shockwave-flash",ia="SWFObjectExprInst",R=window,D=document,da=navigator,Ga=!1,na=[function(){Ga?f():g()}],ca=[],qa=[],ja=[],ma,pa,va,Ea,ea=!1,oa=!1,$,wa,Fa=!0,z=function(){var a=typeof D.getElementById!=G&&typeof D.getElementsByTagName!=G&&typeof D.createElement!=G,c=da.userAgent.toLowerCase(),
d=da.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\v1",g=[0,0,0],h=null;if(typeof da.plugins!=G&&typeof da.plugins["Shockwave Flash"]==N)!(h=da.plugins["Shockwave Flash"].description)||typeof da.mimeTypes!=G&&da.mimeTypes[L]&&!da.mimeTypes[L].enabledPlugin||(Ga=!0,f=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,
"$1"),10),g[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof R[["Active"].concat("Object").join("X")]!=G)try{var k=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(f=!0,h=h.split(" ")[1].split(","),g=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(l){}return{Jk:a,Go:g,Dj:c,Hg:f,Rg:e,YG:d}}();(function(){z.Jk&&((typeof D.readyState!=G&&"complete"==D.readyState||typeof D.readyState==
G&&(D.getElementsByTagName("body")[0]||D.body))&&c(),ea||(typeof D.addEventListener!=G&&D.addEventListener("DOMContentLoaded",c,!1),z.Hg&&z.Rg&&(D.attachEvent("onreadystatechange",function(){"complete"==D.readyState&&(D.detachEvent("onreadystatechange",arguments.callee),c())}),R==top&&function(){if(!ea){try{D.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}c()}}()),z.Dj&&function(){ea||(/loaded|complete/.test(D.readyState)?c():setTimeout(arguments.callee,0))}(),e(c)))})();
(function(){z.Hg&&z.Rg&&window.attachEvent("onunload",function(){for(var c=ja.length,d=0;d<c;d++)ja[d][0].detachEvent(ja[d][1],ja[d][2]);c=qa.length;for(d=0;d<c;d++)q(qa[d]);for(var e in z)z[e]=null;z=null;for(var f in a)a[f]=null;a=null})})();return{j6:function(a,c,d,e){if(z.Jk&&a&&c){var f={};f.id=a;f.DU=c;f.YF=d;f.BO=e;ca[ca.length]=f;J(a,!1)}else e&&e({xm:!1,id:a})},C1:function(a){if(z.Jk)return h(a)},rP:function(a,c,e,f,g,h,m,n,q,t){var y={xm:!1,id:c};z.Jk&&!(z.Dj&&312>z.Dj)&&a&&c&&e&&f&&g?(J(c,
!1),d(function(){e+="";f+="";var d={};if(q&&typeof q===N)for(var z in q)d[z]=q[z];d.data=a;d.width=e;d.height=f;z={};if(n&&typeof n===N)for(var E in n)z[E]=n[E];if(m&&typeof m===N)for(var D in m)z.dr=typeof z.dr!=G?z.dr+("\x26"+D+"\x3d"+m[D]):D+"\x3d"+m[D];if(A(g))E=r(d,z,c),d.id==c&&J(c,!0),y.xm=!0,y.xH=E;else{if(h&&k()){d.data=h;l(d,z,c,t);return}J(c,!0)}t&&t(y)})):t&&t(y)},q9:function(){Fa=!1},ua:z,IP:function(){return{tR:z.Go[0],V4:z.Go[1],GB:z.Go[2]}},zQ:A,VZ:function(a,c,d){if(z.Jk)return r(a,
c,d)},Z8:function(a,c,d,e){z.Jk&&k()&&l(a,c,d,e)},x6:function(a){z.Jk&&q(a)},UZ:function(a,c,d,e){z.Jk&&E(a,c,d,e)},WY:d,$Y:e,h2:function(a){var c=D.location.search||D.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Y(c);for(var c=c.split("\x26"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("\x3d"))==a)return Y(c[d].substring(c[d].indexOf("\x3d")+1))}return""},q_:function(){if(oa){var a=t(ia);a&&ma&&(a.parentNode.replaceChild(ma,a),pa&&(J(pa,!0),z.Hg&&z.Rg&&(ma.style.display=
"block")),va&&va(Ea));oa=!1}}}}();(function(){if("undefined"!=typeof window&&!window.PK){var c=window.console;c&&c.log&&c.error||(c={log:function(){},error:function(){}});a.zQ("10.0.0")?("file:"==location.protocol&&c.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,c,f,g,h){var k=this;k.wt=WebSocket.WK++;WebSocket.HD[k.wt]=k;k.readyState=WebSocket.CONNECTING;k.bufferedAmount=
0;k.Pm={};c?"string"==typeof c&&(c=[c]):c=[];setTimeout(function(){WebSocket.ut(function(){WebSocket.Kh.create(k.wt,a,c,f||null,g||0,h||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.Kh.send(this.wt,encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.yC&&
(this.readyState=WebSocket.yC,WebSocket.Kh.close(this.wt))},WebSocket.prototype.addEventListener=function(a,c){a in this.Pm||(this.Pm[a]=[]);this.Pm[a].push(c)},WebSocket.prototype.removeEventListener=function(a,c){if(a in this.Pm)for(var f=this.Pm[a],g=f.length-1;0<=g;--g)if(f[g]===c){f.splice(g,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var c=this.Pm[a.type]||[],f=0;f<c.length;++f)c[f](a);(c=this["on"+a.type])&&c(a)},WebSocket.prototype.TK=function(a){"readyState"in a&&(this.readyState=
a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.FD(a.type);else if("close"==a.type)a=this.FD("close");else if("message"==a.type)a=this.RK(decodeURIComponent(a.message));else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.FD=function(a){if(document.createEvent&&window.bW){var c=document.createEvent("Event");c.initEvent(a,!1,!1);return c}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.RK=function(a){if(document.createEvent&&
window.BW&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,a,null,null,window,null);return c}return{type:"message",data:a,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.yC=2,WebSocket.CLOSED=3,WebSocket.Kh=null,WebSocket.HD={},WebSocket.pp=[],WebSocket.WK=0,WebSocket.oR=function(a){WebSocket.ut(function(){WebSocket.Kh.Q4(a)})},WebSocket.Px=function(){if(!WebSocket.Kh&&(WebSocket.YK&&(window.OK=WebSocket.YK),window.OK)){var d=
document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";WebSocket.VK()?(d.style.left="0px",d.style.top="0px"):(d.style.left="-100px",d.style.top="-100px");var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);a.rP(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{v3:!0,t9:!0,mZ:"always"},null,function(a){a.xm||c.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.dY=function(){setTimeout(function(){WebSocket.Kh=
document.getElementById("webSocketFlash");WebSocket.Kh.X6(location.href);WebSocket.Kh.g7(!!window.PX);for(var a=0;a<WebSocket.pp.length;++a)WebSocket.pp[a]();WebSocket.pp=[]},0)},WebSocket.cY=function(){setTimeout(function(){try{for(var a=WebSocket.Kh.e6(),e=0;e<a.length;++e)WebSocket.HD[a[e].Z9].TK(a[e])}catch(f){c.error(f)}},0);return!0},WebSocket.bY=function(a){c.log(decodeURIComponent(a))},WebSocket.aY=function(a){c.error(decodeURIComponent(a))},WebSocket.ut=function(a){WebSocket.Kh?a():WebSocket.pp.push(a)},
WebSocket.VK=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename?a.enabledPlugin.filename.match(/flashlite/i)?!0:!1:!1},window.QX||(window.addEventListener?window.addEventListener("load",function(){WebSocket.Px()},!1):window.attachEvent("onload",function(){WebSocket.Px()}))):c.error("Flash Player \x3e\x3d 10.0.0 is required.")}})();(function(a,d,e){function f(a){a&&
d.Transport.apply(this,arguments)}function g(){}a.Gi=f;d.util.inherit(f,d.Transport);f.prototype.open=function(){this.bb.yj(!1);this.Sv();this.get();this.QH();return this};f.prototype.kH=function(a){for(var c=[],e=0,f=a.length;e<f;e++)c.push(d.parser.encodePacket(a[e]));this.send(d.parser.encodePayload(c))};f.prototype.send=function(a){this.pH(a);return this};f.prototype.pH=function(a){function c(){4==this.readyState&&(this.onreadystatechange=g,f.X5=!1,200==this.status?f.bb.yj(!1):f.vh())}function d(){this.onload=
g;f.bb.yj(!1)}var f=this;this.bb.yj(!0);this.Kr=this.request("POST");e.XDomainRequest&&this.Kr instanceof XDomainRequest?this.Kr.onload=this.Kr.onerror=d:this.Kr.onreadystatechange=c;this.Kr.send(a)};f.prototype.close=function(){this.vh();return this};f.prototype.request=function(a){var c=d.util.request(this.bb.uo()),e=d.util.query(this.bb.options.query,"t\x3d"+ +new Date);c.open(a||"GET",this.Ir()+e,!0);if("POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8"):
c.contentType="text/plain"}catch(f){}return c};f.prototype.scheme=function(){return this.bb.options.um?"https":"http"};f.Sl=function(a,c){try{var f=d.util.request(c),g=e.XDomainRequest&&f instanceof XDomainRequest,n=a&&a.options&&a.options.um?"https:":"http:",r=e.location&&n!=e.location.protocol;if(f&&(!g||!r))return!0}catch(q){}return!1};f.gs=function(a){return f.Sl(a,!0)}})("undefined"!=typeof io?io.Transport:module.Zb,"undefined"!=typeof io?io:module.parent.Zb,this);(function(a,d){function e(a){d.Transport.Gi.apply(this,
arguments)}a.x3=e;d.util.inherit(e,d.Transport.Gi);e.prototype.name="htmlfile";e.prototype.get=function(){this.uk=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.uk.open();this.uk.write("\x3chtml\x3e\x3c/html\x3e");this.uk.close();this.uk.parentWindow.Bh=this;var a=this.uk.createElement("div");a.className="socketio";this.uk.body.appendChild(a);this.Uf=this.uk.createElement("iframe");a.appendChild(this.Uf);var c=this,a=d.util.query(this.bb.options.query,"t\x3d"+ +new Date);this.Uf.src=
this.Ir()+a;d.util.on(window,"unload",function(){c.gd()})};e.prototype.CD=function(a,c){a=a.replace(/\\\//g,"/");this.Fr(a);try{var d=c.getElementsByTagName("script")[0];d.parentNode.removeChild(d)}catch(e){}};e.prototype.gd=function(){if(this.Uf){try{this.Uf.src="about:blank"}catch(a){}this.uk=null;this.Uf.parentNode.removeChild(this.Uf);this.Uf=null;CollectGarbage()}};e.prototype.close=function(){this.gd();return d.Transport.Gi.prototype.close.call(this)};e.Sl=function(a){if("undefined"!=typeof window&&
["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&d.Transport.Gi.Sl(a)}catch(c){}return!1};e.gs=function(){return!1};d.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.Zb,"undefined"!=typeof io?io:module.parent.Zb);(function(a,d,e){function f(){d.Transport.Gi.apply(this,arguments)}function g(){}a["xhr-polling"]=f;d.util.inherit(f,d.Transport.Gi);d.util.merge(f,d.Transport.Gi);f.prototype.name="xhr-polling";
f.prototype.CG=function(){return!1};f.prototype.open=function(){d.Transport.Gi.prototype.open.call(this);return!1};f.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=g,200==this.status?(f.Fr(this.responseText),f.get()):f.vh())}function c(){this.onerror=this.onload=g;f.LB=1;f.Fr(this.responseText);f.get()}function d(){f.LB++;!f.LB||3<f.LB?f.vh():f.get()}if(this.ur){var f=this;this.Dh=this.request();e.XDomainRequest&&this.Dh instanceof XDomainRequest?(this.Dh.onload=
c,this.Dh.onerror=d):this.Dh.onreadystatechange=a;this.Dh.send(null)}};f.prototype.vh=function(){d.Transport.Gi.prototype.vh.call(this);if(this.Dh){this.Dh.onreadystatechange=this.Dh.onload=this.Dh.onerror=g;try{this.Dh.abort()}catch(a){}this.Dh=null}};f.prototype.Wv=function(a,c){var e=this;d.util.defer(function(){c.call(e)})};d.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.Zb,"undefined"!=typeof io?io:module.parent.Zb,this);(function(a,d,e){function f(a){d.Transport["xhr-polling"].apply(this,
arguments);this.index=d.j.length;var c=this;d.j.push(function(a){c.CD(a)})}var g=e.document&&"MozAppearance"in e.document.documentElement.style;a["jsonp-polling"]=f;d.util.inherit(f,d.Transport["xhr-polling"]);f.prototype.name="jsonp-polling";f.prototype.pH=function(a){function c(){e();f.bb.yj(!1)}function e(){f.Uf&&f.form.removeChild(f.Uf);try{y=document.createElement('\x3ciframe name\x3d"'+f.bB+'"\x3e')}catch(a){y=document.createElement("iframe"),y.name=f.bB}y.id=f.bB;f.form.appendChild(y);f.Uf=
y}var f=this,g=d.util.query(this.bb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);if(!this.form){var r=document.createElement("form"),q=document.createElement("textarea"),t=this.bB="socketio_iframe_"+this.index,y;r.className="socketio";r.style.position="absolute";r.style.top="0px";r.style.left="0px";r.style.display="none";r.target=t;r.method="POST";r.setAttribute("accept-charset","utf-8");q.name="d";r.appendChild(q);document.body.appendChild(r);this.form=r;this.uO=q}this.form.action=this.Ir()+
g;e();this.uO.value=d.JSON.stringify(a);try{this.form.submit()}catch(A){}this.Uf.attachEvent?y.onreadystatechange=function(){"complete"==f.Uf.readyState&&c()}:this.Uf.onload=c;this.bb.yj(!0)};f.prototype.get=function(){var a=this,c=document.createElement("script"),e=d.util.query(this.bb.options.query,"t\x3d"+ +new Date+"\x26i\x3d"+this.index);this.Bb&&(this.Bb.parentNode.removeChild(this.Bb),this.Bb=null);c.async=!0;c.src=this.Ir()+e;c.onerror=function(){a.vh()};e=document.getElementsByTagName("script")[0];
e.parentNode.insertBefore(c,e);this.Bb=c;g&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.CD=function(a){this.Fr(a);this.ur&&this.get();return this};f.prototype.Wv=function(a,c){var e=this;if(!g)return c.call(this);d.util.load(function(){c.call(e)})};f.Sl=function(){return"document"in e};f.gs=function(){return!0};d.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.Zb,"undefined"!=
typeof io?io:module.parent.Zb,this);"function"===typeof define&&define.nZ&&define([],function(){return io})})();p=p||{};function s(){return arguments.callee.name||arguments.callee.toString().match(/^function ([^(]+)/)[1]}s.id=0|998*Math.random();s.XQ=0|998*Math.random();
s.HF=function(a,c,d){for(var e=a.toString(),f=e.indexOf("("),g=e.indexOf(")"),f=e.substring(f+1,g),f=f.trim(),g=e.indexOf("{"),e=e.substring(g+1,e.lastIndexOf("}"));-1!=e.indexOf("this._super");)var g=e.indexOf("this._super"),h=e.indexOf("(",g),k=e.indexOf(")",h),k=e.substring(h+1,k),k=(k=k.trim())?",":"",l=arguments.callee.mJ(),e=e.substring(0,g)+l+"["+d+"]."+c+".call(this"+k+e.substring(h+1);return Function(f,e)};s.HF.mJ=s;s.TP=function(){return this.id++};s.UP=function(){return this.XQ++};
(function(){var a=/\b_super\b/,c=document.ccConfig&&document.ccConfig.CLASS_RELEASE_MODE?document.ccConfig.CLASS_RELEASE_MODE:null;c&&console.log("release Mode");p.oa=function(){};p.oa.extend=function(d){function e(){this.Lb=s.UP();this.ctor&&this.ctor.apply(this,arguments)}var f=this.prototype,g=Object.create(f),h=s.TP();s[h]=f;var k={writable:!0,enumerable:!1,configurable:!0},l;for(l in d)c&&"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=s.HF(d[l],l,h),Object.defineProperty(g,
l,k)):"function"==typeof d[l]&&"function"==typeof f[l]&&a.test(d[l])?(k.value=function(a,c){return function(){var d=this._super;this._super=f[a];var e=c.apply(this,arguments);this._super=d;return e}}(l,d[l]),Object.defineProperty(g,l,k)):"function"==typeof d[l]?(k.value=d[l],Object.defineProperty(g,l,k)):g[l]=d[l];g.Lb=null;e.id=h;k.value=h;Object.defineProperty(g,"__pid",k);e.prototype=g;k.value=e;Object.defineProperty(e.prototype,"constructor",k);e.extend=arguments.callee;e.z3=function(a){for(var c in a)g[c]=
a[c]};return e};Function.prototype.bind=Function.prototype.bind||function(a){var c=this;return function(){var f=Array.prototype.slice.call(arguments);return c.apply(a||null,f)}}})();p.B3=function(a,c){function d(){}d.prototype=c.prototype;a.Bw=c.prototype;a.prototype=new d;a.prototype.constructor=a};
p.xO=function(a,c,d){var e=arguments.callee.caller;if(e.Bw)return ret=e.Bw.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=!1,h=a.constructor;h;h=h.Bw&&h.Bw.constructor)if(h.prototype[c]===e)g=!0;else if(g)return h.prototype[c].apply(a,f);if(a[c]===e)return a.constructor.prototype[c].apply(a,f);throw Error("cc.base called from a method of one name to a method of a different name");};
p.QZ=function(a,c){a||(a={});for(var d in c)a[d]=c[d];return a};p.hg=function(a,c){this.x=a||0;this.y=c||0};p.DD=function(a,c){this.A=a||0;this.I=c||0;this.vI=function(a){this.A=a};this.wI=function(a){this.I=a}};p.Sc=function(){return new p.DD(0,0)};
Object.defineProperties(p.DD.prototype,{x:{get:function(){return this.A},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0},y:{get:function(){return this.I},set:function(){console.warn("Warning of _PointConst: Modification to const or private property is forbidden")},enumerable:!0}});p.TW=function(a,c){p.log("cc.PointMake will be deprecated sooner or later. Use cc.p instead.");return new p.hg(a,c)};
p.a=function(a,c){return{x:a,y:c}};p.DY=p.a;p.Ci=function(){return p.a(0,0)};p.mH=function(a,c){return a&&c?a.x===c.x&&a.y===c.y:!1};p.Lj=function(a,c){this.width=a||0;this.height=c||0};p.ED=function(a,c){this.sa=a||0;this.ea=c||0;this.eC=function(a){this.sa=a};this.TB=function(a){this.ea=a}};p.xl=function(){return new p.ED(0,0)};
Object.defineProperties(p.ED.prototype,{width:{get:function(){return this.sa},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0},height:{get:function(){return this.ea},set:function(){console.warn("Warning of _SizeConst: Modification to const or private property is forbidden")},enumerable:!0}});p.xX=function(a,c){p.log("cc.SizeMake will be deprecated sooner or later. Use cc.size instead.");return p.size(a,c)};
p.size=function(a,c){return{width:a,height:c}};p.Na=p.size;p.Tk=function(){return p.size(0,0)};p.tF={ZR:p.Sc(),uU:p.xl()};Object.defineProperties(p,{kK:{get:function(){return p.tF.ZR}},uK:{get:function(){return p.tF.uU}},YW:{get:function(){return p.rect(0,0,0,0)}}});p.tU=function(a,c){return a&&c?a.width==c.width&&a.height==c.height:!1};
p.zf=function(a,c,d,e){var f=arguments.length;if(4===f)this.Gc=new p.hg(a||0,c||0),this.Na=new p.Lj(d||0,e||0);else if(1===f)this.Gc=new p.hg(a.Gc.x,a.Gc.y),this.Na=new p.Lj(a.Na.width,a.Na.height);else if(0===f)this.Gc=new p.hg(0,0),this.Na=new p.Lj(0,0);else if(2===f)this.Gc=new p.hg(a.x,a.y),this.Na=new p.Lj(c.width,c.height);else throw"unknown argument type";};p.eX=function(a,c,d,e){p.log("cc.RectMake will be deprecated sooner or later. Use cc.rect instead.");return p.rect(a,c,d,e)};
p.rect=function(a,c,d,e){var f=arguments.length;if(0===f)return new p.zf(0,0,0,0);if(1===f)return new p.zf(a.x,a.y,a.width,a.height);if(2===f)return new p.zf(a.x,a.y,c.width,c.height);if(4===f)return new p.zf(a,c,d,e);throw"unknown argument type";};p.ka=p.rect;p.Dc=function(){return p.rect(0,0,0,0)};p.vH=function(a,c){return a&&c?p.mH(a.Gc,c.Gc)&&p.tU(a.Na,c.Na):!1};p.sq=function(a){return a?0===a.x&&0===a.y&&0===a.width&&0===a.height:!1};
p.f6=function(a,c){return a&&c?!(a.x>=c.x||a.y>=c.y||a.x+a.width<=c.x+c.width||a.y+a.height<=c.y+c.height):!1};p.om=function(a){return a.x+a.width};p.g6=function(a){return a.x+a.width/2};p.Ak=function(a){return a.x};p.pm=function(a){return a.y+a.height};p.h6=function(a){return a.y+a.height/2};p.Bk=function(a){return a.y};p.vb=function(a,c){return c.x>=p.Ak(a)&&c.x<=p.om(a)&&c.y>=p.Bk(a)&&c.y<=p.pm(a)};p.oS=function(a,c){return!(p.om(a)<p.Ak(c)||p.om(c)<p.Ak(a)||p.pm(a)<p.Bk(c)||p.pm(c)<p.Bk(a))};
p.i6=function(a,c){return!(a.x+a.width<c.x||c.x+c.width<a.x||a.y+a.height<c.y||c.y+c.height<a.y)};p.$v=function(a,c){var d=p.rect(0,0,0,0);d.x=Math.min(a.x,c.x);d.y=Math.min(a.y,c.y);d.width=Math.max(a.x+a.width,c.x+c.width)-d.x;d.height=Math.max(a.y+a.height,c.y+c.height)-d.y;return d};p.nS=function(a,c){var d=p.rect(Math.max(p.Ak(a),p.Ak(c)),Math.max(p.Bk(a),p.Bk(c)),0,0);d.width=Math.min(p.om(a),p.om(c))-p.Ak(d);d.height=Math.min(p.pm(a),p.pm(c))-p.Bk(d);return d};b=p.zf.prototype;
b.vI=function(a){this.Gc.x=a};b.wI=function(a){this.Gc.y=a};b.nr=function(){return this.Na.width};b.eC=function(a){this.Na.width=a};b.jr=function(){return this.Na.height};b.TB=function(a){this.Na.height=a};
Object.defineProperties(p.zf.prototype,{x:{get:function(){return this.Gc.x},set:function(a){this.vI(a)},enumerable:!0,configurable:!0},y:{get:function(){return this.Gc.y},set:function(a){this.wI(a)},enumerable:!0,configurable:!0},width:{get:function(){return this.nr()},set:function(a){this.eC(a)},enumerable:!0,configurable:!0},height:{get:function(){return this.jr()},set:function(a){this.TB(a)},enumerable:!0,configurable:!0}});var u=u||{};try{u.localStorage=window.localStorage,window.localStorage.setItem("storage",""),window.localStorage.removeItem("storage")}catch(fa){"SECURITY_ERR"!==fa.name&&"QuotaExceededError"!==fa.name||console.log("Warning: localStorage isn't enabled. Please confirm browser cookie or privacy option"),u.localStorage=function(){}}
Object.defineProperties(u,{FZ:{get:function(){var a={canvas:!0};p.qa.oc&&(a.opengl=!0);"ontouchstart"in document.documentElement||window.navigator.msPointerEnabled?a.touches=!0:"onmouseup"in document.documentElement&&(a.mouse=!0);"onkeyup"in document.documentElement&&(a.keyboard=!0);if(window.DeviceMotionEvent||window.DeviceOrientationEvent)a.accelerometer=!0;return a},enumerable:!0,configurable:!0},t5:{get:function(){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,c=navigator.userAgent.match(/android/i)||
navigator.platform.match(/android/i)?!0:!1,d=navigator.appVersion;-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="OS X":-1!=navigator.appVersion.indexOf("X11")?d="UNIX":-1!=navigator.appVersion.indexOf("Linux")?d="Linux":a?d="iOS":c&&(d="Android");return d},enumerable:!0,configurable:!0},platform:{get:function(){return"browser"},enumerable:!0,configurable:!0},version:{get:function(){return p.os},enumerable:!0,configurable:!0}});u.L_=function(){};
u.k_=function(){};u.I6=function(){};p.os="Cocos2d-html5-v2.2.2";p.Is=0;p.MC=p.a(0,0);p.rJ=0.5;p.xV=1;p.vK=1;p.hK=0;p.uD=0;p.zX=0;p.AX=0;p.aX=1;p.$W="-hd";p.KK=1;p.Kj=0;p.uX=0;p.uW=0;p.tW=0;p.fx=1;p.HV=p.os+"-canvas";p.ov={platform:u.platform};p.j_=function(){for(var a in u)p.log(a+" \x3d "+u[a])};p.ns=1;p.OC=1;p.IF=function(a,c){for(var d=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,f=0;f<d.length;++f){try{e=a.getContext(d[f],c)}catch(g){}if(e)break}return e};p.qa={};p.qa.UU=["baidubrowser","opera","firefox","chrome","safari"];
(function(){p.qa.ua=navigator.userAgent.toLowerCase();p.qa.platform=navigator.platform.toLowerCase();p.qa.tj=-1!=p.qa.ua.indexOf("mobile")||-1!=p.qa.ua.indexOf("android");p.qa.type=function(){var a=p.qa.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||p.qa.ua.match(/chrome|safari/);return a&&0<a.length?(a=a[0],"micromessenger"==a?"wechat":a):"unknow"}();p.qa.mode="ie"==p.qa.type&&document.documentMode;document.ccConfig||(document.ccConfig=
{});p.jA=parseInt(document.ccConfig.renderMode)||0;var a=-1==p.qa.UU.indexOf(p.qa.type);1===p.jA||0===p.jA&&(p.qa.tj||a)?p.qa.oc=!1:(p.qa.oc=null!=window.TX,a=document.createElement("Canvas"),a=p.IF(a,{stencil:!0,preserveDrawingBuffer:!0}),p.qa.oc=null!=a);2!==p.jA||p.qa.oc||(p.Qx=!0);var a=p.qa,c;try{c=new (window.AudioContext||window.webkitAudioContext||window.mozAudioContext)?!0:!1}catch(d){c=!1}a.j9=c;p.qa.q5=function(a){if(this.tj){var c=p.M.d().ub,d=c.width+"px",c=c.height+"px",h=p.Fj("div");
h.style.backgroundColor="#ffffff";h.style.width=d;h.style.height=c;h.style.XU=1E3;h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.id="cocos2d-browser";var k=p.Fj("iframe");k.src=a;k.style.width=d;k.style.height=c;k.setAttribute("frameborder","no");k.setAttribute("scrolling","no");h.appendChild(k);k.onload=function(){var a=document.createElement("img");a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5OERBMEM3OUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5OERBMEM3QUQzRTMxMUUyODg2Q0RFNjU1QkU1RjlFQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4REEwQzc3RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk4REEwQzc4RDNFMzExRTI4ODZDREU2NTVCRTVGOUVBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NwBuoAAAA/tJREFUeNrEWF0sW3EUb6+28zFhbGadsBaNhazV+kpDYhFWKRGWbHvwFV5IvPiIFw9evElEPEiWSUgsIWoIglhmUomPxj6aKC0zKVJjtPU5o9j5J7dLdbf33jKc5Jfc3v+v5/+755x7/j1lMoiNBRDh4AO88HvO2m+ACbAC+AJQAyz2JCbBFyMBWQA/xv+3DUAXLuivudhcY4BMwCuAB+NqDPmNAnAAOsCZvQgk4BnjeiwEwAbM2YoQA14yrteQEANgDcML7gXjZgw9OAuJkADu3JAIb7Q/hr+GtCwuLs6LDq+iooLvhBAREhFEl11ZWRne0tIiIeNIpVKv4uJi4dTUVApNt0EY3ohILSIiwqO7u1sql8vD8vLyJJ2dnXH2HDabzczPz3/Y1taWzOfz78XExDxSq9Vyd3d3jMK9F2pWr6lEtLa2RmVnZ4tt7w0NDWlTU1OVtkK7urqSQ0NDzzW5hYWFjcTExAGDwXDkyD+VSkZ7e3tsWlpamP19mUwWplQqk9B1UlKST3NzczxE4K49D4mCiDwn24PyPMjIyHjs6urKIVpLSEgInp6eZsM6Kzw8nEvEMZvNBxC1BbI9KCMhkUgUy8vLRpL1QIFA4EcSyZmcnJzpS4mYnZ3dj46O7p2fn193xIGi/CeiFovlFIp5pqGhYZ5qD1qFiQxCjk1OTsqEQmEAFReloL+/X0sVAadFWE2n02VA+O+TcVZXV01QkO8ODw9P6fjEnO2zvb2936g4XC7XG4rWm65P2iL8/f05kN8nBQUFQkqnGMYcGBjIys3N5dLxjY7ydDrE6urqsNLSUqmbmxuH1tOBkMzMTIHRaNxSqVTmS4soKyvjFRUViTw9PV2dTR901WAOh7M/MjKyeeHCbGpqEhcWFkY5Wl9aWtpUKBRaONziSbsii/Xm5OTk7EIdU6/X7zpaW1xc/Al5HxkfH9/e2dk5rqmpeUrE6+vr06ADzpEIlI5kMjFwPhh5PB5DJBKdK7KDg4Oj2tpaVUdHxw/0eWxszIjyj8Jvy4N60FdVVX2Grnt4dkaowYJESAG3yaLR09Oz5uvrexwbGxuAR2erpKTkI6RqxW5DM6RnLT09PQQV5vDwsDYlJWUU+I4EIDMhEQLAA6q0DA4OrqMCg/c/qL6+XtXY2Kgn4sGJuavRaFbFYrFPeXn5FIj6ReFa64KnIpJOpaMK39vbM9XV1X13lF9kc3Nz+xMTEwZo89s03A4ycRE1N/RjF/WPKgyfDRU39Gu7w1qYyNYAtwDB1yhgGPDBfgzU4bMi7xoEjAI6iWZRdGMGH80Cr2goRlP5W8B7qwBHfw1YO6kEH4yC8EnJ5QKbnuDFh17nr4BPRP9P/BFgAHo7ZNgI9EbHAAAAAElFTkSuQmCC";
h.appendChild(a);a.style.XU=1E3;a.style.position="absolute";a.style.bottom="10px";a.style.right="10px";a.onclick=function(){h.remove()}};(a=document.getElementById(document.ccConfig.tag).parentNode)&&a.appendChild(h)}else window.open(a)}})();p.fX=function(){return"undefined"===p.Qx?!1:p.Qx};
p.rb=function(a){var c=this==p?document:this;if(a=a instanceof HTMLElement?a:c.querySelector(a))a.find=a.find||p.rb,a.XA=a.XA||function(a){return this.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))},a.xF=a.xF||function(a){this.XA(a)||(this.className&&(this.className+=" "),this.className+=a);return this},a.CS=a.CS||function(a){this.XA(a)&&(this.className=this.className.replace(a,""));return this},a.remove=a.remove||function(){this.parentNode&&this.parentNode.removeChild(this);return this},a.Ql=a.Ql||
function(a){a.appendChild(this);return this},a.hS=a.hS||function(a){a.childNodes[0]?a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},a.zm=a.zm||function(){this.style[p.rb.HU]=p.rb.translate(this.position)+p.rb.rotate(this.rotation)+p.rb.scale(this.scale)+p.rb.Gk(this.Gk);return this},a.position=a.position||{x:0,y:0},a.rotation=a.rotation||0,a.scale=a.scale||{x:1,y:1},a.Gk=a.Gk||{x:0,y:0},a.lC=function(a,c){this.position.x=a;this.position.y=c;this.zm()},a.rotate=function(a){this.rotation=
a;this.zm();return this},a.resize=function(a,c){this.scale.x=a;this.scale.y=c;this.zm();return this},a.kI=function(a,c){this.Gk.x=a;this.Gk.y=c;this.zm()};return a};switch(p.qa.type){case "firefox":p.rb.Fo="Moz";p.rb.oo=!0;break;case "chrome":case "safari":p.rb.Fo="webkit";p.rb.oo=!0;break;case "opera":p.rb.Fo="O";p.rb.oo=!1;break;case "ie":p.rb.Fo="ms";p.rb.oo=!1;break;default:p.rb.Fo="webkit",p.rb.oo=!0}p.rb.HU=p.rb.Fo+"Transform";
p.rb.translate=p.rb.oo?function(a){return"translate3d("+a.x+"px, "+a.y+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};p.rb.rotate=p.rb.oo?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};p.rb.scale=function(a){return"scale("+a.x+", "+a.y+") "};p.rb.Gk=function(a){return"skewX("+-a.x+"deg) skewY("+a.y+"deg)"};p.Fj=function(a){return p.rb(document.createElement(a))};
p.rb.E_=function(a){var c=0,d=0;do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:d}};p.v=function(a){var c=a.constructor?new a.constructor:{},d;for(d in a){var e=a[d];c[d]="object"!=typeof e||!e||e instanceof p.H||e instanceof HTMLElement?e:p.v(e)}return c};p.sZ=function(){};p.RC=p.RC||!1;
p.uM=function(a){var c=document.getElementById("logInfoList");if(!c){var d=document.createElement("Div");d.setAttribute("id","logInfoDiv");p.canvas.parentNode.appendChild(d);d.setAttribute("width","200");d.setAttribute("height",p.canvas.height);d.style.zIndex="99999";d.style.position="absolute";d.style.top="0";d.style.left="0";c=document.createElement("ul");d.appendChild(c);c.setAttribute("id","logInfoList");c.style.height=p.canvas.height+"px";c.style.color="#fff";c.style.textAlign="left";c.style.listStyle=
"disc outside";c.style.fontSize="12px";c.style.fontFamily="arial";c.style.padding="0 0 0 20px";c.style.margin="0";c.style.textShadow="0 0 3px #000";c.style.zIndex="99998";c.style.position="absolute";c.style.top="0";c.style.left="0";c.style.overflowY="hidden";var e=document.createElement("Div");d.appendChild(e);e.style.width="200px";e.style.height=p.canvas.height+"px";e.style.opacity="0.1";e.style.background="#fff";e.style.border="1px solid #dfdfdf";e.style.borderRadius="8px"}d=document.createElement("li");
d.innerHTML=a;0==c.childNodes.length?c.appendChild(d):c.insertBefore(d,c.childNodes[0])};p.log=function(a){p.RC?p.uM(a):console.log.apply(console,arguments)};p.AW=function(a){console.log(a)};p.js=function(a,c){console.assert?console.assert(a,c):a||c&&alert(c)};p.JQ=function(){0==p.ls?(p.log=function(){},p.WG=function(){},p.VG=function(){},p.js=function(){}):1==p.ls?(p.WG=p.log,p.VG=function(){}):1<p.ls&&(p.WG=p.log,p.VG=p.log)};p.PJ=0;p.OJ=1;p.QJ=2;p.TJ=3;p.RJ=4;p.$J=5;p.ZJ=6;p.VJ=7;p.UJ=8;p.SJ=9;
p.YJ=10;p.NJ=11;p.WJ=12;p.XJ=13;
p.LJ={uZ:8,v9:9,uP:13,shift:16,YZ:17,alt:18,pause:19,GZ:20,escape:27,Q5:33,P5:34,end:35,home:36,left:37,M9:38,right:39,e_:40,G3:45,OV:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,B:65,f:66,na:67,wa:68,l_:69,Av:70,h:71,Sd:72,y3:73,j:74,z4:75,I4:76,T4:77,$G:78,m5:79,a:80,d6:81,i:82,Bh:83,u9:84,Ca:85,W:86,ZI:87,x:88,y:89,z:90,a5:96,b5:97,c5:98,d5:99,e5:100,f5:101,g5:102,h5:103,i5:104,j5:105,"*":106,"+":107,"-":109,numdel:110,"/":111,r_:112,v_:113,w_:114,x_:115,y_:116,z_:117,A_:118,B_:119,C_:120,
s_:121,t_:122,u_:123,l5:144,L6:145,M6:186,",":186,n_:187,"\x3d":187,";":188,PZ:188,ZZ:189,".":190,U5:190,J_:191,s3:192,"[":219,r5:219,"]":221,OZ:221,tZ:220,quote:222,b9:32};p.Hh=-1;p.PI=Math.PI;p.CJ=parseFloat("3.402823466e+38F");p.rK=p.PI/180;p.qJ=180/p.PI;p.JK=4294967295;p.vX=function(a,c,d){if("object"==typeof d&&"undefined"!=typeof d.x&&"undefined"!=typeof d.y){var e=d[a];d[a]=d[c];d[c]=e}else p.log("cc.SWAP is being modified from original macro, please check usage")};p.K4=function(a,c,d){return a+(c-a)*d};p.XW=function(){return 2*(Math.random()-0.5)};p.WW=function(){return Math.random()};p.Ai=function(a){return a*p.rK};p.rx=function(a){return a*p.qJ};
p.Sk=Number.MAX_VALUE-1;p.$d=p.hK?1:770;p.Zd=771;p.lx=function(a){a.lc&&(a.lc.Ce(),a.lc.cg())};p.$V=function(){};p.NV=function(){};p.Tg=function(){p.qh+=1};p.Js=1.192092896E-7;p.$c=p.fx?function(){return p.M.d().cl}:function(){return 1};p.jK=function(a){var c=p.$c();return p.a(a.x*c,a.y*c)};p.XX=function(a,c){var d=p.$c();c.A=a.x*d;c.I=a.y*d};p.wx=function(a){var c=p.$c();return p.size(a.width*c,a.height*c)};p.sX=function(a){var c=p.$c();return p.size(a.width/c,a.height/c)};
p.Nx=function(a,c){var d=p.$c();c.sa=a.width/d;c.ea=a.height/d};p.RW=function(a){var c=p.$c();return p.a(a.x/c,a.y/c)};p.tt=function(a,c){var d=p.$c();c.A=a.x/d;c.I=a.y/d};p.bp=p.fx?function(a){var c=p.$c();return p.rect(a.x/c,a.y/c,a.width/c,a.height/c)}:function(a){return a};p.Im=p.fx?function(a){var c=p.$c();return p.rect(a.x*c,a.y*c,a.width*c,a.height*c)}:function(a){return a};p.xC=function(){if(p.F6==p.Mj){var a=p.L.getError();a&&p.log("WebGL error "+a)}};p.kX=0;p.jX=1;p.hX=2;p.iX=3;p.lX=4;p.mX=5;p.gX=6;var Uint8Array=Uint8Array||Array;
if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){var ga=document.createElement("script");ga.type="text/vbscript";ga.textContent='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr \x3d CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex \x3d LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last \x3d Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last \x3d ""\r\n   End If\r\nEnd Function\r\n';document.body.appendChild(ga);
p.WD=function(a){for(var c={},d=0;256>d;d++)for(var e=0;256>e;e++)c[String.fromCharCode(d+256*e)]=String.fromCharCode(d)+String.fromCharCode(e);d=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return d.replace(/[\s\S]/g,function(a){return c[a]})+a}}
p.ad=p.oa.extend({Ni:null,ok:null,KL:null,Hy:null,Hn:null,fh:null,Ep:"",ctor:function(){this.Ni={};this.ok={};this.fh=[];this.fh.push(this.Ep);this.Hn=[];this.Hn.push("")},a6:function(){this.fh=[]},c0:function(a){a=this.Md(a);return this.Ni.hasOwnProperty(a)?this.Ni[a]:this.rM(a)},Zt:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},IU:function(a){this.Ni.hasOwnProperty(a)&&delete this.Ni[a]},eS:function(a){a=this.Md(a);var c=this,d=this.Zt();d.open("GET",
a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","x-user-defined"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=p.WD(d.responseBody);e&&(c.Ni[a]=c.Mu(e))}else p.Eb.d().im(a);p.Eb.d().yh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dx-user-defined"),d.onload=function(){var e=d.responseText;e?c.Ni[a]=c.Mu(e):p.Eb.d().im(a);p.Eb.d().yh()});d.send(null)},rM:function(a){var c=this.Zt();
c.open("GET",a,!1);var d=null;if(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)){c.setRequestHeader("Accept-Charset","x-user-defined");c.send(null);if(200!=c.status)return null;if(c=p.WD(c.responseBody))d=this.Mu(c),this.Ni[a]=d}else{c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dx-user-defined");c.send(null);if(200!=c.status)return null;d=this.Mu(c.responseText);this.Ni[a]=d}return d},Mu:function(a){if(!a)return null;for(var c=new Uint8Array(a.length),d=0;d<
a.length;d++)c[d]=a.charCodeAt(d)&255;return c},KU:function(a){a=this.Md(a);this.ok.hasOwnProperty(a)&&delete this.ok[a]},gS:function(a){a=this.Md(a);var c=this,d=this.Zt();d.open("GET",a,!0);/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(d.setRequestHeader("Accept-Charset","utf-8"),d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status){var e=d.responseText;e&&(c.ok[a]=e)}else p.Eb.d().im(a);p.Eb.d().yh()}}):(d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8"),
d.onload=function(){d.responseText?c.ok[a]=d.responseText:p.Eb.d().im(a);p.Eb.d().yh()});d.send(null)},tM:function(a){var c=this.Zt();c.open("GET",a,!1);var d=null;/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?c.setRequestHeader("Accept-Charset","utf-8"):c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");c.send(null);if(200!=c.status)return null;(d=c.responseText)&&(this.ok[a]=d);return d},oG:function(a){a=this.Md(a);return this.ok.hasOwnProperty(a)?this.ok[a]:
this.tM(a)},I0:function(){},C6:function(){},nH:!0,K_:function(a){return a},Md:function(a){var c=!1;a=this.VL(a);for(var d,e=0;e<this.fh.length;e++){for(var f=this.fh[e],g=0;g<this.Hn.length;g++)if(d=this.WL(a,this.Hn[g],f)){c=!0;break}if(c)break}return c?d:a},O4:function(a){var c=this.Md(a);if(0<c.length){var c=p.Jj.d().parse(c),d=parseInt(c.metadata.version);1!=d?p.log("cocos2d: ERROR: Invalid filenameLookup dictionary version: "+d+". Filename: "+a):this.xT(c.filenames)}},xT:function(a){this.Hy=
a},gG:function(a,c){var d;if(a)return d=c.substring(0,c.lastIndexOf("/")+1),d+a;d=c.substring(0,c.lastIndexOf("."));return d+".png"},x8:function(a){this.Hn=a},u2:function(){return this.Hn},w8:function(a){this.fh=a},s2:function(){return this.fh},l2:function(){return this.KL},r8:function(){},a_:function(a){p.log("dictionaryWithContentsOfFile is deprecated. Use createDictionaryWithContentsOfFile instead");return this.WO(a)},WO:function(a){return p.Jj.d().parse(a)},J2:function(a){return this.oG(a)},sv:function(a){return p.Jj.d().parse(a)},
m3:function(){return""},h8:function(a){p.nH=a},j4:function(){return p.nH},Dz:"",m2:function(){return this.Dz},s8:function(a){this.Dz=a},VL:function(a){var c=null;(c=this.Hy?this.Hy[a]:null)&&0!==c.length?p.log("FOUND NEW FILE NAME: "+c):c=a;return c},WL:function(a,c,d){var e;e=this.Dz;a&&0<a.length&&(0===a.indexOf("/")||0===a.indexOf("\\"))?e="":0<e.length&&"\\"!=e[e.length-1]&&"/"!=e[e.length-1]&&(e+="/");var f=a,g="",h=a.lastIndexOf("/");-1!=h&&(g=a.substr(0,h+1),f=a.substr(h+1));a=d;0<a.length&&
a.lastIndexOf("/")!==a.length-1&&(a+="/");a=a+g+c;0<a.length&&a.lastIndexOf("/")!==a.length-1&&(a+="/");a+=f;return e+=a},qY:function(){},jI:function(a){var c=!1;this.fh=[];for(var d=0;d<a.length;d++){var e=a[d],f;this.NG(e)||(f=this.Ep);e=f+e;0<e.length&&"/"!=e[e.length-1]&&(e+="/");c||e!=this.Ep||(c=!0);this.fh.push(e)}c||this.fh.push(this.Ep)},cZ:function(a){var c;this.NG(a)||(c=this.Ep);a=c+a;0<a.length&&"/"!=a[a.length-1]&&(a+="/");this.fh.push(a)},t2:function(){},NG:function(a){return"/"==a[0]}});
p.NB=null;p.ad.d=function(){null==p.NB&&(p.NB=new p.ad);return p.NB};p.ec=function(a,c,d){switch(arguments.length){case 0:this.f=this.h=this.i=0;break;case 1:a&&a instanceof p.ec?(this.i=0|a.i||0,this.h=0|a.h||0,this.f=0|a.f||0):this.f=this.h=this.i=0;break;case 3:this.i=0|a||0;this.h=0|c||0;this.f=0|d||0;break;default:throw"unknown argument type";}};p.k=function(a,c,d){return new p.ec(a,c,d)};p.K3=function(a){a=a||0;var c=new p.ec;c.i=a&255;c.h=a>>8&255;c.f=a>>16&255;return c};p.mv=p.k;p.zZ=function(a,c){return a.i===c.i&&a.h===c.h&&a.f===c.f};
Object.defineProperties(p,{RX:{get:function(){return p.k(255,255,255)}},UX:{get:function(){return p.k(255,255,0)}},uV:{get:function(){return p.k(0,0,255)}},iW:{get:function(){return p.k(0,255,0)}},ZW:{get:function(){return p.k(255,0,0)}},xW:{get:function(){return p.k(255,0,255)}},sV:{get:function(){return p.k(0,0,0)}},IW:{get:function(){return p.k(255,127,0)}},hW:{get:function(){return p.k(166,166,166)}}});p.cb=function(){return new p.ec(255,255,255)};p.d$=function(){return new p.ec(255,255,0)};
p.blue=function(){return new p.ec(0,0,255)};p.green=function(){return new p.ec(0,255,0)};p.red=function(){return new p.ec(255,0,0)};p.U4=function(){return new p.ec(255,0,255)};p.vZ=function(){return new p.ec(0,0,0)};p.s5=function(){return new p.ec(255,127,0)};p.no=function(){return new p.ec(166,166,166)};p.sb=function(a,c,d,e){this.i=0|a;this.h=0|c;this.f=0|d;this.B=0|e};p.r=function(a,c,d,e){return new p.sb(a,c,d,e)};p.zA=p.r;p.qd=function(a,c,d,e){this.i=a;this.h=c;this.f=d;this.B=e};
p.nv=function(a,c,d,e){return new p.qd(a,c,d,e)};p.CZ=function(a){return new p.qd(a.i/255,a.h/255,a.f/255,1)};p.DZ=function(a){return new p.qd(a.i/255,a.h/255,a.f/255,a.B/255)};p.AZ=function(a){return new p.sb(0|255*a.i,0|255*a.h,0|255*a.f,0|255*a.B)};p.BZ=function(a,c){return a.i==c.i&&a.h==c.h&&a.f==c.f&&a.B==c.B};p.gb=function(a,c){this.x=a||0;this.y=c||0};p.st=function(a,c){return new p.gb(a,c)};p.uc=function(a,c,d){this.x=a||0;this.y=c||0;this.z=d||0};
p.W9=function(a,c,d){return new p.uc(a,c,d)};p.ac=function(a,c){this.Ca=a||0;this.W=c||0};p.B9=function(a,c){return new p.ac(a,c)};p.UW=function(a,c,d){a||new p.gb(0,0);this.color=c||new p.sb(0,0,0,0);this.size=d||0};p.Vs=function(a,c,d,e){this.Fa=a||new p.gb(0,0);this.ya=c||new p.gb(0,0);this.va=d||new p.gb(0,0);this.Ha=e||new p.gb(0,0)};p.VW=function(a,c,d,e){this.va=a||new p.uc(0,0,0);this.Ha=c||new p.uc(0,0,0);this.Fa=d||new p.uc(0,0,0);this.ya=e||new p.uc(0,0,0)};
p.FJ=function(a,c){this.x=a;this.y=c};p.h=function(a,c){return new p.FJ(a,c)};p.xb=function(a,c,d){this.l=a||new p.gb(0,0);this.C=c||new p.sb(0,0,0,0);this.q=d||new p.ac(0,0)};p.pt=function(){this.l=new p.gb(0,0);this.C=new p.qd(0,0,0,0);this.q=new p.ac(0,0)};p.Xb=function(a,c,d){this.l=a||new p.uc(0,0,0);this.C=c||new p.sb(0,0,0,0);this.q=d||new p.ac(0,0)};p.hc=function(a,c,d){this.B=a||new p.xb;this.f=c||new p.xb;this.na=d||new p.xb};
p.LK=function(){var a=new p.xb(new p.gb(0,0),new p.sb(0,0,0,255),new p.ac(0,0)),c=new p.xb(new p.gb(0,0),new p.sb(0,0,0,255),new p.ac(0,0)),d=new p.xb(new p.gb(0,0),new p.sb(0,0,0,255),new p.ac(0,0)),e=new p.xb(new p.gb(0,0),new p.sb(0,0,0,255),new p.ac(0,0));this.va=a||new p.xb;this.Ha=c||new p.xb;this.Fa=d||new p.xb;this.ya=e||new p.xb};p.MX=function(){return new p.LK};p.Kb=function(a,c,d,e){this.Fa=a||new p.Xb;this.va=c||new p.Xb;this.ya=d||new p.Xb;this.Ha=e||new p.Xb};
p.Lx=function(){return new p.Kb(new p.Xb(new p.uc(0,0,0),new p.sb(0,0,0,255),new p.ac(0,0)),new p.Xb(new p.uc(0,0,0),new p.sb(0,0,0,255),new p.ac(0,0)),new p.Xb(new p.uc(0,0,0),new p.sb(0,0,0,255),new p.ac(0,0)),new p.Xb(new p.uc(0,0,0),new p.sb(0,0,0,255),new p.ac(0,0)))};
p.Kx=function(a){return a?new p.Kb(new p.Xb(new p.uc(a.Fa.l.x,a.Fa.l.y,a.Fa.l.z),new p.sb(a.Fa.C.i,a.Fa.C.h,a.Fa.C.f,a.Fa.C.B),new p.ac(a.Fa.q.Ca,a.Fa.q.W)),new p.Xb(new p.uc(a.va.l.x,a.va.l.y,a.va.l.z),new p.sb(a.va.C.i,a.va.C.h,a.va.C.f,a.va.C.B),new p.ac(a.va.q.Ca,a.va.q.W)),new p.Xb(new p.uc(a.ya.l.x,a.ya.l.y,a.ya.l.z),new p.sb(a.ya.C.i,a.ya.C.h,a.ya.C.f,a.ya.C.B),new p.ac(a.ya.q.Ca,a.ya.q.W)),new p.Xb(new p.uc(a.Ha.l.x,a.Ha.l.y,a.Ha.l.z),new p.sb(a.Ha.C.i,a.Ha.C.h,a.Ha.C.f,a.Ha.C.B),new p.ac(a.Ha.q.Ca,
a.Ha.q.W))):p.Lx()};p.OX=function(a){if(!a)return[];for(var c=[],d=0;d<a.length;d++)c.push(p.Kx(a[d]));return c};p.NX=function(a,c,d,e){this.va=a||new p.pt;this.Ha=c||new p.pt;this.Fa=d||new p.pt;this.ya=e||new p.pt};p.Ok=function(a,c){this.src=a;this.lb=c};p.vV=function(){return new p.Ok(1,0)};p.sk=function(a){var c=a.i.toString(16),d=a.h.toString(16),e=a.f.toString(16);return"#"+(16>a.i?"0"+c:c)+(16>a.h?"0"+d:d)+(16>a.f?"0"+e:e)};
p.qa.oc&&(p.sb=function(a,c,d,e,f,g){this.tb=f||new ArrayBuffer(p.sb.BYTES_PER_ELEMENT);this.ob=g||0;f=this.tb;g=this.ob;var h=Uint8Array.BYTES_PER_ELEMENT;this.uz=new Uint8Array(f,g,1);this.Oy=new Uint8Array(f,g+h,1);this.$x=new Uint8Array(f,g+2*h,1);this.Sx=new Uint8Array(f,g+3*h,1);this.uz[0]=a||0;this.Oy[0]=c||0;this.$x[0]=d||0;this.Sx[0]=e||0},p.sb.BYTES_PER_ELEMENT=4,Object.defineProperties(p.sb.prototype,{i:{get:function(){return this.uz[0]},set:function(a){this.uz[0]=a},enumerable:!0},h:{get:function(){return this.Oy[0]},
set:function(a){this.Oy[0]=a},enumerable:!0},f:{get:function(){return this.$x[0]},set:function(a){this.$x[0]=a},enumerable:!0},B:{get:function(){return this.Sx[0]},set:function(a){this.Sx[0]=a},enumerable:!0}}),p.qd=function(a,c,d,e,f,g){this.tb=f||new ArrayBuffer(p.qd.BYTES_PER_ELEMENT);this.ob=g||0;f=this.tb;g=this.ob;var h=Float32Array.BYTES_PER_ELEMENT;this.tz=new Float32Array(f,g,1);this.tz[0]=a||0;this.Ny=new Float32Array(f,g+h,1);this.Ny[0]=c||0;this.Zx=new Float32Array(f,g+2*h,1);this.Zx[0]=
d||0;this.Rx=new Float32Array(f,g+3*h,1);this.Rx[0]=e||0},p.qd.BYTES_PER_ELEMENT=16,Object.defineProperties(p.qd.prototype,{i:{get:function(){return this.tz[0]},set:function(a){this.tz[0]=a},enumerable:!0},h:{get:function(){return this.Ny[0]},set:function(a){this.Ny[0]=a},enumerable:!0},f:{get:function(){return this.Zx[0]},set:function(a){this.Zx[0]=a},enumerable:!0},B:{get:function(){return this.Rx[0]},set:function(a){this.Rx[0]=a},enumerable:!0}}),p.gb=function(a,c,d,e){this.tb=d||new ArrayBuffer(p.gb.BYTES_PER_ELEMENT);
this.ob=e||0;this.Ml=new Float32Array(this.tb,this.ob,1);this.Nl=new Float32Array(this.tb,this.ob+4,1);this.Ml[0]=a||0;this.Nl[0]=c||0},p.gb.BYTES_PER_ELEMENT=8,Object.defineProperties(p.gb.prototype,{x:{get:function(){return this.Ml[0]},set:function(a){this.Ml[0]=a},enumerable:!0},y:{get:function(){return this.Nl[0]},set:function(a){this.Nl[0]=a},enumerable:!0}}),p.uc=function(a,c,d,e,f){this.tb=e||new ArrayBuffer(p.uc.BYTES_PER_ELEMENT);this.ob=f||0;e=this.tb;f=this.ob;this.Ml=new Float32Array(e,
f,1);this.Ml[0]=a||0;this.Nl=new Float32Array(e,f+Float32Array.BYTES_PER_ELEMENT,1);this.Nl[0]=c||0;this.rA=new Float32Array(e,f+2*Float32Array.BYTES_PER_ELEMENT,1);this.rA[0]=d||0},p.uc.BYTES_PER_ELEMENT=12,Object.defineProperties(p.uc.prototype,{x:{get:function(){return this.Ml[0]},set:function(a){this.Ml[0]=a},enumerable:!0},y:{get:function(){return this.Nl[0]},set:function(a){this.Nl[0]=a},enumerable:!0},z:{get:function(){return this.rA[0]},set:function(a){this.rA[0]=a},enumerable:!0}}),p.ac=
function(a,c,d,e){this.tb=d||new ArrayBuffer(p.ac.BYTES_PER_ELEMENT);this.ob=e||0;this.cA=new Float32Array(this.tb,this.ob,1);this.kA=new Float32Array(this.tb,this.ob+4,1);this.cA[0]=a||0;this.kA[0]=c||0},p.ac.BYTES_PER_ELEMENT=8,Object.defineProperties(p.ac.prototype,{Ca:{get:function(){return this.cA[0]},set:function(a){this.cA[0]=a},enumerable:!0},W:{get:function(){return this.kA[0]},set:function(a){this.kA[0]=a},enumerable:!0}}),p.Vs=function(a,c,d,e,f,g){this.tb=f||new ArrayBuffer(p.Vs.BYTES_PER_ELEMENT);
this.ob=g||0;f=this.tb;g=p.gb.BYTES_PER_ELEMENT;this.Tn=a?new p.gb(a.x,a.y,f,0):new p.gb(0,0,f,0);this.Vn=c?new p.gb(c.x,c.y,f,g):new p.gb(0,0,f,g);this.Um=d?new p.gb(d.x,d.y,f,2*g):new p.gb(0,0,f,2*g);this.Wm=e?new p.gb(e.x,e.y,f,3*g):new p.gb(0,0,f,3*g)},p.Vs.BYTES_PER_ELEMENT=32,Object.defineProperties(p.Vs.prototype,{Fa:{get:function(){return this.Tn},set:function(a){this.Tn.x=a.x;this.Tn.y=a.y},enumerable:!0},ya:{get:function(){return this.Vn},set:function(a){this.Vn.x=a.x;this.Vn.y=a.y},enumerable:!0},
va:{get:function(){return this.Um},set:function(a){this.Um.x=a.x;this.Um.y=a.y},enumerable:!0},Ha:{get:function(){return this.Wm},set:function(a){this.Wm.x=a.x;this.Wm.y=a.y},enumerable:!0}}),p.Xb=function(a,c,d,e,f){this.tb=e||new ArrayBuffer(p.Xb.BYTES_PER_ELEMENT);this.ob=f||0;e=this.tb;f=this.ob;var g=p.uc.BYTES_PER_ELEMENT;this.Xn=a?new p.uc(a.x,a.y,a.z,e,f):new p.uc(0,0,0,e,f);this.Ap=c?new p.sb(c.i,c.h,c.f,c.B,e,f+g):new p.sb(0,0,0,0,e,f+g);this.Cl=d?new p.ac(d.Ca,d.W,e,f+g+p.sb.BYTES_PER_ELEMENT):
new p.ac(0,0,e,f+g+p.sb.BYTES_PER_ELEMENT)},p.Xb.BYTES_PER_ELEMENT=24,Object.defineProperties(p.Xb.prototype,{l:{get:function(){return this.Xn},set:function(a){var c=this.Xn;c.x=a.x;c.y=a.y;c.z=a.z},enumerable:!0},C:{get:function(){return this.Ap},set:function(a){var c=this.Ap;c.i=a.i;c.h=a.h;c.f=a.f;c.B=a.B},enumerable:!0},q:{get:function(){return this.Cl},set:function(a){this.Cl.Ca=a.Ca;this.Cl.W=a.W},enumerable:!0}}),p.Kb=function(a,c,d,e,f,g){this.tb=f||new ArrayBuffer(p.Kb.BYTES_PER_ELEMENT);
this.ob=g||0;f=this.tb;g=this.ob;var h=p.Xb.BYTES_PER_ELEMENT;this.Tn=a?new p.Xb(a.l,a.C,a.q,f,g):new p.Xb(null,null,null,f,g);this.Um=c?new p.Xb(c.l,c.C,c.q,f,g+h):new p.Xb(null,null,null,f,g+h);this.Vn=d?new p.Xb(d.l,d.C,d.q,f,g+2*h):new p.Xb(null,null,null,f,g+2*h);this.Wm=e?new p.Xb(e.l,e.C,e.q,f,g+3*h):new p.Xb(null,null,null,f,g+3*h)},p.Kb.BYTES_PER_ELEMENT=96,Object.defineProperties(p.Kb.prototype,{Fa:{get:function(){return this.Tn},set:function(a){var c=this.Tn;c.l=a.l;c.C=a.C;c.q=a.q},enumerable:!0},
va:{get:function(){return this.Um},set:function(a){var c=this.Um;c.l=a.l;c.C=a.C;c.q=a.q},enumerable:!0},ya:{get:function(){return this.Vn},set:function(a){var c=this.Vn;c.l=a.l;c.C=a.C;c.q=a.q},enumerable:!0},Ha:{get:function(){return this.Wm},set:function(a){var c=this.Wm;c.l=a.l;c.C=a.C;c.q=a.q},enumerable:!0},uA:{get:function(){return this.tb},enumerable:!0}}),p.Lx=function(){return new p.Kb},p.Kx=function(a){if(!a)return p.Lx();var c=a.Fa,d=a.va,e=a.ya;a=a.Ha;return{Fa:{l:{x:c.l.x,y:c.l.y,z:c.l.z},
C:{i:c.C.i,h:c.C.h,f:c.C.f,B:c.C.B},q:{Ca:c.q.Ca,W:c.q.W}},va:{l:{x:d.l.x,y:d.l.y,z:d.l.z},C:{i:d.C.i,h:d.C.h,f:d.C.f,B:d.C.B},q:{Ca:d.q.Ca,W:d.q.W}},ya:{l:{x:e.l.x,y:e.l.y,z:e.l.z},C:{i:e.C.i,h:e.C.h,f:e.C.f,B:e.C.B},q:{Ca:e.q.Ca,W:e.q.W}},Ha:{l:{x:a.l.x,y:a.l.y,z:a.l.z},C:{i:a.C.i,h:a.C.h,f:a.C.f,B:a.C.B},q:{Ca:a.q.Ca,W:a.q.W}}}},p.xb=function(a,c,d,e,f){this.tb=e||new ArrayBuffer(p.xb.BYTES_PER_ELEMENT);this.ob=f||0;e=this.tb;f=this.ob;var g=p.gb.BYTES_PER_ELEMENT;this.Xn=a?new p.gb(a.x,a.y,e,
f):new p.gb(0,0,e,f);this.Ap=c?new p.sb(c.i,c.h,c.f,c.B,e,f+g):new p.sb(0,0,0,0,e,f+g);this.Cl=d?new p.ac(d.Ca,d.W,e,f+g+p.sb.BYTES_PER_ELEMENT):new p.ac(0,0,e,f+g+p.sb.BYTES_PER_ELEMENT)},p.xb.BYTES_PER_ELEMENT=20,Object.defineProperties(p.xb.prototype,{l:{get:function(){return this.Xn},set:function(a){this.Xn.x=a.x;this.Xn.y=a.y},enumerable:!0},C:{get:function(){return this.Ap},set:function(a){var c=this.Ap;c.i=a.i;c.h=a.h;c.f=a.f;c.B=a.B},enumerable:!0},q:{get:function(){return this.Cl},set:function(a){this.Cl.Ca=
a.Ca;this.Cl.W=a.W},enumerable:!0}}),p.hc=function(a,c,d,e,f){this.tb=e||new ArrayBuffer(p.hc.BYTES_PER_ELEMENT);this.ob=f||0;e=this.tb;f=this.ob;var g=p.xb.BYTES_PER_ELEMENT;this.ID=a?new p.xb(a.l,a.C,a.q,e,f):new p.xb(null,null,null,e,f);this.ND=c?new p.xb(c.l,c.C,c.q,e,f+g):new p.xb(null,null,null,e,f+g);this.SD=d?new p.xb(d.l,d.C,d.q,e,f+2*g):new p.xb(null,null,null,e,f+2*g)},p.hc.BYTES_PER_ELEMENT=60,Object.defineProperties(p.hc.prototype,{B:{get:function(){return this.ID},set:function(a){var c=
this.ID;c.l=a.l;c.C=a.C;c.q=a.q},enumerable:!0},f:{get:function(){return this.ND},set:function(a){var c=this.ND;c.l=a.l;c.C=a.C;c.q=a.q},enumerable:!0},na:{get:function(){return this.SD},set:function(a){var c=this.SD;c.l=a.l;c.C=a.C;c.q=a.q},enumerable:!0}}));p.RZ=function(a){a=a.substr(1).split("");return new p.ec(parseInt("0x"+a[0]+a[1]),parseInt("0x"+a[2]+a[3]),parseInt("0x"+a[4]+a[5]))};p.ip=0;p.Fi=1;p.CK=2;p.np=0;p.rt=1;p.mp=2;
p.WX=p.oa.extend({yn:null,Wq:null,Ox:0,ctor:function(){this.yn={};this.Wq={};this.Ox=2<<(0|10*Math.random())},SK:function(){this.Ox++;return"key_"+this.Ox},OT:function(a,c){if(null!=c){var d=this.SK();this.yn[d]=c;this.Wq[d]=a}},yR:function(a){if(null==a)return null;var c=this.yn,d;for(d in c)if(c[d]===a)return this.Wq[d];return null},V9:function(a){return this.yR(a)},GS:function(a){if(null!=a){var c=this.yn,d;for(d in c)if(c[d]===a){delete this.Wq[d];delete c[d];break}}},v6:function(a){if(null!=
a)for(var c=0;c<a.length;c++)this.GS(a[c])},pO:function(){var a=[],c=this.yn,d;for(d in c)a.push(c[d]);return a},o6:function(){this.yn={};this.Wq={}},count:function(){return this.pO().length}});p.EJ=function(){this.fr="Arial";this.fontSize=12;this.bG=p.Fi;this.cG=p.np;this.dG=p.cb();this.er=p.size(0,0);this.iC=!1;this.strokeColor=p.cb();this.GI=1;this.yI=!1;this.zI=p.size(0,0);this.shadowBlur=0;this.AI=1};p.cp={$w:0,mx:1,SHOW_ALL:2,ax:3,bx:4,LX:5};p.ot=[];p.jp={};
p.da=p.oa.extend({zb:null,ge:null,kn:null,fk:null,re:null,nA:null,mA:"",Bz:null,ha:1,CE:1,ma:1,DE:1,aq:0,yE:5,bh:null,JE:null,NE:null,ME:null,KE:null,LE:null,dq:!1,hY:!1,RY:null,iE:null,jE:null,ZK:null,JY:!1,oy:null,BY:null,Qi:null,Jy:1,xt:!1,nE:!1,ctor:function(){this.Qi=p.mj.parentNode===document.body?document.documentElement:p.mj.parentNode;this.ge=p.size(0,0);this.Xy();var a=p.canvas.width,c=p.canvas.height;this.kn=p.size(a,c);this.fk=p.size(a,c);this.re=p.rect(0,0,a,c);this.nA=p.rect(0,0,a,c);
this.zb=p.M.d().pe;this.oy={left:0,top:0};this.mA="Cocos2dHTML5";p.BD.s(this.kn);this.JE=new p.Jm(p.fg.ps,p.be.$w);this.NE=new p.Jm(p.fg.nK,p.be.SHOW_ALL);this.ME=new p.Jm(p.fg.ps,p.be.mx);this.KE=new p.Jm(p.fg.ps,p.be.ax);this.LE=new p.Jm(p.fg.ps,p.be.bx);this.iE=p.canvas;this.jE=p.L},Cz:function(){var a=this.fk.width,c=this.fk.height;this.Bz&&(this.Xy(),this.Bz.call());0<a&&this.RH(a,c,this.bh)},H6:function(a){a?this.xt||(this.xt=!0,a=this.Cz.bind(this),window.addEventListener("resize",a,!1)):this.xt&&
(this.xt=!0,a=this.Cz.bind(this),window.removeEventListener("resize",a,!1))},q8:function(a){if("function"==typeof a||null==a)this.Bz=a},Xy:function(){var a=this.ge;a.width=this.Qi.clientWidth;a.height=this.Qi.clientHeight},eY:function(){var a=this.fk.width,c=this.fk.height;0<a&&this.RH(a,c,this.bh)},FN:function(){if(this.nE){var a={"user-scalable":"no","maximum-scale":"1.0","initial-scale":"1.0"},c=document.getElementsByName("viewport"),d;0==c.length?(c=document.createElement("meta"),c.name="viewport",
c.content="",document.head.appendChild(c)):c=c[0];d=c.content;for(var e in a)RegExp(e).test(d)||(d+=(""==d?"":",")+e+"\x3d"+a[e]);c.content=d}},yN:function(){var a=p.$c();this.ma=this.ha=a},aN:function(){this.ha=this.CE;this.ma=this.DE},YL:function(){var a,c=this.aq;for(a=0;a<this.yE;a++){if(!(c&1))return this.aq|=1<<a,a;c>>=1}return-1},XM:function(a){0>a||a>=this.yE||(a=~(1<<a),this.aq&=a)},fY:function(){},UQ:function(){this.dq=!0},hZ:function(a){this.nE=a},end:function(){},h4:function(){return null!=
this.iE&&null!=this.jE},u7:function(a){this.Jy=a;p.M.d().mw(p.M.d().jk)},p9:function(){},y7:function(){},f7:function(a,c){this.oy={left:a,top:c}},q0:function(){return this.oy},Cv:function(){return p.size(this.ge.width,this.ge.height)},t7:function(a,c){this.ge.width=a;this.ge.height=c;this.Qi.style.width=a+"px";this.Qi.style.height=c+"px";this.Cz();p.M.d().mw(p.M.d().jk)},IZ:function(){},P6:function(a){this.ZK=a},mr:function(){return this.nA.Na},vG:function(){return this.nA.Gc},EZ:function(){return!0},
k2:function(){return this.bh},ZT:function(a){if(a instanceof p.Jm)this.bh=a;else switch(a){case p.cp.$w:this.bh=this.JE;break;case p.cp.SHOW_ALL:this.bh=this.NE;break;case p.cp.mx:this.bh=this.ME;break;case p.cp.ax:this.bh=this.KE;break;case p.cp.bx:this.bh=this.LE}},RH:function(a,c,d){if(isNaN(a)||0==a||isNaN(c)||0==c)p.log("Resolution not valid");else if(this.ZT(d),policy=this.bh){policy.lm(this);var e=this.ge.width,f=this.ge.height;p.qa.tj&&this.FN(this.ge.width,this.ge.height);this.Xy();if(d!=
this.bh||a!=this.fk.width||c!=this.fk.height||e!=this.ge.width||f!=this.ge.height)this.kn=p.size(a,c),this.fk=p.size(a,c),a=policy.apply(this,this.kn),a.scale&&2==a.scale.length&&(this.ha=a.scale[0],this.ma=a.scale[1]),a.viewport instanceof p.zf&&(this.re=a.viewport),a=p.M.d(),a.ub=this.jo(),p.Yc==p.Mj&&(a.hn(),a.YH()),this.CE=this.ha,this.DE=this.ma,p.Rb&&p.Rb.ZM(),p.BD.s(this.mr()),policy.km(this)}else p.log("should set resolutionPolicy")},jo:function(){return p.size(this.kn.width,this.kn.height)},
N8:function(a){this.zb=a},jU:function(a,c,d,e){var f=this.Jy,g=this.ha,h=this.ma;p.L.viewport(a*g*f+this.re.x*f,c*h*f+this.re.y*f,d*g*f,e*h*f)},XB:function(a,c,d,e){var f=this.Jy,g=this.ha,h=this.ma;p.L.scissor(a*g*f+this.re.x*f,c*h*f+this.re.y*f,d*g*f,e*h*f)},eR:function(){var a=p.L;return a.isEnabled(a.SCISSOR_TEST)},cQ:function(){var a=p.L,c=this.ha,d=this.ma,a=a.getParameter(a.SCISSOR_BOX);return p.rect((a[0]-this.re.x)/c,(a[1]-this.re.y)/d,a[2]/c,a[3]/d)},W8:function(a){null!=a&&0<a.length&&
(this.mA=a)},h3:function(){return this.mA},i3:function(){return this.re},aQ:function(){return this.ha},bQ:function(){return this.ma},nj:function(a,c,d){return{x:a-d.left,y:d.top+d.height-c}},uQ:function(a,c,d,e){for(var f=[],g=this.re,h=this.ha,k=this.ma,l=0;l<a;++l){var m=c[l],n=d[l],r=e[l],q=0;if(null==p.jp[m])if(q=this.YL(),-1==q)p.log("The touches is more than MAX_TOUCHES, nUnusedIndex \x3d "+q);else{var t=p.ot[q]=new p.Ee;t.bC(q,(n-g.x)/h,(r-g.y)/k);p.jp[m]=0|q;f.push(t)}}0!=f.length&&this.zb.Ew(f,
null)},xQ:function(a,c,d,e){for(var f=[],g=this.ha,h=this.ma,k=this.re.x,l=this.re.y,m=0;m<a;++m){var n=d[m],r=e[m],q=p.jp[c[m]];if(null!=q){var t=p.ot[q];if(t)t.bC(q,(n-k)/g,(r-l)/h),f.push(t);else return}}0!=f.length&&this.zb.Fw(f,null)},wQ:function(a,c,d,e){var f=[];this.nG(f,a,c,d,e);this.zb.Wr(f,null)},vQ:function(a,c,d,e){var f=[];this.nG(f,a,c,d,e);this.zb.kC(f,null)},nG:function(a,c,d,e,f){for(var g=this.ha,h=this.ma,k=this.re,l=0;l<c;++l){var m=d[l],n=e[l],r=f[l],q=p.jp[m];if(null!=q){var t=
p.ot[q];if(t)t.bC(q,(n-k.x)/g,(r-k.y)/h),a.push(t),p.ot[q]=null,this.XM(q),delete p.jp[m];else break}}},Ew:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.bf||h,d[f]=g.X.x,e[f]=g.X.y,++f;this.uQ(f,c,d,e)},Fw:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.bf||h,d[f]=g.X.x,e[f]=g.X.y,++f;this.xQ(f,c,d,e)},Wr:function(a){for(var c=[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.bf||h,d[f]=g.X.x,e[f]=g.X.y,++f;this.wQ(f,c,d,e)},kC:function(a){for(var c=
[],d=[],e=[],f=0,g,h=0;h<a.length;h++)g=a[h],c[f]=g.bf||h,d[f]=g.X.x,e[f]=g.X.y,++f;this.vQ(f,c,d,e)}});p.da.d=function(){this.nb||(this.nb=new p.da,this.nb.UQ());return this.nb};
p.fg=p.oa.extend({lm:function(){},apply:function(){},km:function(){},UE:function(a,c,d){p.qa.tj&&a==document.documentElement&&p.yx.d().wO(p.canvas);a=p.canvas;var e=p.mj;a.width=c;a.height=d;e.style.width=c+"px";e.style.height=d+"px";c=document.body;var f;c&&(f=c.style)&&(f.paddingTop=f.paddingTop||"0px",f.paddingRight=f.paddingRight||"0px",f.paddingBottom=f.paddingBottom||"0px",f.paddingLeft=f.paddingLeft||"0px",f.borderTop=f.borderTop||"0px",f.borderRight=f.borderRight||"0px",f.borderBottom=f.borderBottom||
"0px",f.borderLeft=f.borderLeft||"0px",f.marginTop=f.marginTop||"0px",f.marginRight=f.marginRight||"0px",f.marginBottom=f.marginBottom||"0px",f.marginLeft=f.marginLeft||"0px")},cE:function(){document.body.insertBefore(p.mj,document.body.firstChild);var a=document.body.style;a.width=window.innerWidth+"px";a.height=window.innerHeight+"px";a.overflow="hidden";a=p.mj.style;a.position="fixed";a.left=a.top="0px";document.body.scrollTop=0}});
p.be=p.oa.extend({Ez:{scale:[1,1],viewport:null},xp:function(a,c,d,e,f,g){a=p.rect(Math.round((a-d)/2),Math.round((c-e)/2),d,e);p.Yc==p.wf&&p.L.translate(a.x,a.y+e);this.Ez.scale=[f,g];this.Ez.viewport=a;return this.Ez},lm:function(){},apply:function(){return{scale:[1,1]}},km:function(){}});
(function(){var a=p.fg.extend({apply:function(a){this.UE(a.Qi,a.ge.width,a.ge.height)}}),c=p.fg.extend({apply:function(a,c){var d=a.ge.width,e=a.ge.height,f=p.mj.style,n=c.width,r=c.height,q=d/n,t=e/r,y,A;q<t?(y=d,A=r*q):(y=n*t,A=e);n=Math.floor((d-y)/2);A=Math.floor((e-A)/2);this.UE(a.Qi,d-2*n,e-2*A);f.marginLeft=n+"px";f.marginRight=n+"px";f.marginTop=A+"px";f.marginBottom=A+"px"}});a.extend({lm:function(a){a.Qi=document.documentElement},apply:function(a){this._super(a);this.cE()}});c.extend({lm:function(a){a.Qi=
document.documentElement},apply:function(a,c){this._super(a,c);this.cE()}});var d=p.fg.extend({});p.fg.ps=new a;p.fg.nK=new c;p.fg.NW=new d;var a=p.be.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height;return this.xp(d,e,d,e,d/c.width,e/c.height)}}),c=p.be.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=c.width,n=c.height,r=d/f,q=e/n,t,y,A;r<q?(t=r,y=d,A=n*t):(t=q,y=f*t,A=e);return this.xp(d,e,y,A,t,t)}}),d=p.be.extend({apply:function(a,c){var d=p.canvas.width,
e=p.canvas.height,f=c.width,n=c.height,r=d/f,q=e/n,t,y,A;r<q?(t=q,y=f*t,A=e):(t=r,y=d,A=n*t);return this.xp(d,e,y,A,t,t)}}),e=p.be.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=e/c.height;return this.xp(d,e,d,e,f,f)},km:function(a){p.M.d().ub=a.mr()}}),f=p.be.extend({apply:function(a,c){var d=p.canvas.width,e=p.canvas.height,f=d/c.width;return this.xp(d,e,d,e,f,f)},km:function(a){p.M.d().ub=a.mr()}});p.be.$w=new a;p.be.SHOW_ALL=new c;p.be.mx=new d;p.be.ax=new e;p.be.bx=new f})();
p.Jm=p.oa.extend({Lt:null,Mt:null,ctor:function(a,c){this.lT(a);this.oT(c)},lm:function(a){this.Lt.lm(a);this.Mt.lm(a)},apply:function(a,c){this.Lt.apply(a,c);return this.Mt.apply(a,c)},km:function(a){this.Lt.km(a);this.Mt.km(a)},lT:function(a){a instanceof p.fg&&(this.Lt=a)},oT:function(a){a instanceof p.be&&(this.Mt=a)}});p.yx=p.oa.extend({Gq:!1,Rj:"",oz:null,pz:null,bA:"",s:function(){var a=["webkit","moz","o","ms","khtml"],c=document.body;if(c.requestFullScreen)this.Gq=!0;else for(var d=0,e=a.length,f;d<e;d++)if(f=a[d],c[f+"RequestFullScreen"]){this.Gq=!0;this.Rj=f;break}this.bA="ontouchstart"in window?"touchstart":"mousedown"},fullScreen:function(){var a=document;if(this.Gq)switch(this.Rj){case "":return a.fullScreen;case "webkit":return a.webkitIsFullScreen;default:return a[this.Rj+"FullScreen"]}return!1},DH:function(a,
c){if(this.Gq&&!this.fullScreen()){if(c){var d=this.Rj+"fullscreenchange";this.oz&&this.pz&&this.oz.removeEventListener(d,this.pz);this.oz=a;this.pz=c;a.addEventListener(d,c,!1)}return""===this.Rj?a.requestFullScreen():a[this.Rj+"RequestFullScreen"]()}},p_:function(){if(this.Gq&&this.fullScreen())return""===this.Rj?document.body.cancelFullScreen():document.body[this.Rj+"CancelFullScreen"]()},wO:function(a,c){function d(){e.DH(a,c);a.removeEventListener(e.bA,d)}var e=this;this.DH(a,c);a.addEventListener(this.bA,
d)}});p.yx.d=function(){if(!this.nb){var a=new p.yx;a.s();this.nb=a}return this.nb};p.BD={ih:p.Sc(),yg:p.Sc(),hh:p.Sc(),Oh:p.Sc(),Ph:p.Sc(),Nh:p.Sc(),gy:p.Sc(),Zh:p.Sc(),dh:p.Sc(),sa:0,ea:0,s:function(a){this.sa=a.width;this.ea=a.height;a=this.sa;var c=this.ea;this.ih.I=c;this.yg.A=a;this.yg.I=c;this.hh.A=a/2;this.hh.I=c;this.Ph.A=a;this.Nh.A=a/2;this.gy.A=a/2;this.gy.I=c/2;this.Zh.I=c/2;this.dh.A=a;this.dh.I=c/2},nr:function(){return this.sa},jr:function(){return this.ea},G9:function(){return this.ih},H9:function(){return this.yg},top:function(){return this.hh},wZ:function(){return this.Oh},
xZ:function(){return this.Ph},bottom:function(){return this.Nh},HZ:function(){return this.gy},left:function(){return this.Zh},right:function(){return this.dh}};p.yw=function(a){var c;if(a&&0!=a.length){var d=a.indexOf("{"),e=a.indexOf("}");-1==d||-1==e||d>e||(a=a.substr(d+1,e-d-1),0!=a.length&&(d=a.indexOf("{"),e=a.indexOf("}"),-1==d&&-1==e&&(c=a.split(","))))}return c};
p.kD=function(a){var c=p.Dc();if(a){var d=a.indexOf("{")+1,e=a.lastIndexOf("}",a.length);-1!=d&&-1!=e&&(a=a.substring(d,e),d=a.indexOf("}"),-1!=d&&(d=a.indexOf(",",d),-1!=d&&(c=a.substr(d+1,a.length-d),a=p.yw(a.substr(0,d)),c=p.yw(c),c=p.rect(parseFloat(a[0]),parseFloat(a[1]),parseFloat(c[0]),parseFloat(c[1])))))}return c};p.jD=function(a){var c=p.Ci();try{if(""==a)return c;var d=p.yw(a),c=p.a(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};
p.zx=function(a){var c=p.Tk();try{if(""==a)return c;var d=p.yw(a),c=p.size(parseFloat(d[0]),parseFloat(d[1]))}catch(e){}return c};p.iV=function(a,c,d,e,f,g){this.B=a;this.f=c;this.na=d;this.wa=e;this.Ka=f;this.La=g};p.YX=function(a,c,d,e,f,g){return{B:a,f:c,na:d,wa:e,Ka:f,La:g}};p.lV=function(a,c,d,e,f,g){return{B:a,f:c,na:d,wa:e,Ka:f,La:g}};p.ZX=function(a,c){return{x:c.B*a.x+c.na*a.y+c.Ka,y:c.f*a.x+c.wa*a.y+c.La}};p.iD=function(a,c){return{x:c.B*a.x+c.na*a.y+c.Ka,y:c.f*a.x+c.wa*a.y+c.La}};p.Oj=function(a,c,d){return{x:d.B*a+d.na*c+d.Ka,y:d.f*a+d.wa*c+d.La}};
p.$X=function(a,c){return{width:c.B*a.width+c.na*a.height,height:c.f*a.width+c.wa*a.height}};p.wX=function(a,c){return{width:c.B*a.width+c.na*a.height,height:c.f*a.width+c.wa*a.height}};p.mV=function(){return{B:1,f:0,na:0,wa:1,Ka:0,La:0}};p.kV=function(){return{B:1,f:0,na:0,wa:1,Ka:0,La:0}};
p.ig=function(a,c){var d=p.Bk(a),e=p.Ak(a),f=p.om(a),g=p.pm(a),h=p.Oj(e,d,c),d=p.Oj(f,d,c),e=p.Oj(e,g,c),k=p.Oj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);return p.rect(f,l,g-f,h-l)};
p.Jh=function(a,c){var d=p.Bk(a),e=p.Ak(a),f=p.om(a),g=p.pm(a),h=p.Oj(e,d,c),d=p.Oj(f,d,c),e=p.Oj(e,g,c),k=p.Oj(f,g,c),f=Math.min(h.x,d.x,e.x,k.x),g=Math.max(h.x,d.x,e.x,k.x),l=Math.min(h.y,d.y,e.y,k.y),h=Math.max(h.y,d.y,e.y,k.y);a.x=f;a.y=l;a.width=g-f;a.height=h-l;return a};p.Lw=function(a,c,d){return{B:a.B,f:a.f,na:a.na,wa:a.wa,Ka:a.Ka+a.B*c+a.na*d,La:a.La+a.f*c+a.wa*d}};p.nV=function(a,c,d){return{B:a.B*c,f:a.f*c,na:a.na*d,wa:a.wa*d,Ka:a.Ka,La:a.La}};
p.eJ=function(a){var c=Math.sin(1.57079633),d=Math.cos(1.57079633);return{B:a.B*d+a.na*c,f:a.f*d+a.wa*c,na:a.na*d-a.B*c,wa:a.wa*d-a.f*c,Ka:a.Ka,La:a.La}};p.Kk=function(a,c){return{B:a.B*c.B+a.f*c.na,f:a.B*c.f+a.f*c.wa,na:a.na*c.B+a.wa*c.na,wa:a.na*c.f+a.wa*c.wa,Ka:a.Ka*c.B+a.La*c.na+c.Ka,La:a.Ka*c.f+a.La*c.wa+c.La}};p.jV=function(a,c){return a.B===c.B&&a.f===c.f&&a.na===c.na&&a.wa===c.wa&&a.Ka===c.Ka&&a.La===c.La};
p.tC=function(a){var c=1/(a.B*a.wa-a.f*a.na);return{B:c*a.wa,f:-c*a.f,na:-c*a.na,wa:c*a.B,Ka:c*(a.na*a.La-a.wa*a.Ka),La:c*(a.f*a.Ka-a.B*a.La)}};p.ZC=parseFloat("1.192092896e-07F");p.xB=function(a){return p.a(-a.x,-a.y)};p.qf=function(a,c){return p.a(a.x+c.x,a.y+c.y)};p.Xc=function(a,c){return p.a(a.x-c.x,a.y-c.y)};p.ui=function(a,c){return p.a(a.x*c,a.y*c)};p.wB=function(a,c){return p.ui(p.qf(a,c),0.5)};p.Eo=function(a,c){return a.x*c.x+a.y*c.y};p.z5=function(a,c){return a.x*c.y-a.y*c.x};p.Tv=function(a){return p.a(-a.y,a.x)};p.H5=function(a){return p.a(a.y,-a.x)};p.G5=function(a,c){return p.ui(c,p.Eo(a,c)/p.Eo(c,c))};
p.I5=function(a,c){return p.a(a.x*c.x-a.y*c.y,a.x*c.y+a.y*c.x)};p.N5=function(a,c){return p.a(a.x*c.x+a.y*c.y,a.y*c.x-a.x*c.y)};p.iH=function(a){return p.Eo(a,a)};p.A5=function(a,c){return p.iH(p.Xc(a,c))};p.uB=function(a){return Math.sqrt(p.iH(a))};p.tB=function(a,c){return p.uB(p.Xc(a,c))};p.Ng=function(a){return p.ui(a,1/p.uB(a))};p.B5=function(a){return p.a(Math.cos(a),Math.sin(a))};p.M5=function(a){return Math.atan2(a.y,a.x)};p.$q=function(a,c,d){if(c>d){var e=c;c=d;d=e}return a<c?c:a<d?a:d};
p.hH=function(a){var c=p.a(0,0),d=p.a(1,1);return p.a(p.$q(a.x,c.x,d.x),p.$q(a.y,c.y,d.y))};p.QR=function(){var a=p.M.d().ub;return p.a(a.width,a.height)};p.y5=function(a,c){return p.a(c(a.x),c(a.y))};p.jH=function(a,c,d){return p.qf(p.ui(a,1-d),p.ui(c,d))};p.C5=function(a,c,d){return a.x-d<=c.x&&c.x<=a.x+d&&a.y-d<=c.y&&c.y<=a.y+d?!0:!1};p.x5=function(a,c){return p.a(a.x*c.x,a.y*c.y)};p.w5=function(a,c){var d=p.Ng(a),e=p.Ng(c),d=Math.atan2(d.x*e.y-d.y*e.x,p.Eo(d,e));return Math.abs(d)<p.ZC?0:d};
p.v5=function(a,c){var d=Math.acos(p.Eo(p.Ng(a),p.Ng(c)));return Math.abs(d)<p.ZC?0:d};p.SR=function(a,c,d){a=p.Xc(a,c);var e=Math.cos(d);d=Math.sin(d);var f=a.x;a.x=f*e-a.y*d+c.x;a.y=f*d+a.y*e+c.y;return a};p.vB=function(a,c,d,e,f){if(a.x==c.x&&a.y==c.y||d.x==e.x&&d.y==e.y)return!1;var g=c.x-a.x;c=c.y-a.y;var h=e.x-d.x;e=e.y-d.y;var k=a.x-d.x;a=a.y-d.y;d=e*g-h*c;f.x=h*a-e*k;f.y=g*a-c*k;if(0==d)return 0==f.x||0==f.y?!0:!1;f.x/=d;f.y/=d;return!0};
p.K5=function(a,c,d,e){var f=p.a(0,0);return p.vB(a,c,d,e,f)&&0<=f.x&&1>=f.x&&0<=f.y&&1>=f.y?!0:!1};p.E5=function(a,c,d,e){var f=p.a(0,0);return p.vB(a,c,d,e,f)?(d=p.a(0,0),d.x=a.x+f.x*(c.x-a.x),d.y=a.y+f.x*(c.y-a.y),d):p.Ci()};p.J5=function(a,c){return null!=a&&null!=c?a.x==c.x&&a.y==c.y:!1};p.O5=function(a){a.x=0;a.y=0};p.D5=function(a,c){a.x=c.x;a.y=c.y};p.RR=function(a,c){a.x*=c;a.y*=c};p.L5=function(a,c){a.x-=c.x;a.y-=c.y};p.u5=function(a,c){a.x+=c.x;a.y+=c.y};
p.F5=function(a){p.RR(a,1/Math.sqrt(a.x*a.x+a.y*a.y))};p.X9=function(a,c,d,e,f){f+=e;if(!(1>=f)){c*=0.5;for(var g,h=f-1,k=e;k<f;k++){g=2*k;var l=p.a(a[2*k],a[2*k+1]),m;if(0===k)m=p.Tv(p.Ng(p.Xc(l,p.a(a[2*(k+1)],a[2*(k+1)+1]))));else if(k===h)m=p.Tv(p.Ng(p.Xc(p.a(a[2*(k-1)],a[2*(k-1)+1]),l)));else{m=p.a(a[2*(k-1)],a[2*(k-1)+1]);var n=p.a(a[2*(k+1)],a[2*(k+1)+1]),r=p.Ng(p.Xc(n,l)),q=p.Ng(p.Xc(m,l)),t=Math.acos(p.Eo(r,q));m=t<p.Ai(70)?p.Tv(p.Ng(p.wB(r,q))):t<p.Ai(170)?p.Ng(p.wB(r,q)):p.Tv(p.Ng(p.Xc(n,m)))}m=p.ui(m,c);d[2*g]=l.x+m.x;d[2*g+1]=l.y+m.y;d[2*
(g+1)]=l.x-m.x;d[2*(g+1)+1]=l.y-m.y}for(k=0==e?0:e-1;k<h;k++)g=2*k,a=g+2,c=p.st(d[2*g],d[2*g+1]),f=p.st(d[2*(g+1)],d[2*(g+1)+1]),g=p.st(d[2*a],d[2*a]),e=p.st(d[2*(a+1)],d[2*(a+1)+1]),c=!p.RU(c.x,c.y,e.x,e.y,f.x,f.y,g.x,g.y),!c.vr&&(0>c.value||1<c.value)&&(c.vr=!0),c.vr&&(d[2*a]=e.x,d[2*a+1]=e.y,d[2*(a+1)]=g.x,d[2*(a+1)+1]=g.y)}};
p.RU=function(a,c,d,e,f,g,h,k){if(a==d&&c==e||f==h&&g==k)return{vr:!1,value:0};d-=a;e-=c;f-=a;g-=c;h-=a;k-=c;a=Math.sqrt(d*d+e*e);d/=a;e/=a;c=f*d+g*e;g=g*d-f*e;f=c;c=h*d+k*e;k=k*d-h*e;h=c;return g==k?{vr:!1,value:0}:{vr:!0,value:(h+(f-h)*k/(k-g))/a}};p.wV=function(a,c){c[2]=c[3]=c[6]=c[7]=c[8]=c[9]=c[11]=c[14]=0;c[10]=c[15]=1;c[0]=a.B;c[4]=a.na;c[12]=a.Ka;c[1]=a.f;c[5]=a.wa;c[13]=a.La};p.gW=function(a,c){c.B=a[0];c.na=a[4];c.Ka=a[12];c.f=a[1];c.wa=a[5];c.La=a[13]};p.XC=-1;p.GW=null;p.HW=null;p.VS=1;
p.H=p.oa.extend({Pa:0,hv:0,Lf:0,eh:0,ha:1,ma:1,p:null,Dd:0,Ed:0,n:null,ra:!0,Fe:null,cd:null,fa:null,ke:!1,ga:null,ak:!1,Kc:p.XC,qF:null,iA:null,hj:!0,eu:!0,TD:!0,NY:null,gj:null,mE:null,Cd:!1,lc:null,ef:0,lg:null,Mf:null,lE:!1,qp:!1,zt:null,Sh:null,az:!1,tl:0,tq:0,Yy:function(){this.Fe=p.Sc();this.cd=p.Sc();this.fa=p.xl();this.p=p.Sc();this.n=[];this.gj={B:1,f:0,na:0,wa:1,Ka:0,La:0};var a=p.M.d();this.lg=a.Qf();this.Mf=a.Se();this.lE=!0;this.zt={B:1,f:0,na:0,wa:1,Ka:0,La:0};p.nJ&&(this.Sh=new p.nJ(this))},
s:function(){!1===this.lE&&this.Yy();return!0},Cf:function(a,c){if(a&&0!==a.length){var d,e=a.length,f;d=p.H.$e;switch(c){case d.Xf:for(d=0;d<e;d++)(f=a[d])&&f.Xf();break;case d.ld:for(d=0;d<e;d++)(f=a[d])&&f.ld();break;case d.wh:for(d=0;d<e;d++)(f=a[d])&&f.wh();break;case d.mf:for(d=0;d<e;d++)(f=a[d])&&f.mf();break;case d.uf:for(d=0;d<e;d++)(f=a[d])&&f.uf();break;case d.Mg:for(d=0;d<e;d++)(f=a[d])&&f.Mg();break;case d.md:for(d=0;d<e;d++)(f=a[d])&&f.md();break;default:throw"Unknown callback function";
}}},Ja:null,qN:function(){this.vl();!1===this.hj&&(this.hj=this.eu=!0)},rN:function(){!1===this.hj&&(this.hj=this.eu=!0)},y2:function(){return this.Dd},sw:function(a){this.Dd=a;this.Ja()},z2:function(){return this.Ed},tw:function(a){this.Ed=a;this.Ja()},o3:function(){return this.Pa},Ku:function(a){this.Pa=a},Y8:function(a){this.Ku(a);this.ga&&this.ga.Jr(this,a)},e3:function(){return this.hv},qI:function(a){this.hv=a},$P:function(){this.Lf!==this.eh&&p.log("cc.Node.rotation(): RotationX !\x3d RotationY. Don't know which one to return");
return this.Lf},ow:function(a){this.Lf=this.eh=a;this.tl=0.017453292519943295*this.Lf;this.tq=0.017453292519943295*this.eh;this.Ja()},o2:function(){return this.Lf},pw:function(a){this.Lf=a;this.tl=0.017453292519943295*this.Lf;this.Ja()},p2:function(){return this.eh},qw:function(a){this.eh=a;this.tq=0.017453292519943295*this.eh;this.Ja()},RA:function(){this.ha!==this.ma&&p.log("cc.Node.getScale(): ScaleX !\x3d ScaleY. Don't know which one to return");return this.ha},Bj:function(a,c){this.ha=a;this.ma=
c||0===c?c:a;this.Ja()},aQ:function(){return this.ha},Mo:function(a){this.ha=a;this.Ja()},bQ:function(){return this.ma},vm:function(a){this.ma=a;this.Ja()},F:function(a,c){var d=this.p;2==arguments.length?(d.A=a,d.I=c):1==arguments.length&&(d.A=a.x,d.I=a.y);this.Ja()},Y1:function(){return this.p},Z1:function(){return this.p.A},Cb:function(a){this.p.A=a;this.Ja()},a2:function(){return this.p.I},Lo:function(a){this.p.I=a;this.Ja()},i0:function(){return this.n.length},h0:function(){return this.n},x4:function(){return this.ra},
u:function(a){this.ra=a;this.Ja()},R_:function(){return this.Fe},la:function(a,c){var d=this.Fe;if(2===arguments.length){if(a===d.A&&c===d.I)return;d.A=a;d.I=c}else{if(a.x===d.A&&a.y===d.I)return;d.A=a.x;d.I=a.y}var e=this.cd,f=this.fa;e.A=f.sa*d.A;e.I=f.ea*d.I;this.Ja()},S_:function(){return this.cd},g:function(){return this.fa},aa:function(a,c){var d=this.fa;if(2===arguments.length){if(a===d.sa&&c===d.ea)return;d.sa=a;d.ea=c}else{if(a.width===d.sa&&a.height===d.ea)return;d.sa=a.width;d.ea=a.height}var e=
this.cd,f=this.Fe;e.A=d.sa*f.A;e.I=d.ea*f.I;this.Ja()},o4:function(){return this.ke},getParent:function(){return this.ga},Pr:function(a){this.ga=a},a4:function(){return this.ak},pi:function(a){a!=this.ak&&(this.ak=a,this.Ja())},iQ:function(){return this.Kc},mI:function(a){this.Kc=a},getUserData:function(){return this.qF},setUserData:function(a){this.qF=a},c3:function(){return this.iA},R8:function(a){this.iA!=a&&(this.iA=a)},O1:function(){return this.ef},Ko:function(a){this.ef=a},Qf:function(){this.lg||
(this.lg=p.M.d().Qf());return this.lg},dT:function(a){this.lg!=a&&(this.gC(),this.lg=a)},Se:function(){this.Mf||(this.Mf=p.M.d().Se());return this.Mf},$T:function(a){this.Mf!=a&&(this.Xr(),this.Mf=a)},Ua:function(){var a=p.rect(0,0,this.fa.sa,this.fa.ea);return p.Jh(a,this.pf())},mf:function(){this.gC();this.Xr();this.Cf(this.n,p.H.$e.mf)},description:function(){return"\x3ccc.Node | Tag \x3d"+this.Kc+"\x3e"},CP:function(a){var c=this.n;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.Kc==
a)return e}return null},t:function(a,c,d){if(!a)throw"cc.Node.addChild(): child must be non-null";a===this?p.log("cc.Node.addChild(): An Node can't be added as a child of itself."):null!==a.ga?p.log("cc.Node.addChild(): child already added. It can't be added again"):(c=null!=c?c:a.Pa,a.Kc=null!=d?d:a.Kc,this.kM(a,c),a.ga=this,this.ke&&(a.Xf(),this.az&&a.wh()))},T:function(a){this.ga&&(null==a&&(a=!0),this.ga.removeChild(this,a))},ES:function(a){p.log("removeFromParentAndCleanup is deprecated. Use removeFromParent instead");
this.T(a)},removeChild:function(a,c){0!==this.n.length&&(null==c&&(c=!0),-1<this.n.indexOf(a)&&this.JL(a,c),this.Ja())},t6:function(a,c){a===p.XC&&p.log("cc.Node.removeChildByTag(): argument tag is an invalid tag");var d=this.CP(a);null==d?p.log("cocos2d: removeChildByTag(tag \x3d "+a+"): child not found!"):this.removeChild(d,c)},l6:function(a){p.log("removeAllChildrenWithCleanup is deprecated. Use removeAllChildren instead");this.Ah(a)},Ah:function(a){var c=this.n;if(null!=c){null==a&&(a=!0);for(var d=
0;d<c.length;d++){var e=c[d];e&&(this.ke&&(e.Mg(),e.ld()),a&&e.mf(),e.Pr(null))}this.n.length=0}},JL:function(a,c){this.ke&&(a.Mg(),a.ld());c&&a.mf();a.Pr(null);p.od(this.n,a)},kM:function(a,c){this.Cd=!0;this.n.push(a);a.Ku(c)},Jr:function(a,c){if(!a)throw"cc.Node.reorderChild(): child must be non-null";this.Cd=!0;a.Ko(p.VS++);a.Ku(c);this.Ja()},md:function(){if(this.Cd){var a=this.n,c,d,e=a.length,f;for(c=0;c<e;c++){var g=a[c];d=c-1;for(f=a[d];0<=d&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.ef<f.ef);)a[d+1]=f,
d-=1,f=a[d];a[d+1]=g}this.Cd=!1}},Ia:function(){},Gw:function(){null!=this.ga&&(this.ga.Gw(),this.ga.transform())},Xf:function(){this.az=!1;this.ke=!0;this.Cf(this.n,p.H.$e.Xf);this.cw()},wh:function(){this.az=!0;this.Cf(this.n,p.H.$e.wh)},Mg:function(){this.Cf(this.n,p.H.$e.Mg)},ld:function(){this.ke=!1;this.Vv();this.Cf(this.n,p.H.$e.ld);this.Sh&&this.Sh.zS()},dw:function(a){if(!a)throw"cc.Node.runAction(): action must be non-null";this.Qf().iO(a,this,!this.ke);return a},gC:function(){this.Qf().zH(this)},
zU:function(a){this.Qf().yH(a)},h9:function(a){a===p.Bm?p.log("cc.Node.stopActionBy(): argument tag an invalid tag"):this.Qf().yS(a,this)},NA:function(a){return a===p.Bm?(p.log("cc.Node.getActionByTag(): argument tag is an invalid tag"),null):this.Qf().NA(a,this)},A1:function(){return this.Qf().xR(this)},XS:function(){this.YS(0)},YS:function(a){this.Se().HH(this,a,!this.ke)},L9:function(){this.Se().To(this)},we:function(a,c,d,e){c=c||0;if(!a)throw"cc.Node.schedule(): callback function must be non-null";
if(0>c)throw"cc.Node.schedule(): interval must be positive";d=null==d?p.Sk:d;e=e||0;this.Se().WS(this,a,c,d,e,!this.ke)},Ch:function(a,c){this.we(a,0,0,c)},Qg:function(a){a&&this.Se().NI(this,a)},Xr:function(){this.Se().MI(this)},cw:function(){this.Se().rm(this);this.Qf().rm(this)},Vv:function(){this.Se().Hr(this);this.Qf().Hr(this)},Q6:function(a){this.zt=a;this.qp=this.hj=!0},R5:function(){this.eu&&(this.mE=p.tC(this.pf()),this.eu=!1);return this.mE},Er:function(){for(var a=this.pf(),c=this.ga;null!=
c;c=c.getParent())a=p.Kk(a,c.pf());return a},VU:function(){return p.tC(this.Er())},yb:function(a){return p.iD(a,this.VU())},tk:function(a){return p.iD(a,this.Er())},UO:function(a){return p.Xc(this.yb(a),this.cd)},SZ:function(a){a=p.qf(a,this.cd);return this.tk(a)},iY:function(a){a=this.tk(a);return p.M.d().VO(a)},nh:function(a){return this.yb(a.X)},TZ:function(a){a=a.X;a=p.M.d().TO(a);return this.UO(a)},update:function(a){this.Sh&&!this.Sh.W3()&&this.Sh.ca(a)},uf:function(){this.Cf(this.n,p.H.$e.uf)},
FH:function(){},GB:function(){},DP:function(a){return this.Sh.DP(a)},VY:function(a){this.Sh.add(a)},u6:function(a){return this.Sh.remove(a)},m6:function(){this.Sh.zS()},dF:null,Wz:null,Ty:null,$m:null,Yj:null,ctor:null,Wg:function(){this.Yy()},Xg:function(){this.Yy();var a=new p.Ig;a.Jg[2]=a.Jg[3]=a.Jg[6]=a.Jg[7]=a.Jg[8]=a.Jg[9]=a.Jg[11]=a.Jg[14]=0;a.Jg[10]=a.Jg[15]=1;this.dF=a;this.Ty=0;this.Wz=new p.Ig},ca:null,Jl:function(a){if(this.ra){a=a||p.L;var c,d=this.n,e;a.save();this.transform(a);var f=
d.length;if(0<f){this.md();for(c=0;c<f;c++)if(e=d[c],0>e.Pa)e.ca(a);else break;for(this.Ia(a);c<f;c++)d[c].ca(a)}else this.Ia(a);this.ef=0;a.restore()}},Kl:function(){if(this.ra){var a=p.L,c,d=p.YO;d.stack.push(d.top);p.E4(this.Wz,d.top);d.top=this.Wz;var e=this.Yj;e&&e.aL&&e.wA();this.transform();var f=this.n;if(f&&0<f.length){var g=f.length;this.md();for(c=0;c<g;c++)if(f[c]&&0>f[c].Pa)f[c].ca();else break;for(this.Ia(a);c<g;c++)f[c]&&f[c].ca()}else this.Ia(a);this.ef=0;e&&e.aL&&e.tA(this);d.top=
d.stack.pop()}},transform:null,RN:function(a){a=a||p.L;var c=p.da.d(),d=this.pf();a.transform(d.B,d.na,d.f,d.wa,d.Ka*c.ha,-d.La*c.ma)},SN:function(){var a=this.dF,c=p.YO.top,d=this.pf(),e=a.Jg;e[0]=d.B;e[4]=d.na;e[12]=d.Ka;e[1]=d.f;e[5]=d.wa;e[13]=d.La;e[14]=this.hv;p.lR(c,c,a);null==this.$m||null!=this.Yj&&this.Yj.ro()||(a=this.cd.A,c=this.cd.I,0!==a||0!==c?(p.jR(p.yf(a),p.yf(c),0),this.$m.UG(),p.jR(p.yf(-a),p.yf(-c),0)):this.$m.UG())},pf:null,BM:function(){this.gj||(this.gj={B:1,f:0,na:0,wa:1,Ka:0,
La:0});if(this.hj){var a=this.gj;a.Ka=this.p.A;a.La=this.p.I;var c=1,d=0;this.Lf&&(c=Math.cos(this.tl),d=Math.sin(this.tl));a.B=a.wa=c;a.f=-d;a.na=d;var e=this.ha,f=this.ma,g=this.cd.A,h=this.cd.I,k=1E-6>e&&-1E-6<e?1E-6:e,l=1E-6>f&&-1E-6<f?1E-6:f;if(this.Dd||this.Ed){var m=Math.tan(-this.Dd*Math.PI/180),n=Math.tan(-this.Ed*Math.PI/180),r=h*m*k,q=g*n*l;a.B=c+-d*n;a.f=c*m+-d;a.na=d+c*n;a.wa=d*m+c;a.Ka+=c*r+-d*q;a.La+=d*r+c*q}if(1!==e||1!==f)a.B*=k,a.na*=k,a.f*=l,a.wa*=l;a.Ka+=c*-g*k+-d*h*l;a.La-=d*
-g*k+c*h*l;this.ak&&(a.Ka+=g,a.La+=h);this.qp&&(this.gj=p.Kk(this.gj,this.zt),this.qp=!1);this.hj=!1}return this.gj},CM:function(){if(this.hj){var a=this.p.A,c=this.p.I,d=this.cd.A,e=-d,f=this.cd.I,g=-f,h=this.ha,k=this.ma;this.ak&&(a+=d,c+=f);var l=1,m=0,n=1,r=0;if(0!==this.Lf||0!==this.eh)l=Math.cos(-this.tl),m=Math.sin(-this.tl),n=Math.cos(-this.tq),r=Math.sin(-this.tq);var q=this.Dd||this.Ed;q||0===d&&0===f||(a+=n*e*h+-m*g*k,c+=r*e*h+l*g*k);a={B:n*h,f:r*h,na:-m*k,wa:l*k,Ka:a,La:c};q&&(a=p.Kk({B:1,
f:Math.tan(p.Ai(this.Ed)),na:Math.tan(p.Ai(this.Dd)),wa:1,Ka:0,La:0},a),0!==d||0!==f)&&(a=p.Lw(a,e,g));this.qp&&(a=p.Kk(a,this.zt),this.qp=!1);this.gj=a;this.hj=!1}return this.gj},vl:function(){this.TD=!0;this.ga&&this.ga.vl()},OA:function(){this.$m||(this.$m=new p.Yo);return this.$m},Q0:function(){return this.Yj},w7:function(a){this.Yj=a},SA:function(){return this.lc},ag:function(a){this.lc=a},P0:function(){return this.Ty},v7:function(a){this.Ty=a},$_:function(){var a=p.rect(0,0,this.fa.sa,this.fa.ea),
c=this.Er(),a=p.ig(a,this.Er());if(!this.n)return a;for(var d=this.n,e=0;e<d.length;e++){var f=d[e];f&&f.ra&&(f=f.eE(c))&&(a=p.$v(a,f))}return a},eE:function(a){var c=p.rect(0,0,this.fa.sa,this.fa.ea);a=null==a?this.pf():p.Kk(this.pf(),a);c=p.ig(c,a);if(!this.n)return c;for(var d=this.n,e=0;e<d.length;e++){var f=d[e];f&&f.ra&&(f=f.eE(a))&&(c=p.$v(c,f))}return c}});
p.qa.oc?(b=p.H.prototype,b.ctor=p.H.prototype.Xg,b.Ja=p.H.prototype.rN,b.ca=p.H.prototype.Kl,b.transform=p.H.prototype.SN,b.pf=p.H.prototype.CM):(b=p.H.prototype,b.ctor=p.H.prototype.Wg,b.Ja=p.H.prototype.qN,b.ca=p.H.prototype.Jl,b.transform=p.H.prototype.RN,b.pf=p.H.prototype.BM);p.H.create=function(){return new p.H};p.H.$e={Xf:1,ld:2,mf:3,wh:4,uf:5,Mg:6,md:7};
p.eb=p.H.extend({Sa:!0,Ab:255,Kf:255,jc:null,Bd:null,Pc:!1,vd:!1,ctor:function(){p.H.prototype.ctor.call(this);this.Kf=this.Ab=255;this.jc=p.cb();this.Bd=p.cb();this.vd=this.Pc=!1},mi:function(){return this.Kf},GP:function(){return this.Ab},Z:function(a){this.Ab=this.Kf=a;a=255;var c=this.ga;c&&c.Sa&&c.vd&&(a=c.Ab);this.Bc(a)},Bc:function(a){this.Ab=this.Kf*a/255;if(this.vd){a=this.n;for(var c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.Bc(this.Ab)}}},cR:function(){return this.vd},OH:function(a){this.vd!==
a&&((this.vd=a)?this.Op():this.Ay())},Op:function(){var a=255,c=this.ga;c&&c.Sa&&c.vd&&(a=c.Ab);this.Bc(a)},Ay:function(){this.Ab=this.Kf;for(var a=this.n,c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.Bc(255)}},Vc:function(){var a=this.Bd;return new p.ec(a.i,a.h,a.f)},ir:function(){return this.jc},o:function(a){var c=this.jc,d=this.Bd;c.i=d.i=a.i;c.h=d.h=a.h;c.f=d.f=a.f;a=(a=this.ga)&&a.Sa&&a.Pc?a.ir():p.cb();this.Ac(a)},Ac:function(a){var c=this.jc,d=this.Bd;c.i=0|d.i*a.i/255;c.h=0|d.h*a.h/255;c.f=0|
d.f*a.f/255;if(this.Pc)for(a=this.n,d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.Ac(c)}},bR:function(){return this.Pc},NH:function(a){this.Pc!==a&&((this.Pc=a)?this.Np():this.zy())},Np:function(){var a;a=(a=this.ga)&&a.Sa&&a.Pc?a.ir():p.cb();this.Ac(a)},zy:function(){var a=this.jc,c=this.Bd;a.i=c.i;a.h=c.h;a.f=c.f;for(var a=this.n,c=p.cb(),d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.Ac(c)}},t:function(a,c,d){p.H.prototype.t.call(this,a,c,d);this.Pc&&this.Np();this.vd&&this.Op()},Ve:function(){},xk:function(){return!1}});
p.eb.create=function(){var a=new p.eb;a.s();return a};p.pd=p.eb.extend({Sa:!0,sE:0,rE:0,gu:0,fu:0,Li:null,Ea:null,Vb:!1,R:null,qq:0,Uy:!1,ctor:function(){p.eb.prototype.ctor.call(this);this.Li=p.cb();this.R={src:p.$d,lb:p.Zd};this.Uy=!1},N9:function(){p.log("cc.AtlasNode.updateAtlasValues(): Shall be overridden in subclasses")},Vc:function(){return this.Vb?this.Li:p.eb.prototype.Vc.call(this)},Ve:function(a){var c=this.Vc();this.Vb=a;this.o(c)},xk:function(){return this.Vb},hr:function(){return this.R},Ck:function(a,c){this.R=1==arguments.length?a:{src:a,
lb:c}},Oo:function(a){this.Ea=a},pG:function(){return this.Ea},g2:function(){return this.qq},l8:function(a){this.qq=a},Dl:null,Gf:null,gF:null,It:null,RQ:function(a,c,d,e){if(!a)throw"cc.AtlasNode.initWithTileFile(): title should not be null";a=p.Gb.d().Pe(a);return this.xa(a,c,d,e)},xa:null,bq:function(a,c,d,e){this.gu=c;this.fu=d;this.Vb=!0;this.Gf=a;if(!this.Gf)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Dl=this.Gf;this.Et();this.qq=e;return!0},cq:function(a,
c,d,e){this.gu=c;this.fu=d;this.Li=p.cb();this.Vb=!0;this.R.src=p.$d;this.R.lb=p.Zd;c=this.Bd;this.It=new Float32Array([c.i/255,c.h/255,c.f/255,this.Kf/255]);this.Ea=new p.Nm;this.Ea.xa(a,e);if(!this.Ea)return p.log("cocos2d: Could not initialize cc.AtlasNode. Invalid Texture."),!1;this.Il();this.nF();this.Et();this.qq=e;this.ag(p.Vg.d().zh(p.qX));this.gF=p.L.getUniformLocation(this.SA().Fv(),"u_color");return!0},Ia:null,Ff:function(a){a=a||p.L;p.lx(this);p.rj(this.R.src,this.R.lb);a.uniform4fv(this.gF,
this.It);this.Ea.TF(this.qq,0)},o:null,vq:function(a){var c=this.Bd;if(c.i!=a.i||c.h!=a.h||c.f!=a.f){c=new p.ec(a.i,a.h,a.f);this.Li=a;if(this.Vb){var d=this.Ab;c.i=c.i*d/255;c.h=c.h*d/255;c.f=c.f*d/255}p.eb.prototype.o.call(this,a);this.Q()&&(a=this.Gf.kc)&&(c=p.Gb.d().qG(a))&&(d=p.rect(0,0,a.width,a.height),a=p.MA(a,c,this.Bd,d),c=new p.Fb,c.Te(a),c.Td(),this.$(c))}},Iz:function(a){var c=p.ec(a.i,a.h,a.f);this.Li=a;var d=this.Ab;this.Vb&&(c.i=c.i*d/255,c.h=c.h*d/255,c.f=c.f*d/255);p.eb.prototype.o.call(this,
a);a=this.jc;this.It=new Float32Array([a.i/255,a.h/255,a.f/255,d/255])},Z:null,xq:function(a){p.eb.prototype.Z.call(this,a);this.Vb&&this.o(this.Li)},Lz:function(a){p.eb.prototype.Z.call(this,a);this.Vb?this.o(this.Li):(a=this.jc,this.It=new Float32Array([a.i/255,a.h/255,a.f/255,this.Ab/255]))},Q:null,Qy:function(){return this.Dl},Ry:function(){return this.Ea.Q()},$:null,yq:function(a){this.Dl=a},zq:function(a){this.Ea.$(a);this.Il();this.nF()},Et:null,rL:function(){var a=this.Q().g();this.rE=0|a.height/
this.fu;this.sE=0|a.width/this.gu},sL:function(){var a=this.Q(),c=a.g();this.Uy&&(c=a.fa);this.rE=0|c.height/this.fu;this.sE=0|c.width/this.gu},Il:function(){this.Ea.Q().qr()||(this.R.src=770,this.R.lb=771)},nF:function(){this.Vb=this.Ea.Q().qr()},Kz:function(a){this.Uy=a}});
p.qa.oc?(b=p.pd.prototype,b.xa=p.pd.prototype.cq,b.Ia=p.pd.prototype.Ff,b.o=p.pd.prototype.Iz,b.Z=p.pd.prototype.Lz,b.Q=p.pd.prototype.Ry,b.$=p.pd.prototype.zq,b.Et=p.pd.prototype.sL):(b=p.pd.prototype,b.xa=p.pd.prototype.bq,b.Ia=p.H.prototype.Ia,b.o=p.pd.prototype.vq,b.Z=p.pd.prototype.xq,b.Q=p.pd.prototype.Qy,b.$=p.pd.prototype.yq,b.Et=p.pd.prototype.rL);p.pd.create=function(a,c,d,e){var f=new p.pd;return f.RQ(a,c,d,e)?f:null};p.Ei=0;p.hp=1;p.gp=2;p.fp=3;p.Cx=4;p.Bx=5;p.it=6;p.ht=7;p.tD=8;p.sD=9;p.rD=p.Ei;p.sy=p.rD;p.oK=!1;p.KY=function(a,c,d,e){this.uR=a||0;this.rR=c||0;this.aJ=d||0;this.bJ=e||0};
p.EK=p.oa.extend({FM:null,ff:null,ug:null,tg:null,ez:null,fa:null,pg:null,qg:null,rn:null,il:!1,lc:null,bc:!1,kc:null,mh:null,dd:null,ctor:function(){this.tg=this.ug=0;this.ez="";this.qg=this.pg=0;this.rn=!1;this.fa=p.xl();this.il=!1;this.FM=!0;this.ff=p.Fb.ZO();this.lc=null;this.bc=!1;this.mh=this.kc=null;this.dd=[]},HB:function(){this.mh&&p.L.deleteTexture(this.mh)},T1:function(){return this.ff},lo:function(){return this.ug},ko:function(){return this.tg},getName:function(){return this.mh},g:function(){return p.size(this.fa.width/
p.$c(),this.fa.height/p.$c())},FP:function(){return this.fa},OP:function(){return this.pg},JT:function(a){this.pg=a},PP:function(){return this.qg},KT:function(a){this.qg=a},SA:function(){return this.lc},ag:function(a){this.lc=a},qr:function(){return this.rn},AQ:function(){return this.il},description:function(){return"\x3ccc.Texture2D | Name \x3d "+this.ez+" | Dimensions \x3d "+this.ug+" x "+this.tg+" | Coordinates \x3d ("+this.pg+", "+this.qg+")\x3e"},vS:function(){},hR:function(a){return a},Iv:function(a,
c,d,e,f){var g=p.L,h=0,h=c===p.Ei?24:this.GF(c),h=d*h/8;0===h%8?g.pixelStorei(g.UNPACK_ALIGNMENT,8):0===h%4?g.pixelStorei(g.UNPACK_ALIGNMENT,4):0===h%2?g.pixelStorei(g.UNPACK_ALIGNMENT,2):g.pixelStorei(g.UNPACK_ALIGNMENT,1);this.mh=g.createTexture();p.Tf(this);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);
switch(c){case p.Ei:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_BYTE,a);break;case p.hp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_BYTE,a);break;case p.it:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_4_4_4_4,a);break;case p.ht:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,e,0,g.RGBA,g.UNSIGNED_SHORT_5_5_5_1,a);break;case p.gp:g.texImage2D(g.TEXTURE_2D,0,g.RGB,d,e,0,g.RGB,g.UNSIGNED_SHORT_5_6_5,a);break;case p.Bx:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE_ALPHA,
d,e,0,g.LUMINANCE_ALPHA,g.UNSIGNED_BYTE,a);break;case p.fp:g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,d,e,0,g.ALPHA,g.UNSIGNED_BYTE,a);break;case p.Cx:g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,d,e,0,g.LUMINANCE,g.UNSIGNED_BYTE,a);break;default:throw"NSInternalInconsistencyException";}this.fa.sa=f.width;this.fa.ea=f.height;this.ug=d;this.tg=e;this.ff=c;this.pg=f.width/d;this.qg=f.height/e;this.il=this.rn=!1;this.ag(p.Vg.d().zh(p.tK));return this.bc=!0},jP:function(a){var c=[0,this.qg,this.pg,this.qg,0,0,this.pg,
0],d=this.ug*this.pg,e=this.tg*this.qg;a=[a.x,a.y,0,d+a.x,a.y,0,a.x,e+a.y,0,d+a.x,e+a.y,0];p.Od(p.kg|p.NK);this.lc.Ce();this.lc.pI();p.Tf(this);d=p.L;d.vertexAttribPointer(p.ce,2,d.FLOAT,!1,0,a);d.vertexAttribPointer(p.lp,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},lP:function(a){var c=[0,this.qg,this.pg,this.qg,0,0,this.pg,0];a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];p.Od(p.kg|p.NK);this.lc.Ce();this.lc.pI();p.Tf(this);var d=p.L;d.vertexAttribPointer(p.ce,2,
d.FLOAT,!1,0,a);d.vertexAttribPointer(p.lp,2,d.FLOAT,!1,0,c);d.drawArrays(d.TRIANGLE_STRIP,0,4)},dB:function(a){if(null==a)return p.log("cocos2d: cc.Texture2D. Can't create Texture. UIImage is nil"),!1;var c=a.nr(),d=a.jr(),e=p.ae.d().jq;if(c>e||d>e)return p.log("cocos2d: WARNING: Image ("+c+" x "+d+") is bigger than the supported "+e+" x "+e),!1;this.bc=!0;return this.bM(a,c,d)},Te:function(a){a&&(this.mh=p.L.createTexture(),this.kc=a)},JP:function(){return this.kc},Wf:function(){return this.bc},
Td:function(){this.bc=!0;var a=p.L;p.Tf(this);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.kc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.ag(p.Vg.d().zh(p.tK));p.Tf(null);a=this.kc.height;this.ug=this.fa.sa=this.kc.width;this.tg=this.fa.ea=
a;this.ff=p.Ei;this.qg=this.pg=1;this.il=this.rn=!1;this.ud()},vk:function(a,c,d,e,f,g){3==arguments.length&&(c=arguments[1],d=arguments[2],e=p.size(0,0),f=p.Fi,g=p.np);var h=new p.JJ,k;if(p.np===g)k=p.Fi===f?p.dV:p.ip===f?p.eV:p.fV;else if(p.rt===g)k=p.Fi===f?p.aV:p.ip===f?p.bV:p.cV;else if(p.mp===g)k=p.Fi===f?p.YU:p.ip===f?p.ZU:p.$U;else return p.log("Not supported alignment format!"),!1;return h.vk(a,e.width,e.height,k,c,d)?this.dB(h):!1},KQ:function(){return!1},HG:function(a){var c=!1,d=new p.GX;
(c=d.D3(a))?(d.t8(!0),this.ez=d.getName(),this.qg=this.pg=1,this.ug=d.nr(),this.tg=d.jr(),this.fa.sa=this.ug,this.fa.ea=this.tg,this.rn=p.oK,this.ff=d.N0(),this.KH()):p.log("cocos2d: Couldn't load PVR image "+a);return c},OQ:function(){return p.ae.d().Iq?!0:(p.log("cocos2d: WARNING: PVRTC images is not supported."),!1)},cU:function(a){var c=p.L;p.js(this.ug==p.Hm(this.ug)&&this.tg==p.Hm(this.tg)||a.aJ==c.CLAMP_TO_EDGE&&a.bJ==c.CLAMP_TO_EDGE,"WebGLRenderingContext.CLAMP_TO_EDGE should be used in NPOT textures");
p.Tf(this);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.uR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.rR);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.aJ);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.bJ)},KH:function(){var a=p.L;p.Tf(this);this.il?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},JH:function(){var a=p.L;p.Tf(this);
this.il?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST_MIPMAP_NEAREST):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},generateMipmap:function(){p.js(this.ug==p.Hm(this.ug)&&this.tg==p.Hm(this.tg),"Mimpap texture only works in POT textures");p.Tf(this);p.L.generateMipmap(p.L.TEXTURE_2D);this.il=!0},AU:function(){switch(this.ff){case p.Ei:return"RGBA8888";case p.hp:return"RGB888";case p.gp:return"RGB565";case p.it:return"RGBA4444";
case p.ht:return"RGB5A1";case p.Bx:return"AI88";case p.fp:return"A8";case p.Cx:return"I8";case p.tD:return"PVRTC4";case p.sD:return"PVRTC2";default:p.log("stringForFormat: "+this.ff+", cannot give useful result, it's a unrecognized pixel format")}return""},GF:function(a){a=a||this.ff;switch(a){case p.Ei:return 32;case p.hp:return 32;case p.gp:return 16;case p.fp:return 8;case p.it:return 16;case p.ht:return 16;case p.tD:return 4;case p.sD:return 2;case p.Cx:return 8;case p.Bx:return 16;default:return p.log("bitsPerPixelForFormat: "+
this.ff+", cannot give useful result, it's a illegal pixel format"),-1}},bM:function(a,c,d){var e=a.getData(),f=null,f=null,g=a.t3(),h=p.size(a.nr(),a.jr()),k=p.rD,l=a.Y_();g||(8<=l?k=p.hp:(p.log("cocos2d: cc.Texture2D: Using RGB565 texture since image has no alpha"),k=p.gp));var m=c*d;if(k==p.gp)if(g)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>2<<5|(f[l]>>16&255)>>3<<0;else for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]&255)>>3<<
11|(f[l]&255)>>2<<5|(f[l]&255)>>3<<0;else if(k==p.it)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>4<<12|(f[l]>>8&255)>>4<<8|(f[l]>>16&255)>>4<<4|(f[l]>>24&255)>>4<<0;else if(k==p.ht)for(e=new Uint16Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=(f[l]>>0&255)>>3<<11|(f[l]>>8&255)>>3<<6|(f[l]>>16&255)>>3<<1|(f[l]>>24&255)>>7<<0;else if(k==p.fp)for(e=new Uint8Array(c*d),f=a.getData(),l=0;l<m;++l)e[l]=f>>24&255;if(g&&k==p.hp)for(f=a.getData(),e=new Uint8Array(c*d*3),l=0;l<m;++l)e[3*
l]=f>>0&255,e[3*l+1]=f>>8&255,e[3*l+2]=f>>16&255;this.Iv(e,k,c,d,h);a.getData();this.rn=a.k4();return!0},lf:function(a,c){this.dd.push({pj:a,ph:c})},FS:function(a){for(var c=this.dd,d=0;d<c.length;d++)c[d].ph==a&&c.splice(d,1)},ud:function(){for(var a=this.dd,c=0,d=a.length;c<d;c++){var e=a[c];e.pj.call(e.ph,this)}a.length=0}});
p.DK=p.oa.extend({fa:null,bc:!1,kc:null,dd:null,ctor:function(){this.fa=p.xl();this.bc=!1;this.kc=null;this.dd=[]},lo:function(){return this.fa.sa},ko:function(){return this.fa.ea},g:function(){var a=p.$c();return p.size(this.fa.sa/a,this.fa.ea/a)},FP:function(){return this.fa},Te:function(a){a&&(this.kc=a)},JP:function(){return this.kc},Wf:function(){return this.bc},Td:function(){this.bc=!0;var a=this.kc;this.fa.sa=a.width;this.fa.ea=a.height;this.ud()},description:function(){return"\x3ccc.Texture2D | width \x3d "+
this.fa.sa+" height "+this.fa.ea+"\x3e"},Iv:function(){return!1},dB:function(){return!1},vk:function(){return!1},HB:function(){},getName:function(){return null},OP:function(){return 1},JT:function(){},PP:function(){return 1},KT:function(){},SA:function(){return null},ag:function(){},qr:function(){return!1},AQ:function(){return!1},vS:function(){},hR:function(a){return a},jP:function(){},lP:function(){},KQ:function(){return!1},HG:function(){return!1},OQ:function(){return!0},cU:function(){},KH:function(){},
JH:function(){},generateMipmap:function(){},AU:function(){return""},GF:function(){return-1},lf:function(a,c){this.dd.push({pj:a,ph:c})},FS:function(a){for(var c=this.dd,d=0;d<c.length;d++)c[d].ph==a&&c.splice(d,1)},ud:function(){for(var a=this.dd,c=0,d=a.length;c<d;c++){var e=a[c];e.pj.call(e.ph,this)}a.length=0}});p.Fb=p.qa.oc?p.EK:p.DK;p.Fb.h7=function(a){p.sy=a};p.Fb.ZO=function(){return p.sy};p.Fb.v0=function(){return p.sy};p.gr=null;p.P4=function(a){if(p.QO(a)==p.DJ)p.log("unsupported format:"+a);else{var c=new Image;c.src=a;c.addEventListener("load",function(){p.Gb.d().zO(a,c);this.removeEventListener("load",arguments.callee,!1)},!1)}};p.QO=function(a){return 0<a.toLowerCase().indexOf(".jpg")||0<a.toLowerCase().indexOf(".jpeg")?p.cW:0<a.toLowerCase().indexOf(".png")?p.dW:0<a.toLowerCase().indexOf(".webp")?p.fW:p.DJ};
p.Gb=p.oa.extend({Ya:null,Jq:null,Vu:null,IE:!1,ju:null,ku:null,ctor:function(){if(p.gr)throw"Attempted to allocate a second instance of a singleton.";this.Vu+=0|1E3*Math.random();this.Ya={};this.Jq={};p.Yc===p.Mj&&(this.ju={},this.ku={})},Wx:function(a,c){if(a&&"string"===typeof c)a[c]();else a&&"function"===typeof c&&c.call(a)},jM:function(){this.IE=!0;var a,c=this.ju,d=this.Ya;for(a in c){var e=c[a],f=new p.Fb;f.Te(e);f.Td();d[a]=f}this.ju={}},bZ:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},
XY:function(){p.log("TextureCache:addPVRTCImage does not support on HTML5")},description:function(){return"\x3cTextureCache | Number of textures \x3d "+this.Ya.length+"\x3e"},Cw:function(a){a=p.ad.d().Md(a);return this.Ya.hasOwnProperty(a)?this.Ya[a]:null},LP:function(a){for(var c in this.Ya)if(this.Ya[c]==a)return c;return null},TL:function(){this.Vu++;return"_textureKey_"+this.Vu},qG:function(a){var c=this.LP(a);c||(c=a instanceof HTMLImageElement?a.src:this.TL());this.Jq.hasOwnProperty(c)||(this.Jq[c]=
p.ho(a));return this.Jq[c]},aZ:function(a){if(!a)throw"cc.TextureCache.addPVRImage(): path should be non-null";a=p.ad.d().Md(a);if(null!=this.Ya[a])return this.Ya[a];var c=new p.Fb;c.HG(a)?this.Ya[a]=c:p.log("cocos2d: Couldn't add PVRImage:"+a+" in TextureCache");return c},p6:function(){var a=this.Ya,c;for(c in a)a[c]&&a[c].HB();this.Ya={}},E6:function(a){if(a){var c=this.Ya,d;for(d in c)c[d]==a&&(c[d].HB(),delete c[d])}},JS:function(a){null!=a&&(a=p.ad.d().Md(a),this.Ya[a]&&delete this.Ya[a])},YY:function(a,
c,d){if(!a)throw"cc.TextureCache.addImageAsync(): path should be non-null";a=p.ad.d().Md(a);var e=this.Ya[a],f,g;if(e)e.Wf()?this.Wx(c,d):(g=this,f=e.kc,f.addEventListener("load",function(){e.Td();g.Wx(c,d);this.removeEventListener("load",arguments.callee,!1)}));else{f=new Image;f.crossOrigin="Anonymous";g=this;f.addEventListener("load",function(){g.Ya.hasOwnProperty(a)&&g.Ya[a].Td();g.Wx(c,d);this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});
f.addEventListener("error",function(){p.Eb.d().im(a);g.Ya.hasOwnProperty(a)&&delete g.Ya[a];this.removeEventListener("error",arguments.callee,!1)});f.src=a;var h=new p.Fb;h.Te(f);this.Ya[a]=h}return this.Ya[a]},cL:function(a){var c=new Image;c.crossOrigin="Anonymous";var d=this;c.addEventListener("load",function(){p.Eb.d().yh();d.ju[a]=c;delete d.ku[a];this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});c.addEventListener("error",function(){p.Eb.d().im(a);
delete d.ku[a];this.removeEventListener("error",arguments.callee,!1)});c.src=a;this.ku[a]=c},Pe:function(a){if(!a)throw"cc.Texture.addImage(): path should be non-null";if(p.Yc===p.Mj&&!this.IE)return this.cL(a);a=p.ad.d().Md(a);var c=this.Ya[a],d;if(c)c.Wf()?p.Eb.d().yh():(d=c.kc,d.addEventListener("load",function(){c.Td();p.Eb.d().yh();this.removeEventListener("load",arguments.callee,!1)}));else{d=new Image;d.crossOrigin="Anonymous";var e=this;d.addEventListener("load",function(){p.Eb.d().yh();e.Ya.hasOwnProperty(a)&&
e.Ya[a].Td();this.removeEventListener("load",arguments.callee,!1);this.removeEventListener("error",arguments.callee,!1)});d.addEventListener("error",function(){p.Eb.d().im(a);e.Ya.hasOwnProperty(a)&&delete e.Ya[a];this.removeEventListener("error",arguments.callee,!1)});d.src=a;var f=new p.Fb;f.Te(d);this.Ya[a]=f}return this.Ya[a]},zO:function(a,c){if(c instanceof p.Fb)this.Ya[a]=c;else{var d=new p.Fb;d.Te(c);d.Td();this.Ya[a]=d}},gZ:function(a,c){if(!a)throw"cc.Texture.addUIImage(): image should be non-null";
if(c&&this.Ya.hasOwnProperty(c)&&this.Ya[c])return this.Ya[c];var d=new p.Fb;d.dB(a);null!=c&&null!=d?this.Ya[c]=d:p.log("cocos2d: Couldn't add UIImage in TextureCache");return d},i_:function(){var a=0,c=0,d=this.Ya,e;for(e in d){var f=d[e];a++;f.kc instanceof HTMLImageElement?p.log("cocos2d: '"+e+"' id\x3d"+f.kc.src+" "+f.lo()+" x "+f.ko()):p.log("cocos2d: '"+e+"' id\x3d HTMLCanvasElement "+f.lo()+" x "+f.ko());c+=f.lo()*f.ko()*4}d=this.Jq;for(e in d){var f=d[e],g;for(g in f){var h=f[g];a++;p.log("cocos2d: '"+
e+"' id\x3d HTMLCanvasElement "+h.width+" x "+h.height);c+=h.width*h.height*4}}p.log("cocos2d: TextureCache dumpDebugInfo: "+a+" textures, HTMLCanvasElement for "+c/1024+" KB ("+(c/1048576).toFixed(2)+" MB)")}});p.Gb.d=function(){p.gr||(p.gr=new p.Gb);return p.gr};p.Gb.lS=function(){p.gr=null};p.Nm=p.oa.extend({Rc:null,Qh:null,ta:!1,Ec:0,pa:null,he:null,If:null,rq:null,Jf:null,ctor:function(){this.Qh=[]},V2:function(){return this.Ga},f0:function(){return this.Ec},Q:function(){return this.pa},$:function(a){this.pa=a},$f:function(a){this.ta=a},OG:function(){return this.ta},f2:function(){return this.he},k8:function(a){this.he=a},jY:function(a,c){if(a)for(var d=0;d<a.length;d++)this.Ju(a[d],c+d)},Ju:function(a,c){var d=this.he;d[c]?(d[c].va=a.va,d[c].Ha=a.Ha,d[c].Fa=a.Fa,d[c].ya=a.ya):d[c]=
new p.Kb(a.Fa,a.va,a.ya,a.Ha,this.If,c*p.Kb.BYTES_PER_ELEMENT)},description:function(){return"\x3ccc.TextureAtlas | totalQuads \x3d"+this.Ga+"\x3e"},VE:function(){if(0!==this.Ec)for(var a=this.Rc,c=this.Ec,d=0;d<c;d++)p.uD?(a[6*d+0]=4*d+0,a[6*d+1]=4*d+0,a[6*d+2]=4*d+2,a[6*d+3]=4*d+1,a[6*d+4]=4*d+3,a[6*d+5]=4*d+3):(a[6*d+0]=4*d+0,a[6*d+1]=4*d+1,a[6*d+2]=4*d+2,a[6*d+3]=4*d+3,a[6*d+4]=4*d+2,a[6*d+5]=4*d+1)},GN:function(){var a=p.L;this.Qh[0]=a.createBuffer();this.Qh[1]=a.createBuffer();this.rq=a.createBuffer();
this.uE()},uE:function(){var a=p.L;a.bindBuffer(a.ARRAY_BUFFER,this.rq);a.bufferData(a.ARRAY_BUFFER,this.If,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Qh[1]);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Rc,a.STATIC_DRAW)},qi:function(a,c){var d=p.Gb.d().Pe(a);if(d)return this.xa(d,c);p.log("cocos2d: Could not open file: "+a);return!1},xa:function(a,c){if(!a)throw"cc.TextureAtlas.initWithTexture():texture should be non-null";this.Ec=c|=0;this.Ga=0;this.pa=a;this.he=[];this.Rc=new Uint16Array(6*
c);var d=p.Kb.BYTES_PER_ELEMENT;this.If=new ArrayBuffer(d*c);this.Jf=new Uint8Array(this.If);if((!this.he||!this.Rc)&&0<c)return!1;for(var e=this.he,f=0;f<c;f++)e[f]=new p.Kb(null,null,null,null,this.If,f*d);this.VE();this.GN();return this.ta=!0},Iw:function(a,c){if(!a)throw"cc.TextureAtlas.updateQuad(): quad should be non-null";if(0>c||c>=this.Ec)throw"cc.TextureAtlas.updateQuad(): Invalid index";this.Ga=Math.max(c+1,this.Ga);this.Ju(a,c);this.ta=!0},jB:function(a,c){if(c>=this.Ec)throw"cc.TextureAtlas.insertQuad(): Invalid index";
this.Ga++;if(this.Ga>this.Ec)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");else{var d=p.Kb.BYTES_PER_ELEMENT,e=c*d,f=(this.Ga-1-c)*d;this.he[this.Ga-1]=new p.Kb(null,null,null,null,this.If,(this.Ga-1)*d);this.Jf.set(this.Jf.subarray(e,e+f),e+d);this.Ju(a,c);this.ta=!0}},J3:function(a,c,d){d=d||a.length;if(c+d>this.Ec)throw"cc.TextureAtlas.insertQuad(): Invalid index + amount";var e=p.Kb.BYTES_PER_ELEMENT;this.Ga+=d;if(this.Ga>this.Ec)p.log("cc.TextureAtlas.insertQuad(): invalid totalQuads");
else{var f=c*e,g=(this.Ga-1-c-d)*e,h=this.Ga-1-d,k;for(k=0;k<d;k++)this.he[h+k]=new p.Kb(null,null,null,null,this.If,(this.Ga-1)*e);this.Jf.set(this.Jf.subarray(f,f+g),f+e*d);for(k=0;k<d;k++)this.Ju(a[k],c+k);this.ta=!0}},I3:function(a,c){if(a!==c){if(0>c&&c>=this.Ga)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid newIndex";if(0>a&&a>=this.Ga)throw"cc.TextureAtlas.insertQuadFromIndex(): Invalid fromIndex";var d=p.Kb.BYTES_PER_ELEMENT,e=this.Jf,f=e.subarray(a*d,d),g;a>c?(g=c*d,e.set(e.subarray(g,
g+(a-c)*d),g+d),e.set(f,g)):(g=(a+1)*d,e.set(e.subarray(g,g+(c-a)*d),g-d),e.set(f,c*d));this.ta=!0}},HS:function(a){if(a>=this.Ga)throw"cc.TextureAtlas.removeQuadAtIndex(): Invalid index";var c=p.Kb.BYTES_PER_ELEMENT;this.Ga--;this.he.length=this.Ga;if(a!==this.Ga){var d=(a+1)*c;this.Jf.set(this.Jf.subarray(d,d+(this.Ga-a)*c),d-c)}this.ta=!0},w6:function(a,c){if(a+c>this.Ga)throw"cc.TextureAtlas.removeQuadsAtIndex(): index + amount out of bounds";this.Ga-=c;if(a!==this.Ga){var d=p.Kb.BYTES_PER_ELEMENT,
e=(a+c)*d;this.Jf.set(this.Jf.subarray(e,e+(this.Ga-a)*d),a*d)}this.ta=!0},BS:function(){this.Ga=this.he.length=0},HY:function(a){this.ta=a},LS:function(a){if(a==this.Ec)return!0;var c=p.Kb.BYTES_PER_ELEMENT,d=this.Ec;this.Ga=Math.min(this.Ga,a);var e=this.Ec=0|a,f=this.Ga;if(null==this.he)for(this.he=[],this.If=new ArrayBuffer(c*e),this.Jf=new Uint8Array(this.If),a=0;a<e;a++)this.he=new p.Kb(null,null,null,null,this.If,a*c);else{var g,h,k=this.he;if(e>d){g=[];h=new ArrayBuffer(c*e);for(a=0;a<f;a++)g[a]=
new p.Kb(k[a].Fa,k[a].va,k[a].ya,k[a].Ha,h,a*c);for(;a<e;a++)g[a]=new p.Kb(null,null,null,null,h,a*c)}else for(f=Math.max(f,e),g=[],h=new ArrayBuffer(c*e),a=0;a<f;a++)g[a]=new p.Kb(k[a].Fa,k[a].va,k[a].ya,k[a].Ha,h,a*c);this.Jf=new Uint8Array(h);this.he=g;this.If=h}null==this.Rc?this.Rc=new Uint16Array(6*e):e>d?(c=new Uint16Array(6*e),c.set(this.Rc,0),this.Rc=c):this.Rc=this.Rc.subarray(0,6*e);this.VE();this.uE();return this.ta=!0},A3:function(a){this.Ga+=a},Y4:function(a,c,d){if(2==arguments.length){d=
c;c=this.Ga-a;if(d+(this.Ga-a)>this.Ec)throw"cc.TextureAtlas.moveQuadsFromIndex(): move is out of bounds";if(0===c)return}else{if(d+c>this.Ga)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid newIndex";if(a>=this.Ga)throw"cc.TextureAtlas.moveQuadsFromIndex(): Invalid oldIndex";if(a==d)return}var e=p.Kb.BYTES_PER_ELEMENT,f=a*e,g=c*e,h=this.Jf,k=h.subarray(f,f+g),l=d*e,m;d<a?(m=d*e,h.set(h.subarray(m,m+(a-d)*e),m+g)):(m=(a+c)*e,h.set(h.subarray(m,m+(d-a)*e),f));h.set(k,l);this.ta=!0},D_:function(a,
c){for(var d=c*p.Kb.BYTES_PER_ELEMENT,e=new Uint8Array(this.If,a*p.Kb.BYTES_PER_ELEMENT,d),f=0;f<d;f++)e[f]=0},TF:function(a,c){c=c||0;if(0!==a&&this.pa&&this.pa.Wf()){var d=p.L;p.Tf(this.pa);p.Od(p.qt);d.bindBuffer(d.ARRAY_BUFFER,this.rq);this.ta&&d.bufferData(d.ARRAY_BUFFER,this.If,d.DYNAMIC_DRAW);d.vertexAttribPointer(p.ce,3,d.FLOAT,!1,24,0);d.vertexAttribPointer(p.kp,4,d.UNSIGNED_BYTE,!0,24,12);d.vertexAttribPointer(p.lp,2,d.FLOAT,!1,24,16);this.ta&&(this.ta=!1);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Qh[1]);p.uD?d.drawElements(d.TRIANGLE_STRIP,6*a,d.UNSIGNED_SHORT,6*c*this.Rc.BYTES_PER_ELEMENT):d.drawElements(d.TRIANGLES,6*a,d.UNSIGNED_SHORT,6*c*this.Rc.BYTES_PER_ELEMENT);p.qh++}},mP:function(){this.TF(this.Ga,0)},EY:function(){var a=p.L;this.Qh&&(this.Qh[0]&&a.deleteBuffer(this.Qh[0]),this.Qh[1]&&a.deleteBuffer(this.Qh[1]));this.rq&&a.deleteBuffer(this.rq)}});p.Nm.create=function(a,c){var d=new p.Nm;return d&&d.qi(a,c)?d:null};p.Nm.Fd=function(a,c){var d=new p.Nm;return d&&d.xa(a,c)?d:null};p.dp=p.H.extend({ctor:function(){p.H.prototype.ctor.call(this);this.ak=!0;this.la(0.5,0.5);this.aa(p.M.d().ub)}});p.dp.create=function(){return new p.dp};p.Dx=0;p.BX=1;
p.fc=p.H.extend({ck:!1,bk:!1,tn:!1,pk:0,Rq:p.Dx,kl:!1,Cn:0,ctor:function(){p.H.prototype.ctor.call(this);this.tn=this.bk=this.ck=!1;this.pk=0;this.Rq=p.Dx;this.kl=!1;this.Cn=0},aM:function(){this.la(0.5,0.5);this.ak=!0;var a=p.M.d();this.aa(a.ub)},s:function(){p.H.prototype.s.call(this);this.aM();return!0},aw:function(){this.Rq===p.Dx?p.uS(this,this.pk):p.FB(this.pk,!0,this)},d4:function(){return this.kl},WB:function(a){if(!p.sd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.kl!=
a&&(this.kl=a,this.ke&&(a?p.M.d().Re().zF(this,this.Cn):p.M.d().Re().AH(this)))},Q7:function(a){if(!p.sd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.Cn!==a&&(this.Cn=a,this.kl&&(this.WB(!1),this.WB(!0)))},x1:function(){return this.Cn},v4:function(){return this.ck},$b:function(a){this.ck!==a&&(this.ck=a,this.ke&&(a?this.aw():p.LI(this)))},Z2:function(){return this.pk},uw:function(a){this.pk!==a&&(this.pk=a,this.ck&&(this.$b(!1),this.$b(!0)))},Y2:function(){return this.Rq},
nI:function(a){this.Rq!==a&&(this.Rq=a,this.ck&&(this.$b(!1),this.$b(!0)))},M3:function(){return this.bk},O6:function(a){if(!p.Gj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";if(a!==this.bk&&(this.bk=a,this.ke)){var c=p.M.d();a?c.io().Og(this):c.io().Og(null)}},cT:function(a){this.bk&&p.Gj&&p.M.d().io().cT(a)},o5:function(){p.log("onAccelerometer event should be handled.")},c4:function(){return this.tn},H7:function(a){if(!p.Gm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";
if(a!==this.tn&&(this.tn=a,this.ke)){var c=p.M.d();a?c.Dv().jO(this):c.Dv().DS(this)}},Xf:function(){var a=p.M.d();this.ck&&this.aw();p.H.prototype.Xf.call(this);this.bk&&p.Gj&&a.io().Og(this);this.tn&&p.Gm&&a.Dv().jO(this);this.kl&&p.sd&&a.Re().zF(this,this.Cn)},ld:function(){var a=p.M.d();this.ck&&p.LI(this);this.bk&&p.Gj&&a.io().Og(null);this.tn&&p.Gm&&a.Dv().DS(this);this.kl&&p.sd&&a.Re().AH(this);p.H.prototype.ld.call(this)},wh:function(){this.bk&&p.Gj&&p.M.d().io().Og(this);p.H.prototype.wh.call(this)},
Hb:function(){p.log("onTouchBegan event should be handled.");return!0},Wc:function(){},ue:function(){},wj:function(){},dH:function(){},gH:function(){},fH:function(){},eH:function(){},BR:function(){return!1},CR:function(){return!1},xh:function(){return!1},FR:function(){return!1},JR:function(){return!1},KR:function(){return!1},LR:function(){return!1},GR:function(){return!1},HR:function(){return!1},IR:function(){return!1},MR:function(){return!1},DR:function(){return!1},ER:function(){return!1},rB:function(){},
Rv:function(){}});p.fc.create=function(){var a=new p.fc;return a&&a.s()?a:null};
p.Ug=p.fc.extend({Sa:!0,Ab:0,Kf:0,jc:null,Bd:null,vd:!1,Pc:!1,ctor:function(){p.fc.prototype.ctor.call(this);this.Sa=!0;this.Kf=this.Ab=255;this.jc=p.cb();this.Bd=p.cb();this.Pc=this.vd=!1},s:function(){return p.fc.prototype.s.call(this)?(this.OH(!1),this.NH(!1),!0):!1},mi:function(){return this.Kf},GP:function(){return this.Ab},Z:function(a){this.Ab=this.Kf=a;a=255;var c=this.ga;c&&c.Sa&&c.vd&&(a=c.Ab);this.Bc(a)},Bc:function(a){this.Ab=0|this.Kf*a/255;if(this.vd){a=this.n;for(var c=0;c<a.length;c++){var d=
a[c];d&&d.Sa&&d.Bc(this.Ab)}}},cR:function(){return this.vd},OH:function(a){this.vd!==a&&((this.vd=a)?this.Op():this.Ay())},Op:function(){var a=255,c=this.ga;c&&c.Sa&&c.vd&&(a=c.Ab);this.Bc(a)},Ay:function(){this.Ab=this.Kf;for(var a=this.n,c=0;c<a.length;c++){var d=a[c];d&&d.Sa&&d.Bc(255)}},Vc:function(){var a=this.Bd;return p.k(a.i,a.h,a.f)},ir:function(){var a=this.jc;return p.k(a.i,a.h,a.f)},o:function(a){var c=this.jc,d=this.Bd;c.i=d.i=a.i;c.h=d.h=a.h;c.f=d.f=a.f;a=(a=this.ga)&&a.Sa&&a.Pc?a.ir():
p.cb();this.Ac(a)},Ac:function(a){var c=this.jc,d=this.Bd;c.i=0|d.i*a.i/255;c.h=0|d.h*a.h/255;c.f=0|d.f*a.f/255;if(this.Pc)for(a=this.n,d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.Ac(c)}},bR:function(){return this.Pc},NH:function(a){this.Pc!==a&&((this.Pc=a)?this.Np():this.zy())},Np:function(){var a;a=(a=this.ga)&&a.Sa&&a.Pc?a.ir():p.cb();this.Ac(a)},zy:function(){var a=this.jc,c=this.Bd;a.i=c.i;a.h=c.h;a.f=c.f;for(var a=this.n,c=p.cb(),d=0;d<a.length;d++){var e=a[d];e&&e.Sa&&e.Ac(c)}},t:function(a,
c,d){p.H.prototype.t.call(this,a,c,d);this.Pc&&this.Np();this.vd&&this.Op()},Ve:function(){},xk:function(){return!1}});
p.Jb=p.Ug.extend({R:null,hr:function(){return this.R},NZ:function(a,c){this.aa(a,c)},MZ:function(a){this.aa(a,this.fa.ea)},JZ:function(a){this.aa(this.fa.sa,a)},Ve:function(){},xk:function(){return!1},o:function(a){p.Ug.prototype.o.call(this,a);this.Tc()},Z:function(a){p.Ug.prototype.Z.call(this,a);this.Tc()},un:!1,ZE:null,Tz:null,lA:null,ny:null,Vz:null,Uz:null,Wg:function(){p.Ug.prototype.ctor.call(this);this.R=new p.Ok(p.$d,p.Zd)},Xg:function(){p.Ug.prototype.ctor.call(this);this.R=new p.Ok(p.$d,
p.Zd);this.Vz=new ArrayBuffer(32);this.Uz=new ArrayBuffer(64);var a=this.Vz,c=this.Uz,d=p.gb.BYTES_PER_ELEMENT,e=p.qd.BYTES_PER_ELEMENT;this.ZE=[new p.gb(0,0,a,0),new p.gb(0,0,a,d),new p.gb(0,0,a,2*d),new p.gb(0,0,a,3*d)];this.Tz=[new p.qd(0,0,0,1,c,0),new p.qd(0,0,0,1,c,e),new p.qd(0,0,0,1,c,2*e),new p.qd(0,0,0,1,c,3*e)];this.lA=p.L.createBuffer();this.ny=p.L.createBuffer()},Ck:function(a,c){this.R=1==arguments.length?a:{src:a,lb:c};p.Yc===p.wf&&(this.un=this.R&&1==this.R.src&&771==this.R.lb)},s:function(a,
c,d){if(!p.fc.prototype.s.call(this))return!1;p.Yc!==p.wf&&this.ag(p.Vg.d().zh(p.sK));var e=p.M.d().ub;a=a||new p.sb(0,0,0,255);c=c||e.width;d=d||e.height;e=this.jc;e.i=a.i;e.h=a.h;e.f=a.f;e=this.Bd;e.i=a.i;e.h=a.h;e.f=a.f;this.Kf=this.Ab=a.B;this.aa(c,d);this.Tc();return!0},aa:null,lN:function(a,c){var d=this.ZE;2===arguments.length?(d[1].x=a,d[2].y=c,d[3].x=a,d[3].y=c,this.QD(),p.fc.prototype.aa.call(this,a,c)):(d[1].x=a.width,d[2].y=a.height,d[3].x=a.width,d[3].y=a.height,this.QD(),p.fc.prototype.aa.call(this,
a))},Tc:null,WN:function(){},XN:function(){for(var a=this.jc,c=this.Ab,d=this.Tz,e=0;4>e;e++)d[e].i=a.i/255,d[e].h=a.h/255,d[e].f=a.f/255,d[e].B=c/255;this.PD()},Ac:function(a){p.Ug.prototype.Ac.call(this,a);this.Tc()},Bc:function(a){p.Ug.prototype.Bc.call(this,a);this.Tc()},QD:function(){var a=p.L;a.bindBuffer(a.ARRAY_BUFFER,this.lA);a.bufferData(a.ARRAY_BUFFER,this.Vz,a.STATIC_DRAW)},PD:function(){var a=p.L;a.bindBuffer(a.ARRAY_BUFFER,this.ny);a.bufferData(a.ARRAY_BUFFER,this.Uz,a.STATIC_DRAW)},
Ia:null,dl:function(a){a=a||p.L;var c=this.g(),d=p.da.d(),e=this.jc;a.fillStyle="rgba("+(0|e.i)+","+(0|e.h)+","+(0|e.f)+","+this.Ab/255+")";a.fillRect(0,0,c.width*d.ha,-c.height*d.ma);p.qh++},Ff:function(a){a=a||p.L;p.lx(this);p.Od(p.kg|p.MK);a.bindBuffer(a.ARRAY_BUFFER,this.lA);a.vertexAttribPointer(p.ce,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.ny);a.vertexAttribPointer(p.kp,4,a.FLOAT,!1,0,0);p.rj(this.R.src,this.R.lb);a.drawArrays(a.TRIANGLE_STRIP,0,4)}});
p.qa.oc?(p.Jb.prototype.ctor=p.Jb.prototype.Xg,p.Jb.prototype.aa=p.Jb.prototype.lN,p.Jb.prototype.Tc=p.Jb.prototype.XN,p.Jb.prototype.Ia=p.Jb.prototype.Ff):(p.Jb.prototype.ctor=p.Jb.prototype.Wg,p.Jb.prototype.aa=p.Ug.prototype.aa,p.Jb.prototype.Tc=p.Jb.prototype.WN,p.Jb.prototype.Ia=p.Jb.prototype.dl);p.Jb.create=function(a,c,d){var e=new p.Jb;switch(arguments.length){case 0:e.s();break;case 1:e.s(a);break;case 3:e.s(a,c,d);break;default:e.s()}return e};
p.SC=p.Jb.extend({$E:null,mn:null,Ln:null,nn:null,Wk:null,Kt:!1,Zp:null,Yp:null,ctor:function(){p.Jb.prototype.ctor.call(this);this.$E=new p.ec(0,0,0);this.mn=new p.ec(0,0,0);this.Wk=p.a(0,-1);this.nn=this.Ln=255;this.Zp=p.a(0,0);this.Yp=p.a(0,0)},aa:function(a,c){2===arguments.length?p.Jb.prototype.aa.call(this,a,c):p.Jb.prototype.aa.call(this,a);this.Tc()},D2:function(){return this.Bd},A8:function(a){this.o(a)},o7:function(a){this.mn=a;this.Tc()},E0:function(){return this.mn},B8:function(a){this.Ln=
a;this.Tc()},E2:function(){return this.Ln},p7:function(a){this.nn=a;this.Tc()},F0:function(){return this.nn},S8:function(a){this.Wk.x=a.x;this.Wk.y=a.y;this.Tc()},d3:function(){return p.a(this.Wk.x,this.Wk.y)},R3:function(){return this.Kt},d7:function(a){this.Kt=a;this.Tc()},s:function(a,c,d){a=a||p.zA(0,0,0,255);c=c||p.zA(0,0,0,255);d=d||p.a(0,-1);var e=this.$E,f=this.mn;e.i=a.i;e.h=a.h;e.f=a.f;this.Ln=a.B;f.i=c.i;f.h=c.h;f.f=c.f;this.nn=c.B;this.Wk=d;this.Kt=!0;p.Jb.prototype.s.call(this,p.r(a.i,
a.h,a.f,255));return!0},Ia:function(a){if(p.Yc===p.Mj)p.Jb.prototype.Ia.call(this,a);else{a=a||p.L;this.un&&(a.globalCompositeOperation="lighter");a.save();var c=p.da.d(),d=this.Ab/255,e=this.g().width*c.ha,c=this.g().height*c.ma,f=a.createLinearGradient(this.Zp.x,this.Zp.y,this.Yp.x,this.Yp.y),g=this.jc,h=this.mn;f.addColorStop(0,"rgba("+Math.round(g.i)+","+Math.round(g.h)+","+Math.round(g.f)+","+(this.Ln/255*d).toFixed(4)+")");f.addColorStop(1,"rgba("+Math.round(h.i)+","+Math.round(h.h)+","+Math.round(h.f)+
","+(this.nn/255*d).toFixed(4)+")");a.fillStyle=f;a.fillRect(0,0,e,-c);0!=this.cN&&a.rotate(this.FY);a.restore()}},Tc:function(){var a=this.Wk;if(p.Yc===p.wf){var c=0.5*this.g().width,d=0.5*this.g().height;this.Zp.x=c*-a.x+c;this.Zp.y=d*a.y-d;this.Yp.x=c*a.x+c;this.Yp.y=d*-a.y-d}else if(d=p.uB(a),0!==d){c=Math.sqrt(2);a=p.a(a.x/d,a.y/d);this.Kt&&(a=p.ui(a,1/(Math.abs(a.x)+Math.abs(a.y))*c));var e=this.Ab/255,f=this.jc,g=this.mn,d=f.i/255,h=f.h/255,f=f.f/255,k=this.Ln*e/255,l=g.i/255,m=g.h/255,g=g.f/
255,e=this.nn*e/255,n=this.Tz,r=n[0],q=n[1],t=n[2],n=n[3];r.i=l+(c+a.x+a.y)/(2*c)*(d-l);r.h=m+(c+a.x+a.y)/(2*c)*(h-m);r.f=g+(c+a.x+a.y)/(2*c)*(f-g);r.B=e+(c+a.x+a.y)/(2*c)*(k-e);q.i=l+(c-a.x+a.y)/(2*c)*(d-l);q.h=m+(c-a.x+a.y)/(2*c)*(h-m);q.f=g+(c-a.x+a.y)/(2*c)*(f-g);q.B=e+(c-a.x+a.y)/(2*c)*(k-e);t.i=l+(c+a.x-a.y)/(2*c)*(d-l);t.h=m+(c+a.x-a.y)/(2*c)*(h-m);t.f=g+(c+a.x-a.y)/(2*c)*(f-g);t.B=e+(c+a.x-a.y)/(2*c)*(k-e);n.i=l+(c-a.x-a.y)/(2*c)*(d-l);n.h=m+(c-a.x-a.y)/(2*c)*(h-m);n.f=g+(c-a.x-a.y)/(2*c)*
(f-g);n.B=e+(c-a.x-a.y)/(2*c)*(k-e);this.PD()}}});p.SC.create=function(a,c,d){var e=new p.SC;switch(arguments.length){case 2:if(e&&e.s(a,c))return e;break;case 3:if(e&&e.s(a,c,d))return e;break;case 0:if(e&&e.s())return e;break;default:throw"Arguments error ";}return null};
p.TC=p.fc.extend({Wj:0,og:null,F3:function(a){this.og=[];this.og.push(a);this.Wj=0;this.t(a);return!0},MQ:function(a){this.og=a;this.Wj=0;this.t(this.og[this.Wj]);return!0},r9:function(a){a>=this.og.length?p.log("cc.LayerMultiplex.switchTo():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.og[this.Wj],!0),this.Wj=a,this.t(this.og[a]))},s9:function(a){a>=this.og.length?p.log("cc.LayerMultiplex.switchToAndReleaseMe():Invalid index in MultiplexLayer switchTo message"):(this.removeChild(this.og[this.Wj],
!0),this.og[this.Wj]=null,this.Wj=a,this.t(this.og[a]))},ZY:function(a){a?this.og.push(a):p.log("cc.Layer.addLayer(): layer should be non-null")}});p.TC.create=function(){0<arguments.length&&null==arguments[arguments.length-1]&&p.log("parameters should not be ending with null in Javascript");var a=new p.TC;return a.MQ(arguments)?a:null};p.xx=-1;
p.ho=function(a){function c(){var c=p.ho,e=a.width,h=a.height;d[0].width=e;d[0].height=h;d[1].width=e;d[1].height=h;d[2].width=e;d[2].height=h;d[3].width=e;d[3].height=h;c.canvas.width=e;c.canvas.height=h;var k=c.canvas.getContext("2d");k.drawImage(a,0,0);c.jC.width=e;c.jC.height=h;for(var k=k.getImageData(0,0,e,h).data,l=0;4>l;l++){var m=d[l].getContext("2d");m.getImageData(0,0,e,h).data;c.HI.drawImage(a,0,0);for(var n=c.HI.getImageData(0,0,e,h),r=n.data,q=0;q<k.length;q+=4)r[q]=0===l?k[q]:0,r[q+
1]=1===l?k[q+1]:0,r[q+2]=2===l?k[q+2]:0,r[q+3]=k[q+3];m.putImageData(n,0,0)}a.onload=null}if(a.hasOwnProperty("channelCache"))return a.KO;var d=[document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas"),document.createElement("canvas")];try{c()}catch(e){a.onload=c}return a.KO=d};p.ho.canvas=document.createElement("canvas");p.ho.jC=document.createElement("canvas");p.ho.HI=p.ho.jC.getContext("2d");
p.M_=function(a,c,d){d||(d=p.rect(0,0,a.width,a.height),d=p.bp(d));c=c instanceof p.qd?p.r(255*c.i,255*c.h,255*c.f,255*c.B):p.r(c.i,c.h,c.f,50);var e=document.createElement("canvas"),f=e.getContext("2d");e.width!=d.width&&(e.width=d.width);e.height!=d.height&&(e.height=d.height);f.save();f.drawImage(a,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f.globalCompositeOperation="source-in";f.globalAlpha=c.B/255;f.fillStyle="rgb("+c.i+","+c.h+","+c.f+")";f.fillRect(0,0,d.width,d.height);f.restore();return e};
p.MA=function(a,c,d,e,f){e||(e=p.rect(0,0,a.width,a.height));a=null==d.B?p.nv(d.i/255,d.h/255,d.f/255,1):d;d=Math.min(e.width,c[0].width);var g=Math.min(e.height,c[0].height),h;f?(h=f.getContext("2d"),h.clearRect(0,0,d,g)):(f=document.createElement("canvas"),f.width=d,f.height=g,h=f.getContext("2d"));h.save();h.globalCompositeOperation="lighter";var k=h.globalAlpha;0<a.i&&(h.globalAlpha=a.i*k,h.drawImage(c[0],e.x,e.y,d,g,0,0,d,g));0<a.h&&(h.globalAlpha=a.h*k,h.drawImage(c[1],e.x,e.y,d,g,0,0,d,g));
0<a.f&&(h.globalAlpha=a.f*k,h.drawImage(c[2],e.x,e.y,d,g,0,0,d,g));1>a.i+a.h+a.f&&(h.globalAlpha=k,h.drawImage(c[3],e.x,e.y,d,g,0,0,d,g));h.restore();return f};p.MF=function(a,c){if(!a)return null;if(!c)return a;var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");e.translate(d.width/2,d.height/2);e.rotate(-1.5707963267948966);e.drawImage(a,c.x,c.y,c.height,c.width,-c.height/2,-c.width/2,c.height,c.width);return d};
p.JX=function(a,c,d,e,f,g){this.scale=c;this.rotation=d;this.Gk=e;this.visible=g};p.yf=function(a){return 0|a};p.vK&&(p.yf=function(a){return a});
p.w=p.eb.extend({Sa:!0,Ea:null,vc:0,Ta:null,ta:!1,ah:null,Xh:null,kk:!1,Hl:null,R:null,pa:null,ka:null,wc:!1,Nb:null,jh:null,Vb:!1,Tb:!1,Ub:!1,Xa:!1,dd:null,BE:null,JI:function(){return this.Xa},lf:function(a,c){this.dd.push({pj:a,ph:c})},ud:function(){for(var a=this.dd,c=0,d=a.length;c<d;c++){var e=a[c];e.pj.call(e.ph,this)}a.length=0},OG:function(){return this.ta},$f:function(a){this.ta=a},t4:function(){return this.wc},U_:function(){return this.vc},Xd:function(a){this.vc=a},UA:function(){return p.rect(this.ka.x,
this.ka.y,this.ka.width,this.ka.height)},pG:function(){return this.Ea},Oo:function(a){this.Ea=a},C2:function(){return this.Ta},z8:function(a){this.Ta=a},J1:function(){return this.Nb},hr:function(){return this.R},Ud:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrame(): spriteFrame should be non-null";a.Xa||(this.Xa=!1,a.lf(this.Rz,this));var c=this.xa(a.Q(),a.Nd());this.Io(a);return c},Rz:null,LN:function(a){this.Ja();this.mb(a.Nd(),a.Ic,a.Hc);this.ud()},KN:function(a){this.Ja();this.mb(a.Nd(),
a.Ic,a.Hc);a=this.Vc();255===a.i&&255===a.h&&255===a.f||this.Gt();this.ud()},JG:function(a){if(!a)throw"cc.Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";a=p.Af.d().Gg(a);return this.Ud(a)},R9:function(a){this.Ea=a.Ea;this.Ta=a},dC:function(a){this.ka.x=a.x;this.ka.y=a.y;this.ka.width=a.width;this.ka.height=a.height},md:function(){if(this.Cd){for(var a,c,d=this.n,e,f=1;f<d.length;f++){c=d[f];a=f-1;for(e=d[a];0<=a&&(c.Pa<e.Pa||c.Pa==e.Pa&&c.ef<e.ef);)d[a+1]=e,a-=1,e=d[a];d[a+
1]=c}this.Ta&&this.Cf(d,p.H.$e.md);this.Cd=!1}},Jr:function(a,c){if(!a)throw"cc.Sprite.reorderChild(): child should be non-null";-1===this.n.indexOf(a)?p.log("cc.Sprite.reorderChild(): this child is not in children list"):c!==a.Pa&&(this.Ta&&!this.Cd&&(this.Mz(),this.Ta.BH(!0)),p.H.prototype.Jr.call(this,a,c))},removeChild:function(a,c){this.Ta&&this.Ta.qm(a);p.H.prototype.removeChild.call(this,a,c)},Ah:function(a){var c=this.n,d=this.Ta;if(d&&null!=c)for(var e=0,f=c.length;e<f;e++)d.qm(c[e]);p.H.prototype.Ah.call(this,
a);this.Xh=!1},TH:function(a){this.ah=a;this.$f(a);a=this.n;if(null!=a)for(var c=0;c<a.length;c++)a[c]instanceof p.w&&a[c].TH(!0)},jg:function(){this.Ta&&!this.ah&&(this.ta=this.ah=!0,this.Xh&&this.TH(!0))},F:function(a,c){2<=arguments.length?p.H.prototype.F.call(this,a,arguments[1]):p.H.prototype.F.call(this,a);this.jg()},ow:function(a){p.H.prototype.ow.call(this,a);this.jg()},pw:function(a){p.H.prototype.pw.call(this,a);this.jg()},qw:function(a){p.H.prototype.qw.call(this,a);this.jg()},sw:function(a){p.H.prototype.sw.call(this,
a);this.jg()},tw:function(a){p.H.prototype.tw.call(this,a);this.jg()},Mo:function(a){p.H.prototype.Mo.call(this,a);this.jg()},vm:function(a){p.H.prototype.vm.call(this,a);this.jg()},Bj:function(a,c){p.H.prototype.Bj.call(this,a,c);this.jg()},qI:function(a){p.H.prototype.qI.call(this,a);this.jg()},la:function(a,c){2===arguments.length?p.H.prototype.la.call(this,a,c):p.H.prototype.la.call(this,a);this.jg()},u:function(a){p.H.prototype.u.call(this,a);this.jg()},pi:function(a){this.Ta?p.log("cc.Sprite.ignoreAnchorPointForPosition(): it is invalid in cc.Sprite when using SpriteBatchNode"):
p.H.prototype.pi.call(this,a)},yT:function(a){this.Tb!=a&&(this.Tb=a,this.mb(this.ka,this.wc,this.fa),this.Ja())},zT:function(a){this.Ub!=a&&(this.Ub=a,this.mb(this.ka,this.wc,this.fa),this.Ja())},X3:function(){return this.Tb},Y3:function(){return this.Ub},Ve:null,tN:function(a){this.Vb!==a&&(this.Vb=a,this.Yr())},sN:function(a){this.Vb!==a&&(this.Vb=a,this.Ja())},xk:function(){return this.Vb},Bc:null,$N:function(a){p.eb.prototype.Bc.call(this,a);this.Yr()},lF:function(a){p.eb.prototype.Bc.call(this,
a);this.vl()},l7:function(a,c){if(!a)throw"cc.Sprite.setDisplayFrameWithAnimationName(): animationName must be non-null";var d=p.Lk.d().hG(a);d?(d=d.yd[c])?this.Io(d.Gg()):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Invalid frame index"):p.log("cc.Sprite.setDisplayFrameWithAnimationName(): Frame not found")},X_:function(){return this.Ta},Mz:function(){if(!this.Cd){this.Cd=!0;for(var a=this.ga;a&&a!=this.Ta;)a.Mz(),a=a.getParent()}},Q:function(){return this.pa},pb:null,Eu:null,Le:!1,Jt:!1,
un:!1,Gf:null,Rn:null,Cy:null,ctor:null,Xg:function(a){p.eb.prototype.ctor.call(this);this.kk=!1;this.Nb=p.Sc();this.jh=p.Sc();this.R={src:p.$d,lb:p.Zd};this.ka=p.rect(0,0,0,0);this.pb=new p.Kb;this.Eu=p.L.createBuffer();this.Xa=this.Le=!0;this.dd=[];if(a)if("string"===typeof a)a=p.Af.d().Gg(a),this.Ud(a);else if("object"===typeof a)if(a instanceof p.bd)this.Ud(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Fb;c.Te(a);c.Td();this.xa(c)}else a instanceof p.Fb&&
this.xa(a)},Wg:function(a){p.eb.prototype.ctor.call(this);this.kk=!1;this.Nb=p.Sc();this.jh=p.Sc();this.R={src:p.$d,lb:p.Zd};this.ka=p.rect(0,0,0,0);this.BE=!1;this.Xa=!0;this.dd=[];this.Rn={x:0,y:0,width:0,height:0,cs:!1};this.Cy=p.size(0,0);if(a)if("string"===typeof a)a=p.Af.d().Gg(a),this.Ud(a);else if("object"===typeof a)if(a instanceof p.bd)this.Ud(a);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement){var c=new p.Fb;c.Te(a);c.Td();this.xa(c)}else a instanceof p.Fb&&this.xa(a)},
e2:function(){return this.pb},Ck:null,hN:function(a,c){var d=this.R;1===arguments.length?(d.src=a.src,d.lb=a.lb):(d.src=a,d.lb=c)},gN:function(a,c){var d=this.R;1===arguments.length?(d.src=a.src,d.lb=a.lb):(d.src=a,d.lb=c);this.un=d&&(770==d.src&&1==d.lb||1==d.src&&1==d.lb)},s:null,Wy:function(){if(0<arguments.length)return this.qi(arguments[0],arguments[1]);p.eb.prototype.s.call(this);this.ta=this.ah=!1;this.Vb=!0;this.R.src=p.$d;this.R.lb=p.Zd;this.$(null);this.Xa=!0;this.Tb=this.Ub=!1;this.la(0.5,
0.5);this.Nb.A=0;this.Nb.I=0;this.Xh=!1;var a={i:255,h:255,f:255,B:255};this.pb.va.C=a;this.pb.Ha.C=a;this.pb.Fa.C=a;this.pb.ya.C=a;this.Le=!0;this.mb(p.Dc(),!1,p.Tk());return!0},Vy:function(){if(0<arguments.length)return this.qi(arguments[0],arguments[1]);p.eb.prototype.s.call(this);this.ta=this.ah=!1;this.Vb=!0;this.R.src=p.$d;this.R.lb=p.Zd;this.$(null);this.Xa=!0;this.Tb=this.Ub=!1;this.la(0.5,0.5);this.Nb.A=0;this.Nb.I=0;this.Xh=!1;this.mb(p.Dc(),!1,p.Tk());return!0},qi:function(a,c){if(!a)throw"cc.Sprite.initWithFile(): filename should be non-null";
var d=p.Gb.d().Cw(a);if(!d)d=p.Gb.d().Pe(a);else if(!c){var e=d.g();c=p.rect(0,0,e.width,e.height)}return this.xa(d,c)},xa:null,cq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.eb.prototype.s.call(this))return!1;this.Ta=null;this.ta=this.ah=!1;this.Vb=!0;this.R.src=p.$d;this.R.lb=p.Zd;this.Tb=this.Ub=!1;this.la(0.5,0.5);this.Nb.A=0;this.Nb.I=0;this.Xh=!1;var e=new p.sb(255,255,255,255),f=this.pb;f.va.C=e;f.Ha.C=e;f.Fa.C=e;f.ya.C=e;
this.Xa=e=a.Wf();if(!e)return this.wc=d||!1,c&&(e=this.ka,e.x=c.x,e.y=c.y,e.width=c.width,e.height=c.height),a.lf(this.Wu,this),!0;c||(e=a.g(),c=p.rect(0,0,e.width,e.height));this.$(a);this.mb(c,d,c.Na);this.Yd(null);return this.Le=!0},bq:function(a,c,d){if(0==arguments.length)throw"Sprite.initWithTexture(): Argument must be non-nil ";d=d||!1;if(!p.eb.prototype.s.call(this))return!1;this.Ta=null;this.ta=this.ah=!1;this.Vb=!0;this.R.src=p.$d;this.R.lb=p.Zd;this.Tb=this.Ub=!1;this.la(0.5,0.5);this.Nb.A=
0;this.Nb.I=0;this.Xh=!1;var e=a.Wf();this.Xa=e;if(!e)return this.wc=d||!1,c&&(this.ka.x=c.x,this.ka.y=c.y,this.ka.width=c.width,this.ka.height=c.height),a.lf(this.Wu,this),!0;c||(e=a.g(),c=p.rect(0,0,e.width,e.height));this.Gf=a;this.$(a);this.mb(c,d,c.Na);this.Yd(null);return!0},Wu:null,QN:function(a){if(!this.Xa){this.Xa=!0;var c=this.ka;if(!c)c=a.g(),c=p.rect(0,0,c.width,c.height);else if(p.sq(c)){var d=a.g();c.width=d.width;c.height=d.height}this.$(a);this.mb(c,this.wc,c.Na);this.Yd(null);this.Le=
!0;this.ud()}},PN:function(a){if(!this.Xa){this.Xa=!0;var c=this.ka;if(!c)c=a.g(),c=p.rect(0,0,c.width,c.height);else if(p.sq(c)){var d=a.g();c.width=d.width;c.height=d.height}this.Gf=a;this.$(a);this.mb(c,this.wc,c.Na);this.Yd(null);this.ud()}},mb:null,TE:function(a,c,d){this.wc=c||!1;d=d||a.Na;this.aa(d);this.dC(a);this.SE(a);a=this.jh;this.Tb&&(a.A=-a.A);this.Ub&&(a.I=-a.I);var e=this.ka;this.Nb.A=a.A+(this.fa.sa-e.width)/2;this.Nb.I=a.I+(this.fa.ea-e.height)/2;if(this.Ta)this.ta=!0;else{a=0+this.Nb.A;
c=0+this.Nb.I;d=a+e.width;var e=c+e.height,f=this.pb;f.va.l={x:a,y:c,z:0};f.Ha.l={x:d,y:c,z:0};f.Fa.l={x:a,y:e,z:0};f.ya.l={x:d,y:e,z:0};this.Le=!0}},Nz:function(a,c,d){this.wc=c||!1;d=d||a.Na;this.aa(d);this.dC(a);c=this.Rn;d=p.$c();c.x=0|a.x*d;c.y=0|a.y*d;c.width=0|a.width*d;c.height=0|a.height*d;c.cs=!(0===c.width||0===c.height);a=this.jh;this.Tb&&(a.A=-a.A);this.Ub&&(a.I=-a.I);this.Nb.A=a.A+(this.fa.sa-this.ka.width)/2;this.Nb.I=a.I+(this.fa.ea-this.ka.height)/2;this.Ta&&(this.ta=!0)},uf:null,
hO:function(){if(this.ta){var a=this.pb,c=this.ga;if(!this.ra||c&&c!=this.Ta&&c.kk)a.Ha.l={x:0,y:0,z:0},a.Fa.l={x:0,y:0,z:0},a.ya.l={x:0,y:0,z:0},a.va.l={x:0,y:0,z:0},this.kk=!0;else{this.kk=!1;var d=this.Hl=c&&c!=this.Ta?p.Kk(this.pf(),c.Hl):this.pf(),e=this.ka.Na,c=this.Nb.A,f=this.Nb.I,g=c+e.width,e=f+e.height,h=d.Ka,k=d.La,l=d.B,m=d.f,n=d.wa,d=-d.na,r=this.hv;a.va.l={x:p.yf(c*l-f*d+h),y:p.yf(c*m+f*n+k),z:r};a.Ha.l={x:p.yf(g*l-f*d+h),y:p.yf(g*m+f*n+k),z:r};a.Fa.l={x:p.yf(c*l-e*d+h),y:p.yf(c*m+
e*n+k),z:r};a.ya.l={x:p.yf(g*l-e*d+h),y:p.yf(g*m+e*n+k),z:r}}this.Ea.Iw(a,this.vc);this.ah=!1;this.$f(!1)}this.Xh&&this.Cf(this.n,p.H.$e.uf);p.Kj&&(a=[p.a(this.pb.va.l.x,this.pb.va.l.y),p.a(this.pb.Ha.l.x,this.pb.Ha.l.y),p.a(this.pb.ya.l.x,this.pb.ya.l.y),p.a(this.pb.Fa.l.x,this.pb.Fa.l.y)],p.nf.Hd(a,4,!0))},gO:function(){if(this.ta){var a=this.ga;!this.ra||a&&a!=this.Ta&&a.kk?this.kk=!0:(this.kk=!1,this.Hl=a&&a!=this.Ta?p.Kk(this.pf(),a.Hl):this.pf());this.ta=this.ah=!1}this.Xh&&this.Cf(this.n,p.H.$e.uf)},
t:null,Vx:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Pa);null==d&&(d=a.Kc);if(this.Ta){if(!(a instanceof p.w)){p.log("cc.Sprite.addChild(): cc.Sprite only supports cc.Sprites as children when using cc.SpriteBatchNode");return}a.Q().mh!==this.Ea.Q().mh&&p.log("cc.Sprite.addChild(): cc.Sprite only supports a sprite using same texture as children when using cc.SpriteBatchNode");this.Ta.appendChild(a);this.Cd||this.Mz()}p.H.prototype.t.call(this,a,c,d);this.Xh=
!0},Ux:function(a,c,d){if(!a)throw"cc.Sprite.addChild(): child should be non-null";null==c&&(c=a.Pa);null==d&&(d=a.Kc);p.H.prototype.t.call(this,a,c,d);this.Xh=!0},Yr:function(){var a=this.jc,c=this.Ab,a={i:a.i,h:a.h,f:a.f,B:c};this.Vb&&(a.i*=c/255,a.h*=c/255,a.f*=c/255);c=this.pb;c.va.C=a;c.Ha.C=a;c.Fa.C=a;c.ya.C=a;this.Ta&&(this.vc!=p.xx?this.Ea.Iw(c,this.vc):this.ta=!0);this.Le=!0},Z:null,Lz:function(a){p.eb.prototype.Z.call(this,a);this.Yr()},xq:function(a){p.eb.prototype.Z.call(this,a);this.vl()},
o:null,Iz:function(a){p.eb.prototype.o.call(this,a);this.Yr()},vq:function(a){var c=this.Vc();if(c.i!==a.i||c.h!==a.h||c.f!==a.f)p.eb.prototype.o.call(this,a),this.Gt(),this.vl()},Ac:null,ZN:function(a){p.eb.prototype.Ac.call(this,a);this.Yr()},eA:function(a){var c=this.Vc();p.eb.prototype.Ac.call(this,a);a=this.jc;if(c.i!==a.i||c.h!==a.h||c.f!==a.f)this.Gt(),this.vl()},Io:null,nN:function(a){this.Ja();var c=a.ob;this.jh.A=c.x;this.jh.I=c.y;c=a.Q();a.Xa||(this.Xa=!1,a.lf(function(a){this.Xa=!0;var c=
a.Q();c!=this.pa&&this.$(c);this.mb(a.Nd(),a.Ic,a.Hc);this.ud()},this));c!=this.pa&&this.$(c);this.wc=a.Ic;this.mb(a.Nd(),this.wc,a.Hc)},mN:function(a){this.Ja();var c=a.ob;this.jh.A=c.x;this.jh.I=c.y;this.wc=a.Ic;var c=a.Q(),d=a.Xa;d||(this.Xa=!1,a.lf(function(a){this.Xa=!0;var c=a.Q();c!=this.pa&&this.$(c);this.mb(a.Nd(),a.Ic,a.Hc);this.ud()},this));c!=this.pa&&this.$(c);this.wc&&(this.Gf=c);this.mb(a.Nd(),this.wc,a.Hc);this.Jt=!1;d&&(a=this.Vc(),255===a.i&&255===a.h&&255===a.f||this.Gt())},PG:null,
oM:function(a){return p.vH(a.Nd(),this.ka)&&a.Q().getName()==this.pa.getName()&&p.mH(a.ob,this.jh)},nM:function(a){return a.Q()!=this.pa?!1:p.vH(a.Nd(),this.ka)},hP:function(){return p.bd.Fd(this.pa,p.Im(this.ka),this.wc,p.jK(this.jh),p.wx(this.fa))},Yd:null,fN:function(a){if(this.Ta=a)this.Hl={B:1,f:0,na:0,wa:1,Ka:0,La:0},this.Oo(this.Ta.Ea);else{this.vc=p.xx;this.Oo(null);this.ah=!1;this.$f(!1);a=this.Nb.A;var c=this.Nb.I,d=a+this.ka.width,e=c+this.ka.height,f=this.pb;f.va.l={x:a,y:c,z:0};f.Ha.l=
{x:d,y:c,z:0};f.Fa.l={x:a,y:e,z:0};f.ya.l={x:d,y:e,z:0};this.Le=!0}},eN:function(a){(this.Ta=a)?(this.Hl={B:1,f:0,na:0,wa:1,Ka:0,La:0},this.Oo(this.Ta.Ea)):(this.vc=p.xx,this.Oo(null),this.ah=!1,this.$f(!1))},$:null,zq:function(a){if(a&&!(a instanceof p.Fb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.Ta&&this.Ta.Q()!=a?p.log("cc.Sprite.setTexture(): Batched sprites should use the same texture as the batchnode"):(a?this.ag(p.Vg.d().zh(p.vx)):this.ag(p.Vg.d().zh(p.sK)),
this.Ta||this.pa==a||(this.pa=a,this.Il()))},yq:function(a){if(a&&!(a instanceof p.Fb))throw"cc.Sprite.setTexture(): setTexture expects a CCTexture2D. Invalid argument";this.pa!=a&&(a&&a.kc instanceof HTMLImageElement&&(this.Gf=a),this.pa=a)},Il:function(){this.Ta?p.log("cc.Sprite._updateBlendFunc(): _updateBlendFunc doesn't work when the sprite is rendered using a cc.CCSpriteBatchNode"):this.pa&&this.pa.qr()?(this.R.src=p.$d,this.R.lb=p.Zd,this.Ve(!0)):(this.R.src=770,this.R.lb=771,this.Ve(!1))},
Gt:function(){var a,c=this.pa,d=this.Rn;c&&d.cs&&this.Gf&&(a=c.kc)&&(c=p.Gb.d().qG(this.Gf.kc))&&(this.Jt=!0,a instanceof HTMLCanvasElement&&!this.wc&&!this.BE?p.MA(a,c,this.jc,d,a):(a=p.MA(a,c,this.jc,d),c=new p.Fb,c.Te(a),c.Td(),this.$(c)))},SE:function(a){a=p.Im(a);var c=this.Ta?this.Ea.Q():this.pa;if(c){var d=c.lo(),e=c.ko(),f,g=this.pb;this.wc?(p.Is?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Tb&&
(e=f,f=a,a=e),this.Ub&&(e=c,c=d,d=e),g.va.q.Ca=c,g.va.q.W=f,g.Ha.q.Ca=c,g.Ha.q.W=a,g.Fa.q.Ca=d,g.Fa.q.W=f,g.ya.q.Ca=d,g.ya.q.W=a):(p.Is?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/e),this.Tb&&(e=c,c=d,d=e),this.Ub&&(e=f,f=a,a=e),g.va.q.Ca=c,g.va.q.W=a,g.Ha.q.Ca=d,g.Ha.q.W=a,g.Fa.q.Ca=c,g.Fa.q.W=f,g.ya.q.Ca=d,g.ya.q.W=f);this.Le=!0}},Ia:null,Ff:function(){if(this.Xa){var a=p.L,c=this.pa;c?c.bc&&(this.lc.Ce(),
this.lc.cg(),p.rj(this.R.src,this.R.lb),p.q3(0,c),p.Od(p.qt),a.bindBuffer(a.ARRAY_BUFFER,this.Eu),this.Le&&(a.bufferData(a.ARRAY_BUFFER,this.pb.uA,a.DYNAMIC_DRAW),this.Le=!1),a.vertexAttribPointer(0,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(1,4,a.UNSIGNED_BYTE,!0,24,12),a.vertexAttribPointer(2,2,a.FLOAT,!1,24,16),a.drawArrays(a.TRIANGLE_STRIP,0,4)):(this.lc.Ce(),this.lc.cg(),p.rj(this.R.src,this.R.lb),p.Tf(null),p.Od(p.kg|p.MK),a.bindBuffer(a.ARRAY_BUFFER,this.Eu),this.Le&&(p.L.bufferData(p.L.ARRAY_BUFFER,
this.pb.uA,p.L.STATIC_DRAW),this.Le=!1),a.vertexAttribPointer(p.ce,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.kp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));p.qh++;0!==p.Kj&&(1===p.Kj?(a=this.pb,a=[p.a(a.Fa.l.x,a.Fa.l.y),p.a(a.va.l.x,a.va.l.y),p.a(a.Ha.l.x,a.Ha.l.y),p.a(a.ya.l.x,a.ya.l.y)],p.nf.Hd(a,4,!0)):2===p.Kj&&(a=this.UA().Na,c=this.Nb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.nf.Hd(a,4,!0)))}},dl:function(a){if(this.Xa){a=
a||p.L;this.un&&(a.globalCompositeOperation="lighter");var c=p.da.d().ha,d=p.da.d().ma;a.globalAlpha=this.Ab/255;var e=this.ka,f=this.fa,g=this.Nb,h=this.Cy,k=0|g.A,l=-g.I-e.height,m=this.Rn;h.width=e.width*c;h.height=e.height*d;if(this.Tb||this.Ub)a.save(),this.Tb&&(k=-g.A-e.width,a.scale(-1,1)),this.Ub&&(l=g.I,a.scale(1,-1));k*=c;l*=d;this.pa&&m.cs?(f=this.pa.kc,this.Jt?a.drawImage(f,0,0,m.width,m.height,k,l,h.width,h.height):a.drawImage(f,m.x,m.y,m.width,m.height,k,l,h.width,h.height)):0!==f.sa&&
(h=this.Vc(),a.fillStyle="rgba("+h.i+","+h.h+","+h.f+",1)",a.fillRect(k,l,f.sa*c,f.ea*d));1===p.Kj?(a.strokeStyle="rgba(0,255,0,1)",k/=c,l=-(l/d),k=[p.a(k,l),p.a(k+e.width,l),p.a(k+e.width,l-e.height),p.a(k,l-e.height)],p.nf.Hd(k,4,!0)):2===p.Kj&&(a.strokeStyle="rgba(0,255,0,1)",c=this.ka.Na,l=-l,k=[p.a(k,l),p.a(k+c.width,l),p.a(k+c.width,l-c.height),p.a(k,l-c.height)],p.nf.Hd(k,4,!0));(this.Tb||this.Ub)&&a.restore();p.qh++}}});
p.qa.oc?(b=p.w.prototype,b.Rz=p.w.prototype.LN,b.Ve=p.w.prototype.tN,b.Bc=p.w.prototype.$N,b.ctor=p.w.prototype.Xg,b.Ck=p.w.prototype.hN,b.s=p.w.prototype.Wy,b.xa=p.w.prototype.cq,b.Wu=p.w.prototype.QN,b.mb=p.w.prototype.TE,b.uf=p.w.prototype.hO,b.t=p.w.prototype.Vx,b.Z=p.w.prototype.Lz,b.o=p.w.prototype.Iz,b.Ac=p.w.prototype.ZN,b.Io=p.w.prototype.nN,b.PG=p.w.prototype.oM,b.Yd=p.w.prototype.fN,b.$=p.w.prototype.zq,b.Ia=p.w.prototype.Ff):(b=p.w.prototype,b.Rz=p.w.prototype.KN,b.Ve=p.w.prototype.sN,
b.Bc=p.w.prototype.lF,b.ctor=p.w.prototype.Wg,b.Ck=p.w.prototype.gN,b.s=p.w.prototype.Vy,b.xa=p.w.prototype.bq,b.Wu=p.w.prototype.PN,b.mb=p.w.prototype.Nz,b.uf=p.w.prototype.gO,b.t=p.w.prototype.Ux,b.Z=p.w.prototype.xq,b.o=p.w.prototype.vq,b.Ac=p.w.prototype.eA,b.Io=p.w.prototype.mN,b.PG=p.w.prototype.nM,b.Yd=p.w.prototype.eN,b.$=p.w.prototype.yq,b.Ia=p.w.prototype.dl);
p.w.Fd=function(a,c){var d=arguments.length,e=new p.w;switch(d){case 1:return e&&e.xa(a)?e:null;case 2:return e&&e.xa(a,c)?e:null;default:throw"Sprite.createWithTexture(): Argument must be non-nil ";}};p.w.create=function(a,c){var d=arguments.length,e=new p.w;if(0===d){if(e.s())return e}else if(e&&e.s(a,c))return e;return null};
p.w.LF=function(a){var c=null;if("string"==typeof a){if(c=p.Af.d().Gg(a),!c)return p.log("Invalid spriteFrameName: "+a),null}else return p.log("Invalid argument. Expecting string."),null;return(a=new p.w)&&a.Ud(c)?a:null};p.w.KF=function(a){var c=new p.w;return c&&c.Ud(a)?c:null};p.yi=p.oa.extend({Cq:null,wd:0,Vq:null,ctor:function(){this.wd=0},v:function(){var a=new p.yi;a.Ud(this.Cq.v(),this.wd,this.Vq);return a},qv:function(){return p.v(this)},copy:function(){var a=new p.yi;a.Ud(this.Cq.v(),this.wd,this.Vq);return a},Ud:function(a,c,d){this.Cq=a;this.wd=c;this.Vq=d;return!0},Gg:function(){return this.Cq},We:function(a){this.Cq=a},x0:function(){return this.wd},k7:function(a){this.wd=a},b3:function(){return this.Vq},Q8:function(a){this.Vq=a}});
p.xi=p.oa.extend({yd:null,Yi:0,sl:!1,ja:0,wd:0,Fl:0,ctor:function(){this.yd=[]},O0:function(){return this.yd},XH:function(a){this.yd=a},sA:function(a){var c=new p.yi;c.Ud(a,1,null);this.yd.push(c);this.Fl++},dZ:function(a){a=p.Gb.d().Pe(a);var c=p.Dc();c.Na=a.g();a=p.bd.Fd(a,c);this.sA(a)},eZ:function(a,c){var d=p.bd.Fd(a,c);this.sA(d)},rr:function(a,c,d){p.is(a,p.yi);this.wd=c;this.Yi=d;this.XH([]);for(c=0;c<a.length;c++)d=a[c],this.yd.push(d),this.Fl+=d.wd;return!0},v:function(){var a=new p.xi;
a.rr(this.XD(),this.wd,this.Yi);a.nw(this.sl);return a},qv:function(){var a=new p.xi;a.rr(this.XD(),this.wd,this.Yi);a.nw(this.sl);return a},XD:function(){for(var a=[],c=0;c<this.yd.length;c++)a.push(this.yd[c].v());return a},copy:function(){return this.qv(null)},d1:function(){return this.Yi},I7:function(a){this.Yi=a},nw:function(a){this.sl=a},n2:function(){return this.sl},Qe:function(){return this.Fl*this.wd},w0:function(){return this.wd},j7:function(a){this.wd=a},T2:function(){return this.Fl},KG:function(a,
c){p.is(a,p.bd);this.Yi=1;this.wd=c||0;this.XH([]);if(a)for(var d=0;d<a.length;d++){var e=a[d],f=new p.yi;f.Ud(e,1,null);this.yd.push(f);this.Fl++}return!0},FH:function(){},GB:function(){}});p.xi.create=function(a,c,d){var e=arguments.length,f=new p.xi;0==e?f.KG(null,0):2==e?f.KG(a,c||0):3==e&&f.rr(a,c,d);return f};p.xi.JF=function(a,c,d){var e=new p.xi;e.rr(a,c,d);return e};p.Lk=p.oa.extend({vF:function(a,c){this.Yk[c]=a},q6:function(a){a&&this.Yk.hasOwnProperty(a)&&delete this.Yk[a]},hG:function(a){return this.Yk.hasOwnProperty(a)?this.Yk[a]:null},bL:function(a,c){var d=a.animations;if(d){var e=1,f=a.properties;if(f)for(var e=null!=f.format?parseInt(f.format):e,f=f.spritesheets,g=p.Af.d(),h=p.ad.d(),k,l=0;l<f.length;l++)k=h.gG(f[l],c),g.BF(k);switch(e){case 1:this.IM(d);break;case 2:this.JM(d);break;default:p.log("cc.AnimationCache. Invalid animation format")}}else p.log("cocos2d: cc.AnimationCache: No animations were found in provided dictionary.")},
UY:function(a){if(!a)throw"cc.AnimationCache.addAnimations(): Invalid texture file name";var c=p.ad.d(),d=c.Md(a);(c=c.sv(d))?this.bL(c,a):p.log("cc.AnimationCache.addAnimations(): File could not be found")},IM:function(a){var c=p.Af.d(),d;for(d in a){var e=a[d],f=e.frames,e=parseFloat(e.delay)||0,g=null;if(f){for(var g=[],h=0;h<f.length;h++){var k=c.Gg(f[h]);if(k){var l=new p.yi;l.Ud(k,1,null);g.push(l)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+f[h]+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}0===
g.length?p.log("cocos2d: cc.AnimationCache: None of the frames for animation '"+d+"' were found in the cc.SpriteFrameCache. Animation is not being added to the Animation Cache."):(g.length!=f.length&&p.log("cocos2d: cc.AnimationCache: An animation in your dictionary refers to a frame which is not in the cc.SpriteFrameCache. Some or all of the frames for the animation '"+d+"' may be missing."),g=p.xi.JF(g,e,1),p.Lk.d().vF(g,d))}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},
JM:function(a){var c=p.Af.d(),d;for(d in a){var e=a[d],f=parseInt(e.loops),f=e.loop?p.Sk:isNaN(f)?1:f,g=e.restoreOriginalFrame&&!0==e.restoreOriginalFrame?!0:!1,h=e.frames;if(h){for(var k=[],l=0;l<h.length;l++){var m=h[l],n=m.spriteframe,r=c.Gg(n);if(r){var n=parseFloat(m.delayUnits)||0,m=m.notification,q=new p.yi;q.Ud(r,n,m);k.push(q)}else p.log("cocos2d: cc.AnimationCache: Animation '"+d+"' refers to frame '"+n+"' which is not currently in the cc.SpriteFrameCache. This frame will not be added to the animation.")}e=
parseFloat(e.delayPerUnit)||0;h=new p.xi;h.rr(k,e,f);h.nw(g);p.Lk.d().vF(h,d)}else p.log("cocos2d: CCAnimationCache: Animation '"+d+"' found in dictionary without any frames - cannot add to animation cache.")}},s:function(){this.Yk={};return!0},Yk:null});p.Lk.jS=function(){p.tm&&(p.tm.Yk=null,p.tm=null)};p.Lk.d=function(){null===p.tm&&(p.tm=new p.Lk,p.tm.s());return p.tm};p.tm=null;p.bd=p.oa.extend({ob:null,Hc:null,je:null,Ic:!1,ka:null,df:null,Ie:null,pa:null,Qn:"",Xa:!1,Tt:null,ctor:function(){this.ob=p.Sc();this.df=p.Sc();this.Hc=p.xl();this.Ic=!1;this.Ie=p.xl();this.Qn="";this.pa=null;this.Xa=!1},JI:function(){return this.Xa},lf:function(a,c){null==this.Tt&&(this.Tt=[]);this.Tt.push({pj:a,ph:c})},ud:function(){var a=this.Tt;if(a){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.pj.call(e.ph,this)}a.length=0}},ZP:function(){var a=this.je;return p.rect(a.x,a.y,a.width,a.height)},
n8:function(a){this.je||(this.je=p.rect(0,0,0,0));this.je.x=a.x;this.je.y=a.y;this.je.width=a.width;this.je.height=a.height;this.ka=p.bp(a)},n4:function(){return this.Ic},v8:function(a){this.Ic=a},Nd:function(){var a=this.ka;return p.rect(a.x,a.y,a.width,a.height)},fI:function(a){this.ka||(this.ka=p.rect(0,0,0,0));this.ka.x=a.x;this.ka.y=a.y;this.ka.width=a.width;this.ka.height=a.height;this.je=p.Im(this.ka)},I1:function(){return this.df},W7:function(a){this.df.A=a.x;this.df.I=a.y;p.tt(this.df,this.ob)},
P1:function(){return this.Ie},Z7:function(a){this.Ie.sa=a.width;this.Ie.ea=a.height},VP:function(){return this.Hc},Y7:function(a){this.Hc.sa=a.width;this.Hc.ea=a.height},Q:function(){if(this.pa)return this.pa;if(""!==this.Qn){var a=p.Gb.d().Pe(this.Qn);a&&(this.Xa=a.Wf());return a}return null},$:function(a){if(this.pa!=a){var c=a.Wf();this.Xa=c;this.pa=a;c||a.lf(function(a){this.Xa=!0;if(this.Ic&&p.Yc===p.wf){var c=a.kc,c=p.MF(c,this.Nd()),f=new p.Fb;f.Te(c);f.Td();this.$(f);c=this.Nd();this.fI(p.rect(0,
0,c.width,c.height))}c=this.ka;0===c.width&&0===c.height&&(a=a.g(),this.ka.width=a.width,this.ka.height=a.height,this.je=p.Im(this.ka),this.Ie.sa=this.je.width,this.Ie.ea=this.je.height,this.Hc.sa=a.width,this.Hc.ea=a.height);this.ud()},this)}},H1:function(){return this.ob},V7:function(a){this.ob.A=a.x;this.ob.I=a.y},v:function(){var a=new p.bd;a.Lv(this.Qn,this.je,this.Ic,this.df,this.Ie);a.$(this.pa);return a},qv:function(){var a=new p.bd;a.Lv(this.Qn,this.je,this.Ic,this.df,this.Ie);a.$(this.pa);
return a},copy:function(){return this.qv()},xa:function(a,c,d,e,f){2===arguments.length&&(c=p.Im(c));e=e||p.a(0,0);f=f||c.Na;this.$(a);this.je=c;this.ka=p.bp(c);this.df.A=e.x;this.df.I=e.y;p.tt(e,this.ob);this.Ie.sa=f.width;this.Ie.ea=f.height;p.Nx(f,this.Hc);this.Ic=d||!1;return!0},Lv:function(a,c,d,e,f){2===arguments.length&&(c=p.Im(c));e=e||p.a(0,0);f=f||c.Na;this.pa=null;this.Qn=a;this.je=c;this.ka=p.bp(c);this.Ic=d||!1;this.df.A=e.x;this.df.I=e.y;p.tt(e,this.ob);this.Ie.sa=f.width;this.Ie.ea=
f.height;p.Nx(f,this.Hc);return!0}});p.bd.create=function(a,c,d,e,f){var g=new p.bd;switch(arguments.length){case 2:g.Lv(a,c);break;case 5:g.Lv(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};p.bd.Fd=function(a,c,d,e,f){var g=new p.bd;switch(arguments.length){case 2:g.xa(a,c);break;case 5:g.xa(a,c,d,e,f);break;default:throw"Argument must be non-nil ";}return g};
p.bd.nY=function(a,c,d,e,f){var g=new p.bd;g.pa=a;g.je=c;g.ka=p.bp(c);g.df.A=e.x;g.df.I=e.y;p.tt(g.df,g.ob);g.Ie.sa=f.width;g.Ie.ea=f.height;p.Nx(g.Ie,g.Hc);g.Ic=d;return g};p.Af=p.oa.extend({le:null,lk:null,hq:null,ctor:function(){this.le={};this.lk={};this.hq=[]},Xx:function(a,c){var d=a.metadata||a.meta,e=a.frames,f=0;d&&(f=d.format,f=1>=f.length?parseInt(f):f);if(0>f||3<f)p.log("format is not supported for cc.SpriteFrameCache.addSpriteFramesWithDictionary");else for(var g in e)if(d=e[g]){var h=this.le[g];if(!h){if(0==f){var h=parseFloat(d.x),k=parseFloat(d.y),l=parseFloat(d.width),m=parseFloat(d.height),n=parseFloat(d.offsetX),r=parseFloat(d.offsetY),q=parseInt(d.originalWidth),
d=parseInt(d.originalHeight);q&&d||p.log("cocos2d: WARNING: originalWidth/Height not found on the cc.SpriteFrame. AnchorPoint won't work as expected. Regenrate the .plist");q=Math.abs(q);d=Math.abs(d);h=p.bd.Fd(c,p.rect(h,k,l,m),!1,p.a(n,r),p.size(q,d))}else if(1==f||2==f)h=p.kD(d.frame),k=!1,2==f&&(k=d.rotated),l=p.jD(d.offset),d=p.zx(d.sourceSize),h=p.bd.Fd(c,h,k,l,d);else if(3==f){var h=p.zx(d.spriteSize),k=p.jD(d.spriteOffset),l=p.zx(d.spriteSourceSize),m=p.kD(d.textureRect),n=d.textureRotated,
r=d.aliases,q=g.toString(),t;for(t in r)this.lk.hasOwnProperty(r[t])&&p.log("cocos2d: WARNING: an alias with name "+t+" already exists"),this.lk[r[t]]=q;d.hasOwnProperty("spriteSize")&&(m=p.rect(m.x,m.y,h.width,h.height));h=p.bd.Fd(c,m,n,k,l)}else var y=d.filename,k=d.frame,h=d.sourceSize,k=p.rect(k.x,k.y,k.ZI,k.Sd),d=d.rotated,l=p.a(0,0),h=p.size(h.ZI,h.Sd),h=p.bd.Fd(c,k,d,l,h);p.Yc===p.wf&&h.Ic&&h.Q().Wf()&&(d=h.Q().kc,d=p.MF(d,h.ZP()),k=new p.Fb,k.Te(d),k.Td(),h.$(k),d=h.ka,h.fI(p.rect(0,0,d.width,
d.height)));this.le[null!=y?y:g]=h}}},BF:function(a,c){if(!a)throw"cc.SpriteFrameCache.addSpriteFrames(): plist should be non-null";var d=p.ad.d(),e;"plist"==a.substr(a.lastIndexOf(".",a.length)+1,a.length)?(e=d.Md(a),e=d.sv(e)):e=JSON.parse(d.oG(a));switch(arguments.length){case 1:if(!p.Nw(this.hq,a)){var f="",g=e.metadata||e.meta;g&&(f=g.textureFileName||g.image);""!=f?f=d.gG(f,a):(f=a,f=f.substr(0,f.lastIndexOf(".",f.length)),f+=".png");(d=p.Gb.d().Pe(f))?this.Xx(e,d):p.log("cocos2d: cc.SpriteFrameCache: Couldn't load texture")}break;
case 2:if(c instanceof p.Fb)this.Xx(e,c);else{if(!c)throw"cc.SpriteFrameCache.addSpriteFrames(): texture name should not be null";(d=p.Gb.d().Pe(c))?this.Xx(e,d):p.log("cocos2d: cc.SpriteFrameCache: couldn't load texture file. File not found "+c)}break;default:throw"Argument must be non-nil ";}},sA:function(a,c){this.le[c]=a},z6:function(){this.le=[];this.lk=[];this.hq={}},y6:function(a){a&&(this.lk.hasOwnProperty(a)&&delete this.lk[a],this.le.hasOwnProperty(a)&&delete this.le[a],this.hq={})},A6:function(a){var c=
p.ad.d(),d=c.Md(a),c=c.sv(d);this.TM(c);p.Nw(this.hq,a)&&p.od(a)},TM:function(a){a=a.frames;for(var c in a)this.le.hasOwnProperty(c)&&delete this.le[c]},B6:function(a){for(var c in this.le){var d=this.le[c];d&&d.Q()==a&&delete this.le[c]}},Gg:function(a){var c;this.le.hasOwnProperty(a)&&(c=this.le[a]);if(!c){var d;this.lk.hasOwnProperty(a)&&(d=this.lk[a]);d&&(this.le.hasOwnProperty(d.toString())&&(c=this.le[d.toString()]),c||p.log("cocos2d: cc.SpriteFrameCahce: Frame "+a+" not found"))}return c}});
p.fw=null;p.Af.d=function(){p.fw||(p.fw=new p.Af);return p.fw};p.Af.kS=function(){p.fw=null};p.$o=29;
p.$a=p.H.extend({Ea:null,R:null,Qc:null,fZ:function(a,c,d){if(!a)throw"cc.SpriteBatchNode.addQuadFromSprite(): child should be non-null";if(!(a instanceof p.w))return p.log("cc.SpriteBatchNode.addQuadFromSprite(): SpriteBatchNode only supports cc.Sprites as children"),null;a.Xd(c);var e=0,f=this.Qc;if(f&&0<f.length)for(var g=0;g<f.length;g++){var h=f[g];h&&h.vc>=c&&++e}this.Qc=p.Mk(f,a,e);p.H.prototype.t.call(this,a,c,d);this.BH(!1);return this},pG:function(){return this.Ea},Oo:function(a){a!=this.Ea&&
(this.Ea=a)},A0:function(){return this.Qc},qi:function(a,c){var d=p.Gb.d().Cw(a);d||(d=p.Gb.d().Pe(a));return this.xa(d,c)},vl:function(){this.TD=!0},s:function(a,c){var d=p.Gb.d().Cw(a);d||(d=p.Gb.d().Pe(a));return this.xa(d,c)},Gv:function(){var a=this.Ea.Ec,c=Math.floor(4*(a+1)/3);p.log("cocos2d: CCSpriteBatchNode: resizing TextureAtlas capacity from "+a+" to "+c+".");this.Ea.LS(c)||p.log("cocos2d: WARNING: Not enough memory to resize the atlas")},s6:function(a,c){this.removeChild(this.n[a],c)},
uH:function(a,c){var d=a.n;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e];f&&0>f.Pa&&(c=this.uH(f,c))}!a==this&&(a.Xd(c),c++);if(d&&0<d.length)for(e=0;e<d.length;e++)(f=d[e])&&0<=f.Pa&&(c=this.uH(f,c));return c},aB:function(a){var c=a.n;return c&&0!=c.length?this.aB(c[c.length-1]):a.vc},qR:function(a){var c=a.n;return c&&0!=c.length?this.qR(c[c.length-1]):a.vc},vO:function(a,c){var d=a.getParent().n,e=p.Pw(d,a),f=a.getParent()==this,g=null;0<e&&e<p.JK&&(g=d[e-1]);if(f)return 0==e?0:this.aB(g)+
1;if(0==e)return d=a.getParent(),0>c?d.vc:d.vc+1;if(0>g.Pa&&0>c||0<=g.Pa&&0<=c)return this.aB(g)+1;d=a.getParent();return d.vc+1},BH:function(a){this.Cd=a},Ck:function(a,c){this.R=1==arguments.length?a:{src:a,lb:c}},hr:function(){return this.R},Jr:function(a,c){if(!a)throw"cc.SpriteBatchNode.addChild():child should be non-null";-1===this.n.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): Child doesn't belong to Sprite"):c!==a.Pa&&(p.H.prototype.Jr.call(this,a,c),this.Ja())},removeChild:function(a,
c){null!=a&&(-1===this.n.indexOf(a)?p.log("cc.SpriteBatchNode.addChild(): sprite batch node should contain the child"):(this.qm(a),p.H.prototype.removeChild.call(this,a,c)))},yM:null,Dl:null,QY:!1,Gf:null,ctor:null,Wg:function(a){p.H.prototype.ctor.call(this);a&&this.s(a,p.$o)},Xg:function(a){p.H.prototype.ctor.call(this);this.yM=new p.Ig;a&&this.s(a,p.$o)},UI:null,dO:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";a instanceof p.w?(a.Yd(this),a.Xd(c),
a.$f(!0),a.uf()):p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},eO:function(a,c){if(!a)throw"cc.SpriteBatchNode.updateQuadFromSprite(): sprite should be non-null";if(a instanceof p.w){for(var d=this.Ea.Ec;c>=d||d==this.Ea.Ga;)this.Gv();a.Yd(this);a.Xd(c);a.$f(!0);a.uf()}else p.log("cc.SpriteBatchNode.updateQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},Su:function(a,c){var d=this.Qc,e=this.Ea,f=e.he,g=d[a],
h=p.Kx(f[a]);d[c].Xd(a);d[a]=d[c];e.Iw(f[c],a);d[c]=g;e.Iw(h,c)},LG:null,lM:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";a instanceof p.w?(a.Yd(this),a.Xd(c),a.$f(!0),a.uf(),this.n=p.Mk(this.n,a,c)):p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},mM:function(a,c){if(!a)throw"cc.SpriteBatchNode.insertQuadFromSprite(): sprite should be non-null";if(a instanceof p.w){for(var d=this.Ea;c>=d.Ec||
d.Ec===d.Ga;)this.Gv();a.Yd(this);a.Xd(c);d.jB(a.pb,c);a.$f(!0);a.uf()}else p.log("cc.SpriteBatchNode.insertQuadFromSprite(): cc.SpriteBatchNode only supports cc.Sprites as children")},kF:function(a,c){var d=0,e=a.n;e&&(d=e.length);var f=0;if(0===d)f=a.vc,a.Xd(c),a.Ko(0),f!=c&&this.Su(f,c),c++;else{f=!0;0<=e[0].Pa&&(f=a.vc,a.Xd(c),a.Ko(0),f!=c&&this.Su(f,c),c++,f=!1);for(d=0;d<e.length;d++){var g=e[d];f&&0<=g.Pa&&(f=a.vc,a.Xd(c),a.Ko(0),f!=c&&this.Su(f,c),c++,f=!1);c=this.kF(g,c)}f&&(f=a.vc,a.Xd(c),
a.Ko(0),f!=c&&this.Su(f,c),c++)}return c},Il:function(){this.Ea.Q().qr()||(this.R.src=770,this.R.lb=771)},xa:null,bq:function(a){this.n=[];this.Qc=[];this.R=new p.Ok(p.$d,p.Zd);this.Dl=this.Gf=a;return!0},cq:function(a,c){this.n=[];this.Qc=[];this.R=new p.Ok(p.$d,p.Zd);c=c||p.$o;this.Ea=new p.Nm;this.Ea.xa(a,c);this.Il();this.ag(p.Vg.d().zh(p.vx));return!0},VQ:function(a,c){a.Yd(this);a.Xd(c);a.$f(!0);var d=this.Ea;d.Ga>=d.Ec&&this.Gv();d.jB(a.pb,c);this.Qc=p.Mk(this.Qc,a,c);var d=c+1,e=this.Qc;if(e&&
0<e.length)for(;d<e.length;d++)e[d].Xd(e[d].vc+1);if((e=a.n)&&0<e.length)for(d=0;d<e.length;d++)if(e[d]){var f=this.vO(e[d],e[d].Pa);this.VQ(e[d],f)}},appendChild:null,iL:function(a){this.Cd=!0;a.Yd(this);a.$f(!0);this.Qc.push(a);a.Xd(this.Qc.length-1);a=a.n;for(var c=0;c<a.length;c++)this.appendChild(a[c])},jL:function(a){this.Cd=!0;a.Yd(this);a.$f(!0);this.Qc.push(a);var c=this.Qc.length-1;a.Xd(c);var d=this.Ea;d.Ga==d.Ec&&this.Gv();d.jB(a.pb,c);a=a.n;for(c=0;c<a.length;c++)this.appendChild(a[c])},
qm:null,UM:function(a){a.Yd(null);var c=this.Qc,d=p.Pw(c,a);if(-1!=d){p.Vo(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Xd(f.vc-1)}}if((a=a.n)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.qm(a[c])},VM:function(a){this.Ea.HS(a.vc);a.Yd(null);var c=this.Qc,d=p.Pw(c,a);if(-1!=d){p.Vo(c,d);for(var e=c.length;d<e;++d){var f=c[d];f.Xd(f.vc-1)}}if((a=a.n)&&0<a.length)for(c=0;c<a.length;c++)a[c]&&this.qm(a[c])},Q:null,Qy:function(){return this.Dl},Ry:function(){return this.Ea.Q()},$:null,yq:function(a){this.Dl=
a;for(var c=this.n,d=0;d<c.length;d++)c[d].$(a)},zq:function(a){this.Ea.$(a);this.Il()},ca:null,Jl:function(a){var c=a||p.L;if(this.ra){c.save();this.transform(a);var d=this.n;if(d)for(this.md(),a=0;a<d.length;a++)d[a]&&d[a].ca(c);c.restore()}},Kl:function(a){a=a||p.L;if(this.ra){p.wo();var c=this.Yj;c&&c.ro()&&(c.wA(),this.Gw());this.md();this.transform(a);this.Ia(a);c&&c.ro()&&c.tA(this);p.vo();this.Ko(0)}},t:null,Ux:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";
a instanceof p.w?(c=null==c?a.Pa:c,d=null==d?a.Kc:d,p.H.prototype.t.call(this,a,c,d),this.appendChild(a),this.Ja()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Vx:function(a,c,d){if(null==a)throw"cc.SpriteBatchNode.addChild(): child should be non-null";a instanceof p.w?a.Q()!=this.Ea.Q()?p.log("cc.SpriteBatchNode.addChild(): cc.Sprite is not using the same texture"):(c=null==c?a.Pa:c,d=null==d?a.Kc:d,p.H.prototype.t.call(this,a,c,d),this.appendChild(a),
this.Ja()):p.log("cc.SpriteBatchNode.addChild(): cc.SpriteBatchNode only supports cc.Sprites as children")},Ah:null,QM:function(a){var c=this.Qc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Yd(null);p.H.prototype.Ah.call(this,a);this.Qc=[]},RM:function(a){var c=this.Qc;if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)c[d]&&c[d].Yd(null);p.H.prototype.Ah.call(this,a);this.Qc=[];this.Ea.BS()},md:null,IN:function(){if(this.Cd){var a,c=0,d=this.n,e=d.length,f;for(a=1;a<e;a++){var g=d[a],
c=a-1;for(f=d[c];0<=c&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.ef<f.ef);)d[c+1]=f,c-=1,f=d[c];d[c+1]=g}0<d.length&&this.Cf(d,p.H.$e.md);this.Cd=!1}},JN:function(){if(this.Cd){var a=this.n,c,d=0,e=a.length,f;for(c=1;c<e;c++){var g=a[c],d=c-1;for(f=a[d];0<=d&&(g.Pa<f.Pa||g.Pa==f.Pa&&g.ef<f.ef);)a[d+1]=f,d-=1,f=a[d];a[d+1]=g}if(0<a.length)for(this.Cf(a,p.H.$e.md),c=d=0;c<a.length;c++)d=this.kF(a[c],d);this.Cd=!1}},Ia:null,Ff:function(){0!==this.Ea.Ga&&(this.lc.Ce(),this.lc.cg(),this.Cf(this.n,p.H.$e.uf),p.rj(this.R.src,
this.R.lb),this.Ea.mP())}});
p.qa.oc?(b=p.$a.prototype,b.ctor=p.$a.prototype.Xg,b.UI=p.$a.prototype.eO,b.LG=p.$a.prototype.mM,b.xa=p.$a.prototype.cq,b.appendChild=p.$a.prototype.jL,b.qm=p.$a.prototype.VM,b.Q=p.$a.prototype.Ry,b.$=p.$a.prototype.zq,b.ca=p.$a.prototype.Kl,b.t=p.$a.prototype.Vx,b.Ah=p.$a.prototype.RM,b.md=p.$a.prototype.JN,b.Ia=p.$a.prototype.Ff):(b=p.$a.prototype,b.ctor=p.$a.prototype.Wg,b.UI=p.$a.prototype.dO,b.LG=p.$a.prototype.lM,b.xa=p.$a.prototype.bq,b.appendChild=p.$a.prototype.iL,b.qm=p.$a.prototype.UM,
b.Q=p.$a.prototype.Qy,b.$=p.$a.prototype.yq,b.ca=p.$a.prototype.Jl,b.Ah=p.$a.prototype.QM,b.t=p.$a.prototype.Ux,b.md=p.$a.prototype.IN,b.Ia=p.H.prototype.Ia);p.$a.create=function(a,c){c=c||p.$o;var d=new p.$a;d.s(a,c);return d};p.$a.Fd=function(a,c){c=c||p.$o;var d=new p.$a;d.xa(a,c);return d};p.GV={DV:0,FV:1,EV:2,CV:3,BV:4};
p.ae=p.oa.extend({jq:0,wE:0,Iq:!1,Hq:!1,Ou:!1,Pu:!1,Qu:!1,vM:0,qu:0,op:"",jj:null,ctor:function(){this.wE=this.jq=0;this.Qu=this.Pu=this.Ou=this.Hq=this.Iq=!1;this.qu=this.vM=0;this.op="";this.jj={}},o1:function(){return this.jq},n1:function(){return this.wE},p1:function(){return this.qu},m9:function(){return this.Hq},n9:function(){return this.Iq},k9:function(){return this.Ou},l9:function(){return this.Pu},o9:function(){return this.Qu},ao:function(a){return-1<this.op.indexOf(a)},s:function(){var a=
this.jj;a["cocos2d.x.version"]=p.os;a["cocos2d.x.compiled_with_profiler"]=!1;a["cocos2d.x.compiled_with_gl_state_cache"]=p.OC;return!0},d0:function(a,c){var d=this.jj;return d.hasOwnProperty(a)?d[a]:c},Z_:function(a,c){null==c&&(c=!1);var d=this.jj;return d.hasOwnProperty(a)?d[a]:c},z1:function(a,c){null==c&&(c=0);var d=this.jj;return d.hasOwnProperty(a)?d[a]:c},B1:function(a){var c=this.jj;return c.hasOwnProperty(a)?c[a]:null},OT:function(a,c){this.jj[a]=c},qP:function(){0===p.OC&&(p.log(""),p.log("cocos2d: **** WARNING **** CC_ENABLE_PROFILERS is defined. Disable it when you finish profiling (from ccConfig.js)"),
p.log(""))},AP:function(){if(p.Yc!==p.wf){var a=p.L,c=this.jj;c["gl.vendor"]=a.getParameter(a.VENDOR);c["gl.renderer"]=a.getParameter(a.RENDERER);c["gl.version"]=a.getParameter(a.VERSION);this.op="";for(var d=a.getSupportedExtensions(),e=0;e<d.length;e++)this.op+=d[e]+" ";this.jq=a.getParameter(a.MAX_TEXTURE_SIZE);c["gl.max_texture_size"]=this.jq;this.qu=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);c["gl.max_texture_units"]=this.qu;this.Iq=this.ao("GL_IMG_texture_compression_pvrtc");c["gl.supports_PVRTC"]=
this.Iq;this.Hq=!1;c["gl.supports_NPOT"]=this.Hq;this.Ou=this.ao("GL_IMG_texture_format_BGRA888");c["gl.supports_BGRA8888"]=this.Ou;this.Pu=this.ao("GL_EXT_discard_framebuffer");c["gl.supports_discard_framebuffer"]=this.Pu;this.Qu=this.ao("vertex_array_object");c["gl.supports_vertex_array_object"]=this.Qu;p.xC()}},N4:function(a){var c=p.ad.d(),d=c.Md(a),c=c.sv(d);if(null!=c)if(c=c.data)for(var e in c)this.jj[e]=c[e];else p.log("Expected 'data' dict, but not found. Config file: "+a)}});p.ae.Bq=null;
p.ae.d=function(){p.ae.Bq||(p.ae.Bq=new p.ae,p.ae.Bq.s());return p.ae.Bq};p.ae.b6=function(){p.ae.Bq=null};p.qh=0;p.sJ=0;p.LC=1;p.tJ=3;p.uJ=p.LC;p.LV=0;p.JV=1;p.MV=2;p.KV=3;p.IV=2;p.PV=p.oa.extend({Q9:function(){}});p.PC=function(a){var c=new p.Ig;p.iR(p.Qs,c);var d=new p.Ig;p.iR(p.Ps,d);p.lR(a,c,d)};
p.M=p.oa.extend({zY:!1,nq:!1,ql:!1,Du:!1,ul:!1,mg:0,gz:0,jk:0,Qm:0,cl:1,Jp:!1,Uj:0,Wt:0,Nj:null,Pj:null,Vj:null,ub:null,Xi:null,$h:null,vu:null,sg:null,gi:null,sz:null,Jc:null,yd:0,aA:0,Hz:0,kY:null,Mf:null,lg:null,pe:null,bz:null,yt:null,lq:null,yY:!1,ctor:function(){this.Xi=Date.now();if(!p.kB){var a=this;window.addEventListener("focus",function(){a.Xi=Date.now()},!1)}},$M:function(){this.Xi=Date.now()},s:function(){this.gz=this.mg=1/p.$O;this.gi=[];this.jk=p.uJ;this.sz=null;this.Wt=this.Qm=0;this.Jp=
!1;this.aA=this.yd=0;this.Xi=Date.now();this.Du=this.ql=!1;this.ub=p.xl();this.sg=null;this.cl=1;this.Mf=new p.wK;this.lg=new p.dJ;this.Mf.HH(this.lg,p.Ts,!1);p.U&&(this.pe=new p.U,this.pe.s());p.Gm&&(this.bz=p.Gm.d());p.Gj&&(this.yt=new p.Gj);p.sd&&(this.lq=new p.sd,this.lq.s());return!0},AO:function(){var a=Date.now();this.nq?(this.Uj=0,this.nq=!1):this.Uj=(a-this.Xi)/1E3;0<p.ls&&0.2<this.Uj&&(this.Uj=1/60);this.Xi=a},TO:function(a){var c=new p.Ig;p.PC(c);var d=new p.Ig;p.G4(d,c);var c=c.Jg[14]/
c.Jg[15],e=this.sg.jo();a=new p.xo(2*a.x/e.width-1,1-2*a.y/e.height,c);c=new p.xo;p.nR(c,a,d);return p.a(c.x,c.y)},VO:function(a){var c=new p.Ig;p.PC(c);var d=new p.xo;a=new p.xo(a.x,a.y,0);p.nR(d,a,c);c=this.sg.jo();return p.a(c.width*(0.5*d.x+0.5),c.height*(0.5*-d.y+0.5))},nP:function(){this.AO();this.ql||this.Mf.update(this.Uj);this.VD();this.$h&&this.NT();this.by&&this.by();this.Jc&&this.Jc.ca();this.vu&&this.vu.ca();this.Jp&&this.HN();this.Yx&&this.Yx();this.aA++;this.Jp&&this.qL()},yL:function(){var a=
this.sg.re;p.L.clearRect(-a.x,a.y,a.width,-a.height)},FL:function(){var a=p.L;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},by:null,Yx:null,lL:function(){p.wo()},hL:function(){p.vo()},end:function(){this.Du=!0},p0:function(){return this.cl},y1:function(){return this.vu},l3:function(){return this.ub},nQ:function(){return p.size(this.ub.width*this.cl,this.ub.height*this.cl)},mr:function(){return this.sg?this.sg.mr():this.ub},vG:function(){return this.sg?this.sg.vG():p.kK},or:function(){return this.ub.height/
1.1566},pause:function(){this.ql||(this.gz=this.mg,this.Mr(0.25),this.ql=!0)},V5:function(){if(!this.Jc)throw"running scene should not null";this.gi.pop();var a=this.gi.length;0==a?this.end():(this.ul=!0,this.$h=this.gi[a-1])},CB:function(){p.ix.CB()},iS:function(){this.Se().Xr();this.pe&&this.pe.AS();this.Jc&&(this.Jc.Mg(),this.Jc.ld(),this.Jc.mf());this.$h=this.Jc=null;this.gi=[];this.EI();p.ix.CB();p.Lk.jS();p.Af.kS();p.Gb.lS();p.xC()},mS:function(a){if(!a)throw"the scene should not null";this.ul=
!1;this.gi.push(a);this.$h=a},CH:function(a){if(!this.Jc)throw"Use runWithScene: instead to start the director";if(!a)throw"the scene should not be null";var c=this.gi.length;0===c?(this.ul=!0,this.gi[c]=a):(this.ul=!0,this.gi[c-1]=a);this.$h=a},EH:function(){this.ql&&(this.Mr(this.gz),(this.Xi=Date.now())||p.log("cocos2d: Director: Error in gettimeofday"),this.ql=!1,this.Uj=0)},US:function(a){if(!a)throw"This command can only be used to start the CCDirector. There is already a scene present.";if(this.Jc)throw"_runningScene should be null";
this.mS(a);this.CI()},fT:function(a){a?p.rj(p.$d,p.Zd):p.rj(p.L.ONE,p.L.ZERO)},nT:function(a){a!=this.cl&&(this.cl=a,this.hn())},rT:function(a){if(p.Yc!==p.wf){var c=p.L;a?(c.clearDepth(1),c.enable(c.DEPTH_TEST),c.depthFunc(c.LEQUAL)):c.disable(c.DEPTH_TEST)}},i7:function(){},YH:function(){this.fT(!0);this.rT(!1);this.mw(this.jk);p.L.clearColor(0,0,0,1)},R7:function(a){this.nq=a},NT:function(){var a=!1,c=!1;p.AD&&(a=this.Jc?this.Jc instanceof p.AD:!1,c=this.$h?this.$h instanceof p.AD:!1);if(!c){if(c=
this.Jc)c.Mg(),c.ld();this.ul&&c&&c.mf()}this.Jc=this.$h;this.$h=null;a||null==this.Jc||(this.Jc.Xf(),this.Jc.wh())},S7:function(a){this.vu=a},Qb:function(){return this.sz},Og:function(a){this.sz=a},TT:function(a){this.ub.eC(p.canvas.width);this.ub.TB(p.canvas.height);this.sg=a||p.da.d();p.Yc!==p.wf&&(a=p.ae.d(),a.AP(),a.qP(),this.hn(),this.YH(),this.pe&&this.pe.tT(!0))},sI:function(){if(this.sg){var a=this.ub;this.sg.jU(0,0,a.width,a.height)}},mw:function(a){var c=this.ub;if(p.Yc===p.Mj){this.sI();
switch(a){case p.sJ:p.am(p.Qs);p.nB();var d=new p.Ig;p.mR(d,0,c.width,0,c.height,-1024,1024);p.Nv(d);p.am(p.Ps);p.nB();break;case p.LC:var e=this.or(),f=new p.Ig,d=new p.Ig;p.am(p.Qs);p.nB();p.H4(f,60,c.width/c.height,0.1,2*e);p.Nv(f);p.am(p.Ps);p.nB();e=p.xr(null,c.width/2,c.height/2,e);c=p.xr(null,c.width/2,c.height/2,0);f=p.xr(null,0,1,0);p.kR(d,e,c,f);p.Nv(d);break;case p.tJ:break;default:p.log("cocos2d: Director: unrecognized projection")}this.jk=a;p.j8()}else this.jk=a},HN:function(){this.yd++;
this.Qm+=this.Uj;this.Nj&&this.Pj&&this.Vj?(this.Qm>p.rJ&&(this.Pj.ba(this.Hz.toFixed(3)),this.Wt=this.yd/this.Qm,this.Qm=this.yd=0,this.Nj.ba(this.Wt.toFixed(1)),this.Vj.ba((0|p.qh).toString())),this.Nj.ca(),this.Pj.ca(),this.Vj.ca()):this.hn();p.qh=0},q4:function(){return this.ul},q2:function(){return this.Jc},T_:function(){return this.mg},U3:function(){return this.Jp},m7:function(a){this.Jp=a},v2:function(){return this.Hz},N1:function(){return this.sg},e4:function(){return this.nq},i4:function(){return this.ql},
U2:function(){return this.aA},d2:function(){return this.jk},W5:function(){this.aS(1)},aS:function(a){if(!this.Jc)throw"A running Scene is needed";var c=this.gi,d=c.length;if(0==d)this.end();else if(!(a>d)){for(;d>a;){var e=c.pop();e.ke&&(e.Mg(),e.ld());e.mf();d--}this.$h=c[c.length-1];this.ul=!1}},Se:function(){return this.Mf},$T:function(a){this.Mf!=a&&(this.Mf=a)},Qf:function(){return this.lg},dT:function(a){this.lg!=a&&(this.lg=a)},W2:function(){return this.pe},O8:function(a){this.pe!=a&&(this.pe=
a)},Dv:function(){if(!p.Gm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";return this.bz},G7:function(a){if(!p.Gm)throw"cc.KeyboardDispatcher is undefined, maybe it has been removed from js loading list.";this.bz=a},io:function(){if(!p.Gj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";return this.yt},N6:function(a){if(!p.Gj)throw"cc.Accelerometer is undefined, maybe it has been removed from js loading list.";this.yt!=
a&&(this.yt=a)},z0:function(){return this.Uj},Re:function(){if(!p.sd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";return this.lq},P7:function(a){if(!p.sd)throw"cc.MouseDispatcher is undefined, maybe it has been removed from js loading list.";this.lq!=a&&(this.lq=a)},hn:null,IL:function(){if(!p.hx)return this.YD();if(null!=p.M.dE&&!1!=p.M.dE){var a=new p.Fb;a.Te(p.M.Iy);a.Td();var c=p.da.d().jo().height/320;0===c&&(c=this.ub.height/320);var d=new p.hx;d.Kz(!0);
d.vk("00.0",a,12,32,".");d.Bj(c);this.Nj=d;d=new p.hx;d.Kz(!0);d.vk("0.000",a,12,32,".");d.Bj(c);this.Pj=d;d=new p.hx;d.Kz(!0);d.vk("000",a,12,32,".");d.Bj(c);this.Vj=d;a=p.MC;this.Vj.F(p.qf(p.a(0,34*c),a));this.Pj.F(p.qf(p.a(0,17*c),a));this.Nj.F(a)}},YD:function(){var a=0,a=this.ub.width>this.ub.height?0|this.ub.height/320*24:0|this.ub.width/320*24;this.Nj=p.S.create("000.0","Arial",a);this.Pj=p.S.create("0.000","Arial",a);this.Vj=p.S.create("0000","Arial",a);var a=p.MC,c=this.Vj.g();this.Vj.F(p.qf(p.a(c.width/
2,5*c.height/2),a));c=this.Pj.g();this.Pj.F(p.qf(p.a(c.width/2,3*c.height/2),a));c=this.Nj.g();this.Nj.F(p.qf(p.a(c.width/2,c.height/2),a))},qL:function(){this.Hz=(Date.now()-this.Xi)/1E3}});p.qa.oc?(p.M.prototype.VD=p.M.prototype.FL,p.M.prototype.by=p.M.prototype.lL,p.M.prototype.Yx=p.M.prototype.hL,p.M.prototype.hn=p.M.prototype.IL):(p.M.prototype.VD=p.M.prototype.yL,p.M.prototype.hn=p.M.prototype.YD);
p.vJ=p.M.extend({Mv:!1,CI:function(){this.nq=!0;this.Mv=!1;p.zi.d().Mr(this.mg)},ZG:function(){this.Du?(this.Du=!1,this.iS()):this.Mv||this.nP()},EI:function(){this.Mv=!0},Mr:function(a){this.mg=a;this.Mv||(this.EI(),this.CI())}});p.ew=null;p.aG=!0;p.M.d=function(){p.aG&&(p.aG=!1,p.ew=new p.vJ,p.ew.s(),p.ew.TT(p.da.d()));return p.ew};Object.defineProperties(p,{b$:{get:function(){return p.fP.ub},enumerable:!0}});p.F_=!0;p.$O=60;p.M.Iy=new Image;
p.M.Iy.addEventListener("load",function(){p.M.dE=!0;this.removeEventListener("load",arguments.callee,!1)});p.M.Iy.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAgCAYAAAD9qabkAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfcAgcQLxxUBNp/AAAQZ0lEQVR42u2be3QVVZbGv1N17829eRLyIKAEOiISEtPhJTJAYuyBDmhWjAEx4iAGBhxA4wABbVAMWUAeykMCM+HRTcBRWkNH2l5moS0LCCrQTkYeQWBQSCAIgYRXEpKbW/XNH5zS4noR7faPEeu31l0h4dSpvc+t/Z199jkFWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhY/H9D/MR9qfKnLj/00U71aqfJn9+HCkCR/Wk36ddsgyJ/1wF4fkDfqqm9/gPsUeTnVr6a2xlQfnxdI7zs0W7irzD17Ytb2WT7EeNv/r4ox1O3Quf2QP2pgt9utwfout4FQE8AVBSlnaRmfvAURQkg2RlAbwB9AThlW5L0GaiKojhJhgOIBqDa7XaPrusdPtr5kQwF0BVAAoBIABRCKDd5aFUhRDAAw57eAOwAhKIoupft3zoqhB1AqLwuHIBut9uFt02qqvqRDJR2dAEQJj/BAOjn56dqmma+xiaECAEQAWAggLsB6A6HQ2iaZggBhBAqgEAAnQB0kzaEmT4hAITT6VQ8Ho/HJAKKECJQtr8LwD1y/A1/vcdfEUIEyfZ9AcQbYvZ942Px88L2UwlJR0dH0EMPPbRj5syZPUeNGrXR7Xb/641xIwJ1XY9NSUlZm52dfW+XLl1w8uRJzJ8//+OGhoYJqqqe1TSt1Wsm9NN1PSIqKmr12rVrR5WUlHy1bdu2AQCumWc3IYRD1/UwVVXnFRQUTIuNjUVzczN2797dWFJSkq8oymZd15sAGAEnFEUJ1nX9nzIzM1dnZmZGh4SE4OTJk5g5c+Zf29vbp9pstrMej6fVOyhIhgAYU1hY+B+hoaGoqKg4XVlZea+XTULTNFdCQsLGiRMnPuR2u3UhBOV9eeDAAWXTpk095DUe6WsoyRE5OTlr0tLSAux2O/bs2cO5c+e+pijKUpIXSHaQVAGkvPLKK++6XK4OksJLCFlXV2cvKSlJBFAjhU+x2WwhHo9nUHp6+urMzMy7wsLCUF9fjxdffPHjxsbGiTab7WuPx9NiEutOuq4PyMjI+M+srKyYqKgoHD58GDNmzNjq8XhyVFU9b/q+LH7hBAEYu3PnTlZVVRFAGgCX6f/tAHoOHDjwa0p27txp/JO9e/f+QM7cipw9nfL3kQBKt2zZQpJ87rnn6mQmoHilw2EACs+cOUOSrK+vZ1NTE0nyo48+IoBpxswoBcMJ4Ndjx471kOTFixe5d+9ekqTH42H//v13A4jyzpAURfEH0H/OnDnthu1z5sw558MmFUCPWbNmnaMP3nrrLZoyDmP8Hl68eDFJ8siRI9/Yc+zYMQKYKdtAztrTrl27xptRXV1NAKMAOAyBBBA/Y8aMdpLs6Ojgxx9//E37+++//29yvFXppwvAwMcee8xjtDHsuXLlCqOjo//ia3wsfpkoALqFhoZuIckJEyackimm3dQmEMDUmpoakmRISMhhAHOHDx/eQJIbN24kgKEyMAHAFRMTs2XXrl1saWkhSZ0kp0+ffhrAr3wEW/S8efOukORLL72kA1gKYMPWrVtJkk899dRJAHeYrgsEsIQkjx8/TgDvAPjd448/3kaSb7zxBmUa7vC6z53BwcFbSHL9+vU6Sc6aNes8gF5ewWAH0PfVV18lSQL4DMBGIcQ6AKtcLleBFC2jXtFt8ODBe0iyoqKCAJYByC8qKmJDQwOzsrK+MAmqo1OnTveHhoa+GRkZ+XZkZOSWiIiIvzgcjk9mzpypkWRmZuZpmbYbGV4AgPnNzc1sa2sjgN0A5iQmJtaSZHl5OQHcb/K3s81mW0uSTU1NBFAFYFbfvn1Pk+Tbb79NAA8IIVzW42/hByA+Pz/fLR/2ZXIda05NI/z9/TeR5J49ewhgqlxTrtI0jY2NjQQw3zTLuWJiYjaUlJToS5Ys6fjkk080kwDEeAmADcA9GzZsIElGRUW9CyAWwLApU6Y0kOSKFSsog9QICGdERMTGsrIyZmVlEcC9AB4IDw/fTpLbtm0jgN94CUAnAJmVlZVcs2aNZ/LkyRdJcvbs2b4EwAkgZfPmzTxw4AABFAN4BkC6vFeUSewcAO5duXIlSTIhIaEawGMAxgKYAmAGgCS73e5vrKVk/yGythANYEhCQsIhkly+fDkBpKqqGmL6DgIALDKN/3yZpVWQZGVlJQE8aPI3KiMjo5okV61aRQAjAPQBMPfIkSN0u90EUCBtsPiFEwpgbn19PdetW2fM5N4zQ9ekpKQqkty0aRMBpMjiWM6JEydIkoqirJUFJ6iq6pAPVy8A6cZMehMBUACEuVyuFwG8HBwcPEIWx367ZMkSjSQXLVrUJouTRorrkAHdA8BdQogsAOsKCwtJkmPGjDkvMw2bDDo/ADEjRoz4XylyFbm5uY0mAbjLyyZ/AOOrq6tZVlbWsWDBgo69e/eyoqKCgwcPPg4gSQaoIRbp27dvN7KF+tLSUr28vJwFBQXtMpvpYRIM7+wrAkDeqVOnePbsWQIoNKfzpiXPg8uXLydJJicnNwF4f+nSpW6STEtLq5fjYwhk1wkTJtSQ5Ouvv04AqTKj+N2xY8dIkgEBAW/Ie1v8wncRegwZMmQvSfbr12+3Ua33WqPfOWbMmP0kWVpaSgCDZAqcfejQIWNZsEGKgvnh9gfQb9myZd8nAEJVVZtMkUNk8CcNHTq0liR1XWdYWNhmH1mJIme80OnTp18x1rp5eXkEsNJms92Fb7e/IgEsvHz5Mp999tkmAI/l5uZeMC0B7vEqqAYAyL106RJJsra2lpWVld+sucePH38ZQG+5NncBeOrgwYMkqbe3t/Po0aOsra011wAWyl0H7x0JJ4DE+fPnu0kyPT29DsDdUrBuyNKEEAkAdpw/f/6GeoEM8GUmfwEgPCIiopwkGxsbabPZPgOw6L777vvm4p49e26VGYjFLxUhhD+ApLKyMp44ccIoVnXybgbgzkcfffRzklyzZg0BDJYCMMmoCwQFBXkLgLGWvvcWAgBToSsKwNPTp09vMR7UuLi4rwH0lgU8c/Db5ezbeeTIkRWzZ8++aMxu+fn5BPCADBwHgP4LFy701NXVEUAJgAnPP/98kyxMNgHo53A4zH77BQQETMvPz7+Um5vbBuAlAFMSExPPmdbVL0qh8Acw8fDhw5SCchVAEYAVb775JknyhRdeaJYztHfxMwLAaqNwCGC2FArv8x0hAHKNLGPKlCme5OTk/Zs3bzb7O0wKiiG8KXl5ed8IxenTp0mSR48e1UmyW7duWywBuD2xyQcgFECgoih+8H1gyJgZV5Lkyy+/3CbTRIePtl2HDBmyw1QBHyGDdXZdXR1JUghRKkXBjOMHCoBdpr0L3nvvPZLkF198wejo6O0A4lVVDTb74HQ6AwD8Wq7Jh8rgGgDgQ13XjVR8qaxJuADMbmlpYXl5uV5UVNRWUFDgfv/993Vj/ZydnU1c37eHXML4S3viAcQqitJD2l104cIFY8lTKsXSBWBMVVWVcd9yed2A1NTUQ6Zl00CvLMMOoHdubm6zFIlWOf5+PsY/Kj09vdrU11QAwwGsv3jxIk21m2DZr10I0RXAuAcffPBgaWkpV69eTYfDcdiwUxY0w6xw+flX8L1xApjevXv3lREREaW6rofB93aPDUDQpEmTMgHgtddeqwBwEd/utZvpqK6uPgEAcXFxkA94NwB9unfvjrNnz4LklwDcf08iIqv66Zs2bXrl4YcfxooVKxAbG7uqrq5uAYA2TdOEqqpGYIi2tjbl6aeffu/YsWPv5uTk7JaC1wHg4Pnz542MwoVvTx+21dbWYvjw4WLixIl+2dnZ9lGjRgmSTE1NRUpKCkwFTGiaxtTU1OXTpk3707Bhw/6g67pDipnT4biuj7qut+Lbk3Vf1tTUXI9qu91Pjq1QFEUBgJaWFgBo8yGOQ8eNGxcAAOvXr/8QwBUfYygAKL169eoCABcuXACAWtn2hOGv0+kMNO1KiPDw8F4A4rZv3/7R1KlTR0+bNu1ht9u9r1+/fqitrQXJgwDarRC6/QjPzs4+QJIffPCB9/aQmSAA43ft2mW0e1QGoi8CAPyLsZccExNTC2BlRkbGRdOyYJCP2csBIN6UAZzCd7cBbQCijYp/dXU1ExMTz6SmptaMHj36f9LS0vYlJCRsl6mxIWSdu3fv/g5J7t+/nwC2AShMTk6+SJKff/45AWRLYbD7+fndAeDf5BJnLoCCyZMnt5JkdnZ2C4B/F0KEm1Pu+Pj4rST55ZdfEsBWAK+mpaVdMo3raDn7KwDuSEpK+m+S3LBhAwG8DuCtHTt2UBbpjgC408vvcFVV15HkuXPnjMp+p5uMf0RcXNyHJNnQ0EBVVfcCWBQXF3fG+Jv0yxABPwB5LS0tRmFxN4BlTzzxxGWSXLx4sS5F3GGFy+1Hp5SUlJq6ujoWFxdTpsZ2H+0iIyMj/0iSWVlZX5mr5jfJFroPGzasxlhTnjp1iiTZ3NxMl8tlrCd9pfa9SkpKSJI5OTmnZOageLUZZqxvfVFWVkZcPwdgNwnSCKPqb17jkmR8fPzfZMDZ5CRsFBmNI7h95s2b1yhT7/MAYmStwCx4vy0uLqa3v5qmEcCfvSr1QQAeXb16NY3Cm3HQ55133iGAp+SxZTNhKSkpfzUddkrFjYevzAQCeGjp0qXfsYckY2NjTwD4leGDLCL2HTdunNtoY+zWSHFcIHdsFCtcfuZ1vO9Eqs3m7/F47sb1k2qX/f3997W2tl7BjWfpBYDOzzzzzIVJkyZh0KBBCwEsB3AJvl9AETabLcDj8dwRFRW1ctasWb8JCgpSzp07d62wsPC/Wltb8xRFadR1/ZqPXYbgAQMGbI2Pjw/+6quv9ldVVT0r01ezuPRJSUn5Y9euXXVd11WzDaqq6kePHm3+7LPPRgO4KlNuxWazhXo8nuTk5OSXMjIyEl0uFxoaGtqKior+dPXq1VdUVT0jj7r68ieoT58+vx8yZMjdx48fP1JVVTVF9m20VW02WyfZf97YsWPjXS4X6urqWvPy8jYCWCyEuEDS8FdVFKWzruv//OSTTy5OTk7uqWkaPv3007qysrJ8RVH+LI8ym8/rB3Tu3HnRI488knLo0KG2ffv2ZQI4C98vP6mqqoZqmpaclpa2cOTIkX39/f3R0NDQUVxc/G5TU9PLqqrWa5rWLH1QVFUN0TStX1JSUvH48eP7BwYG4uDBg1cKCgpeBbBe2u+2Qug2EwD5N5sMPuNtMe8XP4TT6Qxoa2sbIGeXvUKIK7d4IISiKC5d1wPljOfA9bPwzYqiXNV13dd6Uqiq6qdpml2mpe02m63d4/G4vcTF5fF47LJf71nJA6BZVVW3pmntuPHlmAD5wk6Q9NnbHp9vHaqq6tA0zU/64PZhk1FfCZB9G/23ALiqKEqzD39tpvbGUqoFwFUhRLP3yzpCCDtJpxyXDulfG27+pqRR3DXsUWVd4Yq0x/taVQjhIhksC8L+ABpM9ljBf5sKwI8pIBr75L5E4vvu+UNeG/a+hv+AL7yFH8qPtOfHjtOP6V/Bja8D6z/B2Nys/1u9Xv33tLf4GfF/LC4GCJwByWIAAAAASUVORK5CYII\x3d";p.Yo=p.oa.extend({Tp:null,Up:null,Vp:null,cn:null,dn:null,en:null,Sq:null,Tq:null,Uq:null,ta:null,mu:null,ctor:function(){this.mu=new p.Ig;this.restore()},description:function(){return"\x3cCCCamera | center \x3d("+this.cn+","+this.dn+","+this.en+")\x3e"},$f:function(a){this.ta=a},OG:function(){return this.ta},restore:function(){this.Tp=this.Up=0;this.Vp=p.Yo.or();this.Sq=this.cn=this.dn=this.en=0;this.Tq=1;this.Uq=0;p.F4(this.mu);this.ta=!1},UG:function(){if(this.ta){var a=new p.xo,c=new p.xo,d=new p.xo;
p.xr(a,this.Tp,this.Up,this.Vp);p.xr(c,this.cn,this.dn,this.en);p.xr(d,this.Sq,this.Tq,this.Uq);p.kR(this.mu,a,c,d);this.ta=!1}p.Nv(this.mu)},q7:function(a,c,d){this.VH(a,c,d)},VH:function(a,c,d){this.Tp=a;this.Up=c;this.Vp=d;this.ta=!0},Y6:function(a,c,d){this.kT(a,c,d)},kT:function(a,c,d){this.cn=a;this.dn=c;this.en=d;this.ta=!0},P8:function(a,c,d){this.iU(a,c,d)},iU:function(a,c,d){this.Sq=a;this.Tq=c;this.Uq=d;this.ta=!0},H0:function(){return{x:this.Tp,y:this.Up,z:this.Vp}},kG:function(){return{x:this.Tp,
y:this.Up,z:this.Vp}},g0:function(){return{x:this.cn,y:this.dn,z:this.en}},jG:function(){return{x:this.cn,y:this.dn,z:this.en}},a3:function(){return{x:this.Sq,y:this.Tq,z:this.Uq}},lQ:function(){return{x:this.Sq,y:this.Tq,z:this.Uq}},VX:function(){}});p.Yo.or=function(){return p.Js};p.Ts=-2147483648;p.SW=p.Ts+1;p.is=function(a,c){if(a&&0<a.length)for(var d=0;d<a.length;d++)if(!(a[d]instanceof c)){p.log("element type is wrong!");break}};p.Vo=function(a,c){a.splice(c,1)};p.od=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c){a.splice(d,1);break}};p.rV=function(a,c){for(var d=0,e=c.length;d<e;d++)p.od(a,c[d])};p.qV=function(a,c){return a.indexOf(c)};p.oV=function(a,c){a.push(c)};p.Mk=function(a,c,d){a.splice(d,0,c);return a};
p.pV=function(a,c,d){a.splice.apply(a,[d,0].concat(c));return a};p.Pw=function(a,c){for(var d=0,e=a.length;d<e;d++)if(a[d]==c)return d;return-1};p.Nw=function(a,c){return-1!=a.indexOf(c)};p.jW=function(a,c){if(null==a)return null;for(var d=0;d<a.length;d++)if(a[d].target===c)return a[d];return null};p.UC=function(a,c,d){this.next=null;this.target=a;this.qH=c;this.paused=d;this.yk=!1};p.QC=function(a,c,d){this.list=a;this.Ul=c;this.target=d;this.ZA=null};
p.IJ=function(a,c){this.sf=null;this.target=a;this.So=0;this.br=this.ar=null;this.paused=c;this.ZA=null};
p.kt=p.oa.extend({Wi:0,gf:null,K:null,Mb:0,OE:!1,gv:!1,Sn:0,Az:0,Pt:0,ctor:function(){},a1:function(){return this.Wi},setInterval:function(){},w2:function(){return this.gf},Vf:function(a,c,d,e,f){this.K=a;this.gf=c;this.Mb=-1;this.Wi=d||0;this.Pt=f||0;this.gv=0<this.Pt;this.Az=null==e?p.Sk:e;this.OE=this.Az==p.Sk;return!0},ey:function(){if("string"==typeof this.gf)this.K[this.gf](this.Mb);else this.gf.call(this.K,this.Mb)},update:function(a){if(-1==this.Mb)this.Sn=this.Mb=0;else{var c=this.K,d=this.gf;
this.OE&&!this.gv?(this.Mb+=a,this.Mb>=this.Wi&&(c&&d&&this.ey(),this.Mb=0)):(this.Mb+=a,this.gv?this.Mb>=this.Pt&&(c&&d&&this.ey(),this.Mb-=this.Pt,this.Sn+=1,this.gv=!1):this.Mb>=this.Wi&&(c&&d&&this.ey(),this.Mb=0,this.Sn+=1),this.Sn>this.Az&&p.M.d().Se().NI(c,d))}}});p.kt.E9=function(a,c,d){if(2>arguments.length)throw Error("timerWithTarget'argument can't is null");var e=new p.kt;e.Vf(a,c,d||0,p.Sk,0);return e};p.IY=null;
p.wK=p.oa.extend({Lq:1,Bg:null,kh:null,Of:null,Ti:null,At:null,Si:null,gY:null,Ge:null,Th:!1,dv:!1,ctor:function(){this.Lq=1;this.Bg=[];this.kh=[];this.Of=[];this.Ti={};this.At=[];this.Si={};this.Qj=[];this.Ge=null;this.dv=this.Th=!1},zz:function(a){delete this.Si[a.target.Lb];p.od(this.Qj,a);a.kt=null;a.target=null},mY:function(a,c){for(var d=0;d<a.length;d++)if(a[d].target==c)return a[d];return null},Fu:function(a){if(a=this.Ti[a.target.Lb])p.od(a.list,a.Ul),delete this.Ti[a.target.Lb],p.od(this.At,
a),a.Ul=null,a.target=null},HE:function(a,c,d,e){e=new p.UC(c,d,e);if(a){for(var f=!1,g=0;g<a.length;g++)if(d<a[g].qH){a=p.Mk(a,e,g);f=!0;break}f||a.push(e)}else a=[],a.push(e);d=new p.QC(a,e,c);this.At.push(d);this.Ti[c.Lb]=d;return a},kL:function(a,c,d){d=new p.UC(c,0,d);a.push(d);a=new p.QC(a,d,c);this.At.push(a);this.Ti[c.Lb]=a},J8:function(a){this.Lq=a},P2:function(){return this.Lq},update:function(a){this.dv=!0;1!=this.Lq&&(a*=this.Lq);var c,d;for(d=0;d<this.Bg.length;d++)c=this.Bg[d],c.paused||
c.yk||c.target.update(a);for(d=0;d<this.kh.length;d++)c=this.kh[d],c.paused||c.yk||c.target.update(a);for(d=0;d<this.Of.length;d++)c=this.Of[d],c.paused||c.yk||c.target.update(a);for(d=0;d<this.Qj.length;d++){c=this.Ge=this.Qj[d];this.Th=!1;if(!this.Ge.paused)for(c.So=0;c.So<c.sf.length;c.So++)c.ar=c.sf[c.So],c.br=!1,c.ar.update(a),c.ar=null;this.Th&&0==this.Ge.sf.length&&this.zz(this.Ge)}for(d=0;d<this.Bg.length;d++)this.Bg[d].yk&&this.Fu(this.Bg[d]);for(d=0;d<this.kh.length;d++)this.kh[d].yk&&this.Fu(this.kh[d]);
for(d=0;d<this.Of.length;d++)this.Of[d].yk&&this.Fu(this.Of[d]);this.dv=!1;this.Ge=null},WS:function(a,c,d,e,f,g){if(!c)throw"cc.scheduler.scheduleCallbackForTarget(): callback_fn should be non-null.";if(!a)throw"cc.scheduler.scheduleCallbackForTarget(): target should be non-null.";d=d||0;e=null==e?p.Sk:e;f=f||0;g=g||!1;var h=this.Si[a.Lb];h||(h=new p.IJ(a,g),this.Qj.push(h),this.Si[a.Lb]=h);if(null==h.sf)h.sf=[];else for(var k=0;k<h.sf.length;k++)if(g=h.sf[k],c==g.gf){p.log("CCSheduler#scheduleCallback. Callback already scheduled. Updating interval from:"+
g.Wi.toFixed(4)+" to "+d.toFixed(4));g.Wi=d;return}g=new p.kt;g.Vf(a,c,d,e,f);h.sf.push(g)},HH:function(a,c,d){var e=this.Ti[a.Lb];e?e.Ul.yk=!1:0==c?this.kL(this.kh,a,d):0>c?this.Bg=this.HE(this.Bg,a,c,d):this.Of=this.HE(this.Of,a,c,d)},NI:function(a,c){if(null!=a&&null!=c){var d=this.Si[a.Lb];if(null!=d)for(var e=0;e<d.sf.length;e++){var f=d.sf[e];if(c==f.gf){f!=d.ar||d.br||(d.br=!0);p.Vo(d.sf,e);d.So>=e&&d.So--;0==d.sf.length&&(this.Ge==d?this.Th=!0:this.zz(d));break}}}},To:function(a){null!=a&&
(a=this.Ti[a.Lb],null!=a&&(this.dv?a.Ul.yk=!0:this.Fu(a.Ul)))},MI:function(a){if(null!=a){var c=this.Si[a.Lb];c&&(!c.br&&p.Nw(c.sf,c.ar)&&(c.br=!0),c.sf.length=0,this.Ge==c?this.Th=!0:this.zz(c));this.To(a)}},Xr:function(){this.LU(p.Ts)},LU:function(a){var c;for(c=0;c<this.Qj.length;c++)this.MI(this.Qj[c].target);if(0>a)for(c=0;c<this.Bg.length;c++)this.To(this.Bg[c].target);if(0>=a)for(c=0;c<this.kh.length;c++)this.To(this.kh[c].target);for(c=0;c<this.Of.length;c++)this.Of[c].qH>=a&&this.To(this.Of[c].target)},
T5:function(){return this.VR(p.Ts)},VR:function(a){var c=[],d,e;for(d=0;d<this.Qj.length;d++)if(e=this.Qj[d])e.paused=!0,c.push(e.target);if(0>a)for(d=0;d<this.Bg.length;d++)if(e=this.Bg[d])e.paused=!0,c.push(e.target);if(0>=a)for(d=0;d<this.kh.length;d++)if(e=this.kh[d])e.paused=!0,c.push(e.target);for(d=0;d<this.Of.length;d++)if(e=this.Of[d])e.paused=!0,c.push(e.target);return c},PS:function(a){if(a)for(var c=0;c<a.length;c++)this.rm(a[c])},Hr:function(a){if(!a)throw"cc.Scheduler.pauseTarget():target should be non-null";
var c=this.Si[a.Lb];c&&(c.paused=!0);if(a=this.Ti[a.Lb])a.Ul.paused=!0},rm:function(a){if(!a)throw"cc.Scheduler.resumeTarget():target should be non-null";var c=this.Si[a.Lb];c&&(c.paused=!1);if(a=this.Ti[a.Lb])a.Ul.paused=!1},s4:function(a){if(!a)throw"cc.Scheduler.isTargetPaused():target should be non-null";return(a=this.Si[a.Lb])?a.paused:!1}});p.sx={IMAGE:["png","jpg","bmp","jpeg","gif"],SOUND:["mp3","ogg","wav","mp4","m4a"],XML:["plist","xml","fnt","tmx","tsx"],BINARY:["ccbi"],FONT:"FONT",TEXT:["txt","vsh","fsh","json","ExportJson"],UNKNOW:[]};
p.Eb=p.oa.extend({jn:0,Oq:0,iq:0,rl:null,mg:1/60,Wi:null,oE:!1,ctor:function(){this.rl=[]},Kv:function(a,c,d){if(a){c&&(this.gf=c,this.K=d);if(a!=this.rl||0==this.jn){this.iq=this.jn=0;if(a[0]instanceof Array)for(c=0;c<a.length;c++)this.rl=this.rl.concat(a[c]);else this.rl=a;this.Oq=this.rl.length}this.dN()}else console.log("resources should not null")},hT:function(a){this.oE=a},im:function(a){this.iq++;p.log("cocos2d:Failed loading resource: "+a)},yh:function(){this.iq++},Ev:function(){var a=0;return a=
0==this.Oq?100:0|this.iq/this.Oq*100},wS:function(a){if(a&&0<a.length)for(var c=p.Gb.d(),d=p.Sg?p.Sg.d():null,e=p.Jj.d(),f=p.ad.d(),g,h=0;h<a.length;h++){g=a[h];var k=this.gE(g);switch(k){case "IMAGE":c.JS(g.src);break;case "SOUND":if(!d)throw"Can not find AudioEngine! Install it, please.";d.K9(g.src);break;case "XML":e.JU(g.src);break;case "BINARY":f.IU(g.src);break;case "TEXT":f.KU(g.src);break;case "FONT":break;default:throw"cocos2d:unknown filename extension: "+k;}}},KM:function(){this.ev();if(this.oE){var a=
p.M.d().Wt;if(null!=a&&20>a){p.log("cocos2d: frame rate less than 20 fps, skip frame.");return}}this.jn<this.Oq&&(this.sM(),this.jn++)},sM:function(){var a=p.Gb.d(),c=p.Sg?p.Sg.d():null,d=p.Jj.d(),e=p.ad.d(),f=this.rl[this.jn],g=this.gE(f);switch(g){case "IMAGE":a.Pe(f.src);break;case "SOUND":if(!c)throw"Can not find AudioEngine! Install it, please.";c.Z5(f.src);break;case "XML":d.fS(f.src);break;case "BINARY":e.eS(f.src);break;case "TEXT":e.gS(f.src);break;case "FONT":this.MM(f);break;default:throw"cocos2d:unknown filename extension: "+
g;}},dN:function(){var a=this;this.Wi=setInterval(function(){a.KM()},1E3*this.mg)},UN:function(){clearInterval(this.Wi)},gE:function(a){if(null!=a.fr)return p.sx.FONT;a=a.src;a=a.substring(a.lastIndexOf(".")+1,a.length);var c=a.indexOf("?");0<c&&(a=a.substring(0,c));for(var d in p.sx)if(-1!=p.sx[d].indexOf(a))return d;return a},ev:function(){100<=this.Ev()&&(this.UN(),this.GL())},GL:function(){if(this.K&&"string"==typeof this.gf)this.K[this.gf](this);else this.K&&"function"==typeof this.gf?this.gf.call(this.K,
this):this.gf(this);this.Oq=this.iq=this.jn=0},MM:function(a){var c=a.src,d=p.ad.d();if(c&&0<c.length){var e=document.createElement("style");e.type="text/css";document.body.appendChild(e);for(var f="@font-face { font-family:"+a.fr+"; src:",g=0;g<c.length;g++)f+="url('"+d.Md(encodeURI(c[g].src))+"') format('"+c[g].type+"')",f+=g==c.length-1?";":",";e.textContent+=f+"};";c=document.createElement("div");c.style.fontFamily=a.fr;c.innerHTML=".";c.style.position="absolute";c.style.left="-100px";c.style.top=
"-100px";document.body.appendChild(c)}p.Eb.d().yh()},OY:function(){}});p.Eb.BB=function(a,c,d){this.nb||(this.nb=new p.Eb);this.nb.Kv(a,c,d);return this.nb};p.Eb.Y5=function(a,c,d){this.nb||(this.nb=new p.Eb);this.nb.hT(!0);this.nb.Kv(a,c,d);return this.nb};p.Eb.CB=function(a){this.nb&&this.nb.wS(a)};p.Eb.d=function(){this.nb||(this.nb=new p.Eb);return this.nb};p.Eb.nb=null;
p.jx=p.dp.extend({lu:null,Bn:null,Uu:null,vp:null,zn:null,pA:null,ctor:function(){p.dp.prototype.ctor.call(this);this.pA=p.M.d().ub},s:function(){p.dp.prototype.s.call(this);var a=p.a(this.pA.width/2,this.pA.height/2);this.Bn=new Image;var c=this;this.Bn.addEventListener("load",function(){c.cM(a);this.removeEventListener("load",arguments.callee,!1)});this.Bn.src="";this.Bn.width=160;this.Bn.height=200;this.vp=p.Jb.create(p.zA(32,32,32,255));this.vp.F(0,0);this.t(this.vp,0);this.zn=p.S.create("Loading... 0%",
"Arial",14);this.zn.o(p.mv(180,180,180));this.zn.F(p.qf(a,p.a(0,-110)));this.vp.t(this.zn,10)},cM:function(a){this.Uu=new p.Fb;this.Uu.Te(this.Bn);this.Uu.Td();this.lu=p.w.Fd(this.Uu);this.lu.Bj(p.$c());this.lu.F(a);this.vp.t(this.lu,10)},Xf:function(){p.H.prototype.Xf.call(this);this.we(this.aF,0.3)},ld:function(){p.H.prototype.ld.call(this);this.zn.ba("Loading... 0%")},Kv:function(a,c,d){this.MS=a;this.aT=c;this.target=d},aF:function(){this.Qg(this.aF);p.Eb.BB(this.MS,this.aT,this.target);this.we(this.ev)},
ev:function(){var a=p.Eb.d().Ev();this.zn.ba("Loading... "+a+"%");100<=a&&this.Qg(this.ev)}});p.jx.BB=function(a,c,d){this.nb||(this.nb=new p.jx,this.nb.s());this.nb.Kv(a,c,d);a=p.M.d();a.Jc?a.CH(this.nb):a.US(this.nb);return this.nb};p.Zw=p.oa.extend({ab:null,o8:function(a){this.ab=a},j2:function(){return this.ab},ctor:function(a){this.ab=a},KA:function(){p.log("DrawingPrimitive.drawPoint() not implement!")},UF:function(){p.log("DrawingPrimitive.drawPoints() not implement!")},oh:function(){p.log("DrawingPrimitive.drawLine() not implement!")},WF:function(){p.log("DrawingPrimitive.drawRect() not implement!")},LA:function(){p.log("DrawingPrimitive.drawSolidRect() not implement!")},Hd:function(){p.log("DrawingPrimitive.drawPoly() not implement!")},
vv:function(){p.log("DrawingPrimitive.drawSolidPoly() not implement!")},RF:function(){p.log("DrawingPrimitive.drawCircle() not implement!")},VF:function(){p.log("DrawingPrimitive.drawQuadBezier() not implement!")},SF:function(){p.log("DrawingPrimitive.drawCubicBezier() not implement!")},QF:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")},uv:function(){p.log("DrawingPrimitive.drawCardinalSpline() not implement!")}});
p.NC=p.Zw.extend({KA:function(a,c){c||(c=1);var d=p.da.d().ha,e=p.da.d().ma,e=p.a(a.x*d,a.y*e);this.ab.beginPath();this.ab.arc(e.x,-e.y,c*d,0,2*Math.PI,!1);this.ab.closePath();this.ab.fill()},UF:function(a,c,d){if(null!=a){d||(d=1);c=this.ab;var e=p.da.d().ha,f=p.da.d().ma;c.beginPath();for(var g=0,h=a.length;g<h;g++)c.arc(a[g].x*e,-a[g].y*f,d*e,0,2*Math.PI,!1);c.closePath();c.fill()}},oh:function(a,c){var d=this.ab,e=p.da.d().ha,f=p.da.d().ma;d.beginPath();d.moveTo(a.x*e,-a.y*f);d.lineTo(c.x*e,-c.y*
f);d.closePath();d.stroke()},WF:function(a,c){this.oh(p.a(a.x,a.y),p.a(c.x,a.y));this.oh(p.a(c.x,a.y),p.a(c.x,c.y));this.oh(p.a(c.x,c.y),p.a(a.x,c.y));this.oh(p.a(a.x,c.y),p.a(a.x,a.y))},LA:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.vv(a,4,d)},Hd:function(a,c,d,e){e=e||!1;if(null!=a){if(3>a.length)throw Error("Polygon's point must greater than 2");var f=a[0];c=this.ab;var g=p.da.d().ha,h=p.da.d().ma;c.beginPath();c.moveTo(f.x*g,-f.y*h);for(var f=1,k=a.length;f<k;f++)c.lineTo(a[f].x*g,
-a[f].y*h);d&&c.closePath();e?c.fill():c.stroke()}},vv:function(a,c,d){this.UH(d.i,d.h,d.f,d.B);this.Hd(a,c,!0,!0)},RF:function(a,c,d,e,f){f=f||!1;e=this.ab;var g=p.da.d().ha,h=p.da.d().ma;e.beginPath();e.arc(0|a.x*g,0|-(a.y*h),c*g,-d,-(d-2*Math.PI),!1);f&&e.lineTo(0|a.x*g,0|-(a.y*h));e.stroke()},VF:function(a,c,d,e){for(var f=[],g=0,h=0;h<e;h++)f.push(p.a(Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y)),g+=1/e;f.push(p.a(d.x,d.y));this.Hd(f,e+1,!1,!1)},SF:function(a,
c,d,e,f){for(var g=[],h=0,k=0;k<f;k++)g.push(p.a(Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y)),h+=1/f;g.push(p.a(e.x,e.y));this.Hd(g,f+1,!1,!1)},QF:function(a,c){this.uv(a,0.5,c)},uv:function(a,c,d){p.L.strokeStyle="rgba(255,255,255,1)";for(var e=[],f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Tw(p.Fg(a,f-1),p.Fg(a,f-0),p.Fg(a,f+1),p.Fg(a,f+2),c,g),e.push(f);this.Hd(e,
d+1,!1,!1)},drawImage:function(a,c,d,e,f){switch(arguments.length){case 2:this.ab.drawImage(a,c.x,-(c.y+a.height));break;case 3:this.ab.drawImage(a,c.x,-(c.y+d.height),d.width,d.height);break;case 5:this.ab.drawImage(a,c.x,c.y,d.width,d.height,e.x,-(e.y+f.height),f.width,f.height);break;default:throw Error("Argument must be non-nil");}},h_:function(a,c,d){a=a||this.ab;c*=p.da.d().ha;d instanceof p.qd&&(d=new p.ec(0|255*d.i,0|255*d.h,0|255*d.f));d="rgba("+d.i+","+d.h+","+d.f;a.fillStyle=d+",1)";var e=
c/10;a.beginPath();a.moveTo(-c,c);a.lineTo(0,e);a.lineTo(c,c);a.lineTo(e,0);a.lineTo(c,-c);a.lineTo(0,-e);a.lineTo(-c,-c);a.lineTo(-e,0);a.lineTo(-c,c);a.closePath();a.fill();var f=a.createRadialGradient(0,0,e,0,0,c);f.addColorStop(0,d+", 1)");f.addColorStop(0.3,d+", 0.8)");f.addColorStop(1,d+", 0.0)");a.fillStyle=f;a.beginPath();a.arc(0,0,c-e,0,p.YC,!1);a.closePath();a.fill()},f_:function(a,c,d){a=a||this.ab;c*=p.da.d().ha;d instanceof p.qd&&(d=new p.ec(0|255*d.i,0|255*d.h,0|255*d.f));d="rgba("+
d.i+","+d.h+","+d.f;var e=a.createRadialGradient(0,0,c/10,0,0,c);e.addColorStop(0,d+", 1)");e.addColorStop(0.3,d+", 0.8)");e.addColorStop(0.6,d+", 0.4)");e.addColorStop(1,d+", 0.0)");a.fillStyle=e;a.beginPath();a.arc(0,0,c,0,p.YC,!1);a.closePath();a.fill()},fillText:function(a,c,d){this.ab.fillText(a,c,-d)},vT:function(a,c,d,e){this.ab.fillStyle="rgba("+a+","+c+","+d+","+e/255+")";this.ab.strokeStyle="rgba("+a+","+c+","+d+","+e/255+")"},UH:function(a,c,d,e){this.ab.fillStyle="rgba("+(0|255*a)+","+
(0|255*c)+","+(0|255*d)+","+e+")";this.ab.strokeStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")"},WT:function(){},HT:function(a){this.ab.lineWidth=a*p.da.d().ha}});
p.yJ=p.Zw.extend({dq:!1,qb:null,Rh:-1,Sb:null,nz:-1,mz:-1,ctor:function(a){null==a&&(a=p.L);if(!a instanceof WebGLRenderingContext)throw"Can't initialise DrawingPrimitiveWebGL. context need is WebGLRenderingContext";p.Zw.prototype.ctor.call(this,a);this.Sb=new p.qd(1,1,1,1)},vj:function(){this.dq||(this.qb=p.Vg.d().zh(p.rX),this.Rh=this.ab.getUniformLocation(this.qb.Fv(),"u_color"),this.nz=this.ab.getUniformLocation(this.qb.Fv(),"u_pointSize"),this.dq=!0)},g_:function(){this.dq=!1},KA:function(a){this.vj();
this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,new Float32Array(this.Sb.tb,0,4),1);this.qb.oI(this.nz,this.mz);var c=this.ab,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,new Float32Array([a.x,a.y]),c.STATIC_DRAW);c.vertexAttribPointer(p.ce,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,1);c.deleteBuffer(d);p.Tg()},UF:function(a){if(a&&0!=a.length){this.vj();this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,new Float32Array(this.Sb.tb,0,4),1);this.qb.oI(this.nz,
this.mz);var c=this.ab,d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Au(a),c.STATIC_DRAW);c.vertexAttribPointer(p.ce,2,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,0,a.length);c.deleteBuffer(d);p.Tg()}},Au:function(a){for(var c=new Float32Array(2*a.length),d=0;d<a.length;d++)c[2*d]=a[d].x,c[2*d+1]=a[d].y;return c},oh:function(a,c){this.vj();this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,new Float32Array(this.Sb.tb,0,4),1);var d=this.ab,e=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,
e);d.bufferData(d.ARRAY_BUFFER,this.Au([a,c]),d.STATIC_DRAW);d.vertexAttribPointer(p.ce,2,d.FLOAT,!1,0,0);d.drawArrays(d.LINES,0,2);d.deleteBuffer(e);p.Tg()},WF:function(a,c){this.oh(p.a(a.x,a.y),p.a(c.x,a.y));this.oh(p.a(c.x,a.y),p.a(c.x,c.y));this.oh(p.a(c.x,c.y),p.a(a.x,c.y));this.oh(p.a(a.x,c.y),p.a(a.x,a.y))},LA:function(a,c,d){a=[a,p.a(c.x,a.y),c,p.a(a.x,c.y)];this.vv(a,4,d)},Hd:function(a,c,d){this.vj();this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,new Float32Array(this.Sb.tb,0,4),
1);c=this.ab;var e=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,e);c.bufferData(c.ARRAY_BUFFER,this.Au(a),c.STATIC_DRAW);c.vertexAttribPointer(p.ce,2,c.FLOAT,!1,0,0);d?c.drawArrays(c.LINE_LOOP,0,a.length):c.drawArrays(c.LINE_STRIP,0,a.length);c.deleteBuffer(e);p.Tg()},vv:function(a,c,d){this.vj();d||(d=this.Sb);this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,new Float32Array(d.tb,0,4),1);c=this.ab;d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,this.Au(a),c.STATIC_DRAW);
c.vertexAttribPointer(p.ce,2,c.FLOAT,!1,0,0);c.drawArrays(c.TRIANGLE_FAN,0,a.length);c.deleteBuffer(d);p.Tg()},RF:function(a,c,d,e,f){this.vj();var g=1;f&&g++;var h=2*Math.PI/e;if(f=new Float32Array(2*(e+2))){for(var k=0;k<=e;k++){var l=k*h,m=c*Math.sin(l+d)+a.y;f[2*k]=c*Math.cos(l+d)+a.x;f[2*k+1]=m}f[2*(e+1)]=a.x;f[2*(e+1)+1]=a.y;this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,new Float32Array(this.Sb.tb,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.ce,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+g);a.deleteBuffer(c);p.Tg()}},VF:function(a,c,d,e){this.vj();for(var f=new Float32Array(2*(e+1)),g=0,h=0;h<e;h++)f[2*h]=Math.pow(1-g,2)*a.x+2*(1-g)*g*c.x+g*g*d.x,f[2*h+1]=Math.pow(1-g,2)*a.y+2*(1-g)*g*c.y+g*g*d.y,g+=1/e;f[2*e]=d.x;f[2*e+1]=d.y;this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,new Float32Array(this.Sb.tb,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,
f,a.STATIC_DRAW);a.vertexAttribPointer(p.ce,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,e+1);a.deleteBuffer(c);p.Tg()},SF:function(a,c,d,e,f){this.vj();for(var g=new Float32Array(2*(f+1)),h=0,k=0;k<f;k++)g[2*k]=Math.pow(1-h,3)*a.x+3*Math.pow(1-h,2)*h*c.x+3*(1-h)*h*h*d.x+h*h*h*e.x,g[2*k+1]=Math.pow(1-h,3)*a.y+3*Math.pow(1-h,2)*h*c.y+3*(1-h)*h*h*d.y+h*h*h*e.y,h+=1/f;g[2*f]=e.x;g[2*f+1]=e.y;this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,new Float32Array(this.Sb.tb,0,4),1);a=this.ab;c=a.createBuffer();
a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,g,a.STATIC_DRAW);a.vertexAttribPointer(p.ce,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,f+1);a.deleteBuffer(c);p.Tg()},QF:function(a,c){this.uv(a,0.5,c)},uv:function(a,c,d){this.vj();for(var e=new Float32Array(2*(d+1)),f,g,h=1/a.length,k=0;k<d+1;k++)g=k/d,1==g?(f=a.length-1,g=1):(f=0|g/h,g=(g-h*f)/h),f=p.Tw(p.Fg(a,f-1),p.Fg(a,f),p.Fg(a,f+1),p.Fg(a,f+2),c,g),e[2*k]=f.x,e[2*k+1]=f.y;this.qb.Ce();this.qb.cg();p.Od(p.kg);this.qb.Ek(this.Rh,
new Float32Array(this.Sb.tb,0,4),1);a=this.ab;c=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,c);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW);a.vertexAttribPointer(p.ce,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,d+1);a.deleteBuffer(c);p.Tg()},vT:function(a,c,d,e){this.Sb.i=a/255;this.Sb.h=c/255;this.Sb.f=d/255;this.Sb.B=e/255},UH:function(a,c,d,e){this.Sb.i=a;this.Sb.h=c;this.Sb.f=d;this.Sb.B=e},WT:function(a){this.mz=a*p.$c()},HT:function(a){this.ab.lineWidth&&this.ab.lineWidth(a)}});p.YC=2*Math.PI;p.qD={SX:0,vW:1,wW:2,gV:3,oW:4,nW:5,tV:6,FW:7,ZV:8,aK:100,iK:101};p.LW=0;p.MW=1;p.JW=2;p.KW=3;p.wf=0;p.Mj=1;p.nf=null;p.L=null;p.canvas=null;p.zP=null;p.Yc=p.wf;p.PR=p.size(0,0);window.JB=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;window.console||(window.console={},window.console.log=function(){},window.console.assert=function(){});p.kB=!1;
p.Fk=function(a,c,d){function e(){if(p.Sg){var a=p.Sg.d();document[k]?(a.UR(),a.WR()):(p.M.d().$M(),a.NS(),a.OS())}}a=p.rb(a)||p.rb("#"+a);var f,g,h;"CANVAS"==a.tagName?(c=c||a.width,d=d||a.height,g=p.mj=p.Fj("DIV"),h=g.style,f=p.canvas=a,f.parentNode.insertBefore(g,f),f.Ql(g),h.width=(c||480)+"px",h.height=(d||320)+"px",g.setAttribute("id","Cocos2dGameContainer"),h.margin="0 auto",f.setAttribute("width",c||480),f.setAttribute("height",d||320)):("DIV"!=a.tagName&&p.log("Warning: target element is not a DIV or CANVAS"),
c=c||a.clientWidth,d=d||a.clientHeight,f=p.canvas=p.Fj("CANVAS"),f.xF("gameCanvas"),f.setAttribute("width",c||480),f.setAttribute("height",d||320),g=p.mj=a,h=g.style,a.appendChild(f),h.width=(c||480)+"px",h.height=(d||320)+"px",h.margin="0 auto");h.position="relative";h.overflow="hidden";g.top="100%";if(!p.Qx){p.qa.oc&&(p.L=p.a$=p.IF(f,{stencil:!0,preserveDrawingBuffer:!0,antialias:!p.qa.tj,alpha:!1}));p.L?(p.Yc=p.Mj,window.gl=p.L,p.nf=new p.yJ(p.L),p.Gb.d().jM()):(p.L=f.getContext("2d"),p.sR=p.L,
p.Yc=p.wf,p.L.translate(0,f.height),p.nf=p.NC?new p.NC(p.L):null);p.PR=p.size(f.width,f.height);p.zP=g;p.log(p.os);p.ae.d();p.pT();p.qa.tj&&p.fL();var k,l;"undefined"!==typeof document.hidden?(k="hidden",l="visibilitychange"):"undefined"!==typeof document.mozHidden?(k="mozHidden",l="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(k="msHidden",l="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(k="webkitHidden",l="webkitvisibilitychange");"undefined"===typeof document.addEventListener||
"undefined"===typeof k?(p.kB=!1,window.addEventListener("focus",function(){if(p.Sg){var a=p.Sg.d();a.NS();a.OS()}},!1),window.addEventListener("blur",function(){if(p.Sg){var a=p.Sg.d();a.UR();a.WR()}},!1)):(p.kB=!0,document.addEventListener(l,e,!1))}};p.fL=function(){var a=document.createElement("style");a.type="text/css";document.body.appendChild(a);a.textContent="body,canvas,div{ -moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;-khtml-user-select: none;-webkit-tap-highlight-color:rgba(0,0,0,0);}"};
p.pE=!1;p.pT=function(){p.pE=!1;p.canvas.oncontextmenu=p.pE?function(){}:function(){return!1}};p.zi=p.oa.extend({mg:null,ctor:function(){this.mg=0;if(p.Oz)throw"Application has been initialized";p.Oz=this},Mr:function(a){this.mg=a},g9:function(a){a&&p.rect(0,0,0,0)},L2:function(){return p.qa.tj?p.qD.aK:p.qD.iK},RS:function(){if(!this.sO())return 0;var a,c=p.M.d(),d=window;p.fP=c;d.JB&&this.mg==1/60?(a=function(){c.ZG();d.JB(a)},d.JB(a)):(a=function(){c.ZG()},setInterval(a,1E3*this.mg));return 0}});
p.zi.d=function(){return p.Oz};p.zi.s0=function(){var a=p.PJ,c=navigator.language;c||(c=navigator.browserLanguage||navigator.S9);if(!c)return a;c=c.toLowerCase();switch(c){case "zh-cn":a=p.OJ;break;case "fr":a=p.QJ;break;case "it":a=p.TJ;break;case "de":a=p.RJ;break;case "es":a=p.$J;break;case "ru":a=p.ZJ;break;case "ko":a=p.VJ;break;case "ja":a=p.UJ;break;case "hu":a=p.SJ;break;case "pt":a=p.YJ;break;case "ar":a=p.NJ;break;case "no":a=p.WJ;break;case "pl":a=p.XJ}return a};p.Oz=null;p.Jj=p.oa.extend({c$:null,FE:null,Yn:null,$y:null,ctor:function(){this.Yn={};window.DOMParser?(this.$y=!0,this.FE=new DOMParser):this.$y=!1},parse:function(a){var c=a;a=this.lG(a);a=this.GE(a,c).documentElement;if("plist"!=a.tagName)throw"cocos2d: "+c+" is not a plist file or you forgot to preload the plist file";for(var c=null,d=0,e=a.childNodes.length;d<e&&(c=a.childNodes[d],1!=c.nodeType);d++);return this.jz(c)},F9:function(a,c){if(null==c||!1===c)a=this.lG(a);return this.GE(a)},GE:function(a,
c){var d;this.$y?d=this.FE.parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a));null==d&&p.log("cocos2d:xml "+c+" not found!");return d},jz:function(a){var c=null;switch(a.tagName){case "dict":c=this.HM(a);break;case "array":c=this.GM(a);break;case "string":if(1==a.childNodes.length)c=a.firstChild.nodeValue;else for(var c="",d=0;d<a.childNodes.length;d++)c+=a.childNodes[d].nodeValue;break;case "false":c=!1;break;case "true":c=!0;break;case "real":c=
parseFloat(a.firstChild.nodeValue);break;case "integer":c=parseInt(a.firstChild.nodeValue,10)}return c},GM:function(a){for(var c=[],d=0,e=a.childNodes.length;d<e;d++){var f=a.childNodes[d];1==f.nodeType&&c.push(this.jz(f))}return c},HM:function(a){for(var c={},d=null,e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];1==g.nodeType&&("key"==g.tagName?d=g.firstChild.nodeValue:c[d]=this.jz(g))}return c},fS:function(a){a=p.ad.d().Md(a);if(window.XMLHttpRequest){var c=new XMLHttpRequest;c.overrideMimeType&&
c.overrideMimeType("text/xml")}if(null!=c){var d=this;c.onreadystatechange=function(){4==c.readyState&&(c.responseText?(p.Eb.d().yh(),d.Yn[a]=c.responseText,c=null):(p.Eb.d().yh(),p.log("cocos2d:There was a problem retrieving the xml data:"+c.statusText)))};c.open("GET",a,!0);c.send(null)}else throw"cocos2d:Your browser does not support XMLHTTP.";},JU:function(a){this.Yn.hasOwnProperty(a)&&delete this.Yn[a]},getName:function(a){return a.substring(a.lastIndexOf("/",a.length)+1,a.lastIndexOf(".",a.length))},
G0:function(a){return a.substring(a.lastIndexOf(".",a.length)+1,a.length)},lG:function(a){return null!=this.Yn?this.Yn[a]:null}});p.Jj.d=function(){this.nb||(this.nb=new p.Jj);return this.nb};p.Jj.nb=null;p.Mw=p.oa.extend({eP:function(){p.zi.d().RS();return!0},qZ:function(){p.M.d().pause()},pZ:function(){p.M.d().EH()},rO:function(){p.zi.d().rO()},tO:function(){p.zi.d().tO()},rZ:function(){}});p.Mw.qU=function(){null==p.vw&&(p.vw=new p.Mw);if(!p.vw)throw"Application initialize failure";return p.vw};p.vw=null;p.S=p.w.extend({xd:null,Zj:p.Fi,rk:p.mp,He:null,fe:0,Nf:"",iz:null,vn:!1,Pi:null,bj:!1,wl:null,Jn:0,Aq:0,Lu:null,nk:!1,Fq:null,On:0,Nu:null,Pn:null,Vt:null,Yz:0,Zz:0,Fc:!1,hu:null,iu:null,ctor:function(){p.w.prototype.ctor.call(this);this.xd=p.Tk();this.Zj=p.ip;this.rk=p.mp;this.Vb=!1;this.Pi="";this.He="Arial";this.bj=this.vn=!1;this.wl=p.Tk();this.Aq=this.Jn=0;this.Lu="rgba(128, 128, 128, 0.5)";this.nk=!1;this.Fq=p.cb();this.On=0;this.Nu="";this.Pn=p.cb();this.Vt="rgba(255,255,255,1)";this.Zz=this.Yz=
0;this.Fc=!1;this.gh()},s:function(){return this.vk(" ",this.He,this.fe)},wM:function(){this.Py().font=this.Pi},kq:function(a){return this.Py().measureText(a).width},uL:function(a,c){var d=this.kq(a),e=Math.floor(a.length*c/d),f=a.indexOf("\n");if(0.8*e>=f&&0<f)return f+1;if(d<c)return a.length;for(var d=!1,f=c+1,g=-1,h=e,k,l=p.S.vL,m=p.S.bN,n=p.S.tL,r=a.substr(e);k=l.exec(r);){h+=k[0].length;if("\n"==k[2]){d=!0;g=h;break}f=this.kq(a.substr(0,h));if(f>c){-1!=g&&(d=!0);break}g=h;r=a.substr(h)}if(d)return g;
r=a.substr(0,e);for(g=e;k=m.exec(r);)if(g=k[1].length,r=k[1],f=this.kq(r),f<c){n.test(k[2])&&g++;break}return g},description:function(){return"\x3ccc.LabelTTF | FontName \x3d"+this.He+" FontSize \x3d "+this.fe.toFixed(1)+"\x3e"},o:null,vq:function(a){p.eb.prototype.o.call(this,a);this.PE()},gh:null,PE:function(){this.Fc=!0;var a=this.jc,c=this.Ab,d=this.Fq,e=this.Pn;this.Lu="rgba("+(0|0.5*a.i)+","+(0|0.5*a.h)+","+(0|0.5*a.f)+","+this.Jn+")";this.Vt="rgba("+(0|a.i/255*e.i)+","+(0|a.h/255*e.h)+","+
(0|a.f/255*e.f)+", "+c/255+")";this.Nu="rgba("+(0|a.i/255*d.i)+","+(0|a.h/255*d.h)+","+(0|a.f/255*d.f)+", "+c/255+")"},kN:function(){this.Fc=!0;var a=this.Fq,c=this.Pn;this.Lu="rgba(128,128,128,"+this.Jn+")";this.Vt="rgba("+(0|c.i)+","+(0|c.h)+","+(0|c.f)+", 1)";this.Nu="rgba("+(0|a.i)+","+(0|a.h)+","+(0|a.f)+", 1)"},Ac:null,eA:function(a){p.eb.prototype.Ac.call(this,a);this.gh()},Z:null,xq:function(a){this.bi!==a&&(p.w.prototype.Z.call(this,a),this.gh(),this.Fc=!0)},Bc:null,P9:function(a){p.eb.prototype.Bc.call(this,
a);this.gh()},TA:function(){return this.Nf},R0:function(){return this.Zj},f3:function(){return this.rk},B0:function(){return p.size(this.xd.width,this.xd.height)},L0:function(){return this.fe},K0:function(){return this.He},vk:function(a,c,d,e,f,g){a=a?a+"":"";d=d||16;e=e||p.size(0,d);f=f||p.ip;g=g||p.np;return p.w.prototype.s.call(this)?(this.Vb=!1,this.xd=p.size(e.width,e.height),this.He=c||"Arial",this.Zj=f,this.rk=g,this.fe=d,this.Pi=this.fe+"px '"+c+"'",this.Oi=p.S.vt(c,this.fe),this.ba(a),this.gh(),
this.gA(),this.Fc=!1,!0):!1},gB:null,fM:function(a,c){if(!p.w.prototype.s.call(this))return!1;this.hA(c,!1);this.ba(a);return!0},gM:function(a,c){if(!p.w.prototype.s.call(this))return!1;this.ag(p.Vg.d().zh(p.S.QK));this.hA(c,!1);this.ba(a);return!0},H8:function(a){a&&this.hA(a,!0)},M2:function(){return this.LM(!1)},sP:function(a,c,d){c=c||0.5;!1===this.bj&&(this.bj=!0);var e=this.wl;if(e&&e.width!=a.width||e.height!=a.height)e.width=a.width,e.height=a.height;this.Jn!=c&&(this.Jn=c);this.gh();this.Aq!=
d&&(this.Aq=d);this.Fc=!0},b_:function(){this.bj&&(this.bj=!1,this.Fc=!0)},tP:function(a,c){!1===this.nk&&(this.nk=!0);var d=this.Fq;if(d.i!==a.i||d.h!==a.h||d.f!==a.f)d.i=a.i,d.h=a.h,d.f=a.f,this.gh();this.On!==c&&(this.On=c||0);this.Fc=!0},c_:function(){this.nk&&(this.nk=!1,this.Fc=!0)},SB:null,oN:function(a){var c=this.Pn;if(c.i!=a.i||c.h!=a.h||c.f!=a.f)c.i=a.i,c.h=a.h,c.f=a.f,this.gh(),this.Fc=!0},pN:function(a){var c=this.Pn;if(c.i!=a.i||c.h!=a.h||c.f!=a.f)c.i=a.i,c.h=a.h,c.f=a.f,this.gh(),this.Fc=
!0},hA:function(a,c){a.er?(this.xd.width=a.er.width,this.xd.height=a.er.height):(this.xd.width=0,this.xd.height=0);this.Zj=a.bG;this.rk=a.cG;this.He=a.fr;this.fe=a.fontSize||12;this.Pi=this.fe+"px '"+this.He+"'";this.Oi=p.S.vt(this.He,this.fe);a.yI&&this.sP(a.zI,a.AI,a.shadowBlur,!1);a.iC&&this.tP(a.strokeColor,a.GI,!1);this.SB(a.dG,!1);c&&this.gA()},LM:function(a){var c=new p.EJ;a?(c.fontSize=this.fe,c.er=p.wx(this.xd)):(c.fontSize=this.fe,c.er=p.size(this.xd.width,this.xd.height));c.fr=this.He;
c.bG=this.Zj;c.cG=this.rk;if(this.nk){c.iC=!0;var d=this.Fq;c.strokeColor=new p.ec(d.i,d.h,d.f);c.GI=this.On}else c.iC=!1;this.bj?(c.yI=!0,c.shadowBlur=this.Aq,c.AI=this.Jn,c.zI=a?p.wx(this.wl):p.size(this.wl.width,this.wl.height)):c.bj=!1;a=this.Pn;c.dG=new p.ec(a.i,a.h,a.f);return c},Oi:18,ba:function(a){a=String(a);this.iz!=a&&(this.iz=a+"",this.oF(),this.Fc=!0)},oF:function(){this.Nf=this.iz},x7:function(a){a!==this.Zj&&(this.Zj=a,this.Fc=!0)},T8:function(a){a!=this.rk&&(this.rk=a,this.Fc=!0)},
SH:function(a){if(a.width!=this.xd.width||a.height!=this.xd.height)this.xd=a,this.oF(),this.Fc=!0},WH:function(a){this.fe!==a&&(this.fe=a,this.Pi=a+"px '"+this.He+"'",this.Oi=p.S.vt(this.He,a),this.Fc=!0)},BT:function(a){this.He&&this.He!=a&&(this.He=a,this.Pi=this.fe+"px '"+a+"'",this.Oi=p.S.vt(a,this.fe),this.Fc=!0)},LL:function(a){if(a){var c=this.Yz,d=this.Zz,e=this.fa.ea-d,f=this.rk,g=this.Zj,h=this.Oi,k=this.On;a.setTransform(1,0,0,1,0+0.5*c,e+0.5*d);a.font!=this.Pi&&(a.font=this.Pi);a.fillStyle=
this.Vt;var l=d=0,m=this.nk;m&&(a.lineWidth=2*k,a.strokeStyle=this.Nu);this.bj&&(k=this.wl,a.shadowColor=this.Lu,a.shadowOffsetX=k.width,a.shadowOffsetY=-k.height,a.shadowBlur=this.Aq);a.textBaseline=p.S.ON[f];a.textAlign=p.S.NN[g];c=this.fa.sa-c;d=g===p.CK?d+c:g===p.Fi?d+c/2:d+0;if(this.vn)for(g=this.dj.length,f===p.mp?l=h+e-h*g:f===p.rt&&(l=h/2+(e-h*g)/2),f=0;f<g;f++)c=this.dj[f],k=-e+h*f+l,m&&a.strokeText(c,d,k),a.fillText(c,d,k);else f!==p.mp&&(l=f===p.np?l-e:l-0.5*e),m&&a.strokeText(this.Nf,
d,l),a.fillText(this.Nf,d,l)}},Py:function(){if(this.iu)return this.iu;if(!this.hu){var a=document.createElement("canvas"),c=new p.Fb;c.Te(a);this.$(c);this.hu=a}return this.iu=this.hu.getContext("2d")},pF:function(){var a=this.xd.width,c,d;this.tE=[];this.vn=!1;this.wM();if(0!==a){var e=this.Nf;this.dj=[];c=0;for(d=this.Nf.length;c<d;){var f=this.uL(e.substr(c),a);this.dj.push(e.substr(c,f));c+=f}}else for(this.dj=this.Nf.split("\n"),c=0,d=this.dj.length;c<d;c++)this.tE.push(this.kq(this.dj[c]));
0<this.dj.length&&(this.vn=!0);d=c=0;this.nk&&(c=d=2*this.On);this.bj&&(e=this.wl,c+=2*Math.abs(e.width),d+=2*Math.abs(e.height));a=0===a?this.vn?p.size(0|Math.max.apply(Math,this.tE)+c,0|this.Oi*this.dj.length+d):p.size(0|this.kq(this.Nf)+c,0|this.Oi+d):0===this.xd.height?this.vn?p.size(0|a+c,0|this.Oi*this.dj.length+d):p.size(0|a+c,0|this.Oi+d):p.size(0|a+c,0|this.xd.height+d);this.aa(a);this.Yz=c;this.Zz=d;e=this.Fe;this.cd.A=0.5*c+(a.width-c)*e.A;this.cd.I=0.5*d+(a.height-d)*e.I},g:function(){this.Fc&&
this.pF();return p.w.prototype.g.call(this)},gA:function(){var a=this.Py(),c=this.hu,d=this.fa;if(0===this.Nf.length)return c.width=1,c.height=d.ea,this.mb(p.rect(0,0,1,d.ea)),!0;a.font=this.Pi;this.pF();var e=d.sa,d=d.ea,f=c.width==e&&c.height==d;c.width=e;c.height=d;f&&a.clearRect(0,0,e,d);this.LL(a);this.pa.Td();this.mb(p.rect(0,0,e,d));return!0},ca:function(a){this.Nf&&""!=this.Nf&&(this.Fc&&(this.Fc=!1,this.gA()),p.w.prototype.ca.call(this,a||p.L))},Ia:null,Ff:function(a){if(this.Nf&&""!=this.Nf){a=
a||p.L;var c=this.pa;c&&c.bc&&(this.lc.Ce(),this.lc.cg(),p.rj(this.R.src,this.R.lb),p.Tf(c),p.Od(p.qt),a.bindBuffer(a.ARRAY_BUFFER,this.Eu),this.Le&&(a.bufferData(a.ARRAY_BUFFER,this.pb.uA,a.STATIC_DRAW),this.Le=!1),a.vertexAttribPointer(p.ce,3,a.FLOAT,!1,24,0),a.vertexAttribPointer(p.lp,2,a.FLOAT,!1,24,16),a.vertexAttribPointer(p.kp,4,a.UNSIGNED_BYTE,!0,24,12),a.drawArrays(a.TRIANGLE_STRIP,0,4));1===p.Kj?(a=this.pb,a=[p.a(a.Fa.l.x,a.Fa.l.y),p.a(a.va.l.x,a.va.l.y),p.a(a.Ha.l.x,a.Ha.l.y),p.a(a.ya.l.x,
a.ya.l.y)],p.nf.Hd(a,4,!0)):2===p.Kj&&(a=this.UA().Na,c=this.Nb,a=[p.a(c.x,c.y),p.a(c.x+a.width,c.y),p.a(c.x+a.width,c.y+a.height),p.a(c.x,c.y+a.height)],p.nf.Hd(a,4,!0));p.qh++}},Nz:function(a,c,d){this.wc=c||!1;d=d||a.Na;this.aa(d);this.dC(a);c=this.Rn;c.x=a.x;c.y=a.y;c.width=a.width;c.height=a.height;c.cs=!(0===c.width||0===c.height);a=this.jh;this.Tb&&(a.A=-a.A);this.Ub&&(a.I=-a.I);this.Nb.A=a.x+(this.fa.sa-this.ka.width)/2;this.Nb.I=a.y+(this.fa.ea-this.ka.height)/2;this.Ta&&(this.ta=!0)},SE:function(a){var c=
this.Ta?this.Ea.Q():this.pa;if(c){var d=c.lo(),e=c.ko(),f,g=this.pb;this.wc?(p.Is?(c=(2*a.x+1)/(2*d),d=c+(2*a.height-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.width-2)/(2*e)):(c=a.x/d,d=(a.x+a.height)/d,f=a.y/e,a=(a.y+a.width)/e),this.Tb&&(e=f,f=a,a=e),this.Ub&&(e=c,c=d,d=e),g.va.q.Ca=c,g.va.q.W=f,g.Ha.q.Ca=c,g.Ha.q.W=a,g.Fa.q.Ca=d,g.Fa.q.W=f,g.ya.q.Ca=d,g.ya.q.W=a):(p.Is?(c=(2*a.x+1)/(2*d),d=c+(2*a.width-2)/(2*d),f=(2*a.y+1)/(2*e),a=f+(2*a.height-2)/(2*e)):(c=a.x/d,d=(a.x+a.width)/d,f=a.y/e,a=(a.y+a.height)/
e),this.Tb&&(e=c,c=d,d=e),this.Ub&&(e=f,f=a,a=e),g.va.q.Ca=c,g.va.q.W=a,g.Ha.q.Ca=d,g.Ha.q.W=a,g.Fa.q.Ca=c,g.Fa.q.W=f,g.ya.q.Ca=d,g.ya.q.W=f);this.Le=!0}}});
p.qa.oc?(b=p.S.prototype,b.o=p.w.prototype.o,b.gh=p.S.prototype.kN,b.Ac=p.w.prototype.Ac,b.Z=p.w.prototype.Z,b.Bc=p.w.prototype.Bc,b.gB=p.S.prototype.gM,b.SB=p.S.prototype.pN,b.Ia=p.S.prototype.Ff,b.mb=p.w.prototype.TE):(b=p.S.prototype,b.o=p.S.prototype.vq,b.gh=p.S.prototype.PE,b.Ac=p.S.prototype.eA,b.Z=p.S.prototype.xq,b.Bc=p.S.prototype.lF,b.gB=p.S.prototype.fM,b.SB=p.S.prototype.oN,b.Ia=p.w.prototype.Ia,b.mb=p.S.prototype.Nz);p.S.NN=["left","center","right"];p.S.ON=["top","middle","bottom"];
p.S.vL=/(.+?)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.S.bN=/(.*)([\s\n\r\-\/\\\:]|[\u4E00-\u9FA5]|[\uFE30-\uFFA0])/;p.S.tL=/[\s\-\/\\\:]/;p.S.create=function(a,c,d,e,f,g){var h=new p.S;return h.vk(a,c,d,e,f,g)?h:null};p.S.WZ=function(a,c){var d=new p.S;return d&&d.gB(a,c)?d:null};p.S.QK=p.KK?p.vx:p.oX;p.S.Uk=document.createElement("div");p.S.Uk.style.fontFamily="Arial";p.S.Uk.style.position="absolute";p.S.Uk.style.left="-100px";p.S.Uk.style.top="-100px";p.S.Uk.style.lineHeight="normal";
document.body.appendChild(p.S.Uk);p.S.vt=function(a,c){var d=p.S.GD[a+"."+c];if(0<d)return d;var e=p.S.Uk;e.innerHTML="ajghl~!";e.style.fontFamily=a;e.style.fontSize=c+"px";d=e.clientHeight;p.S.GD[a+"."+c]=d;e.innerHTML="";return d};p.S.GD={};p.HJ=p.oa.extend({nc:null,target:null,Ol:0,Eg:null,Tl:!1,paused:!1,ZA:null,ctor:function(){this.nc=[];this.K=null;this.Ol=0;this.Eg=null;this.paused=this.Tl=!1;this.ZA=null}});
p.dJ=p.oa.extend({Yg:null,Sm:null,Ge:null,Th:!1,GY:function(a,c){for(var d=0;d<a.length;d++)if(c==a[d].target)return a[d];return null},ctor:function(){this.Yg={};this.Sm=[];this.Ge=null;this.Th=!1},iO:function(a,c,d){if(!a)throw"cc.ActionManager.addAction(): action must be non-null";if(!c)throw"cc.ActionManager.addAction(): action must be non-null";var e=this.Yg[c.Lb];e||(e=new p.HJ,e.paused=d,e.target=c,this.Yg[c.Lb]=e,this.Sm.push(e));this.$K(e);e.nc.push(a);a.N(c)},k6:function(){for(var a=this.Sm,
c=0;c<a.length;c++){var d=a[c];d&&this.zH(d.target,!0)}},zH:function(a,c){if(null!=a){var d=this.Yg[a.Lb];d&&(-1===d.nc.indexOf(d.Eg)||d.Tl||(d.Tl=!0),d.nc=[],this.Ge!=d||c?this.ty(d):this.Th=!0)}},yH:function(a){if(null!=a){var c=this.Yg[a.pl.Lb];if(c)for(var d=0;d<c.nc.length;d++){if(c.nc[d]==a){c.nc.splice(d,1);break}}else p.log("cocos2d: removeAction: Target not found")}},yS:function(a,c){a==p.Bm&&p.log("cc.ActionManager.removeActionByTag(): an invalid tag");if(!c)throw"cc.ActionManager.removeActionByTag(): target must be non-null";
var d=this.Yg[c.Lb];if(d)for(var e=d.nc.length,f=0;f<e;++f){var g=d.nc[f];if(g&&g.Kc===a&&g.pl==c){this.PM(f,d);break}}},NA:function(a,c){a==p.Bm&&p.log("cc.ActionManager.getActionByTag(): an invalid tag");var d=this.Yg[c.Lb];if(d){if(null!=d.nc)for(var e=0;e<d.nc.length;++e){var f=d.nc[e];if(f&&f.Kc===a)return f}p.log("cocos2d : getActionByTag(tag \x3d"+a+"): Action not found")}return null},xR:function(a){return(a=this.Yg[a.Lb])?a.nc?a.nc.length:0:0},Hr:function(a){if(a=this.Yg[a.Lb])a.paused=!0},
rm:function(a){if(a=this.Yg[a.Lb])a.paused=!1},S5:function(){for(var a=[],c=this.Sm,d=0;d<c.length;d++){var e=c[d];e&&!e.paused&&(e.paused=!0,a.push(e.target))}return a},PS:function(a){if(a)for(var c=0;c<a.length;c++)a[c]&&this.rm(a[c])},c6:function(){p.M.d().Se().To(this)},PM:function(a,c){c.nc[a]!=c.Eg||c.Tl||(c.Tl=!0);p.Vo(c.nc,a);c.Ol>=a&&c.Ol--;0==c.nc.length&&(this.Ge==c?this.Th=!0:this.ty(c))},ty:function(a){a&&(delete this.Yg[a.target.Lb],p.od(this.Sm,a),a.nc=null,a.target=null)},$K:function(a){null==
a.nc&&(a.nc=[])},update:function(a){for(var c=this.Sm,d,e=0;e<c.length;e++){d=this.Ge=c[e];if(!d.paused)for(d.Ol=0;d.Ol<d.nc.length;d.Ol++)if(d.Eg=d.nc[d.Ol],d.Eg){d.Tl=!1;d.Eg.step(a);if(d.Tl)d.Eg=null;else if(d.Eg.sh()){d.Eg.stop();var f=d.Eg;d.Eg=null;this.yH(f)}d.Eg=null}this.Th&&0===d.nc.length&&this.ty(d)}}});p.Ee=p.oa.extend({X:null,Cu:p.Ci(),bf:0,ctor:function(a,c,d){this.X=p.a(a||0,c||0);this.bf=d||0},c1:function(){return this.X},XP:function(){return this.Cu},y0:function(){return p.Xc(this.X,this.Cu)},U0:function(){return this.bf},V0:function(){return this.bf},bC:function(a,c,d){this.Cu=this.X;this.X=p.a(c||0,d||0);this.bf=a},hf:function(a,c){this.Cu=p.a(a||0,c||0)}});
p.zD=p.oa.extend({lY:null,Hb:function(){return!1},Wc:function(){},ue:function(){},wj:function(){},dH:function(){},gH:function(){},fH:function(){},eH:function(){},J9:function(){},I9:function(){}});p.FX=p.zD.extend({Hb:function(){return!1},Wc:function(){},ue:function(){},wj:function(){}});p.yX=p.zD.extend({dH:function(){},gH:function(){},fH:function(){},eH:function(){}});p.Om=p.oa.extend({zb:null,Ke:0,ln:0,Qb:function(){return this.zb},Og:function(a){this.zb=a},YP:function(){return this.Ke},Rr:function(a){this.Ke=a},HP:function(){return this.ln},wT:function(a){this.ln=a},sj:function(a,c){if(!a)throw"cc.TouchHandler.initWithDelegate(): touch delegate should not be null";this.zb=a;this.Ke=c;this.ln=0;return!0}});p.Om.create=function(a,c){var d=new p.Om;d&&d.sj(a,c);return d};p.Ax=p.Om.extend({sj:function(a,c){return p.Om.prototype.sj.call(this,a,c)}});
p.Ax.create=function(a,c){var d=new p.Ax;d&&d.sj(a,c);return d};p.jt=p.Om.extend({Ru:!1,fn:null,r4:function(){return this.Ru},E8:function(a){this.Ru=a},j0:function(){return this.fn},sj:function(a,c,d){return p.Om.prototype.sj.call(this,a,c)?(this.fn=[],this.Ru=d,!0):!1}});p.jt.create=function(a,c,d){var e=new p.jt;e&&e.sj(a,c,d);return e};p.FK=1;p.IK=2;p.HK=4;p.GK=8;p.IX=p.FK|p.IK|p.HK|p.GK;p.Ex=0;p.Hx=1;p.Gx=2;p.Fx=3;p.HX=4;p.TG=function(a,c){return a.Ke>c.Ke};p.nt=function(a){this.type=a};
p.U=p.oa.extend({Zi:!1,ne:null,me:null,ll:!1,Nq:!1,bv:!1,$j:null,Ri:null,av:!1,Mi:!1,ZL:[new p.nt(p.Ex),new p.nt(p.Hx),new p.nt(p.Gx),new p.nt(p.Fx)],s:function(){this.Mi=!0;this.ne=[];this.me=[];this.$j=[];this.Ri=[];this.Zi=this.ll=this.av=this.Nq=this.bv=!1;p.U.tS();return!0},wq:function(a){this.Zi=a},UL:function(){return this.Zi},T3:function(){return this.Mi},tT:function(a){this.Mi=a},dL:function(a,c){var d=p.Ax.create(a,c||0);this.ll?-1!=this.Ri.indexOf(a)?p.od(this.Ri,a):(this.$j.push(d),this.Nq=
!0):this.me=this.fo(d,this.me)},eL:function(a,c,d){c=p.jt.create(a,c,d);this.ll?-1!=this.Ri.indexOf(a)?p.od(this.Ri,a):(this.$j.push(c),this.Nq=!0):this.ne=this.fo(c,this.ne)},fo:function(a,c){for(var d=0,e,f=0;f<c.length;f++)if(e=c[f])if(e.Ke<a.Ke&&++d,e.Qb()==a.Qb())return p.log("cc.TouchDispatcher.forceAddHandler(): The handler has been added."),c;return p.Mk(c,a,d)},eG:function(){this.me.length=0;this.ne.length=0},SM:function(a){if(null!=a)if(this.ll){var c=this.ZF(this.$j,a);c?p.od(this.$j,c):
(this.Ri.push(a),this.bv=!0)}else this.fG(a)},AS:function(){this.ll?this.av=!0:this.eG()},Rr:function(a,c){if(!c)throw"cc.TouchDispatcher.setPriority(): delegate should be non-null.";var d=this.ZF(c);d?d.Ke!=a&&(d.Rr(a),this.tH(this.ne),this.tH(this.me)):p.log("cc.TouchDispatcher.setPriority(): Can't find TouchHandler.")},touches:function(a,c,d){if(0>d||4<=d)throw"cc.TouchDispatcher.touches(): invalid index";this.ll=!0;var e=this.ne.length,f=this.me.length,g=e&&f,h=g?a.slice():a,k=this.ZL[d];if(0<
e)for(var l,m,n=0;n<a.length;n++)for(var e=a[n],r=0;r<this.ne.length;r++){l=this.ne[r];if(!l)break;m=!1;if(d==p.Ex)l.Qb().Hb&&(m=l.Qb().Hb(e,c))&&l.fn.push(e);else if(0<l.fn.length)switch(m=!0,k.type){case p.Hx:p.qa.tj?l.Qb().Wc&&l.Qb().Wc(e,c):this.Zi&&l.Qb().Wc&&l.Qb().Wc(e,c);break;case p.Gx:l.Qb().ue&&l.Qb().ue(e,c);l.fn.length=0;break;case p.Fx:l.Qb().wj&&l.Qb().wj(e,c),l.fn.length=0}if(m&&l.Ru){g&&p.od(h,e);break}}if(0<f)for(n=0;n<this.me.length&&(l=this.me[n],l);n++);this.ll=!1;if(this.bv){this.bv=
!1;for(n=0;n<this.Ri.length;n++)this.fG(this.Ri[n]);this.Ri.length=0}if(this.Nq){this.Nq=!1;for(n=0;n<this.$j.length;n++){l=this.$j[n];if(!l)break;l instanceof p.jt?this.ne=this.fo(l,this.ne):this.me=this.fo(l,this.me)}this.$j.length=0}this.av&&(this.av=!1,this.eG())},Ew:function(a,c){this.Mi&&this.touches(a,c,p.Ex)},Fw:function(a,c){this.Mi&&this.touches(a,c,p.Hx)},Wr:function(a,c){this.Mi&&this.touches(a,c,p.Gx)},kC:function(a,c){this.Mi&&this.touches(a,c,p.Fx)},ZF:function(a,c){switch(arguments.length){case 1:c=
arguments[0];if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(var d=0;d<this.ne.length;d++)if(this.ne[d].Qb()==c)return this.ne[d];for(d=0;d<this.me.length;d++)if(this.me[d].Qb()==c)return this.me[d];return null;case 2:if(!a)throw"cc.TouchDispatcher.findHandler(): array should be non-null.";if(!c)throw"cc.TouchDispatcher.findHandler(): delegate should be non-null.";for(d=0;d<a.length;d++)if(a[d].Qb()==c)return a[d];return null;default:throw"Argument must be non-nil ";
}},fG:function(a){for(var c,d=0;d<this.me.length;d++)if((c=this.me[d])&&c.Qb()==a){p.od(this.me,c);break}for(d=0;d<this.ne.length;d++)if((c=this.ne[d])&&c.Qb()==a){p.od(this.ne,c);break}},tH:function(a){a.sort(p.TG)}});p.U.Za=p.a(0,0);p.U.QG=!1;
p.ki=function(a){var c=document.documentElement,d=window,e=null,e="function"===typeof a.getBoundingClientRect?a.getBoundingClientRect():a instanceof HTMLCanvasElement?{left:0,top:0,width:a.width,height:a.height}:{left:0,top:0,width:parseInt(a.style.width),height:parseInt(a.style.height)};return{left:e.left+d.pageXOffset-c.clientLeft,top:e.top+d.pageYOffset-c.clientTop,width:e.width,height:e.height}};
p.qK=function(a,c){var d=p.ki(a),e,f;null!=c.pageX?(e=c.pageX,f=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,e=c.clientX,f=c.clientY);e=p.da.d().nj(e,f,d);d=new p.Ee(e.x,e.y);d.hf(p.U.Za.x,p.U.Za.y);p.U.Za.x=e.x;p.U.Za.y=e.y;e=[];e.push(d);p.da.d().Wr(e,null)};
p.U.tS=function(){var a=p.canvas;if(!p.U.QG){if(p.qa.tj)if(window.navigator.msPointerEnabled){var c={MSPointerDown:"touchesBegan",MSPointerMove:"touchesMoved",MSPointerUp:"touchesEnded",MSPointerCancel:"touchesCancelled"},d;for(d in c)(function(c,d){a.addEventListener(c,function(c){var e=p.ki(a);e.left-=document.body.scrollLeft;e.top-=document.body.scrollTop;var k,l;k=c.clientX;l=c.clientY;k=p.da.d().nj(k,l,e);e=new p.Ee(k.x,k.y);e.hf(p.U.Za.x,p.U.Za.y);p.U.Za.x=k.x;p.U.Za.y=k.y;p.M.d().pe[d]([e],
null);c.stopPropagation();c.preventDefault()},!1)})(d,c[d])}else a.addEventListener("touchstart",function(c){if(c.changedTouches){var d=[],g=p.ki(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.da.d().nj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ee(k.x,k.y,h.identifier),l=p.U.Yt(h).X,h.hf(l.x,l.y),p.U.QE(h)):(h=new p.Ee(k.x,k.y),h.hf(p.U.Za.x,p.U.Za.y)),p.U.Za.x=k.x,p.U.Za.y=
k.y,d.push(h);p.da.d().Ew(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchmove",function(c){if(c.changedTouches){var d=[],g=p.ki(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.da.d().nj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ee(k.x,k.y,h.identifier),l=p.U.Yt(h).X,h.hf(l.x,l.y),p.U.QE(h)):(h=new p.Ee(k.x,k.y),h.hf(p.U.Za.x,p.U.Za.y)),p.U.Za.x=
k.x,p.U.Za.y=k.y,d.push(h);p.da.d().Fw(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchend",function(c){if(c.changedTouches){var d=[],g=p.ki(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.da.d().nj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ee(k.x,k.y,h.identifier),l=p.U.Yt(h).X,h.hf(l.x,l.y),p.U.ZD(h)):(h=new p.Ee(k.x,k.y),h.hf(p.U.Za.x,p.U.Za.y)),
p.U.Za.x=k.x,p.U.Za.y=k.y,d.push(h);p.da.d().Wr(d,null);c.stopPropagation();c.preventDefault()}},!1),a.addEventListener("touchcancel",function(c){if(c.changedTouches){var d=[],g=p.ki(a);g.left-=document.body.scrollLeft;g.top-=document.body.scrollTop;for(var h,k,l,m=c.changedTouches.length,n=0;n<m;n++)if(h=c.changedTouches[n])k=h.clientX,l=h.clientY,k=p.da.d().nj(k,l,g),h.hasOwnProperty("identifier")?(h=new p.Ee(k.x,k.y,h.identifier),l=p.U.Yt(h).X,h.hf(l.x,l.y),p.U.ZD(h)):(h=new p.Ee(k.x,k.y),h.hf(p.U.Za.x,
p.U.Za.y)),p.U.Za.x=k.x,p.U.Za.y=k.y,d.push(h);p.da.d().kC(d,null);c.stopPropagation();c.preventDefault()}},!1);else window.addEventListener("mousedown",function(){p.M.d().pe.wq(!0)}),window.addEventListener("mouseup",function(c){p.M.d().pe.wq(!1);var d=p.ki(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);p.vb(new p.zf(d.left,d.top,d.width,d.height),p.a(g,c))||(g=p.da.d().nj(g,c,d),d=new p.Ee(g.x,g.y),d.hf(p.U.Za.x,
p.U.Za.y),p.U.Za.x=g.x,p.U.Za.y=g.y,g=[],g.push(d),p.da.d().Wr(g,null))}),a.addEventListener("mousedown",function(c){var d=p.ki(a),g;null!=c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.da.d().nj(g,c,d);d=new p.Ee(g.x,g.y);d.hf(p.U.Za.x,p.U.Za.y);p.U.Za.x=g.x;p.U.Za.y=g.y;g=[];g.push(d);p.da.d().Ew(g,null)}),a.addEventListener("mouseup",function(c){p.qK(a,c)}),a.addEventListener("mousemove",function(c){var d=p.ki(a),g;null!=
c.pageX?(g=c.pageX,c=c.pageY):(d.left-=document.body.scrollLeft,d.top-=document.body.scrollTop,g=c.clientX,c=c.clientY);g=p.da.d().nj(g,c,d);d=new p.Ee(g.x,g.y);d.hf(p.U.Za.x,p.U.Za.y);p.U.Za.x=g.x;p.U.Za.y=g.y;g=[];g.push(d);p.da.d().Fw(g,null)});p.U.QG=!0}};p.U.Yt=function(a){for(var c=null,d=p.U.qz,e=a.bf,f=d.length-1;0<=f;f--)if(d[f].bf==e){c=d[f];break}c||(c=a);return c};
p.U.QE=function(a){for(var c=!1,d=p.U.qz,e=a.bf,f=d.length-1;0<=f;f--)if(d[f].bf==e){d[f]=a;c=!0;break}c||(50>=d.length?d.push(a):(d[p.U.rz]=a,p.U.rz=(p.U.rz+1)%50))};p.U.ZD=function(a){var c,d=p.U.qz;c=a.bf;for(a=d.length-1;0<=a;a--)if(d[a].bf==c){c=d.pop();a!=d.length&&(d[a]=c);break}};p.U.qz=[];p.U.rz=0;p.FB=function(a,c,d){p.M.d().pe.eL(d,a,c)};p.uS=function(a,c){p.M.d().pe.dL(a,c)};p.LI=function(a){p.M.d().pe.SM(a)};p.bK=1;p.VC=2;p.yW=4;p.fK=8;p.bX=16;p.cX=32;p.dX=64;p.OW=128;p.PW=256;p.QW=512;p.mD=1024;p.cK=2048;p.dK=4096;p.eK=0;p.zW=1;p.WC=2;p.DW=p.oa.extend({BR:function(){return!1},CR:function(){return!1},xh:function(){return!1},FR:function(){return!1},JR:function(){return!1},KR:function(){return!1},LR:function(){return!1},GR:function(){return!1},HR:function(){return!1},IR:function(){return!1},MR:function(){return!1},DR:function(){return!1},ER:function(){return!1}});
p.gK=p.Ee.extend({sF:0,RD:p.eK,k3:function(){return this.sF},uI:function(a){this.sF=a},b0:function(){return this.RD},iT:function(a){this.RD=a}});p.kx=p.oa.extend({zb:null,Ke:0,ln:0,Qb:function(){return this.zb},Og:function(a){this.zb=a},YP:function(){return this.Ke},Rr:function(a){this.Ke=a},HP:function(){return this.ln},wT:function(a){this.ln=a},sj:function(a,c){this.zb=a;this.Ke=c}});p.kx.create=function(a,c){var d=new p.kx;d.sj(a,c);return d};
p.sd=p.oa.extend({Zi:!1,Gu:!1,cf:null,Mi:!1,s:function(){this.Mi=!0;this.cf=[];this.Gu=this.Zi=!1;p.sd.NM();return!0},wq:function(a){this.Zi=a},UL:function(){return this.Zi},RE:function(a){this.Gu=a},sY:function(){return this.Gu},zF:function(a,c){var d=p.kx.create(a,c);this.cf=this.fo(d,this.cf)},fo:function(a,c){for(var d=0,e=0;e<c.length;e++){var f=c[e];if(f&&(f.Ke<a.Ke&&++d,f.Qb()==a.Qb()))return p.log("cc.MouseDispatcher.forceAddHandler(): handler has been added."),c}return p.Mk(c,a,d)},AH:function(a){if(null!=
a)for(var c=0;c<this.cf.length;c++){var d=this.cf[c];if(d&&d.Qb()==a){p.od(this.cf,d);break}}},SL:function(a){for(var c=0;c<this.cf.length;c++)if(this.cf[c]&&this.cf[c].Qb()==a)return this.cf[c];return null},Rr:function(a,c){if(!c)throw"cc.MouseDispatcher.setPriority(): delegate should be non-null";var d=this.SL(c);d?d.Ke!=a&&(d.Rr(a),this.cf.sort(p.TG)):p.log("cc.MouseDispatcher.setPriority(): Can't find MouseHandler in array")},n6:function(){this.cf.length=0},dm:function(a,c,d){for(c=0;c<this.cf.length;c++){var e=
this.cf[c];switch(d){case p.VC:this.Zi||this.Gu||!e.Qb().xh||e.Qb().xh(a)}}}});p.sd.Bu=p.a(0,0);p.sd.pM=!1;
p.sd.NM=function(){var a=p.canvas;function c(c){var e=p.ki(a),f=c.pageX,g=c.pageY,h=p.da.d(),f=(f-e.left)/h.ha,e=(e.height-(g-e.top))/h.ma,g=new p.gK(f,e);g.hf(p.sd.Bu.x,p.sd.Bu.y);g.iT(c.button);p.sd.Bu.x=f;p.sd.Bu.y=e;return g}p.sd.pM||(window.addEventListener("mousedown",function(a){a.button==p.WC?p.M.d().Re().RE(!0):p.M.d().Re().wq(!0)}),window.addEventListener("mouseup",function(a){a.button==p.WC?p.M.d().Re().RE(!1):p.M.d().Re().wq(!1)}),a.addEventListener("mousedown",function(a){p.M.d().Re().dm(c(a),
a,p.bK)}),a.addEventListener("mouseup",function(a){p.M.d().Re().dm(c(a),a,p.fK)}),a.addEventListener("mousemove",function(a){p.M.d().Re().dm(c(a),a,p.VC)}),a.addEventListener("mousewheel",function(a){var e=c(a);e.uI(a.wheelDelta);p.M.d().Re().dm(e,a,p.mD)},!1),a.addEventListener("DOMMouseScroll",function(a){var e=c(a);e.uI(-120*a.detail);p.M.d().Re().dm(e,a,p.mD)}),a.addEventListener("mouseout",function(a){p.M.d().Re().dm(c(a),a,p.dK)},!1),a.addEventListener("mouseover",function(a){p.M.d().Re().dm(c(a),
a,p.cK)},!1))};p.U9=function(){return{x:0,y:0}};p.Ik=function(a,c){return{x:a,y:c}};p.dg=function(a,c){return p.Ik(a.x+c.x,a.y+c.y)};p.Oc=function(a,c){return p.Ik(a.x-c.x,a.y-c.y)};p.vf=function(a,c){return p.Ik(a.x*c,a.y*c)};p.Jw=function(a){return p.Ik(-a.y,a.x)};p.wi=function(a){return p.Ik(-a.x,-a.y)};p.PU=function(a,c){return a.x*c.x+a.y*c.y};p.T9=function(a){return p.Ik(Math.cos(a),Math.sin(a))};p.oC=function(a){a=p.Ng(p.a(a.x,a.y));return p.Ik(a.x,a.y)};p.Lh=function(a){return p.Ik(a.x,a.y)};
p.hb=function(a){return{Ca:a.x,W:a.y}};
p.wJ=p.H.extend({Oa:null,R:null,hr:function(){return this.R},Ck:function(a){this.R=a},ctor:function(){p.H.prototype.ctor.call(this);this.Oa=[];this.R=new p.Ok(p.$d,p.Zd)},Ia:function(a){a=a||p.L;var c=p.da.d().ha;this.R&&770==this.R.src&&1==this.R.lb&&(a.globalCompositeOperation="lighter");for(var d=0;d<this.Oa.length;d++){var e=this.Oa[d];e.type===p.gg.vD&&(a.fillStyle="rgba("+(0|255*e.color.i)+","+(0|255*e.color.h)+","+(0|255*e.color.f)+","+e.color.B+")",p.nf.KA(e.position,e.DB));e.type===p.gg.xD&&
(a.strokeStyle="rgba("+(0|255*e.color.i)+","+(0|255*e.color.h)+","+(0|255*e.color.f)+","+e.color.B+")",a.lineWidth=2*e.DB*c,a.lineCap="round",p.nf.oh(e.Vl,e.Hk));e.type===p.gg.wD&&(a.fillStyle="rgba("+(0|255*e.fillColor.i)+","+(0|255*e.fillColor.h)+","+(0|255*e.fillColor.f)+","+e.fillColor.B+")",p.nf.Hd(e.qC,e.count,!1,!0),a.lineWidth=2*e.borderWidth*c,a.lineCap="round",a.strokeStyle="rgba("+(0|255*e.borderColor.i)+","+(0|255*e.borderColor.h)+","+(0|255*e.borderColor.f)+","+e.borderColor.B+")",p.nf.Hd(e.qC,
e.count,!0,!1))}},kP:function(a,c,d){var e=new p.Mx(p.gg.vD);e.position=a;e.DB=c;e.color=d;this.Oa.push(e)},oP:function(a,c,d,e){var f=new p.Mx(p.gg.xD);f.Vl=a;f.Hk=c;f.DB=d;f.color=e;this.Oa.push(f)},Hd:function(a,c,d,e){var f=new p.Mx(p.gg.wD);f.qC=a;f.count=a.length;f.fillColor=c;f.borderWidth=d;f.borderColor=e;this.Oa.push(f)},clear:function(){this.Oa.length=0}});
p.xJ=p.H.extend({Xm:0,Oa:null,qk:null,fF:null,eF:null,R:null,ta:!1,hr:function(){return this.R},Ck:function(a){this.R=a},ctor:function(){p.H.prototype.ctor.call(this);this.Oa=[];this.R=new p.Ok(p.$d,p.Zd)},s:function(){return p.H.prototype.s.call(this)?(this.ag(p.Vg.d().zh(p.nX)),this.Gy(512),this.fF=p.L.createBuffer(),this.ta=!0):!1},YM:function(){var a=p.L;p.Od(p.qt);a.bindBuffer(a.ARRAY_BUFFER,this.fF);this.ta&&(a.bufferData(a.ARRAY_BUFFER,this.qk,a.STREAM_DRAW),this.ta=!1);var c=p.xb.BYTES_PER_ELEMENT;
a.vertexAttribPointer(p.ce,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.kp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.lp,2,a.FLOAT,!1,c,12);a.drawArrays(a.TRIANGLES,0,3*this.Oa.length);p.Tg()},Gy:function(a){if(this.Oa.length+a>this.Xm){var c=p.hc.BYTES_PER_ELEMENT;this.Xm+=Math.max(this.Xm,a);if(null==this.Oa||0===this.Oa.length)this.Oa=[],this.qk=new ArrayBuffer(c*this.Xm),this.eF=new Uint8Array(this.qk);else{a=[];for(var d=new ArrayBuffer(c*this.Xm),e=0;e<this.Oa.length;e++)a[e]=new p.hc(this.Oa[e].B,
this.Oa[e].f,this.Oa[e].na,d,e*c);this.eF=new Uint8Array(d);this.Oa=a;this.qk=d}}},Ia:function(){p.rj(this.R.src,this.R.lb);this.lc.Ce();this.lc.pI();this.YM()},kP:function(a,c,d){d={i:0|255*d.i,h:0|255*d.h,f:0|255*d.f,B:0|255*d.B};var e={l:{x:a.x-c,y:a.y-c},C:d,q:{Ca:-1,W:-1}},f={l:{x:a.x+c,y:a.y+c},C:d,q:{Ca:1,W:1}},g={l:{x:a.x+c,y:a.y-c},C:d,q:{Ca:1,W:-1}};this.Oa.push(new p.hc(e,{l:{x:a.x-c,y:a.y+c},C:d,q:{Ca:-1,W:1}},f,this.qk,this.Oa.length*p.hc.BYTES_PER_ELEMENT));this.Oa.push(new p.hc(e,f,
g,this.qk,this.Oa.length*p.hc.BYTES_PER_ELEMENT));this.ta=!0},oP:function(a,c,d,e){this.Gy(18);e={i:0|255*e.i,h:0|255*e.h,f:0|255*e.f,B:0|255*e.B};var f=p.Lh(a);c=p.Lh(c);a=p.oC(p.Jw(p.Oc(c,f)));var g=p.Jw(a),h=p.vf(a,d);d=p.vf(g,d);var k=p.dg(c,p.Oc(h,d)),l=p.Oc(c,h),m=p.dg(c,h),n=p.Oc(f,h),r=p.dg(f,h),q=p.Oc(f,p.Oc(h,d)),f=p.dg(f,p.dg(h,d)),t=p.hc.BYTES_PER_ELEMENT,y=this.qk;this.Oa.push(new p.hc({l:p.Oc(c,p.dg(h,d)),C:e,q:p.hb(p.wi(p.dg(a,g)))},{l:k,C:e,q:p.hb(p.Oc(a,g))},{l:l,C:e,q:p.hb(p.wi(a))},
y,this.Oa.length*t));this.Oa.push(new p.hc({l:m,C:e,q:p.hb(a)},{l:k,C:e,q:p.hb(p.Oc(a,g))},{l:l,C:e,q:p.hb(p.wi(a))},y,this.Oa.length*t));this.Oa.push(new p.hc({l:m,C:e,q:p.hb(a)},{l:n,C:e,q:p.hb(p.wi(a))},{l:l,C:e,q:p.hb(p.wi(a))},y,this.Oa.length*t));this.Oa.push(new p.hc({l:m,C:e,q:p.hb(a)},{l:n,C:e,q:p.hb(p.wi(a))},{l:r,C:e,q:p.hb(a)},y,this.Oa.length*t));this.Oa.push(new p.hc({l:q,C:e,q:p.hb(p.Oc(g,a))},{l:n,C:e,q:p.hb(p.wi(a))},{l:r,C:e,q:p.hb(a)},y,this.Oa.length*t));this.Oa.push(new p.hc({l:q,
C:e,q:p.hb(p.Oc(g,a))},{l:f,C:e,q:p.hb(p.dg(a,g))},{l:r,C:e,q:p.hb(a)},y,this.Oa.length*t));this.ta=!0},Hd:function(a,c,d,e){c={i:0|255*c.i,h:0|255*c.h,f:0|255*c.f,B:0|255*c.B};e={i:0|255*e.i,h:0|255*e.h,f:0|255*e.f,B:0|255*e.B};var f=[],g,h,k,l,m=a.length;for(g=0;g<m;g++){h=p.Lh(a[(g-1+m)%m]);k=p.Lh(a[g]);l=p.Lh(a[(g+1)%m]);var n=p.oC(p.Jw(p.Oc(k,h)));k=p.oC(p.Jw(p.Oc(l,k)));f[g]={offset:p.vf(p.dg(n,k),1/(p.PU(n,k)+1)),$G:k}}n=0<d;this.Gy(3*(3*m-2));var r=p.hc.BYTES_PER_ELEMENT,q=this.qk,t=this.Oa,
y=!1==n?0.5:0;for(g=0;g<m-2;g++)h=p.Oc(p.Lh(a[0]),p.vf(f[0].offset,y)),k=p.Oc(p.Lh(a[g+1]),p.vf(f[g+1].offset,y)),l=p.Oc(p.Lh(a[g+2]),p.vf(f[g+2].offset,y)),t.push(new p.hc({l:h,C:c,q:p.hb({x:0,y:0})},{l:k,C:c,q:p.hb({x:0,y:0})},{l:l,C:c,q:p.hb({x:0,y:0})},q,t.length*r));for(g=0;g<m;g++){y=(g+1)%m;h=p.Lh(a[g]);k=p.Lh(a[y]);l=f[g].$G;var A=f[g].offset,E=f[y].offset,y=n?p.Oc(h,p.vf(A,d)):p.Oc(h,p.vf(A,0.5)),J=n?p.Oc(k,p.vf(E,d)):p.Oc(k,p.vf(E,0.5));h=n?p.dg(h,p.vf(A,d)):p.dg(h,p.vf(A,0.5));k=n?p.dg(k,
p.vf(E,d)):p.dg(k,p.vf(E,0.5));n?(t.push(new p.hc({l:y,C:e,q:p.hb(p.wi(l))},{l:J,C:e,q:p.hb(p.wi(l))},{l:k,C:e,q:p.hb(l)},q,t.length*r)),t.push(new p.hc({l:y,C:e,q:p.hb(p.wi(l))},{l:h,C:e,q:p.hb(l)},{l:k,C:e,q:p.hb(l)},q,t.length*r))):(t.push(new p.hc({l:y,C:c,q:p.hb({x:0,y:0})},{l:J,C:c,q:p.hb({x:0,y:0})},{l:k,C:c,q:p.hb(l)},q,t.length*r)),t.push(new p.hc({l:y,C:c,q:p.hb({x:0,y:0})},{l:h,C:c,q:p.hb(l)},{l:k,C:c,q:p.hb(l)},q,t.length*r)))}this.ta=!0},clear:function(){this.Oa.length=0;this.ta=!0}});
p.gg=p.qa.oc?p.xJ:p.wJ;p.gg.create=function(){var a=new p.gg;return a&&a.s()?a:null};p.Mx=function(a){this.type=a};p.gg.vD=0;p.gg.xD=1;p.gg.wD=2;p.Vr=-1;p.eI=function(a,c){a.ag(c);var d=a.n;if(d)for(var e=0;e<d.length;e++)p.eI(d[e],c)};
p.Va=p.H.extend({Wb:null,Xk:0,Yh:!1,hE:!1,ctor:function(){p.H.prototype.ctor.call(this);this.Wb=null;this.Xk=0;this.Yh=!1},s:null,Wy:function(a){this.Wb=a;this.Xk=1;this.Yh=!1;p.Va.Zy=!0;p.Va.Zy&&(p.Vr=p.L.getParameter(p.L.STENCIL_BITS),0>=p.Vr&&p.log("Stencil buffer is not enabled."),p.Va.Zy=!1);return!0},Vy:function(a){this.Wb=a;this.Xk=1;this.Yh=!1},Xf:function(){p.H.prototype.Xf.call(this);this.Wb.Xf()},wh:function(){p.H.prototype.wh.call(this);this.Wb.wh()},Mg:function(){this.Wb.Mg();p.H.prototype.Mg.call(this)},
ld:function(){this.Wb.ld();p.H.prototype.ld.call(this)},ca:null,Kl:function(a){var c=a||p.L;if(1>p.Vr)p.H.prototype.ca.call(this,a);else if(this.Wb&&this.Wb.ra)if(p.Va.gq=-1,p.Va.gq+1==p.Vr)p.Va.oA=!0,p.Va.oA&&(p.log("Nesting more than "+p.Vr+"stencils is not supported. Everything will be drawn without stencil for this node and its childs."),p.Va.oA=!1),p.H.prototype.ca.call(this,a);else{p.Va.gq++;var d=1<<p.Va.gq,e=d|d-1,f=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_WRITEMASK),h=c.getParameter(c.STENCIL_FUNC),
k=c.getParameter(c.STENCIL_REF),l=c.getParameter(c.STENCIL_VALUE_MASK),m=c.getParameter(c.STENCIL_FAIL),n=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL),r=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);c.enable(c.STENCIL_TEST);c.stencilMask(d);var q=c.getParameter(c.DEPTH_WRITEMASK);c.depthMask(!1);c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Yh?c.REPLACE:c.ZERO,c.KEEP,c.KEEP);p.nf.LA(p.Ci(),p.QR(),p.nv(1,1,1,1));c.stencilFunc(c.NEVER,d,d);c.stencilOp(this.Yh?c.ZERO:c.REPLACE,c.KEEP,c.KEEP);if(1>this.Xk){var d=
p.Vg.d().zh(p.pX),t=c.getUniformLocation(d.Fv(),p.KX);p.r3(d.Fv());d.oI(t,this.Xk);p.eI(this.Wb,d)}p.wo();this.transform();this.Wb.ca();p.vo();c.depthMask(q);c.stencilFunc(c.EQUAL,e,e);c.stencilOp(c.KEEP,c.KEEP,c.KEEP);p.H.prototype.ca.call(this,a);c.stencilFunc(h,k,l);c.stencilOp(m,n,r);c.stencilMask(g);f||c.disable(c.STENCIL_TEST);p.Va.gq--}else this.Yh&&p.H.prototype.ca.call(this,a)},Jl:function(a){if(this.Wb&&this.Wb.ra){if(this.fy()||this.Wb instanceof p.w){a=a||p.L;var c=a.canvas,d=p.Va.XL();
d.width=c.width;d.height=c.height;d.getContext("2d").drawImage(c,0,0);a.save();this._super(a);a.globalCompositeOperation=this.Yh?"destination-out":"destination-in";this.transform(a);this.Wb.ca();a.restore();a.save();a.setTransform(1,0,0,1,0,0);a.globalCompositeOperation="destination-over";a.drawImage(d,0,0)}else{a=a||p.L;var d=this.n,e;a.save();this.transform(a);this.Wb.ca(a);a.clip();this.fy(!0);var f=d.length;if(0<f){this.md();for(c=0;c<f;c++)if(e=d[c],0>e.Pa)e.ca(a);else break;for(this.Ia(a);c<
f;c++)d[c].ca(a)}else this.Ia(a);this.fy(!1)}a.restore()}else this.Yh&&p.H.prototype.ca.call(this,a)},I2:function(){return this.Wb},ZB:null,CN:function(a){this.Wb=a},BN:function(a){this.Wb=a;var c=p.da.d().ha,d=p.da.d().ma,e=p.L;!(a instanceof p.w)&&a instanceof p.gg&&(a.Ia=function(){for(var f=0;f<a.Oa.length;f++){var g=a.Oa[f].qC,h=g[0];e.beginPath();e.moveTo(h.x*c,-h.y*d);for(var h=1,k=g.length;h<k;h++)e.lineTo(g[h].x*c,-g[h].y*d)}})},P_:function(){return this.Xk},R6:function(a){this.Xk=a},b4:function(){return this.Yh},
F7:function(a){this.Yh=a},fy:function(a){if(!0===a||!1===a)p.Va.prototype.hE=a;return p.Va.prototype.hE}});p.qa.oc?(p.Va.prototype.s=p.Va.prototype.Wy,p.Va.prototype.ca=p.Va.prototype.Kl,p.Va.prototype.ZB=p.Va.prototype.CN):(p.Va.prototype.s=p.Va.prototype.Vy,p.Va.prototype.ca=p.Va.prototype.Jl,p.Va.prototype.ZB=p.Va.prototype.BN);p.Va.Zy=null;p.Va.oA=null;p.Va.gq=null;p.Va.XE=null;p.Va.XL=function(){return p.Va.XE||(p.Va.XE=document.createElement("canvas"))};
p.Va.create=function(a){var c=new p.Va;c.s(a);return c};p.kW=0;p.lW=1;p.mW=2;p.Hm=function(a){a-=1;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};
p.fb=p.H.extend({Ym:null,Zm:null,Ut:0,Ip:0,xu:0,pa:null,Kq:null,TN:null,ff:p.Ei,Wa:null,Ht:0,Ki:null,ly:0,my:0,sp:!1,ky:null,ctor:null,Wg:function(){p.H.prototype.ctor.call(this);this.Ki=p.nv(1,1,1,1);this.ky="rgba(255,255,255,1)";this.Ym=document.createElement("canvas");this.Zm=this.Ym.getContext("2d");this.la(0,0)},Xg:function(){p.H.prototype.ctor.call(this);this.Ki=p.nv(0,0,0,0)},mf:null,wL:function(){p.H.prototype.ld.call(this);this.Ym=this.Zm=null},xL:function(){p.H.prototype.ld.call(this);this.Kq=
null;var a=p.L;a.deleteFramebuffer(this.Ut);this.Ip&&a.deleteRenderbuffer(this.Ip);this.TN=null},gQ:function(){return this.Wa},Sr:function(a){this.Wa=a},iB:null,hM:function(a,c){var d=this.Ym,e=p.$c();d.width=0|a*e;d.height=0|c*e;this.Zm.translate(0,d.height);e=new p.Fb;e.Te(d);e.Td();this.Wa=p.w.Fd(e);return!0},iM:function(a,c,d,e){d==p.fp&&p.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var f=p.L,g=p.$c();a=0|a*g;c=0|c*g;this.xu=
f.getParameter(f.FRAMEBUFFER_BINDING);var h;p.ae.d().Hq?(g=a,h=c):(g=p.Hm(a),h=p.Hm(c));for(var k=new Uint8Array(g*h*4),l=0;l<g*h*4;l++)k[l]=0;this.ff=d;this.pa=new p.Fb;if(!this.pa)return!1;l=this.pa;l.Iv(k,this.ff,g,h,p.size(a,c));d=f.getParameter(f.RENDERBUFFER_BINDING);if(p.ae.d().ao("GL_QCOM")){this.Kq=new p.Fb;if(!this.Kq)return!1;this.Kq.Iv(k,this.ff,g,h,p.size(a,c))}this.Ut=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Ut);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,l.mh,0);0!=e&&(this.Ip=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Ip),f.renderbufferStorage(f.RENDERBUFFER,e,g,h),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Ip));f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&p.log("Could not attach texture to the framebuffer");l.JH();a=this.Wa=p.w.Fd(l);a.vm(-1);a.Ck(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.bindRenderbuffer(f.RENDERBUFFER,d);f.bindFramebuffer(f.FRAMEBUFFER,this.xu);this.sp=
!1;this.t(a);return!0},kj:null,mL:function(){p.L=this.Zm;p.da.d().yN()},nL:function(){p.am(p.Qs);p.wo();p.am(p.Ps);p.wo();var a=p.M.d();a.mw(a.jk);var c=this.pa.fa,d=p.M.d().nQ(),a=d.width/c.width,d=d.height/c.height,e=p.L;e.viewport(0,0,c.width,c.height);c=new p.Ig;p.mR(c,-1/a,1/a,-1/d,1/d,-1,1);p.Nv(c);this.xu=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,this.Ut);p.ae.d().ao("GL_QCOM")&&(e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.Kq.mh,0),
e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.pa.mh,0))},xA:function(a,c,d,e,f,g){var h=p.L;f=f||h.COLOR_BUFFER_BIT;g=g||h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT;this.cy(a,c,d,e,f,g,h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT)},cy:null,oL:function(a,c,d,e){this.kj();a=a||0;c=c||0;d=d||0;e=isNaN(e)?1:e;var f=this.Zm,g=this.Ym;f.save();f.fillStyle="rgba("+(0|255*a)+","+(0|255*c)+","+(0|255*d)+","+e+")";f.clearRect(0,
0,g.width,-g.height);f.fillRect(0,0,g.width,-g.height);f.restore()},pL:function(a,c,d,e,f,g,h){this.kj();var k=p.L,l=[0,0,0,0],m=0,n=0;h&k.COLOR_BUFFER_BIT&&(l=k.getParameter(k.COLOR_CLEAR_VALUE),k.clearColor(a,c,d,e));h&k.DEPTH_BUFFER_BIT&&(m=k.getParameter(k.DEPTH_CLEAR_VALUE),k.clearDepth(f));h&k.STENCIL_BUFFER_BIT&&(n=k.getParameter(k.STENCIL_CLEAR_VALUE),k.clearStencil(g));k.clear(h);h&k.COLOR_BUFFER_BIT&&k.clearColor(l[0],l[1],l[2],l[3]);h&k.DEPTH_BUFFER_BIT&&k.clearDepth(m);h&k.STENCIL_BUFFER_BIT&&
k.clearStencil(n)},end:null,QL:function(){p.L=p.sR;p.da.d().aN()},RL:function(){var a=p.L,c=p.M.d();a.bindFramebuffer(a.FRAMEBUFFER,this.xu);c.sI();p.am(p.Qs);p.vo();p.am(p.Ps);p.vo()},clear:function(a,c,d,e){this.xA(a,c,d,e);this.end()},clearRect:null,BL:function(a,c,d,e){this.Zm.clearRect(a,c,d,-e)},CL:function(){},clearDepth:null,zL:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},AL:function(a){this.kj();var c=p.L,d=c.getParameter(c.DEPTH_CLEAR_VALUE);c.clearDepth(a);c.clear(c.DEPTH_BUFFER_BIT);
c.clearDepth(d);this.end()},clearStencil:null,DL:function(){p.log("clearDepth isn't supported on Cocos2d-Html5")},EL:function(a){var c=p.L,d=c.getParameter(c.STENCIL_CLEAR_VALUE);c.clearStencil(a);c.clear(c.STENCIL_BUFFER_BIT);c.clearStencil(d)},ca:null,Jl:function(a){this.ra&&(a=a||p.L,a.save(),this.Ia(a),this.transform(a),this.Wa.ca(),a.restore(),this.ef=0)},Kl:function(a){if(this.ra){p.wo();var c=this.Yj;c&&c.ro()&&(c.wA(),this.Gw());this.transform(a);this.Wa.ca();this.Ia(a);c&&c.ro()&&c.tA(this);
p.vo();this.ef=0}},Ia:null,dl:function(a){a=a||p.L;if(this.sp){this.kj();if(this.Ht){var c=this.Ym;a.save();a.fillStyle=this.ky;a.clearRect(0,0,c.width,-c.height);a.fillRect(0,0,c.width,-c.height);a.restore()}this.md();a=this.n;for(var c=a.length,d=this.Wa,e=0;e<c;e++){var f=a[e];f!=d&&f.ca()}this.end()}},Ff:function(){var a=p.L;if(this.sp){this.kj();var c=this.Ht;if(c){var d=[0,0,0,0],e=0,f=0;c&a.COLOR_BUFFER_BIT&&(d=a.getParameter(a.COLOR_CLEAR_VALUE),a.clearColor(this.Ki.i,this.Ki.h,this.Ki.f,
this.Ki.B));c&a.DEPTH_BUFFER_BIT&&(e=a.getParameter(a.DEPTH_CLEAR_VALUE),a.clearDepth(this.ly));c&a.STENCIL_BUFFER_BIT&&(f=a.getParameter(a.STENCIL_CLEAR_VALUE),a.clearStencil(this.my));a.clear(c);c&a.COLOR_BUFFER_BIT&&a.clearColor(d[0],d[1],d[2],d[3]);c&a.DEPTH_BUFFER_BIT&&a.clearDepth(e);c&a.STENCIL_BUFFER_BIT&&a.clearStencil(f)}this.md();a=this.n;for(c=0;c<a.length;c++)d=a[c],d!=this.Wa&&d.ca();this.end()}},aH:null,zM:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");return null},
AM:function(){p.log("saveToFile isn't supported on Cocos2d-Html5");p.js(this.ff==p.Ei,"only RGBA8888 can be saved as image");if(!this.pa)return null;var a=this.pa.fa,c=a.width,a=a.height,d=new p.JJ,e=p.L,f=new Uint8Array(c*a*4);if(!f)return d;var g=new Uint8Array(c*a*4);if(!g)return null;this.kj();e.pixelStorei(e.PACK_ALIGNMENT,1);e.readPixels(0,0,c,a,e.RGBA,e.UNSIGNED_BYTE,g);this.end();for(e=0;e<a;++e)this.xM(f,e*c*4,g,(a-e-1)*c*4,4*c);d.E3(f,c*a*4,p.eW,c,a,8);return d},xM:function(a,c,d,e,f){for(var g=
0;g<f;g++)a[c+g]=d[e+g]},K6:function(){p.log("saveToFile isn't supported on Cocos2d-Html5")},L4:function(){p.log("listenToBackground isn't supported on Cocos2d-Html5")},M4:function(){p.log("listenToForeground isn't supported on Cocos2d-Html5")},m0:function(){return this.Ht},a7:function(a){this.Ht=a},k0:function(){return this.Ki},PH:null,iN:function(a){var c=this.Ki;c.i=a.i;c.h=a.h;c.f=a.f;c.B=a.B;this.ky="rgba("+(0|255*a.i)+","+(0|255*a.h)+","+(0|255*a.f)+","+a.B+")"},jN:function(a){var c=this.Ki;
c.i=a.i;c.h=a.h;c.f=a.f;c.B=a.B},l0:function(){return this.ly},Z6:function(a){this.ly=a},n0:function(){return this.my},b7:function(a){this.my=a},N3:function(){return this.sp},T6:function(a){this.sp=a}});
p.qa.oc?(b=p.fb.prototype,b.ctor=p.fb.prototype.Xg,b.mf=p.fb.prototype.xL,b.iB=p.fb.prototype.iM,b.kj=p.fb.prototype.nL,b.cy=p.fb.prototype.pL,b.end=p.fb.prototype.RL,b.clearRect=p.fb.prototype.CL,b.clearDepth=p.fb.prototype.AL,b.clearStencil=p.fb.prototype.EL,b.ca=p.fb.prototype.Kl,b.Ia=p.fb.prototype.Ff,b.aH=p.fb.prototype.AM,b.PH=p.fb.prototype.jN):(b=p.fb.prototype,b.ctor=p.fb.prototype.Wg,b.mf=p.fb.prototype.wL,b.iB=p.fb.prototype.hM,b.kj=p.fb.prototype.mL,b.cy=p.fb.prototype.oL,b.end=p.fb.prototype.QL,
b.clearRect=p.fb.prototype.BL,b.clearDepth=p.fb.prototype.zL,b.clearStencil=p.fb.prototype.DL,b.ca=p.fb.prototype.Jl,b.Ia=p.fb.prototype.dl,b.aH=p.fb.prototype.zM,b.PH=p.fb.prototype.iN);p.fb.create=function(a,c,d,e){d=d||p.Ei;e=e||0;var f=new p.fb;return f&&f.iB(a,c,d,e)?f:null};p.Bm=-1;
p.Zc=p.oa.extend({pl:null,K:null,Kc:p.Bm,ctor:function(){this.K=this.pl=null;this.Kc=p.Bm},description:function(){return"\x3ccc.Action | Tag \x3d "+this.Kc+"\x3e"},copy:function(){return p.v(this)},v:function(){var a=new p.Zc;a.pl=null;a.K=null;a.Kc=this.Kc;return a},sh:function(){return!0},N:function(a){this.K=this.pl=a},stop:function(){this.K=null},step:function(){p.log("[Action step]. override me")},update:function(){p.log("[Action update]. override me")},jQ:function(){return this.K},F8:function(a){this.K=a},
Q1:function(){return this.pl},a8:function(a){this.pl=a},iQ:function(){return this.Kc},mI:function(a){this.Kc=a},FH:function(){},GB:function(){}});p.Zc.create=function(){return new p.Zc};p.Bi=p.Zc.extend({ja:0,ctor:function(){p.Zc.prototype.ctor.call(this);this.ja=0},Qe:function(){return this.ja},n7:function(a){this.ja=a},reverse:function(){p.log("cocos2d: FiniteTimeAction#reverse: Implement me");return null},v:function(){return new p.Bi}});
p.gt=p.Zc.extend({yl:0,ib:null,ctor:function(){p.Zc.prototype.ctor.call(this);this.yl=0;this.ib=null},B2:function(){return this.yl},y8:function(a){this.yl=a},Y:function(a,c){if(!a)throw"cc.Speed.initWithAction(): action must be non nil";this.ib=a;this.yl=c;return!0},v:function(){var a=new p.gt;a.Y(this.ib.v(),this.yl);return a},N:function(a){p.Zc.prototype.N.call(this,a);this.ib.N(a)},stop:function(){this.ib.stop();p.Zc.prototype.stop.call(this)},step:function(a){this.ib.step(a*this.yl)},sh:function(){return this.ib.sh()},
reverse:function(){return p.gt.create(this.ib.reverse(),this.yl)},$H:function(a){this.ib!=a&&(this.ib=a)},QA:function(){return this.ib}});p.gt.create=function(a,c){var d=new p.gt;return d&&d.Y(a,c)?d:null};
p.dx=p.Zc.extend({qn:null,Vm:!1,Ct:!1,$t:null,Xp:null,bm:0,sm:0,ym:0,Rl:0,qA:null,ctor:function(){p.Zc.prototype.ctor.call(this);this.qn=null;this.Ct=this.Vm=!1;this.Xp=this.$t=null;this.Rl=this.ym=this.sm=this.bm=0;this.qA=p.Dc()},v:function(){var a=new p.dx,c=this.qA,c=new p.zf(c.x,c.y,c.width,c.height);a.Vf(this.qn,c);return a},P3:function(){return this.Vm},V6:function(a){this.Vm=a},Vf:function(a,c){if(!a)throw"cc.Follow.initWithAction(): followedNode must be non nil";c=c||p.Dc();this.qn=a;this.qA=
c;this.Vm=!p.sq(c);this.Ct=!1;var d=p.M.d().ub;this.Xp=p.a(d.width,d.height);this.$t=p.ui(this.Xp,0.5);this.Vm&&(this.bm=-(c.x+c.width-this.Xp.x),this.sm=-c.x,this.ym=-c.y,this.Rl=-(c.y+c.height-this.Xp.y),this.sm<this.bm&&(this.sm=this.bm=(this.bm+this.sm)/2),this.ym<this.Rl&&(this.ym=this.Rl=(this.ym+this.Rl)/2),this.ym==this.Rl&&this.bm==this.sm&&(this.Ct=!0));return!0},step:function(){var a=this.qn.p.A,c=this.qn.p.I,a=this.$t.x-a,c=this.$t.y-c;this.Vm?this.Ct||this.K.F(p.$q(a,this.bm,this.sm),
p.$q(c,this.Rl,this.ym)):this.K.F(a,c)},sh:function(){return!this.qn.ke},stop:function(){this.K=null;p.Zc.prototype.stop.call(this)}});p.dx.create=function(a,c){c=c||new p.Dc;var d=new p.dx;return null!=c&&d&&d.Vf(a,c)||d&&d.Vf(a)?d:null};p.J=p.Bi.extend({Mb:0,Wp:!1,ctor:function(){p.Bi.prototype.ctor.call(this);this.Mb=0;this.Wp=!1},D0:function(){return this.Mb},G:function(a){this.ja=0===a?p.Js:a;this.Mb=0;return this.Wp=!0},sh:function(){return this.Mb>=this.ja},v:function(){var a=new p.J;a.G(this.ja);return a},step:function(a){this.Wp?(this.Wp=!1,this.Mb=0):this.Mb+=a;a=this.Mb/(1.192092896E-7<this.ja?this.ja:1.192092896E-7);a=1>a?a:1;this.update(0<a?a:0)},N:function(a){p.Zc.prototype.N.call(this,a);this.Mb=0;this.Wp=!0},reverse:function(){p.log("cc.IntervalAction: reverse not implemented.");
return null},S6:function(){p.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},Q_:function(){p.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass.")}});p.J.create=function(a){var c=new p.J;c.G(a);return c};
p.Di=p.J.extend({Mh:null,Pz:null,An:0,ctor:function(){p.J.prototype.ctor.call(this);this.Mh=[];this.Pz=null;this.An=0},sr:function(a,c){if(!a||!c)throw"cc.Sequence.initWithTwoActions(): arguments must all be non nil";this.G(a.Qe()+c.Qe());this.Mh[0]=a;this.Mh[1]=c;return!0},v:function(){var a=new p.Di;a.sr(this.Mh[0].v(),this.Mh[1].v());return a},N:function(a){p.J.prototype.N.call(this,a);this.Pz=this.Mh[0].Qe()/this.ja;this.An=-1},stop:function(){-1!==this.An&&this.Mh[this.An].stop();p.Zc.prototype.stop.call(this)},
update:function(a){var c=0,d=this.Pz,e=this.Mh,f=this.An;a<d?(a=0!==d?a/d:1,0===c&&1===f&&(e[1].update(0),e[1].stop())):(c=1,a=1===d?1:(a-d)/(1-d),-1===f&&(e[0].N(this.K),e[0].update(1),e[0].stop()),f||(e[0].update(1),e[0].stop()));f===c&&e[c].sh()||(f!==c&&e[c].N(this.K),e[c].update(a),this.An=c)},reverse:function(){return p.Di.Vk(this.Mh[1].reverse(),this.Mh[0].reverse())},copy:function(){return this.v()}});
p.Di.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)c[e]&&(d=p.Di.Vk(d,c[e]));return d};p.Di.Vk=function(a,c){var d=new p.Di;d.sr(a,c);return d};
p.Xs=p.J.extend({jf:0,ej:0,uu:0,JD:!1,ib:null,ctor:function(){p.J.prototype.ctor.call(this);this.uu=this.ej=this.jf=0;this.JD=!1;this.ib=null},Y:function(a,c){return this.G(a.Qe()*c)?(this.jf=c,this.ib=a,a instanceof p.Eh&&(this.jf-=1),this.ej=0,!0):!1},v:function(){var a=new p.Xs;a.Y(this.ib.v(),this.jf);return a},N:function(a){this.ej=0;this.uu=this.ib.Qe()/this.ja;p.J.prototype.N.call(this,a);this.ib.N(a)},stop:function(){this.ib.stop();p.Zc.prototype.stop.call(this)},update:function(a){var c=
this.ib,d=this.ja,e=this.jf,f=this.uu;if(a>=f){for(;a>f&&this.ej<e;)c.update(1),this.ej++,c.stop(),c.N(this.K),this.uu=f+=c.Qe()/d;1<=a&&this.ej<e&&this.ej++;this.JD&&(this.ej==e?(c.update(1),c.stop()):c.update(a-(f-c.Qe()/d)))}else c.update(a*e%1)},sh:function(){return this.ej==this.jf},reverse:function(){return p.Xs.create(this.ib.reverse(),this.jf)},$H:function(a){this.ib!=a&&(this.ib=a)},QA:function(){return this.ib}});p.Xs.create=function(a,c){var d=new p.Xs;d.Y(a,c);return d};
p.Ys=p.J.extend({ib:null,ctor:function(){p.J.prototype.ctor.call(this);this.ib=null},Y:function(a){if(!a)throw"cc.RepeatForever.initWithAction(): action must be non null";this.ib=a;return!0},v:function(){var a=new p.Ys;a.Y(this.ib.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.ib.N(a)},step:function(a){var c=this.ib;c.step(a);c.sh()&&(c.N(this.K),c.step(c.Mb-c.Qe()))},sh:function(){return!1},reverse:function(){return p.Ys.create(this.ib.reverse())},$H:function(a){this.ib!=a&&(this.ib=
a)},QA:function(){return this.ib}});p.Ys.create=function(a){var c=new p.Ys;return c&&c.Y(a)?c:null};
p.ep=p.J.extend({$i:null,ij:null,ctor:function(){p.J.prototype.ctor.call(this);this.ij=this.$i=null},sr:function(a,c){if(!a||!c)throw"cc.Spawn.initWithTwoActions(): arguments must all be non null";var d=!1,e=a.Qe(),f=c.Qe();this.G(Math.max(e,f))&&(this.$i=a,this.ij=c,e>f?this.ij=p.Di.Vk(c,p.Dm.create(e-f)):e<f&&(this.$i=p.Di.Vk(a,p.Dm.create(f-e))),d=!0);return d},v:function(){var a=new p.ep;a.sr(this.$i.v(),this.ij.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.$i.N(a);this.ij.N(a)},
stop:function(){this.$i.stop();this.ij.stop();p.Zc.prototype.stop.call(this)},update:function(a){this.$i&&this.$i.update(a);this.ij&&this.ij.update(a)},reverse:function(){return p.ep.Vk(this.$i.reverse(),this.ij.reverse())}});p.ep.create=function(a){var c=a instanceof Array?a:arguments;0<c.length&&null==c[c.length-1]&&p.log("parameters should not be ending with null in Javascript");for(var d=c[0],e=1;e<c.length;e++)null!=c[e]&&(d=this.Vk(d,c[e]));return d};
p.ep.Vk=function(a,c){var d=new p.ep;d.sr(a,c);return d};
p.ux=p.J.extend({Lp:0,zl:0,xy:0,St:0,mk:0,yy:0,ctor:function(){p.J.prototype.ctor.call(this);this.yy=this.mk=this.St=this.xy=this.zl=this.Lp=0},G:function(a,c,d){return p.J.prototype.G.call(this,a)?(this.Lp=c||0,this.St=d||this.Lp,!0):!1},v:function(){var a=new p.ux;a.G(this.ja,this.Lp,this.St);return a},N:function(a){p.J.prototype.N.call(this,a);var c=a.Lf%360,d=this.Lp-c;180<d&&(d-=360);-180>d&&(d+=360);this.zl=c;this.xy=d;this.mk=a.eh%360;a=this.St-this.mk;180<a&&(a-=360);-180>a&&(a+=360);this.yy=
a},reverse:function(){p.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(a){this.K&&(this.K.pw(this.zl+this.xy*a),this.K.qw(this.mk+this.yy*a))}});p.ux.create=function(a,c,d){var e=new p.ux;e.G(a,c,d);return e};
p.$s=p.J.extend({Bf:0,zl:0,rp:0,mk:0,ctor:function(){p.J.prototype.ctor.call(this);this.mk=this.rp=this.zl=this.Bf=0},G:function(a,c,d){return p.J.prototype.G.call(this,a)?(this.Bf=c||0,this.rp=d||this.Bf,!0):!1},v:function(){var a=new p.$s;a.G(this.ja,this.Bf,this.rp);return a},N:function(a){p.J.prototype.N.call(this,a);this.zl=a.Lf;this.mk=a.eh},update:function(a){this.K&&(this.K.pw(this.zl+this.Bf*a),this.K.qw(this.mk+this.rp*a))},reverse:function(){return p.$s.create(this.ja,-this.Bf,-this.rp)}});
p.$s.create=function(a,c,d){var e=new p.$s;e.G(a,c,d);return e};
p.Hj=p.J.extend({ei:null,rc:null,qc:null,ctor:function(){p.J.prototype.ctor.call(this);this.ei=p.a(0,0);this.rc=p.a(0,0);this.qc=p.a(0,0)},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.ei.x=c.x,this.ei.y=c.y,!0):!1},v:function(){var a=new p.Hj;a.G(this.ja,this.ei);return a},N:function(a){p.J.prototype.N.call(this,a);var c=a.p.A;a=a.p.I;this.qc.x=c;this.qc.y=a;this.rc.x=c;this.rc.y=a},update:function(a){if(this.K){var c=this.ei.x*a;a*=this.ei.y;var d=this.rc;if(p.ns){var e=this.K.p.I,f=
this.qc;d.x=d.x+this.K.p.A-f.x;d.y=d.y+e-f.y;c+=d.x;a+=d.y;this.K.F(c,a);f.x=c;f.y=a}else this.K.F(d.x+c,d.y+a)}},reverse:function(){return p.Hj.create(this.ja,p.a(-this.ei.x,-this.ei.y))}});p.Hj.create=function(a,c){var d=new p.Hj;d.G(a,c);return d};
p.Ss=p.Hj.extend({pn:null,ctor:function(){p.Hj.prototype.ctor.call(this);this.pn=p.a(0,0)},G:function(a,c){return p.Hj.prototype.G.call(this,a,c)?(this.pn.x=c.x,this.pn.y=c.y,!0):!1},v:function(){var a=new p.Ss;a.G(this.ja,this.pn);return a},N:function(a){p.Hj.prototype.N.call(this,a);this.ei.x=this.pn.x-a.p.A;this.ei.y=this.pn.y-a.p.I}});p.Ss.create=function(a,c){var d=new p.Ss;d.G(a,c);return d};
p.Mm=p.J.extend({Dd:0,Ed:0,Dq:0,Eq:0,Qp:0,Rp:0,de:0,ee:0,ctor:function(){p.J.prototype.ctor.call(this);this.ee=this.de=this.Rp=this.Qp=this.Eq=this.Dq=this.Ed=this.Dd=0},G:function(a,c,d){var e=!1;p.J.prototype.G.call(this,a)&&(this.Qp=c,this.Rp=d,e=!0);return e},v:function(){var a=new p.Mm;a.G(this.ja,this.Qp,this.Rp);return a},N:function(a){p.J.prototype.N.call(this,a);this.Dq=a.Dd%180;this.de=this.Qp-this.Dq;180<this.de&&(this.de-=360);-180>this.de&&(this.de+=360);this.Eq=a.Ed%360;this.ee=this.Rp-
this.Eq;180<this.ee&&(this.ee-=360);-180>this.ee&&(this.ee+=360)},update:function(a){this.K.sw(this.Dq+this.de*a);this.K.tw(this.Eq+this.ee*a)}});p.Mm.create=function(a,c,d){var e=new p.Mm;e&&e.G(a,c,d);return e};
p.et=p.Mm.extend({G:function(a,c,d){var e=!1;p.Mm.prototype.G.call(this,a,c,d)&&(this.Dd=c,this.Ed=d,e=!0);return e},v:function(){var a=new p.et;a.G(this.ja,this.Dd,this.Ed);return a},N:function(a){p.Mm.prototype.N.call(this,a);this.de=this.Dd;this.ee=this.Ed;this.Qp=this.Dq+this.de;this.Rp=this.Eq+this.ee},reverse:function(){return p.et.create(this.ja,-this.Dd,-this.Ed)}});p.et.create=function(a,c,d){var e=new p.et;e&&e.G(a,c,d);return e};
p.Fm=p.J.extend({rc:null,Ef:null,ea:0,xn:0,qc:null,ctor:function(){p.J.prototype.ctor.call(this);this.rc=p.a(0,0);this.qc=p.a(0,0);this.Ef=p.a(0,0);this.xn=this.ea=0},G:function(a,c,d,e){return p.J.prototype.G.call(this,a)?(this.Ef.x=c.x,this.Ef.y=c.y,this.ea=d,this.xn=e,!0):!1},v:function(){var a=new p.Fm;a.G(this.ja,this.Ef,this.ea,this.xn);return a},N:function(a){p.J.prototype.N.call(this,a);var c=a.p.A;a=a.p.I;this.qc.x=c;this.qc.y=a;this.rc.x=c;this.rc.y=a},update:function(a){if(this.K){var c=
a*this.xn%1,c=4*this.ea*c*(1-c),c=c+this.Ef.y*a;a*=this.Ef.x;var d=this.rc;if(p.ns){var e=this.K.p.I,f=this.qc;d.x=d.x+this.K.p.A-f.x;d.y=d.y+e-f.y;a+=d.x;c+=d.y;this.K.F(a,c);f.x=a;f.y=c}else this.K.F(d.x+a,d.y+c)}},reverse:function(){return p.Fm.create(this.ja,p.a(-this.Ef.x,-this.Ef.y),this.ea,this.xn)}});p.Fm.create=function(a,c,d,e){var f=new p.Fm;f.G(a,c,d,e);return f};
p.gx=p.Fm.extend({N:function(a){p.Fm.prototype.N.call(this,a);this.Ef.x-=this.rc.x;this.Ef.y-=this.rc.y},v:function(){var a=new p.gx;a.G(this.ja,this.Ef,this.ea,this.xn);return a}});p.gx.create=function(a,c,d,e){var f=new p.gx;f.G(a,c,d,e);return f};p.FF=function(a,c,d,e){return 0*Math.pow(1-e,3)+3*e*Math.pow(1-e,2)*a+3*Math.pow(e,2)*(1-e)*c+Math.pow(e,3)*d};
p.Nk=p.J.extend({bl:null,rc:null,qc:null,ctor:function(){p.J.prototype.ctor.call(this);this.bl=[];this.rc=p.a(0,0);this.qc=p.a(0,0)},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.bl=c,!0):!1},v:function(){for(var a=new p.Nk,c=[],d=0;d<this.bl.length;d++){var e=this.bl[d];c.push(p.a(e.x,e.y))}a.G(this.ja,c);return a},N:function(a){p.J.prototype.N.call(this,a);var c=a.p.A;a=a.p.I;this.qc.x=c;this.qc.y=a;this.rc.x=c;this.rc.y=a},update:function(a){if(this.K){var c=this.bl,d=p.FF(c[0].x,c[1].x,
c[2].x,a);a=p.FF(c[0].y,c[1].y,c[2].y,a);c=this.rc;if(p.ns){var e=this.K.p.I,f=this.qc;c.x=c.x+this.K.p.A-f.x;c.y=c.y+e-f.y;d+=c.x;a+=c.y;this.K.F(d,a);f.x=d;f.y=a}else this.K.F(c.x+d,c.y+a)}},reverse:function(){var a=this.bl,a=[p.qf(a[1],p.xB(a[2])),p.qf(a[0],p.xB(a[2])),p.xB(a[2])];return p.Nk.create(this.ja,a)}});p.Nk.create=function(a,c){var d=new p.Nk;d.G(a,c);return d};
p.Qw=p.Nk.extend({Zu:null,ctor:function(){p.Nk.prototype.ctor.call(this);this.Zu=[]},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.Zu=c,!0):!1},v:function(){var a=new p.Qw;a.G(this.ja,this.Zu);return a},N:function(a){p.Nk.prototype.N.call(this,a);a=this.rc;var c=this.Zu,d=this.bl;d[0]=p.Xc(c[0],a);d[1]=p.Xc(c[1],a);d[2]=p.Xc(c[2],a)}});p.Qw.create=function(a,c){var d=new p.Qw;d.G(a,c);return d};
p.Lm=p.J.extend({ha:1,ma:1,Mn:1,Nn:1,el:0,fl:0,de:0,ee:0,ctor:function(){p.J.prototype.ctor.call(this);this.Nn=this.Mn=this.ma=this.ha=1;this.ee=this.de=this.fl=this.el=0},G:function(a,c,d){return p.J.prototype.G.call(this,a)?(this.el=c,this.fl=null!=d?d:c,!0):!1},v:function(){var a=new p.Lm;a.G(this.ja,this.el,this.fl);return a},N:function(a){p.J.prototype.N.call(this,a);this.Mn=a.ha;this.Nn=a.ma;this.de=this.el-this.Mn;this.ee=this.fl-this.Nn},update:function(a){this.K&&this.K.Bj(this.Mn+this.de*
a,this.Nn+this.ee*a)}});p.Lm.create=function(a,c,d){var e=new p.Lm;e.G(a,c,d);return e};p.ct=p.Lm.extend({N:function(a){p.Lm.prototype.N.call(this,a);this.de=this.Mn*this.el-this.Mn;this.ee=this.Nn*this.fl-this.Nn},reverse:function(){return p.ct.create(this.ja,1/this.el,1/this.fl)},v:function(){var a=new p.ct;a.G(this.ja,this.el,this.fl);return a}});p.ct.create=function(a,c,d){var e=new p.ct;e.G(a,c,d);return e};
p.ks=p.J.extend({jf:0,hz:!1,ctor:function(){p.J.prototype.ctor.call(this);this.jf=0;this.hz=!1},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.jf=c,!0):!1},v:function(){var a=new p.ks;a.G(this.ja,this.jf);return a},update:function(a){if(this.K&&!this.sh()){var c=1/this.jf;this.K.u(a%c>c/2)}},N:function(a){p.J.prototype.N.call(this,a);this.hz=a.ra},stop:function(){this.K.u(this.hz);p.J.prototype.stop.call(this)},reverse:function(){return p.ks.create(this.ja,this.jf)}});
p.ks.create=function(a,c){var d=new p.ks;d.G(a,c);return d};p.Ks=p.J.extend({update:function(a){this.K.Sa&&this.K.Z(255*a)},reverse:function(){return p.Ls.create(this.ja)},v:function(){var a=new p.Ks;a.G(this.ja);return a}});p.Ks.create=function(a){var c=new p.Ks;c.G(a);return c};p.Ls=p.J.extend({update:function(a){this.K.Sa&&this.K.Z(255*(1-a))},reverse:function(){return p.Ks.create(this.ja)},v:function(){var a=new p.Ls;a.G(this.ja);return a}});p.Ls.create=function(a){var c=new p.Ls;c.G(a);return c};
p.cx=p.J.extend({$u:null,Xt:null,ctor:function(){p.J.prototype.ctor.call(this);this.Xt=this.$u=0},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.$u=c,!0):!1},v:function(){var a=new p.cx;a.G(this.ja,this.$u);return a},update:function(a){this.K.Sa&&this.K.Z(this.Xt+(this.$u-this.Xt)*a)},N:function(a){p.J.prototype.N.call(this,a);this.K.Sa&&(this.Xt=a.mi())}});p.cx.create=function(a,c){var d=new p.cx;d.G(a,c);return d};
p.Jx=p.J.extend({Ne:null,zd:null,ctor:function(){p.J.prototype.ctor.call(this);this.Ne=p.k(0,0,0);this.zd=p.k(0,0,0)},G:function(a,c,d,e){return p.J.prototype.G.call(this,a)?(this.Ne=p.k(c,d,e),!0):!1},v:function(){var a=new p.Jx,c=this.Ne;a.G(this.ja,c.i,c.h,c.f);return a},N:function(a){p.J.prototype.N.call(this,a);this.K.Sa&&(this.zd=this.K.Vc())},update:function(a){var c=this.zd,d=this.Ne;this.K.Sa&&this.K.o(p.k(c.i+(d.i-c.i)*a,c.h+(d.h-c.h)*a,c.f+(d.f-c.f)*a))}});
p.Jx.create=function(a,c,d,e){var f=new p.Jx;f.G(a,c,d,e);return f};
p.lt=p.J.extend({Hp:0,Gp:0,Fp:0,My:0,Ly:0,Ky:0,ctor:function(){p.J.prototype.ctor.call(this);this.Ky=this.Ly=this.My=this.Fp=this.Gp=this.Hp=0},G:function(a,c,d,e){return p.J.prototype.G.call(this,a)?(this.Hp=c,this.Gp=d,this.Fp=e,!0):!1},v:function(){var a=new p.lt;a.G(this.ja,this.Hp,this.Gp,this.Fp);return a},N:function(a){p.J.prototype.N.call(this,a);a.Sa&&(a=a.Vc(),this.My=a.i,this.Ly=a.h,this.Ky=a.f)},update:function(a){this.K.Sa&&this.K.o(p.k(this.My+this.Hp*a,this.Ly+this.Gp*a,this.Ky+this.Fp*
a))},reverse:function(){return p.lt.create(this.ja,-this.Hp,-this.Gp,-this.Fp)}});p.lt.create=function(a,c,d,e){var f=new p.lt;f.G(a,c,d,e);return f};p.Dm=p.J.extend({update:function(){},reverse:function(){return p.Dm.create(this.ja)},v:function(){var a=new p.Dm;a.G(this.ja);return a}});p.Dm.create=function(a){var c=new p.Dm;c.G(a);return c};
p.Zs=p.J.extend({aj:null,ctor:function(){p.J.prototype.ctor.call(this);this.aj=null},Y:function(a){if(!a)throw"cc.ReverseTime.initWithAction(): action must be non null";if(a==this.aj)throw"cc.ReverseTime.initWithAction(): the action was already passed in.";return p.J.prototype.G.call(this,a.Qe())?(this.aj=a,!0):!1},v:function(){var a=new p.Zs;a.Y(this.aj.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.aj.N(a)},update:function(a){this.aj&&this.aj.update(1-a)},reverse:function(){return this.aj.v()},
stop:function(){this.aj.stop();p.Zc.prototype.stop.call(this)}});p.Zs.create=function(a){var c=new p.Zs;c.Y(a);return c};
p.hs=p.J.extend({Hi:null,Dn:0,yu:null,Sp:0,Qz:null,ctor:function(){p.J.prototype.ctor.call(this);this.Hi=null;this.Dn=0;this.yu=null;this.Sp=0;this.Qz=null},hG:function(){return this.Hi},gT:function(a){this.Hi=a},DG:function(a){if(!a)throw"cc.Animate.initWithAnimation(): animation must be non-NULL";var c=a.Qe();if(this.G(c*a.Yi)){this.Dn=0;this.gT(a);this.yu=null;this.Sp=0;var d=[],e=0,f=c/a.Fl;a=a.yd;p.is(a,p.yi);for(var g=0;g<a.length;g++){var h=e*f/c,e=e+a[g].wd;d.push(h)}this.Qz=d;return!0}return!1},
v:function(){var a=new p.hs;a.DG(this.Hi.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.Hi.sl&&(this.yu=a.hP());this.Sp=this.Dn=0},update:function(a){1>a&&(a*=this.Hi.Yi,(0|a)>this.Sp&&(this.Dn=0,this.Sp++),a%=1);for(var c=this.Hi.yd,d=c.length,e=this.Qz,f=this.Dn;f<d;f++)if(e[f]<=a)this.K.Io(c[f].Gg()),this.Dn=f+1;else break},reverse:function(){var a=this.Hi,c=a.yd,d=[];p.is(c,p.yi);if(0<c.length)for(var e=c.length-1;0<=e;e--){var f=c[e];if(!f)break;d.push(f.v())}c=p.xi.JF(d,a.wd,
a.Yi);c.nw(a.sl);return p.hs.create(c)},stop:function(){this.Hi.sl&&this.K&&this.K.Io(this.yu);p.Zc.prototype.stop.call(this)}});p.hs.create=function(a){var c=new p.hs;c.DG(a);return c};
p.Ix=p.J.extend({af:null,hl:null,ctor:function(){p.J.prototype.ctor.call(this);this.hl=this.af=null},Vf:function(a,c){return this.G(c.Qe())?(this.hl=a,this.af=c,!0):!1},v:function(){var a=new p.Ix;a.Vf(this.hl,this.af.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.af.N(this.hl)},stop:function(){this.af.stop()},update:function(a){this.af.update(a)},M0:function(){return this.hl},s7:function(a){this.hl!=a&&(this.hl=a)}});p.Ix.create=function(a,c){var d=new p.Ix;d.Vf(a,c);return d};p.Eh=p.Bi.extend({sh:function(){return!0},step:function(){this.update(1)},update:function(){},reverse:function(){return this.v()},v:function(){return new p.Eh}});p.dt=p.Eh.extend({update:function(){this.K.u(!0)},reverse:function(){return p.Os.create()},v:function(){return new p.dt}});p.dt.create=function(){return new p.dt};p.Os=p.Eh.extend({update:function(){this.K.u(!1)},reverse:function(){return p.dt.create()},v:function(){return new p.Os}});p.Os.create=function(){return new p.Os};
p.mt=p.Eh.extend({update:function(){this.K.u(!this.K.ra)},reverse:function(){return new p.mt},v:function(){return new p.mt}});p.mt.create=function(){return new p.mt};p.Ws=p.Eh.extend({eq:!0,ctor:function(){p.Bi.prototype.ctor.call(this);this.eq=!0},update:function(){this.K.T(this.eq)},s:function(a){this.eq=a;return!0},reverse:function(){return new p.Ws(this.eq)},v:function(){return new p.Ws(this.eq)}});p.Ws.create=function(a){null==a&&(a=!0);var c=new p.Ws;c&&c.s(a);return c};
p.Ms=p.Eh.extend({Tb:!1,ctor:function(){p.Bi.prototype.ctor.call(this);this.Tb=!1},FG:function(a){this.Tb=a;return!0},update:function(){this.K.yT(this.Tb)},reverse:function(){return p.Ms.create(!this.Tb)},v:function(){var a=new p.Ms;a.FG(this.Tb);return a}});p.Ms.create=function(a){var c=new p.Ms;return c.FG(a)?c:null};
p.Ns=p.Eh.extend({Ub:!1,ctor:function(){p.Bi.prototype.ctor.call(this);this.Ub=!1},GG:function(a){this.Ub=a;return!0},update:function(){this.K.zT(this.Ub)},reverse:function(){return p.Ns.create(!this.Ub)},v:function(){var a=new p.Ns;a.GG(this.Ub);return a}});p.Ns.create=function(a){var c=new p.Ns;return c.GG(a)?c:null};
p.px=p.Eh.extend({p:null,ctor:function(){p.Bi.prototype.ctor.call(this);this.p=p.a(0,0)},IG:function(a){this.p.x=a.x;this.p.y=a.y;return!0},update:function(){this.K.F(this.p)},v:function(){var a=new p.px;a.IG(this.p);return a}});p.px.create=function(a){var c=new p.px;c.IG(a);return c};
p.Xo=p.Eh.extend({wg:null,al:null,Xj:null,Dp:null,ctor:function(){p.Bi.prototype.ctor.call(this);this.Dp=this.Xj=this.al=this.wg=null},Vf:function(a,c,d){this.Dp=d;this.al=a;this.wg=c;return!0},cB:function(a){this.Xj=a;return!0},execute:function(){null!=this.al?this.al.call(this.wg,this.K,this.Dp):this.Xj&&this.Xj.call(null,this.K)},update:function(){this.execute()},K2:function(){return this.wg},G8:function(a){a!=this.wg&&(this.wg&&(this.wg=null),this.wg=a)},copy:function(){var a=new p.Xo;this.wg?
a.Vf(this.al,this.wg,this.Dp):this.Xj&&a.cB(this.Xj);return a},v:function(){var a=new p.Xo;this.wg?a.Vf(this.al,this.wg,this.Dp):this.Xj&&a.cB(this.Xj);return a}});p.Xo.create=function(a,c,d){var e=new p.Xo;if(1==arguments.length){if(e&&e.cB(a))return e}else if(e&&e.Vf(a,c,d))return e.al=a,e;return null};p.Kw=p.J.extend({hy:0,iy:0,jy:0,$D:0,aE:0,bE:0,hF:0,iF:0,jF:0,ctor:function(){p.J.prototype.ctor.call(this);this.jF=this.iF=this.hF=this.bE=this.aE=this.$D=this.jy=this.iy=this.hy=0},N:function(a){p.J.prototype.N.call(this,a);a=a.OA();var c=a.jG();this.hy=c.x;this.iy=c.y;this.jy=c.z;c=a.kG();this.$D=c.x;this.aE=c.y;this.bE=c.z;a=a.lQ();this.hF=a.x;this.iF=a.y;this.jF=a.z},v:function(){return new p.Kw},reverse:function(){return p.Zs.create(this)}});
p.nx=p.Kw.extend({fi:0,Qt:0,Rm:0,vy:0,Bf:0,uy:0,yz:0,wz:0,xz:0,vz:0,ctor:function(){p.Kw.prototype.ctor.call(this);this.vz=this.xz=this.wz=this.yz=this.uy=this.Bf=this.vy=this.Rm=this.Qt=this.fi=0},G:function(a,c,d,e,f,g,h){return p.J.prototype.G.call(this,a)?(this.fi=c,this.Qt=d,this.Rm=e,this.vy=f,this.Bf=g,this.uy=h,this.wz=p.Ai(f),this.vz=p.Ai(h),!0):!1},yU:function(){var a=this.K.OA(),c=a.kG(),d=a.jG(),a=c.x-d.x,e=c.y-d.y,c=c.z-d.z,d=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)+Math.pow(c,2)),f=Math.sqrt(Math.pow(a,
2)+Math.pow(e,2));0===f&&(f=p.Js);0===d&&(d=p.Js);return{wR:d/p.Yo.or(),WU:Math.acos(c/d),azimuth:0>a?Math.PI-Math.asin(e/f):Math.asin(e/f)}},N:function(a){p.J.prototype.N.call(this,a);a=this.yU();isNaN(this.fi)&&(this.fi=a.wR);isNaN(this.Rm)&&(this.Rm=p.rx(a.WU));isNaN(this.Bf)&&(this.Bf=p.rx(a.azimuth));this.yz=p.Ai(this.Rm);this.xz=p.Ai(this.Bf)},v:function(){var a=new p.nx;a.G(this.ja,this.fi,this.Qt,this.Rm,this.vy,this.Bf,this.uy);return a},update:function(a){var c=(this.fi+this.Qt*a)*p.Yo.or(),
d=this.yz+this.wz*a,e=this.xz+this.vz*a;a=Math.sin(d)*Math.cos(e)*c+this.hy;e=Math.sin(d)*Math.sin(e)*c+this.iy;c=Math.cos(d)*c+this.jy;this.K.OA().VH(a,e,c)}});p.nx.create=function(a,c,d,e,f,g,h){var k=new p.nx;return k.G(a,c,d,e,f,g,h)?k:null};p.Cc=p.J.extend({P:null,ctor:function(){p.J.prototype.ctor.call(this);this.P=null},Y:function(a){if(!a)throw"cc.ActionEase.initWithAction(): action must be non nil";return this.G(a.Qe())?(this.P=a,!0):!1},v:function(){var a=new p.Cc;a.Y(this.P.v());return a},N:function(a){p.J.prototype.N.call(this,a);this.P.N(this.K)},stop:function(){this.P.stop();p.J.prototype.stop.call(this)},update:function(a){this.P.update(a)},reverse:function(){return p.Cc.create(this.P.reverse())},QA:function(){return this.P}});
p.Cc.create=function(a){var c=new p.Cc;c&&c.Y(a);return c};p.Rk=p.Cc.extend({ie:0,ctor:function(){p.Cc.prototype.ctor.call(this);this.ie=0},m8:function(a){this.ie=a},i2:function(){return this.ie},Y:function(a,c){return p.Cc.prototype.Y.call(this,a)?(this.ie=c,!0):!1},v:function(){var a=new p.Rk;a.Y(this.P.v(),this.ie);return a},reverse:function(){return p.Rk.create(this.P.reverse(),1/this.ie)}});p.Rk.create=function(a,c){var d=new p.Rk;d&&d.Y(a,c);return d};
p.Cs=p.Rk.extend({update:function(a){this.P.update(Math.pow(a,this.ie))},reverse:function(){return p.Cs.create(this.P.reverse(),1/this.ie)},v:function(){var a=new p.Cs;a.Y(this.P.v(),this.ie);return a}});p.Cs.create=function(a,c){var d=new p.Cs;d&&d.Y(a,c);return d};p.Es=p.Rk.extend({update:function(a){this.P.update(Math.pow(a,1/this.ie))},reverse:function(){return p.Es.create(this.P.reverse(),1/this.ie)},v:function(){var a=new p.Es;a.Y(this.P.v(),this.ie);return a}});
p.Es.create=function(a,c){var d=new p.Es;d&&d.Y(a,c);return d};p.Ds=p.Rk.extend({update:function(a){a*=2;1>a?this.P.update(0.5*Math.pow(a,this.ie)):this.P.update(1-0.5*Math.pow(2-a,this.ie))},v:function(){var a=new p.Ds;a.Y(this.P.v(),this.ie);return a},reverse:function(){return p.Ds.create(this.P.reverse(),this.ie)}});p.Ds.create=function(a,c){var d=new p.Ds;d&&d.Y(a,c);return d};
p.zs=p.Cc.extend({update:function(a){this.P.update(0===a?0:Math.pow(2,10*(a-1)))},reverse:function(){return p.Bs.create(this.P.reverse())},v:function(){var a=new p.zs;a.Y(this.P.v());return a}});p.zs.create=function(a){var c=new p.zs;c&&c.Y(a);return c};p.Bs=p.Cc.extend({update:function(a){this.P.update(1==a?1:-Math.pow(2,-10*a)+1)},reverse:function(){return p.zs.create(this.P.reverse())},v:function(){var a=new p.Bs;a.Y(this.P.v());return a}});p.Bs.create=function(a){var c=new p.Bs;c&&c.Y(a);return c};
p.As=p.Cc.extend({update:function(a){1!=a&&0!==a&&(a*=2,a=1>a?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2));this.P.update(a)},reverse:function(){return p.As.create(this.P.reverse())},v:function(){var a=new p.As;a.Y(this.P.v());return a}});p.As.create=function(a){var c=new p.As;c&&c.Y(a);return c};
p.Fs=p.Cc.extend({update:function(a){a=0===a||1==a?a:-1*Math.cos(a*Math.PI/2)+1;this.P.update(a)},reverse:function(){return p.Hs.create(this.P.reverse())},v:function(){var a=new p.Fs;a.Y(this.P.v());return a}});p.Fs.create=function(a){var c=new p.Fs;c&&c.Y(a);return c};p.Hs=p.Cc.extend({update:function(a){a=0===a||1==a?a:Math.sin(a*Math.PI/2);this.P.update(a)},reverse:function(){return p.Fs.create(this.P.reverse())},v:function(){var a=new p.Hs;a.Y(this.P.v());return a}});
p.Hs.create=function(a){var c=new p.Hs;c&&c.Y(a);return c};p.Gs=p.Cc.extend({update:function(a){a=0===a||1==a?a:-0.5*(Math.cos(Math.PI*a)-1);this.P.update(a)},v:function(){var a=new p.Gs;a.Y(this.P.v());return a},reverse:function(){return p.Gs.create(this.P.reverse())}});p.Gs.create=function(a){var c=new p.Gs;c&&c.Y(a);return c};
p.Em=p.Cc.extend({Ad:null,ctor:function(){p.Cc.prototype.ctor.call(this);this.Ad=0.3},S1:function(){return this.Ad},b8:function(a){this.Ad=a},Y:function(a,c){p.Cc.prototype.Y.call(this,a);this.Ad=null==c?0.3:c;return!0},reverse:function(){p.log("cc.EaseElastic.reverse(): it should be overridden in subclass.")},v:function(){var a=new p.Em;a.Y(this.P.v(),this.Ad);return a}});p.Em.create=function(a,c){var d=new p.Em;return d&&d.Y(a,c)?d:null};
p.ws=p.Em.extend({update:function(a){var c=0;0===a||1===a?c=a:(c=this.Ad/4,a-=1,c=-Math.pow(2,10*a)*Math.sin((a-c)*Math.PI*2/this.Ad));this.P.update(c)},reverse:function(){return p.ys.create(this.P.reverse(),this.Ad)},v:function(){var a=new p.ws;a.Y(this.P.v(),this.Ad);return a}});p.ws.create=function(a,c){var d=new p.ws;return d&&d.Y(a,c)?d:null};
p.ys=p.Em.extend({update:function(a){var c=0,c=0===a||1==a?a:Math.pow(2,-10*a)*Math.sin((a-this.Ad/4)*Math.PI*2/this.Ad)+1;this.P.update(c)},reverse:function(){return p.ws.create(this.P.reverse(),this.Ad)},v:function(){var a=new p.ys;a.Y(this.P.v(),this.Ad);return a}});p.ys.create=function(a,c){var d=new p.ys;d&&d.Y(a,c);return d};
p.xs=p.Em.extend({update:function(a){var c=0,c=this.Ad;if(0===a||1==a)c=a;else{c||(c=this.Ad=0.3*1.5);var d=c/4;a=2*a-1;c=0>a?-0.5*Math.pow(2,10*a)*Math.sin((a-d)*Math.PI*2/c):Math.pow(2,-10*a)*Math.sin((a-d)*Math.PI*2/c)*0.5+1}this.P.update(c)},reverse:function(){return p.xs.create(this.P.reverse(),this.Ad)},v:function(){var a=new p.xs;a.Y(this.P.v(),this.Ad);return a}});p.xs.create=function(a,c){var d=new p.xs;d&&d.Y(a,c);return d};
p.Qk=p.Cc.extend({lv:function(a){if(a<1/2.75)return 7.5625*a*a;if(a<2/2.75)return a-=1.5/2.75,7.5625*a*a+0.75;if(a<2.5/2.75)return a-=2.25/2.75,7.5625*a*a+0.9375;a-=2.625/2.75;return 7.5625*a*a+0.984375},v:function(){var a=new p.Qk;a.Y(this.P.v());return a},reverse:function(){return p.Qk.create(this.P.reverse())}});p.Qk.create=function(a){var c=new p.Qk;c&&c.Y(a);return c};
p.ts=p.Qk.extend({update:function(a){this.P.update(1-this.lv(1-a))},reverse:function(){return p.vs.create(this.P.reverse())},v:function(){var a=new p.ts;a.Y(this.P.v());return a}});p.ts.create=function(a){var c=new p.ts;c&&c.Y(a);return c};p.vs=p.Qk.extend({update:function(a){this.P.update(this.lv(a))},reverse:function(){return p.ts.create(this.P.reverse())},v:function(){var a=new p.vs;a.Y(this.P.v());return a}});p.vs.create=function(a){var c=new p.vs;c&&c.Y(a);return c};
p.us=p.Qk.extend({update:function(a){var c=0,c=0.5>a?0.5*(1-this.lv(1-2*a)):0.5*this.lv(2*a-1)+0.5;this.P.update(c)},v:function(){var a=new p.us;a.Y(this.P.v());return a},reverse:function(){return p.us.create(this.P.reverse())}});p.us.create=function(a){var c=new p.us;c&&c.Y(a);return c};p.qs=p.Cc.extend({update:function(a){this.P.update(0===a||1==a?a:a*a*(2.70158*a-1.70158))},reverse:function(){return p.ss.create(this.P.reverse())},v:function(){var a=new p.qs;a.Y(this.P.v());return a}});
p.qs.create=function(a){var c=new p.qs;c&&c.Y(a);return c};p.ss=p.Cc.extend({update:function(a){a-=1;this.P.update(a*a*(2.70158*a+1.70158)+1)},reverse:function(){return p.qs.create(this.P.reverse())},v:function(){var a=new p.ss;a.Y(this.P.v());return a}});p.ss.create=function(a){var c=new p.ss;c&&c.Y(a);return c};
p.rs=p.Cc.extend({update:function(a){a*=2;1>a?this.P.update(a*a*(3.5949095*a-2.5949095)/2):(a-=2,this.P.update(a*a*(3.5949095*a+2.5949095)/2+1))},v:function(){var a=new p.rs;a.Y(this.P.v());return a},reverse:function(){return p.rs.create(this.P.reverse())}});p.rs.create=function(a){var c=new p.rs;c&&c.Y(a);return c};p.Tw=function(a,c,d,e,f,g){var h=g*g,k=h*g,l=(1-f)/2;f=l*(-k+2*h-g);var m=l*(-k+h)+(2*k-3*h+1);g=l*(k-2*h+g)+(-2*k+3*h);h=l*(k-h);return p.a(a.x*f+c.x*m+d.x*g+e.x*h,a.y*f+c.y*m+d.y*g+e.y*h)};p.GH=function(a){for(var c=[],d=a.length-1;0<=d;d--)c.push(p.a(a[d].x,a[d].y));return c};p.pv=function(a){for(var c=[],d=0;d<a.length;d++)c.push(p.a(a[d].x,a[d].y));return c};p.Fg=function(a,c){var d=Math.min(a.length-1,Math.max(c,0));return a[d]};
p.J6=function(a){for(var c=a.length,d=0|c/2,e=0;e<d;++e){var f=a[e];a[e]=a[c-e-1];a[c-e-1]=f}};
p.Gh=p.J.extend({$g:null,wy:0,Bl:0,qc:null,Tx:null,ctor:function(){p.J.prototype.ctor.call(this);this.$g=[];this.Bl=this.wy=0;this.Tx=this.qc=null},G:function(a,c,d){if(!c||0==c.length)throw"Invalid configuration. It must at least have one control point";return p.J.prototype.G.call(this,a)?(this.XT(c),this.Bl=d,!0):!1},v:function(){var a=new p.Gh;a.G(this.ja,p.pv(this.$g),this.Bl);return a},N:function(a){p.J.prototype.N.call(this,a);this.wy=1/(this.$g.length-1);a=this.K.p;this.qc=p.a(a.x,a.y);this.Tx=
p.a(0,0)},update:function(a){var c,d=this.$g;if(1==a)c=d.length-1,a=1;else{var e=this.wy;c=0|a/e;a=(a-e*c)/e}c=p.Tw(p.Fg(d,c-1),p.Fg(d,c-0),p.Fg(d,c+1),p.Fg(d,c+2),this.Bl,a);p.ns&&(d=this.K.p.A-this.qc.x,a=this.K.p.I-this.qc.y,0!=d||0!=a)&&(e=this.Tx,d=e.x+d,a=e.y+a,e.x=d,e.y=a,c.x+=d,c.y+=a);this.TI(c)},reverse:function(){var a=p.GH(this.$g);return p.Gh.create(this.ja,a,this.Bl)},TI:function(a){this.K.F(a);this.qc=a},X1:function(){return this.$g},XT:function(a){this.$g=a}});
p.Gh.create=function(a,c,d){var e=new p.Gh;return e.G(a,c,d)?e:null};
p.Zo=p.Gh.extend({rc:null,ctor:function(){p.Gh.prototype.ctor.call(this);this.rc=p.a(0,0)},N:function(a){p.Gh.prototype.N.call(this,a);a=a.p;this.rc.x=a.x;this.rc.y=a.y},reverse:function(){for(var a=this.$g.slice(),c,d=a[0],e=1;e<a.length;++e)c=a[e],a[e]=p.Xc(c,d),d=c;a=p.GH(a);d=a[a.length-1];a.pop();d.x=-d.x;d.y=-d.y;a.unshift(d);for(e=1;e<a.length;++e)c=a[e],c.x=-c.x,c.y=-c.y,c.x+=d.x,c.y+=d.y,d=a[e]=c;return p.Zo.create(this.ja,a,this.Bl)},TI:function(a){var c=this.rc,d=a.x+c.x;a=a.y+c.y;this.K.F(d,
a);this.qc.x=d;this.qc.y=a},v:function(){var a=new p.Zo;a.G(this.ja,p.pv(this.$g),this.Bl);return a}});p.Zo.create=function(a,c,d){var e=new p.Zo;return e.G(a,c,d)?e:null};p.Vw=p.Gh.extend({G:function(a,c){return p.Gh.prototype.G.call(this,a,c,0.5)},v:function(){var a=new p.Vw;a.G(this.ja,p.pv(this.$g));return a}});p.Vw.create=function(a,c){var d=new p.Vw;return d.G(a,c)?d:null};
p.Uw=p.Zo.extend({G:function(a,c){return p.Gh.prototype.G.call(this,a,c,0.5)},v:function(){var a=new p.Uw;a.G(this.ja,p.pv(this.$g));return a}});p.Uw.create=function(a,c){var d=new p.Uw;return d.G(a,c)?d:null};p.hV=p.oa.extend({mC:function(){}});
p.Cm=p.J.extend({key:"",Vl:0,Hk:0,GA:0,ctor:function(){p.J.prototype.ctor.call(this);this.key="";this.GA=this.Hk=this.Vl=0},G:function(a,c,d,e){return p.J.prototype.G.call(this,a)?(this.key=c,this.Hk=e,this.Vl=d,!0):!1},N:function(a){if(!a||!a.mC)throw"cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function";p.J.prototype.N.call(this,a);this.GA=this.Hk-this.Vl},update:function(a){this.K.mC(this.Hk-this.GA*(1-a),this.key)},reverse:function(){return p.Cm.create(this.duration,
this.key,this.Hk,this.Vl)},v:function(){var a=new p.Cm;a.G(this.ja,this.key,this.Vl,this.Hk);return a}});p.Cm.create=function(a,c,d,e){var f=new p.Cm;return f.G(a,c,d,e)?f:null};p.Ij=0;p.ox=1;p.hD=4;p.mK=75;
p.gc=p.eb.extend({Oe:null,ci:0,Wa:null,Zg:null,$k:null,fd:!1,s1:function(){return p.a(this.Zg.x,this.Zg)},cI:function(a){this.Zg=p.hH(a)},W_:function(){return p.a(this.$k.x,this.$k.y)},MH:function(a){this.$k=p.hH(a)},oi:function(){return this.Oe},Ev:function(){return this.ci},gQ:function(){return this.Wa},Qr:function(a){this.ci!=a&&(this.ci=p.$q(a,0,100),this.fA())},Ve:function(){},xk:function(){return!1},m4:function(){return this.fd},dy:function(a){if(a<p.hD){var c=p.mK;return this.fd?p.a(c>>7-(a<<
1)&1,c>>7-((a<<1)+1)&1):p.a(c>>(a<<1)+1&1,c>>(a<<1)&1)}return p.Ci()},Gc:null,Xz:270,Fy:270,fi:0,py:!1,ay:null,Uc:0,mc:null,kf:null,rF:null,Xq:!1,ctor:null,Wg:function(){p.eb.prototype.ctor.call(this);this.Oe=p.Ij;this.ci=0;this.Zg=p.a(0,0);this.$k=p.a(0,0);this.fd=!1;this.Wa=null;this.Gc=p.Ci();this.Fy=this.Xz=270;this.fi=0;this.py=!1;this.ay=p.Dc()},Xg:function(){p.eb.prototype.ctor.call(this);this.Oe=p.Ij;this.ci=0;this.Zg=p.a(0,0);this.$k=p.a(0,0);this.fd=!1;this.Wa=null;this.rF=p.L.createBuffer();
this.Uc=0;this.kf=this.mc=null;this.Xq=!1},o:function(a){this.Wa.o(a);this.Tc()},Z:function(a){this.Wa.Z(a);this.Tc()},Vc:function(){return this.Wa.Vc()},mi:function(){return this.Wa.mi()},hI:null,wN:function(a){this.fd!==a&&(this.fd=a)},xN:function(a){this.fd!==a&&(this.fd=a,this.kf=this.mc=null,this.Uc=0)},Sr:null,zN:function(a){this.Wa!=a&&(this.Wa=a,this.aa(this.Wa.g()))},AN:function(a){a&&this.Wa!=a&&(this.Wa=a,this.aa(a.g()),this.mc&&(this.kf=this.mc=null,this.Uc=0))},vi:null,DN:function(a){a!==
this.Oe&&(this.Oe=a)},EN:function(a){a!==this.Oe&&(this.mc&&(this.kf=this.mc=null,this.Uc=0),this.Oe=a)},gI:null,uN:function(a){this.fd!==a&&(this.fd=a)},vN:function(a){this.fd!==a&&(this.fd=a,this.kf=this.mc=null,this.Uc=0)},oe:function(a){var c=this.Wa;if(!c)return{Ca:0,W:0};var d=c.pb,e=p.a(d.va.q.Ca,d.va.q.W),d=p.a(d.ya.q.Ca,d.ya.q.W);c.wc&&(c=a.x,a.x=a.y,a.y=c);return{Ca:e.x*(1-a.x)+d.x*a.x,W:e.y*(1-a.y)+d.y*a.y}},qe:function(a){if(!this.Wa)return{x:0,y:0};var c=this.Wa.pb,d=p.a(c.va.l.x,c.va.l.y),
c=p.a(c.ya.l.x,c.ya.l.y);return{x:d.x*(1-a.x)+c.x*a.x,y:d.y*(1-a.y)+c.y*a.y}},fB:null,dM:function(a){this.Qr(0);this.la(0.5,0.5);this.Oe=p.Ij;this.fd=!1;this.cI(p.a(0.5,0.5));this.MH(p.a(1,1));this.Sr(a);return!0},eM:function(a){this.Qr(0);this.kf=this.mc=null;this.Uc=0;this.la(0.5,0.5);this.Oe=p.Ij;this.fd=!1;this.cI(p.a(0.5,0.5));this.MH(p.a(1,1));this.Sr(a);this.ag(p.Vg.d().zh(p.vx));return!0},Ia:null,dl:function(a){a=a||p.L;var c=this.Wa;c.un&&(a.globalCompositeOperation="lighter");var d=p.da.d().ha,
e=p.da.d().ma;a.globalAlpha=c.Ab/255;var f=c.ka,g=c.fa,h=c.Nb,k=c.Cy,l=0|h.x,m=-h.y-f.height,n=c.Rn;k.width=f.width*d;k.height=f.height*e;a.save();c.Tb&&(l=-h.x-f.width,a.scale(-1,1));c.Ub&&(m=h.y,a.scale(1,-1));l*=d;m*=e;this.Oe==p.ox?(f=this.ay,a.beginPath(),a.rect(f.x*d,f.y*e,f.width*d,f.height*e),a.clip(),a.closePath()):this.Oe==p.Ij&&(f=this.Gc.x*d,h=this.Gc.y*e,a.beginPath(),a.arc(f,h,this.fi*e,Math.PI/180*this.Xz,Math.PI/180*this.Fy,this.py),a.lineTo(f,h),a.clip(),a.closePath());c.pa&&n.cs?
(d=c.pa.kc,this.Jt?a.drawImage(d,0,0,n.width,n.height,l,m,k.width,k.height):a.drawImage(d,n.x,n.y,n.width,n.height,l,m,k.width,k.height)):0!==g.width&&(k=this.Vc(),a.fillStyle="rgba("+k.i+","+k.h+","+k.f+",1)",a.fillRect(l,m,g.width*d,g.height*e));a.restore();p.Tg()},Ff:function(a){a=a||p.L;if(this.mc&&this.Wa){p.lx(this);var c=this.Wa.R;p.rj(c.src,c.lb);p.Od(p.qt);this.Wa.Q()?p.Tf(this.Wa.Q()):p.Tf(null);a.bindBuffer(a.ARRAY_BUFFER,this.rF);this.Xq&&(a.bufferData(a.ARRAY_BUFFER,this.kf,a.DYNAMIC_DRAW),
this.Xq=!1);c=p.xb.BYTES_PER_ELEMENT;a.vertexAttribPointer(p.ce,2,a.FLOAT,!1,c,0);a.vertexAttribPointer(p.kp,4,a.UNSIGNED_BYTE,!0,c,8);a.vertexAttribPointer(p.lp,2,a.FLOAT,!1,c,12);this.Oe===p.Ij?a.drawArrays(a.TRIANGLE_FAN,0,this.Uc):this.Oe==p.ox&&(this.fd?(a.drawArrays(a.TRIANGLE_STRIP,0,this.Uc/2),a.drawArrays(a.TRIANGLE_STRIP,4,this.Uc/2),p.qh++):a.drawArrays(a.TRIANGLE_STRIP,0,this.Uc));p.qh++}},fO:function(){if(this.Wa){var a,c=this.Zg;a=this.ci/100;var d=2*p.PI*(this.fd?a:1-a),e=p.a(c.x,1),
f=p.SR(e,c,d),d=0;if(0==a)f=e,d=0;else if(1==a)f=e,d=4;else{var g=p.CJ,h=p.hD;for(a=0;a<=h;++a){var k=(a+(h-1))%h,l=this.dy(a%h),k=this.dy(k);0==a?k=p.jH(l,k,1-c.x):4==a&&(l=p.jH(l,k,1-c.x));var m=p.a(0,0);p.vB(l,k,c,f,m)&&(0!=a&&4!=a||0<=m.x&&1>=m.x)&&0<=m.y&&m.y<g&&(g=m.y,d=a)}f=p.qf(c,p.ui(p.Xc(f,c),g))}g=!0;this.Uc!=d+3&&(g=!1,this.kf=this.mc=null,this.Uc=0);if(!this.mc){h=this.Uc=d+3;l=p.xb.BYTES_PER_ELEMENT;this.kf=new ArrayBuffer(h*l);k=[];for(a=0;a<h;a++)k[a]=new p.xb(null,null,null,this.kf,
a*l);this.mc=k;if(!this.mc){p.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.Tc();h=this.mc;if(!g)for(h[0].q=this.oe(c),h[0].l=this.qe(c),h[1].q=this.oe(e),h[1].l=this.qe(e),a=0;a<d;a++)c=this.dy(a),h[a+2].q=this.oe(c),h[a+2].l=this.qe(c);h[this.Uc-1].q=this.oe(f);h[this.Uc-1].l=this.qe(f)}},VN:function(){if(this.Wa){var a,c=this.ci/100,d=this.$k,d=p.ui(p.a(1-d.x+c*d.x,1-d.y+c*d.y),0.5),c=p.Xc(this.Zg,d),d=p.qf(this.Zg,d);0>c.x&&(d.x+=-c.x,c.x=0);1<d.x&&(c.x-=d.x-1,d.x=1);
0>c.y&&(d.y+=-c.y,c.y=0);1<d.y&&(c.y-=d.y-1,d.y=1);if(this.fd){if(!this.mc){this.Uc=8;var e=p.xb.BYTES_PER_ELEMENT;this.kf=new ArrayBuffer(8*e);var f=[];for(a=0;8>a;a++)f[a]=new p.xb(null,null,null,this.kf,a*e);f[0].q=this.oe(p.a(0,1));f[0].l=this.qe(p.a(0,1));f[1].q=this.oe(p.a(0,0));f[1].l=this.qe(p.a(0,0));f[6].q=this.oe(p.a(1,1));f[6].l=this.qe(p.a(1,1));f[7].q=this.oe(p.a(1,0));f[7].l=this.qe(p.a(1,0));this.mc=f}a=this.mc;a[2].q=this.oe(p.a(c.x,d.y));a[2].l=this.qe(p.a(c.x,d.y));a[3].q=this.oe(p.a(c.x,
c.y));a[3].l=this.qe(p.a(c.x,c.y));a[4].q=this.oe(p.a(d.x,d.y));a[4].l=this.qe(p.a(d.x,d.y));a[5].q=this.oe(p.a(d.x,c.y));a[5].l=this.qe(p.a(d.x,c.y))}else{if(!this.mc)for(this.Uc=4,e=p.xb.BYTES_PER_ELEMENT,this.kf=new ArrayBuffer(4*e),this.mc=[],a=0;4>a;a++)this.mc[a]=new p.xb(null,null,null,this.kf,a*e);a=this.mc;a[0].q=this.oe(p.a(c.x,d.y));a[0].l=this.qe(p.a(c.x,d.y));a[1].q=this.oe(p.a(c.x,c.y));a[1].l=this.qe(p.a(c.x,c.y));a[2].q=this.oe(p.a(d.x,d.y));a[2].l=this.qe(p.a(d.x,d.y));a[3].q=this.oe(p.a(d.x,
c.y));a[3].l=this.qe(p.a(d.x,c.y))}this.Tc()}},Tc:function(){if(this.Wa&&this.mc){for(var a=this.Wa.pb.Fa.C,c=this.mc,d=0,e=this.Uc;d<e;++d)c[d].C=a;this.Xq=!0}},fA:null,bO:function(){var a=this.Wa,c=a.g(),d=this.Zg;if(this.Oe==p.Ij){this.fi=Math.round(Math.sqrt(c.width*c.width+c.height*c.height));var e,f=!1,g=this.Gc;g.x=c.width*d.x;g.y=-c.height*d.y;this.fd?(e=270,d=270-3.6*this.ci):(d=-90,e=-90+3.6*this.ci);a.Tb&&(g.x-=2*c.width*this.Zg.x,d=-d-180,e=-e-180,f=!f);a.Ub&&(g.y+=2*c.height*this.Zg.y,
f=!f,d=-d,e=-e);this.Xz=d;this.Fy=e;this.py=f}else{e=this.$k;g=this.ci/100;f=this.ay;e=p.size(c.width*(1-e.x),c.height*(1-e.y));var g=p.size((c.width-e.width)*g,(c.height-e.height)*g),g=p.size(e.width+g.width,e.height+g.height),h=p.a(c.width*d.x,c.height*d.y),k=h.x-g.width/2;0.5<d.x&&g.width/2>=c.width-h.x&&(k=c.width-g.width);e=h.y-g.height/2;0.5<d.y&&g.height/2>=c.height-h.y&&(e=c.height-g.height);f.x=0;c=1;a.Tb&&(f.x-=g.width,c=-1);0<k&&(f.x+=k*c);f.y=0;c=1;a.Ub&&(f.y+=g.height,c=-1);0<e&&(f.y-=
e*c);f.width=g.width;f.height=-g.height}},cO:function(){var a=this.Oe;a===p.Ij?this.fO():a===p.ox&&this.VN();this.Xq=!0}});
p.qa.oc?(b=p.gc.prototype,b.ctor=p.gc.prototype.Xg,b.hI=p.gc.prototype.xN,b.Sr=p.gc.prototype.AN,b.vi=p.gc.prototype.EN,b.gI=p.gc.prototype.vN,b.fB=p.gc.prototype.eM,b.Ia=p.gc.prototype.Ff,b.fA=p.gc.prototype.cO):(b=p.gc.prototype,b.ctor=p.gc.prototype.Wg,b.hI=p.gc.prototype.wN,b.Sr=p.gc.prototype.zN,b.vi=p.gc.prototype.DN,b.gI=p.gc.prototype.uN,b.fB=p.gc.prototype.dM,b.Ia=p.gc.prototype.dl,b.fA=p.gc.prototype.bO);p.gc.create=function(a){var c=new p.gc;return c.fB(a)?c:null};p.qx=p.J.extend({Ne:0,zd:0,ctor:function(){p.J.prototype.ctor.call(this);this.zd=this.Ne=0},G:function(a,c){return p.J.prototype.G.call(this,a)?(this.Ne=c,!0):!1},v:function(){var a=new p.qx;a.G(this.ja,this.Ne);return a},reverse:function(){p.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return null},N:function(a){p.J.prototype.N.call(this,a);this.zd=a.Ev();100==this.zd&&(this.zd=0)},update:function(a){this.K instanceof p.gc&&this.K.Qr(this.zd+(this.Ne-this.zd)*a)}});
p.qx.create=function(a,c){var d=new p.qx;d.G(a,c);return d};p.Us=p.J.extend({Ne:0,zd:0,ctor:function(){p.J.prototype.ctor.call(this);this.zd=this.Ne=0},G:function(a,c,d){return p.J.prototype.G.call(this,a)?(this.Ne=d,this.zd=c,!0):!1},v:function(){var a=new p.Us;a.G(this.ja,this.zd,this.Ne);return a},reverse:function(){return p.Us.create(this.ja,this.Ne,this.zd)},N:function(a){p.J.prototype.N.call(this,a)},update:function(a){this.K instanceof p.gc&&this.K.Qr(this.zd+(this.Ne-this.zd)*a)}});
p.Us.create=function(a,c,d){var e=new p.Us;e.G(a,c,d);return e};p.Rw=9;p.gJ=1;p.jJ=2;p.kJ=4;p.hJ=8;p.iJ=16;p.zC=32;p.lJ=64;p.fJ=128;p.Fh=256;p.xf=1;p.BC=2;p.AC=4;p.zV=8;p.yV=8;
p.wb=p.Ug.extend({qE:!1,vY:!1,xk:function(){return this.qE},Ve:function(a){this.qE=a;for(var c=this.n,d=0,e=c.length;d<e;d++){var f=c[d];f&&f.Sa&&f.Ve(a)}},hi:p.xf,H2:function(){return this.hi},Pp:!1,In:!1,Ui:!1,Rt:null,Ue:function(a){this.hi=(this.Pp=a)?p.xf:p.AC;this.zc()},isEnabled:function(){return this.Pp},No:function(a){this.In=a;this.zc()},p4:function(){return this.In},Dk:function(a){this.Ui=a;this.zc()},Z3:function(){return this.Ui},BQ:function(){for(var a=this.getParent();null!=a;a=a.getParent())if(!a.ra)return!1;
return!0},ctor:function(){p.Ug.prototype.ctor.call(this);this.Rt={};this.Sb=p.cb()},s:function(){return p.Ug.prototype.s.call(this)?(this.hi=p.xf,this.Pp=!0,this.Ui=this.In=!1,this.uw(1),!0):!1},aw:function(){p.FB(this.pk,!0,this)},xe:function(a){for(var c=0,d=p.Rw;c<d;c++)if(a&1<<c)for(var e=this.By(1<<c),f=0,g=e.length;f<g;f++)e[f].aR(this)},CF:function(a,c,d){for(var e=0,f=p.Rw;e<f;e++)d&1<<e&&this.LD(a,c,1<<e)},D6:function(a,c,d){for(var e=0,f=p.Rw;e<f;e++)d&1<<e&&this.WM(a,c,1<<e)},ni:function(a){return this.yb(a.X)},
th:function(a){a=a.X;a=this.getParent().yb(a);return p.vb(this.Ua(),a)},xY:function(){return null},By:function(a){a=a.toString();this.Rt.hasOwnProperty(a)||(this.Rt[a]=[]);return this.Rt[a]},LD:function(a,c,d){a=new p.KJ(a,c,d);this.By(d).push(a)},WM:function(a,c,d){d=this.By(d);if(a||c)for(var e=0;e<d.length;){var f=d[e],g=!0;a&&(g=a==f.K);c&&(g=g&&c==f.af);g?p.od(d,f):e++}else d.length=0},zc:function(){}});p.wb.create=function(){var a=new p.wb;return a&&a.s()?a:null};p.FC=3435855873;
p.Pk=p.wb.extend({Kp:!1,Yq:!1,Hf:null,fq:null,Cp:null,Ot:null,El:null,td:null,bi:0,wn:!1,Xu:null,Mq:null,Yu:null,Zk:null,EE:!1,ou:0,nu:0,ctor:function(){p.wb.prototype.ctor.call(this);this.Hf=new p.Lj(0,0);this.fq=new p.hg(0,0);this.Cp="";this.Ot=p.cb();this.Xu={};this.Mq={};this.Yu={};this.Zk={}},s:function(){return this.Jv(p.S.create("","Arial",12),p.De.create())},zc:function(){if(this.EE){this.El&&this.El.u(!1);this.td&&this.td.u(!1);this.GT(this.fq);var a=this.hi;this.Cp=this.WA(a);this.Ot=this.kQ(a);
var c=this.El=this.lr(a);c&&c.ba&&c.ba(this.Cp);c&&c.Sa&&c.o(this.Ot);var d=this.g();c&&c.F(d.width/2,d.height/2);(a=this.td=this.BP(a))&&a.F(d.width/2,d.height/2);d=c?c.Ua().Na:p.size(0,0);if(this.Kp)a&&a.aa(d.width+2*this.nu,d.height+2*this.ou);else if(a){var e=a.Hf,e=p.size(e.width,e.height);0>=e.width&&(e.width=d.width);0>=e.height&&(e.height=d.height);a.aa(e)}d=c?c.Ua():p.rect(0,0,0,0);e=a?a.Ua():p.rect(0,0,0,0);d=p.$v(d,e);this.aa(d.width,d.height);d=this.g();c&&(c.F(d.width/2,d.height/2),c.u(!0));
a&&(a.F(d.width/2,d.height/2),a.u(!0))}},Jv:function(a,c){if(!a||!a.Sa)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): label should be non-null";if(!c)throw"cc.ControlButton.initWithLabelAndBackgroundSprite(): backgroundSprite should be non-null";return p.wb.prototype.s.call(this,!0)?(this.EE=!0,this.Xu={},this.Mq={},this.Yu={},this.Zk={},this.$b(!0),this.wn=!1,this.Yq=!0,this.Cp=null,this.eT(!0),this.Aj(p.size(0,0)),this.Yq=!0,this.pi(!1),this.la(0.5,0.5),this.El=a,this.td=c,this.Z(255),
this.Ve(!0),this.gU(a.TA(),p.xf),this.fU(a.Vc(),p.xf),this.aC(a,p.xf),this.iw(c,p.xf),this.hi=p.xf,this.nu=24,this.ou=12,this.fq=new p.hg(0.5,0.5),this.Aj(p.Tk()),this.zc(),!0):!1},SQ:function(a,c,d){a=p.S.create(a,c,d);return this.Jv(a,p.De.create())},EG:function(a){var c=p.S.create("","Arial",30);return this.Jv(c,a)},d_:function(){return this.Kp},eT:function(a){this.Kp=a;this.zc()},p3:function(){return this.Yq},lU:function(a){return this.Yq=a},WP:function(){return this.Hf},Aj:function(a){if(0===
a.width&&0===a.height)this.Kp=!0;else{this.Kp=!1;var c=this.Zk,d;for(d in c)c[d].Aj(a)}this.Hf=a;this.zc()},b1:function(){return this.fq},GT:function(a){this.fq=a;this.El&&this.El.la(a)},oY:function(){return this.Cp},pY:function(){return this.Ot},mi:function(){return this.bi},Z:function(a){p.wb.prototype.Z.call(this,a);var c=this.Zk,d;for(d in c)c[d].Z(a)},o:function(a){p.wb.prototype.o.call(this,a);var c=this.Zk,d;for(d in c)c[d].o(a)},Vc:function(){return this.Bd},l4:function(){return this.wn},
tY:function(){return this.ou},rY:function(){return this.nu},J7:function(a,c){this.ou=c;this.nu=a;this.zc()},Ue:function(a){p.wb.prototype.Ue.call(this,a);this.zc()},No:function(a){p.wb.prototype.No.call(this,a);this.zc()},Dk:function(a){this.hi=a?p.BC:p.xf;p.wb.prototype.Dk.call(this,a);(a=this.NA(p.FC))&&this.zU(a);this.zc();this.Yq&&(a=p.Lm.create(0.05,this.Ui&&this.isEnabled()&&!this.In?1.1:1),a.mI(p.FC),this.dw(a))},Hb:function(a){if(!(this.th(a)&&this.isEnabled()&&this.ra&&this.BQ()))return!1;
this.wn=!0;this.Dk(!0);this.xe(p.gJ);return!0},Wc:function(a){this.Pp&&this.wn&&!this.In?(a=this.th(a))&&!this.Ui?(this.Dk(!0),this.xe(p.hJ)):a&&this.Ui?this.xe(p.jJ):!a&&this.Ui?(this.Dk(!1),this.xe(p.iJ)):a||this.Ui||this.xe(p.kJ):this.Ui&&this.Dk(!1)},ue:function(a){this.wn=!1;this.Dk(!1);this.th(a)?this.xe(p.zC):this.xe(p.lJ)},wj:function(){this.wn=!1;this.Dk(!1);this.xe(p.fJ)},WA:function(a){var c=this.Xu;return c?c[a]?c[a]:c[p.xf]:""},gU:function(a,c){this.Xu[c]=a||"";this.hi==c&&this.zc()},
kQ:function(a){return(a=this.Mq[a])?a:(a=this.Mq[p.xf])?a:p.cb()},fU:function(a,c){this.Mq[c]=a;this.hi==c&&this.zc()},lr:function(a){var c=this.Yu;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.xf]},aC:function(a,c){var d=this.Yu;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.u(!1);a.la(0.5,0.5);this.t(a,1);this.hi==c&&this.zc()},L8:function(a,c){var d=this.WA(c);d||(d="");this.aC(p.S.create(d,a,12),c)},R2:function(a){a=this.lr(a);return null!=a&&a instanceof p.S?a.He:""},M8:function(a,
c){var d=this.lr(c);null!=d&&d instanceof p.S&&d.WH(a)},S2:function(a){a=this.lr(a);return null!=a&&a instanceof p.S?a.fe:0},K8:function(a,c){var d=this.WA(c);d||(d="");this.aC(p.ix.create(d,a),c)},Q2:function(a){a=this.lr(a);return null!=a&&a instanceof p.ix?a.J0():""},BP:function(a){var c=this.Zk;return c.hasOwnProperty(a)&&c[a]?c[a]:c[p.xf]},iw:function(a,c){var d=this.Zk;if(d.hasOwnProperty(c)){var e=d[c];e&&this.removeChild(e,!0)}d[c]=a;a.u(!1);a.la(0.5,0.5);this.t(a);d=this.Hf;0===d.width&&
0===d.height||a.Aj(d);this.hi===c&&this.zc()},U6:function(a,c){var d=p.De.KF(a);this.iw(d,c)}});p.Pk.create=function(a,c){var d;if(0==arguments.length)return(d=new p.Pk)&&d.s()?d:null;1==arguments.length?(d=new p.Pk,d.EG(arguments[0])):2==arguments.length?(d=new p.Pk,d.Jv(a,c)):3==arguments.length&&(d=new p.Pk,d.SQ(arguments[0],arguments[1],arguments[2]));return d};p.RGBA=function(a,c,d,e){this.i=a;this.h=c;this.f=d;this.B=e};p.ex=function(a,c,d){this.Sd=a;this.Bh=c;this.W=d};p.rd={};p.rd.Pl=function(a,c,d,e){a=p.w.LF(a);if(!a)return null;a.F(d);a.la(e);c.t(a);return a};p.rd.GJ=function(a){var c=new p.ex,d,e;d=a.i<a.h?a.i:a.h;d=d<a.f?d:a.f;e=a.i>a.h?a.i:a.h;e=e>a.f?e:a.f;c.W=e;d=e-d;if(0<e)c.Bh=d/e;else return c.Bh=0,c.Sd=-1,c;c.Sd=a.i>=e?(a.h-a.f)/d:a.h>=e?2+(a.f-a.i)/d:4+(a.i-a.h)/d;c.Sd*=60;0>c.Sd&&(c.Sd+=360);return c};
p.rd.tx=function(a){var c,d,e,f,g=new p.RGBA;g.B=1;if(0>=a.Bh){if(!a.Sd)return g.i=a.W,g.h=a.W,g.f=a.W,g;g.i=0;g.h=0;g.f=0;return g}c=a.Sd;360<=c&&(c=0);c/=60;f=0|c;e=c-f;c=a.W*(1-a.Bh);d=a.W*(1-a.Bh*e);e=a.W*(1-a.Bh*(1-e));switch(f){case 0:g.i=a.W;g.h=e;g.f=c;break;case 1:g.i=d;g.h=a.W;g.f=c;break;case 2:g.i=c;g.h=a.W;g.f=e;break;case 3:g.i=c;g.h=d;g.f=a.W;break;case 4:g.i=e;g.h=c;g.f=a.W;break;default:g.i=a.W,g.h=c,g.f=d}return g};p.rd.wC=function(a,c){return p.$v(a,c)};p.KJ=p.oa.extend({af:null,K:null,Nt:null,ctor:function(a,c,d){this.K=a;this.af=c;this.Nt=d},N_:function(){return this.af},jQ:function(){return this.K},r0:function(){return this.Nt},aR:function(a){if(this.K&&this.af)if("string"==typeof this.af)this.K[this.af](a,this.Nt);else this.af.call(this.K,a,this.Nt)}});p.bD=0;p.eD=1;p.cD=2;p.dD=3;p.$C=4;p.gD=5;p.fD=6;p.lK=7;p.aD=8;
p.De=p.eb.extend({Sa:!0,Kn:null,UD:null,hk:!1,Me:null,ih:null,hh:null,yg:null,Zh:null,Ji:null,dh:null,Oh:null,Nh:null,Ph:null,Li:null,Vb:!1,Hc:null,Hf:null,bi:0,Sb:null,an:null,bu:0,du:0,cu:0,au:0,YE:!1,Sz:!1,Xa:!1,dd:null,JI:function(){return this.Xa},lf:function(a,c){this.dd.push({pj:a,ph:c})},ud:function(){this.Xa=!0;for(var a=this.dd,c=0,d=a.length;c<d;c++){var e=a[c];e.pj.call(e.ph,this)}a.length=0},cv:function(){var a;a=this.bu;var c=this.du,d=this.cu,e=this.Kn,f=this.au;a=0===a&&0===c&&0===
d&&0===f?p.Dc():this.Sz?p.rect(f,a,e.width-d-a,e.height-c-f):p.rect(a,c,e.width-a-d,e.height-c-f);this.jT(a)},aO:function(){if(this.ih&&this.yg&&this.Ph&&this.Oh&&this.Ji){var a=this.fa,c=this.ih,d=this.yg,e=this.Ph,f=this.Oh,g=this.Ji,h=this.Ji.g(),k=c.g(),l=f.g(),m=a.sa-k.width-d.g().width,a=a.ea-k.height-e.g().height,m=m/h.width,a=a/h.height,k=h.width*m,n=h.height*a,r=l.width,l=l.height;if(!p.qa.oc){var q=Math.round(k);k!=q&&(k=q,m=k/h.width);q=Math.round(n);n!=q&&(n=q,a=n/h.height)}g.Mo(m);g.vm(a);
var h=this.Zh,q=this.dh,t=this.hh,y=this.Nh,A=p.a(0,0);f.la(A);e.la(A);c.la(A);d.la(A);h.la(A);q.la(A);t.la(A);y.la(A);g.la(A);f.F(0,0);e.F(r+k,0);c.F(0,l+n);d.F(r+k,l+n);h.F(0,l);h.vm(a);q.F(r+k,l);q.vm(a);y.F(r,0);y.Mo(m);t.F(r,l+n);t.Mo(m);g.F(r,l)}},ctor:function(){p.eb.prototype.ctor.call(this);this.Kn=p.Dc();this.UD=p.Dc();this.Li=p.cb();this.Hc=new p.Lj(0,0);this.Hf=new p.Lj(0,0);this.Sb=p.cb();this.bi=255;this.an=p.Dc();this.dd=[]},VP:function(){return this.Hc},WP:function(){return this.Hf},
Aj:function(a){this.aa(a);this.Hf=a},mi:function(){return this.bi},Z:function(a){if(this.Me){this.bi=a;for(var c=this.Me.n,d=0;d<c.length;d++){var e=c[d];e&&e.Sa&&e.Z(a)}}},Vc:function(){return this.Sb},o:function(a){if(this.Me){this.Sb=a;for(var c=this.Me.n,d=0;d<c.length;d++){var e=c[d];e&&e.Sa&&e.o(a)}}},e0:function(){return this.an},jT:function(a){if(this.Me){var c=this.fa,d=c.sa,c=c.ea;this.Uo(this.Me,this.Kn,this.Sz,a);this.aa(d,c)}},Y0:function(){return this.bu},C7:function(a){this.bu=a;this.cv()},
$0:function(){return this.du},E7:function(a){this.du=a;this.cv()},Z0:function(){return this.cu},D7:function(a){this.cu=a;this.cv()},X0:function(){return this.au},B7:function(a){this.au=a;this.cv()},aa:function(a,c){2===arguments.length?p.H.prototype.aa.call(this,a,c):p.H.prototype.aa.call(this,a);this.hk=!0},ca:function(a){this.hk&&(this.aO(),this.hk=!1);p.eb.prototype.ca.call(this,a)},s:function(){return this.Hv(null,p.Dc(),!1,p.Dc())},Hv:function(a,c,d,e){3===arguments.length&&(e=d,d=!1);a&&this.Uo(a,
c,d,e);this.la(0.5,0.5);return this.hk=!0},qi:function(a,c,d){a instanceof p.zf?(d=a=c,c=p.Dc()):(c=c||p.Dc(),d=d||p.Dc());if(!a)throw"cc.Scale9Sprite.initWithFile(): file should be non-null";var e=p.Gb.d().Cw(a);if(!e){var e=p.Gb.d().Pe(a),f=e.Wf();(this.Xa=f)||e.lf(function(a){var c=this.Hf,c=p.size(c.width,c.height);a=a.g();this.Uo(this.Me,p.rect(0,0,a.width,a.height),!1,this.an);this.Aj(c);this.hk=!0;this.ud()},this)}a=p.$a.create(a,9);return this.Hv(a,c,!1,d)},Ud:function(a,c){if(!a||!a.Q())throw"cc.Scale9Sprite.initWithSpriteFrame(): spriteFrame should be non-null and its texture should be non-null";
c=c||p.Dc();var d=a.Xa;(this.Xa=d)||a.lf(function(a){var c=this.Hf,c=p.size(c.width,c.height);this.Uo(this.Me,a.Nd(),p.qa.oc?a.Ic:!1,this.an);this.Aj(c);this.hk=!0;this.ud()},this);d=p.$a.Fd(a.Q(),9);return this.Hv(d,a.Nd(),p.qa.oc?a.Ic:!1,c)},JG:function(a,c){if(!a)throw"cc.Scale9Sprite.initWithSpriteFrameName(): spriteFrameName should be non-null";c=c||p.Dc();var d=p.Af.d().Gg(a);return null==d?(p.log("cc.Scale9Sprite.initWithSpriteFrameName(): can't find the sprite frame by spriteFrameName"),!1):
this.Ud(d,c)},G6:function(a){var c=new p.De;return c&&c.Hv(this.Me,this.Kn,!1,a)?c:null},Ve:function(a){if(this.Me){this.Vb=a;var c=this.Me.n;if(c)for(var d=0,e=c.length;d<e;d++)c[d].Ve(a)}},xk:function(){return this.Vb},Uo:function(a,c,d,e){var f=this.mi(),g=this.Vc();c=p.rect(c.x,c.y,c.width,c.height);this.Ah(!0);this.Me!=a&&(this.Me=a);a=a.Q();var h=a.Wf();if(this.Xa=h){a=this.Me;a.Ah(!0);h=this.an;h.x=e.x;h.y=e.y;h.width=e.width;h.height=e.height;this.Sz=d;h=a.Q();p.sq(c)&&(c=h.g(),c=p.rect(0,
0,c.width,c.height));var k=this.Kn=c;k.x=c.x;k.y=c.y;k.width=c.width;k.height=c.height;var l=c.Na;this.Hc.width=l.width;this.Hc.height=l.height;k=this.Hf;0===k.width&&0===k.height&&(k.width=l.width,k.height=l.height);k=this.UD;e&&(k.x=e.x,k.y=e.y,k.width=e.width,k.height=e.height);var m=l.width;e=l.height;p.sq(k)&&(k.x=m/3,k.y=e/3,k.width=m/3,k.height=e/3);var n=k.x,r=k.width,q=m-(n+r),t=k.y,y=k.height,A=e-(t+y),E=0,J=0;e=p.rect(E,J,n,t);var E=E+n,k=p.rect(E,J,r,t),m=p.rect(E+r,J,q,t),E=0,J=0+t,l=
p.rect(E,J,n,y),E=E+n,Y=p.rect(E,J,r,y),E=E+r,G=p.rect(E,J,q,y),E=0,J=0+t+y,t=p.rect(E,J,n,A),E=E+n,n=p.rect(E,J,r,A),E=E+r,r=p.rect(E,J,q,A),q={B:1,f:0,na:0,wa:1,Ka:0,La:0};if(d){d=Y;var A=r,E=t,J=m,y=e,N=G,L=l,ia=n,R=k,q=p.Lw(q,c.height+c.x,c.y),q=p.eJ(q),Y=p.ig(Y,q),r=p.ig(r,q),t=p.ig(t,q),m=p.ig(m,q);e=p.ig(e,q);G=p.ig(G,q);l=p.ig(l,q);n=p.ig(n,q);k=p.ig(k,q);d.x=Y.x;d.y=Y.y;A.x=r.x;A.y=r.y;E.x=t.x;E.y=t.y;J.x=m.x;J.y=m.y;y.x=e.x;y.y=e.y;N.x=G.x;N.y=G.y;L.x=l.x;L.y=l.y;ia.x=n.x;ia.y=n.y;R.x=k.x;
R.y=k.y;this.Ji=new p.w;this.Ji.xa(h,d,!0);a.t(this.Ji,0,p.bD);this.hh=new p.w;this.hh.xa(h,R,!0);a.t(this.hh,1,p.eD);this.Nh=new p.w;this.Nh.xa(h,ia,!0);a.t(this.Nh,1,p.$C);this.Zh=new p.w;this.Zh.xa(h,L,!0);a.t(this.Zh,1,p.cD);this.dh=new p.w;this.dh.xa(h,N,!0);a.t(this.dh,1,p.dD);this.ih=new p.w;this.ih.xa(h,y,!0);a.t(this.ih,2,p.fD);this.yg=new p.w;this.yg.xa(h,J,!0);a.t(this.yg,2,p.gD);this.Oh=new p.w;this.Oh.xa(h,E,!0);a.t(this.Oh,2,p.aD);this.Ph=new p.w;this.Ph.xa(h,A,!0)}else q=p.Lw(q,c.x,
c.y),p.Jh(Y,q),p.Jh(r,q),p.Jh(t,q),p.Jh(m,q),p.Jh(e,q),p.Jh(G,q),p.Jh(l,q),p.Jh(n,q),p.Jh(k,q),this.Ji=new p.w,this.Ji.xa(h,Y),a.t(this.Ji,0,p.bD),this.hh=new p.w,this.hh.xa(h,k),a.t(this.hh,1,p.eD),this.Nh=new p.w,this.Nh.xa(h,n),a.t(this.Nh,1,p.$C),this.Zh=new p.w,this.Zh.xa(h,l),a.t(this.Zh,1,p.cD),this.dh=new p.w,this.dh.xa(h,G),a.t(this.dh,1,p.dD),this.ih=new p.w,this.ih.xa(h,e),a.t(this.ih,2,p.fD),this.yg=new p.w,this.yg.xa(h,m),a.t(this.yg,2,p.gD),this.Oh=new p.w,this.Oh.xa(h,t),a.t(this.Oh,
2,p.aD),this.Ph=new p.w,this.Ph.xa(h,r);a.t(this.Ph,2,p.lK);this.aa(c.Na);this.t(a);this.YE&&(this.Z(f),255===g.i&&255===g.h&&255===g.f||this.o(g));return this.YE=!0}a.lf(function(){this.hk=!0;this.ud()},this)},We:function(a){var c=p.$a.Fd(a.Q(),9),d=a.Xa;(this.Xa=d)||a.lf(function(a){var c=this.Hf,c=p.size(c.width,c.height);this.Uo(this.Me,a.Nd(),p.qa.oc?a.Ic:!1,this.an);this.Aj(c);this.hk=!0;this.ud()},this);this.Uo(c,a.Nd(),p.qa.oc?a.Ic:!1,p.Dc());this.au=this.cu=this.du=this.bu=0}});
p.De.create=function(a,c,d){var e;if(2===arguments.length)if("string"==typeof a){if((e=new p.De)&&e.qi(a,c))return e}else{if(a instanceof p.zf&&(e=new p.De)&&e.qi(a,d))return e}else if(3===arguments.length){if((e=new p.De)&&e.qi(a,c,d))return e}else if(1===arguments.length){if((e=new p.De)&&e.qi(a))return e}else if(0===arguments.length&&(e=new p.De)&&e.s())return e;return null};p.De.KF=function(a,c){var d=new p.De;return d&&d.Ud(a,c)?d:null};
p.De.LF=function(a,c){if(!a)throw"cc.Scale9Sprite.createWithSpriteFrameName(): spriteFrameName should be non-null";var d=new p.De;return d&&d.JG(a,c)?d:null};p.ft=p.fc.extend({});p.ft.Y9=function(a){var c=new p.ft;c.s();c.aa(0,a);return c};p.ft.w3=function(a){var c=new p.ft;c.s();c.aa(a,0);return c};
p.Rs=p.fc.extend({Sa:!0,Sb:null,bi:0,ctor:function(){},Vc:function(){return this.Sb},o:function(a){this.Sb=a;if(this.n&&0<this.n.length)for(var c=0;c<this.n.length;c++)this.n[c]&&this.n[c].Sa&&this.n[c].o(a)},mi:function(){return this.bi},Z:function(a){this.bi=a;if(this.n&&0<this.n.length)for(var c=0;c<this.n.length;c++)this.n[c]&&this.n[c].Sa&&this.n[c].Z(a)},LQ:function(a,c){if(this.s()){var d=p.M.d().ub;this.pi(!0);this.la(0.5,0.5);this.aa(d);this.F(d.width/2,d.height/2);d=0;if(a){this.t(a,d);
for(var e=0;e<c.length;e++)c[e]&&(d++,this.t(c[e],d))}return!0}return!1},lZ:function(){this.oO(p.pJ)},oO:function(a){var c=-a,d;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(c+=this.n[d].g().height*this.n[d].ma+a);var e=0,f=c/2;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(e=Math.max(e,this.n[d].g().width),this.n[d].F(0,f-this.n[d].g().height*this.n[d].ma/2),f-=this.n[d].g().height*this.n[d].ma+a);this.aa(e,c)},iZ:function(){this.nO(p.pJ)},nO:function(a){var c=
-a,d;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(c+=this.n[d].g().width*this.n[d].ha+a);var e=0,f=-c/2;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(e=Math.max(e,this.n[d].g().height),this.n[d].F(f+this.n[d].g().width*this.n[d].ha/2,0),f+=this.n[d].g().width*this.n[d].ha+a);this.aa(c,e)},jZ:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=-5,f=0,g=0,h=0,k,l;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&
(f>=c.length?p.log("cc.MenuPassive.alignItemsInColumns(): invalid row index"):(k=c[f])?(l=this.n[d].g().height,g=0|(g>=l||null==l?g:l),++h,h>=k&&(e+=g+5,g=h=0,++f)):p.log("cc.MenuPassive.alignItemsInColumns(): can not have zero columns on a row"));var m=p.M.d().ub,n=k=g=f=0,r=0,e=e/2;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(0==k&&(k=c[f],r=n=m.width/(1+k)),l=this.n[d].g().height,g=0|(g>=l||null==l?g:l),this.n[d].F(r-m.width/2,e-this.n[d].g().height/2),r+=n,++h,h>=k&&(e-=
g+5,g=k=h=0,++f))},kZ:function(a){var c=[],d;for(d=1;d<arguments.length;d++)c.push(arguments[d]);var e=[],f=[],g=-10,h=-5,k=0,l=0,m=0,n,r;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(k>=c.length?p.log("cc.MenuPassive.alignItemsInRows(): invalid row index"):(n=c[k])?(r=this.n[d].g().width,l=0|(l>=r||null==r?l:r),h+=0|this.n[d].g().height+5,++m,m>=n&&(e.push(l),f.push(h),g+=l+10,l=m=0,h=-5,++k)):p.log("cc.MenuPassive.alignItemsInColumns(): can't have zero rows on a column"));h=
p.M.d().ub;l=k=0;n=null;var g=-g/2,q=0;if(this.n&&0<this.n.length)for(d=0;d<this.n.length;d++)this.n[d]&&(null==n&&(n=c[k],q=f[k]),r=this.n[d].g().width,l=0|(l>=r||null==r?l:r),this.n[d].F(g+e[k]/2,q-h.height/2),q-=this.n[d].g().height+10,++m,m>=n&&(g+=l+5,l=n=m=0,++k))},Ve:function(){},xk:function(){return!1}});p.Rs.create=function(a){0==arguments.length&&(a=null);for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);return(d=new p.Rs)&&d.LQ(a,c)?d:null};
p.Rs.XZ=function(a){return p.Rs.create(a,null)};p.Xw=p.wb.extend({Fz:0,Dt:0,ic:null,EM:null,WE:null,xg:null,Yb:null,Df:0,Ii:0,r2:function(){return this.Fz},a0:function(){return this.Dt},iG:function(){return this.ic},R1:function(){return this.Dt},x2:function(){return this.WE},fQ:function(){return this.xg},hQ:function(){return this.Yb},hB:function(a,c){return p.wb.prototype.s.call(this)?(this.$b(!0),this.ic=p.rd.Pl("colourPickerBackground.png",a,c,p.a(0,0)),this.EM=p.rd.Pl("colourPickerOverlay.png",a,c,p.a(0,0)),this.WE=p.rd.Pl("colourPickerShadow.png",
a,c,p.a(0,0)),this.xg=p.rd.Pl("colourPicker.png",a,c,p.a(0.5,0.5)),this.Yb=c,this.Df=35,this.Ii=this.ic.g().width/2,!0):!1},Ue:function(a){p.wb.prototype.Ue.call(this,a);this.xg&&this.xg.Z(a?255:128)},XI:function(a){var c=new p.ex;c.Bh=1;c.Sd=a.Sd;c.W=1;a=p.rd.tx(c);this.ic.o(p.mv(0|255*a.i,0|255*a.h,0|255*a.f))},MU:function(a){a=p.a(this.Yb.x+this.Df+this.Ii*(1-a.Bh),this.Yb.y+this.Df+this.Ii*a.W);this.fv(a)},fv:function(a){var c=this.Yb.x+0.5*this.ic.Ua().width,d=this.Yb.y+0.5*this.ic.Ua().height,
e=a.x-c,f=a.y-d,g=Math.sqrt(e*e+f*f),e=Math.atan2(f,e),f=0.5*this.ic.Ua().width;g>f&&(a.x=c+f*Math.cos(e),a.y=d+f*Math.sin(e));this.xg.F(a);a.x<this.Yb.x+this.Df?a.x=this.Yb.x+this.Df:a.x>this.Yb.x+this.Df+this.Ii-1&&(a.x=this.Yb.x+this.Df+this.Ii-1);a.y<this.Yb.y+this.Df?a.y=this.Yb.y+this.Df:a.y>this.Yb.y+this.Df+this.Ii&&(a.y=this.Yb.y+this.Df+this.Ii);this.Fz=1-Math.abs((this.Yb.x+this.Df-a.x)/this.Ii);this.Dt=Math.abs((this.Yb.y+this.Df-a.y)/this.Ii)},yp:function(a){var c=this.Yb.x+0.5*this.ic.Ua().width,
d=this.Yb.y+0.5*this.ic.Ua().height,c=a.x-c,d=a.y-d;return Math.sqrt(c*c+d*d)<=0.5*this.ic.Ua().width?(this.fv(a),this.xe(p.Fh),!0):!1},Hb:function(a){if(!this.isEnabled()||!this.ra)return!1;a=this.ni(a);return this.yp(a)},Wc:function(a){a=this.ni(a);this.yp(a)}});p.Xw.create=function(a,c){var d=new p.Xw;d.hB(a,c);return d};p.Ww=p.wb.extend({sn:0,$p:0,ic:null,xg:null,Yb:null,S0:function(){return this.sn},UB:function(a){this.sn=a;this.CT(this.sn/360)},T0:function(){return this.$p},CT:function(a){this.$p=a;this.sn=360*this.$p;a=this.ic.Ua();var c=0.5*a.width-15,d=p.Ai(360*this.$p-180);this.xg.F(this.Yb.x+0.5*a.width+c*Math.cos(d),this.Yb.y+0.5*a.height+c*Math.sin(d))},Ue:function(a){p.wb.prototype.Ue.call(this,a);this.xg&&this.xg.Z(a?255:128)},iG:function(){return this.ic},fQ:function(){return this.xg},hQ:function(){return this.Yb},
hB:function(a,c){return p.wb.prototype.s.call(this)?(this.$b(!0),this.ic=p.rd.Pl("huePickerBackground.png",a,c,p.a(0,0)),this.xg=p.rd.Pl("colourPicker.png",a,c,p.a(0.5,0.5)),this.xg.F(c.x,c.y+0.5*this.ic.Ua().height),this.Yb=c,this.$p=this.sn=0,!0):!1},fv:function(a){var c=this.ic.Ua();this.UB(p.rx(Math.atan2(a.y-(this.Yb.y+0.5*c.height),a.x-(this.Yb.x+0.5*c.width)))+180);this.xe(p.Fh)},yp:function(a){var c=Math.sqrt(Math.pow(a.x+10,2)+Math.pow(a.y,2));return 80>c&&59<c?(this.fv(a),!0):!1},Hb:function(a){if(!this.isEnabled()||
!this.ra)return!1;a=this.ni(a);return this.yp(a)},Wc:function(a){a=this.ni(a);this.yp(a)}});p.Ww.create=function(a,c){var d=new p.Ww;d.hB(a,c);return d};p.GC=p.wb.extend({ng:null,Tj:null,jl:null,ic:null,IQ:function(a){this.ng.Sd=a.sn;a=p.rd.tx(this.ng);p.wb.prototype.o.call(this,p.mv(0|255*a.i,0|255*a.h,0|255*a.f));this.xe(p.Fh);this.YN()},LO:function(a){this.ng.Bh=a.Fz;this.ng.W=a.Dt;a=p.rd.tx(this.ng);p.wb.prototype.o.call(this,p.mv(0|255*a.i,0|255*a.h,0|255*a.f));this.xe(p.Fh)},o:function(a){p.wb.prototype.o.call(this,a);var c=new p.RGBA;c.i=a.i/255;c.h=a.h/255;c.f=a.f/255;c.B=1;this.ng=p.rd.GJ(c);this.mF()},iG:function(){return this.ic},s:function(){if(p.wb.prototype.s.call(this)){this.$b(!0);
p.Af.d().BF(aa.uC);var a=p.$a.create(aa.vC);this.t(a);this.ng=new p.ex(0,0,0);this.ic=p.rd.Pl("menuColourPanelBackground.png",a,p.Ci(),p.a(0.5,0.5));var c=p.Xc(this.ic.p,p.a(this.ic.g().width/2,this.ic.g().height/2));this.jl=p.Ww.create(a,p.a(c.x+8,c.y+8));this.Tj=p.Xw.create(a,p.a(c.x+28,c.y+28));this.jl.CF(this,this.IQ,p.Fh);this.Tj.CF(this,this.LO,p.Fh);this.mF();this.t(this.jl);this.t(this.Tj);this.aa(this.ic.g());return!0}return!1},YN:function(){this.jl.UB(this.ng.Sd);this.Tj.XI(this.ng)},mF:function(){this.jl.UB(this.ng.Sd);
this.Tj.XI(this.ng);this.Tj.MU(this.ng)},Ue:function(a){p.wb.prototype.Ue.call(this,a);null!=this.jl&&this.jl.Ue(a);this.Tj&&this.Tj.Ue(a)},Hb:function(){return!1}});p.GC.create=function(){var a=new p.GC;a.s();return a};aa=aa||{};aa.uC=aa.uC||"res/extensions/CCControlColourPickerSpriteSheet.plist";aa.vC=aa.vC||"res/extensions/CCControlColourPickerSpriteSheet.png";p.nD=24;p.tX=8;
p.IC=p.wb.extend({sc:0,Qa:0,jb:0,tu:0,ru:0,kb:null,ik:null,td:null,uG:function(){return this.sc},ye:function(a){a=Math.max(a,this.Qa);this.sc=a=Math.min(a,this.jb);this.zc();this.xe(p.Fh)},RP:function(){return this.Qa},dI:function(a){this.tu=this.Qa=a;this.Qa>=this.jb&&(this.jb=this.Qa+1);this.ye(this.sc)},QP:function(){return this.jb},bI:function(a){this.ru=this.jb=a;this.jb<=this.Qa&&(this.Qa=this.jb-1);this.ye(this.sc)},th:function(a){a=a.X;a=this.getParent().yb(a);var c=this.Ua();c.Na.width+=
this.kb.g().width;c.Gc.x-=this.kb.g().width/2;return p.vb(c,a)},cm:function(a){a=a.X;a=this.yb(a);0>a.x?a.x=0:a.x>this.td.g().width&&(a.x=this.td.g().width);return a},u1:function(){return this.tu},O7:function(a){this.tu=a},r1:function(){return this.ru},N7:function(a){this.ru=a},rG:function(){return this.kb},b2:function(){return this.ik},V_:function(){return this.td},QQ:function(a,c,d){return p.wb.prototype.s.call(this)?(this.pi(!1),this.$b(!0),this.td=a,this.ik=c,this.kb=d,a=p.rd.wC(a.Ua(),d.Ua()),
this.aa(a.width,a.height),this.td.la(0.5,0.5),this.td.F(a.width/2,a.height/2),this.t(this.td),this.ik.la(0,0.5),this.ik.F(0,a.height/2),this.t(this.ik),this.kb.F(0,a.height/2),this.t(this.kb),this.Qa=0,this.jb=1,this.ye(this.Qa),!0):!1},Ue:function(a){p.wb.prototype.Ue.call(this,a);this.kb&&this.kb.Z(a?255:128)},vU:function(a){this.No(!0);this.kb.o(p.no());this.ye(this.pC(a))},xU:function(a){this.ye(this.pC(a))},wU:function(){this.In&&this.ye(this.pC(this.kb.p));this.kb.o(p.cb());this.No(!1)},X2:function(a){a=
a.X;a=this.yb(a);0>a.x?a.x=0:a.x>this.td.g().width+p.nD&&(a.x=this.td.g().width+p.nD);return a},Hb:function(a){if(!this.th(a)||!this.isEnabled()||!this.ra)return!1;a=this.cm(a);this.vU(a);return!0},Wc:function(a){a=this.cm(a);this.xU(a)},ue:function(){this.wU(p.Ci())},zc:function(){this.kb.Cb((this.sc-this.Qa)/(this.jb-this.Qa)*this.td.g().width);var a=this.ik.UA(),a=p.rect(a.x,a.y,this.kb.p.A,a.height);this.ik.mb(a,this.ik.wc,a.Na)},pC:function(a){a=a.x/this.td.g().width;return Math.max(Math.min(this.Qa+
a*(this.jb-this.Qa),this.ru),this.tu)}});p.IC.create=function(a,c,d){"string"==typeof a&&(a=p.w.create(a),c=p.w.create(c),d=p.w.create(d));var e=new p.IC;e.QQ(a,c,d);return e};p.KC=p.wb.extend({xc:null,kE:0,mq:!1,En:!1,ctor:function(){p.wb.prototype.ctor.call(this)},eB:function(a,c,d,e,f,g){if(!a)throw"cc.ControlSwitch.initWithMaskSprite(): maskSprite should be non-null.";if(!c)throw"cc.ControlSwitch.initWithMaskSprite(): onSprite should be non-null.";if(!d)throw"cc.ControlSwitch.initWithMaskSprite(): offSprite should be non-null.";if(!e)throw"cc.ControlSwitch.initWithMaskSprite(): thumbSprite should be non-null.";return this.s()?(this.$b(!0),this.En=!0,this.xc=new p.oJ,
this.xc.eB(a,c,d,e,f,g),this.xc.F(this.xc.g().width/2,this.xc.g().height/2),this.t(this.xc),this.pi(!1),this.la(0.5,0.5),this.aa(this.xc.g()),!0):!1},lw:function(a,c){var d=(this.En=a)?this.xc.ek:this.xc.nl;c?this.xc.dw(p.Cm.create(0.2,"sliderXPosition",this.xc.cj,d)):this.xc.YB(d);this.xe(p.Fh)},g4:function(){return this.En},u3:function(){return this.mq},Ue:function(a){this.Pp=a;this.xc.Z(a?255:128)},cm:function(a){a=a.X;return a=this.yb(a)},Hb:function(a){if(!this.th(a)||!this.isEnabled()||!this.ra)return!1;
this.mq=!1;this.kE=this.cm(a).x-this.xc.cj;this.xc.kb.o(p.no());this.xc.zc();return!0},Wc:function(a){a=this.cm(a);a=p.a(a.x-this.kE,0);this.mq=!0;this.xc.YB(a.x)},ue:function(a){a=this.cm(a);this.xc.kb.o(p.cb());this.mq?this.lw(!(a.x<this.xc.g().width/2),!0):this.lw(!this.En,!0)},wj:function(a){a=this.cm(a);this.xc.kb.o(p.cb());this.mq?this.lw(!(a.x<this.xc.g().width/2),!0):this.lw(!this.En,!0)}});p.KC.create=function(a,c,d,e,f,g){var h=new p.KC;return h&&h.eB(a,c,d,e,f,g)?h:null};
p.oJ=p.w.extend({cj:0,ek:0,nl:0,bF:0,cz:0,dz:null,rg:null,ai:null,kb:null,ol:null,ml:null,gn:null,Wb:null,Bt:null,ctor:function(){p.w.prototype.ctor.call(this);this.cz=this.nl=this.ek=this.cj=0;this.dz=p.size(0,0);this.ml=this.ol=this.kb=this.ai=this.rg=null},eB:function(a,c,d,e,f,g){return p.w.prototype.xa.call(this,a.Q())?(this.ek=0,this.nl=-c.g().width+e.g().width/2,this.cj=this.ek,this.ST(c),this.QT(d),this.$B(e),this.RT(f),this.PT(g),this.Wb=a,a=this.dz=this.Wb.g(),this.Wb.F(0,0),this.gn=p.Va.create(),
this.gn.la(0.5,0.5),this.gn.F(a.width/2,a.height/2),this.gn.ZB(this.Wb),this.Bt=p.fb.create(a.width,a.height),this.gn.t(this.Bt.Wa),this.t(this.gn),this.t(this.kb),this.zc(),!0):!1},zc:function(){this.rg.F(this.rg.g().width/2+this.cj,this.rg.g().height/2);this.ai.F(this.rg.g().width+this.ai.g().width/2+this.cj,this.ai.g().height/2);this.ol&&this.ol.F(this.rg.p.x-this.kb.g().width/6,this.rg.g().height/2);this.ml&&this.ml.F(this.ai.p.x+this.kb.g().width/6,this.ai.g().height/2);this.kb.F(this.rg.g().width+
this.cj,this.dz.height/2);this.Bt.kj();this.rg.ca();this.ai.ca();this.ol&&this.ol.ca();this.ml&&this.ml.ca();this.Bt.end()},YB:function(a){a<=this.nl?a=this.nl:a>=this.ek&&(a=this.ek);this.cj=a;this.zc()},A2:function(){return this.cj},p5:function(){return this.rg.g().width},n5:function(){return this.ai.g().height},mC:function(a,c){p.log("key \x3d "+c+", value \x3d "+a);this.YB(a)},X7:function(a){this.ek=a},L1:function(){return this.ek},U7:function(a){this.nl=a},F1:function(){return this.nl},L7:function(a){this.Wb.$(a)},
l1:function(){return this.Wb.Q()},I8:function(a){this.bF=a},N2:function(){return this.bF},K7:function(a){this.cz=a},k1:function(){return this.cz},ST:function(a){this.rg=a},M1:function(){return this.rg},QT:function(a){this.ai=a},G1:function(){return this.ai},$B:function(a){this.kb=a},rG:function(){return this.kb},RT:function(a){this.ol=a},K1:function(){return this.ol},PT:function(a){this.ml=a},E1:function(){return this.ml}});p.DC=0;p.EC=1;p.ms=2;p.Wo=p.k(55,55,55);p.Sw=p.k(147,147,147);p.CC="CourierNewPSMT";p.sC=0.15;p.cJ=12;
p.JC=p.wb.extend({ed:null,Je:null,dk:null,gk:null,sc:0,Bp:!1,Tm:!1,Ll:!1,Qa:0,jb:0,Al:0,Pq:!1,Gl:p.ms,tp:0,ctor:function(){p.wb.prototype.ctor.call(this);this.gk=this.dk=this.Je=this.ed=null;this.sc=0;this.Ll=this.Tm=this.Bp=!1;this.Al=this.jb=this.Qa=0;this.Pq=!1;this.Gl=p.ms;this.tp=0},NQ:function(a,c){if(!a)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Minus sprite should be non-null.";if(!c)throw"cc.ControlStepper.initWithMinusSpriteAndPlusSprite(): Plus sprite should be non-null.";
if(this.s()){this.$b(!0);this.Bp=this.Tm=!0;this.Qa=0;this.jb=100;this.sc=0;this.Al=1;this.Ll=!1;this.pi(!1);this.MT(a);this.ed.F(a.g().width/2,a.g().height/2);this.t(this.ed);this.LT(p.S.create("-",p.CC,40,p.size(40,40),p.Fi,p.rt));this.dk.o(p.Sw);this.dk.F(this.ed.g().width/2,this.ed.g().height/2);this.ed.t(this.dk);this.VT(c);this.Je.F(a.g().width+c.g().width/2,a.g().height/2);this.t(this.Je);this.UT(p.S.create("+",p.CC,40,p.size(40,40),p.Fi,p.rt));this.gk.o(p.Wo);this.gk.F(this.Je.g().width/2,
this.Je.g().height/2);this.Je.t(this.gk);var d=p.rd.wC(this.ed.Ua(),this.Je.Ua());this.aa(this.ed.g().width+this.Je.g().height,d.Na.height);return!0}return!1},X8:function(a){if(this.Ll=a)this.dk.o(p.Wo),this.gk.o(p.Wo);this.ye(this.sc)},dI:function(a){if(a>=this.jb)throw"cc.ControlStepper.setMinimumValue(): minimumValue should be numerically less than maximumValue.";this.Qa=a;this.ye(this.sc)},bI:function(a){if(a<=this.Qa)throw"cc.ControlStepper.setMaximumValue(): maximumValue should be numerically less than maximumValue.";
this.jb=a;this.ye(this.sc)},ye:function(a){this.cC(a,!0)},uG:function(){return this.sc},C8:function(a){if(0>=a)throw"cc.ControlStepper.setMaximumValue(): stepValue should be numerically greater than 0.";this.Al=a},S3:function(){return this.Bp},cC:function(a,c){a<this.Qa?a=this.Ll?this.jb:this.Qa:a>this.jb&&(a=this.Ll?this.Qa:this.jb);this.sc=a;this.Ll||(this.dk.o(a==this.Qa?p.Sw:p.Wo),this.gk.o(a==this.jb?p.Sw:p.Wo));c&&this.xe(p.Fh)},DI:function(){this.tp=-1;this.we(this.update,p.sC,p.Sk,3*p.sC)},
FI:function(){this.Qg(this.update)},update:function(){this.tp++;this.tp<p.cJ&&0!=this.tp%3||(this.Gl==p.DC?this.cC(this.sc-this.Al,this.Bp):this.Gl==p.EC&&this.cC(this.sc+this.Al,this.Bp))},QI:function(a){a.x<this.ed.g().width&&this.sc>this.Qa?(this.Gl=p.DC,this.ed.o(p.no()),this.Je.o(p.cb())):a.x>=this.ed.g().width&&this.sc<this.jb?(this.Gl=p.EC,this.ed.o(p.cb()),this.Je.o(p.no())):(this.Gl=p.ms,this.ed.o(p.cb()),this.Je.o(p.cb()))},Hb:function(a){if(!this.th(a)||!this.isEnabled()||!this.ra)return!1;
a=this.ni(a);this.QI(a);this.Pq=!0;this.Tm&&this.DI();return!0},Wc:function(a){this.th(a)?(a=this.ni(a),this.QI(a),this.Pq||(this.Pq=!0,this.Tm&&this.DI())):(this.Pq=!1,this.Gl=p.ms,this.ed.o(p.cb()),this.Je.o(p.cb()),this.Tm&&this.FI())},ue:function(a){this.ed.o(p.cb());this.Je.o(p.cb());this.Tm&&this.FI();this.th(a)&&(a=this.ni(a),this.ye(this.sc+(a.x<this.ed.g().width?0-this.Al:this.Al)))},MT:function(a){this.ed=a},w1:function(){return this.ed},VT:function(a){this.Je=a},W1:function(){return this.Je},
LT:function(a){this.dk=a},v1:function(){return this.dk},UT:function(a){this.gk=a},V1:function(){return this.gk}});p.JC.create=function(a,c){var d=new p.JC;return d&&d.NQ(a,c)?d:null};p.HC=p.wb.extend({kb:null,Gn:null,Fn:null,sc:0,Qa:0,jb:1,TQ:function(a,c,d){return this.s()?(this.$b(!0),this.YT(c),this.$B(d),this.kb.F(c.p),this.t(d,2),this.t(c,1),this.t(a),this.aa(a.g()),this.Qa=0,this.jb=1,this.ye(this.Qa),!0):!1},Ue:function(a){this.Ue(a);this.kb!=NULL&&this.kb.Z(a?255:128)},ye:function(a){a<this.Qa&&(a=this.Qa);a>this.jb&&(a=this.jb);this.sc=a;a=(a-this.Qa)/(this.jb-this.Qa);this.Gn.Qr(100*a);this.kb.ow(360*a);this.xe(p.Fh)},uG:function(){return this.sc},dI:function(a){this.Qa=
a;this.Qa>=this.jb&&(this.jb=this.Qa+1);this.ye(this.jb)},RP:function(){return this.Qa},bI:function(a){this.jb=a;this.jb<=this.Qa&&(this.Qa=this.jb-1);this.ye(this.Qa)},QP:function(){return this.jb},th:function(a){a=this.ni(a);return this.iP(this.Gn.p,a)<Math.min(this.g().width/2,this.g().height/2)},Hb:function(a){if(!this.th(a)||!this.isEnabled()||!this.ra)return!1;this.Fn=this.ni(a);this.bS(this.Fn);return!0},Wc:function(a){a=this.ni(a);this.dS(a)},ue:function(){this.cS(p.a(0,0))},iP:function(a,
c){var d=a.x-c.x,e=a.y-c.y;return Math.sqrt(d*d+e*e)},qO:function(a,c,d,e){return 180*(Math.atan2(c.x-a.x,c.y-a.y)-Math.atan2(e.x-d.x,e.y-d.y))/Math.PI},bS:function(){this.No(!0);this.kb.o(p.no())},dS:function(a){var c=this.qO(this.Gn.p,a,this.Gn.p,this.Fn);180<c?c-=360:-180>c&&(c+=360);this.ye(this.sc+c/360*(this.jb-this.Qa));this.Fn=a},cS:function(){this.kb.o(p.cb());this.No(!1)},$B:function(a){this.kb=a},rG:function(){return this.kb},YT:function(a){this.Gn=a},c2:function(){return this.Gn},i8:function(a){this.Fn=
a},XP:function(){return this.Fn}});p.HC.create=function(a,c,d){var e=new p.HC;return e&&(a=p.w.create(a),d=p.w.create(d),c=p.gc.create(p.w.create(c)),e.TQ(a,c,d))?e:null};p.lD=-1;p.Km=0;p.bt=1;p.at=2;p.SO=function(a){var c=p.da.d();return(c.ha+c.ma)/2*a/160};p.xK=p.oa.extend({ZS:function(){},$S:function(){}});
p.Ih=p.fc.extend({SY:0,CY:0,AY:0,zb:null,Uh:p.at,Wh:!1,HL:null,Da:null,zg:!1,pu:null,su:null,wp:!1,zp:!1,uq:null,Un:null,Qq:0,Ag:null,lh:null,zE:0,xE:0,oq:null,Gz:!1,cF:null,ctor:function(){p.fc.prototype.ctor.call(this);this.HL=new p.hg(0,0);this.pu=new p.hg(0,0);this.su=new p.hg(0,0);this.uq=new p.hg(0,0);this.Un=new p.hg(0,0);this.Ag=[];this.lh=new p.Lj(0,0);this.oq=new p.zf(0,0,0,0);this.cF=new p.zf(0,0,0,0)},s:function(){return this.tr(p.size(200,200),null)},aw:function(){p.FB(this.pk,!1,this)},
tr:function(a,c){var d=p.a(0,0);return p.fc.prototype.s.call(this)?(this.Da=c,this.Da||(this.Da=p.fc.create(),this.Da.pi(!1),this.Da.la(d)),this.rI(a),this.$b(!0),this.Ag.length=0,this.zb=null,this.zp=this.wp=!0,this.Uh=p.at,this.Da.F(d),this.Qq=0,this.t(this.Da),this.zE=this.xE=1,!0):!1},Ho:function(a,c){if(c)this.mT(a,0.15);else{if(!this.wp){var d=this.Cr(),e=this.Qv();a.x=Math.max(d.x,Math.min(e.x,a.x));a.y=Math.max(d.y,Math.min(e.y,a.y))}this.Da.F(a)}},EP:function(){var a=this.Da.p;return p.a(a.x,
a.y)},mT:function(a,c){var d=p.Ss.create(c,a),e=p.Xo.create(this.MN,this);this.Da.dw(p.Di.create(d,e));this.we(this.kz)},xI:function(a,c){if(c)this.mU(a,0.15);else{var d=this.Da;if(d.RA()!=a){var e,f;0==this.Qq?(f=this.lh,f=p.a(0.5*f.width,0.5*f.height),f=this.tk(f)):f=this.Un;e=d.yb(f);d.Bj(Math.max(this.zE,Math.min(this.xE,a)));e=d.tk(e);f=p.Xc(f,e);this.Ho(p.qf(d.p,f))}}},wG:function(){return this.Da.RA()},mU:function(a,c){if(0<c){var d=this.Da.RA();d!=a&&(d=p.Cm.create(c,"zoomScale",d,a),this.dw(d))}else this.xI(a)},
Cr:function(){var a=this.Da,c=a.g(),d=this.lh;return p.a(d.width-c.width*a.ha,d.height-c.height*a.ma)},Qv:function(){return p.a(0,0)},f4:function(a){var c=this.EP(),d=this.lh,e=this.wG(),c=p.rect(-c.x/e,-c.y/e,d.width/e,d.height/e);return p.oS(c,a.Ua())},pause:function(){this.Da.Vv();for(var a=this.Da.n,c=0;c<a.length;c++)a[c].Vv()},EH:function(){for(var a=this.Da.n,c=0,d=a.length;c<d;c++)a[c].cw();this.Da.cw()},V3:function(){return this.Wh},w4:function(){return this.zg},O3:function(){return this.wp},
W6:function(a){this.wp=a},j3:function(){return this.lh},rI:function(a){this.lh=a;p.H.prototype.aa.call(this,a)},o0:function(){return this.Da},e7:function(a){a&&(this.Ah(!0),this.Da=a,a.pi(!1),a.la(0,0),this.t(a),this.rI(this.lh))},C0:function(){return this.Uh},sT:function(a){this.Uh=a},Qb:function(){return this.zb},Og:function(a){this.zb=a},Hb:function(a){if(!this.ra)return!1;var c=this.Sy(),d=this.Da,e=d.tk(d.nh(a)),f=this.Ag;if(2<f.length||this.zg||!p.vb(c,e))return!1;f.push(a);1===f.length?(this.Un=
this.nh(a),this.zg=!1,this.Wh=!0,this.uq.x=0,this.Qq=this.uq.y=0):2==f.length&&(this.Un=p.wB(this.nh(f[0]),this.nh(f[1])),this.Qq=p.tB(d.nh(f[0]),d.nh(f[1])),this.Wh=!1);return!0},Wc:function(a){if(this.ra)if(1===this.Ag.length&&this.Wh){this.zg=!0;var c=this.Sy(),d=this.nh(a);a=p.Xc(d,this.Un);var e=0,f=this.Uh,e=f===p.bt?a.y:f===p.Km?a.x:Math.sqrt(a.x*a.x+a.y*a.y);if(this.zg||!(0.04375>Math.abs(p.SO(e))))if(this.zg||(a.x=0,a.y=0),this.Un=d,this.zg=!0,p.vb(c,this.tk(d))){switch(f){case p.bt:a.x=
0;break;case p.Km:a.y=0}d=this.Da.p;c=d.x+a.x;d=d.y+a.y;this.uq=a;this.Ho(p.a(c,d))}}else 2!==this.Ag.length||this.Wh||(a=p.tB(this.Da.nh(this.Ag[0]),this.Da.nh(this.Ag[1])),this.xI(this.wG()*a/this.Qq))},ue:function(){this.ra&&(1==this.Ag.length&&this.zg&&this.we(this.ry),this.Ag.length=0,this.zg=this.Wh=!1)},wj:function(){this.ra&&(this.Ag.length=0,this.zg=this.Wh=!1)},aa:function(a,c){null!=this.Da&&(2===arguments.length?this.Da.aa(a,c):this.Da.aa(a),this.NU())},g:function(){return this.Da.g()},
NU:function(){if(null!=this.Da){var a=this.lh,c=this.Qv();this.pu.x=c.x+0.2*a.width;this.pu.y=c.y+0.2*a.height;c=this.Cr();this.su.x=c.x-0.2*a.width;this.su.y=c.y-0.2*a.height}},Q3:function(){return this.zp},c7:function(a){this.zp=a},ca:function(a){if(this.ra){a=a||p.L;var c,d=this.n,e,f;if(p.Yc===p.wf){a.save();this.transform(a);this.OD(a);if(d&&0<d.length){f=d.length;this.md();for(c=0;c<f;c++)if((e=d[c])&&0>e.Pa)e.ca(a);else break;for(this.Ia(a);c<f;c++)d[c].ca(a)}else this.Ia(a);this.MD();a.restore()}else{p.wo();
var g=this.Yj;g&&g.ro()&&(g.wA(),this.Gw());this.transform(a);this.OD(a);if(d&&0<d.length){f=d.length;for(c=0;c<f;c++)if((e=d[c])&&0>e.Pa)e.ca();else break;for(this.Ia(a);c<f;c++)d[c].ca()}else this.Ia(a);this.MD(a);g&&g.ro()&&g.tA(this);p.vo()}}},t:function(a,c,d){if(!a)throw Error("child must not nil!");c=c||a.Pa;d=d||a.Kc;a.pi(!1);a.la(0,0);this.Da!=a?this.Da.t(a,c,d):p.fc.prototype.t.call(this,a,c,d)},$b:function(a){p.fc.prototype.$b.call(this,a);a||(this.zg=this.Wh=!1,this.Ag.length=0)},wY:function(){return null},
OM:function(a){var c=this.Cr(),d=this.Qv(),e=this.Uh,f=this.Da.p,g=f.x,h=f.y;if(e===p.at||e===p.Km)g=Math.max(g,c.x),g=Math.min(g,d.x);if(e==p.at||e==p.bt)h=Math.min(h,d.y),h=Math.max(h,c.y);h==f.y&&g==f.x||this.Ho(p.a(g,h),a)},ry:function(){if(this.Wh)this.Qg(this.ry);else{var a,c;a=this.Da.p;var d=this.uq;this.Da.F(a.x+d.x,a.y+d.y);this.wp?(a=this.pu,c=this.su):(a=this.Qv(),c=this.Cr());var e=this.Da.p.A,f=this.Da.p.I;d.x*=0.95;d.y*=0.95;this.Ho(p.a(e,f));if(1>=Math.abs(d.x)&&1>=Math.abs(d.y)||
f>a.y||f<c.y||e>a.x||e<c.x||e==a.x||e==c.x||f==a.y||f==c.y)this.Qg(this.ry),this.OM(!0)}},kz:function(){this.Wh&&this.Qg(this.kz)},MN:function(){this.Qg(this.kz)},OD:function(a){if(this.zp){this.Gz=!1;var c=this.Sy(),d=p.da.d(),e=this.ha,f=this.ma;a=a||p.L;if(p.Yc===p.wf)c=this.lh.width*e*d.ha,d=this.lh.height*f*d.ma,a.beginPath(),a.rect(0,0,c,-d),a.clip(),a.closePath();else if(d=p.da.d(),d.eR()){if(this.Gz=!0,this.oq=d.cQ(),p.nS(c,this.oq)){var g=this.oq;a=Math.max(c.x,g.x);f=Math.max(c.y,g.y);e=
Math.min(c.x+c.width,g.x+g.width);c=Math.min(c.y+c.height,g.y+g.height);d.XB(a,f,e-a,c-f)}}else a.enable(a.SCISSOR_TEST),d.XB(c.x,c.y,c.width,c.height)}},MD:function(a){this.zp&&p.Yc===p.Mj&&(this.Gz?(a=this.oq,p.da.d().XB(a.x,a.y,a.width,a.height)):(a=a||p.L,a.disable(a.SCISSOR_TEST)))},uY:function(){},Sy:function(){for(var a=this.tk(p.Ci()),c=this.lh,d=this.ha,e=this.ma,f=this.ga;null!=f;f=f.getParent())d*=f.ha,e*=f.ma;0>d&&(a.x+=c.width*d,d=-d);0>e&&(a.y+=c.height*e,e=-e);f=this.cF;f.x=a.x;f.y=
a.y;f.width=c.width*d;f.height=c.height*e;return f}});p.Ih.create=function(a,c){var d=new p.Ih;if(2==arguments.length){if(d&&d.tr(a,c))return d}else if(d&&d.s())return d;return null};p.yK=p.oa.extend({kw:function(){},rh:function(){return 0}});p.zK=p.yK.extend({fz:0,ctor:function(){this.fz=0},kw:function(a){this.fz=a},rh:function(){return this.fz}});function ha(a,c){return a.rh()-c.rh()}
p.Ow=p.oa.extend({vg:null,ctor:function(){this.vg=[]},MG:function(a){if(!a)throw"cc.ArrayForObjectSorting.insertSortedObject(): addObject should be non-null.";this.WQ(a,this.qo(a))},IS:function(a){if(0!=this.count()){var c=this.qo(a);c<this.count()&&c!=p.Hh&&this.fm(c).rh()==a.rh()&&this.IB(c)}},T7:function(a,c){var d=this.qo(c);if(d<this.count()&&d!=p.Hh){var e=this.fm(d);e.rh()==c.rh()&&(this.IB(d),e.kw(a),this.MG(e))}},cH:function(a){if(0==this.count())return null;var c=new p.zK;c.kw(a);var d=
this.qo(c);d<this.count()&&d!=p.Hh&&(c=this.fm(d),c.rh()!=a&&(c=null));return c},D1:function(){return null},qo:function(a){var c=0;if(a){var d=0;a=a.rh();for(var e=this.vg,f=0;f<e.length;f++){var g=e[f].rh();if(a==g||a>=d&&a<g)break;d=g;c++}}else c=p.Hh;return c},count:function(){return this.vg.length},J4:function(){var a=this.vg;return 0==a.length?null:a[a.length-1]},fm:function(a){return this.vg[a]},AF:function(a){this.vg.push(a);this.vg.sort(ha)},IB:function(a){p.Vo(this.vg,a);this.vg.sort(ha)},
WQ:function(a,c){this.vg=p.Mk(this.vg,a,c);this.vg.sort(ha)}});p.pD=0;p.BK=1;p.CX=p.H.extend({Vi:0,W0:function(){return this.Vi},ET:function(a){this.Vi=a},reset:function(){this.Vi=p.Hh},kw:function(a){this.Vi=a},rh:function(){return this.Vi}});p.EX=p.xK.extend({y9:function(){},x9:function(){},z9:function(){},A9:function(){}});p.DX=p.oa.extend({EU:function(a){return this.CO(a)},CO:function(){return p.uK},w9:function(){return null},k5:function(){return 0}});
p.yD=p.Ih.extend({Wn:null,Rc:null,bn:null,qy:null,$z:null,wu:null,Ft:null,fj:null,ctor:function(){p.Ih.prototype.ctor.call(this);this.wu=p.lD;this.Ft=[]},UK:function(a){var c=0,d=-1;switch(this.Uh){case p.Km:a=a.x;break;default:a=a.y}for(var e=this.Ft;d>=c;){var f=0|c+(d-c)/2,g=e[f],h=e[f+1];if(a>=g&&a<=h)return f;a<g?d=f-1:c=f+1}return 0>=c?0:-1},$L:function(a){a={x:a.x,y:a.y};this.Wn===p.pD&&(a.y=this.Da.g().height-a.y);a=this.UK(a);-1!=a&&(a=Math.max(0,a),-1<a&&(a=p.Hh));return a},XK:function(a){switch(this.Uh){case p.Km:a=
p.a(this.Ft[a],0);break;default:a=p.a(0,this.Ft[a])}return a},DM:function(a){var c=this.XK(a);a=this.qy.EU(this,a);this.Wn===p.pD&&(c.y=this.Da.g().height-c.y-a.height);return c},PY:function(){},dA:function(){var a=p.Tk();this.aa(a);this.wu!=this.Uh&&(this.Uh==p.Km?this.Ho(p.a(0,0)):this.Ho(p.a(0,this.Cr().y)),this.wu=this.Uh)},AE:function(a){this.bn.AF(a);this.Sj.IS(a);p.od(this.Rc,a.Vi);a.reset();a.getParent()==this.Da&&this.Da.removeChild(a,!0)},Hu:function(a,c){c.la(0,0);c.F(this.DM(a));c.ET(a)},
KD:function(a){a.getParent()!=this.Da&&this.Da.t(a);this.Sj.MG(a);var c=this.Rc;a=a.Vi;-1==c.indexOf(a)&&(c.push(a),c.sort(function(a,c){return a-c}))},u0:function(){return this.qy},qT:function(a){this.qy=a},Qb:function(){return this.$z},Og:function(a){this.$z=a},U8:function(a){this.Wn!=a&&(this.Wn=a,0<this.Sj.count()&&this.xS())},g3:function(){return this.Wn},tr:function(a,c){return p.Ih.prototype.tr.call(this,a,c)?(this.Sj=new p.Ow,this.bn=new p.Ow,this.Rc=[],this.$z=null,this.Wn=p.BK,this.sT(p.bt),
p.Ih.prototype.Og.call(this,this),!0):!1},O9:function(a){if(!(a==p.Hh||-1<a)){var c=this.AA(a);c&&this.AE(c);c=null;this.Hu(a,c);this.KD(c)}},H3:function(a){if(!(a==p.Hh||-1<a)){var c,d=this.Sj;if(c=d.cH(a))for(var e=c=d.qo(c);e<d.count();e++)c=d.fm(e),this.Hu(c.Vi+1,c);c=null;this.Hu(a,c);this.KD(c);this.dA()}},r6:function(a){if(!(a==p.Hh||-1<a)){var c=this.AA(a);if(c){var d=this.Sj,e=d.qo(c);this.AE(c);p.od(this.Rc,a);for(a=d.count()-1;a>e;a--)c=d.fm(a),this.Hu(c.Vi-1,c)}}},xS:function(){this.wu=
p.lD;for(var a=this.Sj,c=this.bn,d=this.Da,e=0,f=a.count();e<f;e++){var g=a.fm(e);c.AF(g);g.reset();g.getParent()==d&&d.removeChild(g,!0)}this.Rc=[];this.Sj=new p.Ow;this.dA()},$Z:function(){if(0===this.bn.count())return null;var a=this.bn.fm(0);this.bn.IB(0);return a},AA:function(a){return-1==this.Rc.indexOf(a)?null:this.Sj.cH(a)},ZS:function(){},$S:function(){},ue:function(a,c){if(this.ra){if(this.fj){var d=this.Ua();d.Gc=this.ga.tk(d.origin);this.fj=null}p.Ih.prototype.ue.call(this,a,c)}},Hb:function(a,
c){if(!this.ra)return!1;var d=p.Ih.prototype.Hb.call(this,a,c);if(1===this.Ag.length){var e;e=this.Da.nh(a);e=this.$L(e);this.fj=e===p.Hh?null:this.AA(e)}else this.fj&&(this.fj=null);return d},Wc:function(a,c){p.Ih.prototype.Wc.call(this,a,c);this.fj&&this.zg&&(this.fj=null)},wj:function(a,c){p.Ih.prototype.wj.call(this,a,c);this.fj&&(this.fj=null)}});p.yD.create=function(a,c,d){var e=new p.yD;e.tr(c,d);e.qT(a);e.dA();return e};p.Rb={};p.Rb.yF=function(a){for(var c in p.Rb.pB)a[c]=p.Rb.pB[c]};
p.Rb.pB={F:function(a,c){2==arguments.length?(this.p.A=a,this.p.I=c):(this.p.A=a.x,this.p.I=a.y);this.Ja();this.V.lC(this.p.A,-this.p.I)},Lo:function(a){this.p.I=a;this.Ja();this.V.lC(this.p.A,-this.p.I)},Cb:function(a){this.p.A=a;this.Ja();this.V.lC(this.p.A,-this.p.I)},Bj:function(a,c){this.ha=a;this.ma=c||a;this.Ja();this.V.resize(this.ha,this.ma)},Mo:function(a){this.ha=a;this.Ja();this.V.resize(this.ha,this.ma)},vm:function(a){this.ma=a;this.Ja();this.V.resize(this.ha,this.ma)},la:function(a,
c){var d=this.Fe;if(2===arguments.length){if(a===d.A&&c===d.I)return;d.A=a;d.I=c}else{if(a.x===d.A&&a.y===d.I)return;d.A=a.x;d.I=a.y}var e=this.cd,f=this.fa;e.A=f.sa*d.A;e.I=f.ea*d.I;this.V.style[p.rb.Fo+"TransformOrigin"]=""+e.A+"px "+-e.I+"px";this.ak?(this.V.style.marginLeft=0,this.V.style.marginBottom=0):(this.V.style.marginLeft=this.u4?0:-e.A+"px",this.V.style.marginBottom=-e.I+"px");this.Ja()},aa:function(a,c){var d=this.fa;if(2===arguments.length){if(a===d.sa&&c===d.ea)return;d.sa=a;d.ea=c}else{if(a.width===
d.sa&&a.height===d.ea)return;d.sa=a.width;d.ea=a.height}var e=this.cd,f=this.Fe;e.A=d.sa*f.A;e.I=d.ea*f.I;this.V.width=d.sa;this.V.height=d.ea;this.la(this.Fe);this.canvas&&(this.canvas.width=d.sa,this.canvas.height=d.ea);this.Ja();this.pS()},ow:function(a){this.cN!=a&&(this.Lf=this.eh=a,this.tl=Math.PI/180*this.Lf,this.tq=Math.PI/180*this.eh,this.Ja(),this.V.rotate(a))},sw:function(a){this.Dd=a;this.Ja();this.V.kI(this.Dd,this.Ed)},tw:function(a){this.Ed=a;this.Ja();this.V.kI(this.Dd,this.Ed)},u:function(a){this.ra=
a;this.Ja();this.V&&(this.V.style.display=a?"block":"none")},Ku:function(a){this.Pa=a;this.Ja();this.V&&(this.V.zIndex=a)},Pr:function(a){this.ga=a;null!==a&&(a.la(a.Fe),this.Ja(),p.Rb.Uv(this))},cw:function(){this.Se().rm(this);this.Qf().rm(this);this.V&&!this.V.parentNode&&(this.getParent()?p.Rb.Uv(this):this.V.Ql(p.mj));this.V&&(this.V.style.visibility="visible")},Vv:function(){this.Se().Hr(this);this.Qf().Hr(this);this.V&&(this.V.style.visibility="hidden")},mf:function(){this.gC();this.Xr();this.Cf(this.n,
p.H.$e.mf);this.V&&this.V.remove()},ES:function(){this.V.remove()},Z:function(a){this.bi=a;this.V.style.opacity=a/255},pS:function(){if(this.to){var a=this.n;this.n=[];p.w.prototype.ca.call(this,this.co);this.n=a}else p.w.prototype.ca.call(this,this.co)}};
p.Rb.ZM=function(){var a=p.rb("#EGLViewDiv");if(a){var c=p.da.d(),d=c.jo(),e=c.re,f=c.Cv(),g=d.width,h=d.height;0===d.width&&0===d.height&&(g=f.width,h=f.height);d=e.Na.width;0===e.Na.width&&0===e.Na.height&&(d=f.width);a.style.position="absolute";a.style.width=g+"px";a.style.maxHeight=h+"px";a.style.margin=0;a.resize(c.ha,c.ma);a.style.left=(d-g)/2+"px";a.style.bottom="0px"}};
p.Rb.Uv=function(a){var c=a.getParent();if(c&&a.V)if(c.V||(p.Rb.XR(c),c.Pr=p.Rb.pB.Pr),a.V.Ql(c.V),c.la(c.Fe),c.getParent())p.Rb.Uv(c);else if(c.ke)if(a=p.rb("#EGLViewDiv"))c.V.Ql(a);else{a=p.Fj("div");a.id="EGLViewDiv";var d=p.da.d(),e=d.jo(),f=d.re,g=d.Cv(),h=e.width,k=e.height;0===e.width&&0===e.height&&(h=g.width,k=g.height);e=f.Na.width;0===f.Na.width&&0===f.Na.height&&(e=g.width);a.style.position="absolute";a.style.width=h+"px";a.style.maxHeight=k+"px";a.style.margin=0;a.resize(d.ha,d.ma);a.style.left=
(e-h)/2+"px";a.style.bottom="0px";c.V.Ql(a);a.Ql(p.mj)}};p.Rb.setTransform=function(a){if(a.co)if(a.co.translate(a.cd.x,a.cd.y),a.to){var c=a.n;a.n=[];p.w.prototype.ca.call(a,a.co);a.n=c}else p.w.prototype.ca.call(a,a.co);a.V&&(a.V.position.x=a.p.x,a.V.position.y=-a.p.y,a.V.rotation=a.$P(),a.V.scale={x:a.ha,y:a.ma},a.V.Gk={x:a.Dd,y:a.Ed},a.la&&a.la(a.Fe),a.V.zm())};
p.Rb.yP=function(a){a.V=p.Fj("div");a.canvas=p.Fj("canvas");var c=a.g();a.canvas.width=c.width;a.canvas.height=c.height;a.V.style.position="absolute";a.V.style.bottom=0;a.co=a.canvas.getContext("2d");a.V.appendChild(a.canvas);a.getParent()&&p.Rb.Uv(a);a.to=!0};
p.Rb.XR=function(a){a.V=p.Fj("div");a.placeholder=!0;a.V.style.position="absolute";a.V.style.bottom=0;a.V.style.width=(a.g().width||p.M.d().ub.width)+"px";a.V.style.maxHeight=(a.g().height||p.M.d().ub.height)+"px";a.V.style.margin=0;p.Rb.setTransform(a);a.V.zm();p.Rb.yF(a)};
p.Rb.EA=function(a){if(1<arguments.length)p.Rb.EA(arguments);else if(1!=arguments.length||arguments[0].length)for(var c=arguments[0],d=0;d<c.length;d++)c[d]instanceof p.w?c[d].V||p.Rb.yP(c[d]):p.log("DOM converter only supports sprite and menuitems yet"),p.Rb.yF(c[d]),c[d].ca=function(){},c[d].transform=function(){},p.Rb.setTransform(c[d]),c[d].u(c[d].ra);else p.Rb.EA([arguments[0]])};p.MJ=0;p.pW=1;p.sW=2;p.rW=3;p.qW=4;p.BJ=0;p.UV=1;p.VV=2;p.WV=3;p.YV=4;p.TV=5;p.XV=6;p.zJ=0;p.AJ=1;p.SV=2;p.RV=3;p.QV=4;p.aW=p.oa.extend({wv:function(){},xv:function(){},yv:function(){},m_:function(){}});
p.ap=p.Pk.extend({Vh:null,zb:null,PL:p.BJ,OL:p.AJ,qM:p.MJ,LY:"",di:"",Tu:null,pq:null,vE:50,gL:18,Ma:null,Mp:14,Dy:"Arial",Ey:!1,lz:"",zu:14,MY:!1,ctor:function(a,c){p.Pk.prototype.ctor.call(this);this.Ey=!1;this.Tu=p.cb();this.pq=p.no();this.aa(a);this.Vh=new p.w;this.Vh.Ia=function(){};this.t(this.Vh);var d=this;c?(this.Ma=document.createElement("textarea"),this.Ma.style.resize="none",this.Ey=!0):this.Ma=document.createElement("input");this.Ma.type="text";this.Ma.style.fontSize=this.Mp+"px";this.Ma.style.color=
"#000000";this.Ma.style.border=0;this.Ma.style.background="transparent";this.Ma.style.width="100%";this.Ma.style.height="100%";this.Ma.style.TY=0;this.Ma.style.outline="medium";this.Ma.addEventListener("input",function(){d.zb&&d.zb.yv&&d.zb.yv(d,this.value)});this.Ma.addEventListener("keyup",function(a){a.keyCode===p.LJ.uP&&!1==d.Ey&&(a.stopPropagation(),a.preventDefault(),p.canvas.focus())});this.Ma.addEventListener("focus",function(){this.value==d.di&&(this.value="",this.style.fontSize=d.Mp+"px",
this.style.color=p.sk(d.Tu));d.zb&&d.zb.wv&&d.zb.wv(d)});this.Ma.addEventListener("blur",function(){""==this.value&&(this.value=d.di,this.style.fontSize=d.zu+"px",this.style.color=p.sk(d.pq));d.zb&&d.zb.xv&&d.zb.xv(d)});p.Rb.EA(this.Vh);this.Vh.V.appendChild(this.Ma);this.Vh.V.a9=!1;this.Vh.V.style.width=a.width-6+"px";this.Vh.V.style.height=a.height-6+"px";this.Vh.canvas.remove()},r7:function(a,c){this.Mp=c;this.Dy=a;this.Jz()},V8:function(){},BT:function(a){this.Dy=a;this.Jz()},WH:function(a){this.Mp=
a;this.Jz()},Jz:function(){this.Ma.value!=this.di&&(this.Ma.style.fontFamily=this.Dy,this.Ma.style.fontSize=this.Mp+"px")},Pg:function(a){null!=a&&(""==a?(this.Ma.value=this.di,this.Ma.style.color=p.sk(this.pq)):(this.Ma.value=a,this.Ma.style.color=p.sk(this.Tu)))},AT:function(a){this.Tu=a;this.Ma.value!=this.di&&(this.Ma.style.color=p.sk(a))},M7:function(a){!isNaN(a)&&0<a&&(this.vE=a,this.Ma.maxLength=a)},m1:function(){return this.vE},c8:function(a){if(null!=a){var c=this.di;this.di=a;this.Ma.value==
c&&(this.Ma.value=a,this.Ma.style.color=p.sk(this.pq),this.Iu())}},d8:function(a,c){this.lz=a;this.zu=c;this.Iu()},f8:function(a){this.lz=a;this.Iu()},g8:function(a){this.zu=a;this.Iu()},Iu:function(){this.Ma.value==this.di&&(this.Ma.style.fontFamily=this.lz,this.Ma.style.fontSize=this.zu+"px")},e8:function(a){this.pq=a;this.Ma.value==this.di&&(this.Ma.style.color=p.sk(a))},z7:function(a){this.OL=a;this.Ma.type=a==p.zJ?"password":"text"},Ba:function(){return this.Ma.value},PQ:function(a,c){return this.EG(c)?
(this.Vh.F(3,3),this.lU(!1),this.Aj(a),this.F(0,0),this.LD(this,this.GU,p.zC),!0):!1},Og:function(a){this.zb=a},U1:function(){return this.di},A7:function(a){this.PL=a},u8:function(a){this.qM=a},D4:function(a){var c=p.ap.Nd(this);c.y-=4;c.L3(a.end)?this.gL=a.end.q1()-c.t1():p.log("needn't to adjust view layout.")},B4:function(){},C4:function(){},A4:function(){},GU:function(){},DA:function(a){a=a.toString(16);return 1==a.length?"0"+a:a},QS:function(a,c,d){return"#"+this.DA(a)+this.DA(c)+this.DA(d)},
LH:function(a){this.Ma.style.background=this.QS(a.i,a.h,a.f)},C3:function(a,c){this.NL=a.width;this.V.style.width=this.NL.toString()+"px";this.ML=a.height;this.V.style.height=this.ML.toString()+"px";this.V.style.backgroundColor=p.sk(c)}});p.ap.Nd=function(a){var c=a.g(),c=p.rect(0,0,c.width,c.height);return p.ig(c,a.Er())};p.ap.create=function(a,c,d,e,f){d=new p.ap(a,d);c instanceof p.ec?d.LH(c):d.PQ(a,c)&&(e&&d.iw(e,p.BC),f&&d.iw(f,p.AC));return d};var v=[],ka=new XMLHttpRequest;ka.open("GET","config.txt",!1);ka.send(null);var la=ka.responseText,ra=la.split("\n")[0],sa=la.split("\n")[1];sa&&(ra+=":"+sa);var ta=io.connect(ra,{"sync disconnect on unload":!0,"connect timeout":5E3,"reconnection delay ":100});ta.on("connect",function(){w.Yw();w.AK();console.log("Client has connected to the server!");if(x){var a=x.d().Lc;a?a.wm(!0):v.push(JSON.stringify({connect:!0}))}else v.push(JSON.stringify({connect:!0}))});ta.on("message",function(a){reactToSocketMessage(a)});
reactToSocketMessage=function(a){a=JSON.parse(a);var c=!1,d;for(d in a){c=!0;break}if(!1!=c)if(console.log("Received a message from the server!",a),a.sync)a.mapdata&&w.RI(a.mapdata,a.maptime),a.warpdata&&w.nC(a.warpdata,a.warptime),a.itemdata&&w.Zr(a.itemdata,a.itemtime);else if(c=x.d().Lc)if(a.connect?c.wm(!0):a.disconnect&&c.wm(!1),"Game"==c.Rf())if(a.newPlayer)B.lO(a.newPlayer);else if(a.playerLeft)B.OF(a.playerLeft);else if(a.changemap){for(c=0;c<v.length;c++)d=JSON.parse(v[c]),d.moveTo&&d.id==
a.id&&(console.log("REMOVIN"),v.splice(c,1),c--);B.FO(a.id,a.changemap);B.oH(a.id,a.setTo)}else a.setTo?!B.qj(a.id)||B.qj(a.id)&&!1==B.qj(a.id).uj?B.oH(a.id,a.setTo):v.push(JSON.stringify(a)):a.moveTo?!B.qj(a.id)||B.qj(a.id)&&!1==B.qj(a.id).uj?B.vR(a.id,a.moveTo):v.push(JSON.stringify(a)):a.chatMessage?C.Ob(a.chatMessage):a.coinflip?C.Ob(a.coinflip):a.diceroll?C.Ob(a.diceroll):a.dance?C.Ob(a.dance):a.afk?B.GO(a.afk):a.savemap?(w.EO(a.savemap,a.mapdata,a.updatetime),F.oU(a.mapdata)):a.savewarps?(w.JO(parseInt(a.savewarps),
a.warpdata,a.updatetime),ObjectLists.Xl()[parseInt(a.savewarps)]=a.warpdata,Warpeditor&&(Warpeditor.hd=ObjectLists.Xl(),Warpeditor.Pb())):a.savewarpswhole?(w.sS(a.savewarpswhole,a.updatetime),ObjectLists.kU(a.savewarpswhole)):a.saveskills?(w.HO(parseInt(a.saveskills),a.skillsdata,a.updatetime),ObjectLists.mo()[parseInt(a.saveskills)]=a.skillsdata,Skillseditor&&(Skillseditor.hd=ObjectLists.mo(),Skillseditor.Pb()),ua.update(),Skills&&Skills.Ye()):a.saveskillswhole?(w.rS(a.saveskillswhole,a.updatetime),
ObjectLists.aU(a.saveskillswhole),ua.update(),Skills&&Skills.Ye()):a.saveitems?(w.DO(parseInt(a.saveitems),a.itemdata,a.updatetime),c=ObjectLists.li()[parseInt(a.saveitems)].name,ObjectLists.li()[parseInt(a.saveitems)]=a.itemdata,F.xG(F.e.Gd),Itemeditor&&(Itemeditor.hd=ObjectLists.li(),Itemeditor.Pb()),Inventory&&Inventory.Ye(),B.e.za.Zr(c,a.itemdata)):a.droppeditem?a.mapnumber==F.e.Gd&&!1==F.d().wk?(c=F.sG(a.index),c.kO(a.droppeditem),F.$r()):v.push(JSON.stringify(a)):a.pickupitem?a.mapnumber==F.e.Gd&&
(c=F.sG(a.pickupitem),c.yB(),F.$r()):a.saveitemswhole&&(w.qS(a.saveitemswhole,a.updatetime),ObjectLists.FT(a.saveitemswhole));else"Login"==c.Rf()&&(a.login_success?c.AR():a.login_fail&&c.sB(a.login_fail));else v.push(JSON.stringify(a))};ta.on("disconnect",function(){console.log("The client has disconnected!");var a=x.d().Lc;a?a.wm(!1):v.push(JSON.stringify({disconnect:!0}))});function H(a){ta.send(JSON.stringify(a))};var I=Object.freeze({Mc:{NF:"C to popup/dismiss, enter for chat. Say /help for help.",ZQ:"Welcome to the Powder Engine! Enter /help for some help.",HQ:"-------HELP------",GQ:" - Press C to expand the chat, I for Inventory",FQ:" - Space to grab Items and E for Equipment.",EQ:" - Enter /commands for command list",DQ:"-------------------",PO:"--COMMANDS--",OO:" - /editmap, /editwarp, /edititems, /editskills",NO:" - /dance, /coinflip, /diceroll, /afk",MO:"--------------------",zB:" has joined the game!",
YR:" has left the game!",lH:"Picked up ",pP:"Dropped ",$Q:"Your inventory is full"}});var K={},xa=p.ad.d();p.zi.d();xa.jI(["res/Graphics"]);ka=new XMLHttpRequest;ka.open("GET","res/Graphics/tile_graphics.txt",!1);ka.send(null);var la=ka.responseText,ya=la.split(","),M=[],za;for(za in ya)M.push({name:ya[za],texture:p.Gb.d().Pe(ya[za])});document.getElementById("gameCanvas").onkeydown=function(a){a.preventDefault();K[a.keyCode]=!0};window.onbeforeunload=function(){H({disconnect:!0})};
window.onfocus=function(){for(var a=[],c=v.length-1;0<=c;c--){var d=JSON.parse(v[c]);d.moveTo&&!a[d.id]?(a[d.id]=!0,d.setTo=d.moveTo,d.moveTo=null,v[c]=JSON.stringify(d)):d.moveTo&&a[d.id]&&v.splice(c,1)}};var O=p.r(255,255,255,255),P=p.r(0,255,0,255),Q=p.r(255,0,0,255);
document.getElementById("gameCanvas").onkeyup=function(a){K[a.keyCode]=!1;if(null!=x.d().Lc){a.stopPropagation();var c=null;switch(a.keyCode){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";
break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a.keyCode&&58>a.keyCode||64<a.keyCode&&91>a.keyCode)&&(c=String.fromCharCode(a.keyCode));null!=c&&x.d().Lc.Rv(c)}};function S(a,c){return a.ra&&p.vb(p.rect(a.p.A,a.p.I,a.g().width,a.g().height),c)}function Aa(a){var c={},d;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?Aa(a[d]):a[d];return c}
isMobile=function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a};function Ba(a,c){var d=c?a:a.Sf();return Ca(d,"panels")}
function Ca(a,c,d){c=d?d[c]:a[c];"undefined"!=typeof c.dR?d=Da.Yw(c.FU):"undefined"!=typeof c.m?(d=c.size?c.size:p.size(100,100),d=p.Jb.create(c.m,d.width,d.height)):d="undefined"!=typeof c.to?p.w.create():"undefined"!=typeof c.Ro?p.w.Fd(p.Gb.d().Pe(c.Ro)):"undefined"!=typeof c.label?p.S.create(c.label,c.font?c.I_:"Arial",c.fontSize?c.fontSize:14):p.H.create();"undefined"!=typeof c.size&&d.aa(Math.floor(c.size.width),Math.floor(c.size.height));"undefined"!=typeof c.position&&d.F(p.a(Math.floor(c.position.x),
Math.floor(c.position.y)));"undefined"!=typeof c.visible&&d.u(c.visible);"undefined"!=typeof c.c&&d.la(c.c);"undefined"!=typeof c.opacity&&d.Z(c.opacity);"undefined"!=typeof c.color&&d.o(c.color);if("undefined"!=typeof c.children)for(var e in c.children)d[e]=Ca(a,e,c.children),d.t(d[e]);return d}var T=p.size(960,640),Ha=Math.floor(T.height/32),U=Math.floor(T.width/32);function V(a,c){return parseInt(U*(Ha-c))+parseInt(a)}
function Ia(a,c){var d={},e;for(e in a)d[e]=Aa(a[e]);for(e in c)d[e]=Aa(c[e]);return d};var w=p.oa.extend({e:null,te:function(a){return(a=u.localStorage.getItem("last_"+a))?a:null},jw:function(a,c){return(c=u.localStorage.setItem("last_"+a,c))?c:null}});w.Yw=function(){this.e||(this.e=new w);return this.e};w.d=function(){return this.e};w.MP=function(a){if(this.e.te("maps")){if(a){var c=JSON.parse(u.localStorage.getItem("map_data"));return c[a]?c[a]:null}}else return[]};w.RI=function(a,c){this.e.jw("maps",c);u.localStorage.setItem("map_data",JSON.stringify(a))};
w.EO=function(a,c,d){var e=this.e.te("maps")?JSON.parse(u.localStorage.getItem("map_data")):[];e[a]=c;w.RI(e,d)};w.mQ=function(){if(this.e.te("warps")){if(""!=u.localStorage.getItem("warps_data"))var a=JSON.parse(u.localStorage.getItem("warps_data"));return a?a:[]}return[]};w.nC=function(a,c){this.e.jw("warps",c);u.localStorage.setItem("warps_data",JSON.stringify(a))};
w.JO=function(a,c,d){var e=this.e.te("warps")?""!=u.localStorage.getItem("warps_data")?JSON.parse(u.localStorage.getItem("warps_data")):[]:[];e[a]=c;w.nC(e,d)};w.sS=function(a,c){warparray=a;w.nC(warparray,c)};w.KP=function(){if(this.e.te("items")){if(""!=u.localStorage.getItem("items_data"))var a=JSON.parse(u.localStorage.getItem("items_data"));return a?a:[]}return[]};w.Zr=function(a,c){this.e.jw("items",c);u.localStorage.setItem("items_data",JSON.stringify(a))};
w.DO=function(a,c,d){var e=this.e.te("items")?""!=u.localStorage.getItem("items_data")?JSON.parse(u.localStorage.getItem("items_data")):[]:[];e[a]=c;w.Zr(e,d)};w.qS=function(a,c){itemsarray=a;w.Zr(itemsarray,c)};w.eQ=function(){if(this.e.te("skills")){if(""!=u.localStorage.getItem("skills_data"))var a=JSON.parse(u.localStorage.getItem("skills_data"));return a?a:[]}return[]};w.WI=function(a,c){this.e.jw("skills",c);u.localStorage.setItem("skills_data",JSON.stringify(a))};
w.HO=function(a,c,d){var e=this.e.te("skills")?""!=u.localStorage.getItem("skills_data")?JSON.parse(u.localStorage.getItem("skills_data")):[]:[];e[a]=c;w.WI(e,d)};w.rS=function(a,c){skillarray=a;w.WI(skillarray,c)};
w.AV=function(){u.localStorage.setItem("map_data",[]);u.localStorage.setItem("last_maps",0);u.localStorage.setItem("warps_data",[]);u.localStorage.setItem("last_warps",0);u.localStorage.setItem("items_data",[]);u.localStorage.setItem("last_items",0);u.localStorage.setItem("skills_data",[]);u.localStorage.setItem("last_skills",0)};
w.AK=function(){H({sync:!0,mapupdate:null!=this.e.te("maps")?this.e.te("maps"):2,warpupdate:null!=this.e.te("warps")?this.e.te("warps"):2,itemupdate:null!=this.e.te("items")?this.e.te("items"):2,skillsupdate:null!=this.e.te("skills")?this.e.te("skills"):2})};w.IT=function(a){!0!=a&&!1!=a||u.localStorage.setItem("mapedit_saveonexit",a)};w.NP=function(){return null==u.localStorage.getItem("mapedit_saveonexit")?!1:u.localStorage.getItem("mapedit_saveonexit")};var Da=p.H.extend({Pd:null,Qd:null,Rd:null,Vd:null,Wd:null,kd:null,item:null,Id:null,Jd:null,Ld:null,Kd:null,position:null,Xe:null,type:null,Bb:null,ctor:function(){this._super()},s:function(){this._super();this.Xe=p.S.create("","Arial",16);this.Xe.la(0.5,0.5);this.Xe.F(16,-16);this.Xe.Z(0);this.Xe.o(p.k(0,0,0));this.t(this.Xe,900);this.item=[];this.Bb=[];this.vi(0)},kO:function(a){this.zj(a.sprite.texture,a.sprite.position,"item");for(var c=0;c<ObjectLists.li().length;c++)if(a.name==ObjectLists.li()[c].name){this.rw({id:c,
data:{amount:a.amount}},!0);break}this.vi(4)},yB:function(){this.Bb[this.Bb.length-1].temp&&(this.item[this.item.length-1].T(),this.item.splice(this.item.length-1,1),this.$R())},zj:function(a,c,d){a=p.w.Fd(p.Gb.d().Pe(a));a.mb(p.rect(Math.floor(32*c.x),Math.floor(32*c.y),32,32));a.o(p.r(255,255,255,255));a.la(0,1);switch(d){case "ground1":null!=this.Pd&&this.Pd.T();this.Pd=a;this.t(this.Pd);break;case "ground2":null!=this.Qd&&this.Qd.T();this.Qd=a;this.t(this.Qd,1);break;case "groundShadow":null!=
this.Rd&&this.Rd.T();this.Rd=a;this.t(this.Rd,2);break;case "mask1":null!=this.Vd&&this.Vd.T();this.Vd=a;this.t(this.Vd,3);break;case "mask2":null!=this.Wd&&this.Wd.T();this.Wd=a;this.t(this.Wd,4);break;case "mask3":null!=this.kd&&this.kd.T();this.kd=a;this.t(this.kd,5);break;case "item":this.item.push(a);this.t(this.item[this.item.length-1],6);break;case "fringe1":null!=this.Id&&this.Id.T();this.Id=a;this.t(this.Id,7);break;case "fringe2":null!=this.Jd&&this.Jd.T();this.Jd=a;this.t(this.Jd,8);break;
case "fringeShadow":null!=this.Ld&&this.Ld.T();this.Ld=a;this.t(this.Ld,9);break;case "fringe3":null!=this.Kd&&this.Kd.T(),this.Kd=a,this.t(this.Kd,10)}},Wf:function(){var a=!0;if(null!=this.Pd&&this.Pd.Q()&&!1==this.Pd.Q().bc)a=!1;else if(null!=this.Qd&&this.Qd.Q()&&!1==this.Qd.Q().bc)a=!1;else if(null!=this.Rd&&this.Rd.Q()&&!1==this.Rd.O2)a=!1;else if(null!=this.Vd&&this.Vd.Q()&&!1==this.Vd.Q().bc)a=!1;else if(null!=this.Wd&&this.Wd.Q()&&!1==this.Wd.Q().bc)a=!1;else if(null!=this.kd&&this.kd.Q()&&
!1==this.kd.Q().bc)a=!1;else if(0<this.item.length)for(var c in this.item)this.item[c].Q()&&!1==this.item[c].Q().bc&&(a=!1);else null!=this.Id&&this.Id.Q()&&!1==this.Id.Q().bc?a=!1:null!=this.Jd&&this.Jd.Q()&&!1==this.Jd.Q().bc?a=!1:null!=this.Ld&&this.Ld.Q()&&!1==this.Ld.Q().bc?a=!1:null!=this.Kd&&this.Kd.Q()&&!1==this.Kd.Q().bc&&(a=!1);return a},gd:function(){null!=this.Pd&&this.Pd.T();this.Pd=null;null!=this.Qd&&this.Qd.T();this.Qd=null;null!=this.Rd&&this.Rd.T();this.Rd=null;null!=this.Vd&&this.Vd.T();
this.Vd=null;null!=this.Wd&&this.Wd.T();this.Wd=null;null!=this.kd&&this.kd.T();this.kd=null;for(var a=0;a<this.item.length;a++)this.item[a].T();this.item=[];this.kd=null;null!=this.Id&&this.Id.T();this.Id=null;null!=this.Jd&&this.Jd.T();this.Jd=null;null!=this.Ld&&this.Ld.T();this.Ld=null;null!=this.Kd&&this.Kd.T();this.Kd=null;this.vi(0);this.Bb=[];this.item=[]},IA:function(a){switch(a){case "ground1":null!=this.Pd&&this.Pd.T();this.Pd=null;break;case "ground2":null!=this.Qd&&this.Qd.T();this.Qd=
null;break;case "groundShadow":null!=this.Rd&&this.Rd.T();this.Rd=null;break;case "mask1":null!=this.Vd&&this.Vd.T();this.Vd=null;break;case "mask2":null!=this.Wd&&this.Wd.T();this.Wd=null;break;case "mask3":null!=this.kd&&this.kd.T();this.kd=null;break;case "item":for(a=0;a<this.item.length;a++)this.item[a].T(),this.item[a].splice(a,1),a--;this.item=[];break;case "fringe1":null!=this.Id&&this.Id.T();this.Id=null;break;case "fringe2":null!=this.Jd&&this.Jd.T();this.Jd=null;break;case "fringeShadow":null!=
this.Ld&&this.Ld.T();this.Ld=null;break;case "fringe3":null!=this.Kd&&this.Kd.T(),this.Kd=null}},vi:function(a){this.type=a;switch(this.type){case 0:this.Xe.ba("");break;case 1:this.Xe.ba("BLK");break;case 2:this.Xe.ba("SPW");break;case 3:this.Xe.ba("WRP");break;case 4:this.Xe.ba("ITM");break;case 5:this.Xe.ba("SCR");break;case 6:this.Xe.ba("SKL")}},rw:function(a,c){c||(c=!1);this.Bb.push({num:a.id,data:a.data,temp:c})},$R:function(){this.Bb.splice(this.Bb.length-1,1);0==this.Bb.length&&this.vi(0)},
mG:function(){return this.Bb[this.Bb.length-1]},dQ:function(){switch(this.type){case 3:return ObjectLists.Xl()[this.Bb[this.Bb.length-1].num];case 4:var a=ObjectLists.li()[this.Bb[this.Bb.length-1].num];a.amount=parseInt(this.Bb[this.Bb.length-1].data.amount);return a}},Wl:function(){switch(this.type){case 3:return ObjectLists.Xl()[this.Bb[this.Bb.length-1].num]?ObjectLists.Xl()[this.Bb[this.Bb.length-1].num]:null;case 4:return ObjectLists.li()[this.Bb[this.Bb.length-1].num]?ObjectLists.li()[this.Bb[this.Bb.length-
1].num]:null}},bU:function(a){this.Xe.Z(!0==a?255:0)},oi:function(){return this.type}});Da.Yw=function(a,c){var d=new Da;d.s();d.position=p.a(a,c);return d};StatsController=p.w.extend({data:null,Ov:null,Aa:null,s:function(a,c){this.data=a;this.Aa=c;this.XS()},update:function(){for(var a in this.data)this.Ov&&(0==this.data[a].value&&0<this.Ov[a]&&this.Aa.d9(a),this.data[a].yc>this.Ov[a].yc&&this.Aa.f9(a)),this.Ov[a]=this.data[a]},G2:function(a){return this.data[a].value},F2:function(a){return this.data[a].yc},X4:function(a,c){this.data[a].value+=c;this.data[a].value>this.data[a].Lg&&(this.data[a].value=this.data[a].Lg);0>this.data[a].value&&(this.data[a].value=
0)},IO:function(a,c){this.data[a].value=c;this.data[a].value>this.data[a].Lg&&(this.data[a].value=this.data[a].Lg);0>this.data[a].value&&(this.data[a].value=0)},W4:function(a,c){this.data[a].yc+=c;this.data[a].yc>this.data[a].Kg&&(this.data[a].yc=this.data[a].Kg);0>this.data[a].yc&&(this.data[a].yc=0)},IO:function(a,c){this.data[a].yc=c;this.data[a].yc>this.data[a].Kg&&(this.data[a].yc=this.data[a].Kg);0>this.data[a].yc&&(this.data[a].yc=0)},KZ:function(a,c){this.data[a].Kg=c},LZ:function(a,c){this.data[a].Lg=
c}});ObjectLists=p.oa.extend({rC:null,mB:null,fC:null});var W;ObjectLists.d=function(){W||(W=new ObjectLists,W.rC=w.mQ(),W.mB=w.KP(),W.fC=w.eQ());return W};ObjectLists.Xl=function(){return W.rC};ObjectLists.kU=function(a){W.rC=a};ObjectLists.li=function(){return W.mB};ObjectLists.FT=function(a){W.mB=a};ObjectLists.mo=function(){return W.fC};ObjectLists.aU=function(a){W.fC=a};var F=p.fc.extend({e:null,nd:null,D:null,wk:!1,Am:null,jm:null,AB:null,$l:null,ti:null,ri:null,si:null,uh:null,Gd:1,$F:function(a,c){function d(a,c){return{pK:a,value:c.x+c.y*U,x:c.x,y:c.y,Av:0,h:0}}function e(a,c){var d=c-1,e=c+1,g=a+1,h=a-1,k=-1<d&&f.D["tile"+V(a,d)]&&1!=f.D["tile"+V(a,d)].oi();myS=e<U&&f.D["tile"+V(a,e)]&&1!=f.D["tile"+V(a,e)].oi();myE=g<U&&f.D["tile"+V(g,c)]&&1!=f.D["tile"+V(g,c)].oi();myW=-1<h&&f.D["tile"+V(h,c)]&&1!=f.D["tile"+V(h,c)].oi();result=[];k&&result.push({x:a,y:d});
myE&&result.push({x:g,y:c});myS&&result.push({x:a,y:e});myW&&result.push({x:h,y:c});return result}for(var f=this,g=d(null,c),h,k,l,m,n,r=[],q=[],t=[d(null,a)],y=Array(Ha*U);h=t.length;){k=Ha*U;l=-1;for(m=0;m<h;m++)t[m].Av<k&&(k=t[m].Av,l=m);k=t.splice(l,1)[0];if(k.value===g.value){l=q[q.push(k)-1];do r.push(p.a(l.x,l.y));while(l=l.pK);y=q=t=[];r.reverse()}else{h=e(k.x,k.y);m=0;for(n=h.length;m<n;m++)l=d(k,h[m]),y[l.value]||(l.h=k.h+(Math.abs(h[m].x-k.x)+Math.abs(h[m].y-k.y)),l.Av=l.h+(Math.abs(h[m].x-
g.x)+Math.abs(h[m].y-g.y)),t.push(l),y[l.value]=!0);q.push(k)}}return r},nU:function(a){this.nd={};this.nd.mapdata={};for(var c in this.D)"tile"==c.substring(0,4)&&(this.D[c].gd(),this.nd[c]={});if(a)for(c in this.nd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.D[c].zj(a[c][d].texture,a[c][d].frame,d):(this.D[c].vi(a[c][d].type),a[c][d].script&&this.D[c].rw(a[c][d].script),4==a[c][d].type&&this.D[c].Wl()&&this.D[c].zj(this.D[c].Wl().sprite.texture,this.D[c].Wl().sprite.position,
"item"));else"mapdata"==c&&(this.ti=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ri=""!=a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.si=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.uh=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.we(this.EB)},Fk:function(a){B.d().u(!1);a=w.MP(a);this.nd={};this.nd.mapdata={};for(var c in this.D)"tile"==
c.substring(0,4)&&(this.D[c].gd(),this.nd[c]={});if(a)for(c in this.nd=a,a)if("tile"==c.substring(0,4))for(var d in a[c])"info"!=d?null!=a[c][d]&&this.D[c].zj(a[c][d].texture,a[c][d].frame,d):(this.D[c].vi(a[c][d].type),a[c][d].script&&this.D[c].rw(a[c][d].script),4==a[c][d].type&&this.D[c].Wl()&&this.D[c].zj(this.D[c].Wl().sprite.texture,this.D[c].Wl().sprite.position,"item"));else"mapdata"==c&&(this.ti=""!=a[c].mapConnectors.up&&null!=a[c].mapConnectors.up?a[c].mapConnectors.up:null,this.ri=""!=
a[c].mapConnectors.down&&null!=a[c].mapConnectors.down?a[c].mapConnectors.down:null,this.si=""!=a[c].mapConnectors.left&&null!=a[c].mapConnectors.left?a[c].mapConnectors.left:null,this.uh=""!=a[c].mapConnectors.right&&null!=a[c].mapConnectors.right?a[c].mapConnectors.right:null);this.we(this.EB)},EB:function(){for(var a in this.D)if("tile"==a.substring(0,4)&&!1==this.D[a].Wf())return;B.d().u(!0);B.Cj();this.Qg(this.EB);this.jm.u(!0);this.Am.u(!0);this.wk=!0},Sf:function(){for(var a={},c=0;c<U;c++)for(var d=
0;d<Ha;d++)a["tile"+(c+d*U)]={size:p.size(32,32),c:p.a(0,0),position:p.a(32*c,32*(Ha-d)),dR:!0,FU:p.a(d,c),visible:!1};return{panels:{children:a}}},s:function(){this.$b(!0);this.nI(1)},Hb:function(a){!this.$l||Mapeditor&&Mapeditor.ga||(this.$l=Mapeditor=null);if(this.$l)for(var c in this.D)"tile"==c.substring(0,4)&&p.vb(this.D[c].Ua(),p.a(a.X.x,a.X.y+32))&&(this.$l.KI(this.D,c),F.$r());else for(c in this.D)if("tile"==c.substring(0,4)&&p.vb(this.D[c].Ua(),p.a(a.X.x,a.X.y+32))){var d=B.e.za.ji();B.e.za.tI(this.$F(p.a(Math.floor(d.x),
Math.ceil(d.y)),p.a(this.D[c].p.x/32,this.D[c].p.y/32)))}return!0},Wc:function(a){if(this.$l){for(var c in this.D)"tile"==c.substring(0,4)&&p.vb(this.D[c].Ua(),p.a(a.X.x,a.X.y+32))&&(this.$l.KI(this.D,c,"moved"),F.$r());return!0}for(c in this.D)if("tile"==c.substring(0,4)&&p.vb(this.D[c].Ua(),p.a(a.X.x,a.X.y+32))){var d=B.e.za.ji();B.e.za.tI(this.$F(p.a(Math.floor(d.x),Math.ceil(d.y)),p.a(this.D[c].p.x/32,this.D[c].p.y/32)))}},ca:function(){this._super();if(!0==this.wk){this.Am.xA(0,0,0,0);for(var a in this.D)"tile"==
a.substring(0,4)&&(this.D[a].u(!0),null!=this.D[a].Id&&this.D[a].Id.u(!1),null!=this.D[a].Jd&&this.D[a].Jd.u(!1),null!=this.D[a].Ld&&this.D[a].Ld.u(!1),null!=this.D[a].Kd&&this.D[a].Kd.u(!1),this.D[a].ca(),null!=this.D[a].Id&&this.D[a].Id.u(!0),null!=this.D[a].Jd&&this.D[a].Jd.u(!0),null!=this.D[a].Ld&&this.D[a].Ld.u(!0),null!=this.D[a].Kd&&this.D[a].Kd.u(!0),this.D[a].u(!1));this.Am.end();this.jm.xA(0,0,0,0);for(a in this.D)if("tile"==a.substring(0,4)){this.D[a].u(!0);null!=this.D[a].Pd&&this.D[a].Pd.u(!1);
null!=this.D[a].Qd&&this.D[a].Qd.u(!1);null!=this.D[a].Rd&&this.D[a].Rd.u(!1);null!=this.D[a].Vd&&this.D[a].Vd.u(!1);null!=this.D[a].Wd&&this.D[a].Wd.u(!1);null!=this.D[a].kd&&this.D[a].kd.u(!1);for(var c=0;c<this.D[a].item.length;c++)this.D[a].item[c].u(!1);this.D[a].ca();null!=this.D[a].Pd&&this.D[a].Pd.u(!0);null!=this.D[a].Qd&&this.D[a].Qd.u(!0);null!=this.D[a].Rd&&this.D[a].Rd.u(!0);null!=this.D[a].Vd&&this.D[a].Vd.u(!0);null!=this.D[a].Wd&&this.D[a].Wd.u(!0);null!=this.D[a].kd&&this.D[a].kd.u(!0);
for(c=0;c<this.D[a].item.length;c++)this.D[a].item[c].u(!0);this.D[a].u(!1)}this.jm.end();this.wk=!1}}});
F.create=function(){this.e||(this.e=new F,this.e.D=Ba(this.e),this.e.t(this.e.D),this.e.Am=p.fb.create(T.width,T.height),this.e.Am.F(p.a(Math.floor(T.width/2),Math.floor(T.height/2))),this.e.t(this.e.Am),this.e.Am.u(!1),this.e.AB=p.H.create(),this.e.t(this.e.AB),this.e.jm=p.fb.create(T.width,T.height),this.e.jm.F(p.a(Math.floor(T.width/2),Math.floor(T.height/2))),this.e.t(this.e.jm),this.e.jm.u(!1),this.e.uw(-15),this.e.s());return this.e};F.d=function(){return this.e};
F.Nr=function(){this.e.T();this.e=null};F.$r=function(){this.e||(this.e=F.create());this.e.wk=!0};F.oU=function(a){this.e.nU(a)};F.d=function(){return this.e};F.zj=function(a,c,d,e){this.e.D[a].zj(c,d,e);this.e.nd[a][e]={texture:c,frame:d}};F.VI=function(){H({savemap:this.e.Gd,mapdata:this.e.nd})};F.IA=function(a,c){this.e.nd[a][c]=null;this.e.D[a].IA(c)};F.Po=function(a,c,d,e){this.e.D[a].vi(c);d?(this.e.D[a].rw(d,e),this.e.nd[a].info={type:c,script:{id:d,data:e?e:null}}):this.e.nd[a].info={type:c}};
F.aI=function(a){this.e.nd.mapdata.mapConnectors=a;this.e.ti=a.up;this.e.ri=a.down;this.e.si=a.left;this.e.uh=a.right};F.wP=function(a,c,d){for(var e in this.e.D)"tile"==e.substring(0,4)&&(this.e.D[e].zj(a,c,d),this.e.nd[e][d]={texture:a,frame:c})};F.lI=function(a){for(var c in this.e.D)"tile"==c.substring(0,4)&&this.e.D[c].bU(a);this.e.wk=!0};F.D8=function(){for(var a in this.e.D)"tile"==a.substring(0,4)&&this.e.D[a].Xe.ba(a.substring(4));this.e.wk=!0};F.AG=function(){return null!=this.e.ti};
F.yG=function(){return null!=this.e.ri};F.zG=function(){return null!=this.e.si};F.YA=function(){return null!=this.e.uh};F.h1=function(){return this.e.Gd};F.j1=function(){return this.e.ti};F.f1=function(){return this.e.ri};F.g1=function(){return this.e.si};F.i1=function(){return this.e.uh};F.xG=function(a){B.d().u(!1);F.gd();this.e.Gd=a;B.e.za.Jo(a);B.Cj();this.e.Fk(a)};F.rQ=function(){B.d().u(!1);F.gd();this.e.Gd=this.e.ti;B.e.za.Jo(this.e.ti);B.Cj();this.e.Fk(this.e.ti)};
F.oQ=function(){B.d().u(!1);F.gd();this.e.Gd=this.e.ri;B.e.za.Jo(this.e.ri);B.Cj();this.e.Fk(this.e.ri)};F.pQ=function(){B.d().u(!1);F.gd();this.e.Gd=this.e.si;B.e.za.Jo(this.e.si);B.Cj();this.e.Fk(this.e.si)};F.qQ=function(){B.d().u(!1);F.gd();this.e.Gd=this.e.uh;B.e.za.Jo(this.e.uh);B.Cj();this.e.Fk(this.e.uh)};F.VB=function(a){this.e.$l=a};F.VA=function(a,c){return a>U-1||0>a?void 0:this.e.D["tile"+(a+(Ha-c)*U)]};F.sG=function(a){return this.e.D["tile"+a]};F.mO=function(){var a=B.d();this.e.AB.t(a)};
F.gd=function(){this.e.nd={};for(var a in this.e.D)"tile"==a.substring(0,4)&&(this.e.D[a].gd(),this.e.nd[a]={});this.e.nd.mapdata={};this.e.wk=!0};var B=p.fc.extend({e:null,Ib:[],za:null});B.d=function(){return this.e};B.Nr=function(){this.e.T();this.e=null};B.create=function(a){this.e||(this.e=new B,this.e.za=PlayerCharacter.create(a),this.e.za.F(320,320),this.e.t(this.e.za));return this.e};B.n3=function(){return this.e.za};B.qj=function(a){return this.e.Ib[a]};
B.lO=function(a){this.e.Ib[a]=PlayerCharacter.create({name:a,Qo:{health:{yc:1,value:100,Lg:200,Kg:900},mana:{yc:1,value:100,Lg:200,Kg:99}},map:1,Dw:"sprites1.png",Aw:1});this.e.Ib[a].F(320,320);B.Cj();this.e.t(this.e.Ib[a]);C.Ob(a+I.Mc.zB)};B.OF=function(a){if(this.e.Ib[a]){this.e.Ib[a].T();this.e.Ib[a]=null;C.Ob(a+I.Mc.YR);for(var c=0;c<v.length;c++){var d=JSON.parse(v[c]);d.id&&d.id==a&&(v.splice(c,1),c--)}}};
B.vR=function(a,c){this.e.Ib[a]&&"default"!=c?this.e.Ib[a].SU(c):(this.e.Ib[a]=PlayerCharacter.create({name:a,Qo:{health:{yc:1,value:100,Lg:200,Kg:900},mana:{yc:1,value:100,Lg:200,Kg:99}},map:1,Dw:"sprites1.png",Aw:1}),this.e.Ib[a].F(320,320),this.e.Ib[a].F(p.a(c%U*32,32*Math.floor(c/U))),B.Cj(),this.e.t(this.e.Ib[a]),C.Ob(a+I.Mc.zB))};
B.oH=function(a,c){this.e.Ib[a]&&"default"!=c?this.e.Ib[a].F(p.a(c%U*32,32*Math.floor(c/U))):(this.e.Ib[a]=PlayerCharacter.create({name:a,Qo:{health:{yc:1,value:100,Lg:200,Kg:900},mana:{yc:1,value:100,Lg:200,Kg:99}},map:1,Dw:"sprites1.png",Aw:1}),this.e.Ib[a].F(p.a(c%U*32,32*Math.floor(c/U))),B.Cj(),this.e.t(this.e.Ib[a]),C.Ob(a+I.Mc.zB))};B.GO=function(a){this.e.Ib[a]&&this.e.Ib[a].updateStatus("AFK")};
B.Cj=function(){var a=this.e.za.Do,c;for(c in this.e.Ib)null!=this.e.Ib[c]&&this.e.Ib[c].u(this.e.Ib[c].Do==a)};B.gd=function(){for(var a in this.e.Ib)null!=this.e.Ib[a]&&B.OF(a);this.e.za.T();this.e.za=null};B.FO=function(a,c){this.e.Ib[a].Jo(c);this.e.Ib[a].u(this.e.za.Do==c)};Character=p.w.extend({name:null,Qo:null,II:null,oZ:null,tf:null,uj:!1,em:null,zw:null,so:!1,status:null,Do:null,path:null,s:function(a){this.dU(a.Dw,a.Aw);this.Qo=new StatsController(a.e9,this);this.t(this.Qo);this.name=a.name;a.so&&(this.so=a.so);a.map&&(this.Do=a.map);this.la(0,1);this.em=p.S.create("","Arial",12);this.em.la(0.5,0);this.em.o(255,0,0);this.em.F(Math.floor(this.g().width/2),this.g().width+3);this.t(this.em);this.SI()},Jo:function(a){this.Do=a},e1:function(){return this.Do},updateStatus:function(a){this.status=
a&&a!=this.status?a:null;this.SI()},SI:function(){null!=this.status?this.em.ba(this.name+"-"+this.status):this.em.ba(this.name)},getName:function(){return this.name},We:function(a,c){this.mb(p.rect(32*a,128*this.II.id+32*c,32,32));this.zw=p.a(a,c)},Gg:function(){return this.zw},dU:function(a,c){this.II={name:a,id:c};this.$(p.Gb.d().Pe(a));this.We(1,0)},ji:function(){return p.a(this.p.x/32,this.p.y/32)},jv:0.24,QU:0.24,tv:2,TU:function(a){this.F(a.position%U*32,32*Math.floor(a.position/U));H({changemap:a.mapTo,
setTo:a.position});F.xG(a.mapTo)},YQ:function(){if(!this.uj){var a=this.ji(),a=F.VA(a.x,a.y);switch(a.oi()){case 4:this.yB(a.dQ())}}},es:function(a){this.jv+=a;a=this.p;var c=this.Gg();this.jv>this.QU&&(this.jv=0,this.tf.x<a.x?this.We((c.x+1)%3,1):this.tf.x>a.x?this.We((c.x+1)%3,2):this.tf.y<a.y?this.We((c.x+1)%3,0):this.tf.y>a.y&&this.We((c.x+1)%3,3));this.tf.x<a.x?this.Cb(a.x-this.tv):this.tf.x>a.x?this.Cb(a.x+this.tv):this.tf.y<a.y?this.Lo(a.y-this.tv):this.tf.y>a.y&&this.Lo(a.y+this.tv);a.y==
this.tf.y&&a.x==this.tf.x&&(this.uj=!1,this.Qg(this.es),null!=this.path&&this.EF())},fs:function(a,c){if(!1!=this.ra){var d=F.VA(a,c),e=this.zw,f=this.ji();f.x>a?this.We(e.x,1):f.x<a&&this.We(e.x,2);f.y>c?this.We(e.x,0):f.y<c&&this.We(e.x,3);if(!d)this.so&&null==Mapeditor&&(f.x<a&&F.YA()?(this.F(0,32*c),H({changemap:parseInt(F.e.uh),setTo:0+c*U}),F.qQ()):f.x>a&&F.zG()&&(this.F(32*(U-1),32*c),H({changemap:parseInt(F.e.si),setTo:U-1+c*U}),F.pQ()),f.y<c&&F.AG()?(this.F(32*a,32),H({changemap:parseInt(F.e.ti),
setTo:a+1*U}),F.rQ()):f.y>c&&F.yG()&&(H({changemap:parseInt(F.e.ri),setTo:a+Ha*U}),F.oQ(),this.F(32*a,32*Ha)));else if(!1==this.uj&&d){switch(d.oi()){case 1:return;case 3:this.TU(d.Wl());return}this.tf=p.a(32*a,32*c);this.uj=!0;this.we(this.es);this.es(0);this.so&&H({moveTo:this.tf.x/32+this.tf.y/32*U})}}},EF:function(){0==this.path.length?this.path=null:(this.path.splice(0,1),0==this.path.length?this.path=null:this.fs(this.path[0].x,this.path[0].y))},tI:function(a){if(null==this.path||0!=a.length)this.path=
a,this.EF()},SU:function(a){if(!1!=this.ra){var c=a%U;a=Math.floor(a/U);if(!1==this.uj){var d=this.zw,e=this.ji();4<Math.abs(p.tB(p.a(c,a),e))?this.F(p.a(32*c,32*a)):(e.x>c?this.We(d.x,1):e.x<c?this.We(d.x,2):e.y>a?this.We(d.x,0):e.y<a&&this.We(d.x,3),this.tf=p.a(32*c,32*a),this.uj=!0,this.we(this.es),this.es(0))}}}});
PlayerCharacter=Character.extend({items:null,s:function(a){this._super(a);this.items={stored:[],equipped:{}}},Zr:function(a,c){for(var d=0;d<this.items.stored.length;d++)this.items.stored[d].name==a&&(this.items.stored[d]=c)},yB:function(a){var c=this.ji(),d=F.VA(c.x,c.y);if(!0==a.stackable)for(var e=0;40>e;e++)if(this.items.stored[e]&&this.items.stored[e].name==a.name){Inventory&&(this.items.stored[e].amount+=a.amount,Inventory.Tr(e,this.items.stored[e].amount));C.Ob(I.Mc.lH+a.name);d.mG().temp?
H({pickupitem:V(c.x,c.y),mapnumber:F.e.Gd,temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:F.e.Gd});return}for(var f=!1,e=0;40>e;e++)if(null==this.items.stored[e]){this.items.stored[e]=Aa(a);Inventory&&Inventory.Tr(e,this.items.stored[e].amount);C.Ob(I.Mc.lH+a.name);d.mG().temp?H({pickupitem:V(c.x,c.y),mapnumber:F.e.Gd,temp:!0}):H({pickupitem:V(c.x,c.y),mapnumber:F.e.Gd});f=!0;break}!1==f&&C.Ob(I.Mc.$Q)},XF:function(a,c){var d=this.ji();C.Ob(I.Mc.pP+this.items[c][a].name);H({droppeditem:this.items[c][a],
mapnumber:F.e.Gd,index:V(d.x,d.y)});!0==this.items[c][a].stackable&&1<this.items[c][a].amount&&Inventory.Tr(a,0);this.items[c][a]=null;Inventory&&Inventory.Ye();Equipment&&Equipment.Ye()},OU:function(a){switch(this.items.stored[a].itemType){case "book":null==Book||Book.ga||(Itemeditor=null);Book&&(Book.pc(),Book.T(),Book=null);Book=new BookPanel;Book.s(this.items.stored[a]);Book.Pb();this.ga.ga.ga.t(Book);break;case "wearable":this.vP(a)}},vP:function(a){var c=null;this.items.equipped[this.items.stored[a].subType]&&
(c=Aa(this.items.equipped[this.items.stored[a].subType]));this.items.equipped[this.items.stored[a].subType]=Aa(this.items.stored[a]);this.items.stored[a]=c;Inventory&&Inventory.Ye();Equipment&&Equipment.Ye()},dP:function(a){for(var c=0;40>c;c++)if(null==this.items.stored[c]){this.items.stored[c]=Aa(this.items.equipped[a]);this.items.equipped[a]=null;Inventory&&Inventory.Ye();Equipment&&Equipment.Ye();return}C.Ob("No space in inventory to dequip this item.")},kr:function(){return this.items.stored},
PA:function(){return this.items.equipped}});PlayerCharacter.create=function(a){var c=new PlayerCharacter;c.s(a);return c};NonPlayerCharacter=Character.extend({S4:null});var Ja=p.fc.extend({OB:null,b:null,ctor:function(){this._super()},$I:function(){},wm:function(){},Pb:function(){this.b&&this.b.T();this.b=Ba(this);this.t(this.b)},pc:function(){},s:function(){this.nI(1);this.$b(!0);x.Lr(this);this._super()},rB:function(){p.log("Override onKeyDown in scene extended class to use keyboard")},Rv:function(){p.log("Override onKeyUp in scene extended class to use keyboard")},DT:function(a){this.OB=a},Rf:function(){return this.OB}});Popup=Ja.extend({Yf:null,Zl:!1,s:function(){this.OB=this.Rf();this._super();x.Lr(this);this.pU();this.uw(-50)},o_:function(){this.T()},Hb:function(a){var c=a.X;x.Lr(this);c=this.b.control_panel.yb(c);if(p.vb(p.rect(this.b.control_panel.exitBtn.p.A,this.b.control_panel.exitBtn.p.I,this.b.control_panel.exitBtn.g().width,this.b.control_panel.exitBtn.g().height),c)){var d=this;this.ga.Ch(function(){!1==d.Zl&&d.pc();d.T();d=null});return!0}return p.vb(p.rect(this.b.p.x,this.b.p.y+this.b.control_panel.p.y,
this.b.control_panel.g().width,this.b.control_panel.g().height),a.X)?(this.Yf=this.b.nh(a),!0):!1},Wc:function(a){if(this.Yf)return a=a.X,this.b.F(p.a(a.x-this.Yf.x,a.y-this.Yf.y)),!0},ue:function(){this.Yf=null},pU:function(){p.log("Ovveride setupPopup")},Rf:function(){p.log("No id given... using default 'Popup'");return"Popup"},ue:function(){}});Book=null;
BookPanel=Popup.extend({data:null,ve:null,Rf:function(){return"Book"},Sf:function(){return{panels:{position:p.a(100,20),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(512,320),m:p.r(0,0,100,200),children:{pageBackbtn:{position:p.a(4,4),size:p.size(96,32),m:p.r(255,255,255,255),c:p.a(0,0),children:{text:{label:"Previous Page",fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},pageForwardbtn:{position:p.a(412,4),size:p.size(96,32),m:p.r(255,255,255,255),c:p.a(0,0),children:{text:{label:"Next Page",
fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},pageSplitter:{position:p.a(254,0),size:p.size(4,320),m:p.r(255,255,255,255),c:p.a(0,0)},leftPage:{label:0<this.ve.length?this.ve[0]:this.ve,c:p.a(0,1),position:p.a(4,316),color:p.k(255,255,255)},rightPage:{label:0<this.ve.length?this.ve[1]:"",c:p.a(0,1),position:p.a(260,316),color:p.k(255,255,255)}}},control_panel:{c:p.a(0,0),position:p.a(0,320),size:p.size(512,32),m:p.r(255,0,0,200),children:{header:{label:this.data.name,fontSize:20,
c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(482,3),size:p.size(26,26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},s:function(a){this._super();this.data=a;this.ve=[];for(a=a.additionalData.Contents;a;)if(490>a.length){this.ve.push(a);break}else this.ve.push(a.substr(0,490)+"..."),a=a.substr(490);this.TR=Math.floor(this.ve.length/2)-1;this.ii=0},Pb:function(){this._super();this.b.main_panel.leftPage.SH(p.size(248,
0));this.b.main_panel.rightPage.SH(p.size(248,0));this.b.main_panel.pageBackbtn.u(!1);2>this.ve.length&&this.b.main_panel.pageForwardbtn.u(!1)},sQ:function(){this.ii++;this.b.main_panel.pageBackbtn.u(!0);this.ii==this.TR&&this.b.main_panel.pageForwardbtn.u(!1);this.b.main_panel.leftPage.ba(this.ve[2*this.ii]);this.ve[2*this.ii+1]?this.b.main_panel.rightPage.ba(this.ve[2*this.ii+1]):this.b.main_panel.rightPage.ba("")},tQ:function(){this.ii--;this.b.main_panel.pageForwardbtn.u(!0);0==this.ii&&this.b.main_panel.pageBackbtn.u(!1);
this.b.main_panel.leftPage.ba(this.ve[2*this.ii]);this.ve[2*this.ii+1]&&this.b.main_panel.rightPage.ba(this.ve[2*this.ii+1])},Hb:function(a){if(this._super(a))return!0;this.Yf=null;a=this.b.main_panel.yb(a.X);if(S(this.b.main_panel.pageForwardbtn,a))return this.sQ(),!0;if(S(this.b.main_panel.pageBackbtn,a))return this.tQ(),!0}});Equipment=null;
EquipmentPanel=Popup.extend({Rf:function(){return"Equipment"},Sf:function(){var a={to:!0,size:p.size(32,32),c:p.a(0,0)},a={head:Ia(a,{position:p.a(88,162)}),body:Ia(a,{position:p.a(88,122)}),legs:Ia(a,{position:p.a(88,82)}),feet:Ia(a,{position:p.a(88,40)}),rarm:Ia(a,{position:p.a(128,122)}),larm:Ia(a,{position:p.a(48,122)}),mod:Ia(a,{position:p.a(8,162)})};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(168,168),m:p.r(255,255,255,200),children:a},control_panel:{c:p.a(0,0),
position:p.a(0,168),size:p.size(168,32),m:p.r(255,0,0,200),children:{header:{label:"Equipment",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(139,3),size:p.size(26,26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}},item_name:{position:p.a(0,0),m:p.r(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,
0),m:p.r(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),m:p.r(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),m:p.r(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},Ye:function(){var a=B.e.za.PA();this.b.main_panel.head.$(null);this.b.main_panel.body.$(null);
this.b.main_panel.legs.$(null);this.b.main_panel.feet.$(null);this.b.main_panel.larm.$(null);this.b.main_panel.rarm.$(null);this.b.main_panel.mod.$(null);for(var c in a)if(a[c]){for(var d in M)if(M[d].name==a[c].sprite.texture)var e=M[d].texture;this.b.main_panel[a[c].subType].la(0,1);this.b.main_panel[a[c].subType].$(e);this.b.main_panel[a[c].subType].mb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,32,32))}},Hb:function(a){if(this._super(a))return!0;this.Yf=null;var c=a.X;a=this.b.main_panel.yb(c);
c=this.b.control_menu.yb(c);if(null!=this.of)return S(this.b.control_menu.dropbtn,c)&&B.e.za.XF(this.of,"equipped"),S(this.b.control_menu.unequipbtn,c)&&B.e.za.dP(this.of),this.of=null,this.b.control_menu.u(!1),!0;this.of=null;this.b.control_menu.u(!1);var c=B.e.za.PA(),d;for(d in c)if(c[d]){var e=1==this.b.main_panel[c[d].subType].Fe.y?32:0;if(S(this.b.main_panel[c[d].subType],p.a(a.x,a.y+e)))return this.b.control_menu.u(!0),this.b.control_menu.F(p.a(this.b.main_panel[c[d].subType].p.A+28,this.b.main_panel[c[d].subType].p.I-
(0!=e?40:0)-8)),this.of=d,!0}},xh:function(a){var c=this.b.main_panel.yb(a);a=this.b.control_menu.yb(a);this.b.control_menu.unequipbtn.o(p.r(200,200,200,200));this.b.control_menu.dropbtn.o(p.r(200,200,200,200));this.b.item_name.u(!1);if(null!=this.of)S(this.b.control_menu.unequipbtn,a)&&this.b.control_menu.unequipbtn.o(Q),S(this.b.control_menu.dropbtn,a)&&this.b.control_menu.dropbtn.o(Q);else{a=B.e.za.PA();for(var d in a)if(a[d]&&S(this.b.main_panel[a[d].subType],p.a(c.x,c.y+(1==this.b.main_panel[a[d].subType].Fe.y?
32:0))))return this.b.item_name.content.ba(a[d].name),this.b.item_name.u(!0),this.b.item_name.aa(this.b.item_name.content.g()),this.b.item_name.content.Cb(this.b.item_name.content.g().width/2),this.b.item_name.F(p.a(this.b.main_panel[a[d].subType].p.A-this.b.item_name.content.g().width/2+16,this.b.main_panel[a[d].subType].p.I)),!0}},Pb:function(){this._super();this.Ye()}});Inventory=null;
InventoryPanel=Popup.extend({of:null,Rf:function(){return"Inventory"},Sf:function(){for(var a={},c=0;5>c;c++)for(var d=0;8>d;d++)a[5*d+c+""]={size:p.size(32,32),position:p.a(40*c+8,40*(7-d)+40),to:!0,c:p.a(0,0),children:{stacklabelbg:{position:p.a(1,1),size:p.size(10,6),c:p.a(0,0),m:p.r(255,255,255,200),children:{stacklabel:{label:"",fontSize:10,color:p.k(0,0,0),c:p.a(0,0),position:p.a(0,0)}}}}};return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),m:p.r(255,255,255,200),size:p.size(208,
328),children:a},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(208,32),m:p.r(255,0,0,200),children:{header:{label:"Inventory",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(179,3),size:p.size(26,26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}},item_name:{position:p.a(0,0),m:p.r(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),
c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,0),m:p.r(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),m:p.r(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},usebtn:{position:p.a(0,24),size:p.size(96,24),c:p.a(0,0),m:p.r(200,200,200,200),children:{content:{label:"Use",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},Tr:function(a,
c){this.b.main_panel[a+""].stacklabelbg.u(!1);1<c&&(this.b.main_panel[a+""].stacklabelbg.u(!0),this.b.main_panel[a+""].stacklabelbg.stacklabel.ba(c),this.b.main_panel[a+""].stacklabelbg.aa(this.b.main_panel[a+""].stacklabelbg.stacklabel.g()))},Ye:function(){for(var a=B.e.za.kr(),c=0;40>c;c++)if(a[c]){for(var d in M)if(M[d].name==a[c].sprite.texture)var e=M[d].texture;this.b.main_panel[c+""].la(0,1);this.b.main_panel[c+""].$(e);this.b.main_panel[c+""].mb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,
32,32));this.Tr(c,a[c].amount)}else this.b.main_panel[c+""].$(null),this.Tr(c,0)},Pb:function(){this._super();this.Ye()},Hb:function(a){if(this._super(a))return!0;this.Yf=null;var c=a.X;a=this.b.main_panel.yb(c);c=this.b.control_menu.yb(c);if(null!=this.of)return p.vb(p.rect(this.b.control_menu.dropbtn.p.A,this.b.control_menu.dropbtn.p.I,this.b.control_menu.dropbtn.g().width,this.b.control_menu.dropbtn.g().height),c)?B.e.za.XF(this.of,"stored"):p.vb(p.rect(this.b.control_menu.usebtn.p.A,this.b.control_menu.usebtn.p.I,
this.b.control_menu.usebtn.g().width,this.b.control_menu.usebtn.g().height),c)&&B.e.za.OU(this.of),this.of=null,this.b.control_menu.u(!1),!0;this.of=null;this.b.control_menu.u(!1);for(c=0;40>c;c++)if(B.e.za.kr()[c]){var d=1==this.b.main_panel[c+""].Fe.y?32:0;if(S(this.b.main_panel[c+""],p.a(a.x,a.y+d))){this.b.control_menu.u(!0);switch(B.e.za.kr()[c].itemType){case "wearable":this.b.control_menu.usebtn.content.ba("Equip");break;case "resource":this.b.control_menu.usebtn.content.ba("Use");break;case "consumable":this.b.control_menu.usebtn.content.ba("Consume");
break;case "book":this.b.control_menu.usebtn.content.ba("Read")}this.b.control_menu.F(p.a(this.b.main_panel[c+""].p.A+28,this.b.main_panel[c+""].p.I-(0!=d?40:0)-8));this.of=c;return!0}}},xh:function(a){var c=this.b.control_menu.yb(a);a=this.b.main_panel.yb(a);this.b.control_menu.dropbtn.o(p.r(200,200,200,200));this.b.control_menu.usebtn.o(p.r(200,200,200,200));this.b.item_name.u(!1);if(null!=this.of)p.vb(p.rect(this.b.control_menu.dropbtn.p.A,this.b.control_menu.dropbtn.p.I,this.b.control_menu.dropbtn.g().width,
this.b.control_menu.dropbtn.g().height),c)?this.b.control_menu.dropbtn.o(p.r(255,0,0,255)):p.vb(p.rect(this.b.control_menu.usebtn.p.A,this.b.control_menu.usebtn.p.I,this.b.control_menu.usebtn.g().width,this.b.control_menu.usebtn.g().height),c)&&this.b.control_menu.usebtn.o(p.r(255,0,0,255));else for(c=0;40>c;c++)if(B.e.za.kr()[c]&&S(this.b.main_panel[c+""],p.a(a.x,a.y+(1==this.b.main_panel[c+""].Fe.y?32:0))))return this.b.item_name.content.ba(B.e.za.kr()[c].name),this.b.item_name.u(!0),this.b.item_name.aa(this.b.item_name.content.g()),
this.b.item_name.content.Cb(this.b.item_name.content.g().width/2),this.b.item_name.F(p.a(this.b.main_panel[c+""].p.A-this.b.item_name.content.g().width/2+16,this.b.main_panel[c+""].p.I)),!0}});Skills=null;
SkillsPanel=Popup.extend({Rf:function(){return"Equipment"},Sf:function(){for(var a={},c=ObjectLists.mo(),d=0;d<c.length;d++)a[d+""]={c:p.a(0,0),position:p.a(0,40*c.length-40*(d+1)+2),children:{icon:{position:p.a(4,2),to:!0,c:p.a(0,0)},name:{position:p.a(40,2),size:p.size(120,32),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:c[d].name,fontSize:16,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,16)}}},level:{position:p.a(164,2),size:p.size(86,32),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"Level",
fontSize:16,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(43,16)}}}}};return{panels:{position:p.a(100,300),children:{main_panel:{c:p.a(0,0),size:p.size(256,40*c.length),m:p.r(255,255,255,200),children:a},control_panel:{c:p.a(0,0),position:p.a(0,40*c.length),size:p.size(256,32),m:p.r(255,0,0,200),children:{header:{label:"Skills",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(226,3),size:p.size(26,26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,
0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}},item_name:{position:p.a(0,0),m:p.r(200,200,200,200),size:p.size(64,16),visible:!1,children:{content:{label:"",fontSize:14,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(32,8)}}},control_menu:{position:p.a(0,0),m:p.r(200,200,200,200),size:p.size(96,48),visible:!1,children:{dropbtn:{position:p.a(0,0),size:p.size(96,24),c:p.a(0,0),m:p.r(200,200,200,200),children:{content:{label:"Drop",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}},unequipbtn:{position:p.a(0,
24),size:p.size(96,24),c:p.a(0,0),m:p.r(200,200,200,200),children:{content:{label:"Unequip",fontSize:20,color:p.k(0,0,0),c:p.a(0,0.5),position:p.a(4,12)}}}}}}}}},Ye:function(){console.log("Updating tile grid");for(var a=ObjectLists.mo(),c=0;c<a.length;c++)this.b.main_panel[c+""].icon.$(null);for(c=0;c<a.length;c++)if(a[c]){for(var d in M)if(M[d].name==a[c].sprite.texture)var e=M[d].texture;this.b.main_panel[c+""].icon.$(e);this.b.main_panel[c+""].icon.mb(p.rect(32*a[c].sprite.position.x,32*a[c].sprite.position.y,
32,32))}},Pb:function(){this._super();this.Ye()}});
var ua=p.fc.extend({kv:[],OI:function(){var a=ObjectLists.mo(),c;for(c in this.kv)this.kv[c].T();this.kv=[];var d=0;for(c=a.length-1;0<=c;c--)if(null!=a[c].healthbar&&""!=a[c].healthbar){var e=this.XO(a[c].name,a[c].healthbar,d);this.t(e);this.kv.push(e);d++}this.F(p.a(0,640-32*d))},XO:function(a,c,d){var e=255;c=c.replace("#","");8==c.length&&(e=c.substr(6,8));e=p.Jb.create(p.r(parseInt(c.substring(0,2),16),parseInt(c.substring(2,4),16),parseInt(c.substring(4,6),16),parseInt(e,16)),300,22);e.F(4,
32*d-5);a=p.S.create(a,"Arial",16);a.F(4,11);a.la(p.a(0,0.5));e.t(a);return e}});SkillBarsInstance=null;ua.create=function(){null==SkillBarsInstance&&(SkillBarsInstance=new ua,SkillBarsInstance.OI());return SkillBarsInstance};ua.update=function(){SkillBarsInstance.OI()};Itemeditor=null;
ItemEditor=Popup.extend({tc:M[0].name,O:0,Sf:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),m:p.r(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),Ro:M[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),m:O,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),m:O,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),m:p.r(255,255,255,170),c:p.a(0,0),children:{text:{label:M[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),m:p.r(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.r(100,255,100,255)}}},tab2:{children:{itemdetailsback:{position:p.a(144,0),size:p.size(250,366),m:p.r(0,0,255,100),c:p.a(0,0)},name_text:{label:"Item Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},resourcetab:{visible:!1},consumabletab:{visible:!1},booktab:{visible:!1,children:{book_text:{label:"Book Contents",fontSize:10,
c:p.a(0,0),position:p.a(152,348)},book_entry:{size:p.size(240,340),position:p.a(-1E5,8)}}},wearabletab:{visible:!1,children:{head:{position:p.a(250,230),size:p.size(64,26),m:P,c:p.a(0,0),children:{text:{label:"Head",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},body:{position:p.a(250,200),size:p.size(64,26),m:P,c:p.a(0,0),children:{text:{label:"Body",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},legs:{position:p.a(250,170),size:p.size(64,26),m:P,c:p.a(0,0),
children:{text:{label:"Legs",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},feet:{position:p.a(250,140),size:p.size(64,26),m:P,c:p.a(0,0),children:{text:{label:"Feet",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},larm:{position:p.a(180,200),size:p.size(64,26),m:P,c:p.a(0,0),children:{text:{label:"L Arm",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},rarm:{position:p.a(320,200),size:p.size(64,26),m:P,c:p.a(0,0),children:{text:{label:"R Arm",
fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}},mod:{position:p.a(150,230),size:p.size(64,26),m:P,c:p.a(0,0),children:{text:{label:"Mod",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,13),color:p.k(0,0,0)}}}}},resourcebtn:{position:p.a(8,248),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Resource",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},consumablebtn:{position:p.a(8,218),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Consumable",fontSize:12,
c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},bookbtn:{position:p.a(8,188),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Book",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},wearablebtn:{position:p.a(8,158),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"wearable",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},tile:{c:p.a(0,1),position:p.a(55,130),Ro:M[0].name},stackbtn:{position:p.a(8,48),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"NOT STACKABLE",
fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),m:p.r(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),m:p.r(255,0,0,100),c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),m:p.r(0,0,0,170),c:p.a(0,0)}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),m:O,c:p.a(0,0),children:{text:{label:"Sprite",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,
376),size:p.size(60,20),m:O,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab3Clickable:{position:p.a(128,376),size:p.size(60,20),m:O,c:p.a(0,0),children:{text:{label:"Modifier",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},okbtn:{position:p.a(76,8),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,
32),m:O,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),m:p.r(255,0,0,200),children:{header:{label:"Item Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Rf:function(){return"itemEditor"},
Nc:null,ze:null,cc:0,Aa:null,data:null,s:function(a){this._super();this.data={itemType:"resource",subType:"",sprite:{texture:M[0].name,position:{x:0,y:0}},additionalData:{},stackable:!1,name:""};this.tc=M[0].name;this.O=0;this.ze=this.Nc=null;this.cc=0;this.Aa=null;this.ia=p.a(0,0);this.ze=[null,352,400,200];this.Aa=a.Aa;a&&a.data&&(this.data=a.data)},MB:function(a){H({saveitems:a+"",itemdata:this.data})},FA:function(a,c){H({saveitemswhole:c})},Pb:function(){this._super();this.b.main_panel.tab1.highlightnode.Z(0);
this.b.main_panel.tab1.selectednode.Z(127);for(var a in M)M[a].name==this.data.sprite.texture&&(this.O=a,this.tc=M[a].name);this.b.main_panel.tab1.textureName.text.ba(this.tc);this.b.main_panel.tab1.tiles.$(M[this.O].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.ia.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.ia.y++;a=p.a(32*(this.data.sprite.position.x-this.ia.x),32*(this.data.sprite.position.y-this.ia.y));this.b.main_panel.tab1.selectednode.F(this.b.main_panel.tab1.tiles.p.x+
a.x,this.b.main_panel.tab1.tiles.p.y-(a.y+32));this.b.main_panel.tab2.tile.$(M[this.O].texture);this.b.main_panel.tab2.tile.mb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Nc=new X(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.g().width,this.b.main_panel.tab2.name_entry.g().height),p.a(0,this.b.main_panel.tab2.name_entry.g().height),this.data.name?this.data.name:"",p.r(100,100,100),p.k(255,255,255));this.Nc.Zf(!0);
this.yA=new X(this.b.main_panel.tab2.booktab.book_entry,p.size(this.b.main_panel.tab2.booktab.book_entry.g().width,this.b.main_panel.tab2.booktab.book_entry.g().height),p.a(0,this.b.main_panel.tab2.booktab.book_entry.g().height),this.data.additionalData.Contents?this.data.additionalData.Contents:"",p.r(100,100,100),p.k(255,255,255),!0);this.yA.Zf(!0);this.yA.uT(!0);this.Be(this.data.itemType);""!=this.data.subType&&this.xj(this.data.subType);this.b.main_panel.tab2.stackbtn.o(Q);this.b.main_panel.tab2.stackbtn.text.ba("NOT STACKABLE");
!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.o(P),this.b.main_panel.tab2.stackbtn.text.ba("IS STACKABLE"));this.bg(1);this.Db()},eU:function(){},pc:function(a){if(this.Aa){var c=this.Aa;!0!=a&&this.Aa.Ch(function(){c.oj(null)})}},xh:function(a){if(1==this.cc&&(this.b.main_panel.tab1.highlightnode.Z(0),a=this.b.main_panel.tab1.tiles.yb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.g().width&&a.y<=this.b.main_panel.tab1.tiles.g().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+64,
this.b.main_panel.tab1.highlightnode.Z(127),this.b.main_panel.tab1.highlightnode.F(a),!0},bg:function(a){a!=this.cc&&(this.b.main_panel.aa(this.ze[a],this.b.main_panel.g().height),this.b.control_panel.aa(this.ze[a],this.b.control_panel.g().height),this.b.main_panel.tab2.name_entry.Cb(this.b.main_panel.tab2.name_entry.p.A-1E3),this.cc=a,this.b.main_panel.tab1.u(!1),this.b.main_panel.tab2.u(!1),this.b.main_panel.tab3.u(!1),this.b.main_panel.tab1Clickable.o(O),this.b.main_panel.tab2Clickable.o(O),this.b.main_panel.tab3Clickable.o(O),
this.b.main_panel["tab"+a].u(!0),this.b.main_panel["tab"+a+"Clickable"].o(p.r(255,255,0,255)),2==a&&(this.b.main_panel.tab2.name_entry.Cb(4),"book"==this.data.itemType?(this.b.main_panel.tab2.booktab.book_entry.Cb(150),this.b.main_panel.tab2.booktab.book_text.u(!0)):(this.b.main_panel.tab2.booktab.book_entry.Cb(-1E9),this.b.main_panel.tab2.booktab.book_text.u(!1))),this.b.control_panel.exitBtn.Cb(this.ze[a]-29))},Db:function(){this.we(this.Db);this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().bc&&
(this.Qg(this.Db),this.b.main_panel.tab1.tiles.mb(p.rect(Math.floor(32*this.ia.x),Math.floor(32*this.ia.y),320>M[this.O].texture.g().width?M[this.O].texture.g().width:320,256>M[this.O].texture.g().height?M[this.O].texture.g().height:256)))},Hb:function(a){if(this._super(a))return!0;this.Yf=null;a=a.X;var c=this.b.main_panel.yb(a);if(S(this.b.main_panel.tab1Clickable,c))return this.bg(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.bg(2),!0;if(S(this.b.main_panel.tab3Clickable,c))return this.bg(3),
!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.Nc.Ba()||""==this.Nc.Ba())return!0;this.Zl=!0;this.data.name=this.Nc.Ba();switch(this.data.itemType){case "book":this.data.additionalData={Contents:this.yA.Ba()}}this.Aa.oj(this.data);return!0}if(S(this.b.main_panel.cancelbtn,c)){this.Zl=!0;var d=this.Aa;this.Aa.Ch(function(){d.oj(null)});return!0}if(1==this.cc){if(S(this.b.main_panel.tab1.leftbtn,c))return 264<M[this.O].texture.g().width&&0<this.ia.x&&(this.ia.x--,this.Db()),!0;if(S(this.b.main_panel.tab1.rightbtn,
c))return 320<M[this.O].texture.g().width&&this.ia.x<(M[this.O].texture.g().width-320)/32&&(this.ia.x++,this.Db()),!0;if(S(this.b.main_panel.tab1.upbtn,c))return 320<M[this.O].texture.g().height&&0<this.ia.y&&(this.ia.y--,this.Db()),!0;if(S(this.b.main_panel.tab1.ldownbtn,c))return 320<M[this.O].texture.g().height&&this.ia.y<(M[this.O].texture.g().height-320)/32&&(this.ia.y++,this.Db()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.as(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,
c))return this.bs(),!0;c=this.b.main_panel.tab1.tiles.yb(a);if(S(this.b.main_panel.tab1.tiles,c)){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.Z(0);if(this.b.main_panel.tab1.selectednode.p.A!=c.x||this.b.main_panel.tab1.selectednode.p.I!=c.y)this.b.main_panel.tab1.selectednode.Z(127),this.b.main_panel.tab1.selectednode.F(c);a=p.a((this.b.main_panel.tab1.selectednode.p.A-16)/32+this.ia.x,8-(this.b.main_panel.tab1.selectednode.p.I-64)/32+this.ia.y-1);this.b.main_panel.tab2.tile.mb(p.rect(32*
a.x,32*a.y,32,32));this.data.sprite.position=a;return!0}}if(2==this.cc){if(S(this.b.main_panel.tab2.stackbtn,c))return this.CU(),!0;if(S(this.b.main_panel.tab2.resourcebtn,c))return this.Be("resource"),!0;if(S(this.b.main_panel.tab2.consumablebtn,c))return this.Be("consumable"),!0;if(S(this.b.main_panel.tab2.bookbtn,c))return this.Be("book"),!0;if(S(this.b.main_panel.tab2.wearablebtn,c))return this.Be("wearable"),this.xj("body"),!0;if(S(this.b.main_panel.tab2.wearabletab.body,c))return this.xj("body"),
!0;if(S(this.b.main_panel.tab2.wearabletab.head,c))return this.xj("head"),!0;if(S(this.b.main_panel.tab2.wearabletab.legs,c))return this.xj("legs"),!0;if(S(this.b.main_panel.tab2.wearabletab.feet,c))return this.xj("feet"),!0;if(S(this.b.main_panel.tab2.wearabletab.larm,c))return this.xj("larm"),!0;if(S(this.b.main_panel.tab2.wearabletab.rarm,c))return this.xj("rarm"),!0;if(S(this.b.main_panel.tab2.wearabletab.mod,c))return this.xj("mod"),!0}return!1},CU:function(){this.data.stackable=!this.data.stackable;
this.b.main_panel.tab2.stackbtn.o(Q);this.b.main_panel.tab2.stackbtn.text.ba("NOT STACKABLE");!0==this.data.stackable&&(this.b.main_panel.tab2.stackbtn.o(P),this.b.main_panel.tab2.stackbtn.text.ba("IS STACKABLE"))},Be:function(a){this.b.main_panel.tab2.booktab.book_entry.Cb(-1E7);this.b.main_panel.tab2.booktab.book_text.u(!1);this.b.main_panel.tab2.resourcebtn.o(O);this.b.main_panel.tab2.consumablebtn.o(O);this.b.main_panel.tab2.bookbtn.o(O);this.b.main_panel.tab2.wearablebtn.o(O);this.b.main_panel.tab2.resourcetab.u(!1);
this.b.main_panel.tab2.consumabletab.u(!1);this.b.main_panel.tab2.booktab.u(!1);this.b.main_panel.tab2.wearabletab.u(!1);switch(a){case "book":this.b.main_panel.tab2.booktab.book_entry.Cb(150),this.b.main_panel.tab2.booktab.book_text.u(!0)}this.data.itemType=a;this.b.main_panel.tab2[a+"btn"].o(P);this.b.main_panel.tab2[a+"tab"].u(!0)},xj:function(a){this.b.main_panel.tab2.wearabletab.head.o(O);this.b.main_panel.tab2.wearabletab.body.o(O);this.b.main_panel.tab2.wearabletab.legs.o(O);this.b.main_panel.tab2.wearabletab.feet.o(O);
this.b.main_panel.tab2.wearabletab.rarm.o(O);this.b.main_panel.tab2.wearabletab.larm.o(O);this.b.main_panel.tab2.wearabletab.mod.o(O);"wearable"==this.data.itemType&&this.b.main_panel.tab2.wearabletab[a]&&this.b.main_panel.tab2.wearabletab[a].o(Q);this.data.subType=a},as:function(){this.O>=M.length-1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.$(M[this.O].texture);this.b.main_panel.tab2.tile.$(M[this.O].texture);this.tc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.tc);this.data.sprite.texture=
this.tc;this.ia=p.a(0,0);this.Db()},bs:function(){0>=this.O&&(this.O=M.length);this.O--;this.b.main_panel.tab1.tiles.$(M[this.O].texture);this.b.main_panel.tab2.tile.$(M[this.O].texture);this.tc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.tc);this.ia=p.a(0,0);this.Db()}});Mapeditor=null;
MapEditor=Popup.extend({map:null,jd:"tiles",SG:null,rv:"ground1",tc:M[0].name,O:0,Sf:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,380),m:p.r(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,336),Ro:M[0].name},textureleftbtn:{position:p.a(360,344),size:p.size(16,32),m:O,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(472,344),
size:p.size(16,32),m:O,c:p.a(0,0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(376,344),size:p.size(96,32),m:p.r(255,255,255,170),c:p.a(0,0),children:{text:{label:M[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},deletebtn:{position:p.a(360,308),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"Erase",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,
16),size:p.size(16,320),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,16),size:p.size(16,320),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,336),size:p.size(320,16),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,
255,255)}}},downbtn:{position:p.a(16,0),size:p.size(320,16),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},fillbtn:{position:p.a(428,308),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"Fill",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},ground1btn:{position:p.a(360,278),size:p.size(128,26),m:P,c:p.a(0,0),children:{text:{label:"Ground 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,
0,0)}}},ground2btn:{position:p.a(360,248),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Ground 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},groundShadowbtn:{position:p.a(360,218),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Ground Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},mask1btn:{position:p.a(360,188),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Mask 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.k(0,0,0)}}},mask2btn:{position:p.a(360,158),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Mask 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},mask3btn:{position:p.a(360,128),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Mask 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringe1btn:{position:p.a(360,98),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Fringe 1",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,
0,0)}}},fringe2btn:{position:p.a(360,68),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Fringe 2",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringeShadowbtn:{position:p.a(360,38),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Fringe Shadow",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}},fringe3btn:{position:p.a(360,8),size:p.size(128,26),m:O,c:p.a(0,0),children:{text:{label:"Fringe 3",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),
color:p.k(0,0,0)}}},highlightnode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.r(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.r(100,255,100,255)}}},tab2:{children:{blockbtn:{position:p.a(8,320),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"Block",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},warpbtn:{position:p.a(8,280),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"Warp",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,
16),color:p.k(0,0,0)}}},itembtn:{position:p.a(8,240),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"Item",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},amountLabelHead:{visible:!1,label:"Item Amount",fontSize:12,c:p.a(0,0),position:p.a(100,342)},amountLabel:{size:p.size(60,32),position:p.a(98,-1E6)}}},tab3:{children:{saveBack:{position:p.a(0,78),size:p.size(200,60),m:p.r(0,255,0,100),c:p.a(0,0)},deleteback:{position:p.a(0,138),size:p.size(200,60),m:p.r(255,0,0,100),
c:p.a(0,0)},mapnumsback:{position:p.a(0,198),size:p.size(200,162),m:p.r(0,0,0,170),c:p.a(0,0)},mapUp_text:{label:"Map Up",fontSize:10,c:p.a(0.5,0),position:p.a(100,344)},mapUp_entry:{size:p.size(60,32),position:p.a(70,312)},mapDown_text:{label:"Map Down",fontSize:10,c:p.a(0.5,0),position:p.a(100,232)},mapDown_entry:{size:p.size(60,32),position:p.a(70,200)},mapLeft_text:{label:"Map Left",fontSize:10,c:p.a(0.5,0),position:p.a(38,290)},mapLeft_entry:{size:p.size(60,32),position:p.a(8,258)},mapRight_text:{label:"Map Right",
fontSize:10,c:p.a(0.5,0),position:p.a(162,290)},mapRight_entry:{size:p.size(60,32),position:p.a(132,258)},this_map:{position:p.a(70,248),size:p.size(60,60),m:O,c:p.a(0,0),children:{text:{label:"THIS MAP\n#"+F.e.Gd,fontSize:12,c:p.a(0.5,0.5),position:p.a(30,30),color:p.k(0,0,0)}}},clearbtn:{position:p.a(70,150),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"Clear",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},clear_text:{label:"Clear Map: You sure?",fontSize:14,c:p.a(0.5,
0),position:p.a(100,182)},clearbtnNo:{position:p.a(10,150),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},clearbtnYes:{position:p.a(130,150),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},savebtn:{position:p.a(70,90),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"Save",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,
0,0)}}},save_text:{label:"Save Map: You sure?",fontSize:14,c:p.a(0.5,0),position:p.a(100,122)},savebtnNo:{position:p.a(10,90),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"NO",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},savebtnYes:{position:p.a(130,90),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"YES",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,16),color:p.k(0,0,0)}}},saveOnExit:{position:p.a(40,30),size:p.size(120,32),m:O,c:p.a(0.5,0),children:{content:{label:"",
fontSize:14,c:p.a(0.5,0.5),position:p.a(60,15),color:p.k(0,0,0)}}}}},tab1Clickable:{position:p.a(0,360),size:p.size(60,20),m:O,c:p.a(0,0),children:{text:{label:"Editor",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,360),size:p.size(60,20),m:O,c:p.a(0,0),children:{text:{label:"Scripts",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab3Clickable:{position:p.a(128,360),size:p.size(60,20),m:O,c:p.a(0,0),children:{text:{label:"Settings",
fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,380),size:p.size(420,32),m:p.r(255,0,0,200),children:{header:{label:"Map Editor - Map #"+F.e.Gd,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Rf:function(){return"MapEditor"},ia:null,Br:null,yr:null,zr:null,Ar:null,
wr:null,ze:null,cc:0,Hw:null,s:function(a){this._super();this.map=a;this.ia=p.a(0,0);this.ze=[null,496,200,200]},Pb:function(){this._super();this.b.main_panel.tab1.highlightnode.Z(0);this.b.main_panel.tab1.selectednode.Z(0);this.Br=new X(this.b.main_panel.tab3.mapUp_entry,p.size(this.b.main_panel.tab3.mapUp_entry.g().width,this.b.main_panel.tab3.mapUp_entry.g().height),p.a(0,this.b.main_panel.tab3.mapUp_entry.g().height),F.AG()?F.e.ti:"",p.r(100,100,100),p.k(255,255,255));this.Br.Zf(!0);this.Br.Or(!0);
this.yr=new X(this.b.main_panel.tab3.mapDown_entry,p.size(this.b.main_panel.tab3.mapDown_entry.g().width,this.b.main_panel.tab3.mapDown_entry.g().height),p.a(0,this.b.main_panel.tab3.mapDown_entry.g().height),F.yG()?F.e.ri:"",p.r(100,100,100),p.k(255,255,255));this.yr.Zf(!0);this.yr.Or(!0);this.zr=new X(this.b.main_panel.tab3.mapLeft_entry,p.size(this.b.main_panel.tab3.mapLeft_entry.g().width,this.b.main_panel.tab3.mapLeft_entry.g().height),p.a(0,this.b.main_panel.tab3.mapLeft_entry.g().height),F.zG()?
F.e.si:"",p.r(100,100,100),p.k(255,255,255));this.zr.Zf(!0);this.zr.Or(!0);this.Ar=new X(this.b.main_panel.tab3.mapRight_entry,p.size(this.b.main_panel.tab3.mapRight_entry.g().width,this.b.main_panel.tab3.mapRight_entry.g().height),p.a(0,this.b.main_panel.tab3.mapRight_entry.g().height),F.YA()?F.e.uh:"",p.r(100,100,100),p.k(255,255,255));this.Ar.Zf(!0);this.Ar.Or(!0);this.wr=new X(this.b.main_panel.tab2.amountLabel,p.size(this.b.main_panel.tab2.amountLabel.g().width,this.b.main_panel.tab2.amountLabel.g().height),
p.a(0,this.b.main_panel.tab2.amountLabel.g().height),F.YA()?F.e.uh:"1",p.r(100,100,100),p.k(255,255,255));this.wr.Zf(!0);this.wr.Or(!0);this.ww(!1);this.xw(!1);this.hw=w.NP();this.iI(this.hw);this.bg(1);this.Db();F.lI(!0)},hU:function(a,c){Warpeditor&&(Warpeditor.pc(),this.Ch(function(){Warpeditor.T();Warpeditor=null}),this.Hw=a,this.$b(!0));Itemeditor&&(Itemeditor.pc(),this.Ch(function(){Itemeditor.T();Itemeditor=null}),this.Hw=a,this.$b(!0),this.wr.dc.Pg("1"),!0==c.stackable&&(this.b.main_panel.tab2.amountLabelHead.u(!0),
this.b.main_panel.tab2.amountLabel.F(98,308)))},pc:function(){!0==this.hw&&(F.aI({up:this.Br.Ba(),down:this.yr.Ba(),left:this.zr.Ba(),right:this.Ar.Ba()}),F.VI());F.lI(!1)},xh:function(a){if(1==this.cc&&(this.b.main_panel.tab1.highlightnode.Z(0),a=this.b.main_panel.tab1.tiles.yb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.g().width&&a.y<=this.b.main_panel.tab1.tiles.g().height))return a.x=a.x-a.x%32+16,a.y=a.y-a.y%32+16,this.b.main_panel.tab1.highlightnode.Z(127),this.b.main_panel.tab1.highlightnode.F(a),
!0},bg:function(a){if(a!=this.cc){this.b.main_panel.aa(this.ze[a],this.b.main_panel.g().height);this.b.control_panel.aa(this.ze[a],this.b.control_panel.g().height);if(3==this.cc||0==this.cc)this.b.main_panel.tab3.mapUp_entry.Cb(this.b.main_panel.tab3.mapUp_entry.p.A-1E3),this.b.main_panel.tab3.mapLeft_entry.Cb(this.b.main_panel.tab3.mapLeft_entry.p.A-1E3),this.b.main_panel.tab3.mapDown_entry.Cb(this.b.main_panel.tab3.mapDown_entry.p.A-1E3),this.b.main_panel.tab3.mapRight_entry.Cb(this.b.main_panel.tab3.mapRight_entry.p.A-
1E3);1!=this.cc||"erasing"!=this.jd&&"tiles"!=this.jd||(this.jd="blocking");2==this.cc&&"blocking"==this.jd&&(this.jd="tiles");this.cc=a;this.b.main_panel.tab1.u(!1);this.b.main_panel.tab2.u(!1);this.b.main_panel.tab3.u(!1);this.b.main_panel.tab1Clickable.o(O);this.b.main_panel.tab2Clickable.o(O);this.b.main_panel.tab3Clickable.o(O);this.b.main_panel["tab"+a].u(!0);this.b.main_panel["tab"+a+"Clickable"].o(p.r(255,255,0,255));3==a&&(this.b.main_panel.tab3.mapUp_entry.Cb(this.b.main_panel.tab3.mapUp_entry.p.A+
1E3),this.b.main_panel.tab3.mapLeft_entry.Cb(this.b.main_panel.tab3.mapLeft_entry.p.A+1E3),this.b.main_panel.tab3.mapDown_entry.Cb(this.b.main_panel.tab3.mapDown_entry.p.A+1E3),this.b.main_panel.tab3.mapRight_entry.Cb(this.b.main_panel.tab3.mapRight_entry.p.A+1E3));this.b.control_panel.exitBtn.Cb(this.ze[a]-29)}},iI:function(a){w.IT(a);this.hw=a;this.b.main_panel.tab3.saveOnExit.o(p.k(255,0,0));this.b.main_panel.tab3.saveOnExit.content.ba("Save on exit: NO");if("true"==a||!0==a)this.b.main_panel.tab3.saveOnExit.o(p.k(0,
255,0)),this.b.main_panel.tab3.saveOnExit.content.ba("Save on exit: YES")},Db:function(){this.we(this.Db);this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().bc&&(this.Qg(this.Db),this.b.main_panel.tab1.tiles.mb(p.rect(Math.floor(32*this.ia.x),Math.floor(32*this.ia.y),320>M[this.O].texture.g().width?M[this.O].texture.g().width:320,320>M[this.O].texture.g().height?M[this.O].texture.g().height:320)))},Hb:function(a){if(this._super(a))return!0;this.Yf=null;a=a.X;var c=this.b.main_panel.yb(a);
if(S(this.b.main_panel.tab1Clickable,c))return this.bg(1),!0;if(S(this.b.main_panel.tab2Clickable,c))return this.bg(2),!0;if(S(this.b.main_panel.tab3Clickable,c))return this.bg(3),!0;if(1==this.cc){if(S(this.b.main_panel.tab1.leftbtn,c))return 320<M[this.O].texture.g().width&&0<this.ia.x&&(this.ia.x--,this.Db()),!0;if(S(this.b.main_panel.tab1.rightbtn,c))return 320<M[this.O].texture.g().width&&this.ia.x<(M[this.O].texture.g().width-320)/32&&(this.ia.x++,this.Db()),!0;if(S(this.b.main_panel.tab1.upbtn,
c))return 320<M[this.O].texture.g().height&&0<this.ia.y&&(this.ia.y--,this.Db()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<M[this.O].texture.g().height&&this.ia.y<(M[this.O].texture.g().height-320)/32&&(this.ia.y++,this.Db()),!0;if(S(this.b.main_panel.tab1.ground1btn,c))return this.Be("ground1"),!0;if(S(this.b.main_panel.tab1.ground2btn,c))return this.Be("ground2"),!0;if(S(this.b.main_panel.tab1.groundShadowbtn,c))return this.Be("groundShadow"),!0;if(S(this.b.main_panel.tab1.mask1btn,c))return this.Be("mask1"),
!0;if(S(this.b.main_panel.tab1.mask2btn,c))return this.Be("mask2"),!0;if(S(this.b.main_panel.tab1.mask3btn,c))return this.Be("mask3"),!0;if(S(this.b.main_panel.tab1.fringe1btn,c))return this.Be("fringe1"),!0;if(S(this.b.main_panel.tab1.fringe2btn,c))return this.Be("fringe2"),!0;if(S(this.b.main_panel.tab1.fringeShadowbtn,c))return this.Be("fringeShadow"),!0;if(S(this.b.main_panel.tab1.fringe3btn,c))return this.Be("fringe3"),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.as(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,
c))return this.bs(),!0;if(S(this.b.main_panel.tab1.deletebtn,c))return this.jd="erasing"==this.jd?"tiles":"erasing",this.b.main_panel.tab1.deletebtn.o(O),"erasing"==this.jd&&this.b.main_panel.tab1.deletebtn.o(Q),!0;if(S(this.b.main_panel.tab1.fillbtn,c))return 0!=this.b.main_panel.tab1.selectednode.mi()&&(F.wP(M[this.O].name,p.a((this.b.main_panel.tab1.selectednode.p.A-16)/32+this.ia.x,9-(this.b.main_panel.tab1.selectednode.p.I-16)/32+this.ia.y),this.rv),F.$r()),!0;c=this.b.main_panel.tab1.tiles.yb(a);
if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.g().width&&c.y<=this.b.main_panel.tab1.tiles.g().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+16;this.b.main_panel.tab1.selectednode.Z(0);if(this.b.main_panel.tab1.selectednode.p.A!=c.x||this.b.main_panel.tab1.selectednode.p.I!=c.y)this.b.main_panel.tab1.selectednode.Z(127),this.b.main_panel.tab1.selectednode.F(c);return!0}}if(2==this.cc){if(S(this.b.main_panel.tab2.blockbtn,c))return this.b.main_panel.tab2.warpbtn.o(O),this.b.main_panel.tab2.itembtn.o(O),
this.b.main_panel.tab2.blockbtn.o(O),this.jd="blocking"==this.jd?"tiles":"blocking","blocking"==this.jd&&(this.b.main_panel.tab2.blockbtn.o(Q),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,-1E5)),!0;if(S(this.b.main_panel.tab2.warpbtn,c))return this.b.main_panel.tab2.warpbtn.o(O),this.b.main_panel.tab2.itembtn.o(O),this.b.main_panel.tab2.blockbtn.o(O),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,-1E6),this.jd="warping"==
this.jd?"tiles":"warping","warping"==this.jd&&(null==Warpeditor||Warpeditor.ga||(Warpeditor=null),Warpeditor&&(Warpeditor.pc(),Warpeditor.T(),Warpeditor=null),Warpeditor=new PopupList,Warpeditor.s({Aa:this,cr:new WarpEditor,list:ObjectLists.Xl(),name:"Warp List"}),Warpeditor.Pb(),this.ga.t(Warpeditor),this.$b(!1),this.b.main_panel.tab2.warpbtn.o(Q),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,-1E5)),!0;if(S(this.b.main_panel.tab2.itembtn,c))return this.b.main_panel.tab2.warpbtn.o(O),
this.b.main_panel.tab2.itembtn.o(O),this.b.main_panel.tab2.blockbtn.o(O),this.b.main_panel.tab2.amountLabelHead.u(!1),this.b.main_panel.tab2.amountLabel.F(68,-1E6),this.jd="items"==this.jd?"tiles":"items","items"==this.jd&&(null==Itemeditor||Itemeditor.ga||(Itemeditor=null),Itemeditor&&(Itemeditor.pc(),Itemeditor.T(),Itemeditor=null),Itemeditor=new PopupList,Itemeditor.s({Aa:this,cr:new ItemEditor,list:ObjectLists.li(),name:"Item List"}),Itemeditor.Pb(),this.ga.t(Itemeditor),this.$b(!1),this.b.main_panel.tab2.itembtn.o(Q)),
!0}if(3==this.cc){if(S(this.b.main_panel.tab3.clearbtn,c))return this.ww(!0),!0;if(S(this.b.main_panel.tab3.clearbtnNo,c))return this.ww(!1),!0;if(S(this.b.main_panel.tab3.clearbtnYes,c))return F.gd(),this.ww(!1),!0;if(S(this.b.main_panel.tab3.savebtn,c))return this.xw(!0),!0;if(S(this.b.main_panel.tab3.savebtnNo,c))return this.xw(!1),!0;if(S(this.b.main_panel.tab3.savebtnYes,c))return F.aI({up:this.Br.Ba(),down:this.yr.Ba(),left:this.zr.Ba(),right:this.Ar.Ba()}),F.VI(),this.xw(!1),!0;if(S(this.b.main_panel.tab3.saveOnExit,
c))return this.iI(!this.hw),!0}return!1},Be:function(a){this.b.main_panel.tab1.ground1btn.o(O);this.b.main_panel.tab1.ground2btn.o(O);this.b.main_panel.tab1.groundShadowbtn.o(O);this.b.main_panel.tab1.mask1btn.o(O);this.b.main_panel.tab1.mask2btn.o(O);this.b.main_panel.tab1.mask3btn.o(O);this.b.main_panel.tab1.fringe1btn.o(O);this.b.main_panel.tab1.fringe2btn.o(O);this.b.main_panel.tab1.fringeShadowbtn.o(O);this.b.main_panel.tab1.fringe3btn.o(O);this.b.main_panel.tab1[a+"btn"].o(P);this.rv=a},as:function(){this.O>=
M.length-1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.$(M[this.O].texture);this.tc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.tc);this.ia=p.a(0,0);this.Db()},bs:function(){0>=this.O&&(this.O=M.length);this.O--;this.b.main_panel.tab1.tiles.$(M[this.O].texture);this.tc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.tc);this.ia=p.a(0,0);this.Db()},ww:function(a){this.b.main_panel.tab3.clearbtnYes.u(a);this.b.main_panel.tab3.clearbtnNo.u(a);this.b.main_panel.tab3.clear_text.u(a);
this.b.main_panel.tab3.clearbtn.u(!a)},xw:function(a){this.b.main_panel.tab3.savebtnYes.u(a);this.b.main_panel.tab3.savebtnNo.u(a);this.b.main_panel.tab3.save_text.u(a);this.b.main_panel.tab3.savebtn.u(!a)},KI:function(a,c,d){if(a[c]==this.SG&&"moved"==d)return!1;this.SG=a[c];switch(this.jd){case "tiles":0!=this.b.main_panel.tab1.selectednode.mi()&&F.zj(c,M[this.O].name,p.a((this.b.main_panel.tab1.selectednode.p.A-16)/32+this.ia.x,9-(this.b.main_panel.tab1.selectednode.p.I-16)/32+this.ia.y),this.rv);
break;case "blocking":if(1!=a[c].oi()){F.Po(c,1);break}F.Po(c,0);break;case "warping":if(null==Warpeditor||!Warpeditor.ga){if(3!=a[c].oi()){F.Po(c,3,this.Hw);break}F.Po(c,0,null)}break;case "items":if(null==Itemeditor||!Itemeditor.ga){if(4!=a[c].oi()){F.Po(c,4,this.Hw,{amount:this.wr.Ba()});break}F.Po(c,0,null)}break;case "erasing":F.IA(c,this.rv)}}});Skillseditor=null;
SkillsEditor=Popup.extend({tc:M[0].name,O:0,Sf:function(){return{panels:{position:p.a(300,10),children:{main_panel:{c:p.a(0,0),position:p.a(0,0),size:p.size(420,396),m:p.r(0,0,100,120),children:{tab1:{children:{tiles:{c:p.a(0,1),position:p.a(16,320),Ro:M[0].name},textureleftbtn:{position:p.a(208,340),size:p.size(16,32),m:O,c:p.a(0,0),children:{text:{label:"\x3c\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},texturerightbtn:{position:p.a(320,340),size:p.size(16,32),m:O,c:p.a(0,
0),children:{text:{label:"\x3e\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,16),color:p.k(0,0,0)}}},textureName:{position:p.a(224,340),size:p.size(96,32),m:p.r(255,255,255,170),c:p.a(0,0),children:{text:{label:M[0].name,fontSize:12,c:p.a(0.5,0.5),position:p.a(48,16),color:p.k(0,0,0)}}},leftbtn:{position:p.a(0,64),size:p.size(16,252),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3c",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},rightbtn:{position:p.a(336,64),size:p.size(16,
252),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"\x3e",fontSize:12,c:p.a(0.5,0.5),position:p.a(8,160),color:p.k(255,255,255)}}},upbtn:{position:p.a(16,320),size:p.size(320,16),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"^",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},downbtn:{position:p.a(16,48),size:p.size(320,16),m:p.r(0,0,255,255),c:p.a(0,0),children:{text:{label:"v",fontSize:12,c:p.a(0.5,0.5),position:p.a(160,8),color:p.k(255,255,255)}}},highlightnode:{c:p.a(0,
0),position:p.a(0,0),size:p.size(32,32),m:p.r(255,100,100,255)},selectednode:{c:p.a(0,0),position:p.a(0,0),size:p.size(32,32),m:p.r(100,255,100,255)}}},tab2:{children:{name_text:{label:"Skill Name",fontSize:10,c:p.a(0,0),position:p.a(8,344)},name_entry:{size:p.size(136,32),position:p.a(4,312)},healthcolor_text:{label:"Healthbar Color",fontSize:10,c:p.a(0,0),position:p.a(8,250)},healthcolor_entry:{size:p.size(136,32),position:p.a(4,210)},tile:{c:p.a(0,1),position:p.a(55,150),Ro:M[0].name},healthbtn:{position:p.a(8,
265),size:p.size(128,26),m:Q,c:p.a(0,0),children:{text:{label:"NOT HEALTHBAR",fontSize:12,c:p.a(0.5,0.5),position:p.a(64,13),color:p.k(0,0,0)}}}}},tab1Clickable:{position:p.a(0,376),size:p.size(60,20),m:O,c:p.a(0,0),children:{text:{label:"Icon",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},tab2Clickable:{position:p.a(64,376),size:p.size(60,20),m:O,c:p.a(0,0),children:{text:{label:"Details",fontSize:12,c:p.a(0.5,0.5),position:p.a(32,10),color:p.k(0,0,0)}}},okbtn:{position:p.a(76,
8),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(8,8),size:p.size(60,32),m:O,c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,396),size:p.size(420,32),m:p.r(255,0,0,200),children:{header:{label:"Skill Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(391,3),size:p.size(26,
26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Rf:function(){return"SkillsEditor"},Nc:null,po:null,ze:null,cc:0,Aa:null,data:null,s:function(a){this._super();this.data={sprite:{texture:M[0].name,position:{x:0,y:0}},additionalData:{},healthbar:null,name:""};this.tc=M[0].name;this.O=0;this.ze=this.Nc=null;this.cc=0;this.Aa=null;this.ia=p.a(0,0);this.ze=[null,352,142];this.Aa=a.Aa;a&&a.data&&(this.data=a.data)},
MB:function(a){H({saveskills:a+"",skillsdata:this.data})},FA:function(a,c){H({saveskillswhole:c})},Pb:function(){this._super();this.b.main_panel.tab1.highlightnode.Z(0);this.b.main_panel.tab1.selectednode.Z(127);for(var a in M)M[a].name==this.data.sprite.texture&&(this.O=a,this.tc=M[a].name);this.b.main_panel.tab1.textureName.text.ba(this.tc);this.b.main_panel.tab1.tiles.$(M[this.O].texture);for(a=this.data.sprite.position.x;10<=a;)a--,this.ia.x++;for(a=this.data.sprite.position.y;8<=a;)a--,this.ia.y++;
a=p.a(32*(this.data.sprite.position.x-this.ia.x),32*(this.data.sprite.position.y-this.ia.y));this.b.main_panel.tab1.selectednode.F(this.b.main_panel.tab1.tiles.p.x+a.x,this.b.main_panel.tab1.tiles.p.y-(a.y+32));this.b.main_panel.tab2.tile.$(M[this.O].texture);this.b.main_panel.tab2.tile.mb(p.rect(Math.floor(32*this.data.sprite.position.x),Math.floor(32*this.data.sprite.position.y),32,32));this.Nc=new X(this.b.main_panel.tab2.name_entry,p.size(this.b.main_panel.tab2.name_entry.g().width,this.b.main_panel.tab2.name_entry.g().height),
p.a(0,this.b.main_panel.tab2.name_entry.g().height),this.data.name?this.data.name:"",p.r(100,100,100),p.k(255,255,255));this.Nc.Zf(!0);this.po=new X(this.b.main_panel.tab2.healthcolor_entry,p.size(this.b.main_panel.tab2.healthcolor_entry.g().width,this.b.main_panel.tab2.healthcolor_entry.g().height),p.a(0,this.b.main_panel.tab2.healthcolor_entry.g().height),this.data.healthbar?this.data.healthbar:"",p.r(100,100,100),p.k(255,255,255));this.po.Zf(!0);this.b.main_panel.tab2.healthbtn.o(Q);this.b.main_panel.tab2.healthbtn.text.ba("NOT HEALTHBAR");
null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.o(P),this.b.main_panel.tab2.healthbtn.text.ba("IS HEALTHBAR"));this.bg(1);this.Db()},eU:function(){},pc:function(a){if(this.Aa){var c=this.Aa;!0!=a&&this.Aa.Ch(function(){c.oj(null)})}},xh:function(a){if(1==this.cc&&(this.b.main_panel.tab1.highlightnode.Z(0),a=this.b.main_panel.tab1.tiles.yb(a),0<=a.x&&0<=a.y&&a.x<=this.b.main_panel.tab1.tiles.g().width&&a.y<=this.b.main_panel.tab1.tiles.g().height))return a.x=a.x-
a.x%32+16,a.y=a.y-a.y%32+64,this.b.main_panel.tab1.highlightnode.Z(127),this.b.main_panel.tab1.highlightnode.F(a),!0},bg:function(a){a!=this.cc&&(this.b.main_panel.aa(this.ze[a],this.b.main_panel.g().height),this.b.control_panel.aa(this.ze[a],this.b.control_panel.g().height),this.b.main_panel.tab2.name_entry.Cb(this.b.main_panel.tab2.name_entry.p.A-1E3),this.b.main_panel.tab2.healthcolor_entry.Cb(this.b.main_panel.tab2.healthcolor_entry.p.A-1E3),this.b.main_panel.tab2.healthcolor_text.u(!1),this.cc=
a,this.b.main_panel.tab1.u(!1),this.b.main_panel.tab2.u(!1),this.b.main_panel.tab1Clickable.o(O),this.b.main_panel.tab2Clickable.o(O),this.b.main_panel["tab"+a].u(!0),this.b.main_panel["tab"+a+"Clickable"].o(p.r(255,255,0,255)),this.b.control_panel.exitBtn.Cb(this.ze[a]-29));2==a&&(this.b.main_panel.tab2.name_entry.Cb(4),null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthcolor_entry.Cb(4),this.b.main_panel.tab2.healthcolor_text.u(!0)))},Db:function(){this.we(this.Db);
this.b.main_panel.tab1.tiles.Q()&&!0==this.b.main_panel.tab1.tiles.Q().bc&&(this.Qg(this.Db),this.b.main_panel.tab1.tiles.mb(p.rect(Math.floor(32*this.ia.x),Math.floor(32*this.ia.y),320>M[this.O].texture.g().width?M[this.O].texture.g().width:320,256>M[this.O].texture.g().height?M[this.O].texture.g().height:256)))},Hb:function(a){if(this._super(a))return!0;this.Yf=null;a=a.X;var c=this.b.main_panel.yb(a);if(S(this.b.main_panel.tab1Clickable,c))return this.bg(1),!0;if(S(this.b.main_panel.tab2Clickable,
c))return this.bg(2),!0;if(S(this.b.main_panel.okbtn,c)){if(null==this.Nc.Ba()||""==this.Nc.Ba())return!0;this.Zl=!0;this.data.name=this.Nc.Ba();if(null!=this.po.Ba()||""!=this.po.Ba())this.data.healthbar=this.po.Ba();this.Aa.oj(this.data);return!0}if(S(this.b.main_panel.cancelbtn,c)){this.Zl=!0;var d=this.Aa;this.Aa.Ch(function(){d.oj(null)});return!0}if(1==this.cc){if(S(this.b.main_panel.tab1.leftbtn,c))return 264<M[this.O].texture.g().width&&0<this.ia.x&&(this.ia.x--,this.Db()),!0;if(S(this.b.main_panel.tab1.rightbtn,
c))return 320<M[this.O].texture.g().width&&this.ia.x<(M[this.O].texture.g().width-320)/32&&(this.ia.x++,this.Db()),!0;if(S(this.b.main_panel.tab1.upbtn,c))return 320<M[this.O].texture.g().height&&0<this.ia.y&&(this.ia.y--,this.Db()),!0;if(S(this.b.main_panel.tab1.downbtn,c))return 320<M[this.O].texture.g().height&&this.ia.y<(M[this.O].texture.g().height-320)/32&&(this.ia.y++,this.Db()),!0;if(S(this.b.main_panel.tab1.texturerightbtn,c))return this.as(),!0;if(S(this.b.main_panel.tab1.textureleftbtn,
c))return this.bs(),!0;c=this.b.main_panel.tab1.tiles.yb(a);if(0<=c.x&&0<=c.y&&c.x<=this.b.main_panel.tab1.tiles.g().width&&c.y<=this.b.main_panel.tab1.tiles.g().height){c.x=c.x-c.x%32+16;c.y=c.y-c.y%32+64;this.b.main_panel.tab1.selectednode.Z(0);if(this.b.main_panel.tab1.selectednode.p.A!=c.x||this.b.main_panel.tab1.selectednode.p.I!=c.y)this.b.main_panel.tab1.selectednode.Z(127),this.b.main_panel.tab1.selectednode.F(c);a=p.a((this.b.main_panel.tab1.selectednode.p.A-16)/32+this.ia.x,8-(this.b.main_panel.tab1.selectednode.p.I-
64)/32+this.ia.y-1);this.b.main_panel.tab2.tile.mb(p.rect(32*a.x,32*a.y,32,32));this.data.sprite.position=a;console.log("TOUCHED");return!0}}return 2==this.cc&&S(this.b.main_panel.tab2.healthbtn,c)?(this.BU(),!0):!1},BU:function(){this.b.main_panel.tab2.healthcolor_entry.Cb(this.b.main_panel.tab2.healthcolor_entry.p.A-1E3);this.b.main_panel.tab2.healthcolor_text.u(!1);null!=this.data.healthbar&&""!=this.data.healthbar?(this.data.healthbar="",this.po.Pg("")):(this.data.healthbar="FF0000",this.b.main_panel.tab2.healthcolor_entry.Cb(4),
this.b.main_panel.tab2.healthcolor_text.u(!0));this.b.main_panel.tab2.healthbtn.o(Q);this.b.main_panel.tab2.healthbtn.text.ba("NOT HEALTHBAR");null!=this.data.healthbar&&""!=this.data.healthbar&&(this.b.main_panel.tab2.healthbtn.o(P),this.b.main_panel.tab2.healthbtn.text.ba("IS HEALTHBAR"))},as:function(){this.O>=M.length-1&&(this.O=-1);this.O++;this.b.main_panel.tab1.tiles.$(M[this.O].texture);this.b.main_panel.tab2.tile.$(M[this.O].texture);this.tc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.tc);
this.data.sprite.texture=this.tc;this.ia=p.a(0,0);this.Db()},bs:function(){0>=this.O&&(this.O=M.length);this.O--;this.b.main_panel.tab1.tiles.$(M[this.O].texture);this.b.main_panel.tab2.tile.$(M[this.O].texture);this.tc=M[this.O].name;this.b.main_panel.tab1.textureName.text.ba(this.tc);this.ia=p.a(0,0);this.Db()}});PopupList=Popup.extend({Cg:null,hd:[],oB:null,Ur:!1,gw:-1,pc:function(){this.Aa&&this.Aa.$b(!0)},s:function(a){this._super();this.Cg=null;this.hd=[];this.oB=null;this.Ur=!1;this.gw=-1;this.Cg=a.cr;a.list&&(this.hd=a.list);this.oB=a.name;this.Aa=a.Aa},Sf:function(){var a={},c;for(c in this.hd)null==this.hd[c]?this.hd.splice(c,1):(null!=this.Aa?(a["useElement"+c]={size:p.size(32,26),m:p.r(0,255,0,200),position:p.a(0,302-30*c),children:{content:{label:"Use",fontSize:20,c:p.a(0.5,0.5),position:p.a(16,
13)}}},a["element"+c]={size:p.size(116,26),m:p.r(140,140,140,200),position:p.a(32,302-30*c),children:{content:{label:this.hd[c].name,fontSize:20,c:p.a(0.5,0.5),position:p.a(58,13)}}}):a["element"+c]={size:p.size(148,26),m:p.r(140,140,140,200),position:p.a(0,302-30*c),children:{content:{label:this.hd[c].name,fontSize:20,c:p.a(0.5,0.5),position:p.a(79,13)}}},a["delElement"+c]={size:p.size(32,26),m:p.r(255,0,0,200),position:p.a(148,302-30*c),children:{content:{label:"Del",fontSize:20,c:p.a(0.5,0.5),
position:p.a(16,13)}}});return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,328),m:p.r(255,255,255,200),children:{list:{children:a},addButton:{size:p.size(90,26),m:p.r(140,140,140,200),position:p.a(45,302-30*this.hd.length),children:{content:{label:"+",fontSize:20,c:p.a(0.5,0.5),position:p.a(45,13)}}}}},control_panel:{c:p.a(0,0),position:p.a(0,328),size:p.size(180,32),m:p.r(255,0,0,200),children:{header:{label:this.oB,fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},
exitBtn:{position:p.a(151,3),size:p.size(26,26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,0.5),position:p.a(13,13)}}}}}}}}},Hb:function(a){if(this._super(a))return!0;this.Yf=null;a=this.b.main_panel.yb(a.X);if(!1==this.Ur){for(var c in this.hd){if(S(this.b.main_panel.list["element"+c],a))return this.Ur=!0,this.Cg.s({Aa:this,data:this.hd[c]}),this.ga.t(this.Cg),this.$b(!1),this.Cg.Pb(),this.gw=c+"",!0;if(S(this.b.main_panel.list["delElement"+
c],a))return this.cP(c),!0;if(this.Aa&&S(this.b.main_panel.list["useElement"+c],a))return this.Aa.hU(c,this.hd[c]),!0}if(S(this.b.main_panel.addButton,a))return this.Ur=this.DF=!0,this.gw=this.hd.length,this.Cg.s({Aa:this,data:null}),this.$b(!1),this.ga.t(this.Cg),this.Cg.Pb(),!0}},oj:function(a){a&&(this.Cg.MB(this.gw),this.DF&&(this.hd.push(a),this.b.T(),this.b=Ba(this),this.t(this.b)));this.$b(!0);this.Ur=this.DF=!1;var c=this;this.Ch(function(){c.Cg.pc(!0);c.Cg.T()})},cP:function(a){this.hd.splice(a,
1);this.Cg.FA(a,this.hd);this.b.T();this.b=Ba(this);this.t(this.b)}});Warpeditor=null;
WarpEditor=Popup.extend({Rf:function(){return"WarpEditor"},MB:function(a){H({savewarps:a+"",warpdata:this.data})},FA:function(a,c){H({savewarpswhole:c})},Sf:function(){return{panels:{position:p.a(300,200),children:{main_panel:{c:p.a(0,0),size:p.size(180,160),m:p.r(100,255,100,200),children:{okbtn:{position:p.a(100,16),size:p.size(60,32),m:p.r(255,255,255,255),c:p.a(0,0),children:{text:{label:"OK",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},cancelbtn:{position:p.a(20,16),size:p.size(60,
32),m:p.r(255,255,255,255),c:p.a(0,0),children:{text:{label:"Cancel",fontSize:12,c:p.a(0.5,0.5),position:p.a(30,16),color:p.k(0,0,0)}}},namelbl:{label:"Name of warp.",fontSize:12,c:p.a(0,0),position:p.a(20,140),color:p.k(0,0,0)},nameEntry:{position:p.a(16,110),size:p.size(120,30)},mapnumlbl:{label:"Map #",fontSize:12,c:p.a(0,0),position:p.a(20,90),color:p.k(0,0,0)},mapNumEntry:{position:p.a(16,60),size:p.size(40,30)},mapxlbl:{label:"x",fontSize:12,c:p.a(0,0),position:p.a(80,90),color:p.k(0,0,0)},
mapXEntry:{position:p.a(76,60),size:p.size(36,30)},mapylbl:{label:"y",fontSize:12,c:p.a(0,0),position:p.a(130,90),color:p.k(0,0,0)},mapYEntry:{position:p.a(126,60),size:p.size(36,30)}}},control_panel:{c:p.a(0,0),position:p.a(0,160),size:p.size(180,32),m:p.r(255,0,0,200),children:{header:{label:"Warp Editor",fontSize:20,c:p.a(0,0.5),position:p.a(8,16)},exitBtn:{position:p.a(151,3),size:p.size(26,26),c:p.a(0,0),m:p.r(255,255,255,200),children:{content:{label:"X",fontSize:20,color:p.k(0,0,0),c:p.a(0.5,
0.5),position:p.a(13,13)}}}}}}}}},Nc:null,yo:null,zo:null,Ao:null,Aa:null,data:null,s:function(a){this._super();this.Aa=this.Ao=this.zo=this.yo=this.Nc=null;this.data={mapTo:0,position:0,name:""};a.data&&(this.data=a.data);this.Aa=a.Aa},Pb:function(){this._super();var a=this.data.position%U,c=Math.floor(this.data.position/U);this.Nc=new X(this.b.main_panel.nameEntry,p.size(this.b.main_panel.nameEntry.g().width,this.b.main_panel.nameEntry.g().height),p.a(0,this.b.main_panel.nameEntry.g().height),this.data.name,
p.r(100,100,100),p.k(255,255,255));this.Nc.Zf(!0);this.yo=new X(this.b.main_panel.mapNumEntry,p.size(this.b.main_panel.mapNumEntry.g().width,this.b.main_panel.mapNumEntry.g().height),p.a(0,this.b.main_panel.mapNumEntry.g().height),""+this.data.mapTo,p.r(100,100,100),p.k(255,255,255));this.yo.Zf(!0);this.zo=new X(this.b.main_panel.mapXEntry,p.size(this.b.main_panel.mapXEntry.g().width,this.b.main_panel.mapXEntry.g().height),p.a(0,this.b.main_panel.mapXEntry.g().height),""+a,p.r(100,100,100),p.k(255,
255,255));this.zo.Zf(!0);this.Ao=new X(this.b.main_panel.mapYEntry,p.size(this.b.main_panel.mapYEntry.g().width,this.b.main_panel.mapYEntry.g().height),p.a(0,this.b.main_panel.mapYEntry.g().height),""+c,p.r(100,100,100),p.k(255,255,255));this.Ao.Zf(!0)},Hb:function(a){if(this._super(a))return!0;this.Yf=null;a=this.b.main_panel.yb(a.X);if(S(this.b.main_panel.okbtn,a)){if(null==this.Nc.Ba()||""==this.Nc.Ba()||null==this.yo.Ba()||""==this.yo.Ba()||null==this.zo.Ba()||""==this.zo.Ba()||null==this.Ao.Ba()||
""==this.Ao.Ba())return!0;this.Zl=!0;this.data.position=V(parseInt(this.zo.Ba()),Ha-parseInt(this.Ao.Ba()));this.data.mapTo=parseInt(this.yo.Ba());this.data.name=this.Nc.Ba();this.Aa.oj(this.data);return!0}if(S(this.b.main_panel.cancelbtn,a)){this.Zl=!0;var c=this.Aa;this.Aa.Ch(function(){c.oj(null)});return!0}},pc:function(a){var c=this.Aa;a||this.Aa.Ch(function(){c.oj(null)})}});Ja.extend({ctor:function(){this._super()},$I:function(){this._super()},Pb:function(){this._super()},pc:function(){this._super()},Hb:function(a){p.vb(this.b.health_panel.Ua(),a.X)&&x.d().Yl("Game")},s:function(){var a=p.S.create("ITS WOKKIN!","Arial",16);a.o(p.k(0,0,0));a.F(p.a(200,200));this.t(a);this._super()}});var Ka=new XMLHttpRequest;Ka.open("GET","news.txt",!1);Ka.send(null);var La=Ka.responseText;
Login=Ja.extend({PB:!1,ds:!1,s:function(a){this._super();x.Lr(this);this.Dr=new X(this.b.name_entry,p.size(this.b.name_entry.g().width,this.b.name_entry.g().height),p.a(0,this.b.name_entry.g().height),"Enter Name",p.r(100,100,100),p.k(255,255,255));a&&(a.XG&&(v=[],H({logout:!0})),this.wm(a.QB));this.we(this.hC)},Rv:function(a){switch(a){case "ENTER":!1==this.ds&&this.PB?(this.ds=!0,H({login:!0,username:this.Dr.Ba()})):this.sB("Server is offline!")}},wm:function(a){this.PB=a;!0==a?(this.b.server_activity.label.ba("Server: Online"),
this.b.server_activity.label.o(p.k(0,255,0))):(this.b.server_activity.label.ba("Server: Offline"),this.b.server_activity.label.o(p.k(255,0,0)))},hC:function(){if(0<v.length)for(var a=v.length-1;0<=a;a--)reactToSocketMessage(v[a]),v.splice(a,1)},Sf:function(){return{panels:{children:{name_entry:{size:p.size(300,30),position:p.a(325,300)},go_button:{position:p.a(420,220),size:p.size(120,40),m:p.r(0,0,0,255),children:{label:{label:"Play",fontSize:20,color:p.k(255,255,255),c:p.a(0.5,0.5),position:p.a(60,
20)}}},news_message:{label:La,fontSize:14,color:p.k(0,0,0),c:p.a(0,1),position:p.a(30,610)},server_message:{label:"",fontSize:16,color:p.k(127,0,0),c:p.a(0,0),position:p.a(327,325)},server_activity:{position:p.a(860,620),size:p.size(100,20),m:p.r(255,255,0,127),children:{label:{label:"Server: Offline",color:p.k(255,0,0),c:p.a(0.5,0.5),position:p.a(50,10)}}}}}}},Hb:function(a){if(null!=this.Dr.Ba()&&p.vb(p.rect(this.b.go_button.p.A,this.b.go_button.p.I,this.b.go_button.g().width,this.b.go_button.g().height),
a.X))return!1==this.ds&&this.PB?(this.ds=!0,H({login:!0,username:this.Dr.Ba()})):this.sB("Server is offline!"),!0},AR:function(){x.d().Yl("Game",{YI:this.Dr.Ba(),map:1})},sB:function(a){this.b.server_message.ba(a);this.ds=!1},Wc:function(){},ue:function(){},R4:function(){x.d().Yl("Game",{YI:this.Dr.Ba()})}});var Ma=Ja.extend({ctor:function(){this._super()},Sf:function(){return{panels:{children:{logout_button:{position:p.a(860,620),size:p.size(100,20),m:p.r(0,0,0,127),children:{Logout:{label:"Logout",color:p.k(255,255,255),position:p.a(50,10)}}}}}}},SP:function(){return{panels:{children:{chattoggle:{position:p.a(410,0),size:p.size(64,64),m:p.r(255,255,255,120),children:{label:{label:"Chat",color:p.k(0,0,0),position:p.a(32,32)}}},inventorytoggle:{position:p.a(484,0),size:p.size(64,64),m:p.r(255,255,255,
120),children:{label:{label:"Inventory",color:p.k(0,0,0),position:p.a(32,32)}}},equipmenttoggle:{position:p.a(558,0),size:p.size(64,64),m:p.r(255,255,255,120),children:{label:{label:"Equipment",color:p.k(0,0,0),position:p.a(32,32)}}},upbutton:{position:p.a(632,0),size:p.size(64,64),m:p.r(255,255,255,120),children:{label:{label:"Up",color:p.k(0,0,0),position:p.a(32,32)}}},downbutton:{position:p.a(706,0),size:p.size(64,64),m:p.r(255,255,255,120),children:{label:{label:"Down",color:p.k(0,0,0),position:p.a(32,
32)}}},leftbutton:{position:p.a(780,0),size:p.size(64,64),m:p.r(255,255,255,120),children:{label:{label:"Left",color:p.k(0,0,0),position:p.a(32,32)}}},rightbutton:{position:p.a(854,0),size:p.size(64,64),m:p.r(255,255,255,120),children:{label:{label:"Right",color:p.k(0,0,0),position:p.a(32,32)}}},hidebutton:{position:p.a(928,0),size:p.size(32,64),m:p.r(255,255,255,120),children:{label:{label:"\x3c\x3c",color:p.k(0,0,0),position:p.a(16,32)}}}}}}},wm:function(a){!1==a&&(this.HA(),x.d().Yl("Login",{QB:!1}))},
HA:function(){F.gd();F.Nr();B.gd();B.Nr();C.gd();C.Nr()},Hb:function(a){if(p.vb(p.rect(this.b.logout_button.p.A,this.b.logout_button.p.I,this.b.logout_button.g().width,this.b.logout_button.g().height),a.X))return this.HA(),x.d().Yl("Login",{XG:!0,QB:!0}),!0;x.Lr(this);if(this.Ra){if(p.vb(this.Ra.upbutton.Ua(),a.X)&&this.Ra.upbutton.ra)return K[38]=!0;if(p.vb(this.Ra.downbutton.Ua(),a.X)&&this.Ra.downbutton.ra)return K[40]=!0;if(p.vb(this.Ra.leftbutton.Ua(),a.X)&&this.Ra.leftbutton.ra)return K[37]=
!0;if(p.vb(this.Ra.rightbutton.Ua(),a.X)&&this.Ra.rightbutton.ra)return K[39]=!0;if(p.vb(this.Ra.chattoggle.Ua(),a.X)&&this.Ra.chattoggle.ra)return B.e.za.path=null,C.RG()?C.$A():C.show(),!0;if(p.vb(this.Ra.inventorytoggle.Ua(),a.X)&&this.Ra.inventorytoggle.ra)return B.e.za.path=null,null==Inventory||Inventory.ga||(Equipment=null),Inventory?(Inventory.pc(),Inventory.T(),Inventory=null):(Inventory=new InventoryPanel,Inventory.s(),Inventory.Pb(),this.t(Inventory)),!0;if(p.vb(this.Ra.equipmenttoggle.Ua(),
a.X)&&this.Ra.equipmenttoggle.ra)return B.e.za.path=null,null==Equipment||Equipment.ga||(Equipment=null),Equipment?(Equipment.pc(),Equipment.T(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.s(),Equipment.Pb(),this.t(Equipment)),!0;if(p.vb(this.Ra.hidebutton.Ua(),a.X)&&this.Ra.hidebutton.ra)return this.BI(!0==this.Ra.fR?!1:!0),K[37]=!1,K[38]=!1,K[39]=!1,K[34]=!1,!0}},ue:function(a){if(this.Ra){if(p.vb(this.Ra.upbutton.Ua(),a.X)&&this.Ra.upbutton.ra)return K[38]=!1,!0;if(p.vb(this.Ra.downbutton.Ua(),
a.X)&&this.Ra.downbutton.ra)return K[40]=!1,!0;if(p.vb(this.Ra.leftbutton.Ua(),a.X)&&this.Ra.leftbutton.ra)return K[37]=!1,!0;if(p.vb(this.Ra.rightbutton.Ua(),a.X)&&this.Ra.rightbutton.ra)return K[39]=!1,!0}},Rv:function(a){switch(a){case "C":C.RG()?C.$A():C.show();break;case "ENTER":C.lB()||C.RB(!0);break;case "SPACE":B.e.za.YQ();Inventory&&Inventory.Ye();break;case "ESC":this.HA();x.d().Yl("Login",{XG:!0,QB:!0});break;case "I":null==Inventory||Inventory.ga||(Inventory=null);Inventory?(Inventory.pc(),
Inventory.T(),Inventory=null):(Inventory=new InventoryPanel,Inventory.s(),Inventory.Pb(),this.t(Inventory));break;case "E":null==Equipment||Equipment.ga||(Equipment=null);Equipment?(Equipment.pc(),Equipment.T(),Equipment=null):(Equipment=new EquipmentPanel,Equipment.s(),Equipment.Pb(),this.t(Equipment));break;case "S":null==Skills||Skills.ga||(Skills=null),Skills?(Skills.pc(),Skills.T(),Skills=null):(Skills=new SkillsPanel,Skills.s(),Skills.Pb(),this.t(Skills))}},rB:function(a){var c=B.e.za.ji();
B.e.za.path=null;if(0==c.x%1&&0==c.y%1)switch(a){case "RIGHTARROW":B.e.za.fs(c.x+1,c.y);break;case "LEFTARROW":B.e.za.fs(c.x-1,c.y);break;case "UPARROW":B.e.za.fs(c.x,c.y+1);break;case "DOWNARROW":B.e.za.fs(c.x,c.y-1)}},BI:function(a){this.Ra&&(this.Ra.fR=a,this.Ra.upbutton.u(a),this.Ra.downbutton.u(a),this.Ra.leftbutton.u(a),this.Ra.rightbutton.u(a),this.Ra.chattoggle.u(a),this.Ra.inventorytoggle.u(a),this.Ra.equipmenttoggle.u(a),this.Ra.hidebutton.label.ba(!0==a?"\x3e\x3e":"\x3c\x3c"))},TS:function(a){if(a)switch(p.log(a),
a){case "/editmap":null==Mapeditor||Mapeditor.ga||(Mapeditor=null);Mapeditor?(Mapeditor.pc(),Mapeditor.T(),Mapeditor=null,F.VB(null)):(Mapeditor=new MapEditor,Mapeditor.s(),Mapeditor.Pb(),this.t(Mapeditor),F.VB(Mapeditor));break;case "/editwarp":null==Warpeditor||Warpeditor.ga||(Warpeditor=null);Warpeditor?(Warpeditor.pc(),Warpeditor.T(),Warpeditor=null):(Warpeditor=new PopupList,Warpeditor.s({Aa:null,cr:new WarpEditor,list:ObjectLists.Xl(),name:"Warp List"}),Warpeditor.Pb(),this.t(Warpeditor));break;
case "/editskills":null==Skillseditor||Skillseditor.ga||(Skillseditor=null);Skillseditor?(Skillseditor.pc(),Skillseditor.T(),Skillseditor=null):(Skillseditor=new PopupList,Skillseditor.s({Aa:null,cr:new SkillsEditor,list:ObjectLists.mo(),name:"Skills List"}),Skillseditor.Pb(),this.t(Skillseditor));break;case "/edititems":null==Itemeditor||Itemeditor.ga||(Itemeditor=null);Itemeditor?(Itemeditor.pc(),Itemeditor.T(),Itemeditor=null,F.VB(null)):(Itemeditor=new PopupList,Itemeditor.s({Aa:null,cr:new ItemEditor,
list:ObjectLists.li(),name:"Item List"}),Itemeditor.Pb(),this.t(Itemeditor));break;case "/help":C.showHelp();break;case "/commands":C.rU();break;case "/diceroll":a=Math.floor(6*Math.random()+1);a=B.e.za.getName()+" threw a dice and got "+a+".";C.Ob(a);H({diceroll:a});break;case "/coinflip":a=1==Math.floor(3*Math.random()+1)?"Heads":"Tails";a=B.e.za.getName()+" flipped a coin and got "+a+".";C.Ob(a);H({coinflip:a});break;case "/dance":a=B.e.za.getName()+" dances the dance of his people.";C.Ob(a);H({dance:a});
break;case "/afk":B.e.za.updateStatus("AFK"),H({afk:!0})}},s:function(a){this._super();this.t(F.create());ObjectLists.d();a={name:a.YI,so:!0,Qo:{health:{yc:1,value:100,Lg:200,Kg:900},mana:{yc:1,value:100,Lg:200,Kg:99}},map:1,Dw:"sprites1.png",Aw:1};B.create(a);F.mO();this.b.T();this.uw(-20);this.Ch(function(){F.d().Fk(a.map)});H({moveTo:B.e.za.ji().x+B.e.za.ji().y*U});this.t(C.create());this.t(ua.create());isMobile()&&(this.Ra=Ba(this.SP(),!0),this.t(this.Ra),this.BI(!1));this.t(this.b);this.we(this.hC)},
hC:function(){if(0<v.length)for(var a=0;a<v.length;a++){var c=JSON.parse(v[a]);c.moveTo&&(!B.qj(c.id)||B.qj(c.id)&&!1==B.qj(c.id).uj)?(reactToSocketMessage(JSON.stringify(c)),v.splice(a,1)):c.moveTo||(reactToSocketMessage(JSON.stringify(c)),v.splice(a,1))}}});var Na=p.oa.extend({dc:null,H_:!1,RB:function(a){a?this.dc.Ma.focus():this.dc.Ma.blur()},lB:function(){return document.activeElement==this.dc.Ma},ba:function(a){this.dc.Pg(a)},TA:function(){return this.dc.Ba()},s:function(){p.log("Ovveride inputbox init call if necessary")},ctor:function(a,c,d,e,f,g,h){this.dc=p.ap.create(p.size(c.width,c.height),p.De.create(),h);this.dc.Pg(e);this.dc.bP=e;this.dc.AT(p.k(g.i,g.h,g.f));this.dc.LH(p.k(f.i,f.h,f.f));this.dc.F(p.a(d.x,d.y));this.dc.la(0,1);this.dc.Og(this);
a.t(this.dc);this.s()}});var Oa=Na.extend({wv:function(a){a.Pg("")},xv:function(a,c){c||("/"==a.Ba().substring(0,1)?this.SS(a.Ba()):0<a.Ba().length&&C.Ob(a.Ba(),!0));a.Pg(I.Mc.NF)},SS:function(a){x.d().Lc.TS(a)},yv:function(a,c){a.Pg(c);p.log("chatBox "+this.fE(a)+", TextChanged, text: "+c)},fE:function(){return"chatbox"}}),Z=null,C=p.fc.extend({lj:null,s:function(){this.lj=new Oa(this.b.chat_panel,p.size(this.b.chat_panel.g().width-4,25),p.a(2,this.b.chat_panel.g().height-2),I.Mc.NF,p.k(255,255,255),p.k(0,0,0));this.lj.dc.ga.Lo(this.lj.dc.p.I+
59)},wF:function(a){for(var c=[],d=0;7>d;d++)c.push(this.b.chat_panel["label"+d].TA());this.b.chat_panel.label0.ba(a);for(d=1;8>d;d++)this.b.chat_panel["label"+d].ba(c[d-1])},Sf:function(){return{panels:{children:{chat_panel:{size:p.size(400,150),m:p.r(0,0,0,255),opacity:127,position:p.a(0,-200),children:{label7:{label:"",position:p.a(5,0),c:p.a(0,0)},label6:{label:"",position:p.a(5,15),c:p.a(0,0)},label5:{label:"",position:p.a(5,30),c:p.a(0,0)},label4:{label:"",position:p.a(5,45),c:p.a(0,0)},label3:{label:"",
position:p.a(5,60),c:p.a(0,0)},label2:{label:"",position:p.a(5,75),c:p.a(0,0)},label1:{label:"",position:p.a(5,90),c:p.a(0,0)},label0:{label:"",position:p.a(5,105),c:p.a(0,0)}}}}}}}});C.create=function(){Z||(Z=new C,Z.b=Ba(Z),Z.t(Z.b),Z.s(),C.$A(),C.sU());return Z};C.d=function(){return Z};C.Ob=function(a,c){c?(H({chatMessage:a}),Z.wF(B.e.za.getName()+": "+a)):Z.wF(a)};C.show=function(){Z.lj.dc.ga.Lo(0)};C.$A=function(){Z.lj.dc.ga.Lo(-Z.lj.dc.p.I+59)};C.RG=function(){return 0!=Z.lj.dc.ga.p.I?!1:!0};
C.RB=function(a){Z.lj.RB(a)};C.lB=function(){return Z.lj.lB()};C.showHelp=function(){C.Ob(I.Mc.DQ);C.Ob(I.Mc.EQ);C.Ob(I.Mc.FQ);C.Ob(I.Mc.GQ);C.Ob(I.Mc.HQ)};C.rU=function(){C.Ob(I.Mc.MO);C.Ob(I.Mc.NO);C.Ob(I.Mc.OO);C.Ob(I.Mc.PO)};C.sU=function(){C.Ob(I.Mc.ZQ)};C.gd=function(){Z.b.T();Z.b=null};C.Nr=function(){Z.T();Z=null};var X=Na.extend({pr:!1,bH:!1,PF:!1,wv:function(a){!1==this.PF&&a.Pg("")},xv:function(a){null==a.Ba()||""==a.Ba().length&&this.bH?this.pr=!0:0<!a.Ba().length?(a.Pg(this.dc.bP),this.pr=!1):this.pr=!0},yv:function(a,c){a.Pg(c);this.pr=!0},fE:function(){return"name_entry"},Ba:function(){return!0==this.pr||!0==this.aP?this.dc.Ba():null},Pg:function(a){this.dc.Pg(a)},Zf:function(a){this.aP=a},Or:function(a){this.bH=a},uT:function(a){this.PF=a},s:function(){}});var x=p.fc.extend({e:null,vA:null,Lc:null,iv:null,s:function(){var a=p.da.d().Cv();this.vA=p.Jb.create(p.r(255,255,255,255),parseInt(4*a.width),parseInt(4*a.height));this.vA.la(p.a(0,0));this.t(this.vA);this.Yl("Login",{});this.we(this.yO);this.WB(!0)},xh:function(a){a=a.X;this.iv.xh&&this.iv.xh(a)},yO:function(){for(var a in K)if(!0==K[a]&&null!=this.Lc){var c=null;a=parseInt(a);switch(a){case 8:c="BACKSPACE";break;case 9:c="TAB";break;case 13:c="ENTER";break;case 16:c="SHIFT";break;case 17:c="CTRL";
break;case 18:c="ALT";break;case 19:c="PAUSE";break;case 20:c="CAPSLOCK";break;case 27:c="ESC";break;case 32:c="SPACE";break;case 33:c="PAGEUP";break;case 34:c="PAGEDOWN";break;case 35:c="END";break;case 37:c="LEFTARROW";break;case 38:c="UPARROW";break;case 39:c="RIGHTARROW";break;case 40:c="DOWNARROW";break;case 45:c="INSERT";break;case 46:c="DELETE"}null==c&&(47<a&&58>a||64<a&&91>a)&&(c=String.fromCharCode(a));null!=c&&this.Lc.rB(c)}},Yl:function(a,c){null!=this.Lc&&(this.Lc.pc(),this.Lc.T(),this.Lc=
null);switch(a){case "Login":this.Lc=new Login;break;case "Game":this.Lc=new Ma}this.Lc.$I();this.t(this.Lc,1);this.Lc.DT(a);this.Lc.Pb();this.Lc.s(c)},t0:function(){return this.Lc.Rf()}});x.d=function(){null==this.e&&(this.e=new x);return this.e};x.Lr=function(a){null==this.e&&(this.e=new x);this.e.iv=a};x.O_=function(){null==this.e&&(this.e=new x);return this.e.iv};new (p.zi.extend({ov:document.ccConfig,ctor:function(){this._super();p.ls=this.ov.COCOS2D_DEBUG;p.JQ();p.Fk(this.ov.tag);p.Mw.qU().eP()},sO:function(){var a=this.ov,c=p.M.d();p.da.d().Cv();p.size(960,640);p.size(960,640);var d=p.ad.d();p.zi.d();d.jI(["res/Graphics"]);p.Sg&&p.Sg.d().p8("res/Audio");c.nT(1);c.Mr(1/a.frameRate);a.test?p.test(a.test):(p.log("++++++++++++++++entry for game++++++++++++"),p.pR(function(a){p.jx.BB(a,function(){document.getElementById("gameCanvas").setAttribute("tabindex",
"0");document.getElementById("gameCanvas").focus();var a=x.d();p.M.d().CH(a);a.s()})}));return!0}}));
//@ sourceMappingURL=sourcemap